var Q1=Object.defineProperty;var D0=es=>{throw TypeError(es)};var V1=(es,ki,Ri)=>ki in es?Q1(es,ki,{enumerable:!0,configurable:!0,writable:!0,value:Ri}):es[ki]=Ri;var Ho=(es,ki,Ri)=>V1(es,typeof ki!="symbol"?ki+"":ki,Ri),i0=(es,ki,Ri)=>ki.has(es)||D0("Cannot "+Ri);var jl=(es,ki,Ri)=>(i0(es,ki,"read from private field"),Ri?Ri.call(es):ki.get(es)),_c=(es,ki,Ri)=>ki.has(es)?D0("Cannot add the same private member more than once"):ki instanceof WeakSet?ki.add(es):ki.set(es,Ri),Xu=(es,ki,Ri,ts)=>(i0(es,ki,"write to private field"),ts?ts.call(es,Ri):ki.set(es,Ri),Ri),hc=(es,ki,Ri)=>(i0(es,ki,"access private method"),Ri);var sparkMd5$1={exports:{}};(function(es,ki){(function(Ri){es.exports=Ri()})(function(Ri){var ts=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function rs(ps,ms){var fs=ps[0],gs=ps[1],ws=ps[2],Ts=ps[3];fs+=(gs&ws|~gs&Ts)+ms[0]-680876936|0,fs=(fs<<7|fs>>>25)+gs|0,Ts+=(fs&gs|~fs&ws)+ms[1]-389564586|0,Ts=(Ts<<12|Ts>>>20)+fs|0,ws+=(Ts&fs|~Ts&gs)+ms[2]+606105819|0,ws=(ws<<17|ws>>>15)+Ts|0,gs+=(ws&Ts|~ws&fs)+ms[3]-1044525330|0,gs=(gs<<22|gs>>>10)+ws|0,fs+=(gs&ws|~gs&Ts)+ms[4]-176418897|0,fs=(fs<<7|fs>>>25)+gs|0,Ts+=(fs&gs|~fs&ws)+ms[5]+1200080426|0,Ts=(Ts<<12|Ts>>>20)+fs|0,ws+=(Ts&fs|~Ts&gs)+ms[6]-1473231341|0,ws=(ws<<17|ws>>>15)+Ts|0,gs+=(ws&Ts|~ws&fs)+ms[7]-45705983|0,gs=(gs<<22|gs>>>10)+ws|0,fs+=(gs&ws|~gs&Ts)+ms[8]+1770035416|0,fs=(fs<<7|fs>>>25)+gs|0,Ts+=(fs&gs|~fs&ws)+ms[9]-1958414417|0,Ts=(Ts<<12|Ts>>>20)+fs|0,ws+=(Ts&fs|~Ts&gs)+ms[10]-42063|0,ws=(ws<<17|ws>>>15)+Ts|0,gs+=(ws&Ts|~ws&fs)+ms[11]-1990404162|0,gs=(gs<<22|gs>>>10)+ws|0,fs+=(gs&ws|~gs&Ts)+ms[12]+1804603682|0,fs=(fs<<7|fs>>>25)+gs|0,Ts+=(fs&gs|~fs&ws)+ms[13]-40341101|0,Ts=(Ts<<12|Ts>>>20)+fs|0,ws+=(Ts&fs|~Ts&gs)+ms[14]-1502002290|0,ws=(ws<<17|ws>>>15)+Ts|0,gs+=(ws&Ts|~ws&fs)+ms[15]+1236535329|0,gs=(gs<<22|gs>>>10)+ws|0,fs+=(gs&Ts|ws&~Ts)+ms[1]-165796510|0,fs=(fs<<5|fs>>>27)+gs|0,Ts+=(fs&ws|gs&~ws)+ms[6]-1069501632|0,Ts=(Ts<<9|Ts>>>23)+fs|0,ws+=(Ts&gs|fs&~gs)+ms[11]+643717713|0,ws=(ws<<14|ws>>>18)+Ts|0,gs+=(ws&fs|Ts&~fs)+ms[0]-373897302|0,gs=(gs<<20|gs>>>12)+ws|0,fs+=(gs&Ts|ws&~Ts)+ms[5]-701558691|0,fs=(fs<<5|fs>>>27)+gs|0,Ts+=(fs&ws|gs&~ws)+ms[10]+38016083|0,Ts=(Ts<<9|Ts>>>23)+fs|0,ws+=(Ts&gs|fs&~gs)+ms[15]-660478335|0,ws=(ws<<14|ws>>>18)+Ts|0,gs+=(ws&fs|Ts&~fs)+ms[4]-405537848|0,gs=(gs<<20|gs>>>12)+ws|0,fs+=(gs&Ts|ws&~Ts)+ms[9]+568446438|0,fs=(fs<<5|fs>>>27)+gs|0,Ts+=(fs&ws|gs&~ws)+ms[14]-1019803690|0,Ts=(Ts<<9|Ts>>>23)+fs|0,ws+=(Ts&gs|fs&~gs)+ms[3]-187363961|0,ws=(ws<<14|ws>>>18)+Ts|0,gs+=(ws&fs|Ts&~fs)+ms[8]+1163531501|0,gs=(gs<<20|gs>>>12)+ws|0,fs+=(gs&Ts|ws&~Ts)+ms[13]-1444681467|0,fs=(fs<<5|fs>>>27)+gs|0,Ts+=(fs&ws|gs&~ws)+ms[2]-51403784|0,Ts=(Ts<<9|Ts>>>23)+fs|0,ws+=(Ts&gs|fs&~gs)+ms[7]+1735328473|0,ws=(ws<<14|ws>>>18)+Ts|0,gs+=(ws&fs|Ts&~fs)+ms[12]-1926607734|0,gs=(gs<<20|gs>>>12)+ws|0,fs+=(gs^ws^Ts)+ms[5]-378558|0,fs=(fs<<4|fs>>>28)+gs|0,Ts+=(fs^gs^ws)+ms[8]-2022574463|0,Ts=(Ts<<11|Ts>>>21)+fs|0,ws+=(Ts^fs^gs)+ms[11]+1839030562|0,ws=(ws<<16|ws>>>16)+Ts|0,gs+=(ws^Ts^fs)+ms[14]-35309556|0,gs=(gs<<23|gs>>>9)+ws|0,fs+=(gs^ws^Ts)+ms[1]-1530992060|0,fs=(fs<<4|fs>>>28)+gs|0,Ts+=(fs^gs^ws)+ms[4]+1272893353|0,Ts=(Ts<<11|Ts>>>21)+fs|0,ws+=(Ts^fs^gs)+ms[7]-155497632|0,ws=(ws<<16|ws>>>16)+Ts|0,gs+=(ws^Ts^fs)+ms[10]-1094730640|0,gs=(gs<<23|gs>>>9)+ws|0,fs+=(gs^ws^Ts)+ms[13]+681279174|0,fs=(fs<<4|fs>>>28)+gs|0,Ts+=(fs^gs^ws)+ms[0]-358537222|0,Ts=(Ts<<11|Ts>>>21)+fs|0,ws+=(Ts^fs^gs)+ms[3]-722521979|0,ws=(ws<<16|ws>>>16)+Ts|0,gs+=(ws^Ts^fs)+ms[6]+76029189|0,gs=(gs<<23|gs>>>9)+ws|0,fs+=(gs^ws^Ts)+ms[9]-640364487|0,fs=(fs<<4|fs>>>28)+gs|0,Ts+=(fs^gs^ws)+ms[12]-421815835|0,Ts=(Ts<<11|Ts>>>21)+fs|0,ws+=(Ts^fs^gs)+ms[15]+530742520|0,ws=(ws<<16|ws>>>16)+Ts|0,gs+=(ws^Ts^fs)+ms[2]-995338651|0,gs=(gs<<23|gs>>>9)+ws|0,fs+=(ws^(gs|~Ts))+ms[0]-198630844|0,fs=(fs<<6|fs>>>26)+gs|0,Ts+=(gs^(fs|~ws))+ms[7]+1126891415|0,Ts=(Ts<<10|Ts>>>22)+fs|0,ws+=(fs^(Ts|~gs))+ms[14]-1416354905|0,ws=(ws<<15|ws>>>17)+Ts|0,gs+=(Ts^(ws|~fs))+ms[5]-57434055|0,gs=(gs<<21|gs>>>11)+ws|0,fs+=(ws^(gs|~Ts))+ms[12]+1700485571|0,fs=(fs<<6|fs>>>26)+gs|0,Ts+=(gs^(fs|~ws))+ms[3]-1894986606|0,Ts=(Ts<<10|Ts>>>22)+fs|0,ws+=(fs^(Ts|~gs))+ms[10]-1051523|0,ws=(ws<<15|ws>>>17)+Ts|0,gs+=(Ts^(ws|~fs))+ms[1]-2054922799|0,gs=(gs<<21|gs>>>11)+ws|0,fs+=(ws^(gs|~Ts))+ms[8]+1873313359|0,fs=(fs<<6|fs>>>26)+gs|0,Ts+=(gs^(fs|~ws))+ms[15]-30611744|0,Ts=(Ts<<10|Ts>>>22)+fs|0,ws+=(fs^(Ts|~gs))+ms[6]-1560198380|0,ws=(ws<<15|ws>>>17)+Ts|0,gs+=(Ts^(ws|~fs))+ms[13]+1309151649|0,gs=(gs<<21|gs>>>11)+ws|0,fs+=(ws^(gs|~Ts))+ms[4]-145523070|0,fs=(fs<<6|fs>>>26)+gs|0,Ts+=(gs^(fs|~ws))+ms[11]-1120210379|0,Ts=(Ts<<10|Ts>>>22)+fs|0,ws+=(fs^(Ts|~gs))+ms[2]+718787259|0,ws=(ws<<15|ws>>>17)+Ts|0,gs+=(Ts^(ws|~fs))+ms[9]-343485551|0,gs=(gs<<21|gs>>>11)+ws|0,ps[0]=fs+ps[0]|0,ps[1]=gs+ps[1]|0,ps[2]=ws+ps[2]|0,ps[3]=Ts+ps[3]|0}function is(ps){var ms=[],fs;for(fs=0;fs<64;fs+=4)ms[fs>>2]=ps.charCodeAt(fs)+(ps.charCodeAt(fs+1)<<8)+(ps.charCodeAt(fs+2)<<16)+(ps.charCodeAt(fs+3)<<24);return ms}function ns(ps){var ms=[],fs;for(fs=0;fs<64;fs+=4)ms[fs>>2]=ps[fs]+(ps[fs+1]<<8)+(ps[fs+2]<<16)+(ps[fs+3]<<24);return ms}function ss(ps){var ms=ps.length,fs=[1732584193,-271733879,-1732584194,271733878],gs,ws,Ts,$s,Rs,Ps;for(gs=64;gs<=ms;gs+=64)rs(fs,is(ps.substring(gs-64,gs)));for(ps=ps.substring(gs-64),ws=ps.length,Ts=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],gs=0;gs<ws;gs+=1)Ts[gs>>2]|=ps.charCodeAt(gs)<<(gs%4<<3);if(Ts[gs>>2]|=128<<(gs%4<<3),gs>55)for(rs(fs,Ts),gs=0;gs<16;gs+=1)Ts[gs]=0;return $s=ms*8,$s=$s.toString(16).match(/(.*?)(.{0,8})$/),Rs=parseInt($s[2],16),Ps=parseInt($s[1],16)||0,Ts[14]=Rs,Ts[15]=Ps,rs(fs,Ts),fs}function os(ps){var ms=ps.length,fs=[1732584193,-271733879,-1732584194,271733878],gs,ws,Ts,$s,Rs,Ps;for(gs=64;gs<=ms;gs+=64)rs(fs,ns(ps.subarray(gs-64,gs)));for(ps=gs-64<ms?ps.subarray(gs-64):new Uint8Array(0),ws=ps.length,Ts=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],gs=0;gs<ws;gs+=1)Ts[gs>>2]|=ps[gs]<<(gs%4<<3);if(Ts[gs>>2]|=128<<(gs%4<<3),gs>55)for(rs(fs,Ts),gs=0;gs<16;gs+=1)Ts[gs]=0;return $s=ms*8,$s=$s.toString(16).match(/(.*?)(.{0,8})$/),Rs=parseInt($s[2],16),Ps=parseInt($s[1],16)||0,Ts[14]=Rs,Ts[15]=Ps,rs(fs,Ts),fs}function ls(ps){var ms="",fs;for(fs=0;fs<4;fs+=1)ms+=ts[ps>>fs*8+4&15]+ts[ps>>fs*8&15];return ms}function cs(ps){var ms;for(ms=0;ms<ps.length;ms+=1)ps[ms]=ls(ps[ms]);return ps.join("")}cs(ss("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function ps(ms,fs){return ms=ms|0||0,ms<0?Math.max(ms+fs,0):Math.min(ms,fs)}ArrayBuffer.prototype.slice=function(ms,fs){var gs=this.byteLength,ws=ps(ms,gs),Ts=gs,$s,Rs,Ps,Qs;return fs!==Ri&&(Ts=ps(fs,gs)),ws>Ts?new ArrayBuffer(0):($s=Ts-ws,Rs=new ArrayBuffer($s),Ps=new Uint8Array(Rs),Qs=new Uint8Array(this,ws,$s),Ps.set(Qs),Rs)}}();function hs(ps){return/[\u0080-\uFFFF]/.test(ps)&&(ps=unescape(encodeURIComponent(ps))),ps}function us(ps,ms){var fs=ps.length,gs=new ArrayBuffer(fs),ws=new Uint8Array(gs),Ts;for(Ts=0;Ts<fs;Ts+=1)ws[Ts]=ps.charCodeAt(Ts);return ms?ws:gs}function As(ps){return String.fromCharCode.apply(null,new Uint8Array(ps))}function bs(ps,ms,fs){var gs=new Uint8Array(ps.byteLength+ms.byteLength);return gs.set(new Uint8Array(ps)),gs.set(new Uint8Array(ms),ps.byteLength),gs}function ys(ps){var ms=[],fs=ps.length,gs;for(gs=0;gs<fs-1;gs+=2)ms.push(parseInt(ps.substr(gs,2),16));return String.fromCharCode.apply(String,ms)}function Cs(){this.reset()}return Cs.prototype.append=function(ps){return this.appendBinary(hs(ps)),this},Cs.prototype.appendBinary=function(ps){this._buff+=ps,this._length+=ps.length;var ms=this._buff.length,fs;for(fs=64;fs<=ms;fs+=64)rs(this._hash,is(this._buff.substring(fs-64,fs)));return this._buff=this._buff.substring(fs-64),this},Cs.prototype.end=function(ps){var ms=this._buff,fs=ms.length,gs,ws=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ts;for(gs=0;gs<fs;gs+=1)ws[gs>>2]|=ms.charCodeAt(gs)<<(gs%4<<3);return this._finish(ws,fs),Ts=cs(this._hash),ps&&(Ts=ys(Ts)),this.reset(),Ts},Cs.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},Cs.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},Cs.prototype.setState=function(ps){return this._buff=ps.buff,this._length=ps.length,this._hash=ps.hash,this},Cs.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},Cs.prototype._finish=function(ps,ms){var fs=ms,gs,ws,Ts;if(ps[fs>>2]|=128<<(fs%4<<3),fs>55)for(rs(this._hash,ps),fs=0;fs<16;fs+=1)ps[fs]=0;gs=this._length*8,gs=gs.toString(16).match(/(.*?)(.{0,8})$/),ws=parseInt(gs[2],16),Ts=parseInt(gs[1],16)||0,ps[14]=ws,ps[15]=Ts,rs(this._hash,ps)},Cs.hash=function(ps,ms){return Cs.hashBinary(hs(ps),ms)},Cs.hashBinary=function(ps,ms){var fs=ss(ps),gs=cs(fs);return ms?ys(gs):gs},Cs.ArrayBuffer=function(){this.reset()},Cs.ArrayBuffer.prototype.append=function(ps){var ms=bs(this._buff.buffer,ps),fs=ms.length,gs;for(this._length+=ps.byteLength,gs=64;gs<=fs;gs+=64)rs(this._hash,ns(ms.subarray(gs-64,gs)));return this._buff=gs-64<fs?new Uint8Array(ms.buffer.slice(gs-64)):new Uint8Array(0),this},Cs.ArrayBuffer.prototype.end=function(ps){var ms=this._buff,fs=ms.length,gs=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ws,Ts;for(ws=0;ws<fs;ws+=1)gs[ws>>2]|=ms[ws]<<(ws%4<<3);return this._finish(gs,fs),Ts=cs(this._hash),ps&&(Ts=ys(Ts)),this.reset(),Ts},Cs.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},Cs.ArrayBuffer.prototype.getState=function(){var ps=Cs.prototype.getState.call(this);return ps.buff=As(ps.buff),ps},Cs.ArrayBuffer.prototype.setState=function(ps){return ps.buff=us(ps.buff,!0),Cs.prototype.setState.call(this,ps)},Cs.ArrayBuffer.prototype.destroy=Cs.prototype.destroy,Cs.ArrayBuffer.prototype._finish=Cs.prototype._finish,Cs.ArrayBuffer.hash=function(ps,ms){var fs=os(new Uint8Array(ps)),gs=cs(fs);return ms?ys(gs):gs},Cs})})(sparkMd5$1);var SparkMD5$1=sparkMd5$1.exports;const fileSlice$1=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice;let FileChecksum$1=class M0{static create(ki,Ri){new M0(ki).create(Ri)}constructor(ki){this.file=ki,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}create(ki){this.callback=ki,this.md5Buffer=new SparkMD5$1.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",Ri=>this.fileReaderDidLoad(Ri)),this.fileReader.addEventListener("error",Ri=>this.fileReaderDidError(Ri)),this.readNextChunk()}fileReaderDidLoad(ki){if(this.md5Buffer.append(ki.target.result),!this.readNextChunk()){const Ri=this.md5Buffer.end(!0),ts=btoa(Ri);this.callback(null,ts)}}fileReaderDidError(ki){this.callback(`Error reading ${this.file.name}`)}readNextChunk(){if(this.chunkIndex<this.chunkCount||this.chunkIndex==0&&this.chunkCount==0){const ki=this.chunkIndex*this.chunkSize,Ri=Math.min(ki+this.chunkSize,this.file.size),ts=fileSlice$1.call(this.file,ki,Ri);return this.fileReader.readAsArrayBuffer(ts),this.chunkIndex++,!0}else return!1}};function getMetaValue$2(es){const ki=findElement$2(document.head,`meta[name="${es}"]`);if(ki)return ki.getAttribute("content")}function findElements$1(es,ki){typeof es=="string"&&(ki=es,es=document);const Ri=es.querySelectorAll(ki);return toArray$1(Ri)}function findElement$2(es,ki){return typeof es=="string"&&(ki=es,es=document),es.querySelector(ki)}function dispatchEvent$2(es,ki,Ri={}){const{disabled:ts}=es,{bubbles:rs,cancelable:is,detail:ns}=Ri,ss=document.createEvent("Event");ss.initEvent(ki,rs||!0,is||!0),ss.detail=ns||{};try{es.disabled=!1,es.dispatchEvent(ss)}finally{es.disabled=ts}return ss}function toArray$1(es){return Array.isArray(es)?es:Array.from?Array.from(es):[].slice.call(es)}let BlobRecord$1=class{constructor(ki,Ri,ts,rs={}){this.file=ki,this.attributes={filename:ki.name,content_type:ki.type||"application/octet-stream",byte_size:ki.size,checksum:Ri},this.xhr=new XMLHttpRequest,this.xhr.open("POST",ts,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(rs).forEach(ns=>{this.xhr.setRequestHeader(ns,rs[ns])});const is=getMetaValue$2("csrf-token");is!=null&&this.xhr.setRequestHeader("X-CSRF-Token",is),this.xhr.addEventListener("load",ns=>this.requestDidLoad(ns)),this.xhr.addEventListener("error",ns=>this.requestDidError(ns))}get status(){return this.xhr.status}get response(){const{responseType:ki,response:Ri}=this.xhr;return ki=="json"?Ri:JSON.parse(Ri)}create(ki){this.callback=ki,this.xhr.send(JSON.stringify({blob:this.attributes}))}requestDidLoad(ki){if(this.status>=200&&this.status<300){const{response:Ri}=this,{direct_upload:ts}=Ri;delete Ri.direct_upload,this.attributes=Ri,this.directUploadData=ts,this.callback(null,this.toJSON())}else this.requestDidError(ki)}requestDidError(ki){this.callback(`Error creating Blob for "${this.file.name}". Status: ${this.status}`)}toJSON(){const ki={};for(const Ri in this.attributes)ki[Ri]=this.attributes[Ri];return ki}},BlobUpload$1=class{constructor(ki){this.blob=ki,this.file=ki.file;const{url:Ri,headers:ts}=ki.directUploadData;this.xhr=new XMLHttpRequest,this.xhr.open("PUT",Ri,!0),this.xhr.responseType="text";for(const rs in ts)this.xhr.setRequestHeader(rs,ts[rs]);this.xhr.addEventListener("load",rs=>this.requestDidLoad(rs)),this.xhr.addEventListener("error",rs=>this.requestDidError(rs))}create(ki){this.callback=ki,this.xhr.send(this.file.slice())}requestDidLoad(ki){const{status:Ri,response:ts}=this.xhr;Ri>=200&&Ri<300?this.callback(null,ts):this.requestDidError(ki)}requestDidError(ki){this.callback(`Error storing "${this.file.name}". Status: ${this.xhr.status}`)}},id$1=0,DirectUpload$1=class{constructor(ki,Ri,ts,rs={}){this.id=++id$1,this.file=ki,this.url=Ri,this.delegate=ts,this.customHeaders=rs}create(ki){FileChecksum$1.create(this.file,(Ri,ts)=>{if(Ri){ki(Ri);return}const rs=new BlobRecord$1(this.file,ts,this.url,this.customHeaders);notify$1(this.delegate,"directUploadWillCreateBlobWithXHR",rs.xhr),rs.create(is=>{if(is)ki(is);else{const ns=new BlobUpload$1(rs);notify$1(this.delegate,"directUploadWillStoreFileWithXHR",ns.xhr),ns.create(ss=>{ss?ki(ss):ki(null,rs.toJSON())})}})})}};function notify$1(es,ki,...Ri){if(es&&typeof es[ki]=="function")return es[ki](...Ri)}let DirectUploadController$2=class{constructor(ki,Ri){this.input=ki,this.file=Ri,this.directUpload=new DirectUpload$1(this.file,this.url,this),this.dispatch("initialize")}start(ki){const Ri=document.createElement("input");Ri.type="hidden",Ri.name=this.input.name,this.input.insertAdjacentElement("beforebegin",Ri),this.dispatch("start"),this.directUpload.create((ts,rs)=>{ts?(Ri.parentNode.removeChild(Ri),this.dispatchError(ts)):Ri.value=rs.signed_id,this.dispatch("end"),ki(ts)})}uploadRequestDidProgress(ki){const Ri=ki.loaded/ki.total*100;Ri&&this.dispatch("progress",{progress:Ri})}get url(){return this.input.getAttribute("data-direct-upload-url")}dispatch(ki,Ri={}){return Ri.file=this.file,Ri.id=this.directUpload.id,dispatchEvent$2(this.input,`direct-upload:${ki}`,{detail:Ri})}dispatchError(ki){this.dispatch("error",{error:ki}).defaultPrevented||alert(ki)}directUploadWillCreateBlobWithXHR(ki){this.dispatch("before-blob-request",{xhr:ki})}directUploadWillStoreFileWithXHR(ki){this.dispatch("before-storage-request",{xhr:ki}),ki.upload.addEventListener("progress",Ri=>this.uploadRequestDidProgress(Ri))}};const inputSelector$1="input[type=file][data-direct-upload-url]:not([disabled])";let DirectUploadsController$1=class{constructor(ki){this.form=ki,this.inputs=findElements$1(ki,inputSelector$1).filter(Ri=>Ri.files.length)}start(ki){const Ri=this.createDirectUploadControllers(),ts=()=>{const rs=Ri.shift();rs?rs.start(is=>{is?(ki(is),this.dispatch("end")):ts()}):(ki(),this.dispatch("end"))};this.dispatch("start"),ts()}createDirectUploadControllers(){const ki=[];return this.inputs.forEach(Ri=>{toArray$1(Ri.files).forEach(ts=>{const rs=new DirectUploadController$2(Ri,ts);ki.push(rs)})}),ki}dispatch(ki,Ri={}){return dispatchEvent$2(this.form,`direct-uploads:${ki}`,{detail:Ri})}};const processingAttribute$1="data-direct-uploads-processing",submitButtonsByForm$1=new WeakMap;let started$1=!1;function start$4(){started$1||(started$1=!0,document.addEventListener("click",didClick$1,!0),document.addEventListener("submit",didSubmitForm$1,!0),document.addEventListener("ajax:before",didSubmitRemoteElement$1))}function didClick$1(es){const ki=es.target.closest("button, input");ki&&ki.type==="submit"&&ki.form&&submitButtonsByForm$1.set(ki.form,ki)}function didSubmitForm$1(es){handleFormSubmissionEvent$1(es)}function didSubmitRemoteElement$1(es){es.target.tagName=="FORM"&&handleFormSubmissionEvent$1(es)}function handleFormSubmissionEvent$1(es){const ki=es.target;if(ki.hasAttribute(processingAttribute$1)){es.preventDefault();return}const Ri=new DirectUploadsController$1(ki),{inputs:ts}=Ri;ts.length&&(es.preventDefault(),ki.setAttribute(processingAttribute$1,""),ts.forEach(disable$1),Ri.start(rs=>{ki.removeAttribute(processingAttribute$1),rs?ts.forEach(enable$1):submitForm$1(ki)}))}function submitForm$1(es){let ki=submitButtonsByForm$1.get(es)||findElement$2(es,"input[type=submit], button[type=submit]");if(ki){const{disabled:Ri}=ki;ki.disabled=!1,ki.focus(),ki.click(),ki.disabled=Ri}else ki=document.createElement("input"),ki.type="submit",ki.style.display="none",es.appendChild(ki),ki.click(),es.removeChild(ki);submitButtonsByForm$1.delete(es)}function disable$1(es){es.disabled=!0}function enable$1(es){es.disabled=!1}function autostart$1(){window.ActiveStorage&&start$4()}setTimeout(autostart$1,1);var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start$3="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(es,ki){return es.concat([ki+"-"+start$3,ki+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(es,ki){return es.concat([ki,ki+"-"+start$3,ki+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(es){return es?(es.nodeName||"").toLowerCase():null}function getWindow(es){if(es==null)return window;if(es.toString()!=="[object Window]"){var ki=es.ownerDocument;return ki&&ki.defaultView||window}return es}function isElement$1(es){var ki=getWindow(es).Element;return es instanceof ki||es instanceof Element}function isHTMLElement(es){var ki=getWindow(es).HTMLElement;return es instanceof ki||es instanceof HTMLElement}function isShadowRoot(es){if(typeof ShadowRoot>"u")return!1;var ki=getWindow(es).ShadowRoot;return es instanceof ki||es instanceof ShadowRoot}function applyStyles(es){var ki=es.state;Object.keys(ki.elements).forEach(function(Ri){var ts=ki.styles[Ri]||{},rs=ki.attributes[Ri]||{},is=ki.elements[Ri];!isHTMLElement(is)||!getNodeName(is)||(Object.assign(is.style,ts),Object.keys(rs).forEach(function(ns){var ss=rs[ns];ss===!1?is.removeAttribute(ns):is.setAttribute(ns,ss===!0?"":ss)}))})}function effect$3(es){var ki=es.state,Ri={popper:{position:ki.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(ki.elements.popper.style,Ri.popper),ki.styles=Ri,ki.elements.arrow&&Object.assign(ki.elements.arrow.style,Ri.arrow),function(){Object.keys(ki.elements).forEach(function(ts){var rs=ki.elements[ts],is=ki.attributes[ts]||{},ns=Object.keys(ki.styles.hasOwnProperty(ts)?ki.styles[ts]:Ri[ts]),ss=ns.reduce(function(os,ls){return os[ls]="",os},{});!isHTMLElement(rs)||!getNodeName(rs)||(Object.assign(rs.style,ss),Object.keys(is).forEach(function(os){rs.removeAttribute(os)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$3,requires:["computeStyles"]};function getBasePlacement(es){return es.split("-")[0]}var max$1=Math.max,min=Math.min,round=Math.round;function getUAString(){var es=navigator.userAgentData;return es!=null&&es.brands&&Array.isArray(es.brands)?es.brands.map(function(ki){return ki.brand+"/"+ki.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(es,ki,Ri){ki===void 0&&(ki=!1),Ri===void 0&&(Ri=!1);var ts=es.getBoundingClientRect(),rs=1,is=1;ki&&isHTMLElement(es)&&(rs=es.offsetWidth>0&&round(ts.width)/es.offsetWidth||1,is=es.offsetHeight>0&&round(ts.height)/es.offsetHeight||1);var ns=isElement$1(es)?getWindow(es):window,ss=ns.visualViewport,os=!isLayoutViewport()&&Ri,ls=(ts.left+(os&&ss?ss.offsetLeft:0))/rs,cs=(ts.top+(os&&ss?ss.offsetTop:0))/is,hs=ts.width/rs,us=ts.height/is;return{width:hs,height:us,top:cs,right:ls+hs,bottom:cs+us,left:ls,x:ls,y:cs}}function getLayoutRect(es){var ki=getBoundingClientRect(es),Ri=es.offsetWidth,ts=es.offsetHeight;return Math.abs(ki.width-Ri)<=1&&(Ri=ki.width),Math.abs(ki.height-ts)<=1&&(ts=ki.height),{x:es.offsetLeft,y:es.offsetTop,width:Ri,height:ts}}function contains(es,ki){var Ri=ki.getRootNode&&ki.getRootNode();if(es.contains(ki))return!0;if(Ri&&isShadowRoot(Ri)){var ts=ki;do{if(ts&&es.isSameNode(ts))return!0;ts=ts.parentNode||ts.host}while(ts)}return!1}function getComputedStyle$1(es){return getWindow(es).getComputedStyle(es)}function isTableElement(es){return["table","td","th"].indexOf(getNodeName(es))>=0}function getDocumentElement(es){return((isElement$1(es)?es.ownerDocument:es.document)||window.document).documentElement}function getParentNode(es){return getNodeName(es)==="html"?es:es.assignedSlot||es.parentNode||(isShadowRoot(es)?es.host:null)||getDocumentElement(es)}function getTrueOffsetParent(es){return!isHTMLElement(es)||getComputedStyle$1(es).position==="fixed"?null:es.offsetParent}function getContainingBlock(es){var ki=/firefox/i.test(getUAString()),Ri=/Trident/i.test(getUAString());if(Ri&&isHTMLElement(es)){var ts=getComputedStyle$1(es);if(ts.position==="fixed")return null}var rs=getParentNode(es);for(isShadowRoot(rs)&&(rs=rs.host);isHTMLElement(rs)&&["html","body"].indexOf(getNodeName(rs))<0;){var is=getComputedStyle$1(rs);if(is.transform!=="none"||is.perspective!=="none"||is.contain==="paint"||["transform","perspective"].indexOf(is.willChange)!==-1||ki&&is.willChange==="filter"||ki&&is.filter&&is.filter!=="none")return rs;rs=rs.parentNode}return null}function getOffsetParent(es){for(var ki=getWindow(es),Ri=getTrueOffsetParent(es);Ri&&isTableElement(Ri)&&getComputedStyle$1(Ri).position==="static";)Ri=getTrueOffsetParent(Ri);return Ri&&(getNodeName(Ri)==="html"||getNodeName(Ri)==="body"&&getComputedStyle$1(Ri).position==="static")?ki:Ri||getContainingBlock(es)||ki}function getMainAxisFromPlacement(es){return["top","bottom"].indexOf(es)>=0?"x":"y"}function within(es,ki,Ri){return max$1(es,min(ki,Ri))}function withinMaxClamp(es,ki,Ri){var ts=within(es,ki,Ri);return ts>Ri?Ri:ts}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(es){return Object.assign({},getFreshSideObject(),es)}function expandToHashMap(es,ki){return ki.reduce(function(Ri,ts){return Ri[ts]=es,Ri},{})}var toPaddingObject=function(ki,Ri){return ki=typeof ki=="function"?ki(Object.assign({},Ri.rects,{placement:Ri.placement})):ki,mergePaddingObject(typeof ki!="number"?ki:expandToHashMap(ki,basePlacements))};function arrow(es){var ki,Ri=es.state,ts=es.name,rs=es.options,is=Ri.elements.arrow,ns=Ri.modifiersData.popperOffsets,ss=getBasePlacement(Ri.placement),os=getMainAxisFromPlacement(ss),ls=[left,right].indexOf(ss)>=0,cs=ls?"height":"width";if(!(!is||!ns)){var hs=toPaddingObject(rs.padding,Ri),us=getLayoutRect(is),As=os==="y"?top:left,bs=os==="y"?bottom:right,ys=Ri.rects.reference[cs]+Ri.rects.reference[os]-ns[os]-Ri.rects.popper[cs],Cs=ns[os]-Ri.rects.reference[os],ps=getOffsetParent(is),ms=ps?os==="y"?ps.clientHeight||0:ps.clientWidth||0:0,fs=ys/2-Cs/2,gs=hs[As],ws=ms-us[cs]-hs[bs],Ts=ms/2-us[cs]/2+fs,$s=within(gs,Ts,ws),Rs=os;Ri.modifiersData[ts]=(ki={},ki[Rs]=$s,ki.centerOffset=$s-Ts,ki)}}function effect$2(es){var ki=es.state,Ri=es.options,ts=Ri.element,rs=ts===void 0?"[data-popper-arrow]":ts;rs!=null&&(typeof rs=="string"&&(rs=ki.elements.popper.querySelector(rs),!rs)||contains(ki.elements.popper,rs)&&(ki.elements.arrow=rs))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$2,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(es){return es.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(es,ki){var Ri=es.x,ts=es.y,rs=ki.devicePixelRatio||1;return{x:round(Ri*rs)/rs||0,y:round(ts*rs)/rs||0}}function mapToStyles(es){var ki,Ri=es.popper,ts=es.popperRect,rs=es.placement,is=es.variation,ns=es.offsets,ss=es.position,os=es.gpuAcceleration,ls=es.adaptive,cs=es.roundOffsets,hs=es.isFixed,us=ns.x,As=us===void 0?0:us,bs=ns.y,ys=bs===void 0?0:bs,Cs=typeof cs=="function"?cs({x:As,y:ys}):{x:As,y:ys};As=Cs.x,ys=Cs.y;var ps=ns.hasOwnProperty("x"),ms=ns.hasOwnProperty("y"),fs=left,gs=top,ws=window;if(ls){var Ts=getOffsetParent(Ri),$s="clientHeight",Rs="clientWidth";if(Ts===getWindow(Ri)&&(Ts=getDocumentElement(Ri),getComputedStyle$1(Ts).position!=="static"&&ss==="absolute"&&($s="scrollHeight",Rs="scrollWidth")),Ts=Ts,rs===top||(rs===left||rs===right)&&is===end){gs=bottom;var Ps=hs&&Ts===ws&&ws.visualViewport?ws.visualViewport.height:Ts[$s];ys-=Ps-ts.height,ys*=os?1:-1}if(rs===left||(rs===top||rs===bottom)&&is===end){fs=right;var Qs=hs&&Ts===ws&&ws.visualViewport?ws.visualViewport.width:Ts[Rs];As-=Qs-ts.width,As*=os?1:-1}}var Fs=Object.assign({position:ss},ls&&unsetSides),Is=cs===!0?roundOffsetsByDPR({x:As,y:ys},getWindow(Ri)):{x:As,y:ys};if(As=Is.x,ys=Is.y,os){var Ms;return Object.assign({},Fs,(Ms={},Ms[gs]=ms?"0":"",Ms[fs]=ps?"0":"",Ms.transform=(ws.devicePixelRatio||1)<=1?"translate("+As+"px, "+ys+"px)":"translate3d("+As+"px, "+ys+"px, 0)",Ms))}return Object.assign({},Fs,(ki={},ki[gs]=ms?ys+"px":"",ki[fs]=ps?As+"px":"",ki.transform="",ki))}function computeStyles(es){var ki=es.state,Ri=es.options,ts=Ri.gpuAcceleration,rs=ts===void 0?!0:ts,is=Ri.adaptive,ns=is===void 0?!0:is,ss=Ri.roundOffsets,os=ss===void 0?!0:ss,ls={placement:getBasePlacement(ki.placement),variation:getVariation(ki.placement),popper:ki.elements.popper,popperRect:ki.rects.popper,gpuAcceleration:rs,isFixed:ki.options.strategy==="fixed"};ki.modifiersData.popperOffsets!=null&&(ki.styles.popper=Object.assign({},ki.styles.popper,mapToStyles(Object.assign({},ls,{offsets:ki.modifiersData.popperOffsets,position:ki.options.strategy,adaptive:ns,roundOffsets:os})))),ki.modifiersData.arrow!=null&&(ki.styles.arrow=Object.assign({},ki.styles.arrow,mapToStyles(Object.assign({},ls,{offsets:ki.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:os})))),ki.attributes.popper=Object.assign({},ki.attributes.popper,{"data-popper-placement":ki.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect$1(es){var ki=es.state,Ri=es.instance,ts=es.options,rs=ts.scroll,is=rs===void 0?!0:rs,ns=ts.resize,ss=ns===void 0?!0:ns,os=getWindow(ki.elements.popper),ls=[].concat(ki.scrollParents.reference,ki.scrollParents.popper);return is&&ls.forEach(function(cs){cs.addEventListener("scroll",Ri.update,passive)}),ss&&os.addEventListener("resize",Ri.update,passive),function(){is&&ls.forEach(function(cs){cs.removeEventListener("scroll",Ri.update,passive)}),ss&&os.removeEventListener("resize",Ri.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:effect$1,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(es){return es.replace(/left|right|bottom|top/g,function(ki){return hash$1[ki]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(es){return es.replace(/start|end/g,function(ki){return hash[ki]})}function getWindowScroll(es){var ki=getWindow(es),Ri=ki.pageXOffset,ts=ki.pageYOffset;return{scrollLeft:Ri,scrollTop:ts}}function getWindowScrollBarX(es){return getBoundingClientRect(getDocumentElement(es)).left+getWindowScroll(es).scrollLeft}function getViewportRect(es,ki){var Ri=getWindow(es),ts=getDocumentElement(es),rs=Ri.visualViewport,is=ts.clientWidth,ns=ts.clientHeight,ss=0,os=0;if(rs){is=rs.width,ns=rs.height;var ls=isLayoutViewport();(ls||!ls&&ki==="fixed")&&(ss=rs.offsetLeft,os=rs.offsetTop)}return{width:is,height:ns,x:ss+getWindowScrollBarX(es),y:os}}function getDocumentRect(es){var ki,Ri=getDocumentElement(es),ts=getWindowScroll(es),rs=(ki=es.ownerDocument)==null?void 0:ki.body,is=max$1(Ri.scrollWidth,Ri.clientWidth,rs?rs.scrollWidth:0,rs?rs.clientWidth:0),ns=max$1(Ri.scrollHeight,Ri.clientHeight,rs?rs.scrollHeight:0,rs?rs.clientHeight:0),ss=-ts.scrollLeft+getWindowScrollBarX(es),os=-ts.scrollTop;return getComputedStyle$1(rs||Ri).direction==="rtl"&&(ss+=max$1(Ri.clientWidth,rs?rs.clientWidth:0)-is),{width:is,height:ns,x:ss,y:os}}function isScrollParent(es){var ki=getComputedStyle$1(es),Ri=ki.overflow,ts=ki.overflowX,rs=ki.overflowY;return/auto|scroll|overlay|hidden/.test(Ri+rs+ts)}function getScrollParent(es){return["html","body","#document"].indexOf(getNodeName(es))>=0?es.ownerDocument.body:isHTMLElement(es)&&isScrollParent(es)?es:getScrollParent(getParentNode(es))}function listScrollParents(es,ki){var Ri;ki===void 0&&(ki=[]);var ts=getScrollParent(es),rs=ts===((Ri=es.ownerDocument)==null?void 0:Ri.body),is=getWindow(ts),ns=rs?[is].concat(is.visualViewport||[],isScrollParent(ts)?ts:[]):ts,ss=ki.concat(ns);return rs?ss:ss.concat(listScrollParents(getParentNode(ns)))}function rectToClientRect(es){return Object.assign({},es,{left:es.x,top:es.y,right:es.x+es.width,bottom:es.y+es.height})}function getInnerBoundingClientRect(es,ki){var Ri=getBoundingClientRect(es,!1,ki==="fixed");return Ri.top=Ri.top+es.clientTop,Ri.left=Ri.left+es.clientLeft,Ri.bottom=Ri.top+es.clientHeight,Ri.right=Ri.left+es.clientWidth,Ri.width=es.clientWidth,Ri.height=es.clientHeight,Ri.x=Ri.left,Ri.y=Ri.top,Ri}function getClientRectFromMixedType(es,ki,Ri){return ki===viewport?rectToClientRect(getViewportRect(es,Ri)):isElement$1(ki)?getInnerBoundingClientRect(ki,Ri):rectToClientRect(getDocumentRect(getDocumentElement(es)))}function getClippingParents(es){var ki=listScrollParents(getParentNode(es)),Ri=["absolute","fixed"].indexOf(getComputedStyle$1(es).position)>=0,ts=Ri&&isHTMLElement(es)?getOffsetParent(es):es;return isElement$1(ts)?ki.filter(function(rs){return isElement$1(rs)&&contains(rs,ts)&&getNodeName(rs)!=="body"}):[]}function getClippingRect(es,ki,Ri,ts){var rs=ki==="clippingParents"?getClippingParents(es):[].concat(ki),is=[].concat(rs,[Ri]),ns=is[0],ss=is.reduce(function(os,ls){var cs=getClientRectFromMixedType(es,ls,ts);return os.top=max$1(cs.top,os.top),os.right=min(cs.right,os.right),os.bottom=min(cs.bottom,os.bottom),os.left=max$1(cs.left,os.left),os},getClientRectFromMixedType(es,ns,ts));return ss.width=ss.right-ss.left,ss.height=ss.bottom-ss.top,ss.x=ss.left,ss.y=ss.top,ss}function computeOffsets(es){var ki=es.reference,Ri=es.element,ts=es.placement,rs=ts?getBasePlacement(ts):null,is=ts?getVariation(ts):null,ns=ki.x+ki.width/2-Ri.width/2,ss=ki.y+ki.height/2-Ri.height/2,os;switch(rs){case top:os={x:ns,y:ki.y-Ri.height};break;case bottom:os={x:ns,y:ki.y+ki.height};break;case right:os={x:ki.x+ki.width,y:ss};break;case left:os={x:ki.x-Ri.width,y:ss};break;default:os={x:ki.x,y:ki.y}}var ls=rs?getMainAxisFromPlacement(rs):null;if(ls!=null){var cs=ls==="y"?"height":"width";switch(is){case start$3:os[ls]=os[ls]-(ki[cs]/2-Ri[cs]/2);break;case end:os[ls]=os[ls]+(ki[cs]/2-Ri[cs]/2);break}}return os}function detectOverflow(es,ki){ki===void 0&&(ki={});var Ri=ki,ts=Ri.placement,rs=ts===void 0?es.placement:ts,is=Ri.strategy,ns=is===void 0?es.strategy:is,ss=Ri.boundary,os=ss===void 0?clippingParents:ss,ls=Ri.rootBoundary,cs=ls===void 0?viewport:ls,hs=Ri.elementContext,us=hs===void 0?popper:hs,As=Ri.altBoundary,bs=As===void 0?!1:As,ys=Ri.padding,Cs=ys===void 0?0:ys,ps=mergePaddingObject(typeof Cs!="number"?Cs:expandToHashMap(Cs,basePlacements)),ms=us===popper?reference:popper,fs=es.rects.popper,gs=es.elements[bs?ms:us],ws=getClippingRect(isElement$1(gs)?gs:gs.contextElement||getDocumentElement(es.elements.popper),os,cs,ns),Ts=getBoundingClientRect(es.elements.reference),$s=computeOffsets({reference:Ts,element:fs,strategy:"absolute",placement:rs}),Rs=rectToClientRect(Object.assign({},fs,$s)),Ps=us===popper?Rs:Ts,Qs={top:ws.top-Ps.top+ps.top,bottom:Ps.bottom-ws.bottom+ps.bottom,left:ws.left-Ps.left+ps.left,right:Ps.right-ws.right+ps.right},Fs=es.modifiersData.offset;if(us===popper&&Fs){var Is=Fs[rs];Object.keys(Qs).forEach(function(Ms){var Ws=[right,bottom].indexOf(Ms)>=0?1:-1,Ds=[top,bottom].indexOf(Ms)>=0?"y":"x";Qs[Ms]+=Is[Ds]*Ws})}return Qs}function computeAutoPlacement(es,ki){ki===void 0&&(ki={});var Ri=ki,ts=Ri.placement,rs=Ri.boundary,is=Ri.rootBoundary,ns=Ri.padding,ss=Ri.flipVariations,os=Ri.allowedAutoPlacements,ls=os===void 0?placements:os,cs=getVariation(ts),hs=cs?ss?variationPlacements:variationPlacements.filter(function(bs){return getVariation(bs)===cs}):basePlacements,us=hs.filter(function(bs){return ls.indexOf(bs)>=0});us.length===0&&(us=hs);var As=us.reduce(function(bs,ys){return bs[ys]=detectOverflow(es,{placement:ys,boundary:rs,rootBoundary:is,padding:ns})[getBasePlacement(ys)],bs},{});return Object.keys(As).sort(function(bs,ys){return As[bs]-As[ys]})}function getExpandedFallbackPlacements(es){if(getBasePlacement(es)===auto)return[];var ki=getOppositePlacement(es);return[getOppositeVariationPlacement(es),ki,getOppositeVariationPlacement(ki)]}function flip(es){var ki=es.state,Ri=es.options,ts=es.name;if(!ki.modifiersData[ts]._skip){for(var rs=Ri.mainAxis,is=rs===void 0?!0:rs,ns=Ri.altAxis,ss=ns===void 0?!0:ns,os=Ri.fallbackPlacements,ls=Ri.padding,cs=Ri.boundary,hs=Ri.rootBoundary,us=Ri.altBoundary,As=Ri.flipVariations,bs=As===void 0?!0:As,ys=Ri.allowedAutoPlacements,Cs=ki.options.placement,ps=getBasePlacement(Cs),ms=ps===Cs,fs=os||(ms||!bs?[getOppositePlacement(Cs)]:getExpandedFallbackPlacements(Cs)),gs=[Cs].concat(fs).reduce(function(zs,so){return zs.concat(getBasePlacement(so)===auto?computeAutoPlacement(ki,{placement:so,boundary:cs,rootBoundary:hs,padding:ls,flipVariations:bs,allowedAutoPlacements:ys}):so)},[]),ws=ki.rects.reference,Ts=ki.rects.popper,$s=new Map,Rs=!0,Ps=gs[0],Qs=0;Qs<gs.length;Qs++){var Fs=gs[Qs],Is=getBasePlacement(Fs),Ms=getVariation(Fs)===start$3,Ws=[top,bottom].indexOf(Is)>=0,Ds=Ws?"width":"height",_s=detectOverflow(ki,{placement:Fs,boundary:cs,rootBoundary:hs,altBoundary:us,padding:ls}),Ns=Ws?Ms?right:left:Ms?bottom:top;ws[Ds]>Ts[Ds]&&(Ns=getOppositePlacement(Ns));var Ss=getOppositePlacement(Ns),Us=[];if(is&&Us.push(_s[Is]<=0),ss&&Us.push(_s[Ns]<=0,_s[Ss]<=0),Us.every(function(zs){return zs})){Ps=Fs,Rs=!1;break}$s.set(Fs,Us)}if(Rs)for(var Zs=bs?3:1,ao=function(so){var oo=gs.find(function(Ao){var Xs=$s.get(Ao);if(Xs)return Xs.slice(0,so).every(function(lo){return lo})});if(oo)return Ps=oo,"break"},js=Zs;js>0;js--){var Bs=ao(js);if(Bs==="break")break}ki.placement!==Ps&&(ki.modifiersData[ts]._skip=!0,ki.placement=Ps,ki.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(es,ki,Ri){return Ri===void 0&&(Ri={x:0,y:0}),{top:es.top-ki.height-Ri.y,right:es.right-ki.width+Ri.x,bottom:es.bottom-ki.height+Ri.y,left:es.left-ki.width-Ri.x}}function isAnySideFullyClipped(es){return[top,right,bottom,left].some(function(ki){return es[ki]>=0})}function hide(es){var ki=es.state,Ri=es.name,ts=ki.rects.reference,rs=ki.rects.popper,is=ki.modifiersData.preventOverflow,ns=detectOverflow(ki,{elementContext:"reference"}),ss=detectOverflow(ki,{altBoundary:!0}),os=getSideOffsets(ns,ts),ls=getSideOffsets(ss,rs,is),cs=isAnySideFullyClipped(os),hs=isAnySideFullyClipped(ls);ki.modifiersData[Ri]={referenceClippingOffsets:os,popperEscapeOffsets:ls,isReferenceHidden:cs,hasPopperEscaped:hs},ki.attributes.popper=Object.assign({},ki.attributes.popper,{"data-popper-reference-hidden":cs,"data-popper-escaped":hs})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(es,ki,Ri){var ts=getBasePlacement(es),rs=[left,top].indexOf(ts)>=0?-1:1,is=typeof Ri=="function"?Ri(Object.assign({},ki,{placement:es})):Ri,ns=is[0],ss=is[1];return ns=ns||0,ss=(ss||0)*rs,[left,right].indexOf(ts)>=0?{x:ss,y:ns}:{x:ns,y:ss}}function offset(es){var ki=es.state,Ri=es.options,ts=es.name,rs=Ri.offset,is=rs===void 0?[0,0]:rs,ns=placements.reduce(function(cs,hs){return cs[hs]=distanceAndSkiddingToXY(hs,ki.rects,is),cs},{}),ss=ns[ki.placement],os=ss.x,ls=ss.y;ki.modifiersData.popperOffsets!=null&&(ki.modifiersData.popperOffsets.x+=os,ki.modifiersData.popperOffsets.y+=ls),ki.modifiersData[ts]=ns}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(es){var ki=es.state,Ri=es.name;ki.modifiersData[Ri]=computeOffsets({reference:ki.rects.reference,element:ki.rects.popper,strategy:"absolute",placement:ki.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(es){return es==="x"?"y":"x"}function preventOverflow(es){var ki=es.state,Ri=es.options,ts=es.name,rs=Ri.mainAxis,is=rs===void 0?!0:rs,ns=Ri.altAxis,ss=ns===void 0?!1:ns,os=Ri.boundary,ls=Ri.rootBoundary,cs=Ri.altBoundary,hs=Ri.padding,us=Ri.tether,As=us===void 0?!0:us,bs=Ri.tetherOffset,ys=bs===void 0?0:bs,Cs=detectOverflow(ki,{boundary:os,rootBoundary:ls,padding:hs,altBoundary:cs}),ps=getBasePlacement(ki.placement),ms=getVariation(ki.placement),fs=!ms,gs=getMainAxisFromPlacement(ps),ws=getAltAxis(gs),Ts=ki.modifiersData.popperOffsets,$s=ki.rects.reference,Rs=ki.rects.popper,Ps=typeof ys=="function"?ys(Object.assign({},ki.rects,{placement:ki.placement})):ys,Qs=typeof Ps=="number"?{mainAxis:Ps,altAxis:Ps}:Object.assign({mainAxis:0,altAxis:0},Ps),Fs=ki.modifiersData.offset?ki.modifiersData.offset[ki.placement]:null,Is={x:0,y:0};if(Ts){if(is){var Ms,Ws=gs==="y"?top:left,Ds=gs==="y"?bottom:right,_s=gs==="y"?"height":"width",Ns=Ts[gs],Ss=Ns+Cs[Ws],Us=Ns-Cs[Ds],Zs=As?-Rs[_s]/2:0,ao=ms===start$3?$s[_s]:Rs[_s],js=ms===start$3?-Rs[_s]:-$s[_s],Bs=ki.elements.arrow,zs=As&&Bs?getLayoutRect(Bs):{width:0,height:0},so=ki.modifiersData["arrow#persistent"]?ki.modifiersData["arrow#persistent"].padding:getFreshSideObject(),oo=so[Ws],Ao=so[Ds],Xs=within(0,$s[_s],zs[_s]),lo=fs?$s[_s]/2-Zs-Xs-oo-Qs.mainAxis:ao-Xs-oo-Qs.mainAxis,co=fs?-$s[_s]/2+Zs+Xs+Ao+Qs.mainAxis:js+Xs+Ao+Qs.mainAxis,So=ki.elements.arrow&&getOffsetParent(ki.elements.arrow),ro=So?gs==="y"?So.clientTop||0:So.clientLeft||0:0,vo=(Ms=Fs==null?void 0:Fs[gs])!=null?Ms:0,Eo=Ns+lo-vo-ro,mo=Ns+co-vo,yo=within(As?min(Ss,Eo):Ss,Ns,As?max$1(Us,mo):Us);Ts[gs]=yo,Is[gs]=yo-Ns}if(ss){var Jo,Yo=gs==="x"?top:left,Wo=gs==="x"?bottom:right,ko=Ts[ws],Qo=ws==="y"?"height":"width",jo=ko+Cs[Yo],Bo=ko-Cs[Wo],go=[top,left].indexOf(ps)!==-1,_o=(Jo=Fs==null?void 0:Fs[ws])!=null?Jo:0,To=go?jo:ko-$s[Qo]-Rs[Qo]-_o+Qs.altAxis,uo=go?ko+$s[Qo]+Rs[Qo]-_o-Qs.altAxis:Bo,Co=As&&go?withinMaxClamp(To,ko,uo):within(As?To:jo,ko,As?uo:Bo);Ts[ws]=Co,Is[ws]=Co-ko}ki.modifiersData[ts]=Is}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(es){return{scrollLeft:es.scrollLeft,scrollTop:es.scrollTop}}function getNodeScroll(es){return es===getWindow(es)||!isHTMLElement(es)?getWindowScroll(es):getHTMLElementScroll(es)}function isElementScaled(es){var ki=es.getBoundingClientRect(),Ri=round(ki.width)/es.offsetWidth||1,ts=round(ki.height)/es.offsetHeight||1;return Ri!==1||ts!==1}function getCompositeRect(es,ki,Ri){Ri===void 0&&(Ri=!1);var ts=isHTMLElement(ki),rs=isHTMLElement(ki)&&isElementScaled(ki),is=getDocumentElement(ki),ns=getBoundingClientRect(es,rs,Ri),ss={scrollLeft:0,scrollTop:0},os={x:0,y:0};return(ts||!ts&&!Ri)&&((getNodeName(ki)!=="body"||isScrollParent(is))&&(ss=getNodeScroll(ki)),isHTMLElement(ki)?(os=getBoundingClientRect(ki,!0),os.x+=ki.clientLeft,os.y+=ki.clientTop):is&&(os.x=getWindowScrollBarX(is))),{x:ns.left+ss.scrollLeft-os.x,y:ns.top+ss.scrollTop-os.y,width:ns.width,height:ns.height}}function order(es){var ki=new Map,Ri=new Set,ts=[];es.forEach(function(is){ki.set(is.name,is)});function rs(is){Ri.add(is.name);var ns=[].concat(is.requires||[],is.requiresIfExists||[]);ns.forEach(function(ss){if(!Ri.has(ss)){var os=ki.get(ss);os&&rs(os)}}),ts.push(is)}return es.forEach(function(is){Ri.has(is.name)||rs(is)}),ts}function orderModifiers(es){var ki=order(es);return modifierPhases.reduce(function(Ri,ts){return Ri.concat(ki.filter(function(rs){return rs.phase===ts}))},[])}function debounce$1(es){var ki;return function(){return ki||(ki=new Promise(function(Ri){Promise.resolve().then(function(){ki=void 0,Ri(es())})})),ki}}function mergeByName(es){var ki=es.reduce(function(Ri,ts){var rs=Ri[ts.name];return Ri[ts.name]=rs?Object.assign({},rs,ts,{options:Object.assign({},rs.options,ts.options),data:Object.assign({},rs.data,ts.data)}):ts,Ri},{});return Object.keys(ki).map(function(Ri){return ki[Ri]})}var DEFAULT_OPTIONS$4={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var es=arguments.length,ki=new Array(es),Ri=0;Ri<es;Ri++)ki[Ri]=arguments[Ri];return!ki.some(function(ts){return!(ts&&typeof ts.getBoundingClientRect=="function")})}function popperGenerator(es){es===void 0&&(es={});var ki=es,Ri=ki.defaultModifiers,ts=Ri===void 0?[]:Ri,rs=ki.defaultOptions,is=rs===void 0?DEFAULT_OPTIONS$4:rs;return function(ss,os,ls){ls===void 0&&(ls=is);var cs={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS$4,is),modifiersData:{},elements:{reference:ss,popper:os},attributes:{},styles:{}},hs=[],us=!1,As={state:cs,setOptions:function(ps){var ms=typeof ps=="function"?ps(cs.options):ps;ys(),cs.options=Object.assign({},is,cs.options,ms),cs.scrollParents={reference:isElement$1(ss)?listScrollParents(ss):ss.contextElement?listScrollParents(ss.contextElement):[],popper:listScrollParents(os)};var fs=orderModifiers(mergeByName([].concat(ts,cs.options.modifiers)));return cs.orderedModifiers=fs.filter(function(gs){return gs.enabled}),bs(),As.update()},forceUpdate:function(){if(!us){var ps=cs.elements,ms=ps.reference,fs=ps.popper;if(areValidElements(ms,fs)){cs.rects={reference:getCompositeRect(ms,getOffsetParent(fs),cs.options.strategy==="fixed"),popper:getLayoutRect(fs)},cs.reset=!1,cs.placement=cs.options.placement,cs.orderedModifiers.forEach(function(Qs){return cs.modifiersData[Qs.name]=Object.assign({},Qs.data)});for(var gs=0;gs<cs.orderedModifiers.length;gs++){if(cs.reset===!0){cs.reset=!1,gs=-1;continue}var ws=cs.orderedModifiers[gs],Ts=ws.fn,$s=ws.options,Rs=$s===void 0?{}:$s,Ps=ws.name;typeof Ts=="function"&&(cs=Ts({state:cs,options:Rs,name:Ps,instance:As})||cs)}}}},update:debounce$1(function(){return new Promise(function(Cs){As.forceUpdate(),Cs(cs)})}),destroy:function(){ys(),us=!0}};if(!areValidElements(ss,os))return As;As.setOptions(ls).then(function(Cs){!us&&ls.onFirstUpdate&&ls.onFirstUpdate(Cs)});function bs(){cs.orderedModifiers.forEach(function(Cs){var ps=Cs.name,ms=Cs.options,fs=ms===void 0?{}:ms,gs=Cs.effect;if(typeof gs=="function"){var ws=gs({state:cs,name:ps,instance:As,options:fs}),Ts=function(){};hs.push(ws||Ts)}})}function ys(){hs.forEach(function(Cs){return Cs()}),hs=[]}return As}}var createPopper$2=popperGenerator(),defaultModifiers$1=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1],createPopper$1=popperGenerator({defaultModifiers:defaultModifiers$1}),defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});const Popper=Object.freeze(Object.defineProperty({__proto__:null,afterMain,afterRead,afterWrite,applyStyles:applyStyles$1,arrow:arrow$1,auto,basePlacements,beforeMain,beforeRead,beforeWrite,bottom,clippingParents,computeStyles:computeStyles$1,createPopper,createPopperBase:createPopper$2,createPopperLite:createPopper$1,detectOverflow,end,eventListeners,flip:flip$1,hide:hide$1,left,main,modifierPhases,offset:offset$1,placements,popper,popperGenerator,popperOffsets:popperOffsets$1,preventOverflow:preventOverflow$1,read,reference,right,start:start$3,top,variationPlacements,viewport,write},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const elementMap=new Map,Data={set(es,ki,Ri){elementMap.has(es)||elementMap.set(es,new Map);const ts=elementMap.get(es);if(!ts.has(ki)&&ts.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(ts.keys())[0]}.`);return}ts.set(ki,Ri)},get(es,ki){return elementMap.has(es)&&elementMap.get(es).get(ki)||null},remove(es,ki){if(!elementMap.has(es))return;const Ri=elementMap.get(es);Ri.delete(ki),Ri.size===0&&elementMap.delete(es)}},MAX_UID=1e6,MILLISECONDS_MULTIPLIER=1e3,TRANSITION_END="transitionend",parseSelector=es=>(es&&window.CSS&&window.CSS.escape&&(es=es.replace(/#([^\s"#']+)/g,(ki,Ri)=>`#${CSS.escape(Ri)}`)),es),toType=es=>es==null?`${es}`:Object.prototype.toString.call(es).match(/\s([a-z]+)/i)[1].toLowerCase(),getUID=es=>{do es+=Math.floor(Math.random()*MAX_UID);while(document.getElementById(es));return es},getTransitionDurationFromElement=es=>{if(!es)return 0;let{transitionDuration:ki,transitionDelay:Ri}=window.getComputedStyle(es);const ts=Number.parseFloat(ki),rs=Number.parseFloat(Ri);return!ts&&!rs?0:(ki=ki.split(",")[0],Ri=Ri.split(",")[0],(Number.parseFloat(ki)+Number.parseFloat(Ri))*MILLISECONDS_MULTIPLIER)},triggerTransitionEnd=es=>{es.dispatchEvent(new Event(TRANSITION_END))},isElement=es=>!es||typeof es!="object"?!1:(typeof es.jquery<"u"&&(es=es[0]),typeof es.nodeType<"u"),getElement=es=>isElement(es)?es.jquery?es[0]:es:typeof es=="string"&&es.length>0?document.querySelector(parseSelector(es)):null,isVisible=es=>{if(!isElement(es)||es.getClientRects().length===0)return!1;const ki=getComputedStyle(es).getPropertyValue("visibility")==="visible",Ri=es.closest("details:not([open])");if(!Ri)return ki;if(Ri!==es){const ts=es.closest("summary");if(ts&&ts.parentNode!==Ri||ts===null)return!1}return ki},isDisabled=es=>!es||es.nodeType!==Node.ELEMENT_NODE||es.classList.contains("disabled")?!0:typeof es.disabled<"u"?es.disabled:es.hasAttribute("disabled")&&es.getAttribute("disabled")!=="false",findShadowRoot=es=>{if(!document.documentElement.attachShadow)return null;if(typeof es.getRootNode=="function"){const ki=es.getRootNode();return ki instanceof ShadowRoot?ki:null}return es instanceof ShadowRoot?es:es.parentNode?findShadowRoot(es.parentNode):null},noop$1=()=>{},reflow=es=>{es.offsetHeight},getjQuery=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,DOMContentLoadedCallbacks=[],onDOMContentLoaded=es=>{document.readyState==="loading"?(DOMContentLoadedCallbacks.length||document.addEventListener("DOMContentLoaded",()=>{for(const ki of DOMContentLoadedCallbacks)ki()}),DOMContentLoadedCallbacks.push(es)):es()},isRTL=()=>document.documentElement.dir==="rtl",defineJQueryPlugin=es=>{onDOMContentLoaded(()=>{const ki=getjQuery();if(ki){const Ri=es.NAME,ts=ki.fn[Ri];ki.fn[Ri]=es.jQueryInterface,ki.fn[Ri].Constructor=es,ki.fn[Ri].noConflict=()=>(ki.fn[Ri]=ts,es.jQueryInterface)}})},execute=(es,ki=[],Ri=es)=>typeof es=="function"?es(...ki):Ri,executeAfterTransition=(es,ki,Ri=!0)=>{if(!Ri){execute(es);return}const rs=getTransitionDurationFromElement(ki)+5;let is=!1;const ns=({target:ss})=>{ss===ki&&(is=!0,ki.removeEventListener(TRANSITION_END,ns),execute(es))};ki.addEventListener(TRANSITION_END,ns),setTimeout(()=>{is||triggerTransitionEnd(ki)},rs)},getNextActiveElement=(es,ki,Ri,ts)=>{const rs=es.length;let is=es.indexOf(ki);return is===-1?!Ri&&ts?es[rs-1]:es[0]:(is+=Ri?1:-1,ts&&(is=(is+rs)%rs),es[Math.max(0,Math.min(is,rs-1))])},namespaceRegex=/[^.]*(?=\..*)\.|.*/,stripNameRegex=/\..*/,stripUidRegex=/::\d+$/,eventRegistry={};let uidEvent=1;const customEvents={mouseenter:"mouseover",mouseleave:"mouseout"},nativeEvents=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function makeEventUid(es,ki){return ki&&`${ki}::${uidEvent++}`||es.uidEvent||uidEvent++}function getElementEvents(es){const ki=makeEventUid(es);return es.uidEvent=ki,eventRegistry[ki]=eventRegistry[ki]||{},eventRegistry[ki]}function bootstrapHandler(es,ki){return function Ri(ts){return hydrateObj(ts,{delegateTarget:es}),Ri.oneOff&&EventHandler.off(es,ts.type,ki),ki.apply(es,[ts])}}function bootstrapDelegationHandler(es,ki,Ri){return function ts(rs){const is=es.querySelectorAll(ki);for(let{target:ns}=rs;ns&&ns!==this;ns=ns.parentNode)for(const ss of is)if(ss===ns)return hydrateObj(rs,{delegateTarget:ns}),ts.oneOff&&EventHandler.off(es,rs.type,ki,Ri),Ri.apply(ns,[rs])}}function findHandler(es,ki,Ri=null){return Object.values(es).find(ts=>ts.callable===ki&&ts.delegationSelector===Ri)}function normalizeParameters(es,ki,Ri){const ts=typeof ki=="string",rs=ts?Ri:ki||Ri;let is=getTypeEvent(es);return nativeEvents.has(is)||(is=es),[ts,rs,is]}function addHandler(es,ki,Ri,ts,rs){if(typeof ki!="string"||!es)return;let[is,ns,ss]=normalizeParameters(ki,Ri,ts);ki in customEvents&&(ns=(bs=>function(ys){if(!ys.relatedTarget||ys.relatedTarget!==ys.delegateTarget&&!ys.delegateTarget.contains(ys.relatedTarget))return bs.call(this,ys)})(ns));const os=getElementEvents(es),ls=os[ss]||(os[ss]={}),cs=findHandler(ls,ns,is?Ri:null);if(cs){cs.oneOff=cs.oneOff&&rs;return}const hs=makeEventUid(ns,ki.replace(namespaceRegex,"")),us=is?bootstrapDelegationHandler(es,Ri,ns):bootstrapHandler(es,ns);us.delegationSelector=is?Ri:null,us.callable=ns,us.oneOff=rs,us.uidEvent=hs,ls[hs]=us,es.addEventListener(ss,us,is)}function removeHandler(es,ki,Ri,ts,rs){const is=findHandler(ki[Ri],ts,rs);is&&(es.removeEventListener(Ri,is,!!rs),delete ki[Ri][is.uidEvent])}function removeNamespacedHandlers(es,ki,Ri,ts){const rs=ki[Ri]||{};for(const[is,ns]of Object.entries(rs))is.includes(ts)&&removeHandler(es,ki,Ri,ns.callable,ns.delegationSelector)}function getTypeEvent(es){return es=es.replace(stripNameRegex,""),customEvents[es]||es}const EventHandler={on(es,ki,Ri,ts){addHandler(es,ki,Ri,ts,!1)},one(es,ki,Ri,ts){addHandler(es,ki,Ri,ts,!0)},off(es,ki,Ri,ts){if(typeof ki!="string"||!es)return;const[rs,is,ns]=normalizeParameters(ki,Ri,ts),ss=ns!==ki,os=getElementEvents(es),ls=os[ns]||{},cs=ki.startsWith(".");if(typeof is<"u"){if(!Object.keys(ls).length)return;removeHandler(es,os,ns,is,rs?Ri:null);return}if(cs)for(const hs of Object.keys(os))removeNamespacedHandlers(es,os,hs,ki.slice(1));for(const[hs,us]of Object.entries(ls)){const As=hs.replace(stripUidRegex,"");(!ss||ki.includes(As))&&removeHandler(es,os,ns,us.callable,us.delegationSelector)}},trigger(es,ki,Ri){if(typeof ki!="string"||!es)return null;const ts=getjQuery(),rs=getTypeEvent(ki),is=ki!==rs;let ns=null,ss=!0,os=!0,ls=!1;is&&ts&&(ns=ts.Event(ki,Ri),ts(es).trigger(ns),ss=!ns.isPropagationStopped(),os=!ns.isImmediatePropagationStopped(),ls=ns.isDefaultPrevented());const cs=hydrateObj(new Event(ki,{bubbles:ss,cancelable:!0}),Ri);return ls&&cs.preventDefault(),os&&es.dispatchEvent(cs),cs.defaultPrevented&&ns&&ns.preventDefault(),cs}};function hydrateObj(es,ki={}){for(const[Ri,ts]of Object.entries(ki))try{es[Ri]=ts}catch{Object.defineProperty(es,Ri,{configurable:!0,get(){return ts}})}return es}function normalizeData(es){if(es==="true")return!0;if(es==="false")return!1;if(es===Number(es).toString())return Number(es);if(es===""||es==="null")return null;if(typeof es!="string")return es;try{return JSON.parse(decodeURIComponent(es))}catch{return es}}function normalizeDataKey(es){return es.replace(/[A-Z]/g,ki=>`-${ki.toLowerCase()}`)}const Manipulator={setDataAttribute(es,ki,Ri){es.setAttribute(`data-bs-${normalizeDataKey(ki)}`,Ri)},removeDataAttribute(es,ki){es.removeAttribute(`data-bs-${normalizeDataKey(ki)}`)},getDataAttributes(es){if(!es)return{};const ki={},Ri=Object.keys(es.dataset).filter(ts=>ts.startsWith("bs")&&!ts.startsWith("bsConfig"));for(const ts of Ri){let rs=ts.replace(/^bs/,"");rs=rs.charAt(0).toLowerCase()+rs.slice(1,rs.length),ki[rs]=normalizeData(es.dataset[ts])}return ki},getDataAttribute(es,ki){return normalizeData(es.getAttribute(`data-bs-${normalizeDataKey(ki)}`))}};let Config$1=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(ki){return ki=this._mergeConfigObj(ki),ki=this._configAfterMerge(ki),this._typeCheckConfig(ki),ki}_configAfterMerge(ki){return ki}_mergeConfigObj(ki,Ri){const ts=isElement(Ri)?Manipulator.getDataAttribute(Ri,"config"):{};return{...this.constructor.Default,...typeof ts=="object"?ts:{},...isElement(Ri)?Manipulator.getDataAttributes(Ri):{},...typeof ki=="object"?ki:{}}}_typeCheckConfig(ki,Ri=this.constructor.DefaultType){for(const[ts,rs]of Object.entries(Ri)){const is=ki[ts],ns=isElement(is)?"element":toType(is);if(!new RegExp(rs).test(ns))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${ts}" provided type "${ns}" but expected type "${rs}".`)}}};const VERSION="5.3.3";class BaseComponent extends Config$1{constructor(ki,Ri){super(),ki=getElement(ki),ki&&(this._element=ki,this._config=this._getConfig(Ri),Data.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Data.remove(this._element,this.constructor.DATA_KEY),EventHandler.off(this._element,this.constructor.EVENT_KEY);for(const ki of Object.getOwnPropertyNames(this))this[ki]=null}_queueCallback(ki,Ri,ts=!0){executeAfterTransition(ki,Ri,ts)}_getConfig(ki){return ki=this._mergeConfigObj(ki,this._element),ki=this._configAfterMerge(ki),this._typeCheckConfig(ki),ki}static getInstance(ki){return Data.get(getElement(ki),this.DATA_KEY)}static getOrCreateInstance(ki,Ri={}){return this.getInstance(ki)||new this(ki,typeof Ri=="object"?Ri:null)}static get VERSION(){return VERSION}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(ki){return`${ki}${this.EVENT_KEY}`}}const getSelector=es=>{let ki=es.getAttribute("data-bs-target");if(!ki||ki==="#"){let Ri=es.getAttribute("href");if(!Ri||!Ri.includes("#")&&!Ri.startsWith("."))return null;Ri.includes("#")&&!Ri.startsWith("#")&&(Ri=`#${Ri.split("#")[1]}`),ki=Ri&&Ri!=="#"?Ri.trim():null}return ki?ki.split(",").map(Ri=>parseSelector(Ri)).join(","):null},SelectorEngine={find(es,ki=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(ki,es))},findOne(es,ki=document.documentElement){return Element.prototype.querySelector.call(ki,es)},children(es,ki){return[].concat(...es.children).filter(Ri=>Ri.matches(ki))},parents(es,ki){const Ri=[];let ts=es.parentNode.closest(ki);for(;ts;)Ri.push(ts),ts=ts.parentNode.closest(ki);return Ri},prev(es,ki){let Ri=es.previousElementSibling;for(;Ri;){if(Ri.matches(ki))return[Ri];Ri=Ri.previousElementSibling}return[]},next(es,ki){let Ri=es.nextElementSibling;for(;Ri;){if(Ri.matches(ki))return[Ri];Ri=Ri.nextElementSibling}return[]},focusableChildren(es){const ki=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(Ri=>`${Ri}:not([tabindex^="-"])`).join(",");return this.find(ki,es).filter(Ri=>!isDisabled(Ri)&&isVisible(Ri))},getSelectorFromElement(es){const ki=getSelector(es);return ki&&SelectorEngine.findOne(ki)?ki:null},getElementFromSelector(es){const ki=getSelector(es);return ki?SelectorEngine.findOne(ki):null},getMultipleElementsFromSelector(es){const ki=getSelector(es);return ki?SelectorEngine.find(ki):[]}},enableDismissTrigger=(es,ki="hide")=>{const Ri=`click.dismiss${es.EVENT_KEY}`,ts=es.NAME;EventHandler.on(document,Ri,`[data-bs-dismiss="${ts}"]`,function(rs){if(["A","AREA"].includes(this.tagName)&&rs.preventDefault(),isDisabled(this))return;const is=SelectorEngine.getElementFromSelector(this)||this.closest(`.${ts}`);es.getOrCreateInstance(is)[ki]()})},NAME$f="alert",DATA_KEY$a="bs.alert",EVENT_KEY$b=`.${DATA_KEY$a}`,EVENT_CLOSE=`close${EVENT_KEY$b}`,EVENT_CLOSED=`closed${EVENT_KEY$b}`,CLASS_NAME_FADE$5="fade",CLASS_NAME_SHOW$8="show";class Alert extends BaseComponent{static get NAME(){return NAME$f}close(){if(EventHandler.trigger(this._element,EVENT_CLOSE).defaultPrevented)return;this._element.classList.remove(CLASS_NAME_SHOW$8);const Ri=this._element.classList.contains(CLASS_NAME_FADE$5);this._queueCallback(()=>this._destroyElement(),this._element,Ri)}_destroyElement(){this._element.remove(),EventHandler.trigger(this._element,EVENT_CLOSED),this.dispose()}static jQueryInterface(ki){return this.each(function(){const Ri=Alert.getOrCreateInstance(this);if(typeof ki=="string"){if(Ri[ki]===void 0||ki.startsWith("_")||ki==="constructor")throw new TypeError(`No method named "${ki}"`);Ri[ki](this)}})}}enableDismissTrigger(Alert,"close");defineJQueryPlugin(Alert);const NAME$e="button",DATA_KEY$9="bs.button",EVENT_KEY$a=`.${DATA_KEY$9}`,DATA_API_KEY$6=".data-api",CLASS_NAME_ACTIVE$3="active",SELECTOR_DATA_TOGGLE$5='[data-bs-toggle="button"]',EVENT_CLICK_DATA_API$6=`click${EVENT_KEY$a}${DATA_API_KEY$6}`;class Button extends BaseComponent{static get NAME(){return NAME$e}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(CLASS_NAME_ACTIVE$3))}static jQueryInterface(ki){return this.each(function(){const Ri=Button.getOrCreateInstance(this);ki==="toggle"&&Ri[ki]()})}}EventHandler.on(document,EVENT_CLICK_DATA_API$6,SELECTOR_DATA_TOGGLE$5,es=>{es.preventDefault();const ki=es.target.closest(SELECTOR_DATA_TOGGLE$5);Button.getOrCreateInstance(ki).toggle()});defineJQueryPlugin(Button);const NAME$d="swipe",EVENT_KEY$9=".bs.swipe",EVENT_TOUCHSTART=`touchstart${EVENT_KEY$9}`,EVENT_TOUCHMOVE=`touchmove${EVENT_KEY$9}`,EVENT_TOUCHEND=`touchend${EVENT_KEY$9}`,EVENT_POINTERDOWN=`pointerdown${EVENT_KEY$9}`,EVENT_POINTERUP=`pointerup${EVENT_KEY$9}`,POINTER_TYPE_TOUCH="touch",POINTER_TYPE_PEN="pen",CLASS_NAME_POINTER_EVENT="pointer-event",SWIPE_THRESHOLD=40,Default$c={endCallback:null,leftCallback:null,rightCallback:null},DefaultType$c={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Swipe extends Config$1{constructor(ki,Ri){super(),this._element=ki,!(!ki||!Swipe.isSupported())&&(this._config=this._getConfig(Ri),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Default$c}static get DefaultType(){return DefaultType$c}static get NAME(){return NAME$d}dispose(){EventHandler.off(this._element,EVENT_KEY$9)}_start(ki){if(!this._supportPointerEvents){this._deltaX=ki.touches[0].clientX;return}this._eventIsPointerPenTouch(ki)&&(this._deltaX=ki.clientX)}_end(ki){this._eventIsPointerPenTouch(ki)&&(this._deltaX=ki.clientX-this._deltaX),this._handleSwipe(),execute(this._config.endCallback)}_move(ki){this._deltaX=ki.touches&&ki.touches.length>1?0:ki.touches[0].clientX-this._deltaX}_handleSwipe(){const ki=Math.abs(this._deltaX);if(ki<=SWIPE_THRESHOLD)return;const Ri=ki/this._deltaX;this._deltaX=0,Ri&&execute(Ri>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(EventHandler.on(this._element,EVENT_POINTERDOWN,ki=>this._start(ki)),EventHandler.on(this._element,EVENT_POINTERUP,ki=>this._end(ki)),this._element.classList.add(CLASS_NAME_POINTER_EVENT)):(EventHandler.on(this._element,EVENT_TOUCHSTART,ki=>this._start(ki)),EventHandler.on(this._element,EVENT_TOUCHMOVE,ki=>this._move(ki)),EventHandler.on(this._element,EVENT_TOUCHEND,ki=>this._end(ki)))}_eventIsPointerPenTouch(ki){return this._supportPointerEvents&&(ki.pointerType===POINTER_TYPE_PEN||ki.pointerType===POINTER_TYPE_TOUCH)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const NAME$c="carousel",DATA_KEY$8="bs.carousel",EVENT_KEY$8=`.${DATA_KEY$8}`,DATA_API_KEY$5=".data-api",ARROW_LEFT_KEY$1="ArrowLeft",ARROW_RIGHT_KEY$1="ArrowRight",TOUCHEVENT_COMPAT_WAIT=500,ORDER_NEXT="next",ORDER_PREV="prev",DIRECTION_LEFT="left",DIRECTION_RIGHT="right",EVENT_SLIDE=`slide${EVENT_KEY$8}`,EVENT_SLID=`slid${EVENT_KEY$8}`,EVENT_KEYDOWN$1=`keydown${EVENT_KEY$8}`,EVENT_MOUSEENTER$1=`mouseenter${EVENT_KEY$8}`,EVENT_MOUSELEAVE$1=`mouseleave${EVENT_KEY$8}`,EVENT_DRAG_START=`dragstart${EVENT_KEY$8}`,EVENT_LOAD_DATA_API$3=`load${EVENT_KEY$8}${DATA_API_KEY$5}`,EVENT_CLICK_DATA_API$5=`click${EVENT_KEY$8}${DATA_API_KEY$5}`,CLASS_NAME_CAROUSEL="carousel",CLASS_NAME_ACTIVE$2="active",CLASS_NAME_SLIDE="slide",CLASS_NAME_END="carousel-item-end",CLASS_NAME_START="carousel-item-start",CLASS_NAME_NEXT="carousel-item-next",CLASS_NAME_PREV="carousel-item-prev",SELECTOR_ACTIVE=".active",SELECTOR_ITEM=".carousel-item",SELECTOR_ACTIVE_ITEM=SELECTOR_ACTIVE+SELECTOR_ITEM,SELECTOR_ITEM_IMG=".carousel-item img",SELECTOR_INDICATORS=".carousel-indicators",SELECTOR_DATA_SLIDE="[data-bs-slide], [data-bs-slide-to]",SELECTOR_DATA_RIDE='[data-bs-ride="carousel"]',KEY_TO_DIRECTION={[ARROW_LEFT_KEY$1]:DIRECTION_RIGHT,[ARROW_RIGHT_KEY$1]:DIRECTION_LEFT},Default$b={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},DefaultType$b={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Carousel extends BaseComponent{constructor(ki,Ri){super(ki,Ri),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=SelectorEngine.findOne(SELECTOR_INDICATORS,this._element),this._addEventListeners(),this._config.ride===CLASS_NAME_CAROUSEL&&this.cycle()}static get Default(){return Default$b}static get DefaultType(){return DefaultType$b}static get NAME(){return NAME$c}next(){this._slide(ORDER_NEXT)}nextWhenVisible(){!document.hidden&&isVisible(this._element)&&this.next()}prev(){this._slide(ORDER_PREV)}pause(){this._isSliding&&triggerTransitionEnd(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){EventHandler.one(this._element,EVENT_SLID,()=>this.cycle());return}this.cycle()}}to(ki){const Ri=this._getItems();if(ki>Ri.length-1||ki<0)return;if(this._isSliding){EventHandler.one(this._element,EVENT_SLID,()=>this.to(ki));return}const ts=this._getItemIndex(this._getActive());if(ts===ki)return;const rs=ki>ts?ORDER_NEXT:ORDER_PREV;this._slide(rs,Ri[ki])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(ki){return ki.defaultInterval=ki.interval,ki}_addEventListeners(){this._config.keyboard&&EventHandler.on(this._element,EVENT_KEYDOWN$1,ki=>this._keydown(ki)),this._config.pause==="hover"&&(EventHandler.on(this._element,EVENT_MOUSEENTER$1,()=>this.pause()),EventHandler.on(this._element,EVENT_MOUSELEAVE$1,()=>this._maybeEnableCycle())),this._config.touch&&Swipe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const ts of SelectorEngine.find(SELECTOR_ITEM_IMG,this._element))EventHandler.on(ts,EVENT_DRAG_START,rs=>rs.preventDefault());const Ri={leftCallback:()=>this._slide(this._directionToOrder(DIRECTION_LEFT)),rightCallback:()=>this._slide(this._directionToOrder(DIRECTION_RIGHT)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),TOUCHEVENT_COMPAT_WAIT+this._config.interval))}};this._swipeHelper=new Swipe(this._element,Ri)}_keydown(ki){if(/input|textarea/i.test(ki.target.tagName))return;const Ri=KEY_TO_DIRECTION[ki.key];Ri&&(ki.preventDefault(),this._slide(this._directionToOrder(Ri)))}_getItemIndex(ki){return this._getItems().indexOf(ki)}_setActiveIndicatorElement(ki){if(!this._indicatorsElement)return;const Ri=SelectorEngine.findOne(SELECTOR_ACTIVE,this._indicatorsElement);Ri.classList.remove(CLASS_NAME_ACTIVE$2),Ri.removeAttribute("aria-current");const ts=SelectorEngine.findOne(`[data-bs-slide-to="${ki}"]`,this._indicatorsElement);ts&&(ts.classList.add(CLASS_NAME_ACTIVE$2),ts.setAttribute("aria-current","true"))}_updateInterval(){const ki=this._activeElement||this._getActive();if(!ki)return;const Ri=Number.parseInt(ki.getAttribute("data-bs-interval"),10);this._config.interval=Ri||this._config.defaultInterval}_slide(ki,Ri=null){if(this._isSliding)return;const ts=this._getActive(),rs=ki===ORDER_NEXT,is=Ri||getNextActiveElement(this._getItems(),ts,rs,this._config.wrap);if(is===ts)return;const ns=this._getItemIndex(is),ss=As=>EventHandler.trigger(this._element,As,{relatedTarget:is,direction:this._orderToDirection(ki),from:this._getItemIndex(ts),to:ns});if(ss(EVENT_SLIDE).defaultPrevented||!ts||!is)return;const ls=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ns),this._activeElement=is;const cs=rs?CLASS_NAME_START:CLASS_NAME_END,hs=rs?CLASS_NAME_NEXT:CLASS_NAME_PREV;is.classList.add(hs),reflow(is),ts.classList.add(cs),is.classList.add(cs);const us=()=>{is.classList.remove(cs,hs),is.classList.add(CLASS_NAME_ACTIVE$2),ts.classList.remove(CLASS_NAME_ACTIVE$2,hs,cs),this._isSliding=!1,ss(EVENT_SLID)};this._queueCallback(us,ts,this._isAnimated()),ls&&this.cycle()}_isAnimated(){return this._element.classList.contains(CLASS_NAME_SLIDE)}_getActive(){return SelectorEngine.findOne(SELECTOR_ACTIVE_ITEM,this._element)}_getItems(){return SelectorEngine.find(SELECTOR_ITEM,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(ki){return isRTL()?ki===DIRECTION_LEFT?ORDER_PREV:ORDER_NEXT:ki===DIRECTION_LEFT?ORDER_NEXT:ORDER_PREV}_orderToDirection(ki){return isRTL()?ki===ORDER_PREV?DIRECTION_LEFT:DIRECTION_RIGHT:ki===ORDER_PREV?DIRECTION_RIGHT:DIRECTION_LEFT}static jQueryInterface(ki){return this.each(function(){const Ri=Carousel.getOrCreateInstance(this,ki);if(typeof ki=="number"){Ri.to(ki);return}if(typeof ki=="string"){if(Ri[ki]===void 0||ki.startsWith("_")||ki==="constructor")throw new TypeError(`No method named "${ki}"`);Ri[ki]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$5,SELECTOR_DATA_SLIDE,function(es){const ki=SelectorEngine.getElementFromSelector(this);if(!ki||!ki.classList.contains(CLASS_NAME_CAROUSEL))return;es.preventDefault();const Ri=Carousel.getOrCreateInstance(ki),ts=this.getAttribute("data-bs-slide-to");if(ts){Ri.to(ts),Ri._maybeEnableCycle();return}if(Manipulator.getDataAttribute(this,"slide")==="next"){Ri.next(),Ri._maybeEnableCycle();return}Ri.prev(),Ri._maybeEnableCycle()});EventHandler.on(window,EVENT_LOAD_DATA_API$3,()=>{const es=SelectorEngine.find(SELECTOR_DATA_RIDE);for(const ki of es)Carousel.getOrCreateInstance(ki)});defineJQueryPlugin(Carousel);const NAME$b="collapse",DATA_KEY$7="bs.collapse",EVENT_KEY$7=`.${DATA_KEY$7}`,DATA_API_KEY$4=".data-api",EVENT_SHOW$6=`show${EVENT_KEY$7}`,EVENT_SHOWN$6=`shown${EVENT_KEY$7}`,EVENT_HIDE$6=`hide${EVENT_KEY$7}`,EVENT_HIDDEN$6=`hidden${EVENT_KEY$7}`,EVENT_CLICK_DATA_API$4=`click${EVENT_KEY$7}${DATA_API_KEY$4}`,CLASS_NAME_SHOW$7="show",CLASS_NAME_COLLAPSE="collapse",CLASS_NAME_COLLAPSING="collapsing",CLASS_NAME_COLLAPSED="collapsed",CLASS_NAME_DEEPER_CHILDREN=`:scope .${CLASS_NAME_COLLAPSE} .${CLASS_NAME_COLLAPSE}`,CLASS_NAME_HORIZONTAL="collapse-horizontal",WIDTH="width",HEIGHT="height",SELECTOR_ACTIVES=".collapse.show, .collapse.collapsing",SELECTOR_DATA_TOGGLE$4='[data-bs-toggle="collapse"]',Default$a={parent:null,toggle:!0},DefaultType$a={parent:"(null|element)",toggle:"boolean"};class Collapse extends BaseComponent{constructor(ki,Ri){super(ki,Ri),this._isTransitioning=!1,this._triggerArray=[];const ts=SelectorEngine.find(SELECTOR_DATA_TOGGLE$4);for(const rs of ts){const is=SelectorEngine.getSelectorFromElement(rs),ns=SelectorEngine.find(is).filter(ss=>ss===this._element);is!==null&&ns.length&&this._triggerArray.push(rs)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Default$a}static get DefaultType(){return DefaultType$a}static get NAME(){return NAME$b}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let ki=[];if(this._config.parent&&(ki=this._getFirstLevelChildren(SELECTOR_ACTIVES).filter(ss=>ss!==this._element).map(ss=>Collapse.getOrCreateInstance(ss,{toggle:!1}))),ki.length&&ki[0]._isTransitioning||EventHandler.trigger(this._element,EVENT_SHOW$6).defaultPrevented)return;for(const ss of ki)ss.hide();const ts=this._getDimension();this._element.classList.remove(CLASS_NAME_COLLAPSE),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.style[ts]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const rs=()=>{this._isTransitioning=!1,this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW$7),this._element.style[ts]="",EventHandler.trigger(this._element,EVENT_SHOWN$6)},ns=`scroll${ts[0].toUpperCase()+ts.slice(1)}`;this._queueCallback(rs,this._element,!0),this._element.style[ts]=`${this._element[ns]}px`}hide(){if(this._isTransitioning||!this._isShown()||EventHandler.trigger(this._element,EVENT_HIDE$6).defaultPrevented)return;const Ri=this._getDimension();this._element.style[Ri]=`${this._element.getBoundingClientRect()[Ri]}px`,reflow(this._element),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.classList.remove(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW$7);for(const rs of this._triggerArray){const is=SelectorEngine.getElementFromSelector(rs);is&&!this._isShown(is)&&this._addAriaAndCollapsedClass([rs],!1)}this._isTransitioning=!0;const ts=()=>{this._isTransitioning=!1,this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE),EventHandler.trigger(this._element,EVENT_HIDDEN$6)};this._element.style[Ri]="",this._queueCallback(ts,this._element,!0)}_isShown(ki=this._element){return ki.classList.contains(CLASS_NAME_SHOW$7)}_configAfterMerge(ki){return ki.toggle=!!ki.toggle,ki.parent=getElement(ki.parent),ki}_getDimension(){return this._element.classList.contains(CLASS_NAME_HORIZONTAL)?WIDTH:HEIGHT}_initializeChildren(){if(!this._config.parent)return;const ki=this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE$4);for(const Ri of ki){const ts=SelectorEngine.getElementFromSelector(Ri);ts&&this._addAriaAndCollapsedClass([Ri],this._isShown(ts))}}_getFirstLevelChildren(ki){const Ri=SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN,this._config.parent);return SelectorEngine.find(ki,this._config.parent).filter(ts=>!Ri.includes(ts))}_addAriaAndCollapsedClass(ki,Ri){if(ki.length)for(const ts of ki)ts.classList.toggle(CLASS_NAME_COLLAPSED,!Ri),ts.setAttribute("aria-expanded",Ri)}static jQueryInterface(ki){const Ri={};return typeof ki=="string"&&/show|hide/.test(ki)&&(Ri.toggle=!1),this.each(function(){const ts=Collapse.getOrCreateInstance(this,Ri);if(typeof ki=="string"){if(typeof ts[ki]>"u")throw new TypeError(`No method named "${ki}"`);ts[ki]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$4,SELECTOR_DATA_TOGGLE$4,function(es){(es.target.tagName==="A"||es.delegateTarget&&es.delegateTarget.tagName==="A")&&es.preventDefault();for(const ki of SelectorEngine.getMultipleElementsFromSelector(this))Collapse.getOrCreateInstance(ki,{toggle:!1}).toggle()});defineJQueryPlugin(Collapse);const NAME$a="dropdown",DATA_KEY$6="bs.dropdown",EVENT_KEY$6=`.${DATA_KEY$6}`,DATA_API_KEY$3=".data-api",ESCAPE_KEY$2="Escape",TAB_KEY$1="Tab",ARROW_UP_KEY$1="ArrowUp",ARROW_DOWN_KEY$1="ArrowDown",RIGHT_MOUSE_BUTTON=2,EVENT_HIDE$5=`hide${EVENT_KEY$6}`,EVENT_HIDDEN$5=`hidden${EVENT_KEY$6}`,EVENT_SHOW$5=`show${EVENT_KEY$6}`,EVENT_SHOWN$5=`shown${EVENT_KEY$6}`,EVENT_CLICK_DATA_API$3=`click${EVENT_KEY$6}${DATA_API_KEY$3}`,EVENT_KEYDOWN_DATA_API=`keydown${EVENT_KEY$6}${DATA_API_KEY$3}`,EVENT_KEYUP_DATA_API=`keyup${EVENT_KEY$6}${DATA_API_KEY$3}`,CLASS_NAME_SHOW$6="show",CLASS_NAME_DROPUP="dropup",CLASS_NAME_DROPEND="dropend",CLASS_NAME_DROPSTART="dropstart",CLASS_NAME_DROPUP_CENTER="dropup-center",CLASS_NAME_DROPDOWN_CENTER="dropdown-center",SELECTOR_DATA_TOGGLE$3='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',SELECTOR_DATA_TOGGLE_SHOWN=`${SELECTOR_DATA_TOGGLE$3}.${CLASS_NAME_SHOW$6}`,SELECTOR_MENU=".dropdown-menu",SELECTOR_NAVBAR=".navbar",SELECTOR_NAVBAR_NAV=".navbar-nav",SELECTOR_VISIBLE_ITEMS=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",PLACEMENT_TOP=isRTL()?"top-end":"top-start",PLACEMENT_TOPEND=isRTL()?"top-start":"top-end",PLACEMENT_BOTTOM=isRTL()?"bottom-end":"bottom-start",PLACEMENT_BOTTOMEND=isRTL()?"bottom-start":"bottom-end",PLACEMENT_RIGHT=isRTL()?"left-start":"right-start",PLACEMENT_LEFT=isRTL()?"right-start":"left-start",PLACEMENT_TOPCENTER="top",PLACEMENT_BOTTOMCENTER="bottom",Default$9={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},DefaultType$9={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Dropdown extends BaseComponent{constructor(ki,Ri){super(ki,Ri),this._popper=null,this._parent=this._element.parentNode,this._menu=SelectorEngine.next(this._element,SELECTOR_MENU)[0]||SelectorEngine.prev(this._element,SELECTOR_MENU)[0]||SelectorEngine.findOne(SELECTOR_MENU,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Default$9}static get DefaultType(){return DefaultType$9}static get NAME(){return NAME$a}toggle(){return this._isShown()?this.hide():this.show()}show(){if(isDisabled(this._element)||this._isShown())return;const ki={relatedTarget:this._element};if(!EventHandler.trigger(this._element,EVENT_SHOW$5,ki).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(SELECTOR_NAVBAR_NAV))for(const ts of[].concat(...document.body.children))EventHandler.on(ts,"mouseover",noop$1);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(CLASS_NAME_SHOW$6),this._element.classList.add(CLASS_NAME_SHOW$6),EventHandler.trigger(this._element,EVENT_SHOWN$5,ki)}}hide(){if(isDisabled(this._element)||!this._isShown())return;const ki={relatedTarget:this._element};this._completeHide(ki)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(ki){if(!EventHandler.trigger(this._element,EVENT_HIDE$5,ki).defaultPrevented){if("ontouchstart"in document.documentElement)for(const ts of[].concat(...document.body.children))EventHandler.off(ts,"mouseover",noop$1);this._popper&&this._popper.destroy(),this._menu.classList.remove(CLASS_NAME_SHOW$6),this._element.classList.remove(CLASS_NAME_SHOW$6),this._element.setAttribute("aria-expanded","false"),Manipulator.removeDataAttribute(this._menu,"popper"),EventHandler.trigger(this._element,EVENT_HIDDEN$5,ki)}}_getConfig(ki){if(ki=super._getConfig(ki),typeof ki.reference=="object"&&!isElement(ki.reference)&&typeof ki.reference.getBoundingClientRect!="function")throw new TypeError(`${NAME$a.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return ki}_createPopper(){if(typeof Popper>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let ki=this._element;this._config.reference==="parent"?ki=this._parent:isElement(this._config.reference)?ki=getElement(this._config.reference):typeof this._config.reference=="object"&&(ki=this._config.reference);const Ri=this._getPopperConfig();this._popper=createPopper(ki,this._menu,Ri)}_isShown(){return this._menu.classList.contains(CLASS_NAME_SHOW$6)}_getPlacement(){const ki=this._parent;if(ki.classList.contains(CLASS_NAME_DROPEND))return PLACEMENT_RIGHT;if(ki.classList.contains(CLASS_NAME_DROPSTART))return PLACEMENT_LEFT;if(ki.classList.contains(CLASS_NAME_DROPUP_CENTER))return PLACEMENT_TOPCENTER;if(ki.classList.contains(CLASS_NAME_DROPDOWN_CENTER))return PLACEMENT_BOTTOMCENTER;const Ri=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return ki.classList.contains(CLASS_NAME_DROPUP)?Ri?PLACEMENT_TOPEND:PLACEMENT_TOP:Ri?PLACEMENT_BOTTOMEND:PLACEMENT_BOTTOM}_detectNavbar(){return this._element.closest(SELECTOR_NAVBAR)!==null}_getOffset(){const{offset:ki}=this._config;return typeof ki=="string"?ki.split(",").map(Ri=>Number.parseInt(Ri,10)):typeof ki=="function"?Ri=>ki(Ri,this._element):ki}_getPopperConfig(){const ki={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Manipulator.setDataAttribute(this._menu,"popper","static"),ki.modifiers=[{name:"applyStyles",enabled:!1}]),{...ki,...execute(this._config.popperConfig,[ki])}}_selectMenuItem({key:ki,target:Ri}){const ts=SelectorEngine.find(SELECTOR_VISIBLE_ITEMS,this._menu).filter(rs=>isVisible(rs));ts.length&&getNextActiveElement(ts,Ri,ki===ARROW_DOWN_KEY$1,!ts.includes(Ri)).focus()}static jQueryInterface(ki){return this.each(function(){const Ri=Dropdown.getOrCreateInstance(this,ki);if(typeof ki=="string"){if(typeof Ri[ki]>"u")throw new TypeError(`No method named "${ki}"`);Ri[ki]()}})}static clearMenus(ki){if(ki.button===RIGHT_MOUSE_BUTTON||ki.type==="keyup"&&ki.key!==TAB_KEY$1)return;const Ri=SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN);for(const ts of Ri){const rs=Dropdown.getInstance(ts);if(!rs||rs._config.autoClose===!1)continue;const is=ki.composedPath(),ns=is.includes(rs._menu);if(is.includes(rs._element)||rs._config.autoClose==="inside"&&!ns||rs._config.autoClose==="outside"&&ns||rs._menu.contains(ki.target)&&(ki.type==="keyup"&&ki.key===TAB_KEY$1||/input|select|option|textarea|form/i.test(ki.target.tagName)))continue;const ss={relatedTarget:rs._element};ki.type==="click"&&(ss.clickEvent=ki),rs._completeHide(ss)}}static dataApiKeydownHandler(ki){const Ri=/input|textarea/i.test(ki.target.tagName),ts=ki.key===ESCAPE_KEY$2,rs=[ARROW_UP_KEY$1,ARROW_DOWN_KEY$1].includes(ki.key);if(!rs&&!ts||Ri&&!ts)return;ki.preventDefault();const is=this.matches(SELECTOR_DATA_TOGGLE$3)?this:SelectorEngine.prev(this,SELECTOR_DATA_TOGGLE$3)[0]||SelectorEngine.next(this,SELECTOR_DATA_TOGGLE$3)[0]||SelectorEngine.findOne(SELECTOR_DATA_TOGGLE$3,ki.delegateTarget.parentNode),ns=Dropdown.getOrCreateInstance(is);if(rs){ki.stopPropagation(),ns.show(),ns._selectMenuItem(ki);return}ns._isShown()&&(ki.stopPropagation(),ns.hide(),is.focus())}}EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_DATA_TOGGLE$3,Dropdown.dataApiKeydownHandler);EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_MENU,Dropdown.dataApiKeydownHandler);EventHandler.on(document,EVENT_CLICK_DATA_API$3,Dropdown.clearMenus);EventHandler.on(document,EVENT_KEYUP_DATA_API,Dropdown.clearMenus);EventHandler.on(document,EVENT_CLICK_DATA_API$3,SELECTOR_DATA_TOGGLE$3,function(es){es.preventDefault(),Dropdown.getOrCreateInstance(this).toggle()});defineJQueryPlugin(Dropdown);const NAME$9="backdrop",CLASS_NAME_FADE$4="fade",CLASS_NAME_SHOW$5="show",EVENT_MOUSEDOWN=`mousedown.bs.${NAME$9}`,Default$8={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},DefaultType$8={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Backdrop extends Config$1{constructor(ki){super(),this._config=this._getConfig(ki),this._isAppended=!1,this._element=null}static get Default(){return Default$8}static get DefaultType(){return DefaultType$8}static get NAME(){return NAME$9}show(ki){if(!this._config.isVisible){execute(ki);return}this._append();const Ri=this._getElement();this._config.isAnimated&&reflow(Ri),Ri.classList.add(CLASS_NAME_SHOW$5),this._emulateAnimation(()=>{execute(ki)})}hide(ki){if(!this._config.isVisible){execute(ki);return}this._getElement().classList.remove(CLASS_NAME_SHOW$5),this._emulateAnimation(()=>{this.dispose(),execute(ki)})}dispose(){this._isAppended&&(EventHandler.off(this._element,EVENT_MOUSEDOWN),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const ki=document.createElement("div");ki.className=this._config.className,this._config.isAnimated&&ki.classList.add(CLASS_NAME_FADE$4),this._element=ki}return this._element}_configAfterMerge(ki){return ki.rootElement=getElement(ki.rootElement),ki}_append(){if(this._isAppended)return;const ki=this._getElement();this._config.rootElement.append(ki),EventHandler.on(ki,EVENT_MOUSEDOWN,()=>{execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(ki){executeAfterTransition(ki,this._getElement(),this._config.isAnimated)}}const NAME$8="focustrap",DATA_KEY$5="bs.focustrap",EVENT_KEY$5=`.${DATA_KEY$5}`,EVENT_FOCUSIN$2=`focusin${EVENT_KEY$5}`,EVENT_KEYDOWN_TAB=`keydown.tab${EVENT_KEY$5}`,TAB_KEY="Tab",TAB_NAV_FORWARD="forward",TAB_NAV_BACKWARD="backward",Default$7={autofocus:!0,trapElement:null},DefaultType$7={autofocus:"boolean",trapElement:"element"};class FocusTrap extends Config$1{constructor(ki){super(),this._config=this._getConfig(ki),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Default$7}static get DefaultType(){return DefaultType$7}static get NAME(){return NAME$8}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),EventHandler.off(document,EVENT_KEY$5),EventHandler.on(document,EVENT_FOCUSIN$2,ki=>this._handleFocusin(ki)),EventHandler.on(document,EVENT_KEYDOWN_TAB,ki=>this._handleKeydown(ki)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,EventHandler.off(document,EVENT_KEY$5))}_handleFocusin(ki){const{trapElement:Ri}=this._config;if(ki.target===document||ki.target===Ri||Ri.contains(ki.target))return;const ts=SelectorEngine.focusableChildren(Ri);ts.length===0?Ri.focus():this._lastTabNavDirection===TAB_NAV_BACKWARD?ts[ts.length-1].focus():ts[0].focus()}_handleKeydown(ki){ki.key===TAB_KEY&&(this._lastTabNavDirection=ki.shiftKey?TAB_NAV_BACKWARD:TAB_NAV_FORWARD)}}const SELECTOR_FIXED_CONTENT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",SELECTOR_STICKY_CONTENT=".sticky-top",PROPERTY_PADDING="padding-right",PROPERTY_MARGIN="margin-right";class ScrollBarHelper{constructor(){this._element=document.body}getWidth(){const ki=document.documentElement.clientWidth;return Math.abs(window.innerWidth-ki)}hide(){const ki=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,PROPERTY_PADDING,Ri=>Ri+ki),this._setElementAttributes(SELECTOR_FIXED_CONTENT,PROPERTY_PADDING,Ri=>Ri+ki),this._setElementAttributes(SELECTOR_STICKY_CONTENT,PROPERTY_MARGIN,Ri=>Ri-ki)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,PROPERTY_PADDING),this._resetElementAttributes(SELECTOR_FIXED_CONTENT,PROPERTY_PADDING),this._resetElementAttributes(SELECTOR_STICKY_CONTENT,PROPERTY_MARGIN)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(ki,Ri,ts){const rs=this.getWidth(),is=ns=>{if(ns!==this._element&&window.innerWidth>ns.clientWidth+rs)return;this._saveInitialAttribute(ns,Ri);const ss=window.getComputedStyle(ns).getPropertyValue(Ri);ns.style.setProperty(Ri,`${ts(Number.parseFloat(ss))}px`)};this._applyManipulationCallback(ki,is)}_saveInitialAttribute(ki,Ri){const ts=ki.style.getPropertyValue(Ri);ts&&Manipulator.setDataAttribute(ki,Ri,ts)}_resetElementAttributes(ki,Ri){const ts=rs=>{const is=Manipulator.getDataAttribute(rs,Ri);if(is===null){rs.style.removeProperty(Ri);return}Manipulator.removeDataAttribute(rs,Ri),rs.style.setProperty(Ri,is)};this._applyManipulationCallback(ki,ts)}_applyManipulationCallback(ki,Ri){if(isElement(ki)){Ri(ki);return}for(const ts of SelectorEngine.find(ki,this._element))Ri(ts)}}const NAME$7="modal",DATA_KEY$4="bs.modal",EVENT_KEY$4=`.${DATA_KEY$4}`,DATA_API_KEY$2=".data-api",ESCAPE_KEY$1="Escape",EVENT_HIDE$4=`hide${EVENT_KEY$4}`,EVENT_HIDE_PREVENTED$1=`hidePrevented${EVENT_KEY$4}`,EVENT_HIDDEN$4=`hidden${EVENT_KEY$4}`,EVENT_SHOW$4=`show${EVENT_KEY$4}`,EVENT_SHOWN$4=`shown${EVENT_KEY$4}`,EVENT_RESIZE$1=`resize${EVENT_KEY$4}`,EVENT_CLICK_DISMISS=`click.dismiss${EVENT_KEY$4}`,EVENT_MOUSEDOWN_DISMISS=`mousedown.dismiss${EVENT_KEY$4}`,EVENT_KEYDOWN_DISMISS$1=`keydown.dismiss${EVENT_KEY$4}`,EVENT_CLICK_DATA_API$2=`click${EVENT_KEY$4}${DATA_API_KEY$2}`,CLASS_NAME_OPEN="modal-open",CLASS_NAME_FADE$3="fade",CLASS_NAME_SHOW$4="show",CLASS_NAME_STATIC="modal-static",OPEN_SELECTOR$1=".modal.show",SELECTOR_DIALOG=".modal-dialog",SELECTOR_MODAL_BODY=".modal-body",SELECTOR_DATA_TOGGLE$2='[data-bs-toggle="modal"]',Default$6={backdrop:!0,focus:!0,keyboard:!0},DefaultType$6={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Modal extends BaseComponent{constructor(ki,Ri){super(ki,Ri),this._dialog=SelectorEngine.findOne(SELECTOR_DIALOG,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ScrollBarHelper,this._addEventListeners()}static get Default(){return Default$6}static get DefaultType(){return DefaultType$6}static get NAME(){return NAME$7}toggle(ki){return this._isShown?this.hide():this.show(ki)}show(ki){this._isShown||this._isTransitioning||EventHandler.trigger(this._element,EVENT_SHOW$4,{relatedTarget:ki}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(CLASS_NAME_OPEN),this._adjustDialog(),this._backdrop.show(()=>this._showElement(ki)))}hide(){!this._isShown||this._isTransitioning||EventHandler.trigger(this._element,EVENT_HIDE$4).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(CLASS_NAME_SHOW$4),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){EventHandler.off(window,EVENT_KEY$4),EventHandler.off(this._dialog,EVENT_KEY$4),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Backdrop({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new FocusTrap({trapElement:this._element})}_showElement(ki){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const Ri=SelectorEngine.findOne(SELECTOR_MODAL_BODY,this._dialog);Ri&&(Ri.scrollTop=0),reflow(this._element),this._element.classList.add(CLASS_NAME_SHOW$4);const ts=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,EventHandler.trigger(this._element,EVENT_SHOWN$4,{relatedTarget:ki})};this._queueCallback(ts,this._dialog,this._isAnimated())}_addEventListeners(){EventHandler.on(this._element,EVENT_KEYDOWN_DISMISS$1,ki=>{if(ki.key===ESCAPE_KEY$1){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),EventHandler.on(window,EVENT_RESIZE$1,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),EventHandler.on(this._element,EVENT_MOUSEDOWN_DISMISS,ki=>{EventHandler.one(this._element,EVENT_CLICK_DISMISS,Ri=>{if(!(this._element!==ki.target||this._element!==Ri.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(CLASS_NAME_OPEN),this._resetAdjustments(),this._scrollBar.reset(),EventHandler.trigger(this._element,EVENT_HIDDEN$4)})}_isAnimated(){return this._element.classList.contains(CLASS_NAME_FADE$3)}_triggerBackdropTransition(){if(EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED$1).defaultPrevented)return;const Ri=this._element.scrollHeight>document.documentElement.clientHeight,ts=this._element.style.overflowY;ts==="hidden"||this._element.classList.contains(CLASS_NAME_STATIC)||(Ri||(this._element.style.overflowY="hidden"),this._element.classList.add(CLASS_NAME_STATIC),this._queueCallback(()=>{this._element.classList.remove(CLASS_NAME_STATIC),this._queueCallback(()=>{this._element.style.overflowY=ts},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const ki=this._element.scrollHeight>document.documentElement.clientHeight,Ri=this._scrollBar.getWidth(),ts=Ri>0;if(ts&&!ki){const rs=isRTL()?"paddingLeft":"paddingRight";this._element.style[rs]=`${Ri}px`}if(!ts&&ki){const rs=isRTL()?"paddingRight":"paddingLeft";this._element.style[rs]=`${Ri}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(ki,Ri){return this.each(function(){const ts=Modal.getOrCreateInstance(this,ki);if(typeof ki=="string"){if(typeof ts[ki]>"u")throw new TypeError(`No method named "${ki}"`);ts[ki](Ri)}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$2,SELECTOR_DATA_TOGGLE$2,function(es){const ki=SelectorEngine.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&es.preventDefault(),EventHandler.one(ki,EVENT_SHOW$4,rs=>{rs.defaultPrevented||EventHandler.one(ki,EVENT_HIDDEN$4,()=>{isVisible(this)&&this.focus()})});const Ri=SelectorEngine.findOne(OPEN_SELECTOR$1);Ri&&Modal.getInstance(Ri).hide(),Modal.getOrCreateInstance(ki).toggle(this)});enableDismissTrigger(Modal);defineJQueryPlugin(Modal);const NAME$6="offcanvas",DATA_KEY$3="bs.offcanvas",EVENT_KEY$3=`.${DATA_KEY$3}`,DATA_API_KEY$1=".data-api",EVENT_LOAD_DATA_API$2=`load${EVENT_KEY$3}${DATA_API_KEY$1}`,ESCAPE_KEY="Escape",CLASS_NAME_SHOW$3="show",CLASS_NAME_SHOWING$1="showing",CLASS_NAME_HIDING="hiding",CLASS_NAME_BACKDROP="offcanvas-backdrop",OPEN_SELECTOR=".offcanvas.show",EVENT_SHOW$3=`show${EVENT_KEY$3}`,EVENT_SHOWN$3=`shown${EVENT_KEY$3}`,EVENT_HIDE$3=`hide${EVENT_KEY$3}`,EVENT_HIDE_PREVENTED=`hidePrevented${EVENT_KEY$3}`,EVENT_HIDDEN$3=`hidden${EVENT_KEY$3}`,EVENT_RESIZE=`resize${EVENT_KEY$3}`,EVENT_CLICK_DATA_API$1=`click${EVENT_KEY$3}${DATA_API_KEY$1}`,EVENT_KEYDOWN_DISMISS=`keydown.dismiss${EVENT_KEY$3}`,SELECTOR_DATA_TOGGLE$1='[data-bs-toggle="offcanvas"]',Default$5={backdrop:!0,keyboard:!0,scroll:!1},DefaultType$5={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Offcanvas extends BaseComponent{constructor(ki,Ri){super(ki,Ri),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Default$5}static get DefaultType(){return DefaultType$5}static get NAME(){return NAME$6}toggle(ki){return this._isShown?this.hide():this.show(ki)}show(ki){if(this._isShown||EventHandler.trigger(this._element,EVENT_SHOW$3,{relatedTarget:ki}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ScrollBarHelper().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(CLASS_NAME_SHOWING$1);const ts=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(CLASS_NAME_SHOW$3),this._element.classList.remove(CLASS_NAME_SHOWING$1),EventHandler.trigger(this._element,EVENT_SHOWN$3,{relatedTarget:ki})};this._queueCallback(ts,this._element,!0)}hide(){if(!this._isShown||EventHandler.trigger(this._element,EVENT_HIDE$3).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(CLASS_NAME_HIDING),this._backdrop.hide();const Ri=()=>{this._element.classList.remove(CLASS_NAME_SHOW$3,CLASS_NAME_HIDING),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ScrollBarHelper().reset(),EventHandler.trigger(this._element,EVENT_HIDDEN$3)};this._queueCallback(Ri,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const ki=()=>{if(this._config.backdrop==="static"){EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED);return}this.hide()},Ri=!!this._config.backdrop;return new Backdrop({className:CLASS_NAME_BACKDROP,isVisible:Ri,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:Ri?ki:null})}_initializeFocusTrap(){return new FocusTrap({trapElement:this._element})}_addEventListeners(){EventHandler.on(this._element,EVENT_KEYDOWN_DISMISS,ki=>{if(ki.key===ESCAPE_KEY){if(this._config.keyboard){this.hide();return}EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED)}})}static jQueryInterface(ki){return this.each(function(){const Ri=Offcanvas.getOrCreateInstance(this,ki);if(typeof ki=="string"){if(Ri[ki]===void 0||ki.startsWith("_")||ki==="constructor")throw new TypeError(`No method named "${ki}"`);Ri[ki](this)}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$1,SELECTOR_DATA_TOGGLE$1,function(es){const ki=SelectorEngine.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&es.preventDefault(),isDisabled(this))return;EventHandler.one(ki,EVENT_HIDDEN$3,()=>{isVisible(this)&&this.focus()});const Ri=SelectorEngine.findOne(OPEN_SELECTOR);Ri&&Ri!==ki&&Offcanvas.getInstance(Ri).hide(),Offcanvas.getOrCreateInstance(ki).toggle(this)});EventHandler.on(window,EVENT_LOAD_DATA_API$2,()=>{for(const es of SelectorEngine.find(OPEN_SELECTOR))Offcanvas.getOrCreateInstance(es).show()});EventHandler.on(window,EVENT_RESIZE,()=>{for(const es of SelectorEngine.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(es).position!=="fixed"&&Offcanvas.getOrCreateInstance(es).hide()});enableDismissTrigger(Offcanvas);defineJQueryPlugin(Offcanvas);const ARIA_ATTRIBUTE_PATTERN=/^aria-[\w-]*$/i,DefaultAllowlist={"*":["class","dir","id","lang","role",ARIA_ATTRIBUTE_PATTERN],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},uriAttributes=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),SAFE_URL_PATTERN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,allowedAttribute=(es,ki)=>{const Ri=es.nodeName.toLowerCase();return ki.includes(Ri)?uriAttributes.has(Ri)?!!SAFE_URL_PATTERN.test(es.nodeValue):!0:ki.filter(ts=>ts instanceof RegExp).some(ts=>ts.test(Ri))};function sanitizeHtml(es,ki,Ri){if(!es.length)return es;if(Ri&&typeof Ri=="function")return Ri(es);const rs=new window.DOMParser().parseFromString(es,"text/html"),is=[].concat(...rs.body.querySelectorAll("*"));for(const ns of is){const ss=ns.nodeName.toLowerCase();if(!Object.keys(ki).includes(ss)){ns.remove();continue}const os=[].concat(...ns.attributes),ls=[].concat(ki["*"]||[],ki[ss]||[]);for(const cs of os)allowedAttribute(cs,ls)||ns.removeAttribute(cs.nodeName)}return rs.body.innerHTML}const NAME$5="TemplateFactory",Default$4={allowList:DefaultAllowlist,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},DefaultType$4={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},DefaultContentType={entry:"(string|element|function|null)",selector:"(string|element)"};class TemplateFactory extends Config$1{constructor(ki){super(),this._config=this._getConfig(ki)}static get Default(){return Default$4}static get DefaultType(){return DefaultType$4}static get NAME(){return NAME$5}getContent(){return Object.values(this._config.content).map(ki=>this._resolvePossibleFunction(ki)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(ki){return this._checkContent(ki),this._config.content={...this._config.content,...ki},this}toHtml(){const ki=document.createElement("div");ki.innerHTML=this._maybeSanitize(this._config.template);for(const[rs,is]of Object.entries(this._config.content))this._setContent(ki,is,rs);const Ri=ki.children[0],ts=this._resolvePossibleFunction(this._config.extraClass);return ts&&Ri.classList.add(...ts.split(" ")),Ri}_typeCheckConfig(ki){super._typeCheckConfig(ki),this._checkContent(ki.content)}_checkContent(ki){for(const[Ri,ts]of Object.entries(ki))super._typeCheckConfig({selector:Ri,entry:ts},DefaultContentType)}_setContent(ki,Ri,ts){const rs=SelectorEngine.findOne(ts,ki);if(rs){if(Ri=this._resolvePossibleFunction(Ri),!Ri){rs.remove();return}if(isElement(Ri)){this._putElementInTemplate(getElement(Ri),rs);return}if(this._config.html){rs.innerHTML=this._maybeSanitize(Ri);return}rs.textContent=Ri}}_maybeSanitize(ki){return this._config.sanitize?sanitizeHtml(ki,this._config.allowList,this._config.sanitizeFn):ki}_resolvePossibleFunction(ki){return execute(ki,[this])}_putElementInTemplate(ki,Ri){if(this._config.html){Ri.innerHTML="",Ri.append(ki);return}Ri.textContent=ki.textContent}}const NAME$4="tooltip",DISALLOWED_ATTRIBUTES=new Set(["sanitize","allowList","sanitizeFn"]),CLASS_NAME_FADE$2="fade",CLASS_NAME_MODAL="modal",CLASS_NAME_SHOW$2="show",SELECTOR_TOOLTIP_INNER=".tooltip-inner",SELECTOR_MODAL=`.${CLASS_NAME_MODAL}`,EVENT_MODAL_HIDE="hide.bs.modal",TRIGGER_HOVER="hover",TRIGGER_FOCUS="focus",TRIGGER_CLICK="click",TRIGGER_MANUAL="manual",EVENT_HIDE$2="hide",EVENT_HIDDEN$2="hidden",EVENT_SHOW$2="show",EVENT_SHOWN$2="shown",EVENT_INSERTED="inserted",EVENT_CLICK$1="click",EVENT_FOCUSIN$1="focusin",EVENT_FOCUSOUT$1="focusout",EVENT_MOUSEENTER="mouseenter",EVENT_MOUSELEAVE="mouseleave",AttachmentMap={AUTO:"auto",TOP:"top",RIGHT:isRTL()?"left":"right",BOTTOM:"bottom",LEFT:isRTL()?"right":"left"},Default$3={allowList:DefaultAllowlist,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},DefaultType$3={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Tooltip extends BaseComponent{constructor(ki,Ri){if(typeof Popper>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(ki,Ri),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Default$3}static get DefaultType(){return DefaultType$3}static get NAME(){return NAME$4}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),EventHandler.off(this._element.closest(SELECTOR_MODAL),EVENT_MODAL_HIDE,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const ki=EventHandler.trigger(this._element,this.constructor.eventName(EVENT_SHOW$2)),ts=(findShadowRoot(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(ki.defaultPrevented||!ts)return;this._disposePopper();const rs=this._getTipElement();this._element.setAttribute("aria-describedby",rs.getAttribute("id"));const{container:is}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(is.append(rs),EventHandler.trigger(this._element,this.constructor.eventName(EVENT_INSERTED))),this._popper=this._createPopper(rs),rs.classList.add(CLASS_NAME_SHOW$2),"ontouchstart"in document.documentElement)for(const ss of[].concat(...document.body.children))EventHandler.on(ss,"mouseover",noop$1);const ns=()=>{EventHandler.trigger(this._element,this.constructor.eventName(EVENT_SHOWN$2)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(ns,this.tip,this._isAnimated())}hide(){if(!this._isShown()||EventHandler.trigger(this._element,this.constructor.eventName(EVENT_HIDE$2)).defaultPrevented)return;if(this._getTipElement().classList.remove(CLASS_NAME_SHOW$2),"ontouchstart"in document.documentElement)for(const rs of[].concat(...document.body.children))EventHandler.off(rs,"mouseover",noop$1);this._activeTrigger[TRIGGER_CLICK]=!1,this._activeTrigger[TRIGGER_FOCUS]=!1,this._activeTrigger[TRIGGER_HOVER]=!1,this._isHovered=null;const ts=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),EventHandler.trigger(this._element,this.constructor.eventName(EVENT_HIDDEN$2)))};this._queueCallback(ts,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(ki){const Ri=this._getTemplateFactory(ki).toHtml();if(!Ri)return null;Ri.classList.remove(CLASS_NAME_FADE$2,CLASS_NAME_SHOW$2),Ri.classList.add(`bs-${this.constructor.NAME}-auto`);const ts=getUID(this.constructor.NAME).toString();return Ri.setAttribute("id",ts),this._isAnimated()&&Ri.classList.add(CLASS_NAME_FADE$2),Ri}setContent(ki){this._newContent=ki,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(ki){return this._templateFactory?this._templateFactory.changeContent(ki):this._templateFactory=new TemplateFactory({...this._config,content:ki,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[SELECTOR_TOOLTIP_INNER]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(ki){return this.constructor.getOrCreateInstance(ki.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(CLASS_NAME_FADE$2)}_isShown(){return this.tip&&this.tip.classList.contains(CLASS_NAME_SHOW$2)}_createPopper(ki){const Ri=execute(this._config.placement,[this,ki,this._element]),ts=AttachmentMap[Ri.toUpperCase()];return createPopper(this._element,ki,this._getPopperConfig(ts))}_getOffset(){const{offset:ki}=this._config;return typeof ki=="string"?ki.split(",").map(Ri=>Number.parseInt(Ri,10)):typeof ki=="function"?Ri=>ki(Ri,this._element):ki}_resolvePossibleFunction(ki){return execute(ki,[this._element])}_getPopperConfig(ki){const Ri={placement:ki,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:ts=>{this._getTipElement().setAttribute("data-popper-placement",ts.state.placement)}}]};return{...Ri,...execute(this._config.popperConfig,[Ri])}}_setListeners(){const ki=this._config.trigger.split(" ");for(const Ri of ki)if(Ri==="click")EventHandler.on(this._element,this.constructor.eventName(EVENT_CLICK$1),this._config.selector,ts=>{this._initializeOnDelegatedTarget(ts).toggle()});else if(Ri!==TRIGGER_MANUAL){const ts=Ri===TRIGGER_HOVER?this.constructor.eventName(EVENT_MOUSEENTER):this.constructor.eventName(EVENT_FOCUSIN$1),rs=Ri===TRIGGER_HOVER?this.constructor.eventName(EVENT_MOUSELEAVE):this.constructor.eventName(EVENT_FOCUSOUT$1);EventHandler.on(this._element,ts,this._config.selector,is=>{const ns=this._initializeOnDelegatedTarget(is);ns._activeTrigger[is.type==="focusin"?TRIGGER_FOCUS:TRIGGER_HOVER]=!0,ns._enter()}),EventHandler.on(this._element,rs,this._config.selector,is=>{const ns=this._initializeOnDelegatedTarget(is);ns._activeTrigger[is.type==="focusout"?TRIGGER_FOCUS:TRIGGER_HOVER]=ns._element.contains(is.relatedTarget),ns._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},EventHandler.on(this._element.closest(SELECTOR_MODAL),EVENT_MODAL_HIDE,this._hideModalHandler)}_fixTitle(){const ki=this._element.getAttribute("title");ki&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",ki),this._element.setAttribute("data-bs-original-title",ki),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(ki,Ri){clearTimeout(this._timeout),this._timeout=setTimeout(ki,Ri)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(ki){const Ri=Manipulator.getDataAttributes(this._element);for(const ts of Object.keys(Ri))DISALLOWED_ATTRIBUTES.has(ts)&&delete Ri[ts];return ki={...Ri,...typeof ki=="object"&&ki?ki:{}},ki=this._mergeConfigObj(ki),ki=this._configAfterMerge(ki),this._typeCheckConfig(ki),ki}_configAfterMerge(ki){return ki.container=ki.container===!1?document.body:getElement(ki.container),typeof ki.delay=="number"&&(ki.delay={show:ki.delay,hide:ki.delay}),typeof ki.title=="number"&&(ki.title=ki.title.toString()),typeof ki.content=="number"&&(ki.content=ki.content.toString()),ki}_getDelegateConfig(){const ki={};for(const[Ri,ts]of Object.entries(this._config))this.constructor.Default[Ri]!==ts&&(ki[Ri]=ts);return ki.selector=!1,ki.trigger="manual",ki}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(ki){return this.each(function(){const Ri=Tooltip.getOrCreateInstance(this,ki);if(typeof ki=="string"){if(typeof Ri[ki]>"u")throw new TypeError(`No method named "${ki}"`);Ri[ki]()}})}}defineJQueryPlugin(Tooltip);const NAME$3="popover",SELECTOR_TITLE=".popover-header",SELECTOR_CONTENT=".popover-body",Default$2={...Tooltip.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},DefaultType$2={...Tooltip.DefaultType,content:"(null|string|element|function)"};class Popover extends Tooltip{static get Default(){return Default$2}static get DefaultType(){return DefaultType$2}static get NAME(){return NAME$3}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[SELECTOR_TITLE]:this._getTitle(),[SELECTOR_CONTENT]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(ki){return this.each(function(){const Ri=Popover.getOrCreateInstance(this,ki);if(typeof ki=="string"){if(typeof Ri[ki]>"u")throw new TypeError(`No method named "${ki}"`);Ri[ki]()}})}}defineJQueryPlugin(Popover);const NAME$2="scrollspy",DATA_KEY$2="bs.scrollspy",EVENT_KEY$2=`.${DATA_KEY$2}`,DATA_API_KEY=".data-api",EVENT_ACTIVATE=`activate${EVENT_KEY$2}`,EVENT_CLICK=`click${EVENT_KEY$2}`,EVENT_LOAD_DATA_API$1=`load${EVENT_KEY$2}${DATA_API_KEY}`,CLASS_NAME_DROPDOWN_ITEM="dropdown-item",CLASS_NAME_ACTIVE$1="active",SELECTOR_DATA_SPY='[data-bs-spy="scroll"]',SELECTOR_TARGET_LINKS="[href]",SELECTOR_NAV_LIST_GROUP=".nav, .list-group",SELECTOR_NAV_LINKS=".nav-link",SELECTOR_NAV_ITEMS=".nav-item",SELECTOR_LIST_ITEMS=".list-group-item",SELECTOR_LINK_ITEMS=`${SELECTOR_NAV_LINKS}, ${SELECTOR_NAV_ITEMS} > ${SELECTOR_NAV_LINKS}, ${SELECTOR_LIST_ITEMS}`,SELECTOR_DROPDOWN=".dropdown",SELECTOR_DROPDOWN_TOGGLE$1=".dropdown-toggle",Default$1={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},DefaultType$1={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ScrollSpy extends BaseComponent{constructor(ki,Ri){super(ki,Ri),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Default$1}static get DefaultType(){return DefaultType$1}static get NAME(){return NAME$2}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const ki of this._observableSections.values())this._observer.observe(ki)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(ki){return ki.target=getElement(ki.target)||document.body,ki.rootMargin=ki.offset?`${ki.offset}px 0px -30%`:ki.rootMargin,typeof ki.threshold=="string"&&(ki.threshold=ki.threshold.split(",").map(Ri=>Number.parseFloat(Ri))),ki}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(EventHandler.off(this._config.target,EVENT_CLICK),EventHandler.on(this._config.target,EVENT_CLICK,SELECTOR_TARGET_LINKS,ki=>{const Ri=this._observableSections.get(ki.target.hash);if(Ri){ki.preventDefault();const ts=this._rootElement||window,rs=Ri.offsetTop-this._element.offsetTop;if(ts.scrollTo){ts.scrollTo({top:rs,behavior:"smooth"});return}ts.scrollTop=rs}}))}_getNewObserver(){const ki={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(Ri=>this._observerCallback(Ri),ki)}_observerCallback(ki){const Ri=ns=>this._targetLinks.get(`#${ns.target.id}`),ts=ns=>{this._previousScrollData.visibleEntryTop=ns.target.offsetTop,this._process(Ri(ns))},rs=(this._rootElement||document.documentElement).scrollTop,is=rs>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=rs;for(const ns of ki){if(!ns.isIntersecting){this._activeTarget=null,this._clearActiveClass(Ri(ns));continue}const ss=ns.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(is&&ss){if(ts(ns),!rs)return;continue}!is&&!ss&&ts(ns)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const ki=SelectorEngine.find(SELECTOR_TARGET_LINKS,this._config.target);for(const Ri of ki){if(!Ri.hash||isDisabled(Ri))continue;const ts=SelectorEngine.findOne(decodeURI(Ri.hash),this._element);isVisible(ts)&&(this._targetLinks.set(decodeURI(Ri.hash),Ri),this._observableSections.set(Ri.hash,ts))}}_process(ki){this._activeTarget!==ki&&(this._clearActiveClass(this._config.target),this._activeTarget=ki,ki.classList.add(CLASS_NAME_ACTIVE$1),this._activateParents(ki),EventHandler.trigger(this._element,EVENT_ACTIVATE,{relatedTarget:ki}))}_activateParents(ki){if(ki.classList.contains(CLASS_NAME_DROPDOWN_ITEM)){SelectorEngine.findOne(SELECTOR_DROPDOWN_TOGGLE$1,ki.closest(SELECTOR_DROPDOWN)).classList.add(CLASS_NAME_ACTIVE$1);return}for(const Ri of SelectorEngine.parents(ki,SELECTOR_NAV_LIST_GROUP))for(const ts of SelectorEngine.prev(Ri,SELECTOR_LINK_ITEMS))ts.classList.add(CLASS_NAME_ACTIVE$1)}_clearActiveClass(ki){ki.classList.remove(CLASS_NAME_ACTIVE$1);const Ri=SelectorEngine.find(`${SELECTOR_TARGET_LINKS}.${CLASS_NAME_ACTIVE$1}`,ki);for(const ts of Ri)ts.classList.remove(CLASS_NAME_ACTIVE$1)}static jQueryInterface(ki){return this.each(function(){const Ri=ScrollSpy.getOrCreateInstance(this,ki);if(typeof ki=="string"){if(Ri[ki]===void 0||ki.startsWith("_")||ki==="constructor")throw new TypeError(`No method named "${ki}"`);Ri[ki]()}})}}EventHandler.on(window,EVENT_LOAD_DATA_API$1,()=>{for(const es of SelectorEngine.find(SELECTOR_DATA_SPY))ScrollSpy.getOrCreateInstance(es)});defineJQueryPlugin(ScrollSpy);const NAME$1="tab",DATA_KEY$1="bs.tab",EVENT_KEY$1=`.${DATA_KEY$1}`,EVENT_HIDE$1=`hide${EVENT_KEY$1}`,EVENT_HIDDEN$1=`hidden${EVENT_KEY$1}`,EVENT_SHOW$1=`show${EVENT_KEY$1}`,EVENT_SHOWN$1=`shown${EVENT_KEY$1}`,EVENT_CLICK_DATA_API=`click${EVENT_KEY$1}`,EVENT_KEYDOWN=`keydown${EVENT_KEY$1}`,EVENT_LOAD_DATA_API=`load${EVENT_KEY$1}`,ARROW_LEFT_KEY="ArrowLeft",ARROW_RIGHT_KEY="ArrowRight",ARROW_UP_KEY="ArrowUp",ARROW_DOWN_KEY="ArrowDown",HOME_KEY="Home",END_KEY="End",CLASS_NAME_ACTIVE="active",CLASS_NAME_FADE$1="fade",CLASS_NAME_SHOW$1="show",CLASS_DROPDOWN="dropdown",SELECTOR_DROPDOWN_TOGGLE=".dropdown-toggle",SELECTOR_DROPDOWN_MENU=".dropdown-menu",NOT_SELECTOR_DROPDOWN_TOGGLE=`:not(${SELECTOR_DROPDOWN_TOGGLE})`,SELECTOR_TAB_PANEL='.list-group, .nav, [role="tablist"]',SELECTOR_OUTER=".nav-item, .list-group-item",SELECTOR_INNER=`.nav-link${NOT_SELECTOR_DROPDOWN_TOGGLE}, .list-group-item${NOT_SELECTOR_DROPDOWN_TOGGLE}, [role="tab"]${NOT_SELECTOR_DROPDOWN_TOGGLE}`,SELECTOR_DATA_TOGGLE='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',SELECTOR_INNER_ELEM=`${SELECTOR_INNER}, ${SELECTOR_DATA_TOGGLE}`,SELECTOR_DATA_TOGGLE_ACTIVE=`.${CLASS_NAME_ACTIVE}[data-bs-toggle="tab"], .${CLASS_NAME_ACTIVE}[data-bs-toggle="pill"], .${CLASS_NAME_ACTIVE}[data-bs-toggle="list"]`;class Tab extends BaseComponent{constructor(ki){super(ki),this._parent=this._element.closest(SELECTOR_TAB_PANEL),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),EventHandler.on(this._element,EVENT_KEYDOWN,Ri=>this._keydown(Ri)))}static get NAME(){return NAME$1}show(){const ki=this._element;if(this._elemIsActive(ki))return;const Ri=this._getActiveElem(),ts=Ri?EventHandler.trigger(Ri,EVENT_HIDE$1,{relatedTarget:ki}):null;EventHandler.trigger(ki,EVENT_SHOW$1,{relatedTarget:Ri}).defaultPrevented||ts&&ts.defaultPrevented||(this._deactivate(Ri,ki),this._activate(ki,Ri))}_activate(ki,Ri){if(!ki)return;ki.classList.add(CLASS_NAME_ACTIVE),this._activate(SelectorEngine.getElementFromSelector(ki));const ts=()=>{if(ki.getAttribute("role")!=="tab"){ki.classList.add(CLASS_NAME_SHOW$1);return}ki.removeAttribute("tabindex"),ki.setAttribute("aria-selected",!0),this._toggleDropDown(ki,!0),EventHandler.trigger(ki,EVENT_SHOWN$1,{relatedTarget:Ri})};this._queueCallback(ts,ki,ki.classList.contains(CLASS_NAME_FADE$1))}_deactivate(ki,Ri){if(!ki)return;ki.classList.remove(CLASS_NAME_ACTIVE),ki.blur(),this._deactivate(SelectorEngine.getElementFromSelector(ki));const ts=()=>{if(ki.getAttribute("role")!=="tab"){ki.classList.remove(CLASS_NAME_SHOW$1);return}ki.setAttribute("aria-selected",!1),ki.setAttribute("tabindex","-1"),this._toggleDropDown(ki,!1),EventHandler.trigger(ki,EVENT_HIDDEN$1,{relatedTarget:Ri})};this._queueCallback(ts,ki,ki.classList.contains(CLASS_NAME_FADE$1))}_keydown(ki){if(![ARROW_LEFT_KEY,ARROW_RIGHT_KEY,ARROW_UP_KEY,ARROW_DOWN_KEY,HOME_KEY,END_KEY].includes(ki.key))return;ki.stopPropagation(),ki.preventDefault();const Ri=this._getChildren().filter(rs=>!isDisabled(rs));let ts;if([HOME_KEY,END_KEY].includes(ki.key))ts=Ri[ki.key===HOME_KEY?0:Ri.length-1];else{const rs=[ARROW_RIGHT_KEY,ARROW_DOWN_KEY].includes(ki.key);ts=getNextActiveElement(Ri,ki.target,rs,!0)}ts&&(ts.focus({preventScroll:!0}),Tab.getOrCreateInstance(ts).show())}_getChildren(){return SelectorEngine.find(SELECTOR_INNER_ELEM,this._parent)}_getActiveElem(){return this._getChildren().find(ki=>this._elemIsActive(ki))||null}_setInitialAttributes(ki,Ri){this._setAttributeIfNotExists(ki,"role","tablist");for(const ts of Ri)this._setInitialAttributesOnChild(ts)}_setInitialAttributesOnChild(ki){ki=this._getInnerElement(ki);const Ri=this._elemIsActive(ki),ts=this._getOuterElement(ki);ki.setAttribute("aria-selected",Ri),ts!==ki&&this._setAttributeIfNotExists(ts,"role","presentation"),Ri||ki.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(ki,"role","tab"),this._setInitialAttributesOnTargetPanel(ki)}_setInitialAttributesOnTargetPanel(ki){const Ri=SelectorEngine.getElementFromSelector(ki);Ri&&(this._setAttributeIfNotExists(Ri,"role","tabpanel"),ki.id&&this._setAttributeIfNotExists(Ri,"aria-labelledby",`${ki.id}`))}_toggleDropDown(ki,Ri){const ts=this._getOuterElement(ki);if(!ts.classList.contains(CLASS_DROPDOWN))return;const rs=(is,ns)=>{const ss=SelectorEngine.findOne(is,ts);ss&&ss.classList.toggle(ns,Ri)};rs(SELECTOR_DROPDOWN_TOGGLE,CLASS_NAME_ACTIVE),rs(SELECTOR_DROPDOWN_MENU,CLASS_NAME_SHOW$1),ts.setAttribute("aria-expanded",Ri)}_setAttributeIfNotExists(ki,Ri,ts){ki.hasAttribute(Ri)||ki.setAttribute(Ri,ts)}_elemIsActive(ki){return ki.classList.contains(CLASS_NAME_ACTIVE)}_getInnerElement(ki){return ki.matches(SELECTOR_INNER_ELEM)?ki:SelectorEngine.findOne(SELECTOR_INNER_ELEM,ki)}_getOuterElement(ki){return ki.closest(SELECTOR_OUTER)||ki}static jQueryInterface(ki){return this.each(function(){const Ri=Tab.getOrCreateInstance(this);if(typeof ki=="string"){if(Ri[ki]===void 0||ki.startsWith("_")||ki==="constructor")throw new TypeError(`No method named "${ki}"`);Ri[ki]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,function(es){["A","AREA"].includes(this.tagName)&&es.preventDefault(),!isDisabled(this)&&Tab.getOrCreateInstance(this).show()});EventHandler.on(window,EVENT_LOAD_DATA_API,()=>{for(const es of SelectorEngine.find(SELECTOR_DATA_TOGGLE_ACTIVE))Tab.getOrCreateInstance(es)});defineJQueryPlugin(Tab);const NAME="toast",DATA_KEY="bs.toast",EVENT_KEY=`.${DATA_KEY}`,EVENT_MOUSEOVER=`mouseover${EVENT_KEY}`,EVENT_MOUSEOUT=`mouseout${EVENT_KEY}`,EVENT_FOCUSIN=`focusin${EVENT_KEY}`,EVENT_FOCUSOUT=`focusout${EVENT_KEY}`,EVENT_HIDE=`hide${EVENT_KEY}`,EVENT_HIDDEN=`hidden${EVENT_KEY}`,EVENT_SHOW=`show${EVENT_KEY}`,EVENT_SHOWN=`shown${EVENT_KEY}`,CLASS_NAME_FADE="fade",CLASS_NAME_HIDE="hide",CLASS_NAME_SHOW="show",CLASS_NAME_SHOWING="showing",DefaultType={animation:"boolean",autohide:"boolean",delay:"number"},Default={animation:!0,autohide:!0,delay:5e3};class Toast extends BaseComponent{constructor(ki,Ri){super(ki,Ri),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Default}static get DefaultType(){return DefaultType}static get NAME(){return NAME}show(){if(EventHandler.trigger(this._element,EVENT_SHOW).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(CLASS_NAME_FADE);const Ri=()=>{this._element.classList.remove(CLASS_NAME_SHOWING),EventHandler.trigger(this._element,EVENT_SHOWN),this._maybeScheduleHide()};this._element.classList.remove(CLASS_NAME_HIDE),reflow(this._element),this._element.classList.add(CLASS_NAME_SHOW,CLASS_NAME_SHOWING),this._queueCallback(Ri,this._element,this._config.animation)}hide(){if(!this.isShown()||EventHandler.trigger(this._element,EVENT_HIDE).defaultPrevented)return;const Ri=()=>{this._element.classList.add(CLASS_NAME_HIDE),this._element.classList.remove(CLASS_NAME_SHOWING,CLASS_NAME_SHOW),EventHandler.trigger(this._element,EVENT_HIDDEN)};this._element.classList.add(CLASS_NAME_SHOWING),this._queueCallback(Ri,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(CLASS_NAME_SHOW),super.dispose()}isShown(){return this._element.classList.contains(CLASS_NAME_SHOW)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(ki,Ri){switch(ki.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=Ri;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=Ri;break}}if(Ri){this._clearTimeout();return}const ts=ki.relatedTarget;this._element===ts||this._element.contains(ts)||this._maybeScheduleHide()}_setListeners(){EventHandler.on(this._element,EVENT_MOUSEOVER,ki=>this._onInteraction(ki,!0)),EventHandler.on(this._element,EVENT_MOUSEOUT,ki=>this._onInteraction(ki,!1)),EventHandler.on(this._element,EVENT_FOCUSIN,ki=>this._onInteraction(ki,!0)),EventHandler.on(this._element,EVENT_FOCUSOUT,ki=>this._onInteraction(ki,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(ki){return this.each(function(){const Ri=Toast.getOrCreateInstance(this,ki);if(typeof ki=="string"){if(typeof Ri[ki]>"u")throw new TypeError(`No method named "${ki}"`);Ri[ki](this)}})}}enableDismissTrigger(Toast);defineJQueryPlugin(Toast);const bootstrap=Object.freeze(Object.defineProperty({__proto__:null,Alert,Button,Carousel,Collapse,Dropdown,Modal,Offcanvas,Popover,ScrollSpy,Tab,Toast,Tooltip},Symbol.toStringTag,{value:"Module"}));/*!
Turbo 8.0.12
Copyright © 2024 37signals LLC
 */(function(es){if(typeof es.requestSubmit=="function")return;es.requestSubmit=function(ts){ts?(ki(ts,this),ts.click()):(ts=document.createElement("input"),ts.type="submit",ts.hidden=!0,this.appendChild(ts),ts.click(),this.removeChild(ts))};function ki(ts,rs){ts instanceof HTMLElement||Ri(TypeError,"parameter 1 is not of type 'HTMLElement'"),ts.type=="submit"||Ri(TypeError,"The specified element is not a submit button"),ts.form==rs||Ri(DOMException,"The specified element is not owned by this form element","NotFoundError")}function Ri(ts,rs,is){throw new ts("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+rs+".",is)}})(HTMLFormElement.prototype);const submittersByForm=new WeakMap;function findSubmitterFromClickTarget(es){const ki=es instanceof Element?es:es instanceof Node?es.parentElement:null,Ri=ki?ki.closest("input, button"):null;return(Ri==null?void 0:Ri.type)=="submit"?Ri:null}function clickCaptured(es){const ki=findSubmitterFromClickTarget(es.target);ki&&ki.form&&submittersByForm.set(ki.form,ki)}(function(){if("submitter"in Event.prototype)return;let es=window.Event.prototype;if("SubmitEvent"in window){const ki=window.SubmitEvent.prototype;if(/Apple Computer/.test(navigator.vendor)&&!("submitter"in ki))es=ki;else return}addEventListener("click",clickCaptured,!0),Object.defineProperty(es,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return submittersByForm.get(this.target)}})})();const FrameLoadingStyle={eager:"eager",lazy:"lazy"},fv=class fv extends HTMLElement{constructor(){super();Ho(this,"loaded",Promise.resolve());this.delegate=new fv.delegateConstructor(this)}static get observedAttributes(){return["disabled","loading","src"]}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(Ri){Ri=="loading"?this.delegate.loadingStyleChanged():Ri=="src"?this.delegate.sourceURLChanged():Ri=="disabled"&&this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(Ri){Ri?this.setAttribute("src",Ri):this.removeAttribute("src")}get refresh(){return this.getAttribute("refresh")}set refresh(Ri){Ri?this.setAttribute("refresh",Ri):this.removeAttribute("refresh")}get shouldReloadWithMorph(){return this.src&&this.refresh==="morph"}get loading(){return frameLoadingStyleFromString(this.getAttribute("loading")||"")}set loading(Ri){Ri?this.setAttribute("loading",Ri):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(Ri){Ri?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(Ri){Ri?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var Ri,ts;return(ts=(Ri=this.ownerDocument)==null?void 0:Ri.documentElement)==null?void 0:ts.hasAttribute("data-turbo-preview")}};Ho(fv,"delegateConstructor");let FrameElement=fv;function frameLoadingStyleFromString(es){switch(es.toLowerCase()){case"lazy":return FrameLoadingStyle.lazy;default:return FrameLoadingStyle.eager}}const drive={enabled:!0,progressBarDelay:500,unvisitableExtensions:new Set([".7z",".aac",".apk",".avi",".bmp",".bz2",".css",".csv",".deb",".dmg",".doc",".docx",".exe",".gif",".gz",".heic",".heif",".ico",".iso",".jpeg",".jpg",".js",".json",".m4a",".mkv",".mov",".mp3",".mp4",".mpeg",".mpg",".msi",".ogg",".ogv",".pdf",".pkg",".png",".ppt",".pptx",".rar",".rtf",".svg",".tar",".tif",".tiff",".txt",".wav",".webm",".webp",".wma",".wmv",".xls",".xlsx",".xml",".zip"])};function activateScriptElement(es){if(es.getAttribute("data-turbo-eval")=="false")return es;{const ki=document.createElement("script"),Ri=getCspNonce();return Ri&&(ki.nonce=Ri),ki.textContent=es.textContent,ki.async=!1,copyElementAttributes(ki,es),ki}}function copyElementAttributes(es,ki){for(const{name:Ri,value:ts}of ki.attributes)es.setAttribute(Ri,ts)}function createDocumentFragment(es){const ki=document.createElement("template");return ki.innerHTML=es,ki.content}function dispatch(es,{target:ki,cancelable:Ri,detail:ts}={}){const rs=new CustomEvent(es,{cancelable:Ri,bubbles:!0,composed:!0,detail:ts});return ki&&ki.isConnected?ki.dispatchEvent(rs):document.documentElement.dispatchEvent(rs),rs}function cancelEvent(es){es.preventDefault(),es.stopImmediatePropagation()}function nextRepaint(){return document.visibilityState==="hidden"?nextEventLoopTick():nextAnimationFrame()}function nextAnimationFrame(){return new Promise(es=>requestAnimationFrame(()=>es()))}function nextEventLoopTick(){return new Promise(es=>setTimeout(()=>es(),0))}function nextMicrotask(){return Promise.resolve()}function parseHTMLDocument(es=""){return new DOMParser().parseFromString(es,"text/html")}function unindent(es,...ki){const Ri=interpolate(es,ki).replace(/^\n/,"").split(`
`),ts=Ri[0].match(/^\s+/),rs=ts?ts[0].length:0;return Ri.map(is=>is.slice(rs)).join(`
`)}function interpolate(es,ki){return es.reduce((Ri,ts,rs)=>{const is=ki[rs]==null?"":ki[rs];return Ri+ts+is},"")}function uuid(){return Array.from({length:36}).map((es,ki)=>ki==8||ki==13||ki==18||ki==23?"-":ki==14?"4":ki==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function getAttribute(es,...ki){for(const Ri of ki.map(ts=>ts==null?void 0:ts.getAttribute(es)))if(typeof Ri=="string")return Ri;return null}function hasAttribute(es,...ki){return ki.some(Ri=>Ri&&Ri.hasAttribute(es))}function markAsBusy(...es){for(const ki of es)ki.localName=="turbo-frame"&&ki.setAttribute("busy",""),ki.setAttribute("aria-busy","true")}function clearBusyState(...es){for(const ki of es)ki.localName=="turbo-frame"&&ki.removeAttribute("busy"),ki.removeAttribute("aria-busy")}function waitForLoad(es,ki=2e3){return new Promise(Ri=>{const ts=()=>{es.removeEventListener("error",ts),es.removeEventListener("load",ts),Ri()};es.addEventListener("load",ts,{once:!0}),es.addEventListener("error",ts,{once:!0}),setTimeout(Ri,ki)})}function getHistoryMethodForAction(es){switch(es){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function isAction(es){return es=="advance"||es=="replace"||es=="restore"}function getVisitAction(...es){const ki=getAttribute("data-turbo-action",...es);return isAction(ki)?ki:null}function getMetaElement(es){return document.querySelector(`meta[name="${es}"]`)}function getMetaContent(es){const ki=getMetaElement(es);return ki&&ki.content}function getCspNonce(){const es=getMetaElement("csp-nonce");if(es){const{nonce:ki,content:Ri}=es;return ki==""?Ri:ki}}function setMetaContent(es,ki){let Ri=getMetaElement(es);return Ri||(Ri=document.createElement("meta"),Ri.setAttribute("name",es),document.head.appendChild(Ri)),Ri.setAttribute("content",ki),Ri}function findClosestRecursively(es,ki){var Ri;if(es instanceof Element)return es.closest(ki)||findClosestRecursively(es.assignedSlot||((Ri=es.getRootNode())==null?void 0:Ri.host),ki)}function elementIsFocusable(es){return!!es&&es.closest("[inert], :disabled, [hidden], details:not([open]), dialog:not([open])")==null&&typeof es.focus=="function"}function queryAutofocusableElement(es){return Array.from(es.querySelectorAll("[autofocus]")).find(elementIsFocusable)}async function around(es,ki){const Ri=ki();es(),await nextAnimationFrame();const ts=ki();return[Ri,ts]}function doesNotTargetIFrame(es){if(es==="_blank")return!1;if(es){for(const ki of document.getElementsByName(es))if(ki instanceof HTMLIFrameElement)return!1;return!0}else return!0}function findLinkFromClickTarget(es){return findClosestRecursively(es,"a[href]:not([target^=_]):not([download])")}function getLocationForLink(es){return expandURL(es.getAttribute("href")||"")}function debounce(es,ki){let Ri=null;return(...ts)=>{const rs=()=>es.apply(this,ts);clearTimeout(Ri),Ri=setTimeout(rs,ki)}}const submitter={"aria-disabled":{beforeSubmit:es=>{es.setAttribute("aria-disabled","true"),es.addEventListener("click",cancelEvent)},afterSubmit:es=>{es.removeAttribute("aria-disabled"),es.removeEventListener("click",cancelEvent)}},disabled:{beforeSubmit:es=>es.disabled=!0,afterSubmit:es=>es.disabled=!1}};var Mm;class Config{constructor(ki){_c(this,Mm,null);Object.assign(this,ki)}get submitter(){return jl(this,Mm)}set submitter(ki){Xu(this,Mm,submitter[ki]||ki)}}Mm=new WeakMap;const forms=new Config({mode:"on",submitter:"disabled"}),config={drive,forms};function expandURL(es){return new URL(es.toString(),document.baseURI)}function getAnchor(es){let ki;if(es.hash)return es.hash.slice(1);if(ki=es.href.match(/#(.*)$/))return ki[1]}function getAction$1(es,ki){const Ri=(ki==null?void 0:ki.getAttribute("formaction"))||es.getAttribute("action")||es.action;return expandURL(Ri)}function getExtension(es){return(getLastPathComponent(es).match(/\.[^.]*$/)||[])[0]||""}function isPrefixedBy(es,ki){const Ri=getPrefix(ki);return es.href===expandURL(Ri).href||es.href.startsWith(Ri)}function locationIsVisitable(es,ki){return isPrefixedBy(es,ki)&&!config.drive.unvisitableExtensions.has(getExtension(es))}function getRequestURL(es){const ki=getAnchor(es);return ki!=null?es.href.slice(0,-(ki.length+1)):es.href}function toCacheKey(es){return getRequestURL(es)}function urlsAreEqual(es,ki){return expandURL(es).href==expandURL(ki).href}function getPathComponents(es){return es.pathname.split("/").slice(1)}function getLastPathComponent(es){return getPathComponents(es).slice(-1)[0]}function getPrefix(es){return addTrailingSlash(es.origin+es.pathname)}function addTrailingSlash(es){return es.endsWith("/")?es:es+"/"}let FetchResponse$1=class{constructor(ki){this.response=ki}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return expandURL(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(ki){return this.response.headers.get(ki)}};class LimitedSet extends Set{constructor(ki){super(),this.maxSize=ki}add(ki){if(this.size>=this.maxSize){const ts=this.values().next().value;this.delete(ts)}super.add(ki)}}const recentRequests=new LimitedSet(20),nativeFetch=window.fetch;function fetchWithTurboHeaders(es,ki={}){const Ri=new Headers(ki.headers||{}),ts=uuid();return recentRequests.add(ts),Ri.append("X-Turbo-Request-Id",ts),nativeFetch(es,{...ki,headers:Ri})}function fetchMethodFromString(es){switch(es.toLowerCase()){case"get":return FetchMethod.get;case"post":return FetchMethod.post;case"put":return FetchMethod.put;case"patch":return FetchMethod.patch;case"delete":return FetchMethod.delete}}const FetchMethod={get:"get",post:"post",put:"put",patch:"patch",delete:"delete"};function fetchEnctypeFromString(es){switch(es.toLowerCase()){case FetchEnctype.multipart:return FetchEnctype.multipart;case FetchEnctype.plain:return FetchEnctype.plain;default:return FetchEnctype.urlEncoded}}const FetchEnctype={urlEncoded:"application/x-www-form-urlencoded",multipart:"multipart/form-data",plain:"text/plain"};var Om,Tm,O0,N0,P0;let FetchRequest$1=(P0=class{constructor(ki,Ri,ts,rs=new URLSearchParams,is=null,ns=FetchEnctype.urlEncoded){_c(this,Tm);Ho(this,"abortController",new AbortController);_c(this,Om,ki=>{});var ls;const[ss,os]=buildResourceAndBody(expandURL(ts),Ri,rs,ns);this.delegate=ki,this.url=ss,this.target=is,this.fetchOptions={credentials:"same-origin",redirect:"follow",method:Ri.toUpperCase(),headers:{...this.defaultHeaders},body:os,signal:this.abortSignal,referrer:(ls=this.delegate.referrer)==null?void 0:ls.href},this.enctype=ns}get method(){return this.fetchOptions.method}set method(ki){const Ri=this.isSafe?this.url.searchParams:this.fetchOptions.body||new FormData,ts=fetchMethodFromString(ki)||FetchMethod.get;this.url.search="";const[rs,is]=buildResourceAndBody(this.url,ts,Ri,this.enctype);this.url=rs,this.fetchOptions.body=is,this.fetchOptions.method=ts.toUpperCase()}get headers(){return this.fetchOptions.headers}set headers(ki){this.fetchOptions.headers=ki}get body(){return this.isSafe?this.url.searchParams:this.fetchOptions.body}set body(ki){this.fetchOptions.body=ki}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){const{fetchOptions:ki}=this;this.delegate.prepareRequest(this);const Ri=await hc(this,Tm,O0).call(this,ki);try{this.delegate.requestStarted(this),Ri.detail.fetchRequest?this.response=Ri.detail.fetchRequest.response:this.response=fetchWithTurboHeaders(this.url.href,ki);const ts=await this.response;return await this.receive(ts)}catch(ts){if(ts.name!=="AbortError")throw hc(this,Tm,N0).call(this,ts)&&this.delegate.requestErrored(this,ts),ts}finally{this.delegate.requestFinished(this)}}async receive(ki){const Ri=new FetchResponse$1(ki);return dispatch("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:Ri},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,Ri):Ri.succeeded?this.delegate.requestSucceededWithResponse(this,Ri):this.delegate.requestFailedWithResponse(this,Ri),Ri}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return isSafe(this.method)}get abortSignal(){return this.abortController.signal}acceptResponseType(ki){this.headers.Accept=[ki,this.headers.Accept].join(", ")}},Om=new WeakMap,Tm=new WeakSet,O0=async function(ki){const Ri=new Promise(rs=>Xu(this,Om,rs)),ts=dispatch("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:ki,url:this.url,resume:jl(this,Om)},target:this.target});return this.url=ts.detail.url,ts.defaultPrevented&&await Ri,ts},N0=function(ki){return!dispatch("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:ki}}).defaultPrevented},P0);function isSafe(es){return fetchMethodFromString(es)==FetchMethod.get}function buildResourceAndBody(es,ki,Ri,ts){const rs=Array.from(Ri).length>0?new URLSearchParams(entriesExcludingFiles(Ri)):es.searchParams;return isSafe(ki)?[mergeIntoURLSearchParams(es,rs),null]:ts==FetchEnctype.urlEncoded?[es,rs]:[es,Ri]}function entriesExcludingFiles(es){const ki=[];for(const[Ri,ts]of es)ts instanceof File||ki.push([Ri,ts]);return ki}function mergeIntoURLSearchParams(es,ki){const Ri=new URLSearchParams(entriesExcludingFiles(ki));return es.search=Ri.toString(),es}class AppearanceObserver{constructor(ki,Ri){Ho(this,"started",!1);Ho(this,"intersect",ki=>{const Ri=ki.slice(-1)[0];Ri!=null&&Ri.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)});this.delegate=ki,this.element=Ri,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}}class StreamMessage{static wrap(ki){return typeof ki=="string"?new this(createDocumentFragment(ki)):ki}constructor(ki){this.fragment=importStreamElements(ki)}}Ho(StreamMessage,"contentType","text/vnd.turbo-stream.html");function importStreamElements(es){for(const ki of es.querySelectorAll("turbo-stream")){const Ri=document.importNode(ki,!0);for(const ts of Ri.templateElement.content.querySelectorAll("script"))ts.replaceWith(activateScriptElement(ts));ki.replaceWith(Ri)}return es}const PREFETCH_DELAY=100;var sm,bg;class PrefetchCache{constructor(){_c(this,sm,null);_c(this,bg,null)}get(ki){if(jl(this,bg)&&jl(this,bg).url===ki&&jl(this,bg).expire>Date.now())return jl(this,bg).request}setLater(ki,Ri,ts){this.clear(),Xu(this,sm,setTimeout(()=>{Ri.perform(),this.set(ki,Ri,ts),Xu(this,sm,null)},PREFETCH_DELAY))}set(ki,Ri,ts){Xu(this,bg,{url:ki,request:Ri,expire:new Date(new Date().getTime()+ts)})}clear(){jl(this,sm)&&clearTimeout(jl(this,sm)),Xu(this,bg,null)}}sm=new WeakMap,bg=new WeakMap;const cacheTtl=10*1e3,prefetchCache=new PrefetchCache,FormSubmissionState={initialized:"initialized",requesting:"requesting",waiting:"waiting",receiving:"receiving",stopping:"stopping",stopped:"stopped"};class FormSubmission{constructor(ki,Ri,ts,rs=!1){Ho(this,"state",FormSubmissionState.initialized);const is=getMethod(Ri,ts),ns=getAction(getFormAction(Ri,ts),is),ss=buildFormData(Ri,ts),os=getEnctype(Ri,ts);this.delegate=ki,this.formElement=Ri,this.submitter=ts,this.fetchRequest=new FetchRequest$1(this,is,ns,ss,Ri,os),this.mustRedirect=rs}static confirmMethod(ki){return Promise.resolve(confirm(ki))}get method(){return this.fetchRequest.method}set method(ki){this.fetchRequest.method=ki}get action(){return this.fetchRequest.url.toString()}set action(ki){this.fetchRequest.url=expandURL(ki)}get body(){return this.fetchRequest.body}get enctype(){return this.fetchRequest.enctype}get isSafe(){return this.fetchRequest.isSafe}get location(){return this.fetchRequest.url}async start(){const{initialized:ki,requesting:Ri}=FormSubmissionState,ts=getAttribute("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof ts=="string"&&!await(typeof config.forms.confirm=="function"?config.forms.confirm:FormSubmission.confirmMethod)(ts,this.formElement,this.submitter))&&this.state==ki)return this.state=Ri,this.fetchRequest.perform()}stop(){const{stopping:ki,stopped:Ri}=FormSubmissionState;if(this.state!=ki&&this.state!=Ri)return this.state=ki,this.fetchRequest.cancel(),!0}prepareRequest(ki){if(!ki.isSafe){const Ri=getCookieValue(getMetaContent("csrf-param"))||getMetaContent("csrf-token");Ri&&(ki.headers["X-CSRF-Token"]=Ri)}this.requestAcceptsTurboStreamResponse(ki)&&ki.acceptResponseType(StreamMessage.contentType)}requestStarted(ki){this.state=FormSubmissionState.waiting,this.submitter&&config.forms.submitter.beforeSubmit(this.submitter),this.setSubmitsWith(),markAsBusy(this.formElement),dispatch("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(ki,Ri){prefetchCache.clear(),this.result={success:Ri.succeeded,fetchResponse:Ri}}requestSucceededWithResponse(ki,Ri){if(Ri.clientError||Ri.serverError){this.delegate.formSubmissionFailedWithResponse(this,Ri);return}if(prefetchCache.clear(),this.requestMustRedirect(ki)&&responseSucceededWithoutRedirect(Ri)){const ts=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,ts)}else this.state=FormSubmissionState.receiving,this.result={success:!0,fetchResponse:Ri},this.delegate.formSubmissionSucceededWithResponse(this,Ri)}requestFailedWithResponse(ki,Ri){this.result={success:!1,fetchResponse:Ri},this.delegate.formSubmissionFailedWithResponse(this,Ri)}requestErrored(ki,Ri){this.result={success:!1,error:Ri},this.delegate.formSubmissionErrored(this,Ri)}requestFinished(ki){this.state=FormSubmissionState.stopped,this.submitter&&config.forms.submitter.afterSubmit(this.submitter),this.resetSubmitterText(),clearBusyState(this.formElement),dispatch("turbo:submit-end",{target:this.formElement,detail:{formSubmission:this,...this.result}}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){const ki=this.submitter;this.originalSubmitText=ki.value,ki.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){const ki=this.submitter;ki.value=this.originalSubmitText}}}requestMustRedirect(ki){return!ki.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(ki){return!ki.isSafe||hasAttribute("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){var ki;return(ki=this.submitter)==null?void 0:ki.getAttribute("data-turbo-submits-with")}}function buildFormData(es,ki){const Ri=new FormData(es),ts=ki==null?void 0:ki.getAttribute("name"),rs=ki==null?void 0:ki.getAttribute("value");return ts&&Ri.append(ts,rs||""),Ri}function getCookieValue(es){if(es!=null){const Ri=(document.cookie?document.cookie.split("; "):[]).find(ts=>ts.startsWith(es));if(Ri){const ts=Ri.split("=").slice(1).join("=");return ts?decodeURIComponent(ts):void 0}}}function responseSucceededWithoutRedirect(es){return es.statusCode==200&&!es.redirected}function getFormAction(es,ki){const Ri=typeof es.action=="string"?es.action:null;return ki!=null&&ki.hasAttribute("formaction")?ki.getAttribute("formaction")||"":es.getAttribute("action")||Ri||""}function getAction(es,ki){const Ri=expandURL(es);return isSafe(ki)&&(Ri.search=""),Ri}function getMethod(es,ki){const Ri=(ki==null?void 0:ki.getAttribute("formmethod"))||es.getAttribute("method")||"";return fetchMethodFromString(Ri.toLowerCase())||FetchMethod.get}function getEnctype(es,ki){return fetchEnctypeFromString((ki==null?void 0:ki.getAttribute("formenctype"))||es.enctype)}class Snapshot{constructor(ki){this.element=ki}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(ki){return this.getElementForAnchor(ki)!=null}getElementForAnchor(ki){return ki?this.element.querySelector(`[id='${ki}'], a[name='${ki}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){return queryAutofocusableElement(this.element)}get permanentElements(){return queryPermanentElementsAll(this.element)}getPermanentElementById(ki){return getPermanentElementById(this.element,ki)}getPermanentElementMapForSnapshot(ki){const Ri={};for(const ts of this.permanentElements){const{id:rs}=ts,is=ki.getPermanentElementById(rs);is&&(Ri[rs]=[ts,is])}return Ri}}function getPermanentElementById(es,ki){return es.querySelector(`#${ki}[data-turbo-permanent]`)}function queryPermanentElementsAll(es){return es.querySelectorAll("[id][data-turbo-permanent]")}class FormSubmitObserver{constructor(ki,Ri){Ho(this,"started",!1);Ho(this,"submitCaptured",()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)});Ho(this,"submitBubbled",ki=>{if(!ki.defaultPrevented){const Ri=ki.target instanceof HTMLFormElement?ki.target:void 0,ts=ki.submitter||void 0;Ri&&submissionDoesNotDismissDialog(Ri,ts)&&submissionDoesNotTargetIFrame(Ri,ts)&&this.delegate.willSubmitForm(Ri,ts)&&(ki.preventDefault(),ki.stopImmediatePropagation(),this.delegate.formSubmitted(Ri,ts))}});this.delegate=ki,this.eventTarget=Ri}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}}function submissionDoesNotDismissDialog(es,ki){return((ki==null?void 0:ki.getAttribute("formmethod"))||es.getAttribute("method"))!="dialog"}function submissionDoesNotTargetIFrame(es,ki){const Ri=(ki==null?void 0:ki.getAttribute("formtarget"))||es.getAttribute("target");return doesNotTargetIFrame(Ri)}var Nm,Rm;class View{constructor(ki,Ri){_c(this,Nm,ki=>{});_c(this,Rm,ki=>{});this.delegate=ki,this.element=Ri}scrollToAnchor(ki){const Ri=this.snapshot.getElementForAnchor(ki);Ri?(this.scrollToElement(Ri),this.focusElement(Ri)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(ki){this.scrollToAnchor(getAnchor(ki))}scrollToElement(ki){ki.scrollIntoView()}focusElement(ki){ki instanceof HTMLElement&&(ki.hasAttribute("tabindex")?ki.focus():(ki.setAttribute("tabindex","-1"),ki.focus(),ki.removeAttribute("tabindex")))}scrollToPosition({x:ki,y:Ri}){this.scrollRoot.scrollTo(ki,Ri)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(ki){const{isPreview:Ri,shouldRender:ts,willRender:rs,newSnapshot:is}=ki,ns=rs;if(ts)try{this.renderPromise=new Promise(cs=>Xu(this,Nm,cs)),this.renderer=ki,await this.prepareToRenderSnapshot(ki);const ss=new Promise(cs=>Xu(this,Rm,cs)),os={resume:jl(this,Rm),render:this.renderer.renderElement,renderMethod:this.renderer.renderMethod};this.delegate.allowsImmediateRender(is,os)||await ss,await this.renderSnapshot(ki),this.delegate.viewRenderedSnapshot(is,Ri,this.renderer.renderMethod),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(ki)}finally{delete this.renderer,jl(this,Nm).call(this,void 0),delete this.renderPromise}else ns&&this.invalidate(ki.reloadReason)}invalidate(ki){this.delegate.viewInvalidated(ki)}async prepareToRenderSnapshot(ki){this.markAsPreview(ki.isPreview),await ki.prepareToRender()}markAsPreview(ki){ki?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}markVisitDirection(ki){this.element.setAttribute("data-turbo-visit-direction",ki)}unmarkVisitDirection(){this.element.removeAttribute("data-turbo-visit-direction")}async renderSnapshot(ki){await ki.render()}finishRenderingSnapshot(ki){ki.finishRendering()}}Nm=new WeakMap,Rm=new WeakMap;class FrameView extends View{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new Snapshot(this.element)}}class LinkInterceptor{constructor(ki,Ri){Ho(this,"clickBubbled",ki=>{this.clickEventIsSignificant(ki)?this.clickEvent=ki:delete this.clickEvent});Ho(this,"linkClicked",ki=>{this.clickEvent&&this.clickEventIsSignificant(ki)&&this.delegate.shouldInterceptLinkClick(ki.target,ki.detail.url,ki.detail.originalEvent)&&(this.clickEvent.preventDefault(),ki.preventDefault(),this.delegate.linkClickIntercepted(ki.target,ki.detail.url,ki.detail.originalEvent)),delete this.clickEvent});Ho(this,"willVisit",ki=>{delete this.clickEvent});this.delegate=ki,this.element=Ri}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}clickEventIsSignificant(ki){var rs;const Ri=ki.composed?(rs=ki.target)==null?void 0:rs.parentElement:ki.target,ts=findLinkFromClickTarget(Ri)||Ri;return ts instanceof Element&&ts.closest("turbo-frame, html")==this.element}}class LinkClickObserver{constructor(ki,Ri){Ho(this,"started",!1);Ho(this,"clickCaptured",()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)});Ho(this,"clickBubbled",ki=>{if(ki instanceof MouseEvent&&this.clickEventIsSignificant(ki)){const Ri=ki.composedPath&&ki.composedPath()[0]||ki.target,ts=findLinkFromClickTarget(Ri);if(ts&&doesNotTargetIFrame(ts.target)){const rs=getLocationForLink(ts);this.delegate.willFollowLinkToLocation(ts,rs,ki)&&(ki.preventDefault(),this.delegate.followedLinkToLocation(ts,rs))}}});this.delegate=ki,this.eventTarget=Ri}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(ki){return!(ki.target&&ki.target.isContentEditable||ki.defaultPrevented||ki.which>1||ki.altKey||ki.ctrlKey||ki.metaKey||ki.shiftKey)}}class FormLinkClickObserver{constructor(ki,Ri){this.delegate=ki,this.linkInterceptor=new LinkClickObserver(this,Ri)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}canPrefetchRequestToLocation(ki,Ri){return!1}prefetchAndCacheRequestToLocation(ki,Ri){}willFollowLinkToLocation(ki,Ri,ts){return this.delegate.willSubmitFormLinkToLocation(ki,Ri,ts)&&(ki.hasAttribute("data-turbo-method")||ki.hasAttribute("data-turbo-stream"))}followedLinkToLocation(ki,Ri){const ts=document.createElement("form"),rs="hidden";for(const[hs,us]of Ri.searchParams)ts.append(Object.assign(document.createElement("input"),{type:rs,name:hs,value:us}));const is=Object.assign(Ri,{search:""});ts.setAttribute("data-turbo","true"),ts.setAttribute("action",is.href),ts.setAttribute("hidden","");const ns=ki.getAttribute("data-turbo-method");ns&&ts.setAttribute("method",ns);const ss=ki.getAttribute("data-turbo-frame");ss&&ts.setAttribute("data-turbo-frame",ss);const os=getVisitAction(ki);os&&ts.setAttribute("data-turbo-action",os);const ls=ki.getAttribute("data-turbo-confirm");ls&&ts.setAttribute("data-turbo-confirm",ls),ki.hasAttribute("data-turbo-stream")&&ts.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(ki,Ri,ts),document.body.appendChild(ts),ts.addEventListener("turbo:submit-end",()=>ts.remove(),{once:!0}),requestAnimationFrame(()=>ts.requestSubmit())}}class Bardo{static async preservingPermanentElements(ki,Ri,ts){const rs=new this(ki,Ri);rs.enter(),await ts(),rs.leave()}constructor(ki,Ri){this.delegate=ki,this.permanentElementMap=Ri}enter(){for(const ki in this.permanentElementMap){const[Ri,ts]=this.permanentElementMap[ki];this.delegate.enteringBardo(Ri,ts),this.replaceNewPermanentElementWithPlaceholder(ts)}}leave(){for(const ki in this.permanentElementMap){const[Ri]=this.permanentElementMap[ki];this.replaceCurrentPermanentElementWithClone(Ri),this.replacePlaceholderWithPermanentElement(Ri),this.delegate.leavingBardo(Ri)}}replaceNewPermanentElementWithPlaceholder(ki){const Ri=createPlaceholderForPermanentElement(ki);ki.replaceWith(Ri)}replaceCurrentPermanentElementWithClone(ki){const Ri=ki.cloneNode(!0);ki.replaceWith(Ri)}replacePlaceholderWithPermanentElement(ki){const Ri=this.getPlaceholderById(ki.id);Ri==null||Ri.replaceWith(ki)}getPlaceholderById(ki){return this.placeholders.find(Ri=>Ri.content==ki)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}}function createPlaceholderForPermanentElement(es){const ki=document.createElement("meta");return ki.setAttribute("name","turbo-permanent-placeholder"),ki.setAttribute("content",es.id),ki}var wg;class Renderer{constructor(ki,Ri,ts,rs=!0){_c(this,wg,null);this.currentSnapshot=ki,this.newSnapshot=Ri,this.isPreview=ts,this.willRender=rs,this.renderElement=this.constructor.renderElement,this.promise=new Promise((is,ns)=>this.resolvingFunctions={resolve:is,reject:ns})}static renderElement(ki,Ri){}get shouldRender(){return!0}get shouldAutofocus(){return!0}get reloadReason(){}prepareToRender(){}render(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(ki){await Bardo.preservingPermanentElements(this,this.permanentElementMap,ki)}focusFirstAutofocusableElement(){if(this.shouldAutofocus){const ki=this.connectedSnapshot.firstAutofocusableElement;ki&&ki.focus()}}enteringBardo(ki){jl(this,wg)||ki.contains(this.currentSnapshot.activeElement)&&Xu(this,wg,this.currentSnapshot.activeElement)}leavingBardo(ki){ki.contains(jl(this,wg))&&jl(this,wg)instanceof HTMLElement&&(jl(this,wg).focus(),Xu(this,wg,null))}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}get renderMethod(){return"replace"}}wg=new WeakMap;class FrameRenderer extends Renderer{static renderElement(ki,Ri){var ns;const ts=document.createRange();ts.selectNodeContents(ki),ts.deleteContents();const rs=Ri,is=(ns=rs.ownerDocument)==null?void 0:ns.createRange();is&&(is.selectNodeContents(rs),ki.appendChild(is.extractContents()))}constructor(ki,Ri,ts,rs,is,ns=!0){super(Ri,ts,rs,is,ns),this.delegate=ki}get shouldRender(){return!0}async render(){await nextRepaint(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await nextRepaint(),this.focusFirstAutofocusableElement(),await nextRepaint(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){const ki=this.currentElement.firstElementChild,Ri=readScrollLogicalPosition(this.currentElement.getAttribute("data-autoscroll-block"),"end"),ts=readScrollBehavior(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(ki)return ki.scrollIntoView({block:Ri,behavior:ts}),!0}return!1}activateScriptElements(){for(const ki of this.newScriptElements){const Ri=activateScriptElement(ki);ki.replaceWith(Ri)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}}function readScrollLogicalPosition(es,ki){return es=="end"||es=="start"||es=="center"||es=="nearest"?es:ki}function readScrollBehavior(es,ki){return es=="auto"||es=="smooth"?es:ki}var Idiomorph=function(){let es=new Set,ki={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:us,afterNodeAdded:us,beforeNodeMorphed:us,afterNodeMorphed:us,beforeNodeRemoved:us,afterNodeRemoved:us,beforeAttributeUpdated:us},head:{style:"merge",shouldPreserve:function(_s){return _s.getAttribute("im-preserve")==="true"},shouldReAppend:function(_s){return _s.getAttribute("im-re-append")==="true"},shouldRemove:us,afterHeadMorphed:us}};function Ri(_s,Ns,Ss={}){_s instanceof Document&&(_s=_s.documentElement),typeof Ns=="string"&&(Ns=gs(Ns));let Us=ws(Ns),Zs=bs(_s,Us,Ss);return ts(_s,Us,Zs)}function ts(_s,Ns,Ss){if(Ss.head.block){let Us=_s.querySelector("head"),Zs=Ns.querySelector("head");if(Us&&Zs){let ao=hs(Zs,Us,Ss);Promise.all(ao).then(function(){ts(_s,Ns,Object.assign(Ss,{head:{block:!1,ignore:!0}}))});return}}if(Ss.morphStyle==="innerHTML")return ns(Ns,_s,Ss),_s.children;if(Ss.morphStyle==="outerHTML"||Ss.morphStyle==null){let Us=$s(Ns,_s,Ss),Zs=Us==null?void 0:Us.previousSibling,ao=Us==null?void 0:Us.nextSibling,js=is(_s,Us,Ss);return Us?Ts(Zs,js,ao):[]}else throw"Do not understand how to morph style "+Ss.morphStyle}function rs(_s,Ns){return Ns.ignoreActiveValue&&_s===document.activeElement&&_s!==document.body}function is(_s,Ns,Ss){if(!(Ss.ignoreActive&&_s===document.activeElement))return Ns==null?Ss.callbacks.beforeNodeRemoved(_s)===!1?_s:(_s.remove(),Ss.callbacks.afterNodeRemoved(_s),null):Cs(_s,Ns)?(Ss.callbacks.beforeNodeMorphed(_s,Ns)===!1||(_s instanceof HTMLHeadElement&&Ss.head.ignore||(_s instanceof HTMLHeadElement&&Ss.head.style!=="morph"?hs(Ns,_s,Ss):(os(Ns,_s,Ss),rs(_s,Ss)||ns(Ns,_s,Ss))),Ss.callbacks.afterNodeMorphed(_s,Ns)),_s):Ss.callbacks.beforeNodeRemoved(_s)===!1||Ss.callbacks.beforeNodeAdded(Ns)===!1?_s:(_s.parentElement.replaceChild(Ns,_s),Ss.callbacks.afterNodeAdded(Ns),Ss.callbacks.afterNodeRemoved(_s),Ns)}function ns(_s,Ns,Ss){let Us=_s.firstChild,Zs=Ns.firstChild,ao;for(;Us;){if(ao=Us,Us=ao.nextSibling,Zs==null){if(Ss.callbacks.beforeNodeAdded(ao)===!1)return;Ns.appendChild(ao),Ss.callbacks.afterNodeAdded(ao),Is(Ss,ao);continue}if(ys(ao,Zs,Ss)){is(Zs,ao,Ss),Zs=Zs.nextSibling,Is(Ss,ao);continue}let js=ms(_s,Ns,ao,Zs,Ss);if(js){Zs=ps(Zs,js,Ss),is(js,ao,Ss),Is(Ss,ao);continue}let Bs=fs(_s,Ns,ao,Zs,Ss);if(Bs){Zs=ps(Zs,Bs,Ss),is(Bs,ao,Ss),Is(Ss,ao);continue}if(Ss.callbacks.beforeNodeAdded(ao)===!1)return;Ns.insertBefore(ao,Zs),Ss.callbacks.afterNodeAdded(ao),Is(Ss,ao)}for(;Zs!==null;){let js=Zs;Zs=Zs.nextSibling,Ps(js,Ss)}}function ss(_s,Ns,Ss,Us){return _s==="value"&&Us.ignoreActiveValue&&Ns===document.activeElement?!0:Us.callbacks.beforeAttributeUpdated(_s,Ns,Ss)===!1}function os(_s,Ns,Ss){let Us=_s.nodeType;if(Us===1){const Zs=_s.attributes,ao=Ns.attributes;for(const js of Zs)ss(js.name,Ns,"update",Ss)||Ns.getAttribute(js.name)!==js.value&&Ns.setAttribute(js.name,js.value);for(let js=ao.length-1;0<=js;js--){const Bs=ao[js];ss(Bs.name,Ns,"remove",Ss)||_s.hasAttribute(Bs.name)||Ns.removeAttribute(Bs.name)}}(Us===8||Us===3)&&Ns.nodeValue!==_s.nodeValue&&(Ns.nodeValue=_s.nodeValue),rs(Ns,Ss)||cs(_s,Ns,Ss)}function ls(_s,Ns,Ss,Us){if(_s[Ss]!==Ns[Ss]){let Zs=ss(Ss,Ns,"update",Us);Zs||(Ns[Ss]=_s[Ss]),_s[Ss]?Zs||Ns.setAttribute(Ss,_s[Ss]):ss(Ss,Ns,"remove",Us)||Ns.removeAttribute(Ss)}}function cs(_s,Ns,Ss){if(_s instanceof HTMLInputElement&&Ns instanceof HTMLInputElement&&_s.type!=="file"){let Us=_s.value,Zs=Ns.value;ls(_s,Ns,"checked",Ss),ls(_s,Ns,"disabled",Ss),_s.hasAttribute("value")?Us!==Zs&&(ss("value",Ns,"update",Ss)||(Ns.setAttribute("value",Us),Ns.value=Us)):ss("value",Ns,"remove",Ss)||(Ns.value="",Ns.removeAttribute("value"))}else if(_s instanceof HTMLOptionElement)ls(_s,Ns,"selected",Ss);else if(_s instanceof HTMLTextAreaElement&&Ns instanceof HTMLTextAreaElement){let Us=_s.value,Zs=Ns.value;if(ss("value",Ns,"update",Ss))return;Us!==Zs&&(Ns.value=Us),Ns.firstChild&&Ns.firstChild.nodeValue!==Us&&(Ns.firstChild.nodeValue=Us)}}function hs(_s,Ns,Ss){let Us=[],Zs=[],ao=[],js=[],Bs=Ss.head.style,zs=new Map;for(const oo of _s.children)zs.set(oo.outerHTML,oo);for(const oo of Ns.children){let Ao=zs.has(oo.outerHTML),Xs=Ss.head.shouldReAppend(oo),lo=Ss.head.shouldPreserve(oo);Ao||lo?Xs?Zs.push(oo):(zs.delete(oo.outerHTML),ao.push(oo)):Bs==="append"?Xs&&(Zs.push(oo),js.push(oo)):Ss.head.shouldRemove(oo)!==!1&&Zs.push(oo)}js.push(...zs.values());let so=[];for(const oo of js){let Ao=document.createRange().createContextualFragment(oo.outerHTML).firstChild;if(Ss.callbacks.beforeNodeAdded(Ao)!==!1){if(Ao.href||Ao.src){let Xs=null,lo=new Promise(function(co){Xs=co});Ao.addEventListener("load",function(){Xs()}),so.push(lo)}Ns.appendChild(Ao),Ss.callbacks.afterNodeAdded(Ao),Us.push(Ao)}}for(const oo of Zs)Ss.callbacks.beforeNodeRemoved(oo)!==!1&&(Ns.removeChild(oo),Ss.callbacks.afterNodeRemoved(oo));return Ss.head.afterHeadMorphed(Ns,{added:Us,kept:ao,removed:Zs}),so}function us(){}function As(_s){let Ns={};return Object.assign(Ns,ki),Object.assign(Ns,_s),Ns.callbacks={},Object.assign(Ns.callbacks,ki.callbacks),Object.assign(Ns.callbacks,_s.callbacks),Ns.head={},Object.assign(Ns.head,ki.head),Object.assign(Ns.head,_s.head),Ns}function bs(_s,Ns,Ss){return Ss=As(Ss),{target:_s,newContent:Ns,config:Ss,morphStyle:Ss.morphStyle,ignoreActive:Ss.ignoreActive,ignoreActiveValue:Ss.ignoreActiveValue,idMap:Ds(_s,Ns),deadIds:new Set,callbacks:Ss.callbacks,head:Ss.head}}function ys(_s,Ns,Ss){return _s==null||Ns==null?!1:_s.nodeType===Ns.nodeType&&_s.tagName===Ns.tagName?_s.id!==""&&_s.id===Ns.id?!0:Ms(Ss,_s,Ns)>0:!1}function Cs(_s,Ns){return _s==null||Ns==null?!1:_s.nodeType===Ns.nodeType&&_s.tagName===Ns.tagName}function ps(_s,Ns,Ss){for(;_s!==Ns;){let Us=_s;_s=_s.nextSibling,Ps(Us,Ss)}return Is(Ss,Ns),Ns.nextSibling}function ms(_s,Ns,Ss,Us,Zs){let ao=Ms(Zs,Ss,Ns),js=null;if(ao>0){let Bs=Us,zs=0;for(;Bs!=null;){if(ys(Ss,Bs,Zs))return Bs;if(zs+=Ms(Zs,Bs,_s),zs>ao)return null;Bs=Bs.nextSibling}}return js}function fs(_s,Ns,Ss,Us,Zs){let ao=Us,js=Ss.nextSibling,Bs=0;for(;ao!=null;){if(Ms(Zs,ao,_s)>0)return null;if(Cs(Ss,ao))return ao;if(Cs(js,ao)&&(Bs++,js=js.nextSibling,Bs>=2))return null;ao=ao.nextSibling}return ao}function gs(_s){let Ns=new DOMParser,Ss=_s.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(Ss.match(/<\/html>/)||Ss.match(/<\/head>/)||Ss.match(/<\/body>/)){let Us=Ns.parseFromString(_s,"text/html");if(Ss.match(/<\/html>/))return Us.generatedByIdiomorph=!0,Us;{let Zs=Us.firstChild;return Zs?(Zs.generatedByIdiomorph=!0,Zs):null}}else{let Zs=Ns.parseFromString("<body><template>"+_s+"</template></body>","text/html").body.querySelector("template").content;return Zs.generatedByIdiomorph=!0,Zs}}function ws(_s){if(_s==null)return document.createElement("div");if(_s.generatedByIdiomorph)return _s;if(_s instanceof Node){const Ns=document.createElement("div");return Ns.append(_s),Ns}else{const Ns=document.createElement("div");for(const Ss of[..._s])Ns.append(Ss);return Ns}}function Ts(_s,Ns,Ss){let Us=[],Zs=[];for(;_s!=null;)Us.push(_s),_s=_s.previousSibling;for(;Us.length>0;){let ao=Us.pop();Zs.push(ao),Ns.parentElement.insertBefore(ao,Ns)}for(Zs.push(Ns);Ss!=null;)Us.push(Ss),Zs.push(Ss),Ss=Ss.nextSibling;for(;Us.length>0;)Ns.parentElement.insertBefore(Us.pop(),Ns.nextSibling);return Zs}function $s(_s,Ns,Ss){let Us;Us=_s.firstChild;let Zs=Us,ao=0;for(;Us;){let js=Rs(Us,Ns,Ss);js>ao&&(Zs=Us,ao=js),Us=Us.nextSibling}return Zs}function Rs(_s,Ns,Ss){return Cs(_s,Ns)?.5+Ms(Ss,_s,Ns):0}function Ps(_s,Ns){Is(Ns,_s),Ns.callbacks.beforeNodeRemoved(_s)!==!1&&(_s.remove(),Ns.callbacks.afterNodeRemoved(_s))}function Qs(_s,Ns){return!_s.deadIds.has(Ns)}function Fs(_s,Ns,Ss){return(_s.idMap.get(Ss)||es).has(Ns)}function Is(_s,Ns){let Ss=_s.idMap.get(Ns)||es;for(const Us of Ss)_s.deadIds.add(Us)}function Ms(_s,Ns,Ss){let Us=_s.idMap.get(Ns)||es,Zs=0;for(const ao of Us)Qs(_s,ao)&&Fs(_s,ao,Ss)&&++Zs;return Zs}function Ws(_s,Ns){let Ss=_s.parentElement,Us=_s.querySelectorAll("[id]");for(const Zs of Us){let ao=Zs;for(;ao!==Ss&&ao!=null;){let js=Ns.get(ao);js==null&&(js=new Set,Ns.set(ao,js)),js.add(Zs.id),ao=ao.parentElement}}}function Ds(_s,Ns){let Ss=new Map;return Ws(_s,Ss),Ws(Ns,Ss),Ss}return{morph:Ri,defaults:ki}}();function morphElements(es,ki,{callbacks:Ri,...ts}={}){Idiomorph.morph(es,ki,{...ts,callbacks:new DefaultIdiomorphCallbacks(Ri)})}function morphChildren(es,ki){morphElements(es,ki.children,{morphStyle:"innerHTML"})}var Um;class DefaultIdiomorphCallbacks{constructor({beforeNodeMorphed:ki}={}){_c(this,Um);Ho(this,"beforeNodeAdded",ki=>!(ki.id&&ki.hasAttribute("data-turbo-permanent")&&document.getElementById(ki.id)));Ho(this,"beforeNodeMorphed",(ki,Ri)=>{if(ki instanceof Element)return!ki.hasAttribute("data-turbo-permanent")&&jl(this,Um).call(this,ki,Ri)?!dispatch("turbo:before-morph-element",{cancelable:!0,target:ki,detail:{currentElement:ki,newElement:Ri}}).defaultPrevented:!1});Ho(this,"beforeAttributeUpdated",(ki,Ri,ts)=>!dispatch("turbo:before-morph-attribute",{cancelable:!0,target:Ri,detail:{attributeName:ki,mutationType:ts}}).defaultPrevented);Ho(this,"beforeNodeRemoved",ki=>this.beforeNodeMorphed(ki));Ho(this,"afterNodeMorphed",(ki,Ri)=>{ki instanceof Element&&dispatch("turbo:morph-element",{target:ki,detail:{currentElement:ki,newElement:Ri}})});Xu(this,Um,ki||(()=>!0))}}Um=new WeakMap;class MorphingFrameRenderer extends FrameRenderer{static renderElement(ki,Ri){dispatch("turbo:before-frame-morph",{target:ki,detail:{currentElement:ki,newElement:Ri}}),morphChildren(ki,Ri)}async preservingPermanentElements(ki){return await ki()}}const yg=class yg{constructor(){Ho(this,"hiding",!1);Ho(this,"value",0);Ho(this,"visible",!1);Ho(this,"trickle",()=>{this.setValue(this.value+Math.random()/100)});this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}static get defaultCSS(){return unindent`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${yg.animationDuration}ms ease-out,
          opacity ${yg.animationDuration/2}ms ${yg.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(ki){this.value=ki,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(ki){this.progressElement.style.opacity="0",setTimeout(ki,yg.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,yg.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){const ki=document.createElement("style");ki.type="text/css",ki.textContent=yg.defaultCSS;const Ri=getCspNonce();return Ri&&(ki.nonce=Ri),ki}createProgressElement(){const ki=document.createElement("div");return ki.className="turbo-progress-bar",ki}};Ho(yg,"animationDuration",300);let ProgressBar=yg;class HeadSnapshot extends Snapshot{constructor(){super(...arguments);Ho(this,"detailsByOuterHTML",this.children.filter(Ri=>!elementIsNoscript(Ri)).map(Ri=>elementWithoutNonce(Ri)).reduce((Ri,ts)=>{const{outerHTML:rs}=ts,is=rs in Ri?Ri[rs]:{type:elementType(ts),tracked:elementIsTracked(ts),elements:[]};return{...Ri,[rs]:{...is,elements:[...is.elements,ts]}}},{}))}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(Ri=>this.detailsByOuterHTML[Ri].tracked).join("")}getScriptElementsNotInSnapshot(Ri){return this.getElementsMatchingTypeNotInSnapshot("script",Ri)}getStylesheetElementsNotInSnapshot(Ri){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",Ri)}getElementsMatchingTypeNotInSnapshot(Ri,ts){return Object.keys(this.detailsByOuterHTML).filter(rs=>!(rs in ts.detailsByOuterHTML)).map(rs=>this.detailsByOuterHTML[rs]).filter(({type:rs})=>rs==Ri).map(({elements:[rs]})=>rs)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((Ri,ts)=>{const{type:rs,tracked:is,elements:ns}=this.detailsByOuterHTML[ts];return rs==null&&!is?[...Ri,...ns]:ns.length>1?[...Ri,...ns.slice(1)]:Ri},[])}getMetaValue(Ri){const ts=this.findMetaElementByName(Ri);return ts?ts.getAttribute("content"):null}findMetaElementByName(Ri){return Object.keys(this.detailsByOuterHTML).reduce((ts,rs)=>{const{elements:[is]}=this.detailsByOuterHTML[rs];return elementIsMetaElementWithName(is,Ri)?is:ts},void 0|void 0)}}function elementType(es){if(elementIsScript(es))return"script";if(elementIsStylesheet(es))return"stylesheet"}function elementIsTracked(es){return es.getAttribute("data-turbo-track")=="reload"}function elementIsScript(es){return es.localName=="script"}function elementIsNoscript(es){return es.localName=="noscript"}function elementIsStylesheet(es){const ki=es.localName;return ki=="style"||ki=="link"&&es.getAttribute("rel")=="stylesheet"}function elementIsMetaElementWithName(es,ki){return es.localName=="meta"&&es.getAttribute("name")==ki}function elementWithoutNonce(es){return es.hasAttribute("nonce")&&es.setAttribute("nonce",""),es}class PageSnapshot extends Snapshot{static fromHTMLString(ki=""){return this.fromDocument(parseHTMLDocument(ki))}static fromElement(ki){return this.fromDocument(ki.ownerDocument)}static fromDocument({documentElement:ki,body:Ri,head:ts}){return new this(ki,Ri,new HeadSnapshot(ts))}constructor(ki,Ri,ts){super(Ri),this.documentElement=ki,this.headSnapshot=ts}clone(){const ki=this.element.cloneNode(!0),Ri=this.element.querySelectorAll("select"),ts=ki.querySelectorAll("select");for(const[rs,is]of Ri.entries()){const ns=ts[rs];for(const ss of ns.selectedOptions)ss.selected=!1;for(const ss of is.selectedOptions)ns.options[ss.index].selected=!0}for(const rs of ki.querySelectorAll('input[type="password"]'))rs.value="";return new PageSnapshot(this.documentElement,ki,this.headSnapshot)}get lang(){return this.documentElement.getAttribute("lang")}get headElement(){return this.headSnapshot.element}get rootLocation(){const ki=this.getSetting("root")??"/";return expandURL(ki)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}get prefersViewTransitions(){return this.headSnapshot.getMetaValue("view-transition")==="same-origin"}get shouldMorphPage(){return this.getSetting("refresh-method")==="morph"}get shouldPreserveScrollPosition(){return this.getSetting("refresh-scroll")==="preserve"}getSetting(ki){return this.headSnapshot.getMetaValue(`turbo-${ki}`)}}var Hm,jg;class ViewTransitioner{constructor(){_c(this,Hm,!1);_c(this,jg,Promise.resolve())}renderChange(ki,Ri){return ki&&this.viewTransitionsAvailable&&!jl(this,Hm)?(Xu(this,Hm,!0),Xu(this,jg,jl(this,jg).then(async()=>{await document.startViewTransition(Ri).finished}))):Xu(this,jg,jl(this,jg).then(Ri)),jl(this,jg)}get viewTransitionsAvailable(){return document.startViewTransition}}Hm=new WeakMap,jg=new WeakMap;const defaultOptions={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1},TimingMetric={visitStart:"visitStart",requestStart:"requestStart",requestEnd:"requestEnd",visitEnd:"visitEnd"},VisitState={initialized:"initialized",started:"started",canceled:"canceled",failed:"failed",completed:"completed"},SystemStatusCode={networkFailure:0,timeoutFailure:-1,contentTypeMismatch:-2},Direction={advance:"forward",restore:"back",replace:"none"};class Visit{constructor(ki,Ri,ts,rs={}){Ho(this,"identifier",uuid());Ho(this,"timingMetrics",{});Ho(this,"followedRedirect",!1);Ho(this,"historyChanged",!1);Ho(this,"scrolled",!1);Ho(this,"shouldCacheSnapshot",!0);Ho(this,"acceptsStreamResponse",!1);Ho(this,"snapshotCached",!1);Ho(this,"state",VisitState.initialized);Ho(this,"viewTransitioner",new ViewTransitioner);this.delegate=ki,this.location=Ri,this.restorationIdentifier=ts||uuid();const{action:is,historyChanged:ns,referrer:ss,snapshot:os,snapshotHTML:ls,response:cs,visitCachedSnapshot:hs,willRender:us,updateHistory:As,shouldCacheSnapshot:bs,acceptsStreamResponse:ys,direction:Cs}={...defaultOptions,...rs};this.action=is,this.historyChanged=ns,this.referrer=ss,this.snapshot=os,this.snapshotHTML=ls,this.response=cs,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.isPageRefresh=this.view.isPageRefresh(this),this.visitCachedSnapshot=hs,this.willRender=us,this.updateHistory=As,this.scrolled=!us,this.shouldCacheSnapshot=bs,this.acceptsStreamResponse=ys,this.direction=Cs||Direction[is]}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==VisitState.initialized&&(this.recordTimingMetric(TimingMetric.visitStart),this.state=VisitState.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==VisitState.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=VisitState.canceled)}complete(){this.state==VisitState.started&&(this.recordTimingMetric(TimingMetric.visitEnd),this.adapter.visitCompleted(this),this.state=VisitState.completed,this.followRedirect(),this.followedRedirect||this.delegate.visitCompleted(this))}fail(){this.state==VisitState.started&&(this.state=VisitState.failed,this.adapter.visitFailed(this),this.delegate.visitCompleted(this))}changeHistory(){var ki;if(!this.historyChanged&&this.updateHistory){const Ri=this.location.href===((ki=this.referrer)==null?void 0:ki.href)?"replace":this.action,ts=getHistoryMethodForAction(Ri);this.history.update(ts,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new FetchRequest$1(this,FetchMethod.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(TimingMetric.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(ki=this.response){if(this.response=ki,ki){const{statusCode:Ri}=ki;isSuccessful(Ri)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,Ri)}}finishRequest(){this.recordTimingMetric(TimingMetric.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:ki,responseHTML:Ri}=this.response;this.render(async()=>{if(this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,isSuccessful(ki)&&Ri!=null){const ts=PageSnapshot.fromHTMLString(Ri);await this.renderPageSnapshot(ts,!1),this.adapter.visitRendered(this),this.complete()}else await this.view.renderError(PageSnapshot.fromHTMLString(Ri),this),this.adapter.visitRendered(this),this.fail()})}}getCachedSnapshot(){const ki=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(ki&&(!getAnchor(this.location)||ki.hasAnchor(getAnchor(this.location)))&&(this.action=="restore"||ki.isPreviewable))return ki}getPreloadedSnapshot(){if(this.snapshotHTML)return PageSnapshot.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){const ki=this.getCachedSnapshot();if(ki){const Ri=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage||this.isPageRefresh?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.renderPageSnapshot(ki,Ri),this.adapter.visitRendered(this),Ri||this.complete())})}}followRedirect(){var ki;this.redirectedToLocation&&!this.followedRedirect&&((ki=this.response)!=null&&ki.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(ki){this.acceptsStreamResponse&&ki.acceptResponseType(StreamMessage.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(ki,Ri){}async requestSucceededWithResponse(ki,Ri){const ts=await Ri.responseHTML,{redirected:rs,statusCode:is}=Ri;ts==null?this.recordResponse({statusCode:SystemStatusCode.contentTypeMismatch,redirected:rs}):(this.redirectedToLocation=Ri.redirected?Ri.location:void 0,this.recordResponse({statusCode:is,responseHTML:ts,redirected:rs}))}async requestFailedWithResponse(ki,Ri){const ts=await Ri.responseHTML,{redirected:rs,statusCode:is}=Ri;ts==null?this.recordResponse({statusCode:SystemStatusCode.contentTypeMismatch,redirected:rs}):this.recordResponse({statusCode:is,responseHTML:ts,redirected:rs})}requestErrored(ki,Ri){this.recordResponse({statusCode:SystemStatusCode.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&!this.view.shouldPreserveScrollPosition(this)&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){const{scrollPosition:ki}=this.restorationData;if(ki)return this.view.scrollToPosition(ki),!0}scrollToAnchor(){const ki=getAnchor(this.location);if(ki!=null)return this.view.scrollToAnchor(ki),!0}recordTimingMetric(ki){this.timingMetrics[ki]=new Date().getTime()}getTimingMetrics(){return{...this.timingMetrics}}getHistoryMethodForAction(ki){switch(ki){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(ki=>ki&&this.visitCachedSnapshot(ki)),this.snapshotCached=!0)}async render(ki){this.cancelRender(),await new Promise(Ri=>{this.frame=document.visibilityState==="hidden"?setTimeout(()=>Ri(),0):requestAnimationFrame(()=>Ri())}),await ki(),delete this.frame}async renderPageSnapshot(ki,Ri){await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(ki),async()=>{await this.view.renderPage(ki,Ri,this.willRender,this),this.performScroll()})}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}function isSuccessful(es){return es>=200&&es<300}class BrowserAdapter{constructor(ki){Ho(this,"progressBar",new ProgressBar);Ho(this,"showProgressBar",()=>{this.progressBar.show()});this.session=ki}visitProposedToLocation(ki,Ri){locationIsVisitable(ki,this.navigator.rootLocation)?this.navigator.startVisit(ki,(Ri==null?void 0:Ri.restorationIdentifier)||uuid(),Ri):window.location.href=ki.toString()}visitStarted(ki){this.location=ki.location,ki.loadCachedSnapshot(),ki.issueRequest(),ki.goToSamePageAnchor()}visitRequestStarted(ki){this.progressBar.setValue(0),ki.hasCachedSnapshot()||ki.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(ki){ki.loadResponse()}visitRequestFailedWithStatusCode(ki,Ri){switch(Ri){case SystemStatusCode.networkFailure:case SystemStatusCode.timeoutFailure:case SystemStatusCode.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:Ri}});default:return ki.loadResponse()}}visitRequestFinished(ki){}visitCompleted(ki){this.progressBar.setValue(1),this.hideVisitProgressBar()}pageInvalidated(ki){this.reload(ki)}visitFailed(ki){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitRendered(ki){}formSubmissionStarted(ki){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(ki){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(ki){var Ri;dispatch("turbo:reload",{detail:ki}),window.location.href=((Ri=this.location)==null?void 0:Ri.toString())||window.location.href}get navigator(){return this.session.navigator}}class CacheObserver{constructor(){Ho(this,"selector","[data-turbo-temporary]");Ho(this,"deprecatedSelector","[data-turbo-cache=false]");Ho(this,"started",!1);Ho(this,"removeTemporaryElements",ki=>{for(const Ri of this.temporaryElements)Ri.remove()})}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){const ki=document.querySelectorAll(this.deprecatedSelector);return ki.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...ki]}}var ip,R0,uv,hv;class FrameRedirector{constructor(ki,Ri){_c(this,ip);this.session=ki,this.element=Ri,this.linkInterceptor=new LinkInterceptor(this,Ri),this.formSubmitObserver=new FormSubmitObserver(this,Ri)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(ki,Ri,ts){return hc(this,ip,uv).call(this,ki)}linkClickIntercepted(ki,Ri,ts){const rs=hc(this,ip,hv).call(this,ki);rs&&rs.delegate.linkClickIntercepted(ki,Ri,ts)}willSubmitForm(ki,Ri){return ki.closest("turbo-frame")==null&&hc(this,ip,R0).call(this,ki,Ri)&&hc(this,ip,uv).call(this,ki,Ri)}formSubmitted(ki,Ri){const ts=hc(this,ip,hv).call(this,ki,Ri);ts&&ts.delegate.formSubmitted(ki,Ri)}}ip=new WeakSet,R0=function(ki,Ri){const ts=getAction$1(ki,Ri),rs=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),is=expandURL((rs==null?void 0:rs.content)??"/");return hc(this,ip,uv).call(this,ki,Ri)&&locationIsVisitable(ts,is)},uv=function(ki,Ri){if(ki instanceof HTMLFormElement?this.session.submissionIsNavigatable(ki,Ri):this.session.elementIsNavigatable(ki)){const rs=hc(this,ip,hv).call(this,ki,Ri);return rs?rs!=ki.closest("turbo-frame"):!1}else return!1},hv=function(ki,Ri){const ts=(Ri==null?void 0:Ri.getAttribute("data-turbo-frame"))||ki.getAttribute("data-turbo-frame");if(ts&&ts!="_top"){const rs=this.element.querySelector(`#${ts}:not([disabled])`);if(rs instanceof FrameElement)return rs}};class History{constructor(ki){Ho(this,"location");Ho(this,"restorationIdentifier",uuid());Ho(this,"restorationData",{});Ho(this,"started",!1);Ho(this,"pageLoaded",!1);Ho(this,"currentIndex",0);Ho(this,"onPopState",ki=>{if(this.shouldHandlePopState()){const{turbo:Ri}=ki.state||{};if(Ri){this.location=new URL(window.location.href);const{restorationIdentifier:ts,restorationIndex:rs}=Ri;this.restorationIdentifier=ts;const is=rs>this.currentIndex?"forward":"back";this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location,ts,is),this.currentIndex=rs}}});Ho(this,"onPageLoad",async ki=>{await nextMicrotask(),this.pageLoaded=!0});this.delegate=ki}start(){var ki,Ri;this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.currentIndex=((Ri=(ki=history.state)==null?void 0:ki.turbo)==null?void 0:Ri.restorationIndex)||0,this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(ki,Ri){this.update(history.pushState,ki,Ri)}replace(ki,Ri){this.update(history.replaceState,ki,Ri)}update(ki,Ri,ts=uuid()){ki===history.pushState&&++this.currentIndex;const rs={turbo:{restorationIdentifier:ts,restorationIndex:this.currentIndex}};ki.call(history,rs,"",Ri.href),this.location=Ri,this.restorationIdentifier=ts}getRestorationDataForIdentifier(ki){return this.restorationData[ki]||{}}updateRestorationData(ki){const{restorationIdentifier:Ri}=this,ts=this.restorationData[Ri];this.restorationData[Ri]={...ts,...ki}}assumeControlOfScrollRestoration(){this.previousScrollRestoration||(this.previousScrollRestoration=history.scrollRestoration??"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}}var wm,jm,$m,Qm,pv,Vm,Bm,U0,H0;class LinkPrefetchObserver{constructor(ki,Ri){_c(this,Bm);Ho(this,"started",!1);_c(this,wm,null);_c(this,jm,()=>{this.eventTarget.addEventListener("mouseenter",jl(this,$m),{capture:!0,passive:!0}),this.eventTarget.addEventListener("mouseleave",jl(this,Qm),{capture:!0,passive:!0}),this.eventTarget.addEventListener("turbo:before-fetch-request",jl(this,Vm),!0),this.started=!0});_c(this,$m,ki=>{if(getMetaContent("turbo-prefetch")==="false")return;const Ri=ki.target;if(Ri.matches&&Ri.matches("a[href]:not([target^=_]):not([download])")&&hc(this,Bm,H0).call(this,Ri)){const rs=Ri,is=getLocationForLink(rs);if(this.delegate.canPrefetchRequestToLocation(rs,is)){Xu(this,wm,rs);const ns=new FetchRequest$1(this,FetchMethod.get,is,new URLSearchParams,Ri);prefetchCache.setLater(is.toString(),ns,jl(this,Bm,U0))}}});_c(this,Qm,ki=>{ki.target===jl(this,wm)&&jl(this,pv).call(this)});_c(this,pv,()=>{prefetchCache.clear(),Xu(this,wm,null)});_c(this,Vm,ki=>{if(ki.target.tagName!=="FORM"&&ki.detail.fetchOptions.method==="GET"){const Ri=prefetchCache.get(ki.detail.url.toString());Ri&&(ki.detail.fetchRequest=Ri),prefetchCache.clear()}});this.delegate=ki,this.eventTarget=Ri}start(){this.started||(this.eventTarget.readyState==="loading"?this.eventTarget.addEventListener("DOMContentLoaded",jl(this,jm),{once:!0}):jl(this,jm).call(this))}stop(){this.started&&(this.eventTarget.removeEventListener("mouseenter",jl(this,$m),{capture:!0,passive:!0}),this.eventTarget.removeEventListener("mouseleave",jl(this,Qm),{capture:!0,passive:!0}),this.eventTarget.removeEventListener("turbo:before-fetch-request",jl(this,Vm),!0),this.started=!1)}prepareRequest(ki){const Ri=ki.target;ki.headers["X-Sec-Purpose"]="prefetch";const ts=Ri.closest("turbo-frame"),rs=Ri.getAttribute("data-turbo-frame")||(ts==null?void 0:ts.getAttribute("target"))||(ts==null?void 0:ts.id);rs&&rs!=="_top"&&(ki.headers["Turbo-Frame"]=rs)}requestSucceededWithResponse(){}requestStarted(ki){}requestErrored(ki){}requestFinished(ki){}requestPreventedHandlingResponse(ki,Ri){}requestFailedWithResponse(ki,Ri){}}wm=new WeakMap,jm=new WeakMap,$m=new WeakMap,Qm=new WeakMap,pv=new WeakMap,Vm=new WeakMap,Bm=new WeakSet,U0=function(){return Number(getMetaContent("turbo-prefetch-cache-time"))||cacheTtl},H0=function(ki){return!(!ki.getAttribute("href")||unfetchableLink(ki)||linkToTheSamePage(ki)||linkOptsOut(ki)||nonSafeLink(ki)||eventPrevented(ki))};const unfetchableLink=es=>es.origin!==document.location.origin||!["http:","https:"].includes(es.protocol)||es.hasAttribute("target"),linkToTheSamePage=es=>es.pathname+es.search===document.location.pathname+document.location.search||es.href.startsWith("#"),linkOptsOut=es=>{if(es.getAttribute("data-turbo-prefetch")==="false"||es.getAttribute("data-turbo")==="false")return!0;const ki=findClosestRecursively(es,"[data-turbo-prefetch]");return!!(ki&&ki.getAttribute("data-turbo-prefetch")==="false")},nonSafeLink=es=>{const ki=es.getAttribute("data-turbo-method");return!!(ki&&ki.toLowerCase()!=="get"||isUJS(es)||es.hasAttribute("data-turbo-confirm")||es.hasAttribute("data-turbo-stream"))},isUJS=es=>es.hasAttribute("data-remote")||es.hasAttribute("data-behavior")||es.hasAttribute("data-confirm")||es.hasAttribute("data-method"),eventPrevented=es=>dispatch("turbo:before-prefetch",{target:es,cancelable:!0}).defaultPrevented;var _m,j0,$0;class Navigator{constructor(ki){_c(this,_m);this.delegate=ki}proposeVisit(ki,Ri={}){this.delegate.allowsVisitingLocationWithAction(ki,Ri.action)&&this.delegate.visitProposedToLocation(ki,Ri)}startVisit(ki,Ri,ts={}){this.stop(),this.currentVisit=new Visit(this,expandURL(ki),Ri,{referrer:this.location,...ts}),this.currentVisit.start()}submitForm(ki,Ri){this.stop(),this.formSubmission=new FormSubmission(this,ki,Ri,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get rootLocation(){return this.view.snapshot.rootLocation}get history(){return this.delegate.history}formSubmissionStarted(ki){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(ki)}async formSubmissionSucceededWithResponse(ki,Ri){if(ki==this.formSubmission){const ts=await Ri.responseHTML;if(ts){const rs=ki.isSafe;rs||this.view.clearSnapshotCache();const{statusCode:is,redirected:ns}=Ri,os={action:hc(this,_m,j0).call(this,ki,Ri),shouldCacheSnapshot:rs,response:{statusCode:is,responseHTML:ts,redirected:ns}};this.proposeVisit(Ri.location,os)}}}async formSubmissionFailedWithResponse(ki,Ri){const ts=await Ri.responseHTML;if(ts){const rs=PageSnapshot.fromHTMLString(ts);Ri.serverError?await this.view.renderError(rs,this.currentVisit):await this.view.renderPage(rs,!1,!0,this.currentVisit),rs.shouldPreserveScrollPosition||this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(ki,Ri){console.error(Ri)}formSubmissionFinished(ki){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(ki)}visitStarted(ki){this.delegate.visitStarted(ki)}visitCompleted(ki){this.delegate.visitCompleted(ki),delete this.currentVisit}locationWithActionIsSamePage(ki,Ri){const ts=getAnchor(ki),rs=getAnchor(this.view.lastRenderedLocation),is=Ri==="restore"&&typeof ts>"u";return Ri!=="replace"&&getRequestURL(ki)===getRequestURL(this.view.lastRenderedLocation)&&(is||ts!=null&&ts!==rs)}visitScrolledToSamePageLocation(ki,Ri){this.delegate.visitScrolledToSamePageLocation(ki,Ri)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}}_m=new WeakSet,j0=function(ki,Ri){const{submitter:ts,formElement:rs}=ki;return getVisitAction(ts,rs)||hc(this,_m,$0).call(this,Ri)},$0=function(ki){var ts;return ki.redirected&&ki.location.href===((ts=this.location)==null?void 0:ts.href)?"replace":"advance"};const PageStage={initial:0,loading:1,interactive:2,complete:3};class PageObserver{constructor(ki){Ho(this,"stage",PageStage.initial);Ho(this,"started",!1);Ho(this,"interpretReadyState",()=>{const{readyState:ki}=this;ki=="interactive"?this.pageIsInteractive():ki=="complete"&&this.pageIsComplete()});Ho(this,"pageWillUnload",()=>{this.delegate.pageWillUnload()});this.delegate=ki}start(){this.started||(this.stage==PageStage.initial&&(this.stage=PageStage.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==PageStage.loading&&(this.stage=PageStage.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==PageStage.interactive&&(this.stage=PageStage.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}}class ScrollObserver{constructor(ki){Ho(this,"started",!1);Ho(this,"onScroll",()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})});this.delegate=ki}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(ki){this.delegate.scrollPositionChanged(ki)}}class StreamMessageRenderer{render({fragment:ki}){Bardo.preservingPermanentElements(this,getPermanentElementMapForFragment(ki),()=>{withAutofocusFromFragment(ki,()=>{withPreservedFocus(()=>{document.documentElement.appendChild(ki)})})})}enteringBardo(ki,Ri){Ri.replaceWith(ki.cloneNode(!0))}leavingBardo(){}}function getPermanentElementMapForFragment(es){const ki=queryPermanentElementsAll(document.documentElement),Ri={};for(const ts of ki){const{id:rs}=ts;for(const is of es.querySelectorAll("turbo-stream")){const ns=getPermanentElementById(is.templateElement.content,rs);ns&&(Ri[rs]=[ts,ns])}}return Ri}async function withAutofocusFromFragment(es,ki){const Ri=`turbo-stream-autofocus-${uuid()}`,ts=es.querySelectorAll("turbo-stream"),rs=firstAutofocusableElementInStreams(ts);let is=null;if(rs&&(rs.id?is=rs.id:is=Ri,rs.id=is),ki(),await nextRepaint(),(document.activeElement==null||document.activeElement==document.body)&&is){const ss=document.getElementById(is);elementIsFocusable(ss)&&ss.focus(),ss&&ss.id==Ri&&ss.removeAttribute("id")}}async function withPreservedFocus(es){const[ki,Ri]=await around(es,()=>document.activeElement),ts=ki&&ki.id;if(ts){const rs=document.getElementById(ts);elementIsFocusable(rs)&&rs!=Ri&&rs.focus()}}function firstAutofocusableElementInStreams(es){for(const ki of es){const Ri=queryAutofocusableElement(ki.templateElement.content);if(Ri)return Ri}return null}var $g;class StreamObserver{constructor(ki){Ho(this,"sources",new Set);_c(this,$g,!1);Ho(this,"inspectFetchResponse",ki=>{const Ri=fetchResponseFromEvent(ki);Ri&&fetchResponseIsStream(Ri)&&(ki.preventDefault(),this.receiveMessageResponse(Ri))});Ho(this,"receiveMessageEvent",ki=>{jl(this,$g)&&typeof ki.data=="string"&&this.receiveMessageHTML(ki.data)});this.delegate=ki}start(){jl(this,$g)||(Xu(this,$g,!0),addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){jl(this,$g)&&(Xu(this,$g,!1),removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(ki){this.streamSourceIsConnected(ki)||(this.sources.add(ki),ki.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(ki){this.streamSourceIsConnected(ki)&&(this.sources.delete(ki),ki.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(ki){return this.sources.has(ki)}async receiveMessageResponse(ki){const Ri=await ki.responseHTML;Ri&&this.receiveMessageHTML(Ri)}receiveMessageHTML(ki){this.delegate.receivedMessageFromStream(StreamMessage.wrap(ki))}}$g=new WeakMap;function fetchResponseFromEvent(es){var Ri;const ki=(Ri=es.detail)==null?void 0:Ri.fetchResponse;if(ki instanceof FetchResponse$1)return ki}function fetchResponseIsStream(es){return(es.contentType??"").startsWith(StreamMessage.contentType)}class ErrorRenderer extends Renderer{static renderElement(ki,Ri){const{documentElement:ts,body:rs}=document;ts.replaceChild(Ri,rs)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){const{documentElement:ki,head:Ri}=document;ki.replaceChild(this.newHead,Ri),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(const ki of this.scriptElements){const Ri=ki.parentNode;if(Ri){const ts=activateScriptElement(ki);Ri.replaceChild(ts,ki)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}}var gv,Q0;class PageRenderer extends Renderer{constructor(){super(...arguments);_c(this,gv)}static renderElement(Ri,ts){document.body&&ts instanceof HTMLBodyElement?document.body.replaceWith(ts):document.documentElement.appendChild(ts)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){hc(this,gv,Q0).call(this),await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){const Ri=this.mergeProvisionalElements(),ts=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await Ri,await ts,this.willRender&&this.removeUnusedDynamicStylesheetElements()}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){const Ri=[];for(const ts of this.newHeadStylesheetElements)Ri.push(waitForLoad(ts)),document.head.appendChild(ts);await Promise.all(Ri)}copyNewHeadScriptElements(){for(const Ri of this.newHeadScriptElements)document.head.appendChild(activateScriptElement(Ri))}removeUnusedDynamicStylesheetElements(){for(const Ri of this.unusedDynamicStylesheetElements)document.head.removeChild(Ri)}async mergeProvisionalElements(){const Ri=[...this.newHeadProvisionalElements];for(const ts of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(ts,Ri)||document.head.removeChild(ts);for(const ts of Ri)document.head.appendChild(ts)}isCurrentElementInElementList(Ri,ts){for(const[rs,is]of ts.entries()){if(Ri.tagName=="TITLE"){if(is.tagName!="TITLE")continue;if(Ri.innerHTML==is.innerHTML)return ts.splice(rs,1),!0}if(is.isEqualNode(Ri))return ts.splice(rs,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(const Ri of this.currentHeadProvisionalElements)document.head.removeChild(Ri)}copyNewHeadProvisionalElements(){for(const Ri of this.newHeadProvisionalElements)document.head.appendChild(Ri)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(const Ri of this.newBodyScriptElements){const ts=activateScriptElement(Ri);Ri.replaceWith(ts)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get unusedDynamicStylesheetElements(){return this.oldHeadStylesheetElements.filter(Ri=>Ri.getAttribute("data-turbo-track")==="dynamic")}get oldHeadStylesheetElements(){return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}}gv=new WeakSet,Q0=function(){const{documentElement:Ri}=this.currentSnapshot,{lang:ts}=this.newSnapshot;ts?Ri.setAttribute("lang",ts):Ri.removeAttribute("lang")};class MorphingPageRenderer extends PageRenderer{static renderElement(ki,Ri){morphElements(ki,Ri,{callbacks:{beforeNodeMorphed:ts=>!canRefreshFrame(ts)}});for(const ts of ki.querySelectorAll("turbo-frame"))canRefreshFrame(ts)&&ts.reload();dispatch("turbo:morph",{detail:{currentElement:ki,newElement:Ri}})}async preservingPermanentElements(ki){return await ki()}get renderMethod(){return"morph"}get shouldAutofocus(){return!1}}function canRefreshFrame(es){return es instanceof FrameElement&&es.src&&es.refresh==="morph"&&!es.closest("[data-turbo-permanent]")}class SnapshotCache{constructor(ki){Ho(this,"keys",[]);Ho(this,"snapshots",{});this.size=ki}has(ki){return toCacheKey(ki)in this.snapshots}get(ki){if(this.has(ki)){const Ri=this.read(ki);return this.touch(ki),Ri}}put(ki,Ri){return this.write(ki,Ri),this.touch(ki),Ri}clear(){this.snapshots={}}read(ki){return this.snapshots[toCacheKey(ki)]}write(ki,Ri){this.snapshots[toCacheKey(ki)]=Ri}touch(ki){const Ri=toCacheKey(ki),ts=this.keys.indexOf(Ri);ts>-1&&this.keys.splice(ts,1),this.keys.unshift(Ri),this.trim()}trim(){for(const ki of this.keys.splice(this.size))delete this.snapshots[ki]}}class PageView extends View{constructor(){super(...arguments);Ho(this,"snapshotCache",new SnapshotCache(10));Ho(this,"lastRenderedLocation",new URL(location.href));Ho(this,"forceReloaded",!1)}shouldTransitionTo(Ri){return this.snapshot.prefersViewTransitions&&Ri.prefersViewTransitions}renderPage(Ri,ts=!1,rs=!0,is){const ss=this.isPageRefresh(is)&&this.snapshot.shouldMorphPage?MorphingPageRenderer:PageRenderer,os=new ss(this.snapshot,Ri,ts,rs);return os.shouldRender?is==null||is.changeHistory():this.forceReloaded=!0,this.render(os)}renderError(Ri,ts){ts==null||ts.changeHistory();const rs=new ErrorRenderer(this.snapshot,Ri,!1);return this.render(rs)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(Ri=this.snapshot){if(Ri.isCacheable){this.delegate.viewWillCacheSnapshot();const{lastRenderedLocation:ts}=this;await nextEventLoopTick();const rs=Ri.clone();return this.snapshotCache.put(ts,rs),rs}}getCachedSnapshotForLocation(Ri){return this.snapshotCache.get(Ri)}isPageRefresh(Ri){return!Ri||this.lastRenderedLocation.pathname===Ri.location.pathname&&Ri.action==="replace"}shouldPreserveScrollPosition(Ri){return this.isPageRefresh(Ri)&&this.snapshot.shouldPreserveScrollPosition}get snapshot(){return PageSnapshot.fromElement(this.element)}}var Wm;class Preloader{constructor(ki,Ri){Ho(this,"selector","a[data-turbo-preload]");_c(this,Wm,()=>{this.preloadOnLoadLinksForView(document.body)});this.delegate=ki,this.snapshotCache=Ri}start(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",jl(this,Wm)):this.preloadOnLoadLinksForView(document.body)}stop(){document.removeEventListener("DOMContentLoaded",jl(this,Wm))}preloadOnLoadLinksForView(ki){for(const Ri of ki.querySelectorAll(this.selector))this.delegate.shouldPreloadLink(Ri)&&this.preloadURL(Ri)}async preloadURL(ki){const Ri=new URL(ki.href);if(this.snapshotCache.has(Ri))return;await new FetchRequest$1(this,FetchMethod.get,Ri,new URLSearchParams,ki).perform()}prepareRequest(ki){ki.headers["X-Sec-Purpose"]="prefetch"}async requestSucceededWithResponse(ki,Ri){try{const ts=await Ri.responseHTML,rs=PageSnapshot.fromHTMLString(ts);this.snapshotCache.put(ki.url,rs)}catch{}}requestStarted(ki){}requestErrored(ki){}requestFinished(ki){}requestPreventedHandlingResponse(ki,Ri){}requestFailedWithResponse(ki,Ri){}}Wm=new WeakMap;var Cm,dv;class Cache{constructor(ki){_c(this,Cm);this.session=ki}clear(){this.session.clearCache()}resetCacheControl(){hc(this,Cm,dv).call(this,"")}exemptPageFromCache(){hc(this,Cm,dv).call(this,"no-cache")}exemptPageFromPreview(){hc(this,Cm,dv).call(this,"no-preview")}}Cm=new WeakSet,dv=function(ki){setMetaContent("turbo-cache-control",ki)};var zm;class Session{constructor(ki){Ho(this,"navigator",new Navigator(this));Ho(this,"history",new History(this));Ho(this,"view",new PageView(this,document.documentElement));Ho(this,"adapter",new BrowserAdapter(this));Ho(this,"pageObserver",new PageObserver(this));Ho(this,"cacheObserver",new CacheObserver);Ho(this,"linkPrefetchObserver",new LinkPrefetchObserver(this,document));Ho(this,"linkClickObserver",new LinkClickObserver(this,window));Ho(this,"formSubmitObserver",new FormSubmitObserver(this,document));Ho(this,"scrollObserver",new ScrollObserver(this));Ho(this,"streamObserver",new StreamObserver(this));Ho(this,"formLinkClickObserver",new FormLinkClickObserver(this,document.documentElement));Ho(this,"frameRedirector",new FrameRedirector(this,document.documentElement));Ho(this,"streamMessageRenderer",new StreamMessageRenderer);Ho(this,"cache",new Cache(this));Ho(this,"enabled",!0);Ho(this,"started",!1);_c(this,zm,150);this.recentRequests=ki,this.preloader=new Preloader(this,this.view.snapshotCache),this.debouncedRefresh=this.refresh,this.pageRefreshDebouncePeriod=this.pageRefreshDebouncePeriod}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkPrefetchObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkPrefetchObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.preloader.stop(),this.started=!1)}registerAdapter(ki){this.adapter=ki}visit(ki,Ri={}){const ts=Ri.frame?document.getElementById(Ri.frame):null;if(ts instanceof FrameElement){const rs=Ri.action||getVisitAction(ts);ts.delegate.proposeVisitIfNavigatedWithAction(ts,rs),ts.src=ki.toString()}else this.navigator.proposeVisit(expandURL(ki),Ri)}refresh(ki,Ri){!(Ri&&this.recentRequests.has(Ri))&&!this.navigator.currentVisit&&this.visit(ki,{action:"replace",shouldCacheSnapshot:!1})}connectStreamSource(ki){this.streamObserver.connectStreamSource(ki)}disconnectStreamSource(ki){this.streamObserver.disconnectStreamSource(ki)}renderStreamMessage(ki){this.streamMessageRenderer.render(StreamMessage.wrap(ki))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(ki){console.warn("Please replace `session.setProgressBarDelay(delay)` with `session.progressBarDelay = delay`. The function is deprecated and will be removed in a future version of Turbo.`"),this.progressBarDelay=ki}set progressBarDelay(ki){config.drive.progressBarDelay=ki}get progressBarDelay(){return config.drive.progressBarDelay}set drive(ki){config.drive.enabled=ki}get drive(){return config.drive.enabled}set formMode(ki){config.forms.mode=ki}get formMode(){return config.forms.mode}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}get pageRefreshDebouncePeriod(){return jl(this,zm)}set pageRefreshDebouncePeriod(ki){this.refresh=debounce(this.debouncedRefresh.bind(this),ki),Xu(this,zm,ki)}shouldPreloadLink(ki){const Ri=ki.hasAttribute("data-turbo-method"),ts=ki.hasAttribute("data-turbo-stream"),rs=ki.getAttribute("data-turbo-frame"),is=rs=="_top"?null:document.getElementById(rs)||findClosestRecursively(ki,"turbo-frame:not([disabled])");if(Ri||ts||is instanceof FrameElement)return!1;{const ns=new URL(ki.href);return this.elementIsNavigatable(ki)&&locationIsVisitable(ns,this.snapshot.rootLocation)}}historyPoppedToLocationWithRestorationIdentifierAndDirection(ki,Ri,ts){this.enabled?this.navigator.startVisit(ki,Ri,{action:"restore",historyChanged:!0,direction:ts}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(ki){this.history.updateRestorationData({scrollPosition:ki})}willSubmitFormLinkToLocation(ki,Ri){return this.elementIsNavigatable(ki)&&locationIsVisitable(Ri,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}canPrefetchRequestToLocation(ki,Ri){return this.elementIsNavigatable(ki)&&locationIsVisitable(Ri,this.snapshot.rootLocation)}willFollowLinkToLocation(ki,Ri,ts){return this.elementIsNavigatable(ki)&&locationIsVisitable(Ri,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(ki,Ri,ts)}followedLinkToLocation(ki,Ri){const ts=this.getActionForLink(ki),rs=ki.hasAttribute("data-turbo-stream");this.visit(Ri.href,{action:ts,acceptsStreamResponse:rs})}allowsVisitingLocationWithAction(ki,Ri){return this.locationWithActionIsSamePage(ki,Ri)||this.applicationAllowsVisitingLocation(ki)}visitProposedToLocation(ki,Ri){extendURLWithDeprecatedProperties(ki),this.adapter.visitProposedToLocation(ki,Ri)}visitStarted(ki){ki.acceptsStreamResponse||(markAsBusy(document.documentElement),this.view.markVisitDirection(ki.direction)),extendURLWithDeprecatedProperties(ki.location),ki.silent||this.notifyApplicationAfterVisitingLocation(ki.location,ki.action)}visitCompleted(ki){this.view.unmarkVisitDirection(),clearBusyState(document.documentElement),this.notifyApplicationAfterPageLoad(ki.getTimingMetrics())}locationWithActionIsSamePage(ki,Ri){return this.navigator.locationWithActionIsSamePage(ki,Ri)}visitScrolledToSamePageLocation(ki,Ri){this.notifyApplicationAfterVisitingSamePageLocation(ki,Ri)}willSubmitForm(ki,Ri){const ts=getAction$1(ki,Ri);return this.submissionIsNavigatable(ki,Ri)&&locationIsVisitable(expandURL(ts),this.snapshot.rootLocation)}formSubmitted(ki,Ri){this.navigator.submitForm(ki,Ri)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(ki){this.renderStreamMessage(ki)}viewWillCacheSnapshot(){var ki;(ki=this.navigator.currentVisit)!=null&&ki.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:ki},Ri){const ts=this.notifyApplicationBeforeRender(ki,Ri),{defaultPrevented:rs,detail:{render:is}}=ts;return this.view.renderer&&is&&(this.view.renderer.renderElement=is),!rs}viewRenderedSnapshot(ki,Ri,ts){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender(ts)}preloadOnLoadLinksForView(ki){this.preloader.preloadOnLoadLinksForView(ki)}viewInvalidated(ki){this.adapter.pageInvalidated(ki)}frameLoaded(ki){this.notifyApplicationAfterFrameLoad(ki)}frameRendered(ki,Ri){this.notifyApplicationAfterFrameRender(ki,Ri)}applicationAllowsFollowingLinkToLocation(ki,Ri,ts){return!this.notifyApplicationAfterClickingLinkToLocation(ki,Ri,ts).defaultPrevented}applicationAllowsVisitingLocation(ki){return!this.notifyApplicationBeforeVisitingLocation(ki).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(ki,Ri,ts){return dispatch("turbo:click",{target:ki,detail:{url:Ri.href,originalEvent:ts},cancelable:!0})}notifyApplicationBeforeVisitingLocation(ki){return dispatch("turbo:before-visit",{detail:{url:ki.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(ki,Ri){return dispatch("turbo:visit",{detail:{url:ki.href,action:Ri}})}notifyApplicationBeforeCachingSnapshot(){return dispatch("turbo:before-cache")}notifyApplicationBeforeRender(ki,Ri){return dispatch("turbo:before-render",{detail:{newBody:ki,...Ri},cancelable:!0})}notifyApplicationAfterRender(ki){return dispatch("turbo:render",{detail:{renderMethod:ki}})}notifyApplicationAfterPageLoad(ki={}){return dispatch("turbo:load",{detail:{url:this.location.href,timing:ki}})}notifyApplicationAfterVisitingSamePageLocation(ki,Ri){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:ki.toString(),newURL:Ri.toString()}))}notifyApplicationAfterFrameLoad(ki){return dispatch("turbo:frame-load",{target:ki})}notifyApplicationAfterFrameRender(ki,Ri){return dispatch("turbo:frame-render",{detail:{fetchResponse:ki},target:Ri,cancelable:!0})}submissionIsNavigatable(ki,Ri){if(config.forms.mode=="off")return!1;{const ts=Ri?this.elementIsNavigatable(Ri):!0;return config.forms.mode=="optin"?ts&&ki.closest('[data-turbo="true"]')!=null:ts&&this.elementIsNavigatable(ki)}}elementIsNavigatable(ki){const Ri=findClosestRecursively(ki,"[data-turbo]"),ts=findClosestRecursively(ki,"turbo-frame");return config.drive.enabled||ts?Ri?Ri.getAttribute("data-turbo")!="false":!0:Ri?Ri.getAttribute("data-turbo")=="true":!1}getActionForLink(ki){return getVisitAction(ki)||"advance"}get snapshot(){return this.view.snapshot}}zm=new WeakMap;function extendURLWithDeprecatedProperties(es){Object.defineProperties(es,deprecatedLocationPropertyDescriptors)}const deprecatedLocationPropertyDescriptors={absoluteURL:{get(){return this.toString()}}},session=new Session(recentRequests),{cache:cache$1,navigator:navigator$1}=session;function start$2(){session.start()}function registerAdapter(es){session.registerAdapter(es)}function visit(es,ki){session.visit(es,ki)}function connectStreamSource(es){session.connectStreamSource(es)}function disconnectStreamSource(es){session.disconnectStreamSource(es)}function renderStreamMessage(es){session.renderStreamMessage(es)}function clearCache(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),session.clearCache()}function setProgressBarDelay(es){console.warn("Please replace `Turbo.setProgressBarDelay(delay)` with `Turbo.config.drive.progressBarDelay = delay`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),config.drive.progressBarDelay=es}function setConfirmMethod(es){console.warn("Please replace `Turbo.setConfirmMethod(confirmMethod)` with `Turbo.config.forms.confirm = confirmMethod`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),config.forms.confirm=es}function setFormMode(es){console.warn("Please replace `Turbo.setFormMode(mode)` with `Turbo.config.forms.mode = mode`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),config.forms.mode=es}var Turbo=Object.freeze({__proto__:null,navigator:navigator$1,session,cache:cache$1,PageRenderer,PageSnapshot,FrameRenderer,fetch:fetchWithTurboHeaders,config,start:start$2,registerAdapter,visit,connectStreamSource,disconnectStreamSource,renderStreamMessage,clearCache,setProgressBarDelay,setConfirmMethod,setFormMode});class TurboFrameMissingError extends Error{}var Em,zp,Qg,qm,xm,Sm,Ic,ym,V0,W0,z0,q0,G0,K0,Y0,n0,bm,X0,Av,J0,Z0,ey;class FrameController{constructor(ki){_c(this,Ic);Ho(this,"fetchResponseLoaded",ki=>Promise.resolve());_c(this,Em,null);_c(this,zp,()=>{});_c(this,Qg,!1);_c(this,qm,!1);_c(this,xm,new Set);_c(this,Sm,!1);Ho(this,"action",null);Ho(this,"visitCachedSnapshot",({element:ki})=>{const Ri=ki.querySelector("#"+this.element.id);Ri&&this.previousFrameElement&&Ri.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement});this.element=ki,this.view=new FrameView(this,this.element),this.appearanceObserver=new AppearanceObserver(this,this.element),this.formLinkClickObserver=new FormLinkClickObserver(this,this.element),this.linkInterceptor=new LinkInterceptor(this,this.element),this.restorationIdentifier=uuid(),this.formSubmitObserver=new FormSubmitObserver(this,this.element)}connect(){jl(this,Qg)||(Xu(this,Qg,!0),this.loadingStyle==FrameLoadingStyle.lazy?this.appearanceObserver.start():hc(this,Ic,ym).call(this),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){jl(this,Qg)&&(Xu(this,Qg,!1),this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==FrameLoadingStyle.eager&&hc(this,Ic,ym).call(this)}sourceURLChanged(){hc(this,Ic,J0).call(this,"src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==FrameLoadingStyle.eager||jl(this,qm))&&hc(this,Ic,ym).call(this))}sourceURLReloaded(){const{refresh:ki,src:Ri}=this.element;return Xu(this,Sm,Ri&&ki==="morph"),this.element.removeAttribute("complete"),this.element.src=null,this.element.src=Ri,this.element.loaded}loadingStyleChanged(){this.loadingStyle==FrameLoadingStyle.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),hc(this,Ic,ym).call(this))}async loadResponse(ki){(ki.redirected||ki.succeeded&&ki.isHTML)&&(this.sourceURL=ki.response.url);try{const Ri=await ki.responseHTML;if(Ri){const ts=parseHTMLDocument(Ri);PageSnapshot.fromDocument(ts).isVisitable?await hc(this,Ic,V0).call(this,ki,ts):await hc(this,Ic,q0).call(this,ki)}}finally{Xu(this,Sm,!1),this.fetchResponseLoaded=()=>Promise.resolve()}}elementAppearedInViewport(ki){this.proposeVisitIfNavigatedWithAction(ki,getVisitAction(ki)),hc(this,Ic,ym).call(this)}willSubmitFormLinkToLocation(ki){return hc(this,Ic,Av).call(this,ki)}submittedFormLinkToLocation(ki,Ri,ts){const rs=hc(this,Ic,bm).call(this,ki);rs&&ts.setAttribute("data-turbo-frame",rs.id)}shouldInterceptLinkClick(ki,Ri,ts){return hc(this,Ic,Av).call(this,ki)}linkClickIntercepted(ki,Ri){hc(this,Ic,z0).call(this,ki,Ri)}willSubmitForm(ki,Ri){return ki.closest("turbo-frame")==this.element&&hc(this,Ic,Av).call(this,ki,Ri)}formSubmitted(ki,Ri){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new FormSubmission(this,ki,Ri);const{fetchRequest:ts}=this.formSubmission;this.prepareRequest(ts),this.formSubmission.start()}prepareRequest(ki){var Ri;ki.headers["Turbo-Frame"]=this.id,(Ri=this.currentNavigationElement)!=null&&Ri.hasAttribute("data-turbo-stream")&&ki.acceptResponseType(StreamMessage.contentType)}requestStarted(ki){markAsBusy(this.element)}requestPreventedHandlingResponse(ki,Ri){jl(this,zp).call(this)}async requestSucceededWithResponse(ki,Ri){await this.loadResponse(Ri),jl(this,zp).call(this)}async requestFailedWithResponse(ki,Ri){await this.loadResponse(Ri),jl(this,zp).call(this)}requestErrored(ki,Ri){console.error(Ri),jl(this,zp).call(this)}requestFinished(ki){clearBusyState(this.element)}formSubmissionStarted({formElement:ki}){markAsBusy(ki,hc(this,Ic,bm).call(this,ki))}formSubmissionSucceededWithResponse(ki,Ri){const ts=hc(this,Ic,bm).call(this,ki.formElement,ki.submitter);ts.delegate.proposeVisitIfNavigatedWithAction(ts,getVisitAction(ki.submitter,ki.formElement,ts)),ts.delegate.loadResponse(Ri),ki.isSafe||session.clearCache()}formSubmissionFailedWithResponse(ki,Ri){this.element.delegate.loadResponse(Ri),session.clearCache()}formSubmissionErrored(ki,Ri){console.error(Ri)}formSubmissionFinished({formElement:ki}){clearBusyState(ki,hc(this,Ic,bm).call(this,ki))}allowsImmediateRender({element:ki},Ri){const ts=dispatch("turbo:before-frame-render",{target:this.element,detail:{newFrame:ki,...Ri},cancelable:!0}),{defaultPrevented:rs,detail:{render:is}}=ts;return this.view.renderer&&is&&(this.view.renderer.renderElement=is),!rs}viewRenderedSnapshot(ki,Ri,ts){}preloadOnLoadLinksForView(ki){session.preloadOnLoadLinksForView(ki)}viewInvalidated(){}willRenderFrame(ki,Ri){this.previousFrameElement=ki.cloneNode(!0)}proposeVisitIfNavigatedWithAction(ki,Ri=null){if(this.action=Ri,this.action){const ts=PageSnapshot.fromElement(ki).clone(),{visitCachedSnapshot:rs}=ki.delegate;ki.delegate.fetchResponseLoaded=async is=>{if(ki.src){const{statusCode:ns,redirected:ss}=is,os=await is.responseHTML,cs={response:{statusCode:ns,redirected:ss,responseHTML:os},visitCachedSnapshot:rs,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:ts};this.action&&(cs.action=this.action),session.visit(ki.src,cs)}}}}changeHistory(){if(this.action){const ki=getHistoryMethodForAction(this.action);session.history.update(ki,expandURL(this.element.src||""),this.restorationIdentifier)}}async extractForeignFrameElement(ki){let Ri;const ts=CSS.escape(this.id);try{if(Ri=activateElement(ki.querySelector(`turbo-frame#${ts}`),this.sourceURL),Ri)return Ri;if(Ri=activateElement(ki.querySelector(`turbo-frame[src][recurse~=${ts}]`),this.sourceURL),Ri)return await Ri.loaded,await this.extractForeignFrameElement(Ri)}catch(rs){return console.error(rs),new FrameElement}return null}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(ki){hc(this,Ic,Z0).call(this,"src",()=>{this.element.src=ki??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||jl(this,zp).call(this)!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(ki){ki?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")}get isActive(){return this.element.isActive&&jl(this,Qg)}get rootLocation(){const ki=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),Ri=(ki==null?void 0:ki.content)??"/";return expandURL(Ri)}}Em=new WeakMap,zp=new WeakMap,Qg=new WeakMap,qm=new WeakMap,xm=new WeakMap,Sm=new WeakMap,Ic=new WeakSet,ym=async function(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=hc(this,Ic,W0).call(this,expandURL(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,Xu(this,qm,!0))},V0=async function(ki,Ri){const ts=await this.extractForeignFrameElement(Ri.body),rs=jl(this,Sm)?MorphingFrameRenderer:FrameRenderer;if(ts){const is=new Snapshot(ts),ns=new rs(this,this.view.snapshot,is,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(ns),this.complete=!0,session.frameRendered(ki,this.element),session.frameLoaded(this.element),await this.fetchResponseLoaded(ki)}else hc(this,Ic,G0).call(this,ki)&&hc(this,Ic,K0).call(this,ki)},W0=async function(ki){var ts;const Ri=new FetchRequest$1(this,FetchMethod.get,ki,new URLSearchParams,this.element);return(ts=jl(this,Em))==null||ts.cancel(),Xu(this,Em,Ri),new Promise(rs=>{Xu(this,zp,()=>{Xu(this,zp,()=>{}),Xu(this,Em,null),rs()}),Ri.perform()})},z0=function(ki,Ri,ts){const rs=hc(this,Ic,bm).call(this,ki,ts);rs.delegate.proposeVisitIfNavigatedWithAction(rs,getVisitAction(ts,ki,rs)),hc(this,Ic,ey).call(this,ki,()=>{rs.src=Ri})},q0=async function(ki){console.warn(`The response (${ki.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await hc(this,Ic,n0).call(this,ki.response)},G0=function(ki){this.element.setAttribute("complete","");const Ri=ki.response,ts=async(is,ns)=>{is instanceof Response?hc(this,Ic,n0).call(this,is):session.visit(is,ns)};return!dispatch("turbo:frame-missing",{target:this.element,detail:{response:Ri,visit:ts},cancelable:!0}).defaultPrevented},K0=function(ki){this.view.missing(),hc(this,Ic,Y0).call(this,ki)},Y0=function(ki){const Ri=`The response (${ki.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new TurboFrameMissingError(Ri)},n0=async function(ki){const Ri=new FetchResponse$1(ki),ts=await Ri.responseHTML,{location:rs,redirected:is,statusCode:ns}=Ri;return session.visit(rs,{response:{redirected:is,statusCode:ns,responseHTML:ts}})},bm=function(ki,Ri){const ts=getAttribute("data-turbo-frame",Ri,ki)||this.element.getAttribute("target");return getFrameElementById(ts)??this.element},X0=function(ki,Ri){const ts=getAction$1(ki,Ri);return locationIsVisitable(expandURL(ts),this.rootLocation)},Av=function(ki,Ri){const ts=getAttribute("data-turbo-frame",Ri,ki)||this.element.getAttribute("target");if(ki instanceof HTMLFormElement&&!hc(this,Ic,X0).call(this,ki,Ri)||!this.enabled||ts=="_top")return!1;if(ts){const rs=getFrameElementById(ts);if(rs)return!rs.disabled}return!(!session.elementIsNavigatable(ki)||Ri&&!session.elementIsNavigatable(Ri))},J0=function(ki){return jl(this,xm).has(ki)},Z0=function(ki,Ri){jl(this,xm).add(ki),Ri(),jl(this,xm).delete(ki)},ey=function(ki,Ri){this.currentNavigationElement=ki,Ri(),delete this.currentNavigationElement};function getFrameElementById(es){if(es!=null){const ki=document.getElementById(es);if(ki instanceof FrameElement)return ki}}function activateElement(es,ki){if(es){const Ri=es.getAttribute("src");if(Ri!=null&&ki!=null&&urlsAreEqual(Ri,ki))throw new Error(`Matching <turbo-frame id="${es.id}"> element has a source URL which references itself`);if(es.ownerDocument!==document&&(es=document.importNode(es,!0)),es instanceof FrameElement)return es.connectedCallback(),es.disconnectedCallback(),es}}const StreamActions={after(){this.targetElements.forEach(es=>{var ki;return(ki=es.parentElement)==null?void 0:ki.insertBefore(this.templateContent,es.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(es=>es.append(this.templateContent))},before(){this.targetElements.forEach(es=>{var ki;return(ki=es.parentElement)==null?void 0:ki.insertBefore(this.templateContent,es)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(es=>es.prepend(this.templateContent))},remove(){this.targetElements.forEach(es=>es.remove())},replace(){const es=this.getAttribute("method");this.targetElements.forEach(ki=>{es==="morph"?morphElements(ki,this.templateContent):ki.replaceWith(this.templateContent)})},update(){const es=this.getAttribute("method");this.targetElements.forEach(ki=>{es==="morph"?morphChildren(ki,this.templateContent):(ki.innerHTML="",ki.append(this.templateContent))})},refresh(){session.refresh(this.baseURI,this.requestId)}};var om,Pm;const a0=class a0 extends HTMLElement{constructor(){super(...arguments);_c(this,om)}static async renderElement(Ri){await Ri.performAction()}async connectedCallback(){try{await this.render()}catch(Ri){console.error(Ri)}finally{this.disconnect()}}async render(){return this.renderPromise??(this.renderPromise=(async()=>{const Ri=this.beforeRenderEvent;this.dispatchEvent(Ri)&&(await nextRepaint(),await Ri.detail.render(this))})())}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(Ri=>Ri.remove())}get duplicateChildren(){var rs;const Ri=this.targetElements.flatMap(is=>[...is.children]).filter(is=>!!is.id),ts=[...((rs=this.templateContent)==null?void 0:rs.children)||[]].filter(is=>!!is.id).map(is=>is.id);return Ri.filter(is=>ts.includes(is.id))}get performAction(){if(this.action){const Ri=StreamActions[this.action];if(Ri)return Ri;hc(this,om,Pm).call(this,"unknown action")}hc(this,om,Pm).call(this,"action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;hc(this,om,Pm).call(this,"target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){const Ri=this.ownerDocument.createElement("template");return this.appendChild(Ri),Ri}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;hc(this,om,Pm).call(this,"first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}get requestId(){return this.getAttribute("request-id")}get description(){return(this.outerHTML.match(/<[^>]+>/)??[])[0]??"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:a0.renderElement}})}get targetElementsById(){var ts;const Ri=(ts=this.ownerDocument)==null?void 0:ts.getElementById(this.target);return Ri!==null?[Ri]:[]}get targetElementsByQuery(){var ts;const Ri=(ts=this.ownerDocument)==null?void 0:ts.querySelectorAll(this.targets);return Ri.length!==0?Array.prototype.slice.call(Ri):[]}};om=new WeakSet,Pm=function(Ri){throw new Error(`${this.description}: ${Ri}`)};let StreamElement=a0;class StreamSourceElement extends HTMLElement{constructor(){super(...arguments);Ho(this,"streamSource",null)}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),connectStreamSource(this.streamSource)}disconnectedCallback(){this.streamSource&&(this.streamSource.close(),disconnectStreamSource(this.streamSource))}get src(){return this.getAttribute("src")||""}}FrameElement.delegateConstructor=FrameController;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",FrameElement);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",StreamElement);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",StreamSourceElement);(()=>{let es=document.currentScript;if(es&&!es.hasAttribute("data-turbo-suppress-warning"))for(es=es.parentElement;es;){if(es==document.body)return console.warn(unindent`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        ——
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,es.outerHTML);es=es.parentElement}})();window.Turbo={...Turbo,StreamActions};start$2();class EventListener{constructor(ki,Ri,ts){this.eventTarget=ki,this.eventName=Ri,this.eventOptions=ts,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(ki){this.unorderedBindings.add(ki)}bindingDisconnected(ki){this.unorderedBindings.delete(ki)}handleEvent(ki){const Ri=extendEvent(ki);for(const ts of this.bindings){if(Ri.immediatePropagationStopped)break;ts.handleEvent(Ri)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((ki,Ri)=>{const ts=ki.index,rs=Ri.index;return ts<rs?-1:ts>rs?1:0})}}function extendEvent(es){if("immediatePropagationStopped"in es)return es;{const{stopImmediatePropagation:ki}=es;return Object.assign(es,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,ki.call(this)}})}}class Dispatcher{constructor(ki){this.application=ki,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(ki=>ki.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(ki=>ki.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((ki,Ri)=>ki.concat(Array.from(Ri.values())),[])}bindingConnected(ki){this.fetchEventListenerForBinding(ki).bindingConnected(ki)}bindingDisconnected(ki,Ri=!1){this.fetchEventListenerForBinding(ki).bindingDisconnected(ki),Ri&&this.clearEventListenersForBinding(ki)}handleError(ki,Ri,ts={}){this.application.handleError(ki,`Error ${Ri}`,ts)}clearEventListenersForBinding(ki){const Ri=this.fetchEventListenerForBinding(ki);Ri.hasBindings()||(Ri.disconnect(),this.removeMappedEventListenerFor(ki))}removeMappedEventListenerFor(ki){const{eventTarget:Ri,eventName:ts,eventOptions:rs}=ki,is=this.fetchEventListenerMapForEventTarget(Ri),ns=this.cacheKey(ts,rs);is.delete(ns),is.size==0&&this.eventListenerMaps.delete(Ri)}fetchEventListenerForBinding(ki){const{eventTarget:Ri,eventName:ts,eventOptions:rs}=ki;return this.fetchEventListener(Ri,ts,rs)}fetchEventListener(ki,Ri,ts){const rs=this.fetchEventListenerMapForEventTarget(ki),is=this.cacheKey(Ri,ts);let ns=rs.get(is);return ns||(ns=this.createEventListener(ki,Ri,ts),rs.set(is,ns)),ns}createEventListener(ki,Ri,ts){const rs=new EventListener(ki,Ri,ts);return this.started&&rs.connect(),rs}fetchEventListenerMapForEventTarget(ki){let Ri=this.eventListenerMaps.get(ki);return Ri||(Ri=new Map,this.eventListenerMaps.set(ki,Ri)),Ri}cacheKey(ki,Ri){const ts=[ki];return Object.keys(Ri).sort().forEach(rs=>{ts.push(`${Ri[rs]?"":"!"}${rs}`)}),ts.join(":")}}const defaultActionDescriptorFilters={stop({event:es,value:ki}){return ki&&es.stopPropagation(),!0},prevent({event:es,value:ki}){return ki&&es.preventDefault(),!0},self({event:es,value:ki,element:Ri}){return ki?Ri===es.target:!0}},descriptorPattern=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function parseActionDescriptorString(es){const Ri=es.trim().match(descriptorPattern)||[];let ts=Ri[2],rs=Ri[3];return rs&&!["keydown","keyup","keypress"].includes(ts)&&(ts+=`.${rs}`,rs=""),{eventTarget:parseEventTarget(Ri[4]),eventName:ts,eventOptions:Ri[7]?parseEventOptions(Ri[7]):{},identifier:Ri[5],methodName:Ri[6],keyFilter:Ri[1]||rs}}function parseEventTarget(es){if(es=="window")return window;if(es=="document")return document}function parseEventOptions(es){return es.split(":").reduce((ki,Ri)=>Object.assign(ki,{[Ri.replace(/^!/,"")]:!/^!/.test(Ri)}),{})}function stringifyEventTarget(es){if(es==window)return"window";if(es==document)return"document"}function camelize(es){return es.replace(/(?:[_-])([a-z0-9])/g,(ki,Ri)=>Ri.toUpperCase())}function namespaceCamelize(es){return camelize(es.replace(/--/g,"-").replace(/__/g,"_"))}function capitalize(es){return es.charAt(0).toUpperCase()+es.slice(1)}function dasherize(es){return es.replace(/([A-Z])/g,(ki,Ri)=>`-${Ri.toLowerCase()}`)}function tokenize(es){return es.match(/[^\s]+/g)||[]}function isSomething(es){return es!=null}function hasProperty(es,ki){return Object.prototype.hasOwnProperty.call(es,ki)}const allModifiers=["meta","ctrl","alt","shift"];class Action{constructor(ki,Ri,ts,rs){this.element=ki,this.index=Ri,this.eventTarget=ts.eventTarget||ki,this.eventName=ts.eventName||getDefaultEventNameForElement(ki)||error("missing event name"),this.eventOptions=ts.eventOptions||{},this.identifier=ts.identifier||error("missing identifier"),this.methodName=ts.methodName||error("missing method name"),this.keyFilter=ts.keyFilter||"",this.schema=rs}static forToken(ki,Ri){return new this(ki.element,ki.index,parseActionDescriptorString(ki.content),Ri)}toString(){const ki=this.keyFilter?`.${this.keyFilter}`:"",Ri=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${ki}${Ri}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(ki){if(!this.keyFilter)return!1;const Ri=this.keyFilter.split("+");if(this.keyFilterDissatisfied(ki,Ri))return!0;const ts=Ri.filter(rs=>!allModifiers.includes(rs))[0];return ts?(hasProperty(this.keyMappings,ts)||error(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[ts].toLowerCase()!==ki.key.toLowerCase()):!1}shouldIgnoreMouseEvent(ki){if(!this.keyFilter)return!1;const Ri=[this.keyFilter];return!!this.keyFilterDissatisfied(ki,Ri)}get params(){const ki={},Ri=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(const{name:ts,value:rs}of Array.from(this.element.attributes)){const is=ts.match(Ri),ns=is&&is[1];ns&&(ki[camelize(ns)]=typecast(rs))}return ki}get eventTargetName(){return stringifyEventTarget(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(ki,Ri){const[ts,rs,is,ns]=allModifiers.map(ss=>Ri.includes(ss));return ki.metaKey!==ts||ki.ctrlKey!==rs||ki.altKey!==is||ki.shiftKey!==ns}}const defaultEventNames={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:es=>es.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function getDefaultEventNameForElement(es){const ki=es.tagName.toLowerCase();if(ki in defaultEventNames)return defaultEventNames[ki](es)}function error(es){throw new Error(es)}function typecast(es){try{return JSON.parse(es)}catch{return es}}class Binding{constructor(ki,Ri){this.context=ki,this.action=Ri}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(ki){const Ri=this.prepareActionEvent(ki);this.willBeInvokedByEvent(ki)&&this.applyEventModifiers(Ri)&&this.invokeWithEvent(Ri)}get eventName(){return this.action.eventName}get method(){const ki=this.controller[this.methodName];if(typeof ki=="function")return ki;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(ki){const{element:Ri}=this.action,{actionDescriptorFilters:ts}=this.context.application,{controller:rs}=this.context;let is=!0;for(const[ns,ss]of Object.entries(this.eventOptions))if(ns in ts){const os=ts[ns];is=is&&os({name:ns,value:ss,event:ki,element:Ri,controller:rs})}else continue;return is}prepareActionEvent(ki){return Object.assign(ki,{params:this.action.params})}invokeWithEvent(ki){const{target:Ri,currentTarget:ts}=ki;try{this.method.call(this.controller,ki),this.context.logDebugActivity(this.methodName,{event:ki,target:Ri,currentTarget:ts,action:this.methodName})}catch(rs){const{identifier:is,controller:ns,element:ss,index:os}=this,ls={identifier:is,controller:ns,element:ss,index:os,event:ki};this.context.handleError(rs,`invoking action "${this.action}"`,ls)}}willBeInvokedByEvent(ki){const Ri=ki.target;return ki instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(ki)||ki instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(ki)?!1:this.element===Ri?!0:Ri instanceof Element&&this.element.contains(Ri)?this.scope.containsElement(Ri):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}}class ElementObserver{constructor(ki,Ri){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=ki,this.started=!1,this.delegate=Ri,this.elements=new Set,this.mutationObserver=new MutationObserver(ts=>this.processMutations(ts))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(ki){this.started&&(this.mutationObserver.disconnect(),this.started=!1),ki(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){const ki=new Set(this.matchElementsInTree());for(const Ri of Array.from(this.elements))ki.has(Ri)||this.removeElement(Ri);for(const Ri of Array.from(ki))this.addElement(Ri)}}processMutations(ki){if(this.started)for(const Ri of ki)this.processMutation(Ri)}processMutation(ki){ki.type=="attributes"?this.processAttributeChange(ki.target,ki.attributeName):ki.type=="childList"&&(this.processRemovedNodes(ki.removedNodes),this.processAddedNodes(ki.addedNodes))}processAttributeChange(ki,Ri){this.elements.has(ki)?this.delegate.elementAttributeChanged&&this.matchElement(ki)?this.delegate.elementAttributeChanged(ki,Ri):this.removeElement(ki):this.matchElement(ki)&&this.addElement(ki)}processRemovedNodes(ki){for(const Ri of Array.from(ki)){const ts=this.elementFromNode(Ri);ts&&this.processTree(ts,this.removeElement)}}processAddedNodes(ki){for(const Ri of Array.from(ki)){const ts=this.elementFromNode(Ri);ts&&this.elementIsActive(ts)&&this.processTree(ts,this.addElement)}}matchElement(ki){return this.delegate.matchElement(ki)}matchElementsInTree(ki=this.element){return this.delegate.matchElementsInTree(ki)}processTree(ki,Ri){for(const ts of this.matchElementsInTree(ki))Ri.call(this,ts)}elementFromNode(ki){if(ki.nodeType==Node.ELEMENT_NODE)return ki}elementIsActive(ki){return ki.isConnected!=this.element.isConnected?!1:this.element.contains(ki)}addElement(ki){this.elements.has(ki)||this.elementIsActive(ki)&&(this.elements.add(ki),this.delegate.elementMatched&&this.delegate.elementMatched(ki))}removeElement(ki){this.elements.has(ki)&&(this.elements.delete(ki),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(ki))}}class AttributeObserver{constructor(ki,Ri,ts){this.attributeName=Ri,this.delegate=ts,this.elementObserver=new ElementObserver(ki,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(ki){this.elementObserver.pause(ki)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(ki){return ki.hasAttribute(this.attributeName)}matchElementsInTree(ki){const Ri=this.matchElement(ki)?[ki]:[],ts=Array.from(ki.querySelectorAll(this.selector));return Ri.concat(ts)}elementMatched(ki){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(ki,this.attributeName)}elementUnmatched(ki){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(ki,this.attributeName)}elementAttributeChanged(ki,Ri){this.delegate.elementAttributeValueChanged&&this.attributeName==Ri&&this.delegate.elementAttributeValueChanged(ki,Ri)}}function add(es,ki,Ri){fetch$1(es,ki).add(Ri)}function del(es,ki,Ri){fetch$1(es,ki).delete(Ri),prune(es,ki)}function fetch$1(es,ki){let Ri=es.get(ki);return Ri||(Ri=new Set,es.set(ki,Ri)),Ri}function prune(es,ki){const Ri=es.get(ki);Ri!=null&&Ri.size==0&&es.delete(ki)}class Multimap{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((Ri,ts)=>Ri.concat(Array.from(ts)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((Ri,ts)=>Ri+ts.size,0)}add(ki,Ri){add(this.valuesByKey,ki,Ri)}delete(ki,Ri){del(this.valuesByKey,ki,Ri)}has(ki,Ri){const ts=this.valuesByKey.get(ki);return ts!=null&&ts.has(Ri)}hasKey(ki){return this.valuesByKey.has(ki)}hasValue(ki){return Array.from(this.valuesByKey.values()).some(ts=>ts.has(ki))}getValuesForKey(ki){const Ri=this.valuesByKey.get(ki);return Ri?Array.from(Ri):[]}getKeysForValue(ki){return Array.from(this.valuesByKey).filter(([Ri,ts])=>ts.has(ki)).map(([Ri,ts])=>Ri)}}class SelectorObserver{constructor(ki,Ri,ts,rs){this._selector=Ri,this.details=rs,this.elementObserver=new ElementObserver(ki,this),this.delegate=ts,this.matchesByElement=new Multimap}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(ki){this._selector=ki,this.refresh()}start(){this.elementObserver.start()}pause(ki){this.elementObserver.pause(ki)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(ki){const{selector:Ri}=this;if(Ri){const ts=ki.matches(Ri);return this.delegate.selectorMatchElement?ts&&this.delegate.selectorMatchElement(ki,this.details):ts}else return!1}matchElementsInTree(ki){const{selector:Ri}=this;if(Ri){const ts=this.matchElement(ki)?[ki]:[],rs=Array.from(ki.querySelectorAll(Ri)).filter(is=>this.matchElement(is));return ts.concat(rs)}else return[]}elementMatched(ki){const{selector:Ri}=this;Ri&&this.selectorMatched(ki,Ri)}elementUnmatched(ki){const Ri=this.matchesByElement.getKeysForValue(ki);for(const ts of Ri)this.selectorUnmatched(ki,ts)}elementAttributeChanged(ki,Ri){const{selector:ts}=this;if(ts){const rs=this.matchElement(ki),is=this.matchesByElement.has(ts,ki);rs&&!is?this.selectorMatched(ki,ts):!rs&&is&&this.selectorUnmatched(ki,ts)}}selectorMatched(ki,Ri){this.delegate.selectorMatched(ki,Ri,this.details),this.matchesByElement.add(Ri,ki)}selectorUnmatched(ki,Ri){this.delegate.selectorUnmatched(ki,Ri,this.details),this.matchesByElement.delete(Ri,ki)}}class StringMapObserver{constructor(ki,Ri){this.element=ki,this.delegate=Ri,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(ts=>this.processMutations(ts))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(const ki of this.knownAttributeNames)this.refreshAttribute(ki,null)}processMutations(ki){if(this.started)for(const Ri of ki)this.processMutation(Ri)}processMutation(ki){const Ri=ki.attributeName;Ri&&this.refreshAttribute(Ri,ki.oldValue)}refreshAttribute(ki,Ri){const ts=this.delegate.getStringMapKeyForAttribute(ki);if(ts!=null){this.stringMap.has(ki)||this.stringMapKeyAdded(ts,ki);const rs=this.element.getAttribute(ki);if(this.stringMap.get(ki)!=rs&&this.stringMapValueChanged(rs,ts,Ri),rs==null){const is=this.stringMap.get(ki);this.stringMap.delete(ki),is&&this.stringMapKeyRemoved(ts,ki,is)}else this.stringMap.set(ki,rs)}}stringMapKeyAdded(ki,Ri){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(ki,Ri)}stringMapValueChanged(ki,Ri,ts){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(ki,Ri,ts)}stringMapKeyRemoved(ki,Ri,ts){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(ki,Ri,ts)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(ki=>ki.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}}class TokenListObserver{constructor(ki,Ri,ts){this.attributeObserver=new AttributeObserver(ki,Ri,this),this.delegate=ts,this.tokensByElement=new Multimap}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(ki){this.attributeObserver.pause(ki)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(ki){this.tokensMatched(this.readTokensForElement(ki))}elementAttributeValueChanged(ki){const[Ri,ts]=this.refreshTokensForElement(ki);this.tokensUnmatched(Ri),this.tokensMatched(ts)}elementUnmatchedAttribute(ki){this.tokensUnmatched(this.tokensByElement.getValuesForKey(ki))}tokensMatched(ki){ki.forEach(Ri=>this.tokenMatched(Ri))}tokensUnmatched(ki){ki.forEach(Ri=>this.tokenUnmatched(Ri))}tokenMatched(ki){this.delegate.tokenMatched(ki),this.tokensByElement.add(ki.element,ki)}tokenUnmatched(ki){this.delegate.tokenUnmatched(ki),this.tokensByElement.delete(ki.element,ki)}refreshTokensForElement(ki){const Ri=this.tokensByElement.getValuesForKey(ki),ts=this.readTokensForElement(ki),rs=zip(Ri,ts).findIndex(([is,ns])=>!tokensAreEqual(is,ns));return rs==-1?[[],[]]:[Ri.slice(rs),ts.slice(rs)]}readTokensForElement(ki){const Ri=this.attributeName,ts=ki.getAttribute(Ri)||"";return parseTokenString(ts,ki,Ri)}}function parseTokenString(es,ki,Ri){return es.trim().split(/\s+/).filter(ts=>ts.length).map((ts,rs)=>({element:ki,attributeName:Ri,content:ts,index:rs}))}function zip(es,ki){const Ri=Math.max(es.length,ki.length);return Array.from({length:Ri},(ts,rs)=>[es[rs],ki[rs]])}function tokensAreEqual(es,ki){return es&&ki&&es.index==ki.index&&es.content==ki.content}class ValueListObserver{constructor(ki,Ri,ts){this.tokenListObserver=new TokenListObserver(ki,Ri,this),this.delegate=ts,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(ki){const{element:Ri}=ki,{value:ts}=this.fetchParseResultForToken(ki);ts&&(this.fetchValuesByTokenForElement(Ri).set(ki,ts),this.delegate.elementMatchedValue(Ri,ts))}tokenUnmatched(ki){const{element:Ri}=ki,{value:ts}=this.fetchParseResultForToken(ki);ts&&(this.fetchValuesByTokenForElement(Ri).delete(ki),this.delegate.elementUnmatchedValue(Ri,ts))}fetchParseResultForToken(ki){let Ri=this.parseResultsByToken.get(ki);return Ri||(Ri=this.parseToken(ki),this.parseResultsByToken.set(ki,Ri)),Ri}fetchValuesByTokenForElement(ki){let Ri=this.valuesByTokenByElement.get(ki);return Ri||(Ri=new Map,this.valuesByTokenByElement.set(ki,Ri)),Ri}parseToken(ki){try{return{value:this.delegate.parseValueForToken(ki)}}catch(Ri){return{error:Ri}}}}class BindingObserver{constructor(ki,Ri){this.context=ki,this.delegate=Ri,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new ValueListObserver(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(ki){const Ri=new Binding(this.context,ki);this.bindingsByAction.set(ki,Ri),this.delegate.bindingConnected(Ri)}disconnectAction(ki){const Ri=this.bindingsByAction.get(ki);Ri&&(this.bindingsByAction.delete(ki),this.delegate.bindingDisconnected(Ri))}disconnectAllActions(){this.bindings.forEach(ki=>this.delegate.bindingDisconnected(ki,!0)),this.bindingsByAction.clear()}parseValueForToken(ki){const Ri=Action.forToken(ki,this.schema);if(Ri.identifier==this.identifier)return Ri}elementMatchedValue(ki,Ri){this.connectAction(Ri)}elementUnmatchedValue(ki,Ri){this.disconnectAction(Ri)}}class ValueObserver{constructor(ki,Ri){this.context=ki,this.receiver=Ri,this.stringMapObserver=new StringMapObserver(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(ki){if(ki in this.valueDescriptorMap)return this.valueDescriptorMap[ki].name}stringMapKeyAdded(ki,Ri){const ts=this.valueDescriptorMap[Ri];this.hasValue(ki)||this.invokeChangedCallback(ki,ts.writer(this.receiver[ki]),ts.writer(ts.defaultValue))}stringMapValueChanged(ki,Ri,ts){const rs=this.valueDescriptorNameMap[Ri];ki!==null&&(ts===null&&(ts=rs.writer(rs.defaultValue)),this.invokeChangedCallback(Ri,ki,ts))}stringMapKeyRemoved(ki,Ri,ts){const rs=this.valueDescriptorNameMap[ki];this.hasValue(ki)?this.invokeChangedCallback(ki,rs.writer(this.receiver[ki]),ts):this.invokeChangedCallback(ki,rs.writer(rs.defaultValue),ts)}invokeChangedCallbacksForDefaultValues(){for(const{key:ki,name:Ri,defaultValue:ts,writer:rs}of this.valueDescriptors)ts!=null&&!this.controller.data.has(ki)&&this.invokeChangedCallback(Ri,rs(ts),void 0)}invokeChangedCallback(ki,Ri,ts){const rs=`${ki}Changed`,is=this.receiver[rs];if(typeof is=="function"){const ns=this.valueDescriptorNameMap[ki];try{const ss=ns.reader(Ri);let os=ts;ts&&(os=ns.reader(ts)),is.call(this.receiver,ss,os)}catch(ss){throw ss instanceof TypeError&&(ss.message=`Stimulus Value "${this.context.identifier}.${ns.name}" - ${ss.message}`),ss}}}get valueDescriptors(){const{valueDescriptorMap:ki}=this;return Object.keys(ki).map(Ri=>ki[Ri])}get valueDescriptorNameMap(){const ki={};return Object.keys(this.valueDescriptorMap).forEach(Ri=>{const ts=this.valueDescriptorMap[Ri];ki[ts.name]=ts}),ki}hasValue(ki){const Ri=this.valueDescriptorNameMap[ki],ts=`has${capitalize(Ri.name)}`;return this.receiver[ts]}}class TargetObserver{constructor(ki,Ri){this.context=ki,this.delegate=Ri,this.targetsByName=new Multimap}start(){this.tokenListObserver||(this.tokenListObserver=new TokenListObserver(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:ki,content:Ri}){this.scope.containsElement(ki)&&this.connectTarget(ki,Ri)}tokenUnmatched({element:ki,content:Ri}){this.disconnectTarget(ki,Ri)}connectTarget(ki,Ri){var ts;this.targetsByName.has(Ri,ki)||(this.targetsByName.add(Ri,ki),(ts=this.tokenListObserver)===null||ts===void 0||ts.pause(()=>this.delegate.targetConnected(ki,Ri)))}disconnectTarget(ki,Ri){var ts;this.targetsByName.has(Ri,ki)&&(this.targetsByName.delete(Ri,ki),(ts=this.tokenListObserver)===null||ts===void 0||ts.pause(()=>this.delegate.targetDisconnected(ki,Ri)))}disconnectAllTargets(){for(const ki of this.targetsByName.keys)for(const Ri of this.targetsByName.getValuesForKey(ki))this.disconnectTarget(Ri,ki)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}}function readInheritableStaticArrayValues(es,ki){const Ri=getAncestorsForConstructor(es);return Array.from(Ri.reduce((ts,rs)=>(getOwnStaticArrayValues(rs,ki).forEach(is=>ts.add(is)),ts),new Set))}function readInheritableStaticObjectPairs(es,ki){return getAncestorsForConstructor(es).reduce((ts,rs)=>(ts.push(...getOwnStaticObjectPairs(rs,ki)),ts),[])}function getAncestorsForConstructor(es){const ki=[];for(;es;)ki.push(es),es=Object.getPrototypeOf(es);return ki.reverse()}function getOwnStaticArrayValues(es,ki){const Ri=es[ki];return Array.isArray(Ri)?Ri:[]}function getOwnStaticObjectPairs(es,ki){const Ri=es[ki];return Ri?Object.keys(Ri).map(ts=>[ts,Ri[ts]]):[]}class OutletObserver{constructor(ki,Ri){this.started=!1,this.context=ki,this.delegate=Ri,this.outletsByName=new Multimap,this.outletElementsByName=new Multimap,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(ki=>{this.setupSelectorObserverForOutlet(ki),this.setupAttributeObserverForOutlet(ki)}),this.started=!0,this.dependentContexts.forEach(ki=>ki.refresh()))}refresh(){this.selectorObserverMap.forEach(ki=>ki.refresh()),this.attributeObserverMap.forEach(ki=>ki.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(ki=>ki.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(ki=>ki.stop()),this.attributeObserverMap.clear())}selectorMatched(ki,Ri,{outletName:ts}){const rs=this.getOutlet(ki,ts);rs&&this.connectOutlet(rs,ki,ts)}selectorUnmatched(ki,Ri,{outletName:ts}){const rs=this.getOutletFromMap(ki,ts);rs&&this.disconnectOutlet(rs,ki,ts)}selectorMatchElement(ki,{outletName:Ri}){const ts=this.selector(Ri),rs=this.hasOutlet(ki,Ri),is=ki.matches(`[${this.schema.controllerAttribute}~=${Ri}]`);return ts?rs&&is&&ki.matches(ts):!1}elementMatchedAttribute(ki,Ri){const ts=this.getOutletNameFromOutletAttributeName(Ri);ts&&this.updateSelectorObserverForOutlet(ts)}elementAttributeValueChanged(ki,Ri){const ts=this.getOutletNameFromOutletAttributeName(Ri);ts&&this.updateSelectorObserverForOutlet(ts)}elementUnmatchedAttribute(ki,Ri){const ts=this.getOutletNameFromOutletAttributeName(Ri);ts&&this.updateSelectorObserverForOutlet(ts)}connectOutlet(ki,Ri,ts){var rs;this.outletElementsByName.has(ts,Ri)||(this.outletsByName.add(ts,ki),this.outletElementsByName.add(ts,Ri),(rs=this.selectorObserverMap.get(ts))===null||rs===void 0||rs.pause(()=>this.delegate.outletConnected(ki,Ri,ts)))}disconnectOutlet(ki,Ri,ts){var rs;this.outletElementsByName.has(ts,Ri)&&(this.outletsByName.delete(ts,ki),this.outletElementsByName.delete(ts,Ri),(rs=this.selectorObserverMap.get(ts))===null||rs===void 0||rs.pause(()=>this.delegate.outletDisconnected(ki,Ri,ts)))}disconnectAllOutlets(){for(const ki of this.outletElementsByName.keys)for(const Ri of this.outletElementsByName.getValuesForKey(ki))for(const ts of this.outletsByName.getValuesForKey(ki))this.disconnectOutlet(ts,Ri,ki)}updateSelectorObserverForOutlet(ki){const Ri=this.selectorObserverMap.get(ki);Ri&&(Ri.selector=this.selector(ki))}setupSelectorObserverForOutlet(ki){const Ri=this.selector(ki),ts=new SelectorObserver(document.body,Ri,this,{outletName:ki});this.selectorObserverMap.set(ki,ts),ts.start()}setupAttributeObserverForOutlet(ki){const Ri=this.attributeNameForOutletName(ki),ts=new AttributeObserver(this.scope.element,Ri,this);this.attributeObserverMap.set(ki,ts),ts.start()}selector(ki){return this.scope.outlets.getSelectorForOutletName(ki)}attributeNameForOutletName(ki){return this.scope.schema.outletAttributeForScope(this.identifier,ki)}getOutletNameFromOutletAttributeName(ki){return this.outletDefinitions.find(Ri=>this.attributeNameForOutletName(Ri)===ki)}get outletDependencies(){const ki=new Multimap;return this.router.modules.forEach(Ri=>{const ts=Ri.definition.controllerConstructor;readInheritableStaticArrayValues(ts,"outlets").forEach(is=>ki.add(is,Ri.identifier))}),ki}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){const ki=this.dependentControllerIdentifiers;return this.router.contexts.filter(Ri=>ki.includes(Ri.identifier))}hasOutlet(ki,Ri){return!!this.getOutlet(ki,Ri)||!!this.getOutletFromMap(ki,Ri)}getOutlet(ki,Ri){return this.application.getControllerForElementAndIdentifier(ki,Ri)}getOutletFromMap(ki,Ri){return this.outletsByName.getValuesForKey(Ri).find(ts=>ts.element===ki)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}}class Context{constructor(ki,Ri){this.logDebugActivity=(ts,rs={})=>{const{identifier:is,controller:ns,element:ss}=this;rs=Object.assign({identifier:is,controller:ns,element:ss},rs),this.application.logDebugActivity(this.identifier,ts,rs)},this.module=ki,this.scope=Ri,this.controller=new ki.controllerConstructor(this),this.bindingObserver=new BindingObserver(this,this.dispatcher),this.valueObserver=new ValueObserver(this,this.controller),this.targetObserver=new TargetObserver(this,this),this.outletObserver=new OutletObserver(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(ts){this.handleError(ts,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(ki){this.handleError(ki,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(ki){this.handleError(ki,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(ki,Ri,ts={}){const{identifier:rs,controller:is,element:ns}=this;ts=Object.assign({identifier:rs,controller:is,element:ns},ts),this.application.handleError(ki,`Error ${Ri}`,ts)}targetConnected(ki,Ri){this.invokeControllerMethod(`${Ri}TargetConnected`,ki)}targetDisconnected(ki,Ri){this.invokeControllerMethod(`${Ri}TargetDisconnected`,ki)}outletConnected(ki,Ri,ts){this.invokeControllerMethod(`${namespaceCamelize(ts)}OutletConnected`,ki,Ri)}outletDisconnected(ki,Ri,ts){this.invokeControllerMethod(`${namespaceCamelize(ts)}OutletDisconnected`,ki,Ri)}invokeControllerMethod(ki,...Ri){const ts=this.controller;typeof ts[ki]=="function"&&ts[ki](...Ri)}}function bless(es){return shadow(es,getBlessedProperties(es))}function shadow(es,ki){const Ri=extend$2(es),ts=getShadowProperties(es.prototype,ki);return Object.defineProperties(Ri.prototype,ts),Ri}function getBlessedProperties(es){return readInheritableStaticArrayValues(es,"blessings").reduce((Ri,ts)=>{const rs=ts(es);for(const is in rs){const ns=Ri[is]||{};Ri[is]=Object.assign(ns,rs[is])}return Ri},{})}function getShadowProperties(es,ki){return getOwnKeys(ki).reduce((Ri,ts)=>{const rs=getShadowedDescriptor(es,ki,ts);return rs&&Object.assign(Ri,{[ts]:rs}),Ri},{})}function getShadowedDescriptor(es,ki,Ri){const ts=Object.getOwnPropertyDescriptor(es,Ri);if(!(ts&&"value"in ts)){const is=Object.getOwnPropertyDescriptor(ki,Ri).value;return ts&&(is.get=ts.get||is.get,is.set=ts.set||is.set),is}}const getOwnKeys=typeof Object.getOwnPropertySymbols=="function"?es=>[...Object.getOwnPropertyNames(es),...Object.getOwnPropertySymbols(es)]:Object.getOwnPropertyNames,extend$2=(()=>{function es(Ri){function ts(){return Reflect.construct(Ri,arguments,new.target)}return ts.prototype=Object.create(Ri.prototype,{constructor:{value:ts}}),Reflect.setPrototypeOf(ts,Ri),ts}function ki(){const ts=es(function(){this.a.call(this)});return ts.prototype.a=function(){},new ts}try{return ki(),es}catch{return ts=>class extends ts{}}})();function blessDefinition(es){return{identifier:es.identifier,controllerConstructor:bless(es.controllerConstructor)}}class Module{constructor(ki,Ri){this.application=ki,this.definition=blessDefinition(Ri),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(ki){const Ri=this.fetchContextForScope(ki);this.connectedContexts.add(Ri),Ri.connect()}disconnectContextForScope(ki){const Ri=this.contextsByScope.get(ki);Ri&&(this.connectedContexts.delete(Ri),Ri.disconnect())}fetchContextForScope(ki){let Ri=this.contextsByScope.get(ki);return Ri||(Ri=new Context(this,ki),this.contextsByScope.set(ki,Ri)),Ri}}class ClassMap{constructor(ki){this.scope=ki}has(ki){return this.data.has(this.getDataKey(ki))}get(ki){return this.getAll(ki)[0]}getAll(ki){const Ri=this.data.get(this.getDataKey(ki))||"";return tokenize(Ri)}getAttributeName(ki){return this.data.getAttributeNameForKey(this.getDataKey(ki))}getDataKey(ki){return`${ki}-class`}get data(){return this.scope.data}}class DataMap{constructor(ki){this.scope=ki}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(ki){const Ri=this.getAttributeNameForKey(ki);return this.element.getAttribute(Ri)}set(ki,Ri){const ts=this.getAttributeNameForKey(ki);return this.element.setAttribute(ts,Ri),this.get(ki)}has(ki){const Ri=this.getAttributeNameForKey(ki);return this.element.hasAttribute(Ri)}delete(ki){if(this.has(ki)){const Ri=this.getAttributeNameForKey(ki);return this.element.removeAttribute(Ri),!0}else return!1}getAttributeNameForKey(ki){return`data-${this.identifier}-${dasherize(ki)}`}}class Guide{constructor(ki){this.warnedKeysByObject=new WeakMap,this.logger=ki}warn(ki,Ri,ts){let rs=this.warnedKeysByObject.get(ki);rs||(rs=new Set,this.warnedKeysByObject.set(ki,rs)),rs.has(Ri)||(rs.add(Ri),this.logger.warn(ts,ki))}}function attributeValueContainsToken(es,ki){return`[${es}~="${ki}"]`}class TargetSet{constructor(ki){this.scope=ki}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(ki){return this.find(ki)!=null}find(...ki){return ki.reduce((Ri,ts)=>Ri||this.findTarget(ts)||this.findLegacyTarget(ts),void 0)}findAll(...ki){return ki.reduce((Ri,ts)=>[...Ri,...this.findAllTargets(ts),...this.findAllLegacyTargets(ts)],[])}findTarget(ki){const Ri=this.getSelectorForTargetName(ki);return this.scope.findElement(Ri)}findAllTargets(ki){const Ri=this.getSelectorForTargetName(ki);return this.scope.findAllElements(Ri)}getSelectorForTargetName(ki){const Ri=this.schema.targetAttributeForScope(this.identifier);return attributeValueContainsToken(Ri,ki)}findLegacyTarget(ki){const Ri=this.getLegacySelectorForTargetName(ki);return this.deprecate(this.scope.findElement(Ri),ki)}findAllLegacyTargets(ki){const Ri=this.getLegacySelectorForTargetName(ki);return this.scope.findAllElements(Ri).map(ts=>this.deprecate(ts,ki))}getLegacySelectorForTargetName(ki){const Ri=`${this.identifier}.${ki}`;return attributeValueContainsToken(this.schema.targetAttribute,Ri)}deprecate(ki,Ri){if(ki){const{identifier:ts}=this,rs=this.schema.targetAttribute,is=this.schema.targetAttributeForScope(ts);this.guide.warn(ki,`target:${Ri}`,`Please replace ${rs}="${ts}.${Ri}" with ${is}="${Ri}". The ${rs} attribute is deprecated and will be removed in a future version of Stimulus.`)}return ki}get guide(){return this.scope.guide}}class OutletSet{constructor(ki,Ri){this.scope=ki,this.controllerElement=Ri}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(ki){return this.find(ki)!=null}find(...ki){return ki.reduce((Ri,ts)=>Ri||this.findOutlet(ts),void 0)}findAll(...ki){return ki.reduce((Ri,ts)=>[...Ri,...this.findAllOutlets(ts)],[])}getSelectorForOutletName(ki){const Ri=this.schema.outletAttributeForScope(this.identifier,ki);return this.controllerElement.getAttribute(Ri)}findOutlet(ki){const Ri=this.getSelectorForOutletName(ki);if(Ri)return this.findElement(Ri,ki)}findAllOutlets(ki){const Ri=this.getSelectorForOutletName(ki);return Ri?this.findAllElements(Ri,ki):[]}findElement(ki,Ri){return this.scope.queryElements(ki).filter(rs=>this.matchesElement(rs,ki,Ri))[0]}findAllElements(ki,Ri){return this.scope.queryElements(ki).filter(rs=>this.matchesElement(rs,ki,Ri))}matchesElement(ki,Ri,ts){const rs=ki.getAttribute(this.scope.schema.controllerAttribute)||"";return ki.matches(Ri)&&rs.split(" ").includes(ts)}}class Scope{constructor(ki,Ri,ts,rs){this.targets=new TargetSet(this),this.classes=new ClassMap(this),this.data=new DataMap(this),this.containsElement=is=>is.closest(this.controllerSelector)===this.element,this.schema=ki,this.element=Ri,this.identifier=ts,this.guide=new Guide(rs),this.outlets=new OutletSet(this.documentScope,Ri)}findElement(ki){return this.element.matches(ki)?this.element:this.queryElements(ki).find(this.containsElement)}findAllElements(ki){return[...this.element.matches(ki)?[this.element]:[],...this.queryElements(ki).filter(this.containsElement)]}queryElements(ki){return Array.from(this.element.querySelectorAll(ki))}get controllerSelector(){return attributeValueContainsToken(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new Scope(this.schema,document.documentElement,this.identifier,this.guide.logger)}}class ScopeObserver{constructor(ki,Ri,ts){this.element=ki,this.schema=Ri,this.delegate=ts,this.valueListObserver=new ValueListObserver(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(ki){const{element:Ri,content:ts}=ki;return this.parseValueForElementAndIdentifier(Ri,ts)}parseValueForElementAndIdentifier(ki,Ri){const ts=this.fetchScopesByIdentifierForElement(ki);let rs=ts.get(Ri);return rs||(rs=this.delegate.createScopeForElementAndIdentifier(ki,Ri),ts.set(Ri,rs)),rs}elementMatchedValue(ki,Ri){const ts=(this.scopeReferenceCounts.get(Ri)||0)+1;this.scopeReferenceCounts.set(Ri,ts),ts==1&&this.delegate.scopeConnected(Ri)}elementUnmatchedValue(ki,Ri){const ts=this.scopeReferenceCounts.get(Ri);ts&&(this.scopeReferenceCounts.set(Ri,ts-1),ts==1&&this.delegate.scopeDisconnected(Ri))}fetchScopesByIdentifierForElement(ki){let Ri=this.scopesByIdentifierByElement.get(ki);return Ri||(Ri=new Map,this.scopesByIdentifierByElement.set(ki,Ri)),Ri}}class Router{constructor(ki){this.application=ki,this.scopeObserver=new ScopeObserver(this.element,this.schema,this),this.scopesByIdentifier=new Multimap,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((ki,Ri)=>ki.concat(Ri.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(ki){this.unloadIdentifier(ki.identifier);const Ri=new Module(this.application,ki);this.connectModule(Ri);const ts=ki.controllerConstructor.afterLoad;ts&&ts.call(ki.controllerConstructor,ki.identifier,this.application)}unloadIdentifier(ki){const Ri=this.modulesByIdentifier.get(ki);Ri&&this.disconnectModule(Ri)}getContextForElementAndIdentifier(ki,Ri){const ts=this.modulesByIdentifier.get(Ri);if(ts)return ts.contexts.find(rs=>rs.element==ki)}proposeToConnectScopeForElementAndIdentifier(ki,Ri){const ts=this.scopeObserver.parseValueForElementAndIdentifier(ki,Ri);ts?this.scopeObserver.elementMatchedValue(ts.element,ts):console.error(`Couldn't find or create scope for identifier: "${Ri}" and element:`,ki)}handleError(ki,Ri,ts){this.application.handleError(ki,Ri,ts)}createScopeForElementAndIdentifier(ki,Ri){return new Scope(this.schema,ki,Ri,this.logger)}scopeConnected(ki){this.scopesByIdentifier.add(ki.identifier,ki);const Ri=this.modulesByIdentifier.get(ki.identifier);Ri&&Ri.connectContextForScope(ki)}scopeDisconnected(ki){this.scopesByIdentifier.delete(ki.identifier,ki);const Ri=this.modulesByIdentifier.get(ki.identifier);Ri&&Ri.disconnectContextForScope(ki)}connectModule(ki){this.modulesByIdentifier.set(ki.identifier,ki),this.scopesByIdentifier.getValuesForKey(ki.identifier).forEach(ts=>ki.connectContextForScope(ts))}disconnectModule(ki){this.modulesByIdentifier.delete(ki.identifier),this.scopesByIdentifier.getValuesForKey(ki.identifier).forEach(ts=>ki.disconnectContextForScope(ts))}}const defaultSchema={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:es=>`data-${es}-target`,outletAttributeForScope:(es,ki)=>`data-${es}-${ki}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},objectFromEntries("abcdefghijklmnopqrstuvwxyz".split("").map(es=>[es,es]))),objectFromEntries("0123456789".split("").map(es=>[es,es])))};function objectFromEntries(es){return es.reduce((ki,[Ri,ts])=>Object.assign(Object.assign({},ki),{[Ri]:ts}),{})}class Application{constructor(ki=document.documentElement,Ri=defaultSchema){this.logger=console,this.debug=!1,this.logDebugActivity=(ts,rs,is={})=>{this.debug&&this.logFormattedMessage(ts,rs,is)},this.element=ki,this.schema=Ri,this.dispatcher=new Dispatcher(this),this.router=new Router(this),this.actionDescriptorFilters=Object.assign({},defaultActionDescriptorFilters)}static start(ki,Ri){const ts=new this(ki,Ri);return ts.start(),ts}async start(){await domReady(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(ki,Ri){this.load({identifier:ki,controllerConstructor:Ri})}registerActionOption(ki,Ri){this.actionDescriptorFilters[ki]=Ri}load(ki,...Ri){(Array.isArray(ki)?ki:[ki,...Ri]).forEach(rs=>{rs.controllerConstructor.shouldLoad&&this.router.loadDefinition(rs)})}unload(ki,...Ri){(Array.isArray(ki)?ki:[ki,...Ri]).forEach(rs=>this.router.unloadIdentifier(rs))}get controllers(){return this.router.contexts.map(ki=>ki.controller)}getControllerForElementAndIdentifier(ki,Ri){const ts=this.router.getContextForElementAndIdentifier(ki,Ri);return ts?ts.controller:null}handleError(ki,Ri,ts){var rs;this.logger.error(`%s

%o

%o`,Ri,ki,ts),(rs=window.onerror)===null||rs===void 0||rs.call(window,Ri,"",0,0,ki)}logFormattedMessage(ki,Ri,ts={}){ts=Object.assign({application:this},ts),this.logger.groupCollapsed(`${ki} #${Ri}`),this.logger.log("details:",Object.assign({},ts)),this.logger.groupEnd()}}function domReady(){return new Promise(es=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>es()):es()})}function ClassPropertiesBlessing(es){return readInheritableStaticArrayValues(es,"classes").reduce((Ri,ts)=>Object.assign(Ri,propertiesForClassDefinition(ts)),{})}function propertiesForClassDefinition(es){return{[`${es}Class`]:{get(){const{classes:ki}=this;if(ki.has(es))return ki.get(es);{const Ri=ki.getAttributeName(es);throw new Error(`Missing attribute "${Ri}"`)}}},[`${es}Classes`]:{get(){return this.classes.getAll(es)}},[`has${capitalize(es)}Class`]:{get(){return this.classes.has(es)}}}}function OutletPropertiesBlessing(es){return readInheritableStaticArrayValues(es,"outlets").reduce((Ri,ts)=>Object.assign(Ri,propertiesForOutletDefinition(ts)),{})}function getOutletController(es,ki,Ri){return es.application.getControllerForElementAndIdentifier(ki,Ri)}function getControllerAndEnsureConnectedScope(es,ki,Ri){let ts=getOutletController(es,ki,Ri);if(ts||(es.application.router.proposeToConnectScopeForElementAndIdentifier(ki,Ri),ts=getOutletController(es,ki,Ri),ts))return ts}function propertiesForOutletDefinition(es){const ki=namespaceCamelize(es);return{[`${ki}Outlet`]:{get(){const Ri=this.outlets.find(es),ts=this.outlets.getSelectorForOutletName(es);if(Ri){const rs=getControllerAndEnsureConnectedScope(this,Ri,es);if(rs)return rs;throw new Error(`The provided outlet element is missing an outlet controller "${es}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${es}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${ts}".`)}},[`${ki}Outlets`]:{get(){const Ri=this.outlets.findAll(es);return Ri.length>0?Ri.map(ts=>{const rs=getControllerAndEnsureConnectedScope(this,ts,es);if(rs)return rs;console.warn(`The provided outlet element is missing an outlet controller "${es}" instance for host controller "${this.identifier}"`,ts)}).filter(ts=>ts):[]}},[`${ki}OutletElement`]:{get(){const Ri=this.outlets.find(es),ts=this.outlets.getSelectorForOutletName(es);if(Ri)return Ri;throw new Error(`Missing outlet element "${es}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${ts}".`)}},[`${ki}OutletElements`]:{get(){return this.outlets.findAll(es)}},[`has${capitalize(ki)}Outlet`]:{get(){return this.outlets.has(es)}}}}function TargetPropertiesBlessing(es){return readInheritableStaticArrayValues(es,"targets").reduce((Ri,ts)=>Object.assign(Ri,propertiesForTargetDefinition(ts)),{})}function propertiesForTargetDefinition(es){return{[`${es}Target`]:{get(){const ki=this.targets.find(es);if(ki)return ki;throw new Error(`Missing target element "${es}" for "${this.identifier}" controller`)}},[`${es}Targets`]:{get(){return this.targets.findAll(es)}},[`has${capitalize(es)}Target`]:{get(){return this.targets.has(es)}}}}function ValuePropertiesBlessing(es){const ki=readInheritableStaticObjectPairs(es,"values"),Ri={valueDescriptorMap:{get(){return ki.reduce((ts,rs)=>{const is=parseValueDefinitionPair(rs,this.identifier),ns=this.data.getAttributeNameForKey(is.key);return Object.assign(ts,{[ns]:is})},{})}}};return ki.reduce((ts,rs)=>Object.assign(ts,propertiesForValueDefinitionPair(rs)),Ri)}function propertiesForValueDefinitionPair(es,ki){const Ri=parseValueDefinitionPair(es,ki),{key:ts,name:rs,reader:is,writer:ns}=Ri;return{[rs]:{get(){const ss=this.data.get(ts);return ss!==null?is(ss):Ri.defaultValue},set(ss){ss===void 0?this.data.delete(ts):this.data.set(ts,ns(ss))}},[`has${capitalize(rs)}`]:{get(){return this.data.has(ts)||Ri.hasCustomDefaultValue}}}}function parseValueDefinitionPair([es,ki],Ri){return valueDescriptorForTokenAndTypeDefinition({controller:Ri,token:es,typeDefinition:ki})}function parseValueTypeConstant(es){switch(es){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function parseValueTypeDefault(es){switch(typeof es){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(es))return"array";if(Object.prototype.toString.call(es)==="[object Object]")return"object"}function parseValueTypeObject(es){const{controller:ki,token:Ri,typeObject:ts}=es,rs=isSomething(ts.type),is=isSomething(ts.default),ns=rs&&is,ss=rs&&!is,os=!rs&&is,ls=parseValueTypeConstant(ts.type),cs=parseValueTypeDefault(es.typeObject.default);if(ss)return ls;if(os)return cs;if(ls!==cs){const hs=ki?`${ki}.${Ri}`:Ri;throw new Error(`The specified default value for the Stimulus Value "${hs}" must match the defined type "${ls}". The provided default value of "${ts.default}" is of type "${cs}".`)}if(ns)return ls}function parseValueTypeDefinition(es){const{controller:ki,token:Ri,typeDefinition:ts}=es,is=parseValueTypeObject({controller:ki,token:Ri,typeObject:ts}),ns=parseValueTypeDefault(ts),ss=parseValueTypeConstant(ts),os=is||ns||ss;if(os)return os;const ls=ki?`${ki}.${ts}`:Ri;throw new Error(`Unknown value type "${ls}" for "${Ri}" value`)}function defaultValueForDefinition(es){const ki=parseValueTypeConstant(es);if(ki)return defaultValuesByType[ki];const Ri=hasProperty(es,"default"),ts=hasProperty(es,"type"),rs=es;if(Ri)return rs.default;if(ts){const{type:is}=rs,ns=parseValueTypeConstant(is);if(ns)return defaultValuesByType[ns]}return es}function valueDescriptorForTokenAndTypeDefinition(es){const{token:ki,typeDefinition:Ri}=es,ts=`${dasherize(ki)}-value`,rs=parseValueTypeDefinition(es);return{type:rs,key:ts,name:camelize(ts),get defaultValue(){return defaultValueForDefinition(Ri)},get hasCustomDefaultValue(){return parseValueTypeDefault(Ri)!==void 0},reader:readers[rs],writer:writers[rs]||writers.default}}const defaultValuesByType={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},readers={array(es){const ki=JSON.parse(es);if(!Array.isArray(ki))throw new TypeError(`expected value of type "array" but instead got value "${es}" of type "${parseValueTypeDefault(ki)}"`);return ki},boolean(es){return!(es=="0"||String(es).toLowerCase()=="false")},number(es){return Number(es.replace(/_/g,""))},object(es){const ki=JSON.parse(es);if(ki===null||typeof ki!="object"||Array.isArray(ki))throw new TypeError(`expected value of type "object" but instead got value "${es}" of type "${parseValueTypeDefault(ki)}"`);return ki},string(es){return es}},writers={default:writeString,array:writeJSON,object:writeJSON};function writeJSON(es){return JSON.stringify(es)}function writeString(es){return`${es}`}class Controller{constructor(ki){this.context=ki}static get shouldLoad(){return!0}static afterLoad(ki,Ri){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(ki,{target:Ri=this.element,detail:ts={},prefix:rs=this.identifier,bubbles:is=!0,cancelable:ns=!0}={}){const ss=rs?`${rs}:${ki}`:ki,os=new CustomEvent(ss,{detail:ts,bubbles:is,cancelable:ns});return Ri.dispatchEvent(os),os}}Controller.blessings=[ClassPropertiesBlessing,TargetPropertiesBlessing,ValuePropertiesBlessing,OutletPropertiesBlessing];Controller.targets=[];Controller.outlets=[];Controller.values={};const application=Application.start();application.debug=!1;window.Stimulus=application;class AccordionHelperController extends Controller{connect(){this.autoExpandActiveCollapseValue&&this.autoExpand()}autoExpand(){let ki=this.getActiveEl();if(!ki)return;ki.closest(".accordion-collapse").classList.add("show"),ki.closest(".accordion-item").querySelector(".accordion-button").classList.remove("collapsed")}getActiveEl(){return this.element.querySelector(".active")}}Ho(AccordionHelperController,"values",{autoExpandActiveCollapse:Boolean});class AdminReviewDeliveryController extends Controller{connect(){this.hideRejectReasonTextField()}showRejectReasonTextField(){this.rejectReasonTextFieldTarget.parentElement.classList.remove("d-none")}hideRejectReasonTextField(){this.rejectReasonTextFieldTarget.parentElement.classList.add("d-none")}toggleRejectReasonField(ki){Array.from(document.querySelectorAll('input[name="admin-review-delivery"]')).forEach(Ri=>{Ri.checked=!1}),ki.target.checked=!0,ki.target.value==="reject_delivery"?(this.showRejectReasonTextField(),this.resetFormSubmitUrl(this.rejectUrlValue),this.resetActionType(this.rejectValue)):(this.hideRejectReasonTextField(),this.resetFormSubmitUrl(this.acceptUrlValue),this.resetActionType(this.acceptValue))}resetFormSubmitUrl(ki){let Ri=document.getElementById("actions-form");Ri.action=ki}resetActionType(ki){this.actionTypeTarget.value=ki}}Ho(AdminReviewDeliveryController,"targets",["rejectReasonTextField","actionType"]),Ho(AdminReviewDeliveryController,"values",{acceptUrl:String,rejectUrl:String,accept:Number,reject:Number});class FetchResponse{constructor(ki){this.response=ki}get statusCode(){return this.response.status}get redirected(){return this.response.redirected}get ok(){return this.response.ok}get unauthenticated(){return this.statusCode===401}get unprocessableEntity(){return this.statusCode===422}get authenticationURL(){return this.response.headers.get("WWW-Authenticate")}get contentType(){return(this.response.headers.get("Content-Type")||"").replace(/;.*$/,"")}get headers(){return this.response.headers}get html(){return this.contentType.match(/^(application|text)\/(html|xhtml\+xml)$/)?this.text:Promise.reject(new Error(`Expected an HTML response but got "${this.contentType}" instead`))}get json(){return this.contentType.match(/^application\/.*json$/)?this.responseJson||(this.responseJson=this.response.json()):Promise.reject(new Error(`Expected a JSON response but got "${this.contentType}" instead`))}get text(){return this.responseText||(this.responseText=this.response.text())}get isTurboStream(){return this.contentType.match(/^text\/vnd\.turbo-stream\.html/)}get isScript(){return this.contentType.match(/\b(?:java|ecma)script\b/)}async renderTurboStream(){if(this.isTurboStream)window.Turbo?await window.Turbo.renderStreamMessage(await this.text):console.warn("You must set `window.Turbo = Turbo` to automatically process Turbo Stream events with request.js");else return Promise.reject(new Error(`Expected a Turbo Stream response but got "${this.contentType}" instead`))}async activeScript(){if(this.isScript){const ki=document.createElement("script"),Ri=document.querySelector("meta[name=csp-nonce]"),ts=Ri&&Ri.content;ts&&ki.setAttribute("nonce",ts),ki.innerHTML=await this.text,document.body.appendChild(ki)}else return Promise.reject(new Error(`Expected a Script response but got "${this.contentType}" instead`))}}class RequestInterceptor{static register(ki){this.interceptor=ki}static get(){return this.interceptor}static reset(){this.interceptor=void 0}}function getCookie(es){const ki=document.cookie?document.cookie.split("; "):[],Ri=`${encodeURIComponent(es)}=`,ts=ki.find(rs=>rs.startsWith(Ri));if(ts){const rs=ts.split("=").slice(1).join("=");if(rs)return decodeURIComponent(rs)}}function compact(es){const ki={};for(const Ri in es){const ts=es[Ri];ts!==void 0&&(ki[Ri]=ts)}return ki}function metaContent(es){const ki=document.head.querySelector(`meta[name="${es}"]`);return ki&&ki.content}function stringEntriesFromFormData(es){return[...es].reduce((ki,[Ri,ts])=>ki.concat(typeof ts=="string"?[[Ri,ts]]:[]),[])}function mergeEntries(es,ki){for(const[Ri,ts]of ki)ts instanceof window.File||(es.has(Ri)&&!Ri.includes("[]")?(es.delete(Ri),es.set(Ri,ts)):es.append(Ri,ts))}class FetchRequest{constructor(ki,Ri,ts={}){this.method=ki,this.options=ts,this.originalUrl=Ri.toString()}async perform(){try{const rs=RequestInterceptor.get();rs&&await rs(this)}catch(rs){console.error(rs)}const ki=this.responseKind==="turbo-stream"&&window.Turbo?window.Turbo.fetch:window.fetch,Ri=new FetchResponse(await ki(this.url,this.fetchOptions));return Ri.unauthenticated&&Ri.authenticationURL?Promise.reject(window.location.href=Ri.authenticationURL):(Ri.isScript&&await Ri.activeScript(),(Ri.ok||Ri.unprocessableEntity)&&Ri.isTurboStream&&await Ri.renderTurboStream(),Ri)}addHeader(ki,Ri){const ts=this.additionalHeaders;ts[ki]=Ri,this.options.headers=ts}sameHostname(){if(!this.originalUrl.startsWith("http:"))return!0;try{return new URL(this.originalUrl).hostname===window.location.hostname}catch{return!0}}get fetchOptions(){return{method:this.method.toUpperCase(),headers:this.headers,body:this.formattedBody,signal:this.signal,credentials:this.credentials,redirect:this.redirect}}get headers(){const ki={"X-Requested-With":"XMLHttpRequest","Content-Type":this.contentType,Accept:this.accept};return this.sameHostname()&&(ki["X-CSRF-Token"]=this.csrfToken),compact(Object.assign(ki,this.additionalHeaders))}get csrfToken(){return getCookie(metaContent("csrf-param"))||metaContent("csrf-token")}get contentType(){return this.options.contentType?this.options.contentType:this.body==null||this.body instanceof window.FormData?void 0:this.body instanceof window.File?this.body.type:"application/json"}get accept(){switch(this.responseKind){case"html":return"text/html, application/xhtml+xml";case"turbo-stream":return"text/vnd.turbo-stream.html, text/html, application/xhtml+xml";case"json":return"application/json, application/vnd.api+json";case"script":return"text/javascript, application/javascript";default:return"*/*"}}get body(){return this.options.body}get query(){const ki=(this.originalUrl.split("?")[1]||"").split("#")[0],Ri=new URLSearchParams(ki);let ts=this.options.query;ts instanceof window.FormData?ts=stringEntriesFromFormData(ts):ts instanceof window.URLSearchParams?ts=ts.entries():ts=Object.entries(ts||{}),mergeEntries(Ri,ts);const rs=Ri.toString();return rs.length>0?`?${rs}`:""}get url(){return this.originalUrl.split("?")[0].split("#")[0]+this.query}get responseKind(){return this.options.responseKind||"html"}get signal(){return this.options.signal}get redirect(){return this.options.redirect||"follow"}get credentials(){return this.options.credentials||"same-origin"}get additionalHeaders(){return this.options.headers||{}}get formattedBody(){const ki=Object.prototype.toString.call(this.body)==="[object String]";return this.headers["Content-Type"]==="application/json"&&!ki?JSON.stringify(this.body):this.body}}async function get$1(es,ki){return new FetchRequest("get",es,ki).perform()}async function post(es,ki){return new FetchRequest("post",es,ki).perform()}async function put(es,ki){return new FetchRequest("put",es,ki).perform()}async function destroy(es,ki){return new FetchRequest("delete",es,ki).perform()}class AdvanceSelectController extends Controller{constructor(){super(...arguments);Ho(this,"showPostalFor",["GB","US","CA"]);Ho(this,"showStateFor",["US","CA"])}connect(){this.hasPostalcodeTarget&&(this.postalParent=this.postalcodeTarget.closest(".input"),this.checkCountryForPostalCode(this.selectTarget.value)),this.hasStateSelectParentTarget&&this.checkCountryForState(this.selectTarget.value)}checkCountryForPostalCode(Ri){this.showPostalFor.includes(Ri)?this.postalParent.style.display="block":(this.postalParent.style.display="none",this.postalcodeTarget.value="")}checkCountryForState(){console.log("triggered"),this.hasStateSelectParentTarget&&(this.showStateFor.includes(this.selectTarget.value)?post(this.stateUpdateUrlValue,{body:{country_code:this.selectTarget.value,creator_location_id:this.creatorLocationIdValue},responseKind:"turbo-stream"}).then(()=>{this.stateSelectParentTarget.style.display="block"}):this.stateSelectParentTarget.style.display="none")}}Ho(AdvanceSelectController,"targets",["select","postalcode","state","stateSelectParent"]),Ho(AdvanceSelectController,"values",{modelId:Number,creatorLocationId:Number,stateUpdateUrl:String});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(es){return es&&es.__esModule&&Object.prototype.hasOwnProperty.call(es,"default")?es.default:es}function getAugmentedNamespace(es){if(es.__esModule)return es;var ki=es.default;if(typeof ki=="function"){var Ri=function ts(){return this instanceof ts?Reflect.construct(ki,arguments,this.constructor):ki.apply(this,arguments)};Ri.prototype=ki.prototype}else Ri={};return Object.defineProperty(Ri,"__esModule",{value:!0}),Object.keys(es).forEach(function(ts){var rs=Object.getOwnPropertyDescriptor(es,ts);Object.defineProperty(Ri,ts,rs.get?rs:{enumerable:!0,get:function(){return es[ts]}})}),Ri}var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(es,ki){(function(){var Ri,ts="4.17.21",rs=200,is="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ns="Expected a function",ss="Invalid `variable` option passed into `_.template`",os="__lodash_hash_undefined__",ls=500,cs="__lodash_placeholder__",hs=1,us=2,As=4,bs=1,ys=2,Cs=1,ps=2,ms=4,fs=8,gs=16,ws=32,Ts=64,$s=128,Rs=256,Ps=512,Qs=30,Fs="...",Is=800,Ms=16,Ws=1,Ds=2,_s=3,Ns=1/0,Ss=9007199254740991,Us=17976931348623157e292,Zs=NaN,ao=4294967295,js=ao-1,Bs=ao>>>1,zs=[["ary",$s],["bind",Cs],["bindKey",ps],["curry",fs],["curryRight",gs],["flip",Ps],["partial",ws],["partialRight",Ts],["rearg",Rs]],so="[object Arguments]",oo="[object Array]",Ao="[object AsyncFunction]",Xs="[object Boolean]",lo="[object Date]",co="[object DOMException]",So="[object Error]",ro="[object Function]",vo="[object GeneratorFunction]",Eo="[object Map]",mo="[object Number]",yo="[object Null]",Jo="[object Object]",Yo="[object Promise]",Wo="[object Proxy]",ko="[object RegExp]",Qo="[object Set]",jo="[object String]",Bo="[object Symbol]",go="[object Undefined]",_o="[object WeakMap]",To="[object WeakSet]",uo="[object ArrayBuffer]",Co="[object DataView]",Oo="[object Float32Array]",Fo="[object Float64Array]",Po="[object Int8Array]",Zo="[object Int16Array]",na="[object Int32Array]",ma="[object Uint8Array]",ua="[object Uint8ClampedArray]",ka="[object Uint16Array]",Ba="[object Uint32Array]",Va=/\b__p \+= '';/g,Ea=/\b(__p \+=) '' \+/g,il=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kl=/&(?:amp|lt|gt|quot|#39);/g,Ja=/[&<>"']/g,Ua=RegExp(kl.source),Na=RegExp(Ja.source),nl=/<%-([\s\S]+?)%>/g,Wl=/<%([\s\S]+?)%>/g,El=/<%=([\s\S]+?)%>/g,$c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ou=/^\w*$/,wl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dc=/[\\^$.*+?()[\]{}|]/g,_u=RegExp(dc.source),kc=/^\s+/,Dl=/\s/,Yc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pu=/\{\n\/\* \[wrapped with (.+)\] \*/,au=/,? & /,dh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Mu=/[()=,{}\[\]\/\s]/,Ah=/\\(\\)?/g,Wu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Th=/\w*$/,ca=/^[-+]0x[0-9a-f]+$/i,gl=/^0b[01]+$/i,cl=/^\[object .+?Constructor\]$/,Zl=/^0o[0-7]+$/i,oc=/^(?:0|[1-9]\d*)$/,Yl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Sc=/($^)/,Bh=/['\n\r\u2028\u2029\\]/g,Eu="\\ud800-\\udfff",xu="\\u0300-\\u036f",_h="\\ufe20-\\ufe2f",Nc="\\u20d0-\\u20ff",Cl=xu+_h+Nc,Lh="\\u2700-\\u27bf",Qh="a-z\\xdf-\\xf6\\xf8-\\xff",Fh="\\xac\\xb1\\xd7\\xf7",nc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ih="\\u2000-\\u206f",dd=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xc="A-Z\\xc0-\\xd6\\xd8-\\xde",Xa="\\ufe0e\\ufe0f",zl=Fh+nc+ih+dd,Ou="['’]",Nu="["+Eu+"]",Ad="["+zl+"]",Go="["+Cl+"]",ba="\\d+",Ta="["+Lh+"]",Oa="["+Qh+"]",sl="[^"+Eu+zl+ba+Lh+Qh+Xc+"]",Ml="\\ud83c[\\udffb-\\udfff]",Pl="(?:"+Go+"|"+Ml+")",Ac="[^"+Eu+"]",Tc="(?:\\ud83c[\\udde6-\\uddff]){2}",Qc="[\\ud800-\\udbff][\\udc00-\\udfff]",vc="["+Xc+"]",lu="\\u200d",cu="(?:"+Oa+"|"+sl+")",zu="(?:"+vc+"|"+sl+")",fh="(?:"+Ou+"(?:d|ll|m|re|s|t|ve))?",ph="(?:"+Ou+"(?:D|LL|M|RE|S|T|VE))?",nh=Pl+"?",Cc="["+Xa+"]?",Iu="(?:"+lu+"(?:"+[Ac,Tc,Qc].join("|")+")"+Cc+nh+")*",pd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ju="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",xl=Cc+nh+Iu,Ih="(?:"+[Ta,Tc,Qc].join("|")+")"+xl,gh="(?:"+[Ac+Go+"?",Go,Tc,Qc,Nu].join("|")+")",Lu=RegExp(Ou,"g"),LA=RegExp(Go,"g"),FA=RegExp(Ml+"(?="+Ml+")|"+gh+xl,"g"),pA=RegExp([vc+"?"+Oa+"+"+fh+"(?="+[Ad,vc,"$"].join("|")+")",zu+"+"+ph+"(?="+[Ad,vc+cu,"$"].join("|")+")",vc+"?"+cu+"+"+fh,vc+"+"+ph,Ju,pd,ba,Ih].join("|"),"g"),Vh=RegExp("["+lu+Eu+Cl+Xa+"]"),xd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rA=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Of=-1,zc={};zc[Oo]=zc[Fo]=zc[Po]=zc[Zo]=zc[na]=zc[ma]=zc[ua]=zc[ka]=zc[Ba]=!0,zc[so]=zc[oo]=zc[uo]=zc[Xs]=zc[Co]=zc[lo]=zc[So]=zc[ro]=zc[Eo]=zc[mo]=zc[Jo]=zc[ko]=zc[Qo]=zc[jo]=zc[_o]=!1;var Rc={};Rc[so]=Rc[oo]=Rc[uo]=Rc[Co]=Rc[Xs]=Rc[lo]=Rc[Oo]=Rc[Fo]=Rc[Po]=Rc[Zo]=Rc[na]=Rc[Eo]=Rc[mo]=Rc[Jo]=Rc[ko]=Rc[Qo]=Rc[jo]=Rc[Bo]=Rc[ma]=Rc[ua]=Rc[ka]=Rc[Ba]=!0,Rc[So]=Rc[ro]=Rc[_o]=!1;var Sd={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},IA={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},gA={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},kA=parseFloat,sa=parseInt,Aa=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Ra=typeof self=="object"&&self&&self.Object===Object&&self,ll=Aa||Ra||Function("return this")(),tc=ki&&!ki.nodeType&&ki,fc=tc&&!0&&es&&!es.nodeType&&es,Jc=fc&&fc.exports===tc,pc=Jc&&Aa.process,$l=function(){try{var Ca=fc&&fc.require&&fc.require("util").types;return Ca||pc&&pc.binding&&pc.binding("util")}catch{}}(),qu=$l&&$l.isArrayBuffer,Zc=$l&&$l.isDate,Pd=$l&&$l.isMap,mh=$l&&$l.isRegExp,Zh=$l&&$l.isSet,iA=$l&&$l.isTypedArray;function Wh(Ca,Qa,Fa){switch(Fa.length){case 0:return Ca.call(Qa);case 1:return Ca.call(Qa,Fa[0]);case 2:return Ca.call(Qa,Fa[0],Fa[1]);case 3:return Ca.call(Qa,Fa[0],Fa[1],Fa[2])}return Ca.apply(Qa,Fa)}function Lp(Ca,Qa,Fa,yl){for(var Nl=-1,ac=Ca==null?0:Ca.length;++Nl<ac;){var ku=Ca[Nl];Qa(yl,ku,Fa(ku),Ca)}return yl}function zh(Ca,Qa){for(var Fa=-1,yl=Ca==null?0:Ca.length;++Fa<yl&&Qa(Ca[Fa],Fa,Ca)!==!1;);return Ca}function Nf(Ca,Qa){for(var Fa=Ca==null?0:Ca.length;Fa--&&Qa(Ca[Fa],Fa,Ca)!==!1;);return Ca}function gf(Ca,Qa){for(var Fa=-1,yl=Ca==null?0:Ca.length;++Fa<yl;)if(!Qa(Ca[Fa],Fa,Ca))return!1;return!0}function nA(Ca,Qa){for(var Fa=-1,yl=Ca==null?0:Ca.length,Nl=0,ac=[];++Fa<yl;){var ku=Ca[Fa];Qa(ku,Fa,Ca)&&(ac[Nl++]=ku)}return ac}function Rf(Ca,Qa){var Fa=Ca==null?0:Ca.length;return!!Fa&&za(Ca,Qa,0)>-1}function YA(Ca,Qa,Fa){for(var yl=-1,Nl=Ca==null?0:Ca.length;++yl<Nl;)if(Fa(Qa,Ca[yl]))return!0;return!1}function uu(Ca,Qa){for(var Fa=-1,yl=Ca==null?0:Ca.length,Nl=Array(yl);++Fa<yl;)Nl[Fa]=Qa(Ca[Fa],Fa,Ca);return Nl}function Md(Ca,Qa){for(var Fa=-1,yl=Qa.length,Nl=Ca.length;++Fa<yl;)Ca[Nl+Fa]=Qa[Fa];return Ca}function mA(Ca,Qa,Fa,yl){var Nl=-1,ac=Ca==null?0:Ca.length;for(yl&&ac&&(Fa=Ca[++Nl]);++Nl<ac;)Fa=Qa(Fa,Ca[Nl],Nl,Ca);return Fa}function Uf(Ca,Qa,Fa,yl){var Nl=Ca==null?0:Ca.length;for(yl&&Nl&&(Fa=Ca[--Nl]);Nl--;)Fa=Qa(Fa,Ca[Nl],Nl,Ca);return Fa}function no(Ca,Qa){for(var Fa=-1,yl=Ca==null?0:Ca.length;++Fa<yl;)if(Qa(Ca[Fa],Fa,Ca))return!0;return!1}var No=rc("length");function oa(Ca){return Ca.split("")}function ha(Ca){return Ca.match(dh)||[]}function La(Ca,Qa,Fa){var yl;return Fa(Ca,function(Nl,ac,ku){if(Qa(Nl,ac,ku))return yl=ac,!1}),yl}function $a(Ca,Qa,Fa,yl){for(var Nl=Ca.length,ac=Fa+(yl?1:-1);yl?ac--:++ac<Nl;)if(Qa(Ca[ac],ac,Ca))return ac;return-1}function za(Ca,Qa,Fa){return Qa===Qa?Ru(Ca,Qa,Fa):$a(Ca,Ql,Fa)}function Tl(Ca,Qa,Fa,yl){for(var Nl=Fa-1,ac=Ca.length;++Nl<ac;)if(yl(Ca[Nl],Qa))return Nl;return-1}function Ql(Ca){return Ca!==Ca}function Xl(Ca,Qa){var Fa=Ca==null?0:Ca.length;return Fa?Jl(Ca,Qa)/Fa:Zs}function rc(Ca){return function(Qa){return Qa==null?Ri:Qa[Ca]}}function Bc(Ca){return function(Qa){return Ca==null?Ri:Ca[Qa]}}function bu(Ca,Qa,Fa,yl,Nl){return Nl(Ca,function(ac,ku,Ec){Fa=yl?(yl=!1,ac):Qa(Fa,ac,ku,Ec)}),Fa}function fu(Ca,Qa){var Fa=Ca.length;for(Ca.sort(Qa);Fa--;)Ca[Fa]=Ca[Fa].value;return Ca}function Jl(Ca,Qa){for(var Fa,yl=-1,Nl=Ca.length;++yl<Nl;){var ac=Qa(Ca[yl]);ac!==Ri&&(Fa=Fa===Ri?ac:Fa+ac)}return Fa}function kh(Ca,Qa){for(var Fa=-1,yl=Array(Ca);++Fa<Ca;)yl[Fa]=Qa(Fa);return yl}function vh(Ca,Qa){return uu(Qa,function(Fa){return[Fa,Ca[Fa]]})}function Td(Ca){return Ca&&Ca.slice(0,qh(Ca)+1).replace(kc,"")}function eu(Ca){return function(Qa){return Ca(Qa)}}function sh(Ca,Qa){return uu(Qa,function(Fa){return Ca[Fa]})}function Wd(Ca,Qa){return Ca.has(Qa)}function oh(Ca,Qa){for(var Fa=-1,yl=Ca.length;++Fa<yl&&za(Qa,Ca[Fa],0)>-1;);return Fa}function wu(Ca,Qa){for(var Fa=Ca.length;Fa--&&za(Qa,Ca[Fa],0)>-1;);return Fa}function DA(Ca,Qa){for(var Fa=Ca.length,yl=0;Fa--;)Ca[Fa]===Qa&&++yl;return yl}var Zu=Bc(Sd),ed=Bc(IA);function wh(Ca){return"\\"+gA[Ca]}function Gu(Ca,Qa){return Ca==null?Ri:Ca[Qa]}function Dc(Ca){return Vh.test(Ca)}function XA(Ca){return xd.test(Ca)}function mf(Ca){for(var Qa,Fa=[];!(Qa=Ca.next()).done;)Fa.push(Qa.value);return Fa}function PA(Ca){var Qa=-1,Fa=Array(Ca.size);return Ca.forEach(function(yl,Nl){Fa[++Qa]=[Nl,yl]}),Fa}function Dh(Ca,Qa){return function(Fa){return Ca(Qa(Fa))}}function Ph(Ca,Qa){for(var Fa=-1,yl=Ca.length,Nl=0,ac=[];++Fa<yl;){var ku=Ca[Fa];(ku===Qa||ku===cs)&&(Ca[Fa]=cs,ac[Nl++]=Fa)}return ac}function Mh(Ca){var Qa=-1,Fa=Array(Ca.size);return Ca.forEach(function(yl){Fa[++Qa]=yl}),Fa}function Hf(Ca){var Qa=-1,Fa=Array(Ca.size);return Ca.forEach(function(yl){Fa[++Qa]=[yl,yl]}),Fa}function Ru(Ca,Qa,Fa){for(var yl=Fa-1,Nl=Ca.length;++yl<Nl;)if(Ca[yl]===Qa)return yl;return-1}function Od(Ca,Qa,Fa){for(var yl=Fa+1;yl--;)if(Ca[yl]===Qa)return yl;return yl}function rd(Ca){return Dc(Ca)?Ch(Ca):No(Ca)}function tu(Ca){return Dc(Ca)?Oh(Ca):oa(Ca)}function qh(Ca){for(var Qa=Ca.length;Qa--&&Dl.test(Ca.charAt(Qa)););return Qa}var MA=Bc(Vd);function Ch(Ca){for(var Qa=FA.lastIndex=0;FA.test(Ca);)++Qa;return Qa}function Oh(Ca){return Ca.match(FA)||[]}function vA(Ca){return Ca.match(pA)||[]}var sA=function Ca(Qa){Qa=Qa==null?ll:ah.defaults(ll.Object(),Qa,ah.pick(ll,rA));var Fa=Qa.Array,yl=Qa.Date,Nl=Qa.Error,ac=Qa.Function,ku=Qa.Math,Ec=Qa.Object,yA=Qa.RegExp,vf=Qa.String,Nh=Qa.TypeError,Bd=Fa.prototype,Nd=ac.prototype,Gh=Ec.prototype,nd=Qa["__core-js_shared__"],_d=Nd.toString,Pc=Gh.hasOwnProperty,Ld=0,sd=function(){var vs=/[^.]+$/.exec(nd&&nd.keys&&nd.keys.IE_PROTO||"");return vs?"Symbol(src)_1."+vs:""}(),Mc=Gh.toString,qc=_d.call(Ec),Uc=ll._,pu=yA("^"+_d.call(Pc).replace(dc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Eh=Jc?Qa.Buffer:Ri,gd=Qa.Symbol,oA=Qa.Uint8Array,jf=Eh?Eh.allocUnsafe:Ri,aA=Dh(Ec.getPrototypeOf,Ec),$f=Ec.create,od=Gh.propertyIsEnumerable,Rh=Bd.splice,np=gd?gd.isConcatSpreadable:Ri,bA=gd?gd.iterator:Ri,Fd=gd?gd.toStringTag:Ri,OA=function(){try{var vs=$d(Ec,"defineProperty");return vs({},"",{}),vs}catch{}}(),Qf=Qa.clearTimeout!==ll.clearTimeout&&Qa.clearTimeout,lA=yl&&yl.now!==ll.Date.now&&yl.now,sp=Qa.setTimeout!==ll.setTimeout&&Qa.setTimeout,yf=ku.ceil,NA=ku.floor,Vf=Ec.getOwnPropertySymbols,Wf=Eh?Eh.isBuffer:Ri,Cg=Qa.isFinite,qp=Bd.join,Fp=Dh(Ec.keys,Ec),Uu=ku.max,Ku=ku.min,Vg=yl.now,Ip=Qa.parseInt,Gp=ku.random,bf=Bd.reverse,RA=$d(Qa,"DataView"),md=$d(Qa,"Map"),wf=$d(Qa,"Promise"),zd=$d(Qa,"Set"),wA=$d(Qa,"WeakMap"),CA=$d(Ec,"create"),op=wA&&new wA,Cf={},Eg=ju(RA),JA=ju(md),Kh=ju(wf),Uh=ju(zd),Wg=ju(wA),ap=gd?gd.prototype:Ri,Rd=ap?ap.valueOf:Ri,Ud=ap?ap.toString:Ri;function qo(vs){if(hd(vs)&&!Fc(vs)&&!(vs instanceof Kl)){if(vs instanceof ru)return vs;if(Pc.call(vs,"__wrapped__"))return Du(vs)}return new ru(vs)}var ZA=function(){function vs(){}return function(Ls){if(!Jh(Ls))return{};if($f)return $f(Ls);vs.prototype=Ls;var Ys=new vs;return vs.prototype=Ri,Ys}}();function lh(){}function ru(vs,Ls){this.__wrapped__=vs,this.__actions__=[],this.__chain__=!!Ls,this.__index__=0,this.__values__=Ri}qo.templateSettings={escape:nl,evaluate:Wl,interpolate:El,variable:"",imports:{_:qo}},qo.prototype=lh.prototype,qo.prototype.constructor=qo,ru.prototype=ZA(lh.prototype),ru.prototype.constructor=ru;function Kl(vs){this.__wrapped__=vs,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ao,this.__views__=[]}function yh(){var vs=new Kl(this.__wrapped__);return vs.__actions__=bd(this.__actions__),vs.__dir__=this.__dir__,vs.__filtered__=this.__filtered__,vs.__iteratees__=bd(this.__iteratees__),vs.__takeCount__=this.__takeCount__,vs.__views__=bd(this.__views__),vs}function lp(){if(this.__filtered__){var vs=new Kl(this);vs.__dir__=-1,vs.__filtered__=!0}else vs=this.clone(),vs.__dir__*=-1;return vs}function kp(){var vs=this.__wrapped__.value(),Ls=this.__dir__,Ys=Fc(vs),bo=Ls<0,Uo=Ys?vs.length:0,Xo=Am(0,Uo,this.__views__),la=Xo.start,ga=Xo.end,Ia=ga-la,Za=bo?ga:la-1,tl=this.__iteratees__,al=tl.length,Fl=0,Gl=Ku(Ia,this.__takeCount__);if(!Ys||!bo&&Uo==Ia&&Gl==Ia)return EA(vs,this.__actions__);var cc=[];e:for(;Ia--&&Fl<Gl;){Za+=Ls;for(var Wc=-1,uc=vs[Za];++Wc<al;){var su=tl[Wc],yu=su.iteratee,Pf=su.type,KA=yu(uc);if(Pf==Ds)uc=KA;else if(!KA){if(Pf==Ws)continue e;break e}}cc[Fl++]=uc}return cc}Kl.prototype=ZA(lh.prototype),Kl.prototype.constructor=Kl;function Hd(vs){var Ls=-1,Ys=vs==null?0:vs.length;for(this.clear();++Ls<Ys;){var bo=vs[Ls];this.set(bo[0],bo[1])}}function ef(){this.__data__=CA?CA(null):{},this.size=0}function Kp(vs){var Ls=this.has(vs)&&delete this.__data__[vs];return this.size-=Ls?1:0,Ls}function xg(vs){var Ls=this.__data__;if(CA){var Ys=Ls[vs];return Ys===os?Ri:Ys}return Pc.call(Ls,vs)?Ls[vs]:Ri}function Yp(vs){var Ls=this.__data__;return CA?Ls[vs]!==Ri:Pc.call(Ls,vs)}function Xp(vs,Ls){var Ys=this.__data__;return this.size+=this.has(vs)?0:1,Ys[vs]=CA&&Ls===Ri?os:Ls,this}Hd.prototype.clear=ef,Hd.prototype.delete=Kp,Hd.prototype.get=xg,Hd.prototype.has=Yp,Hd.prototype.set=Xp;function cA(vs){var Ls=-1,Ys=vs==null?0:vs.length;for(this.clear();++Ls<Ys;){var bo=vs[Ls];this.set(bo[0],bo[1])}}function zg(){this.__data__=[],this.size=0}function Jp(vs){var Ls=this.__data__,Ys=da(Ls,vs);if(Ys<0)return!1;var bo=Ls.length-1;return Ys==bo?Ls.pop():Rh.call(Ls,Ys,1),--this.size,!0}function Zp(vs){var Ls=this.__data__,Ys=da(Ls,vs);return Ys<0?Ri:Ls[Ys][1]}function Sg(vs){return da(this.__data__,vs)>-1}function Tg(vs,Ls){var Ys=this.__data__,bo=da(Ys,vs);return bo<0?(++this.size,Ys.push([vs,Ls])):Ys[bo][1]=Ls,this}cA.prototype.clear=zg,cA.prototype.delete=Jp,cA.prototype.get=Zp,cA.prototype.has=Sg,cA.prototype.set=Tg;function qd(vs){var Ls=-1,Ys=vs==null?0:vs.length;for(this.clear();++Ls<Ys;){var bo=vs[Ls];this.set(bo[0],bo[1])}}function cp(){this.size=0,this.__data__={hash:new Hd,map:new(md||cA),string:new Hd}}function zf(vs){var Ls=qA(this,vs).delete(vs);return this.size-=Ls?1:0,Ls}function qg(vs){return qA(this,vs).get(vs)}function up(vs){return qA(this,vs).has(vs)}function Os(vs,Ls){var Ys=qA(this,vs),bo=Ys.size;return Ys.set(vs,Ls),this.size+=Ys.size==bo?0:1,this}qd.prototype.clear=cp,qd.prototype.delete=zf,qd.prototype.get=qg,qd.prototype.has=up,qd.prototype.set=Os;function Ks(vs){var Ls=-1,Ys=vs==null?0:vs.length;for(this.__data__=new qd;++Ls<Ys;)this.add(vs[Ls])}function ho(vs){return this.__data__.set(vs,os),this}function xo(vs){return this.__data__.has(vs)}Ks.prototype.add=Ks.prototype.push=ho,Ks.prototype.has=xo;function Mo(vs){var Ls=this.__data__=new cA(vs);this.size=Ls.size}function Ro(){this.__data__=new cA,this.size=0}function $o(vs){var Ls=this.__data__,Ys=Ls.delete(vs);return this.size=Ls.size,Ys}function zo(vs){return this.__data__.get(vs)}function Ko(vs){return this.__data__.has(vs)}function ia(vs,Ls){var Ys=this.__data__;if(Ys instanceof cA){var bo=Ys.__data__;if(!md||bo.length<rs-1)return bo.push([vs,Ls]),this.size=++Ys.size,this;Ys=this.__data__=new qd(bo)}return Ys.set(vs,Ls),this.size=Ys.size,this}Mo.prototype.clear=Ro,Mo.prototype.delete=$o,Mo.prototype.get=zo,Mo.prototype.has=Ko,Mo.prototype.set=ia;function fa(vs,Ls){var Ys=Fc(vs),bo=!Ys&&nm(vs),Uo=!Ys&&!bo&&Hg(vs),Xo=!Ys&&!bo&&!Uo&&mm(vs),la=Ys||bo||Uo||Xo,ga=la?kh(vs.length,vf):[],Ia=ga.length;for(var Za in vs)(Ls||Pc.call(vs,Za))&&!(la&&(Za=="length"||Uo&&(Za=="offset"||Za=="parent")||Xo&&(Za=="buffer"||Za=="byteLength"||Za=="byteOffset")||xs(Za,Ia)))&&ga.push(Za);return ga}function Pa(vs){var Ls=vs.length;return Ls?vs[Bf(0,Ls-1)]:Ri}function Ma(vs,Ls){return th(bd(vs),hl(Ls,0,vs.length))}function pa(vs){return th(bd(vs))}function Ga(vs,Ls,Ys){(Ys!==Ri&&!Bp(vs[Ls],Ys)||Ys===Ri&&!(Ls in vs))&&qa(vs,Ls,Ys)}function Ha(vs,Ls,Ys){var bo=vs[Ls];(!(Pc.call(vs,Ls)&&Bp(bo,Ys))||Ys===Ri&&!(Ls in vs))&&qa(vs,Ls,Ys)}function da(vs,Ls){for(var Ys=vs.length;Ys--;)if(Bp(vs[Ys][0],Ls))return Ys;return-1}function wa(vs,Ls,Ys,bo){return sc(vs,function(Uo,Xo,la){Ls(bo,Uo,Ys(Uo),la)}),bo}function Ka(vs,Ls){return vs&&VA(Ls,tA(Ls),vs)}function el(vs,Ls){return vs&&VA(Ls,ff(Ls),vs)}function qa(vs,Ls,Ys){Ls=="__proto__"&&OA?OA(vs,Ls,{configurable:!0,enumerable:!0,value:Ys,writable:!0}):vs[Ls]=Ys}function bl(vs,Ls){for(var Ys=-1,bo=Ls.length,Uo=Fa(bo),Xo=vs==null;++Ys<bo;)Uo[Ys]=Xo?Ri:Gv(vs,Ls[Ys]);return Uo}function hl(vs,Ls,Ys){return vs===vs&&(Ys!==Ri&&(vs=vs<=Ys?vs:Ys),Ls!==Ri&&(vs=vs>=Ls?vs:Ls)),vs}function Ol(vs,Ls,Ys,bo,Uo,Xo){var la,ga=Ls&hs,Ia=Ls&us,Za=Ls&As;if(Ys&&(la=Uo?Ys(vs,bo,Uo,Xo):Ys(vs)),la!==Ri)return la;if(!Jh(vs))return vs;var tl=Fc(vs);if(tl){if(la=cg(vs),!ga)return bd(vs,la)}else{var al=jh(vs),Fl=al==ro||al==vo;if(Hg(vs))return Kf(vs,ga);if(al==Jo||al==so||Fl&&!Uo){if(la=Ia||Fl?{}:rm(vs),!ga)return Ia?Xg(vs,el(la,vs)):Yg(vs,Ka(la,vs))}else{if(!Rc[al])return Uo?vs:{};la=ug(vs,al,ga)}}Xo||(Xo=new Mo);var Gl=Xo.get(vs);if(Gl)return Gl;Xo.set(vs,la),v0(vs)?vs.forEach(function(uc){la.add(Ol(uc,Ls,Ys,uc,vs,Xo))}):g0(vs)&&vs.forEach(function(uc,su){la.set(su,Ol(uc,Ls,Ys,su,vs,Xo))});var cc=Za?Ia?Mg:ag:Ia?ff:tA,Wc=tl?Ri:cc(vs);return zh(Wc||vs,function(uc,su){Wc&&(su=uc,uc=vs[su]),Ha(la,su,Ol(uc,Ls,Ys,su,vs,Xo))}),la}function vl(vs){var Ls=tA(vs);return function(Ys){return Gc(Ys,vs,Ls)}}function Gc(vs,Ls,Ys){var bo=Ys.length;if(vs==null)return!bo;for(vs=Ec(vs);bo--;){var Uo=Ys[bo],Xo=Ls[Uo],la=vs[Uo];if(la===Ri&&!(Uo in vs)||!Xo(la))return!1}return!0}function iu(vs,Ls,Ys){if(typeof vs!="function")throw new Nh(ns);return Hl(function(){vs.apply(Ri,Ys)},Ls)}function rl(vs,Ls,Ys,bo){var Uo=-1,Xo=Rf,la=!0,ga=vs.length,Ia=[],Za=Ls.length;if(!ga)return Ia;Ys&&(Ls=uu(Ls,eu(Ys))),bo?(Xo=YA,la=!1):Ls.length>=rs&&(Xo=Wd,la=!1,Ls=new Ks(Ls));e:for(;++Uo<ga;){var tl=vs[Uo],al=Ys==null?tl:Ys(tl);if(tl=bo||tl!==0?tl:0,la&&al===al){for(var Fl=Za;Fl--;)if(Ls[Fl]===al)continue e;Ia.push(tl)}else Xo(Ls,al,bo)||Ia.push(tl)}return Ia}var sc=mp(Hu),gu=mp(ad,!0);function hu(vs,Ls){var Ys=!0;return sc(vs,function(bo,Uo,Xo){return Ys=!!Ls(bo,Uo,Xo),Ys}),Ys}function ql(vs,Ls,Ys){for(var bo=-1,Uo=vs.length;++bo<Uo;){var Xo=vs[bo],la=Ls(Xo);if(la!=null&&(ga===Ri?la===la&&!Df(la):Ys(la,ga)))var ga=la,Ia=Xo}return Ia}function ch(vs,Ls,Ys,bo){var Uo=vs.length;for(Ys=jc(Ys),Ys<0&&(Ys=-Ys>Uo?0:Uo+Ys),bo=bo===Ri||bo>Uo?Uo:jc(bo),bo<0&&(bo+=Uo),bo=Ys>bo?0:b0(bo);Ys<bo;)vs[Ys++]=Ls;return vs}function uh(vs,Ls){var Ys=[];return sc(vs,function(bo,Uo,Xo){Ls(bo,Uo,Xo)&&Ys.push(bo)}),Ys}function yc(vs,Ls,Ys,bo,Uo){var Xo=-1,la=vs.length;for(Ys||(Ys=ds),Uo||(Uo=[]);++Xo<la;){var ga=vs[Xo];Ls>0&&Ys(ga)?Ls>1?yc(ga,Ls-1,Ys,bo,Uo):Md(Uo,ga):bo||(Uo[Uo.length]=ga)}return Uo}var eh=um(),nu=um(!0);function Hu(vs,Ls){return vs&&eh(vs,Ls,tA)}function ad(vs,Ls){return vs&&nu(vs,Ls,tA)}function Su(vs,Ls){return nA(Ls,function(Ys){return gg(vs[Ys])})}function Fu(vs,Ls){Ls=xA(Ls,vs);for(var Ys=0,bo=Ls.length;vs!=null&&Ys<bo;)vs=vs[ul(Ls[Ys++])];return Ys&&Ys==bo?vs:Ri}function Vc(vs,Ls,Ys){var bo=Ls(vs);return Fc(vs)?bo:Md(bo,Ys(vs))}function mu(vs){return vs==null?vs===Ri?go:yo:Fd&&Fd in Ec(vs)?Jf(vs):Ya(vs)}function Id(vs,Ls){return vs>Ls}function xh(vs,Ls){return vs!=null&&Pc.call(vs,Ls)}function Gd(vs,Ls){return vs!=null&&Ls in Ec(vs)}function Kd(vs,Ls,Ys){return vs>=Ku(Ls,Ys)&&vs<Uu(Ls,Ys)}function uA(vs,Ls,Ys){for(var bo=Ys?YA:Rf,Uo=vs[0].length,Xo=vs.length,la=Xo,ga=Fa(Xo),Ia=1/0,Za=[];la--;){var tl=vs[la];la&&Ls&&(tl=uu(tl,eu(Ls))),Ia=Ku(tl.length,Ia),ga[la]=!Ys&&(Ls||Uo>=120&&tl.length>=120)?new Ks(la&&tl):Ri}tl=vs[0];var al=-1,Fl=ga[0];e:for(;++al<Uo&&Za.length<Ia;){var Gl=tl[al],cc=Ls?Ls(Gl):Gl;if(Gl=Ys||Gl!==0?Gl:0,!(Fl?Wd(Fl,cc):bo(Za,cc,Ys))){for(la=Xo;--la;){var Wc=ga[la];if(!(Wc?Wd(Wc,cc):bo(vs[la],cc,Ys)))continue e}Fl&&Fl.push(cc),Za.push(Gl)}}return Za}function UA(vs,Ls,Ys,bo){return Hu(vs,function(Uo,Xo,la){Ls(bo,Ys(Uo),Xo,la)}),bo}function Tu(vs,Ls,Ys){Ls=xA(Ls,vs),vs=dl(vs,Ls);var bo=vs==null?vs:vs[ul(Sh(Ls))];return bo==null?Ri:Wh(bo,vs,Ys)}function hp(vs){return hd(vs)&&mu(vs)==so}function Ef(vs){return hd(vs)&&mu(vs)==uo}function eg(vs){return hd(vs)&&mu(vs)==lo}function hA(vs,Ls,Ys,bo,Uo){return vs===Ls?!0:vs==null||Ls==null||!hd(vs)&&!hd(Ls)?vs!==vs&&Ls!==Ls:xf(vs,Ls,Ys,bo,hA,Uo)}function xf(vs,Ls,Ys,bo,Uo,Xo){var la=Fc(vs),ga=Fc(Ls),Ia=la?oo:jh(vs),Za=ga?oo:jh(Ls);Ia=Ia==so?Jo:Ia,Za=Za==so?Jo:Za;var tl=Ia==Jo,al=Za==Jo,Fl=Ia==Za;if(Fl&&Hg(vs)){if(!Hg(Ls))return!1;la=!0,tl=!1}if(Fl&&!tl)return Xo||(Xo=new Mo),la||mm(vs)?fA(vs,Ls,Ys,bo,Uo,Xo):og(vs,Ls,Ia,Ys,bo,Uo,Xo);if(!(Ys&bs)){var Gl=tl&&Pc.call(vs,"__wrapped__"),cc=al&&Pc.call(Ls,"__wrapped__");if(Gl||cc){var Wc=Gl?vs.value():vs,uc=cc?Ls.value():Ls;return Xo||(Xo=new Mo),Uo(Wc,uc,Ys,bo,Xo)}}return Fl?(Xo||(Xo=new Mo),tm(vs,Ls,Ys,bo,Uo,Xo)):!1}function tf(vs){return hd(vs)&&jh(vs)==Eo}function jd(vs,Ls,Ys,bo){var Uo=Ys.length,Xo=Uo,la=!bo;if(vs==null)return!Xo;for(vs=Ec(vs);Uo--;){var ga=Ys[Uo];if(la&&ga[2]?ga[1]!==vs[ga[0]]:!(ga[0]in vs))return!1}for(;++Uo<Xo;){ga=Ys[Uo];var Ia=ga[0],Za=vs[Ia],tl=ga[1];if(la&&ga[2]){if(Za===Ri&&!(Ia in vs))return!1}else{var al=new Mo;if(bo)var Fl=bo(Za,tl,Ia,vs,Ls,al);if(!(Fl===Ri?hA(tl,Za,bs|ys,bo,al):Fl))return!1}}return!0}function Yd(vs){if(!Jh(vs)||wo(vs))return!1;var Ls=gg(vs)?pu:cl;return Ls.test(ju(vs))}function rf(vs){return hd(vs)&&mu(vs)==ko}function tg(vs){return hd(vs)&&jh(vs)==Qo}function nf(vs){return hd(vs)&&av(vs.length)&&!!zc[mu(vs)]}function Sf(vs){return typeof vs=="function"?vs:vs==null?pf:typeof vs=="object"?Fc(vs)?Dp(vs[0],vs[1]):Bg(vs):I0(vs)}function Xd(vs){if(!Do(vs))return Fp(vs);var Ls=[];for(var Ys in Ec(vs))Pc.call(vs,Ys)&&Ys!="constructor"&&Ls.push(Ys);return Ls}function HA(vs){if(!Jh(vs))return ja(vs);var Ls=Do(vs),Ys=[];for(var bo in vs)bo=="constructor"&&(Ls||!Pc.call(vs,bo))||Ys.push(bo);return Ys}function dA(vs,Ls){return vs<Ls}function sf(vs,Ls){var Ys=-1,bo=Af(vs)?Fa(vs.length):[];return sc(vs,function(Uo,Xo,la){bo[++Ys]=Ls(Uo,Xo,la)}),bo}function Bg(vs){var Ls=Hc(vs);return Ls.length==1&&Ls[0][2]?aa(Ls[0][0],Ls[0][1]):function(Ys){return Ys===vs||jd(Ys,vs,Ls)}}function Dp(vs,Ls){return ks(vs)&&ra(Ls)?aa(ul(vs),Ls):function(Ys){var bo=Gv(Ys,vs);return bo===Ri&&bo===Ls?Kv(Ys,vs):hA(Ls,bo,bs|ys)}}function vd(vs,Ls,Ys,bo,Uo){vs!==Ls&&eh(Ls,function(Xo,la){if(Uo||(Uo=new Mo),Jh(Xo))yd(vs,Ls,la,Ys,vd,bo,Uo);else{var ga=bo?bo(Al(vs,la),Xo,la+"",vs,Ls,Uo):Ri;ga===Ri&&(ga=Xo),Ga(vs,la,ga)}},ff)}function yd(vs,Ls,Ys,bo,Uo,Xo,la){var ga=Al(vs,Ys),Ia=Al(Ls,Ys),Za=la.get(Ia);if(Za){Ga(vs,Ys,Za);return}var tl=Xo?Xo(ga,Ia,Ys+"",vs,Ls,la):Ri,al=tl===Ri;if(al){var Fl=Fc(Ia),Gl=!Fl&&Hg(Ia),cc=!Fl&&!Gl&&mm(Ia);tl=Ia,Fl||Gl||cc?Fc(ga)?tl=ga:Cd(ga)?tl=bd(ga):Gl?(al=!1,tl=Kf(Ia,!0)):cc?(al=!1,tl=Gg(Ia,!0)):tl=[]:Dm(Ia)||nm(Ia)?(tl=ga,nm(ga)?tl=w0(ga):(!Jh(ga)||gg(ga))&&(tl=rm(Ia))):al=!1}al&&(la.set(Ia,tl),Uo(tl,Ia,bo,Xo,la),la.delete(Ia)),Ga(vs,Ys,tl)}function Tf(vs,Ls){var Ys=vs.length;if(Ys)return Ls+=Ls<0?Ys:0,xs(Ls,Ys)?vs[Ls]:Ri}function rg(vs,Ls,Ys){Ls.length?Ls=uu(Ls,function(Xo){return Fc(Xo)?function(la){return Fu(la,Xo.length===1?Xo[0]:Xo)}:Xo}):Ls=[pf];var bo=-1;Ls=uu(Ls,eu(Bl()));var Uo=sf(vs,function(Xo,la,ga){var Ia=uu(Ls,function(Za){return Za(Xo)});return{criteria:Ia,index:++bo,value:Xo}});return fu(Uo,function(Xo,la){return Lm(Xo,la,Ys)})}function ig(vs,Ls){return Pp(vs,Ls,function(Ys,bo){return Kv(vs,bo)})}function Pp(vs,Ls,Ys){for(var bo=-1,Uo=Ls.length,Xo={};++bo<Uo;){var la=Ls[bo],ga=Fu(vs,la);Ys(ga,la)&&_f(Xo,xA(la,vs),ga)}return Xo}function qf(vs){return function(Ls){return Fu(Ls,vs)}}function Mp(vs,Ls,Ys,bo){var Uo=bo?Tl:za,Xo=-1,la=Ls.length,ga=vs;for(vs===Ls&&(Ls=bd(Ls)),Ys&&(ga=uu(vs,eu(Ys)));++Xo<la;)for(var Ia=0,Za=Ls[Xo],tl=Ys?Ys(Za):Za;(Ia=Uo(ga,tl,Ia,bo))>-1;)ga!==vs&&Rh.call(ga,Ia,1),Rh.call(vs,Ia,1);return vs}function Yh(vs,Ls){for(var Ys=vs?Ls.length:0,bo=Ys-1;Ys--;){var Uo=Ls[Ys];if(Ys==bo||Uo!==Xo){var Xo=Uo;xs(Uo)?Rh.call(vs,Uo,1):Rp(vs,Uo)}}return vs}function Bf(vs,Ls){return vs+NA(Gp()*(Ls-vs+1))}function kd(vs,Ls,Ys,bo){for(var Uo=-1,Xo=Uu(yf((Ls-vs)/(Ys||1)),0),la=Fa(Xo);Xo--;)la[bo?Xo:++Uo]=vs,vs+=Ys;return la}function jA(vs,Ls){var Ys="";if(!vs||Ls<1||Ls>Ss)return Ys;do Ls%2&&(Ys+=vs),Ls=NA(Ls/2),Ls&&(vs+=vs);while(Ls);return Ys}function xc(vs,Ls){return Rl(ol(vs,Ls,pf),vs+"")}function _g(vs){return Pa(vm(vs))}function dp(vs,Ls){var Ys=vm(vs);return th(Ys,hl(Ls,0,Ys.length))}function _f(vs,Ls,Ys,bo){if(!Jh(vs))return vs;Ls=xA(Ls,vs);for(var Uo=-1,Xo=Ls.length,la=Xo-1,ga=vs;ga!=null&&++Uo<Xo;){var Ia=ul(Ls[Uo]),Za=Ys;if(Ia==="__proto__"||Ia==="constructor"||Ia==="prototype")return vs;if(Uo!=la){var tl=ga[Ia];Za=bo?bo(tl,Ia,ga):Ri,Za===Ri&&(Za=Jh(tl)?tl:xs(Ls[Uo+1])?[]:{})}Ha(ga,Ia,Za),ga=ga[Ia]}return vs}var Op=op?function(vs,Ls){return op.set(vs,Ls),vs}:pf,of=OA?function(vs,Ls){return OA(vs,"toString",{configurable:!0,enumerable:!1,value:Xv(Ls),writable:!0})}:pf;function Lg(vs){return th(vm(vs))}function bh(vs,Ls,Ys){var bo=-1,Uo=vs.length;Ls<0&&(Ls=-Ls>Uo?0:Uo+Ls),Ys=Ys>Uo?Uo:Ys,Ys<0&&(Ys+=Uo),Uo=Ls>Ys?0:Ys-Ls>>>0,Ls>>>=0;for(var Xo=Fa(Uo);++bo<Uo;)Xo[bo]=vs[bo+Ls];return Xo}function Ap(vs,Ls){var Ys;return sc(vs,function(bo,Uo,Xo){return Ys=Ls(bo,Uo,Xo),!Ys}),!!Ys}function $A(vs,Ls,Ys){var bo=0,Uo=vs==null?bo:vs.length;if(typeof Ls=="number"&&Ls===Ls&&Uo<=Bs){for(;bo<Uo;){var Xo=bo+Uo>>>1,la=vs[Xo];la!==null&&!Df(la)&&(Ys?la<=Ls:la<Ls)?bo=Xo+1:Uo=Xo}return Uo}return Jd(vs,Ls,pf,Ys)}function Jd(vs,Ls,Ys,bo){var Uo=0,Xo=vs==null?0:vs.length;if(Xo===0)return 0;Ls=Ys(Ls);for(var la=Ls!==Ls,ga=Ls===null,Ia=Df(Ls),Za=Ls===Ri;Uo<Xo;){var tl=NA((Uo+Xo)/2),al=Ys(vs[tl]),Fl=al!==Ri,Gl=al===null,cc=al===al,Wc=Df(al);if(la)var uc=bo||cc;else Za?uc=cc&&(bo||Fl):ga?uc=cc&&Fl&&(bo||!Gl):Ia?uc=cc&&Fl&&!Gl&&(bo||!Wc):Gl||Wc?uc=!1:uc=bo?al<=Ls:al<Ls;uc?Uo=tl+1:Xo=tl}return Ku(Xo,js)}function Zd(vs,Ls){for(var Ys=-1,bo=vs.length,Uo=0,Xo=[];++Ys<bo;){var la=vs[Ys],ga=Ls?Ls(la):la;if(!Ys||!Bp(ga,Ia)){var Ia=ga;Xo[Uo++]=la===0?0:la}}return Xo}function Np(vs){return typeof vs=="number"?vs:Df(vs)?Zs:+vs}function vu(vs){if(typeof vs=="string")return vs;if(Fc(vs))return uu(vs,vu)+"";if(Df(vs))return Ud?Ud.call(vs):"";var Ls=vs+"";return Ls=="0"&&1/vs==-Ns?"-0":Ls}function Hh(vs,Ls,Ys){var bo=-1,Uo=Rf,Xo=vs.length,la=!0,ga=[],Ia=ga;if(Ys)la=!1,Uo=YA;else if(Xo>=rs){var Za=Ls?null:Zg(vs);if(Za)return Mh(Za);la=!1,Uo=Wd,Ia=new Ks}else Ia=Ls?[]:ga;e:for(;++bo<Xo;){var tl=vs[bo],al=Ls?Ls(tl):tl;if(tl=Ys||tl!==0?tl:0,la&&al===al){for(var Fl=Ia.length;Fl--;)if(Ia[Fl]===al)continue e;Ls&&Ia.push(al),ga.push(tl)}else Uo(Ia,al,Ys)||(Ia!==ga&&Ia.push(al),ga.push(tl))}return ga}function Rp(vs,Ls){return Ls=xA(Ls,vs),vs=dl(vs,Ls),vs==null||delete vs[ul(Sh(Ls))]}function Lf(vs,Ls,Ys,bo){return _f(vs,Ls,Ys(Fu(vs,Ls)),bo)}function af(vs,Ls,Ys,bo){for(var Uo=vs.length,Xo=bo?Uo:-1;(bo?Xo--:++Xo<Uo)&&Ls(vs[Xo],Xo,vs););return Ys?bh(vs,bo?0:Xo,bo?Xo+1:Uo):bh(vs,bo?Xo+1:0,bo?Uo:Xo)}function EA(vs,Ls){var Ys=vs;return Ys instanceof Kl&&(Ys=Ys.value()),mA(Ls,function(bo,Uo){return Uo.func.apply(Uo.thisArg,Md([bo],Uo.args))},Ys)}function ld(vs,Ls,Ys){var bo=vs.length;if(bo<2)return bo?Hh(vs[0]):[];for(var Uo=-1,Xo=Fa(bo);++Uo<bo;)for(var la=vs[Uo],ga=-1;++ga<bo;)ga!=Uo&&(Xo[Uo]=rl(Xo[Uo]||la,vs[ga],Ls,Ys));return Hh(yc(Xo,1),Ls,Ys)}function AA(vs,Ls,Ys){for(var bo=-1,Uo=vs.length,Xo=Ls.length,la={};++bo<Uo;){var ga=bo<Xo?Ls[bo]:Ri;Ys(la,vs[bo],ga)}return la}function eA(vs){return Cd(vs)?vs:[]}function lf(vs){return typeof vs=="function"?vs:pf}function xA(vs,Ls){return Fc(vs)?vs:ks(vs,Ls)?[vs]:Yu(Vu(vs))}var Gf=xc;function QA(vs,Ls,Ys){var bo=vs.length;return Ys=Ys===Ri?bo:Ys,!Ls&&Ys>=bo?vs:bh(vs,Ls,Ys)}var Up=Qf||function(vs){return ll.clearTimeout(vs)};function Kf(vs,Ls){if(Ls)return vs.slice();var Ys=vs.length,bo=jf?jf(Ys):new vs.constructor(Ys);return vs.copy(bo),bo}function fp(vs){var Ls=new vs.constructor(vs.byteLength);return new oA(Ls).set(new oA(vs)),Ls}function lm(vs,Ls){var Ys=Ls?fp(vs.buffer):vs.buffer;return new vs.constructor(Ys,vs.byteOffset,vs.byteLength)}function cm(vs){var Ls=new vs.constructor(vs.source,Th.exec(vs));return Ls.lastIndex=vs.lastIndex,Ls}function pp(vs){return Rd?Ec(Rd.call(vs)):{}}function Gg(vs,Ls){var Ys=Ls?fp(vs.buffer):vs.buffer;return new vs.constructor(Ys,vs.byteOffset,vs.length)}function Kg(vs,Ls){if(vs!==Ls){var Ys=vs!==Ri,bo=vs===null,Uo=vs===vs,Xo=Df(vs),la=Ls!==Ri,ga=Ls===null,Ia=Ls===Ls,Za=Df(Ls);if(!ga&&!Za&&!Xo&&vs>Ls||Xo&&la&&Ia&&!ga&&!Za||bo&&la&&Ia||!Ys&&Ia||!Uo)return 1;if(!bo&&!Xo&&!Za&&vs<Ls||Za&&Ys&&Uo&&!bo&&!Xo||ga&&Ys&&Uo||!la&&Uo||!Ia)return-1}return 0}function Lm(vs,Ls,Ys){for(var bo=-1,Uo=vs.criteria,Xo=Ls.criteria,la=Uo.length,ga=Ys.length;++bo<la;){var Ia=Kg(Uo[bo],Xo[bo]);if(Ia){if(bo>=ga)return Ia;var Za=Ys[bo];return Ia*(Za=="desc"?-1:1)}}return vs.index-Ls.index}function Fg(vs,Ls,Ys,bo){for(var Uo=-1,Xo=vs.length,la=Ys.length,ga=-1,Ia=Ls.length,Za=Uu(Xo-la,0),tl=Fa(Ia+Za),al=!bo;++ga<Ia;)tl[ga]=Ls[ga];for(;++Uo<la;)(al||Uo<Xo)&&(tl[Ys[Uo]]=vs[Uo]);for(;Za--;)tl[ga++]=vs[Uo++];return tl}function Hp(vs,Ls,Ys,bo){for(var Uo=-1,Xo=vs.length,la=-1,ga=Ys.length,Ia=-1,Za=Ls.length,tl=Uu(Xo-ga,0),al=Fa(tl+Za),Fl=!bo;++Uo<tl;)al[Uo]=vs[Uo];for(var Gl=Uo;++Ia<Za;)al[Gl+Ia]=Ls[Ia];for(;++la<ga;)(Fl||Uo<Xo)&&(al[Gl+Ys[la]]=vs[Uo++]);return al}function bd(vs,Ls){var Ys=-1,bo=vs.length;for(Ls||(Ls=Fa(bo));++Ys<bo;)Ls[Ys]=vs[Ys];return Ls}function VA(vs,Ls,Ys,bo){var Uo=!Ys;Ys||(Ys={});for(var Xo=-1,la=Ls.length;++Xo<la;){var ga=Ls[Xo],Ia=bo?bo(Ys[ga],vs[ga],ga,Ys,vs):Ri;Ia===Ri&&(Ia=vs[ga]),Uo?qa(Ys,ga,Ia):Ha(Ys,ga,Ia)}return Ys}function Yg(vs,Ls){return VA(vs,SA(vs),Ls)}function Xg(vs,Ls){return VA(vs,uf(vs),Ls)}function gp(vs,Ls){return function(Ys,bo){var Uo=Fc(Ys)?Lp:wa,Xo=Ls?Ls():{};return Uo(Ys,vs,Bl(bo,2),Xo)}}function WA(vs){return xc(function(Ls,Ys){var bo=-1,Uo=Ys.length,Xo=Uo>1?Ys[Uo-1]:Ri,la=Uo>2?Ys[2]:Ri;for(Xo=vs.length>3&&typeof Xo=="function"?(Uo--,Xo):Ri,la&&Es(Ys[0],Ys[1],la)&&(Xo=Uo<3?Ri:Xo,Uo=1),Ls=Ec(Ls);++bo<Uo;){var ga=Ys[bo];ga&&vs(Ls,ga,bo,Xo)}return Ls})}function mp(vs,Ls){return function(Ys,bo){if(Ys==null)return Ys;if(!Af(Ys))return vs(Ys,bo);for(var Uo=Ys.length,Xo=Ls?Uo:-1,la=Ec(Ys);(Ls?Xo--:++Xo<Uo)&&bo(la[Xo],Xo,la)!==!1;);return Ys}}function um(vs){return function(Ls,Ys,bo){for(var Uo=-1,Xo=Ec(Ls),la=bo(Ls),ga=la.length;ga--;){var Ia=la[vs?ga:++Uo];if(Ys(Xo[Ia],Ia,Xo)===!1)break}return Ls}}function ng(vs,Ls,Ys){var bo=Ls&Cs,Uo=sg(vs);function Xo(){var la=this&&this!==ll&&this instanceof Xo?Uo:vs;return la.apply(bo?Ys:this,arguments)}return Xo}function Jg(vs){return function(Ls){Ls=Vu(Ls);var Ys=Dc(Ls)?tu(Ls):Ri,bo=Ys?Ys[0]:Ls.charAt(0),Uo=Ys?QA(Ys,1).join(""):Ls.slice(1);return bo[vs]()+Uo}}function vp(vs){return function(Ls){return mA(L0(_0(Ls).replace(Lu,"")),vs,"")}}function sg(vs){return function(){var Ls=arguments;switch(Ls.length){case 0:return new vs;case 1:return new vs(Ls[0]);case 2:return new vs(Ls[0],Ls[1]);case 3:return new vs(Ls[0],Ls[1],Ls[2]);case 4:return new vs(Ls[0],Ls[1],Ls[2],Ls[3]);case 5:return new vs(Ls[0],Ls[1],Ls[2],Ls[3],Ls[4]);case 6:return new vs(Ls[0],Ls[1],Ls[2],Ls[3],Ls[4],Ls[5]);case 7:return new vs(Ls[0],Ls[1],Ls[2],Ls[3],Ls[4],Ls[5],Ls[6])}var Ys=ZA(vs.prototype),bo=vs.apply(Ys,Ls);return Jh(bo)?bo:Ys}}function Fm(vs,Ls,Ys){var bo=sg(vs);function Uo(){for(var Xo=arguments.length,la=Fa(Xo),ga=Xo,Ia=Cp(Uo);ga--;)la[ga]=arguments[ga];var Za=Xo<3&&la[0]!==Ia&&la[Xo-1]!==Ia?[]:Ph(la,Ia);if(Xo-=Za.length,Xo<Ys)return Vp(vs,Ls,jp,Uo.placeholder,Ri,la,Za,Ri,Ri,Ys-Xo);var tl=this&&this!==ll&&this instanceof Uo?bo:vs;return Wh(tl,this,la)}return Uo}function Ig(vs){return function(Ls,Ys,bo){var Uo=Ec(Ls);if(!Af(Ls)){var Xo=Bl(Ys,3);Ls=tA(Ls),Ys=function(ga){return Xo(Uo[ga],ga,Uo)}}var la=vs(Ls,Ys,bo);return la>-1?Uo[Xo?Ls[la]:la]:Ri}}function yp(vs){return zA(function(Ls){var Ys=Ls.length,bo=Ys,Uo=ru.prototype.thru;for(vs&&Ls.reverse();bo--;){var Xo=Ls[bo];if(typeof Xo!="function")throw new Nh(ns);if(Uo&&!la&&cf(Xo)=="wrapper")var la=new ru([],!0)}for(bo=la?bo:Ys;++bo<Ys;){Xo=Ls[bo];var ga=cf(Xo),Ia=ga=="wrapper"?lg(Xo):Ri;Ia&&fo(Ia[0])&&Ia[1]==($s|fs|ws|Rs)&&!Ia[4].length&&Ia[9]==1?la=la[cf(Ia[0])].apply(la,Ia[3]):la=Xo.length==1&&fo(Xo)?la[ga]():la.thru(Xo)}return function(){var Za=arguments,tl=Za[0];if(la&&Za.length==1&&Fc(tl))return la.plant(tl).value();for(var al=0,Fl=Ys?Ls[al].apply(this,Za):tl;++al<Ys;)Fl=Ls[al].call(this,Fl);return Fl}})}function jp(vs,Ls,Ys,bo,Uo,Xo,la,ga,Ia,Za){var tl=Ls&$s,al=Ls&Cs,Fl=Ls&ps,Gl=Ls&(fs|gs),cc=Ls&Ps,Wc=Fl?Ri:sg(vs);function uc(){for(var su=arguments.length,yu=Fa(su),Pf=su;Pf--;)yu[Pf]=arguments[Pf];if(Gl)var KA=Cp(uc),Mf=DA(yu,KA);if(bo&&(yu=Fg(yu,bo,Uo,Gl)),Xo&&(yu=Hp(yu,Xo,la,Gl)),su-=Mf,Gl&&su<Za){var Ed=Ph(yu,KA);return Vp(vs,Ls,jp,uc.placeholder,Ys,yu,Ed,ga,Ia,Za-su)}var _p=al?Ys:this,vg=Fl?_p[vs]:vs;return su=yu.length,ga?yu=ml(yu,ga):cc&&su>1&&yu.reverse(),tl&&Ia<su&&(yu.length=Ia),this&&this!==ll&&this instanceof uc&&(vg=Wc||sg(vg)),vg.apply(_p,yu)}return uc}function $p(vs,Ls){return function(Ys,bo){return UA(Ys,vs,Ls(bo),{})}}function Qp(vs,Ls){return function(Ys,bo){var Uo;if(Ys===Ri&&bo===Ri)return Ls;if(Ys!==Ri&&(Uo=Ys),bo!==Ri){if(Uo===Ri)return bo;typeof Ys=="string"||typeof bo=="string"?(Ys=vu(Ys),bo=vu(bo)):(Ys=Np(Ys),bo=Np(bo)),Uo=vs(Ys,bo)}return Uo}}function kg(vs){return zA(function(Ls){return Ls=uu(Ls,eu(Bl())),xc(function(Ys){var bo=this;return vs(Ls,function(Uo){return Wh(Uo,bo,Ys)})})})}function Dg(vs,Ls){Ls=Ls===Ri?" ":vu(Ls);var Ys=Ls.length;if(Ys<2)return Ys?jA(Ls,vs):Ls;var bo=jA(Ls,yf(vs/rd(Ls)));return Dc(Ls)?QA(tu(bo),0,vs).join(""):bo.slice(0,vs)}function hm(vs,Ls,Ys,bo){var Uo=Ls&Cs,Xo=sg(vs);function la(){for(var ga=-1,Ia=arguments.length,Za=-1,tl=bo.length,al=Fa(tl+Ia),Fl=this&&this!==ll&&this instanceof la?Xo:vs;++Za<tl;)al[Za]=bo[Za];for(;Ia--;)al[Za++]=arguments[++ga];return Wh(Fl,Uo?Ys:this,al)}return la}function Yf(vs){return function(Ls,Ys,bo){return bo&&typeof bo!="number"&&Es(Ls,Ys,bo)&&(Ys=bo=Ri),Ls=mg(Ls),Ys===Ri?(Ys=Ls,Ls=0):Ys=mg(Ys),bo=bo===Ri?Ls<Ys?1:-1:mg(bo),kd(Ls,Ys,bo,vs)}}function bp(vs){return function(Ls,Ys){return typeof Ls=="string"&&typeof Ys=="string"||(Ls=rp(Ls),Ys=rp(Ys)),vs(Ls,Ys)}}function Vp(vs,Ls,Ys,bo,Uo,Xo,la,ga,Ia,Za){var tl=Ls&fs,al=tl?la:Ri,Fl=tl?Ri:la,Gl=tl?Xo:Ri,cc=tl?Ri:Xo;Ls|=tl?ws:Ts,Ls&=~(tl?Ts:ws),Ls&ms||(Ls&=~(Cs|ps));var Wc=[vs,Ls,Uo,Gl,al,cc,Fl,ga,Ia,Za],uc=Ys.apply(Ri,Wc);return fo(vs)&&Sl(uc,Wc),uc.placeholder=bo,gc(uc,vs,Ls)}function Pg(vs){var Ls=ku[vs];return function(Ys,bo){if(Ys=rp(Ys),bo=bo==null?0:Ku(jc(bo),292),bo&&Cg(Ys)){var Uo=(Vu(Ys)+"e").split("e"),Xo=Ls(Uo[0]+"e"+(+Uo[1]+bo));return Uo=(Vu(Xo)+"e").split("e"),+(Uo[0]+"e"+(+Uo[1]-bo))}return Ls(Ys)}}var Zg=zd&&1/Mh(new zd([,-0]))[1]==Ns?function(vs){return new zd(vs)}:e0;function em(vs){return function(Ls){var Ys=jh(Ls);return Ys==Eo?PA(Ls):Ys==Qo?Hf(Ls):vh(Ls,vs(Ls))}}function Kc(vs,Ls,Ys,bo,Uo,Xo,la,ga){var Ia=Ls&ps;if(!Ia&&typeof vs!="function")throw new Nh(ns);var Za=bo?bo.length:0;if(Za||(Ls&=~(ws|Ts),bo=Uo=Ri),la=la===Ri?la:Uu(jc(la),0),ga=ga===Ri?ga:jc(ga),Za-=Uo?Uo.length:0,Ls&Ts){var tl=bo,al=Uo;bo=Uo=Ri}var Fl=Ia?Ri:lg(vs),Gl=[vs,Ls,Ys,bo,Uo,tl,al,Xo,la,ga];if(Fl&&va(Gl,Fl),vs=Gl[0],Ls=Gl[1],Ys=Gl[2],bo=Gl[3],Uo=Gl[4],ga=Gl[9]=Gl[9]===Ri?Ia?0:vs.length:Uu(Gl[9]-Za,0),!ga&&Ls&(fs|gs)&&(Ls&=~(fs|gs)),!Ls||Ls==Cs)var cc=ng(vs,Ls,Ys);else Ls==fs||Ls==gs?cc=Fm(vs,Ls,ga):(Ls==ws||Ls==(Cs|ws))&&!Uo.length?cc=hm(vs,Ls,Ys,bo):cc=jp.apply(Ri,Gl);var Wc=Fl?Op:Sl;return gc(Wc(cc,Gl),vs,Ls)}function dm(vs,Ls,Ys,bo){return vs===Ri||Bp(vs,Gh[Ys])&&!Pc.call(bo,Ys)?Ls:vs}function wp(vs,Ls,Ys,bo,Uo,Xo){return Jh(vs)&&Jh(Ls)&&(Xo.set(Ls,vs),vd(vs,Ls,Ri,wp,Xo),Xo.delete(Ls)),vs}function Xf(vs){return Dm(vs)?Ri:vs}function fA(vs,Ls,Ys,bo,Uo,Xo){var la=Ys&bs,ga=vs.length,Ia=Ls.length;if(ga!=Ia&&!(la&&Ia>ga))return!1;var Za=Xo.get(vs),tl=Xo.get(Ls);if(Za&&tl)return Za==Ls&&tl==vs;var al=-1,Fl=!0,Gl=Ys&ys?new Ks:Ri;for(Xo.set(vs,Ls),Xo.set(Ls,vs);++al<ga;){var cc=vs[al],Wc=Ls[al];if(bo)var uc=la?bo(Wc,cc,al,Ls,vs,Xo):bo(cc,Wc,al,vs,Ls,Xo);if(uc!==Ri){if(uc)continue;Fl=!1;break}if(Gl){if(!no(Ls,function(su,yu){if(!Wd(Gl,yu)&&(cc===su||Uo(cc,su,Ys,bo,Xo)))return Gl.push(yu)})){Fl=!1;break}}else if(!(cc===Wc||Uo(cc,Wc,Ys,bo,Xo))){Fl=!1;break}}return Xo.delete(vs),Xo.delete(Ls),Fl}function og(vs,Ls,Ys,bo,Uo,Xo,la){switch(Ys){case Co:if(vs.byteLength!=Ls.byteLength||vs.byteOffset!=Ls.byteOffset)return!1;vs=vs.buffer,Ls=Ls.buffer;case uo:return!(vs.byteLength!=Ls.byteLength||!Xo(new oA(vs),new oA(Ls)));case Xs:case lo:case mo:return Bp(+vs,+Ls);case So:return vs.name==Ls.name&&vs.message==Ls.message;case ko:case jo:return vs==Ls+"";case Eo:var ga=PA;case Qo:var Ia=bo&bs;if(ga||(ga=Mh),vs.size!=Ls.size&&!Ia)return!1;var Za=la.get(vs);if(Za)return Za==Ls;bo|=ys,la.set(vs,Ls);var tl=fA(ga(vs),ga(Ls),bo,Uo,Xo,la);return la.delete(vs),tl;case Bo:if(Rd)return Rd.call(vs)==Rd.call(Ls)}return!1}function tm(vs,Ls,Ys,bo,Uo,Xo){var la=Ys&bs,ga=ag(vs),Ia=ga.length,Za=ag(Ls),tl=Za.length;if(Ia!=tl&&!la)return!1;for(var al=Ia;al--;){var Fl=ga[al];if(!(la?Fl in Ls:Pc.call(Ls,Fl)))return!1}var Gl=Xo.get(vs),cc=Xo.get(Ls);if(Gl&&cc)return Gl==Ls&&cc==vs;var Wc=!0;Xo.set(vs,Ls),Xo.set(Ls,vs);for(var uc=la;++al<Ia;){Fl=ga[al];var su=vs[Fl],yu=Ls[Fl];if(bo)var Pf=la?bo(yu,su,Fl,Ls,vs,Xo):bo(su,yu,Fl,vs,Ls,Xo);if(!(Pf===Ri?su===yu||Uo(su,yu,Ys,bo,Xo):Pf)){Wc=!1;break}uc||(uc=Fl=="constructor")}if(Wc&&!uc){var KA=vs.constructor,Mf=Ls.constructor;KA!=Mf&&"constructor"in vs&&"constructor"in Ls&&!(typeof KA=="function"&&KA instanceof KA&&typeof Mf=="function"&&Mf instanceof Mf)&&(Wc=!1)}return Xo.delete(vs),Xo.delete(Ls),Wc}function zA(vs){return Rl(ol(vs,Ri,ep),vs+"")}function ag(vs){return Vc(vs,tA,SA)}function Mg(vs){return Vc(vs,ff,uf)}var lg=op?function(vs){return op.get(vs)}:e0;function cf(vs){for(var Ls=vs.name+"",Ys=Cf[Ls],bo=Pc.call(Cf,Ls)?Ys.length:0;bo--;){var Uo=Ys[bo],Xo=Uo.func;if(Xo==null||Xo==vs)return Uo.name}return Ls}function Cp(vs){var Ls=Pc.call(qo,"placeholder")?qo:vs;return Ls.placeholder}function Bl(){var vs=qo.iteratee||Jv;return vs=vs===Jv?Sf:vs,arguments.length?vs(arguments[0],arguments[1]):vs}function qA(vs,Ls){var Ys=vs.__data__;return Js(Ls)?Ys[typeof Ls=="string"?"string":"hash"]:Ys.map}function Hc(vs){for(var Ls=tA(vs),Ys=Ls.length;Ys--;){var bo=Ls[Ys],Uo=vs[bo];Ls[Ys]=[bo,Uo,ra(Uo)]}return Ls}function $d(vs,Ls){var Ys=Gu(vs,Ls);return Yd(Ys)?Ys:Ri}function Jf(vs){var Ls=Pc.call(vs,Fd),Ys=vs[Fd];try{vs[Fd]=Ri;var bo=!0}catch{}var Uo=Mc.call(vs);return bo&&(Ls?vs[Fd]=Ys:delete vs[Fd]),Uo}var SA=Vf?function(vs){return vs==null?[]:(vs=Ec(vs),nA(Vf(vs),function(Ls){return od.call(vs,Ls)}))}:t0,uf=Vf?function(vs){for(var Ls=[];vs;)Md(Ls,SA(vs)),vs=aA(vs);return Ls}:t0,jh=mu;(RA&&jh(new RA(new ArrayBuffer(1)))!=Co||md&&jh(new md)!=Eo||wf&&jh(wf.resolve())!=Yo||zd&&jh(new zd)!=Qo||wA&&jh(new wA)!=_o)&&(jh=function(vs){var Ls=mu(vs),Ys=Ls==Jo?vs.constructor:Ri,bo=Ys?ju(Ys):"";if(bo)switch(bo){case Eg:return Co;case JA:return Eo;case Kh:return Yo;case Uh:return Qo;case Wg:return _o}return Ls});function Am(vs,Ls,Ys){for(var bo=-1,Uo=Ys.length;++bo<Uo;){var Xo=Ys[bo],la=Xo.size;switch(Xo.type){case"drop":vs+=la;break;case"dropRight":Ls-=la;break;case"take":Ls=Ku(Ls,vs+la);break;case"takeRight":vs=Uu(vs,Ls-la);break}}return{start:vs,end:Ls}}function hh(vs){var Ls=vs.match(Pu);return Ls?Ls[1].split(au):[]}function Og(vs,Ls,Ys){Ls=xA(Ls,vs);for(var bo=-1,Uo=Ls.length,Xo=!1;++bo<Uo;){var la=ul(Ls[bo]);if(!(Xo=vs!=null&&Ys(vs,la)))break;vs=vs[la]}return Xo||++bo!=Uo?Xo:(Uo=vs==null?0:vs.length,!!Uo&&av(Uo)&&xs(la,Uo)&&(Fc(vs)||nm(vs)))}function cg(vs){var Ls=vs.length,Ys=new vs.constructor(Ls);return Ls&&typeof vs[0]=="string"&&Pc.call(vs,"index")&&(Ys.index=vs.index,Ys.input=vs.input),Ys}function rm(vs){return typeof vs.constructor=="function"&&!Do(vs)?ZA(aA(vs)):{}}function ug(vs,Ls,Ys){var bo=vs.constructor;switch(Ls){case uo:return fp(vs);case Xs:case lo:return new bo(+vs);case Co:return lm(vs,Ys);case Oo:case Fo:case Po:case Zo:case na:case ma:case ua:case ka:case Ba:return Gg(vs,Ys);case Eo:return new bo;case mo:case jo:return new bo(vs);case ko:return cm(vs);case Qo:return new bo;case Bo:return pp(vs)}}function as(vs,Ls){var Ys=Ls.length;if(!Ys)return vs;var bo=Ys-1;return Ls[bo]=(Ys>1?"& ":"")+Ls[bo],Ls=Ls.join(Ys>2?", ":" "),vs.replace(Yc,`{
/* [wrapped with `+Ls+`] */
`)}function ds(vs){return Fc(vs)||nm(vs)||!!(np&&vs&&vs[np])}function xs(vs,Ls){var Ys=typeof vs;return Ls=Ls??Ss,!!Ls&&(Ys=="number"||Ys!="symbol"&&oc.test(vs))&&vs>-1&&vs%1==0&&vs<Ls}function Es(vs,Ls,Ys){if(!Jh(Ys))return!1;var bo=typeof Ls;return(bo=="number"?Af(Ys)&&xs(Ls,Ys.length):bo=="string"&&Ls in Ys)?Bp(Ys[Ls],vs):!1}function ks(vs,Ls){if(Fc(vs))return!1;var Ys=typeof vs;return Ys=="number"||Ys=="symbol"||Ys=="boolean"||vs==null||Df(vs)?!0:ou.test(vs)||!$c.test(vs)||Ls!=null&&vs in Ec(Ls)}function Js(vs){var Ls=typeof vs;return Ls=="string"||Ls=="number"||Ls=="symbol"||Ls=="boolean"?vs!=="__proto__":vs===null}function fo(vs){var Ls=cf(vs),Ys=qo[Ls];if(typeof Ys!="function"||!(Ls in Kl.prototype))return!1;if(vs===Ys)return!0;var bo=lg(Ys);return!!bo&&vs===bo[0]}function wo(vs){return!!sd&&sd in vs}var Lo=nd?gg:r0;function Do(vs){var Ls=vs&&vs.constructor,Ys=typeof Ls=="function"&&Ls.prototype||Gh;return vs===Ys}function ra(vs){return vs===vs&&!Jh(vs)}function aa(vs,Ls){return function(Ys){return Ys==null?!1:Ys[vs]===Ls&&(Ls!==Ri||vs in Ec(Ys))}}function xa(vs){var Ls=sv(vs,function(bo){return Ys.size===ls&&Ys.clear(),bo}),Ys=Ls.cache;return Ls}function va(vs,Ls){var Ys=vs[1],bo=Ls[1],Uo=Ys|bo,Xo=Uo<(Cs|ps|$s),la=bo==$s&&Ys==fs||bo==$s&&Ys==Rs&&vs[7].length<=Ls[8]||bo==($s|Rs)&&Ls[7].length<=Ls[8]&&Ys==fs;if(!(Xo||la))return vs;bo&Cs&&(vs[2]=Ls[2],Uo|=Ys&Cs?0:ms);var ga=Ls[3];if(ga){var Ia=vs[3];vs[3]=Ia?Fg(Ia,ga,Ls[4]):ga,vs[4]=Ia?Ph(vs[3],cs):Ls[4]}return ga=Ls[5],ga&&(Ia=vs[5],vs[5]=Ia?Hp(Ia,ga,Ls[6]):ga,vs[6]=Ia?Ph(vs[5],cs):Ls[6]),ga=Ls[7],ga&&(vs[7]=ga),bo&$s&&(vs[8]=vs[8]==null?Ls[8]:Ku(vs[8],Ls[8])),vs[9]==null&&(vs[9]=Ls[9]),vs[0]=Ls[0],vs[1]=Uo,vs}function ja(vs){var Ls=[];if(vs!=null)for(var Ys in Ec(vs))Ls.push(Ys);return Ls}function Ya(vs){return Mc.call(vs)}function ol(vs,Ls,Ys){return Ls=Uu(Ls===Ri?vs.length-1:Ls,0),function(){for(var bo=arguments,Uo=-1,Xo=Uu(bo.length-Ls,0),la=Fa(Xo);++Uo<Xo;)la[Uo]=bo[Ls+Uo];Uo=-1;for(var ga=Fa(Ls+1);++Uo<Ls;)ga[Uo]=bo[Uo];return ga[Ls]=Ys(la),Wh(vs,this,ga)}}function dl(vs,Ls){return Ls.length<2?vs:Fu(vs,bh(Ls,0,-1))}function ml(vs,Ls){for(var Ys=vs.length,bo=Ku(Ls.length,Ys),Uo=bd(vs);bo--;){var Xo=Ls[bo];vs[bo]=xs(Xo,Ys)?Uo[Xo]:Ri}return vs}function Al(vs,Ls){if(!(Ls==="constructor"&&typeof vs[Ls]=="function")&&Ls!="__proto__")return vs[Ls]}var Sl=Bu(Op),Hl=sp||function(vs,Ls){return ll.setTimeout(vs,Ls)},Rl=Bu(of);function gc(vs,Ls,Ys){var bo=Ls+"";return Rl(vs,as(bo,rh(hh(bo),Ys)))}function Bu(vs){var Ls=0,Ys=0;return function(){var bo=Vg(),Uo=Ms-(bo-Ys);if(Ys=bo,Uo>0){if(++Ls>=Is)return arguments[0]}else Ls=0;return vs.apply(Ri,arguments)}}function th(vs,Ls){var Ys=-1,bo=vs.length,Uo=bo-1;for(Ls=Ls===Ri?bo:Ls;++Ys<Ls;){var Xo=Bf(Ys,Uo),la=vs[Xo];vs[Xo]=vs[Ys],vs[Ys]=la}return vs.length=Ls,vs}var Yu=xa(function(vs){var Ls=[];return vs.charCodeAt(0)===46&&Ls.push(""),vs.replace(wl,function(Ys,bo,Uo,Xo){Ls.push(Uo?Xo.replace(Ah,"$1"):bo||Ys)}),Ls});function ul(vs){if(typeof vs=="string"||Df(vs))return vs;var Ls=vs+"";return Ls=="0"&&1/vs==-Ns?"-0":Ls}function ju(vs){if(vs!=null){try{return _d.call(vs)}catch{}try{return vs+""}catch{}}return""}function rh(vs,Ls){return zh(zs,function(Ys){var bo="_."+Ys[0];Ls&Ys[1]&&!Rf(vs,bo)&&vs.push(bo)}),vs.sort()}function Du(vs){if(vs instanceof Kl)return vs.clone();var Ls=new ru(vs.__wrapped__,vs.__chain__);return Ls.__actions__=bd(vs.__actions__),Ls.__index__=vs.__index__,Ls.__values__=vs.__values__,Ls}function cd(vs,Ls,Ys){(Ys?Es(vs,Ls,Ys):Ls===Ri)?Ls=1:Ls=Uu(jc(Ls),0);var bo=vs==null?0:vs.length;if(!bo||Ls<1)return[];for(var Uo=0,Xo=0,la=Fa(yf(bo/Ls));Uo<bo;)la[Xo++]=bh(vs,Uo,Uo+=Ls);return la}function ic(vs){for(var Ls=-1,Ys=vs==null?0:vs.length,bo=0,Uo=[];++Ls<Ys;){var Xo=vs[Ls];Xo&&(Uo[bo++]=Xo)}return Uo}function bc(){var vs=arguments.length;if(!vs)return[];for(var Ls=Fa(vs-1),Ys=arguments[0],bo=vs;bo--;)Ls[bo-1]=arguments[bo];return Md(Fc(Ys)?bd(Ys):[Ys],yc(Ls,1))}var $u=xc(function(vs,Ls){return Cd(vs)?rl(vs,yc(Ls,1,Cd,!0)):[]}),Qd=xc(function(vs,Ls){var Ys=Sh(Ls);return Cd(Ys)&&(Ys=Ri),Cd(vs)?rl(vs,yc(Ls,1,Cd,!0),Bl(Ys,2)):[]}),Ff=xc(function(vs,Ls){var Ys=Sh(Ls);return Cd(Ys)&&(Ys=Ri),Cd(vs)?rl(vs,yc(Ls,1,Cd,!0),Ri,Ys):[]});function Zf(vs,Ls,Ys){var bo=vs==null?0:vs.length;return bo?(Ls=Ys||Ls===Ri?1:jc(Ls),bh(vs,Ls<0?0:Ls,bo)):[]}function $h(vs,Ls,Ys){var bo=vs==null?0:vs.length;return bo?(Ls=Ys||Ls===Ri?1:jc(Ls),Ls=bo-Ls,bh(vs,0,Ls<0?0:Ls)):[]}function hf(vs,Ls){return vs&&vs.length?af(vs,Bl(Ls,3),!0,!0):[]}function Xh(vs,Ls){return vs&&vs.length?af(vs,Bl(Ls,3),!0):[]}function Ng(vs,Ls,Ys,bo){var Uo=vs==null?0:vs.length;return Uo?(Ys&&typeof Ys!="number"&&Es(vs,Ls,Ys)&&(Ys=0,bo=Uo),ch(vs,Ls,Ys,bo)):[]}function df(vs,Ls,Ys){var bo=vs==null?0:vs.length;if(!bo)return-1;var Uo=Ys==null?0:jc(Ys);return Uo<0&&(Uo=Uu(bo+Uo,0)),$a(vs,Bl(Ls,3),Uo)}function If(vs,Ls,Ys){var bo=vs==null?0:vs.length;if(!bo)return-1;var Uo=bo-1;return Ys!==Ri&&(Uo=jc(Ys),Uo=Ys<0?Uu(bo+Uo,0):Ku(Uo,bo-1)),$a(vs,Bl(Ls,3),Uo,!0)}function ep(vs){var Ls=vs==null?0:vs.length;return Ls?yc(vs,1):[]}function wd(vs){var Ls=vs==null?0:vs.length;return Ls?yc(vs,Ns):[]}function Ep(vs,Ls){var Ys=vs==null?0:vs.length;return Ys?(Ls=Ls===Ri?1:jc(Ls),yc(vs,Ls)):[]}function hg(vs){for(var Ls=-1,Ys=vs==null?0:vs.length,bo={};++Ls<Ys;){var Uo=vs[Ls];bo[Uo[0]]=Uo[1]}return bo}function Im(vs){return vs&&vs.length?vs[0]:Ri}function wv(vs,Ls,Ys){var bo=vs==null?0:vs.length;if(!bo)return-1;var Uo=Ys==null?0:jc(Ys);return Uo<0&&(Uo=Uu(bo+Uo,0)),za(vs,Ls,Uo)}function Zm(vs){var Ls=vs==null?0:vs.length;return Ls?bh(vs,0,-1):[]}var Cv=xc(function(vs){var Ls=uu(vs,eA);return Ls.length&&Ls[0]===vs[0]?uA(Ls):[]}),Ev=xc(function(vs){var Ls=Sh(vs),Ys=uu(vs,eA);return Ls===Sh(Ys)?Ls=Ri:Ys.pop(),Ys.length&&Ys[0]===vs[0]?uA(Ys,Bl(Ls,2)):[]}),xv=xc(function(vs){var Ls=Sh(vs),Ys=uu(vs,eA);return Ls=typeof Ls=="function"?Ls:Ri,Ls&&Ys.pop(),Ys.length&&Ys[0]===vs[0]?uA(Ys,Ri,Ls):[]});function fm(vs,Ls){return vs==null?"":qp.call(vs,Ls)}function Sh(vs){var Ls=vs==null?0:vs.length;return Ls?vs[Ls-1]:Ri}function ev(vs,Ls,Ys){var bo=vs==null?0:vs.length;if(!bo)return-1;var Uo=bo;return Ys!==Ri&&(Uo=jc(Ys),Uo=Uo<0?Uu(bo+Uo,0):Ku(Uo,bo-1)),Ls===Ls?Od(vs,Ls,Uo):$a(vs,Ql,Uo,!0)}function pm(vs,Ls){return vs&&vs.length?Tf(vs,jc(Ls)):Ri}var Sv=xc(tv);function tv(vs,Ls){return vs&&vs.length&&Ls&&Ls.length?Mp(vs,Ls):vs}function km(vs,Ls,Ys){return vs&&vs.length&&Ls&&Ls.length?Mp(vs,Ls,Bl(Ys,2)):vs}function Rg(vs,Ls,Ys){return vs&&vs.length&&Ls&&Ls.length?Mp(vs,Ls,Ri,Ys):vs}var gm=zA(function(vs,Ls){var Ys=vs==null?0:vs.length,bo=bl(vs,Ls);return Yh(vs,uu(Ls,function(Uo){return xs(Uo,Ys)?+Uo:Uo}).sort(Kg)),bo});function Tv(vs,Ls){var Ys=[];if(!(vs&&vs.length))return Ys;var bo=-1,Uo=[],Xo=vs.length;for(Ls=Bl(Ls,3);++bo<Xo;){var la=vs[bo];Ls(la,bo,vs)&&(Ys.push(la),Uo.push(bo))}return Yh(vs,Uo),Ys}function Wp(vs){return vs==null?vs:bf.call(vs)}function Bv(vs,Ls,Ys){var bo=vs==null?0:vs.length;return bo?(Ys&&typeof Ys!="number"&&Es(vs,Ls,Ys)?(Ls=0,Ys=bo):(Ls=Ls==null?0:jc(Ls),Ys=Ys===Ri?bo:jc(Ys)),bh(vs,Ls,Ys)):[]}function _v(vs,Ls){return $A(vs,Ls)}function rv(vs,Ls,Ys){return Jd(vs,Ls,Bl(Ys,2))}function Lv(vs,Ls){var Ys=vs==null?0:vs.length;if(Ys){var bo=$A(vs,Ls);if(bo<Ys&&Bp(vs[bo],Ls))return bo}return-1}function iv(vs,Ls){return $A(vs,Ls,!0)}function Fv(vs,Ls,Ys){return Jd(vs,Ls,Bl(Ys,2),!0)}function Iv(vs,Ls){var Ys=vs==null?0:vs.length;if(Ys){var bo=$A(vs,Ls,!0)-1;if(Bp(vs[bo],Ls))return bo}return-1}function kv(vs){return vs&&vs.length?Zd(vs):[]}function Dv(vs,Ls){return vs&&vs.length?Zd(vs,Bl(Ls,2)):[]}function Pv(vs){var Ls=vs==null?0:vs.length;return Ls?bh(vs,1,Ls):[]}function Mv(vs,Ls,Ys){return vs&&vs.length?(Ls=Ys||Ls===Ri?1:jc(Ls),bh(vs,0,Ls<0?0:Ls)):[]}function Ov(vs,Ls,Ys){var bo=vs==null?0:vs.length;return bo?(Ls=Ys||Ls===Ri?1:jc(Ls),Ls=bo-Ls,bh(vs,Ls<0?0:Ls,bo)):[]}function Nv(vs,Ls){return vs&&vs.length?af(vs,Bl(Ls,3),!1,!0):[]}function Rv(vs,Ls){return vs&&vs.length?af(vs,Bl(Ls,3)):[]}var Uv=xc(function(vs){return Hh(yc(vs,1,Cd,!0))}),Hv=xc(function(vs){var Ls=Sh(vs);return Cd(Ls)&&(Ls=Ri),Hh(yc(vs,1,Cd,!0),Bl(Ls,2))}),jv=xc(function(vs){var Ls=Sh(vs);return Ls=typeof Ls=="function"?Ls:Ri,Hh(yc(vs,1,Cd,!0),Ri,Ls)});function $v(vs){return vs&&vs.length?Hh(vs):[]}function Qv(vs,Ls){return vs&&vs.length?Hh(vs,Bl(Ls,2)):[]}function Vs(vs,Ls){return Ls=typeof Ls=="function"?Ls:Ri,vs&&vs.length?Hh(vs,Ri,Ls):[]}function Hs(vs){if(!(vs&&vs.length))return[];var Ls=0;return vs=nA(vs,function(Ys){if(Cd(Ys))return Ls=Uu(Ys.length,Ls),!0}),kh(Ls,function(Ys){return uu(vs,rc(Ys))})}function Gs(vs,Ls){if(!(vs&&vs.length))return[];var Ys=Hs(vs);return Ls==null?Ys:uu(Ys,function(bo){return Wh(Ls,Ri,bo)})}var qs=xc(function(vs,Ls){return Cd(vs)?rl(vs,Ls):[]}),po=xc(function(vs){return ld(nA(vs,Cd))}),Io=xc(function(vs){var Ls=Sh(vs);return Cd(Ls)&&(Ls=Ri),ld(nA(vs,Cd),Bl(Ls,2))}),Vo=xc(function(vs){var Ls=Sh(vs);return Ls=typeof Ls=="function"?Ls:Ri,ld(nA(vs,Cd),Ri,Ls)}),ta=xc(Hs);function ea(vs,Ls){return AA(vs||[],Ls||[],Ha)}function ya(vs,Ls){return AA(vs||[],Ls||[],_f)}var Sa=xc(function(vs){var Ls=vs.length,Ys=Ls>1?vs[Ls-1]:Ri;return Ys=typeof Ys=="function"?(vs.pop(),Ys):Ri,Gs(vs,Ys)});function Da(vs){var Ls=qo(vs);return Ls.__chain__=!0,Ls}function Wa(vs,Ls){return Ls(vs),vs}function Ll(vs,Ls){return Ls(vs)}var pl=zA(function(vs){var Ls=vs.length,Ys=Ls?vs[0]:0,bo=this.__wrapped__,Uo=function(Xo){return bl(Xo,vs)};return Ls>1||this.__actions__.length||!(bo instanceof Kl)||!xs(Ys)?this.thru(Uo):(bo=bo.slice(Ys,+Ys+(Ls?1:0)),bo.__actions__.push({func:Ll,args:[Uo],thisArg:Ri}),new ru(bo,this.__chain__).thru(function(Xo){return Ls&&!Xo.length&&Xo.push(Ri),Xo}))});function _l(){return Da(this)}function Lc(){return new ru(this.value(),this.__chain__)}function Vl(){this.__values__===Ri&&(this.__values__=y0(this.value()));var vs=this.__index__>=this.__values__.length,Ls=vs?Ri:this.__values__[this.__index__++];return{done:vs,value:Ls}}function Ul(){return this}function Cu(vs){for(var Ls,Ys=this;Ys instanceof lh;){var bo=Du(Ys);bo.__index__=0,bo.__values__=Ri,Ls?Uo.__wrapped__=bo:Ls=bo;var Uo=bo;Ys=Ys.__wrapped__}return Uo.__wrapped__=vs,Ls}function Oc(){var vs=this.__wrapped__;if(vs instanceof Kl){var Ls=vs;return this.__actions__.length&&(Ls=new Kl(this)),Ls=Ls.reverse(),Ls.__actions__.push({func:Ll,args:[Wp],thisArg:Ri}),new ru(Ls,this.__chain__)}return this.thru(Wp)}function mc(){return EA(this.__wrapped__,this.__actions__)}var Il=gp(function(vs,Ls,Ys){Pc.call(vs,Ys)?++vs[Ys]:qa(vs,Ys,1)});function du(vs,Ls,Ys){var bo=Fc(vs)?gf:hu;return Ys&&Es(vs,Ls,Ys)&&(Ls=Ri),bo(vs,Bl(Ls,3))}function Au(vs,Ls){var Ys=Fc(vs)?nA:uh;return Ys(vs,Bl(Ls,3))}var wc=Ig(df),ud=Ig(If);function TA(vs,Ls){return yc(kf(vs,Ls),1)}function GA(vs,Ls){return yc(kf(vs,Ls),Ns)}function Qu(vs,Ls,Ys){return Ys=Ys===Ri?1:jc(Ys),yc(kf(vs,Ls),Ys)}function Dd(vs,Ls){var Ys=Fc(vs)?zh:sc;return Ys(vs,Bl(Ls,3))}function xp(vs,Ls){var Ys=Fc(vs)?Nf:gu;return Ys(vs,Bl(Ls,3))}var BA=gp(function(vs,Ls,Ys){Pc.call(vs,Ys)?vs[Ys].push(Ls):qa(vs,Ys,[Ls])});function _A(vs,Ls,Ys,bo){vs=Af(vs)?vs:vm(vs),Ys=Ys&&!bo?jc(Ys):0;var Uo=vs.length;return Ys<0&&(Ys=Uu(Uo+Ys,0)),lv(vs)?Ys<=Uo&&vs.indexOf(Ls,Ys)>-1:!!Uo&&za(vs,Ls,Ys)>-1}var dg=xc(function(vs,Ls,Ys){var bo=-1,Uo=typeof Ls=="function",Xo=Af(vs)?Fa(vs.length):[];return sc(vs,function(la){Xo[++bo]=Uo?Wh(Ls,la,Ys):Tu(la,Ls,Ys)}),Xo}),tp=gp(function(vs,Ls,Ys){qa(vs,Ys,Ls)});function kf(vs,Ls){var Ys=Fc(vs)?uu:sf;return Ys(vs,Bl(Ls,3))}function Ag(vs,Ls,Ys,bo){return vs==null?[]:(Fc(Ls)||(Ls=Ls==null?[]:[Ls]),Ys=bo?Ri:Ys,Fc(Ys)||(Ys=Ys==null?[]:[Ys]),rg(vs,Ls,Ys))}var fg=gp(function(vs,Ls,Ys){vs[Ys?0:1].push(Ls)},function(){return[[],[]]});function Sp(vs,Ls,Ys){var bo=Fc(vs)?mA:bu,Uo=arguments.length<3;return bo(vs,Bl(Ls,4),Ys,Uo,sc)}function pg(vs,Ls,Ys){var bo=Fc(vs)?Uf:bu,Uo=arguments.length<3;return bo(vs,Bl(Ls,4),Ys,Uo,gu)}function Tp(vs,Ls){var Ys=Fc(vs)?nA:uh;return Ys(vs,ov(Bl(Ls,3)))}function Ug(vs){var Ls=Fc(vs)?Pa:_g;return Ls(vs)}function im(vs,Ls,Ys){(Ys?Es(vs,Ls,Ys):Ls===Ri)?Ls=1:Ls=jc(Ls);var bo=Fc(vs)?Ma:dp;return bo(vs,Ls)}function ny(vs){var Ls=Fc(vs)?pa:Lg;return Ls(vs)}function sy(vs){if(vs==null)return 0;if(Af(vs))return lv(vs)?rd(vs):vs.length;var Ls=jh(vs);return Ls==Eo||Ls==Qo?vs.size:Xd(vs).length}function oy(vs,Ls,Ys){var bo=Fc(vs)?no:Ap;return Ys&&Es(vs,Ls,Ys)&&(Ls=Ri),bo(vs,Bl(Ls,3))}var ay=xc(function(vs,Ls){if(vs==null)return[];var Ys=Ls.length;return Ys>1&&Es(vs,Ls[0],Ls[1])?Ls=[]:Ys>2&&Es(Ls[0],Ls[1],Ls[2])&&(Ls=[Ls[0]]),rg(vs,yc(Ls,1),[])}),nv=lA||function(){return ll.Date.now()};function ly(vs,Ls){if(typeof Ls!="function")throw new Nh(ns);return vs=jc(vs),function(){if(--vs<1)return Ls.apply(this,arguments)}}function l0(vs,Ls,Ys){return Ls=Ys?Ri:Ls,Ls=vs&&Ls==null?vs.length:Ls,Kc(vs,$s,Ri,Ri,Ri,Ri,Ls)}function c0(vs,Ls){var Ys;if(typeof Ls!="function")throw new Nh(ns);return vs=jc(vs),function(){return--vs>0&&(Ys=Ls.apply(this,arguments)),vs<=1&&(Ls=Ri),Ys}}var Vv=xc(function(vs,Ls,Ys){var bo=Cs;if(Ys.length){var Uo=Ph(Ys,Cp(Vv));bo|=ws}return Kc(vs,bo,Ls,Ys,Uo)}),u0=xc(function(vs,Ls,Ys){var bo=Cs|ps;if(Ys.length){var Uo=Ph(Ys,Cp(u0));bo|=ws}return Kc(Ls,bo,vs,Ys,Uo)});function h0(vs,Ls,Ys){Ls=Ys?Ri:Ls;var bo=Kc(vs,fs,Ri,Ri,Ri,Ri,Ri,Ls);return bo.placeholder=h0.placeholder,bo}function d0(vs,Ls,Ys){Ls=Ys?Ri:Ls;var bo=Kc(vs,gs,Ri,Ri,Ri,Ri,Ri,Ls);return bo.placeholder=d0.placeholder,bo}function A0(vs,Ls,Ys){var bo,Uo,Xo,la,ga,Ia,Za=0,tl=!1,al=!1,Fl=!0;if(typeof vs!="function")throw new Nh(ns);Ls=rp(Ls)||0,Jh(Ys)&&(tl=!!Ys.leading,al="maxWait"in Ys,Xo=al?Uu(rp(Ys.maxWait)||0,Ls):Xo,Fl="trailing"in Ys?!!Ys.trailing:Fl);function Gl(Ed){var _p=bo,vg=Uo;return bo=Uo=Ri,Za=Ed,la=vs.apply(vg,_p),la}function cc(Ed){return Za=Ed,ga=Hl(su,Ls),tl?Gl(Ed):la}function Wc(Ed){var _p=Ed-Ia,vg=Ed-Za,k0=Ls-_p;return al?Ku(k0,Xo-vg):k0}function uc(Ed){var _p=Ed-Ia,vg=Ed-Za;return Ia===Ri||_p>=Ls||_p<0||al&&vg>=Xo}function su(){var Ed=nv();if(uc(Ed))return yu(Ed);ga=Hl(su,Wc(Ed))}function yu(Ed){return ga=Ri,Fl&&bo?Gl(Ed):(bo=Uo=Ri,la)}function Pf(){ga!==Ri&&Up(ga),Za=0,bo=Ia=Uo=ga=Ri}function KA(){return ga===Ri?la:yu(nv())}function Mf(){var Ed=nv(),_p=uc(Ed);if(bo=arguments,Uo=this,Ia=Ed,_p){if(ga===Ri)return cc(Ia);if(al)return Up(ga),ga=Hl(su,Ls),Gl(Ia)}return ga===Ri&&(ga=Hl(su,Ls)),la}return Mf.cancel=Pf,Mf.flush=KA,Mf}var cy=xc(function(vs,Ls){return iu(vs,1,Ls)}),uy=xc(function(vs,Ls,Ys){return iu(vs,rp(Ls)||0,Ys)});function hy(vs){return Kc(vs,Ps)}function sv(vs,Ls){if(typeof vs!="function"||Ls!=null&&typeof Ls!="function")throw new Nh(ns);var Ys=function(){var bo=arguments,Uo=Ls?Ls.apply(this,bo):bo[0],Xo=Ys.cache;if(Xo.has(Uo))return Xo.get(Uo);var la=vs.apply(this,bo);return Ys.cache=Xo.set(Uo,la)||Xo,la};return Ys.cache=new(sv.Cache||qd),Ys}sv.Cache=qd;function ov(vs){if(typeof vs!="function")throw new Nh(ns);return function(){var Ls=arguments;switch(Ls.length){case 0:return!vs.call(this);case 1:return!vs.call(this,Ls[0]);case 2:return!vs.call(this,Ls[0],Ls[1]);case 3:return!vs.call(this,Ls[0],Ls[1],Ls[2])}return!vs.apply(this,Ls)}}function dy(vs){return c0(2,vs)}var Ay=Gf(function(vs,Ls){Ls=Ls.length==1&&Fc(Ls[0])?uu(Ls[0],eu(Bl())):uu(yc(Ls,1),eu(Bl()));var Ys=Ls.length;return xc(function(bo){for(var Uo=-1,Xo=Ku(bo.length,Ys);++Uo<Xo;)bo[Uo]=Ls[Uo].call(this,bo[Uo]);return Wh(vs,this,bo)})}),Wv=xc(function(vs,Ls){var Ys=Ph(Ls,Cp(Wv));return Kc(vs,ws,Ri,Ls,Ys)}),f0=xc(function(vs,Ls){var Ys=Ph(Ls,Cp(f0));return Kc(vs,Ts,Ri,Ls,Ys)}),fy=zA(function(vs,Ls){return Kc(vs,Rs,Ri,Ri,Ri,Ls)});function py(vs,Ls){if(typeof vs!="function")throw new Nh(ns);return Ls=Ls===Ri?Ls:jc(Ls),xc(vs,Ls)}function gy(vs,Ls){if(typeof vs!="function")throw new Nh(ns);return Ls=Ls==null?0:Uu(jc(Ls),0),xc(function(Ys){var bo=Ys[Ls],Uo=QA(Ys,0,Ls);return bo&&Md(Uo,bo),Wh(vs,this,Uo)})}function my(vs,Ls,Ys){var bo=!0,Uo=!0;if(typeof vs!="function")throw new Nh(ns);return Jh(Ys)&&(bo="leading"in Ys?!!Ys.leading:bo,Uo="trailing"in Ys?!!Ys.trailing:Uo),A0(vs,Ls,{leading:bo,maxWait:Ls,trailing:Uo})}function vy(vs){return l0(vs,1)}function yy(vs,Ls){return Wv(lf(Ls),vs)}function by(){if(!arguments.length)return[];var vs=arguments[0];return Fc(vs)?vs:[vs]}function wy(vs){return Ol(vs,As)}function Cy(vs,Ls){return Ls=typeof Ls=="function"?Ls:Ri,Ol(vs,As,Ls)}function Ey(vs){return Ol(vs,hs|As)}function xy(vs,Ls){return Ls=typeof Ls=="function"?Ls:Ri,Ol(vs,hs|As,Ls)}function Sy(vs,Ls){return Ls==null||Gc(vs,Ls,tA(Ls))}function Bp(vs,Ls){return vs===Ls||vs!==vs&&Ls!==Ls}var Ty=bp(Id),By=bp(function(vs,Ls){return vs>=Ls}),nm=hp(function(){return arguments}())?hp:function(vs){return hd(vs)&&Pc.call(vs,"callee")&&!od.call(vs,"callee")},Fc=Fa.isArray,_y=qu?eu(qu):Ef;function Af(vs){return vs!=null&&av(vs.length)&&!gg(vs)}function Cd(vs){return hd(vs)&&Af(vs)}function Ly(vs){return vs===!0||vs===!1||hd(vs)&&mu(vs)==Xs}var Hg=Wf||r0,Fy=Zc?eu(Zc):eg;function Iy(vs){return hd(vs)&&vs.nodeType===1&&!Dm(vs)}function ky(vs){if(vs==null)return!0;if(Af(vs)&&(Fc(vs)||typeof vs=="string"||typeof vs.splice=="function"||Hg(vs)||mm(vs)||nm(vs)))return!vs.length;var Ls=jh(vs);if(Ls==Eo||Ls==Qo)return!vs.size;if(Do(vs))return!Xd(vs).length;for(var Ys in vs)if(Pc.call(vs,Ys))return!1;return!0}function Dy(vs,Ls){return hA(vs,Ls)}function Py(vs,Ls,Ys){Ys=typeof Ys=="function"?Ys:Ri;var bo=Ys?Ys(vs,Ls):Ri;return bo===Ri?hA(vs,Ls,Ri,Ys):!!bo}function zv(vs){if(!hd(vs))return!1;var Ls=mu(vs);return Ls==So||Ls==co||typeof vs.message=="string"&&typeof vs.name=="string"&&!Dm(vs)}function My(vs){return typeof vs=="number"&&Cg(vs)}function gg(vs){if(!Jh(vs))return!1;var Ls=mu(vs);return Ls==ro||Ls==vo||Ls==Ao||Ls==Wo}function p0(vs){return typeof vs=="number"&&vs==jc(vs)}function av(vs){return typeof vs=="number"&&vs>-1&&vs%1==0&&vs<=Ss}function Jh(vs){var Ls=typeof vs;return vs!=null&&(Ls=="object"||Ls=="function")}function hd(vs){return vs!=null&&typeof vs=="object"}var g0=Pd?eu(Pd):tf;function Oy(vs,Ls){return vs===Ls||jd(vs,Ls,Hc(Ls))}function Ny(vs,Ls,Ys){return Ys=typeof Ys=="function"?Ys:Ri,jd(vs,Ls,Hc(Ls),Ys)}function Ry(vs){return m0(vs)&&vs!=+vs}function Uy(vs){if(Lo(vs))throw new Nl(is);return Yd(vs)}function Hy(vs){return vs===null}function jy(vs){return vs==null}function m0(vs){return typeof vs=="number"||hd(vs)&&mu(vs)==mo}function Dm(vs){if(!hd(vs)||mu(vs)!=Jo)return!1;var Ls=aA(vs);if(Ls===null)return!0;var Ys=Pc.call(Ls,"constructor")&&Ls.constructor;return typeof Ys=="function"&&Ys instanceof Ys&&_d.call(Ys)==qc}var qv=mh?eu(mh):rf;function $y(vs){return p0(vs)&&vs>=-Ss&&vs<=Ss}var v0=Zh?eu(Zh):tg;function lv(vs){return typeof vs=="string"||!Fc(vs)&&hd(vs)&&mu(vs)==jo}function Df(vs){return typeof vs=="symbol"||hd(vs)&&mu(vs)==Bo}var mm=iA?eu(iA):nf;function Qy(vs){return vs===Ri}function Vy(vs){return hd(vs)&&jh(vs)==_o}function Wy(vs){return hd(vs)&&mu(vs)==To}var zy=bp(dA),qy=bp(function(vs,Ls){return vs<=Ls});function y0(vs){if(!vs)return[];if(Af(vs))return lv(vs)?tu(vs):bd(vs);if(bA&&vs[bA])return mf(vs[bA]());var Ls=jh(vs),Ys=Ls==Eo?PA:Ls==Qo?Mh:vm;return Ys(vs)}function mg(vs){if(!vs)return vs===0?vs:0;if(vs=rp(vs),vs===Ns||vs===-Ns){var Ls=vs<0?-1:1;return Ls*Us}return vs===vs?vs:0}function jc(vs){var Ls=mg(vs),Ys=Ls%1;return Ls===Ls?Ys?Ls-Ys:Ls:0}function b0(vs){return vs?hl(jc(vs),0,ao):0}function rp(vs){if(typeof vs=="number")return vs;if(Df(vs))return Zs;if(Jh(vs)){var Ls=typeof vs.valueOf=="function"?vs.valueOf():vs;vs=Jh(Ls)?Ls+"":Ls}if(typeof vs!="string")return vs===0?vs:+vs;vs=Td(vs);var Ys=gl.test(vs);return Ys||Zl.test(vs)?sa(vs.slice(2),Ys?2:8):ca.test(vs)?Zs:+vs}function w0(vs){return VA(vs,ff(vs))}function Gy(vs){return vs?hl(jc(vs),-Ss,Ss):vs===0?vs:0}function Vu(vs){return vs==null?"":vu(vs)}var Ky=WA(function(vs,Ls){if(Do(Ls)||Af(Ls)){VA(Ls,tA(Ls),vs);return}for(var Ys in Ls)Pc.call(Ls,Ys)&&Ha(vs,Ys,Ls[Ys])}),C0=WA(function(vs,Ls){VA(Ls,ff(Ls),vs)}),cv=WA(function(vs,Ls,Ys,bo){VA(Ls,ff(Ls),vs,bo)}),Yy=WA(function(vs,Ls,Ys,bo){VA(Ls,tA(Ls),vs,bo)}),Xy=zA(bl);function Jy(vs,Ls){var Ys=ZA(vs);return Ls==null?Ys:Ka(Ys,Ls)}var Zy=xc(function(vs,Ls){vs=Ec(vs);var Ys=-1,bo=Ls.length,Uo=bo>2?Ls[2]:Ri;for(Uo&&Es(Ls[0],Ls[1],Uo)&&(bo=1);++Ys<bo;)for(var Xo=Ls[Ys],la=ff(Xo),ga=-1,Ia=la.length;++ga<Ia;){var Za=la[ga],tl=vs[Za];(tl===Ri||Bp(tl,Gh[Za])&&!Pc.call(vs,Za))&&(vs[Za]=Xo[Za])}return vs}),eb=xc(function(vs){return vs.push(Ri,wp),Wh(E0,Ri,vs)});function tb(vs,Ls){return La(vs,Bl(Ls,3),Hu)}function rb(vs,Ls){return La(vs,Bl(Ls,3),ad)}function ib(vs,Ls){return vs==null?vs:eh(vs,Bl(Ls,3),ff)}function nb(vs,Ls){return vs==null?vs:nu(vs,Bl(Ls,3),ff)}function sb(vs,Ls){return vs&&Hu(vs,Bl(Ls,3))}function ab(vs,Ls){return vs&&ad(vs,Bl(Ls,3))}function lb(vs){return vs==null?[]:Su(vs,tA(vs))}function cb(vs){return vs==null?[]:Su(vs,ff(vs))}function Gv(vs,Ls,Ys){var bo=vs==null?Ri:Fu(vs,Ls);return bo===Ri?Ys:bo}function ub(vs,Ls){return vs!=null&&Og(vs,Ls,xh)}function Kv(vs,Ls){return vs!=null&&Og(vs,Ls,Gd)}var hb=$p(function(vs,Ls,Ys){Ls!=null&&typeof Ls.toString!="function"&&(Ls=Mc.call(Ls)),vs[Ls]=Ys},Xv(pf)),db=$p(function(vs,Ls,Ys){Ls!=null&&typeof Ls.toString!="function"&&(Ls=Mc.call(Ls)),Pc.call(vs,Ls)?vs[Ls].push(Ys):vs[Ls]=[Ys]},Bl),Ab=xc(Tu);function tA(vs){return Af(vs)?fa(vs):Xd(vs)}function ff(vs){return Af(vs)?fa(vs,!0):HA(vs)}function fb(vs,Ls){var Ys={};return Ls=Bl(Ls,3),Hu(vs,function(bo,Uo,Xo){qa(Ys,Ls(bo,Uo,Xo),bo)}),Ys}function pb(vs,Ls){var Ys={};return Ls=Bl(Ls,3),Hu(vs,function(bo,Uo,Xo){qa(Ys,Uo,Ls(bo,Uo,Xo))}),Ys}var gb=WA(function(vs,Ls,Ys){vd(vs,Ls,Ys)}),E0=WA(function(vs,Ls,Ys,bo){vd(vs,Ls,Ys,bo)}),mb=zA(function(vs,Ls){var Ys={};if(vs==null)return Ys;var bo=!1;Ls=uu(Ls,function(Xo){return Xo=xA(Xo,vs),bo||(bo=Xo.length>1),Xo}),VA(vs,Mg(vs),Ys),bo&&(Ys=Ol(Ys,hs|us|As,Xf));for(var Uo=Ls.length;Uo--;)Rp(Ys,Ls[Uo]);return Ys});function vb(vs,Ls){return x0(vs,ov(Bl(Ls)))}var yb=zA(function(vs,Ls){return vs==null?{}:ig(vs,Ls)});function x0(vs,Ls){if(vs==null)return{};var Ys=uu(Mg(vs),function(bo){return[bo]});return Ls=Bl(Ls),Pp(vs,Ys,function(bo,Uo){return Ls(bo,Uo[0])})}function bb(vs,Ls,Ys){Ls=xA(Ls,vs);var bo=-1,Uo=Ls.length;for(Uo||(Uo=1,vs=Ri);++bo<Uo;){var Xo=vs==null?Ri:vs[ul(Ls[bo])];Xo===Ri&&(bo=Uo,Xo=Ys),vs=gg(Xo)?Xo.call(vs):Xo}return vs}function wb(vs,Ls,Ys){return vs==null?vs:_f(vs,Ls,Ys)}function Cb(vs,Ls,Ys,bo){return bo=typeof bo=="function"?bo:Ri,vs==null?vs:_f(vs,Ls,Ys,bo)}var S0=em(tA),T0=em(ff);function Eb(vs,Ls,Ys){var bo=Fc(vs),Uo=bo||Hg(vs)||mm(vs);if(Ls=Bl(Ls,4),Ys==null){var Xo=vs&&vs.constructor;Uo?Ys=bo?new Xo:[]:Jh(vs)?Ys=gg(Xo)?ZA(aA(vs)):{}:Ys={}}return(Uo?zh:Hu)(vs,function(la,ga,Ia){return Ls(Ys,la,ga,Ia)}),Ys}function xb(vs,Ls){return vs==null?!0:Rp(vs,Ls)}function Sb(vs,Ls,Ys){return vs==null?vs:Lf(vs,Ls,lf(Ys))}function Tb(vs,Ls,Ys,bo){return bo=typeof bo=="function"?bo:Ri,vs==null?vs:Lf(vs,Ls,lf(Ys),bo)}function vm(vs){return vs==null?[]:sh(vs,tA(vs))}function Bb(vs){return vs==null?[]:sh(vs,ff(vs))}function Lb(vs,Ls,Ys){return Ys===Ri&&(Ys=Ls,Ls=Ri),Ys!==Ri&&(Ys=rp(Ys),Ys=Ys===Ys?Ys:0),Ls!==Ri&&(Ls=rp(Ls),Ls=Ls===Ls?Ls:0),hl(rp(vs),Ls,Ys)}function Fb(vs,Ls,Ys){return Ls=mg(Ls),Ys===Ri?(Ys=Ls,Ls=0):Ys=mg(Ys),vs=rp(vs),Kd(vs,Ls,Ys)}function Ib(vs,Ls,Ys){if(Ys&&typeof Ys!="boolean"&&Es(vs,Ls,Ys)&&(Ls=Ys=Ri),Ys===Ri&&(typeof Ls=="boolean"?(Ys=Ls,Ls=Ri):typeof vs=="boolean"&&(Ys=vs,vs=Ri)),vs===Ri&&Ls===Ri?(vs=0,Ls=1):(vs=mg(vs),Ls===Ri?(Ls=vs,vs=0):Ls=mg(Ls)),vs>Ls){var bo=vs;vs=Ls,Ls=bo}if(Ys||vs%1||Ls%1){var Uo=Gp();return Ku(vs+Uo*(Ls-vs+kA("1e-"+((Uo+"").length-1))),Ls)}return Bf(vs,Ls)}var kb=vp(function(vs,Ls,Ys){return Ls=Ls.toLowerCase(),vs+(Ys?B0(Ls):Ls)});function B0(vs){return Yv(Vu(vs).toLowerCase())}function _0(vs){return vs=Vu(vs),vs&&vs.replace(Yl,Zu).replace(LA,"")}function Db(vs,Ls,Ys){vs=Vu(vs),Ls=vu(Ls);var bo=vs.length;Ys=Ys===Ri?bo:hl(jc(Ys),0,bo);var Uo=Ys;return Ys-=Ls.length,Ys>=0&&vs.slice(Ys,Uo)==Ls}function Pb(vs){return vs=Vu(vs),vs&&Na.test(vs)?vs.replace(Ja,ed):vs}function Mb(vs){return vs=Vu(vs),vs&&_u.test(vs)?vs.replace(dc,"\\$&"):vs}var Ob=vp(function(vs,Ls,Ys){return vs+(Ys?"-":"")+Ls.toLowerCase()}),Nb=vp(function(vs,Ls,Ys){return vs+(Ys?" ":"")+Ls.toLowerCase()}),Rb=Jg("toLowerCase");function Ub(vs,Ls,Ys){vs=Vu(vs),Ls=jc(Ls);var bo=Ls?rd(vs):0;if(!Ls||bo>=Ls)return vs;var Uo=(Ls-bo)/2;return Dg(NA(Uo),Ys)+vs+Dg(yf(Uo),Ys)}function Hb(vs,Ls,Ys){vs=Vu(vs),Ls=jc(Ls);var bo=Ls?rd(vs):0;return Ls&&bo<Ls?vs+Dg(Ls-bo,Ys):vs}function jb(vs,Ls,Ys){vs=Vu(vs),Ls=jc(Ls);var bo=Ls?rd(vs):0;return Ls&&bo<Ls?Dg(Ls-bo,Ys)+vs:vs}function $b(vs,Ls,Ys){return Ys||Ls==null?Ls=0:Ls&&(Ls=+Ls),Ip(Vu(vs).replace(kc,""),Ls||0)}function Qb(vs,Ls,Ys){return(Ys?Es(vs,Ls,Ys):Ls===Ri)?Ls=1:Ls=jc(Ls),jA(Vu(vs),Ls)}function Vb(){var vs=arguments,Ls=Vu(vs[0]);return vs.length<3?Ls:Ls.replace(vs[1],vs[2])}var Wb=vp(function(vs,Ls,Ys){return vs+(Ys?"_":"")+Ls.toLowerCase()});function zb(vs,Ls,Ys){return Ys&&typeof Ys!="number"&&Es(vs,Ls,Ys)&&(Ls=Ys=Ri),Ys=Ys===Ri?ao:Ys>>>0,Ys?(vs=Vu(vs),vs&&(typeof Ls=="string"||Ls!=null&&!qv(Ls))&&(Ls=vu(Ls),!Ls&&Dc(vs))?QA(tu(vs),0,Ys):vs.split(Ls,Ys)):[]}var qb=vp(function(vs,Ls,Ys){return vs+(Ys?" ":"")+Yv(Ls)});function Gb(vs,Ls,Ys){return vs=Vu(vs),Ys=Ys==null?0:hl(jc(Ys),0,vs.length),Ls=vu(Ls),vs.slice(Ys,Ys+Ls.length)==Ls}function Kb(vs,Ls,Ys){var bo=qo.templateSettings;Ys&&Es(vs,Ls,Ys)&&(Ls=Ri),vs=Vu(vs),Ls=cv({},Ls,bo,dm);var Uo=cv({},Ls.imports,bo.imports,dm),Xo=tA(Uo),la=sh(Uo,Xo),ga,Ia,Za=0,tl=Ls.interpolate||Sc,al="__p += '",Fl=yA((Ls.escape||Sc).source+"|"+tl.source+"|"+(tl===El?Wu:Sc).source+"|"+(Ls.evaluate||Sc).source+"|$","g"),Gl="//# sourceURL="+(Pc.call(Ls,"sourceURL")?(Ls.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Of+"]")+`
`;vs.replace(Fl,function(uc,su,yu,Pf,KA,Mf){return yu||(yu=Pf),al+=vs.slice(Za,Mf).replace(Bh,wh),su&&(ga=!0,al+=`' +
__e(`+su+`) +
'`),KA&&(Ia=!0,al+=`';
`+KA+`;
__p += '`),yu&&(al+=`' +
((__t = (`+yu+`)) == null ? '' : __t) +
'`),Za=Mf+uc.length,uc}),al+=`';
`;var cc=Pc.call(Ls,"variable")&&Ls.variable;if(!cc)al=`with (obj) {
`+al+`
}
`;else if(Mu.test(cc))throw new Nl(ss);al=(Ia?al.replace(Va,""):al).replace(Ea,"$1").replace(il,"$1;"),al="function("+(cc||"obj")+`) {
`+(cc?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ga?", __e = _.escape":"")+(Ia?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+al+`return __p
}`;var Wc=F0(function(){return ac(Xo,Gl+"return "+al).apply(Ri,la)});if(Wc.source=al,zv(Wc))throw Wc;return Wc}function Yb(vs){return Vu(vs).toLowerCase()}function Xb(vs){return Vu(vs).toUpperCase()}function Jb(vs,Ls,Ys){if(vs=Vu(vs),vs&&(Ys||Ls===Ri))return Td(vs);if(!vs||!(Ls=vu(Ls)))return vs;var bo=tu(vs),Uo=tu(Ls),Xo=oh(bo,Uo),la=wu(bo,Uo)+1;return QA(bo,Xo,la).join("")}function Zb(vs,Ls,Ys){if(vs=Vu(vs),vs&&(Ys||Ls===Ri))return vs.slice(0,qh(vs)+1);if(!vs||!(Ls=vu(Ls)))return vs;var bo=tu(vs),Uo=wu(bo,tu(Ls))+1;return QA(bo,0,Uo).join("")}function e1(vs,Ls,Ys){if(vs=Vu(vs),vs&&(Ys||Ls===Ri))return vs.replace(kc,"");if(!vs||!(Ls=vu(Ls)))return vs;var bo=tu(vs),Uo=oh(bo,tu(Ls));return QA(bo,Uo).join("")}function t1(vs,Ls){var Ys=Qs,bo=Fs;if(Jh(Ls)){var Uo="separator"in Ls?Ls.separator:Uo;Ys="length"in Ls?jc(Ls.length):Ys,bo="omission"in Ls?vu(Ls.omission):bo}vs=Vu(vs);var Xo=vs.length;if(Dc(vs)){var la=tu(vs);Xo=la.length}if(Ys>=Xo)return vs;var ga=Ys-rd(bo);if(ga<1)return bo;var Ia=la?QA(la,0,ga).join(""):vs.slice(0,ga);if(Uo===Ri)return Ia+bo;if(la&&(ga+=Ia.length-ga),qv(Uo)){if(vs.slice(ga).search(Uo)){var Za,tl=Ia;for(Uo.global||(Uo=yA(Uo.source,Vu(Th.exec(Uo))+"g")),Uo.lastIndex=0;Za=Uo.exec(tl);)var al=Za.index;Ia=Ia.slice(0,al===Ri?ga:al)}}else if(vs.indexOf(vu(Uo),ga)!=ga){var Fl=Ia.lastIndexOf(Uo);Fl>-1&&(Ia=Ia.slice(0,Fl))}return Ia+bo}function r1(vs){return vs=Vu(vs),vs&&Ua.test(vs)?vs.replace(kl,MA):vs}var i1=vp(function(vs,Ls,Ys){return vs+(Ys?" ":"")+Ls.toUpperCase()}),Yv=Jg("toUpperCase");function L0(vs,Ls,Ys){return vs=Vu(vs),Ls=Ys?Ri:Ls,Ls===Ri?XA(vs)?vA(vs):ha(vs):vs.match(Ls)||[]}var F0=xc(function(vs,Ls){try{return Wh(vs,Ri,Ls)}catch(Ys){return zv(Ys)?Ys:new Nl(Ys)}}),n1=zA(function(vs,Ls){return zh(Ls,function(Ys){Ys=ul(Ys),qa(vs,Ys,Vv(vs[Ys],vs))}),vs});function s1(vs){var Ls=vs==null?0:vs.length,Ys=Bl();return vs=Ls?uu(vs,function(bo){if(typeof bo[1]!="function")throw new Nh(ns);return[Ys(bo[0]),bo[1]]}):[],xc(function(bo){for(var Uo=-1;++Uo<Ls;){var Xo=vs[Uo];if(Wh(Xo[0],this,bo))return Wh(Xo[1],this,bo)}})}function o1(vs){return vl(Ol(vs,hs))}function Xv(vs){return function(){return vs}}function a1(vs,Ls){return vs==null||vs!==vs?Ls:vs}var l1=yp(),c1=yp(!0);function pf(vs){return vs}function Jv(vs){return Sf(typeof vs=="function"?vs:Ol(vs,hs))}function u1(vs){return Bg(Ol(vs,hs))}function h1(vs,Ls){return Dp(vs,Ol(Ls,hs))}var d1=xc(function(vs,Ls){return function(Ys){return Tu(Ys,vs,Ls)}}),A1=xc(function(vs,Ls){return function(Ys){return Tu(vs,Ys,Ls)}});function Zv(vs,Ls,Ys){var bo=tA(Ls),Uo=Su(Ls,bo);Ys==null&&!(Jh(Ls)&&(Uo.length||!bo.length))&&(Ys=Ls,Ls=vs,vs=this,Uo=Su(Ls,tA(Ls)));var Xo=!(Jh(Ys)&&"chain"in Ys)||!!Ys.chain,la=gg(vs);return zh(Uo,function(ga){var Ia=Ls[ga];vs[ga]=Ia,la&&(vs.prototype[ga]=function(){var Za=this.__chain__;if(Xo||Za){var tl=vs(this.__wrapped__),al=tl.__actions__=bd(this.__actions__);return al.push({func:Ia,args:arguments,thisArg:vs}),tl.__chain__=Za,tl}return Ia.apply(vs,Md([this.value()],arguments))})}),vs}function f1(){return ll._===this&&(ll._=Uc),this}function e0(){}function p1(vs){return vs=jc(vs),xc(function(Ls){return Tf(Ls,vs)})}var g1=kg(uu),m1=kg(gf),v1=kg(no);function I0(vs){return ks(vs)?rc(ul(vs)):qf(vs)}function y1(vs){return function(Ls){return vs==null?Ri:Fu(vs,Ls)}}var b1=Yf(),w1=Yf(!0);function t0(){return[]}function r0(){return!1}function C1(){return{}}function E1(){return""}function x1(){return!0}function S1(vs,Ls){if(vs=jc(vs),vs<1||vs>Ss)return[];var Ys=ao,bo=Ku(vs,ao);Ls=Bl(Ls),vs-=ao;for(var Uo=kh(bo,Ls);++Ys<vs;)Ls(Ys);return Uo}function T1(vs){return Fc(vs)?uu(vs,ul):Df(vs)?[vs]:bd(Yu(Vu(vs)))}function B1(vs){var Ls=++Ld;return Vu(vs)+Ls}var _1=Qp(function(vs,Ls){return vs+Ls},0),L1=Pg("ceil"),F1=Qp(function(vs,Ls){return vs/Ls},1),I1=Pg("floor");function k1(vs){return vs&&vs.length?ql(vs,pf,Id):Ri}function D1(vs,Ls){return vs&&vs.length?ql(vs,Bl(Ls,2),Id):Ri}function P1(vs){return Xl(vs,pf)}function M1(vs,Ls){return Xl(vs,Bl(Ls,2))}function O1(vs){return vs&&vs.length?ql(vs,pf,dA):Ri}function N1(vs,Ls){return vs&&vs.length?ql(vs,Bl(Ls,2),dA):Ri}var R1=Qp(function(vs,Ls){return vs*Ls},1),U1=Pg("round"),H1=Qp(function(vs,Ls){return vs-Ls},0);function j1(vs){return vs&&vs.length?Jl(vs,pf):0}function $1(vs,Ls){return vs&&vs.length?Jl(vs,Bl(Ls,2)):0}return qo.after=ly,qo.ary=l0,qo.assign=Ky,qo.assignIn=C0,qo.assignInWith=cv,qo.assignWith=Yy,qo.at=Xy,qo.before=c0,qo.bind=Vv,qo.bindAll=n1,qo.bindKey=u0,qo.castArray=by,qo.chain=Da,qo.chunk=cd,qo.compact=ic,qo.concat=bc,qo.cond=s1,qo.conforms=o1,qo.constant=Xv,qo.countBy=Il,qo.create=Jy,qo.curry=h0,qo.curryRight=d0,qo.debounce=A0,qo.defaults=Zy,qo.defaultsDeep=eb,qo.defer=cy,qo.delay=uy,qo.difference=$u,qo.differenceBy=Qd,qo.differenceWith=Ff,qo.drop=Zf,qo.dropRight=$h,qo.dropRightWhile=hf,qo.dropWhile=Xh,qo.fill=Ng,qo.filter=Au,qo.flatMap=TA,qo.flatMapDeep=GA,qo.flatMapDepth=Qu,qo.flatten=ep,qo.flattenDeep=wd,qo.flattenDepth=Ep,qo.flip=hy,qo.flow=l1,qo.flowRight=c1,qo.fromPairs=hg,qo.functions=lb,qo.functionsIn=cb,qo.groupBy=BA,qo.initial=Zm,qo.intersection=Cv,qo.intersectionBy=Ev,qo.intersectionWith=xv,qo.invert=hb,qo.invertBy=db,qo.invokeMap=dg,qo.iteratee=Jv,qo.keyBy=tp,qo.keys=tA,qo.keysIn=ff,qo.map=kf,qo.mapKeys=fb,qo.mapValues=pb,qo.matches=u1,qo.matchesProperty=h1,qo.memoize=sv,qo.merge=gb,qo.mergeWith=E0,qo.method=d1,qo.methodOf=A1,qo.mixin=Zv,qo.negate=ov,qo.nthArg=p1,qo.omit=mb,qo.omitBy=vb,qo.once=dy,qo.orderBy=Ag,qo.over=g1,qo.overArgs=Ay,qo.overEvery=m1,qo.overSome=v1,qo.partial=Wv,qo.partialRight=f0,qo.partition=fg,qo.pick=yb,qo.pickBy=x0,qo.property=I0,qo.propertyOf=y1,qo.pull=Sv,qo.pullAll=tv,qo.pullAllBy=km,qo.pullAllWith=Rg,qo.pullAt=gm,qo.range=b1,qo.rangeRight=w1,qo.rearg=fy,qo.reject=Tp,qo.remove=Tv,qo.rest=py,qo.reverse=Wp,qo.sampleSize=im,qo.set=wb,qo.setWith=Cb,qo.shuffle=ny,qo.slice=Bv,qo.sortBy=ay,qo.sortedUniq=kv,qo.sortedUniqBy=Dv,qo.split=zb,qo.spread=gy,qo.tail=Pv,qo.take=Mv,qo.takeRight=Ov,qo.takeRightWhile=Nv,qo.takeWhile=Rv,qo.tap=Wa,qo.throttle=my,qo.thru=Ll,qo.toArray=y0,qo.toPairs=S0,qo.toPairsIn=T0,qo.toPath=T1,qo.toPlainObject=w0,qo.transform=Eb,qo.unary=vy,qo.union=Uv,qo.unionBy=Hv,qo.unionWith=jv,qo.uniq=$v,qo.uniqBy=Qv,qo.uniqWith=Vs,qo.unset=xb,qo.unzip=Hs,qo.unzipWith=Gs,qo.update=Sb,qo.updateWith=Tb,qo.values=vm,qo.valuesIn=Bb,qo.without=qs,qo.words=L0,qo.wrap=yy,qo.xor=po,qo.xorBy=Io,qo.xorWith=Vo,qo.zip=ta,qo.zipObject=ea,qo.zipObjectDeep=ya,qo.zipWith=Sa,qo.entries=S0,qo.entriesIn=T0,qo.extend=C0,qo.extendWith=cv,Zv(qo,qo),qo.add=_1,qo.attempt=F0,qo.camelCase=kb,qo.capitalize=B0,qo.ceil=L1,qo.clamp=Lb,qo.clone=wy,qo.cloneDeep=Ey,qo.cloneDeepWith=xy,qo.cloneWith=Cy,qo.conformsTo=Sy,qo.deburr=_0,qo.defaultTo=a1,qo.divide=F1,qo.endsWith=Db,qo.eq=Bp,qo.escape=Pb,qo.escapeRegExp=Mb,qo.every=du,qo.find=wc,qo.findIndex=df,qo.findKey=tb,qo.findLast=ud,qo.findLastIndex=If,qo.findLastKey=rb,qo.floor=I1,qo.forEach=Dd,qo.forEachRight=xp,qo.forIn=ib,qo.forInRight=nb,qo.forOwn=sb,qo.forOwnRight=ab,qo.get=Gv,qo.gt=Ty,qo.gte=By,qo.has=ub,qo.hasIn=Kv,qo.head=Im,qo.identity=pf,qo.includes=_A,qo.indexOf=wv,qo.inRange=Fb,qo.invoke=Ab,qo.isArguments=nm,qo.isArray=Fc,qo.isArrayBuffer=_y,qo.isArrayLike=Af,qo.isArrayLikeObject=Cd,qo.isBoolean=Ly,qo.isBuffer=Hg,qo.isDate=Fy,qo.isElement=Iy,qo.isEmpty=ky,qo.isEqual=Dy,qo.isEqualWith=Py,qo.isError=zv,qo.isFinite=My,qo.isFunction=gg,qo.isInteger=p0,qo.isLength=av,qo.isMap=g0,qo.isMatch=Oy,qo.isMatchWith=Ny,qo.isNaN=Ry,qo.isNative=Uy,qo.isNil=jy,qo.isNull=Hy,qo.isNumber=m0,qo.isObject=Jh,qo.isObjectLike=hd,qo.isPlainObject=Dm,qo.isRegExp=qv,qo.isSafeInteger=$y,qo.isSet=v0,qo.isString=lv,qo.isSymbol=Df,qo.isTypedArray=mm,qo.isUndefined=Qy,qo.isWeakMap=Vy,qo.isWeakSet=Wy,qo.join=fm,qo.kebabCase=Ob,qo.last=Sh,qo.lastIndexOf=ev,qo.lowerCase=Nb,qo.lowerFirst=Rb,qo.lt=zy,qo.lte=qy,qo.max=k1,qo.maxBy=D1,qo.mean=P1,qo.meanBy=M1,qo.min=O1,qo.minBy=N1,qo.stubArray=t0,qo.stubFalse=r0,qo.stubObject=C1,qo.stubString=E1,qo.stubTrue=x1,qo.multiply=R1,qo.nth=pm,qo.noConflict=f1,qo.noop=e0,qo.now=nv,qo.pad=Ub,qo.padEnd=Hb,qo.padStart=jb,qo.parseInt=$b,qo.random=Ib,qo.reduce=Sp,qo.reduceRight=pg,qo.repeat=Qb,qo.replace=Vb,qo.result=bb,qo.round=U1,qo.runInContext=Ca,qo.sample=Ug,qo.size=sy,qo.snakeCase=Wb,qo.some=oy,qo.sortedIndex=_v,qo.sortedIndexBy=rv,qo.sortedIndexOf=Lv,qo.sortedLastIndex=iv,qo.sortedLastIndexBy=Fv,qo.sortedLastIndexOf=Iv,qo.startCase=qb,qo.startsWith=Gb,qo.subtract=H1,qo.sum=j1,qo.sumBy=$1,qo.template=Kb,qo.times=S1,qo.toFinite=mg,qo.toInteger=jc,qo.toLength=b0,qo.toLower=Yb,qo.toNumber=rp,qo.toSafeInteger=Gy,qo.toString=Vu,qo.toUpper=Xb,qo.trim=Jb,qo.trimEnd=Zb,qo.trimStart=e1,qo.truncate=t1,qo.unescape=r1,qo.uniqueId=B1,qo.upperCase=i1,qo.upperFirst=Yv,qo.each=Dd,qo.eachRight=xp,qo.first=Im,Zv(qo,function(){var vs={};return Hu(qo,function(Ls,Ys){Pc.call(qo.prototype,Ys)||(vs[Ys]=Ls)}),vs}(),{chain:!1}),qo.VERSION=ts,zh(["bind","bindKey","curry","curryRight","partial","partialRight"],function(vs){qo[vs].placeholder=qo}),zh(["drop","take"],function(vs,Ls){Kl.prototype[vs]=function(Ys){Ys=Ys===Ri?1:Uu(jc(Ys),0);var bo=this.__filtered__&&!Ls?new Kl(this):this.clone();return bo.__filtered__?bo.__takeCount__=Ku(Ys,bo.__takeCount__):bo.__views__.push({size:Ku(Ys,ao),type:vs+(bo.__dir__<0?"Right":"")}),bo},Kl.prototype[vs+"Right"]=function(Ys){return this.reverse()[vs](Ys).reverse()}}),zh(["filter","map","takeWhile"],function(vs,Ls){var Ys=Ls+1,bo=Ys==Ws||Ys==_s;Kl.prototype[vs]=function(Uo){var Xo=this.clone();return Xo.__iteratees__.push({iteratee:Bl(Uo,3),type:Ys}),Xo.__filtered__=Xo.__filtered__||bo,Xo}}),zh(["head","last"],function(vs,Ls){var Ys="take"+(Ls?"Right":"");Kl.prototype[vs]=function(){return this[Ys](1).value()[0]}}),zh(["initial","tail"],function(vs,Ls){var Ys="drop"+(Ls?"":"Right");Kl.prototype[vs]=function(){return this.__filtered__?new Kl(this):this[Ys](1)}}),Kl.prototype.compact=function(){return this.filter(pf)},Kl.prototype.find=function(vs){return this.filter(vs).head()},Kl.prototype.findLast=function(vs){return this.reverse().find(vs)},Kl.prototype.invokeMap=xc(function(vs,Ls){return typeof vs=="function"?new Kl(this):this.map(function(Ys){return Tu(Ys,vs,Ls)})}),Kl.prototype.reject=function(vs){return this.filter(ov(Bl(vs)))},Kl.prototype.slice=function(vs,Ls){vs=jc(vs);var Ys=this;return Ys.__filtered__&&(vs>0||Ls<0)?new Kl(Ys):(vs<0?Ys=Ys.takeRight(-vs):vs&&(Ys=Ys.drop(vs)),Ls!==Ri&&(Ls=jc(Ls),Ys=Ls<0?Ys.dropRight(-Ls):Ys.take(Ls-vs)),Ys)},Kl.prototype.takeRightWhile=function(vs){return this.reverse().takeWhile(vs).reverse()},Kl.prototype.toArray=function(){return this.take(ao)},Hu(Kl.prototype,function(vs,Ls){var Ys=/^(?:filter|find|map|reject)|While$/.test(Ls),bo=/^(?:head|last)$/.test(Ls),Uo=qo[bo?"take"+(Ls=="last"?"Right":""):Ls],Xo=bo||/^find/.test(Ls);Uo&&(qo.prototype[Ls]=function(){var la=this.__wrapped__,ga=bo?[1]:arguments,Ia=la instanceof Kl,Za=ga[0],tl=Ia||Fc(la),al=function(su){var yu=Uo.apply(qo,Md([su],ga));return bo&&Fl?yu[0]:yu};tl&&Ys&&typeof Za=="function"&&Za.length!=1&&(Ia=tl=!1);var Fl=this.__chain__,Gl=!!this.__actions__.length,cc=Xo&&!Fl,Wc=Ia&&!Gl;if(!Xo&&tl){la=Wc?la:new Kl(this);var uc=vs.apply(la,ga);return uc.__actions__.push({func:Ll,args:[al],thisArg:Ri}),new ru(uc,Fl)}return cc&&Wc?vs.apply(this,ga):(uc=this.thru(al),cc?bo?uc.value()[0]:uc.value():uc)})}),zh(["pop","push","shift","sort","splice","unshift"],function(vs){var Ls=Bd[vs],Ys=/^(?:push|sort|unshift)$/.test(vs)?"tap":"thru",bo=/^(?:pop|shift)$/.test(vs);qo.prototype[vs]=function(){var Uo=arguments;if(bo&&!this.__chain__){var Xo=this.value();return Ls.apply(Fc(Xo)?Xo:[],Uo)}return this[Ys](function(la){return Ls.apply(Fc(la)?la:[],Uo)})}}),Hu(Kl.prototype,function(vs,Ls){var Ys=qo[Ls];if(Ys){var bo=Ys.name+"";Pc.call(Cf,bo)||(Cf[bo]=[]),Cf[bo].push({name:Ls,func:Ys})}}),Cf[jp(Ri,ps).name]=[{name:"wrapper",func:Ri}],Kl.prototype.clone=yh,Kl.prototype.reverse=lp,Kl.prototype.value=kp,qo.prototype.at=pl,qo.prototype.chain=_l,qo.prototype.commit=Lc,qo.prototype.next=Vl,qo.prototype.plant=Cu,qo.prototype.reverse=Oc,qo.prototype.toJSON=qo.prototype.valueOf=qo.prototype.value=mc,qo.prototype.first=qo.prototype.head,bA&&(qo.prototype[bA]=Ul),qo},ah=sA();fc?((fc.exports=ah)._=ah,tc._=ah):ll._=ah}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports;class AgencyController extends Controller{initialize(){this.onThemeInputChangeDebounced=lodashExports.debounce(()=>{var Ri,ts;let ki=this.themeInputTarget.value;ki.length>=6&&post("/admin/agencies/update_avatar_theme",{body:{theme_color:ki,agency_id:((ts=(Ri=this.themeInputTarget)==null?void 0:Ri.dataset)==null?void 0:ts.agencyId)||""},responseKind:"turbo-stream"})},500)}onThemeInputChange(){this.hasThemeInputTarget&&this.onThemeInputChangeDebounced()}}Ho(AgencyController,"targets",["themeInput"]);class AiAdvancedImageSelectController extends Controller{onSelectedModel(){if(this.selectModelTarget.value){const ki=this.selectModelTarget.value;post("/ai/image/advanced_settings_for_model",{query:{selected_model:ki},responseKind:"turbo-stream"})}}onSelectedSize(){if(this.selectSizeTarget.value&&this.selectModelTarget.value){const ki=this.selectSizeTarget.value,Ri=this.selectModelTarget.value;post("/ai/image/advanced_settings_for_model",{query:{selected_size:ki,selected_model:Ri},responseKind:"turbo-stream"})}}onInitImageStrengthChange(ki){let Ri=parseInt(ki.target.value);Ri<0||Ri>100||this.imageBlurHolderTarget.style.setProperty("--image-strength-blur",Ri)}getExistingInitImageSignedId(){var ki,Ri;return(Ri=(ki=document.querySelector("#dropzone_image"))==null?void 0:ki.dataset)==null?void 0:Ri.signedId}onSelectAspectRatio(){let ki=this.selectAspectRatioTarget.value,Ri=this.selectModelTarget.value,ts=this.getExistingInitImageSignedId();post("/ai/image/update_preview_and_values",{query:{aspect_ratio:ki,model:Ri},responseKind:"turbo-stream"}),ts&&post("/ai/image/update_init_image_preview",{query:{signed_id:this.getExistingInitImageSignedId(),aspect_ratio:ki},responseKind:"turbo-stream"})}onSelectPortraitAspectRatio(){let ki=this.selectAspectRatioTarget.value,Ri=this.getExistingInitImageSignedId();Ri&&post("/ai/video/update_portrait_image_preview",{query:{signed_id:Ri,aspect_ratio:ki},responseKind:"turbo-stream"})}onSelectClipSourceAspectRatio(){let ki=this.selectAspectRatioTarget.value,Ri=this.getExistingInitImageSignedId(),ts=window.location.pathname;Ri&&post("/ai/image/update_source_image_preview",{query:{signed_id:Ri,aspect_ratio:ki,url_path:ts},responseKind:"turbo-stream"})}onSelectedDosageType(){let ki=window.location.pathname,Ri="";if(ki.includes("/model_comparison")&&(Ri="model_comparison"),ki.includes("/prompt_party")&&(Ri="prompt_party"),this.selectDosageTypeTarget.value){const ts=this.selectDosageTypeTarget.value;post("/ai/image/update_dosage_type",{query:{selected_dosage_type:ts,category:Ri},responseKind:"turbo-stream"})}}onBeginnerDosageCountChange(ki){if(this.hasImageDosageAlertTarget){let Ri=parseInt(ki.target.value);if(Ri<0||Ri>22)return;Ri>4?this.imageDosageAlertTarget.classList.remove("d-none"):this.imageDosageAlertTarget.classList.add("d-none")}}}Ho(AiAdvancedImageSelectController,"targets",["selectModel","selectSize","selectAspectRatio","imageBlurHolder","selectDosageType","imageDosageAlert"]);class AiAspectRatioSliderController extends Controller{handleChange(ki){let Ri=ki.currentTarget.value;this.inputTarget.value=Ri;let ts=this.mappingValue[Ri];this.ratioTarget.innerText=ts.replace("x",":");const rs=document.getElementsByClassName("ai-image-placeholder"),is=ts.replace(":","x");Array.from(rs).forEach(ns=>{ns.classList.value.match(/ratio-\d{1,2}x\d{1,2}/).forEach(ss=>{ns.classList.remove(ss)}),ns.classList.add("ratio-"+is)})}}Ho(AiAspectRatioSliderController,"values",{mapping:Object}),Ho(AiAspectRatioSliderController,"targets",["ratio","input"]);const filtersFromParams=()=>{let es={},ki=new URL(window.location.href);for(const[Ri,ts]of ki.searchParams.entries()){if(Ri.includes("date"))continue;if(Ri.endsWith("[]")){let is=Ri.replace("filters","").slice(0,-2).replace("[","").replace("]","");Array.isArray(es[is])?es[is].push(ts):es[is]=[ts]}else{let is=Ri.replace("filters","").replace("[","").replace("]","");es[is]=ts}}return es},dateFromFlatpickr=es=>{if(!es)return{};let ki={};return es&&es.endDate&&(ki.to=es.endDate),es&&es.startDate&&(ki.since=es.startDate),ki};function getMetaValue$1(es){const ki=findElement$1(document.head,`meta[name='${es}']`);if(ki)return ki.getAttribute("content")}function findElement$1(es,ki){return typeof es=="string"&&(ki=es,es=document),es.querySelector(ki)}function removeElement(es){es&&es.parentNode&&es.parentNode.removeChild(es)}function insertAfter(es,ki){return ki.parentNode.insertBefore(es,ki.nextSibling)}function sleep(es){return new Promise(ki=>setTimeout(ki,es))}function formatBytes(es,ki=2){if(es===0)return"0 Bytes";const Ri=1024,ts=ki<0?0:ki,rs=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],is=Math.floor(Math.log(es)/Math.log(Ri));return parseFloat((es/Math.pow(Ri,is)).toFixed(ts))+" "+rs[is]}function isSafari(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}const isMobileDeviceMemoized=lodashExports.memoize(function(){try{return document.createEvent("TouchEvent"),!0}catch(es){return console.debug(es),!1}});function isMobileDevice(){return isMobileDeviceMemoized()}class AiAssistantController extends Controller{connect(){this.hasSortableAssistantsTarget&&this.setSortable()}toggleStatus(ki){var ns,ss,os,ls,cs,hs;const Ri=ki.target.checked;let ts=[],rs=[],is="";this.hasToggleStatusTarget&&(ts=((ss=(ns=this.toggleStatusTarget)==null?void 0:ns.dataset)==null?void 0:ss.roles)||[],rs=((ls=(os=this.toggleStatusTarget)==null?void 0:os.dataset)==null?void 0:ls.plans)||[],is=((hs=(cs=this.toggleStatusTarget)==null?void 0:cs.dataset)==null?void 0:hs.assistantId)||""),post("/admin/ai/toggle_assistant_status",{body:{disable_custom_access_setting:Ri,existing_roles:ts,existing_plans:rs,assistant_id:is},responseKind:"turbo-stream"})}onSelectedProject(){var ki,Ri;if(this.projectSelectTarget.value){const ts=this.projectSelectTarget.value;post("/admin/ai/update_selected_project_assistants",{query:{project_type:ts,assistant_id:((Ri=(ki=this.projectSelectTarget)==null?void 0:ki.dataset)==null?void 0:Ri.assistantId)||""},responseKind:"turbo-stream"})}}updateActiveList(ki){var ts,rs;ki.preventDefault();let Ri="";this.hasAssistantTarget&&(Ri=((rs=(ts=this.assistantTarget)==null?void 0:ts.dataset)==null?void 0:rs.assistantId)||""),post("/ai/assistants/update_in_use_assistant",{body:{assistant_id:Ri},responseKind:"turbo-stream"})}setSortable(){let ki=findElement$1(this.element,"#assistant-sortable-list"),ts=HSCore.components.HSSortable.collection.find(rs=>rs.$el===ki);ts||(HSCore.components.HSSortable.init(ki),ts=HSCore.components.HSSortable.collection.find(rs=>rs.$el===ki)),this.sortable=ts.$initializedEl}resort(ki){ki.stopImmediatePropagation();const rs=[...findElement$1(".js-sortable#assistant-sortable-list").children].map(is=>Number(is.getAttribute("data-in-use-assistant-id")));post("/ai/assistants/resort_active_assistants",{body:{in_use_assistant_ids:rs},responseKind:"turbo-stream"})}onSelectedResponseLength(){if(this.responseLengthSelectTarget.value){const ki=this.responseLengthSelectTarget.value;post("/ai/assistants/update_response_length",{body:{response_length:ki},responseKind:"turbo-stream"})}}}Ho(AiAssistantController,"targets",["toggleStatus","assistant","sortableAssistants","projectSelect","responseLengthSelect"]);function t$2(es,ki,Ri,ts){return new(Ri||(Ri=Promise))(function(rs,is){function ns(ls){try{os(ts.next(ls))}catch(cs){is(cs)}}function ss(ls){try{os(ts.throw(ls))}catch(cs){is(cs)}}function os(ls){var cs;ls.done?rs(ls.value):(cs=ls.value,cs instanceof Ri?cs:new Ri(function(hs){hs(cs)})).then(ns,ss)}os((ts=ts.apply(es,ki||[])).next())})}let e$3=class{constructor(){this.listeners={}}on(ki,Ri,ts){if(this.listeners[ki]||(this.listeners[ki]=new Set),this.listeners[ki].add(Ri),ts==null?void 0:ts.once){const rs=()=>{this.un(ki,rs),this.un(ki,Ri)};return this.on(ki,rs),rs}return()=>this.un(ki,Ri)}un(ki,Ri){var ts;(ts=this.listeners[ki])===null||ts===void 0||ts.delete(Ri)}once(ki,Ri){return this.on(ki,Ri,{once:!0})}unAll(){this.listeners={}}emit(ki,...Ri){this.listeners[ki]&&this.listeners[ki].forEach(ts=>ts(...Ri))}};const i$4={decode:function(es,ki){return t$2(this,void 0,void 0,function*(){const Ri=new AudioContext({sampleRate:ki});return Ri.decodeAudioData(es).finally(()=>Ri.close())})},createBuffer:function(es,ki){return typeof es[0]=="number"&&(es=[es]),function(Ri){const ts=Ri[0];if(ts.some(rs=>rs>1||rs<-1)){const rs=ts.length;let is=0;for(let ns=0;ns<rs;ns++){const ss=Math.abs(ts[ns]);ss>is&&(is=ss)}for(const ns of Ri)for(let ss=0;ss<rs;ss++)ns[ss]/=is}}(es),{duration:ki,length:es[0].length,sampleRate:es[0].length/ki,numberOfChannels:es.length,getChannelData:Ri=>es==null?void 0:es[Ri],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function s$3(es,ki){const Ri=ki.xmlns?document.createElementNS(ki.xmlns,es):document.createElement(es);for(const[ts,rs]of Object.entries(ki))if(ts==="children")for(const[is,ns]of Object.entries(ki))typeof ns=="string"?Ri.appendChild(document.createTextNode(ns)):Ri.appendChild(s$3(is,ns));else ts==="style"?Object.assign(Ri.style,rs):ts==="textContent"?Ri.textContent=rs:Ri.setAttribute(ts,rs.toString());return Ri}function n$3(es,ki,Ri){const ts=s$3(es,ki||{});return Ri==null||Ri.appendChild(ts),ts}var r$3=Object.freeze({__proto__:null,createElement:n$3,default:n$3});const o$3={fetchBlob:function(es,ki,Ri){return t$2(this,void 0,void 0,function*(){const ts=yield fetch(es,Ri);if(ts.status>=400)throw new Error(`Failed to fetch ${es}: ${ts.status} (${ts.statusText})`);return function(rs,is){t$2(this,void 0,void 0,function*(){if(!rs.body||!rs.headers)return;const ns=rs.body.getReader(),ss=Number(rs.headers.get("Content-Length"))||0;let os=0;const ls=hs=>t$2(this,void 0,void 0,function*(){os+=(hs==null?void 0:hs.length)||0;const us=Math.round(os/ss*100);is(us)}),cs=()=>t$2(this,void 0,void 0,function*(){let hs;try{hs=yield ns.read()}catch{return}hs.done||(ls(hs.value),yield cs())});cs()})}(ts.clone(),ki),ts.blob()})}};let a$3=class extends e$3{constructor(ki){super(),this.isExternalMedia=!1,ki.media?(this.media=ki.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),ki.mediaControls&&(this.media.controls=!0),ki.autoplay&&(this.media.autoplay=!0),ki.playbackRate!=null&&this.onMediaEvent("canplay",()=>{ki.playbackRate!=null&&(this.media.playbackRate=ki.playbackRate)},{once:!0})}onMediaEvent(ki,Ri,ts){return this.media.addEventListener(ki,Ri,ts),()=>this.media.removeEventListener(ki,Ri,ts)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const ki=this.getSrc();ki.startsWith("blob:")&&URL.revokeObjectURL(ki)}canPlayType(ki){return this.media.canPlayType(ki)!==""}setSrc(ki,Ri){const ts=this.getSrc();if(ki&&ts===ki)return;this.revokeSrc();const rs=Ri instanceof Blob&&(this.canPlayType(Ri.type)||!ki)?URL.createObjectURL(Ri):ki;try{this.media.src=rs}catch{this.media.src=ki}}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(ki){this.media=ki}play(){return t$2(this,void 0,void 0,function*(){return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(ki){this.media.currentTime=ki}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(ki){this.media.volume=ki}getMuted(){return this.media.muted}setMuted(ki){this.media.muted=ki}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(ki,Ri){Ri!=null&&(this.media.preservesPitch=Ri),this.media.playbackRate=ki}getMediaElement(){return this.media}setSinkId(ki){return this.media.setSinkId(ki)}},h$3=class s0 extends e$3{constructor(ki,Ri){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.subscriptions=[],this.options=ki;const ts=this.parentFromOptionsContainer(ki.container);this.parent=ts;const[rs,is]=this.initHtml();ts.appendChild(rs),this.container=rs,this.scrollContainer=is.querySelector(".scroll"),this.wrapper=is.querySelector(".wrapper"),this.canvasWrapper=is.querySelector(".canvases"),this.progressWrapper=is.querySelector(".progress"),this.cursor=is.querySelector(".cursor"),Ri&&is.appendChild(Ri),this.initEvents()}parentFromOptionsContainer(ki){let Ri;if(typeof ki=="string"?Ri=document.querySelector(ki):ki instanceof HTMLElement&&(Ri=ki),!Ri)throw new Error("Container not found");return Ri}initEvents(){const ki=Ri=>{const ts=this.wrapper.getBoundingClientRect(),rs=Ri.clientX-ts.left,is=Ri.clientY-ts.top;return[rs/ts.width,is/ts.height]};if(this.wrapper.addEventListener("click",Ri=>{const[ts,rs]=ki(Ri);this.emit("click",ts,rs)}),this.wrapper.addEventListener("dblclick",Ri=>{const[ts,rs]=ki(Ri);this.emit("dblclick",ts,rs)}),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:Ri,scrollWidth:ts,clientWidth:rs}=this.scrollContainer,is=Ri/ts,ns=(Ri+rs)/ts;this.emit("scroll",is,ns,Ri,Ri+rs)}),typeof ResizeObserver=="function"){const Ri=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{Ri().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const ki=this.parent.clientWidth;ki===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=ki,this.reRender())}initDrag(){this.subscriptions.push(function(ki,Ri,ts,rs,is=3,ns=0,ss=100){if(!ki)return()=>{};const os=matchMedia("(pointer: coarse)").matches;let ls=()=>{};const cs=hs=>{if(hs.button!==ns)return;hs.preventDefault(),hs.stopPropagation();let us=hs.clientX,As=hs.clientY,bs=!1;const ys=Date.now(),Cs=ws=>{if(ws.preventDefault(),ws.stopPropagation(),os&&Date.now()-ys<ss)return;const Ts=ws.clientX,$s=ws.clientY,Rs=Ts-us,Ps=$s-As;if(bs||Math.abs(Rs)>is||Math.abs(Ps)>is){const Qs=ki.getBoundingClientRect(),{left:Fs,top:Is}=Qs;bs||(ts==null||ts(us-Fs,As-Is),bs=!0),Ri(Rs,Ps,Ts-Fs,$s-Is),us=Ts,As=$s}},ps=ws=>{if(bs){const Ts=ws.clientX,$s=ws.clientY,Rs=ki.getBoundingClientRect(),{left:Ps,top:Qs}=Rs;rs==null||rs(Ts-Ps,$s-Qs)}ls()},ms=ws=>{ws.relatedTarget&&ws.relatedTarget!==document.documentElement||ps(ws)},fs=ws=>{bs&&(ws.stopPropagation(),ws.preventDefault())},gs=ws=>{bs&&ws.preventDefault()};document.addEventListener("pointermove",Cs),document.addEventListener("pointerup",ps),document.addEventListener("pointerout",ms),document.addEventListener("pointercancel",ms),document.addEventListener("touchmove",gs,{passive:!1}),document.addEventListener("click",fs,{capture:!0}),ls=()=>{document.removeEventListener("pointermove",Cs),document.removeEventListener("pointerup",ps),document.removeEventListener("pointerout",ms),document.removeEventListener("pointercancel",ms),document.removeEventListener("touchmove",gs),setTimeout(()=>{document.removeEventListener("click",fs,{capture:!0})},10)}};return ki.addEventListener("pointerdown",cs),()=>{ls(),ki.removeEventListener("pointerdown",cs)}}(this.wrapper,(ki,Ri,ts)=>{this.emit("drag",Math.max(0,Math.min(1,ts/this.wrapper.getBoundingClientRect().width)))},ki=>{this.isDragging=!0,this.emit("dragstart",Math.max(0,Math.min(1,ki/this.wrapper.getBoundingClientRect().width)))},ki=>{this.isDragging=!1,this.emit("dragend",Math.max(0,Math.min(1,ki/this.wrapper.getBoundingClientRect().width)))}))}getHeight(ki,Ri){var ts;const rs=((ts=this.audioData)===null||ts===void 0?void 0:ts.numberOfChannels)||1;if(ki==null)return 128;if(!isNaN(Number(ki)))return Number(ki);if(ki==="auto"){const is=this.parent.clientHeight||128;return Ri!=null&&Ri.every(ns=>!ns.overlay)?is/rs:is}return 128}initHtml(){const ki=document.createElement("div"),Ri=ki.attachShadow({mode:"open"}),ts=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return Ri.innerHTML=`
      <style${ts?` nonce="${ts}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[ki,Ri]}setOptions(ki){if(this.options.container!==ki.container){const Ri=this.parentFromOptionsContainer(ki.container);Ri.appendChild(this.container),this.parent=Ri}ki.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=ki,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(ki){this.scrollContainer.scrollLeft=ki}setScrollPercentage(ki){const{scrollWidth:Ri}=this.scrollContainer,ts=Ri*ki;this.setScroll(ts)}destroy(){var ki,Ri;this.subscriptions.forEach(ts=>ts()),this.container.remove(),(ki=this.resizeObserver)===null||ki===void 0||ki.disconnect(),(Ri=this.unsubscribeOnScroll)===null||Ri===void 0||Ri.call(this)}createDelay(ki=10){let Ri,ts;const rs=()=>{Ri&&clearTimeout(Ri),ts&&ts()};return this.timeouts.push(rs),()=>new Promise((is,ns)=>{rs(),ts=ns,Ri=setTimeout(()=>{Ri=void 0,ts=void 0,is()},ki)})}convertColorValues(ki){if(!Array.isArray(ki))return ki||"";if(ki.length<2)return ki[0]||"";const Ri=document.createElement("canvas"),ts=Ri.getContext("2d"),rs=Ri.height*(window.devicePixelRatio||1),is=ts.createLinearGradient(0,0,0,rs),ns=1/(ki.length-1);return ki.forEach((ss,os)=>{const ls=os*ns;is.addColorStop(ls,ss)}),is}getPixelRatio(){return Math.max(1,window.devicePixelRatio||1)}renderBarWaveform(ki,Ri,ts,rs){const is=ki[0],ns=ki[1]||ki[0],ss=is.length,{width:os,height:ls}=ts.canvas,cs=ls/2,hs=this.getPixelRatio(),us=Ri.barWidth?Ri.barWidth*hs:1,As=Ri.barGap?Ri.barGap*hs:Ri.barWidth?us/2:0,bs=Ri.barRadius||0,ys=os/(us+As)/ss,Cs=bs&&"roundRect"in ts?"roundRect":"rect";ts.beginPath();let ps=0,ms=0,fs=0;for(let gs=0;gs<=ss;gs++){const ws=Math.round(gs*ys);if(ws>ps){const Rs=Math.round(ms*cs*rs),Ps=Rs+Math.round(fs*cs*rs)||1;let Qs=cs-Rs;Ri.barAlign==="top"?Qs=0:Ri.barAlign==="bottom"&&(Qs=ls-Ps),ts[Cs](ps*(us+As),Qs,us,Ps,bs),ps=ws,ms=0,fs=0}const Ts=Math.abs(is[gs]||0),$s=Math.abs(ns[gs]||0);Ts>ms&&(ms=Ts),$s>fs&&(fs=$s)}ts.fill(),ts.closePath()}renderLineWaveform(ki,Ri,ts,rs){const is=ns=>{const ss=ki[ns]||ki[0],os=ss.length,{height:ls}=ts.canvas,cs=ls/2,hs=ts.canvas.width/os;ts.moveTo(0,cs);let us=0,As=0;for(let bs=0;bs<=os;bs++){const ys=Math.round(bs*hs);if(ys>us){const ps=cs+(Math.round(As*cs*rs)||1)*(ns===0?-1:1);ts.lineTo(us,ps),us=ys,As=0}const Cs=Math.abs(ss[bs]||0);Cs>As&&(As=Cs)}ts.lineTo(us,cs)};ts.beginPath(),is(0),is(1),ts.fill(),ts.closePath()}renderWaveform(ki,Ri,ts){if(ts.fillStyle=this.convertColorValues(Ri.waveColor),Ri.renderFunction)return void Ri.renderFunction(ki,ts);let rs=Ri.barHeight||1;if(Ri.normalize){const is=Array.from(ki[0]).reduce((ns,ss)=>Math.max(ns,Math.abs(ss)),0);rs=is?1/is:1}Ri.barWidth||Ri.barGap||Ri.barAlign?this.renderBarWaveform(ki,Ri,ts,rs):this.renderLineWaveform(ki,Ri,ts,rs)}renderSingleCanvas(ki,Ri,ts,rs,is,ns,ss){const os=this.getPixelRatio(),ls=document.createElement("canvas");ls.width=Math.round(ts*os),ls.height=Math.round(rs*os),ls.style.width=`${ts}px`,ls.style.height=`${rs}px`,ls.style.left=`${Math.round(is)}px`,ns.appendChild(ls);const cs=ls.getContext("2d");if(this.renderWaveform(ki,Ri,cs),ls.width>0&&ls.height>0){const hs=ls.cloneNode(),us=hs.getContext("2d");us.drawImage(ls,0,0),us.globalCompositeOperation="source-in",us.fillStyle=this.convertColorValues(Ri.progressColor),us.fillRect(0,0,ls.width,ls.height),ss.appendChild(hs)}}renderMultiCanvas(ki,Ri,ts,rs,is,ns){const ss=this.getPixelRatio(),{clientWidth:os}=this.scrollContainer,ls=ts/ss;let cs=Math.min(s0.MAX_CANVAS_WIDTH,os,ls),hs={};if(Ri.barWidth||Ri.barGap){const Cs=Ri.barWidth||.5,ps=Cs+(Ri.barGap||Cs/2);cs%ps!=0&&(cs=Math.floor(cs/ps)*ps)}const us=Cs=>{if(Cs<0||Cs>=As||hs[Cs])return;hs[Cs]=!0;const ps=Cs*cs,ms=Math.min(ls-ps,cs);if(ms<=0)return;const fs=ki.map(gs=>{const ws=Math.floor(ps/ls*gs.length),Ts=Math.floor((ps+ms)/ls*gs.length);return gs.slice(ws,Ts)});this.renderSingleCanvas(fs,Ri,ms,rs,ps,is,ns)},As=Math.ceil(ls/cs);if(!this.isScrollable){for(let Cs=0;Cs<As;Cs++)us(Cs);return}const bs=this.scrollContainer.scrollLeft/ls,ys=Math.floor(bs*As);us(ys-1),us(ys),us(ys+1),As>1&&(this.unsubscribeOnScroll=this.on("scroll",()=>{const{scrollLeft:Cs}=this.scrollContainer,ps=Math.floor(Cs/ls*As);Object.keys(hs).length>s0.MAX_NODES&&(is.innerHTML="",ns.innerHTML="",hs={}),us(ps-1),us(ps),us(ps+1)}))}renderChannel(ki,Ri,ts,rs){var{overlay:is}=Ri,ns=function(cs,hs){var us={};for(var As in cs)Object.prototype.hasOwnProperty.call(cs,As)&&hs.indexOf(As)<0&&(us[As]=cs[As]);if(cs!=null&&typeof Object.getOwnPropertySymbols=="function"){var bs=0;for(As=Object.getOwnPropertySymbols(cs);bs<As.length;bs++)hs.indexOf(As[bs])<0&&Object.prototype.propertyIsEnumerable.call(cs,As[bs])&&(us[As[bs]]=cs[As[bs]])}return us}(Ri,["overlay"]);const ss=document.createElement("div"),os=this.getHeight(ns.height,ns.splitChannels);ss.style.height=`${os}px`,is&&rs>0&&(ss.style.marginTop=`-${os}px`),this.canvasWrapper.style.minHeight=`${os}px`,this.canvasWrapper.appendChild(ss);const ls=ss.cloneNode();this.progressWrapper.appendChild(ls),this.renderMultiCanvas(ki,ns,ts,os,ss,ls)}render(ki){return t$2(this,void 0,void 0,function*(){var Ri;this.timeouts.forEach(os=>os()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const ts=this.getPixelRatio(),rs=this.scrollContainer.clientWidth,is=Math.ceil(ki.duration*(this.options.minPxPerSec||0));this.isScrollable=is>rs;const ns=this.options.fillParent&&!this.isScrollable,ss=(ns?rs:is)*ts;if(this.wrapper.style.width=ns?"100%":`${is}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=ki,this.emit("render"),this.options.splitChannels)for(let os=0;os<ki.numberOfChannels;os++){const ls=Object.assign(Object.assign({},this.options),(Ri=this.options.splitChannels)===null||Ri===void 0?void 0:Ri[os]);this.renderChannel([ki.getChannelData(os)],ls,ss,os)}else{const os=[ki.getChannelData(0)];ki.numberOfChannels>1&&os.push(ki.getChannelData(1)),this.renderChannel(os,this.options,ss,0)}Promise.resolve().then(()=>this.emit("rendered"))})}reRender(){var ki;if((ki=this.unsubscribeOnScroll)===null||ki===void 0||ki.call(this),delete this.unsubscribeOnScroll,!this.audioData)return;const{scrollWidth:Ri}=this.scrollContainer,{right:ts}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&Ri!==this.scrollContainer.scrollWidth){const{right:rs}=this.progressWrapper.getBoundingClientRect();let is=rs-ts;is*=2,is=is<0?Math.floor(is):Math.ceil(is),is/=2,this.scrollContainer.scrollLeft+=is}}zoom(ki){this.options.minPxPerSec=ki,this.reRender()}scrollIntoView(ki,Ri=!1){const{scrollLeft:ts,scrollWidth:rs,clientWidth:is}=this.scrollContainer,ns=ki*rs,ss=ts,os=ts+is,ls=is/2;if(this.isDragging)ns+30>os?this.scrollContainer.scrollLeft+=30:ns-30<ss&&(this.scrollContainer.scrollLeft-=30);else{(ns<ss||ns>os)&&(this.scrollContainer.scrollLeft=ns-(this.options.autoCenter?ls:0));const cs=ns-ts-ls;Ri&&this.options.autoCenter&&cs>0&&(this.scrollContainer.scrollLeft+=Math.min(cs,10))}{const cs=this.scrollContainer.scrollLeft,hs=cs/rs,us=(cs+is)/rs;this.emit("scroll",hs,us,cs,cs+is)}}renderProgress(ki,Ri){if(isNaN(ki))return;const ts=100*ki;this.canvasWrapper.style.clipPath=`polygon(${ts}% 0, 100% 0, 100% 100%, ${ts}% 100%)`,this.progressWrapper.style.width=`${ts}%`,this.cursor.style.left=`${ts}%`,this.cursor.style.transform=`translateX(-${Math.round(ts)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(ki,Ri)}exportImage(ki,Ri,ts){return t$2(this,void 0,void 0,function*(){const rs=this.canvasWrapper.querySelectorAll("canvas");if(!rs.length)throw new Error("No waveform data");if(ts==="dataURL"){const is=Array.from(rs).map(ns=>ns.toDataURL(ki,Ri));return Promise.resolve(is)}return Promise.all(Array.from(rs).map(is=>new Promise((ns,ss)=>{is.toBlob(os=>{os?ns(os):ss(new Error("Could not export image"))},ki,Ri)})))})}};h$3.MAX_CANVAS_WIDTH=8e3,h$3.MAX_NODES=10;let l$3=class extends e$3{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}},d$5=class extends e$3{constructor(ki=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=ki,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return t$2(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(ki){if(this.currentSrc=ki,this._duration=void 0,!ki)return this.buffer=null,void this.emit("emptied");fetch(ki).then(Ri=>{if(Ri.status>=400)throw new Error(`Failed to fetch ${ki}: ${Ri.status} (${Ri.statusText})`);return Ri.arrayBuffer()}).then(Ri=>this.currentSrc!==ki?null:this.audioContext.decodeAudioData(Ri)).then(Ri=>{this.currentSrc===ki&&(this.buffer=Ri,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var ki;if(!this.paused)return;this.paused=!1,(ki=this.bufferNode)===null||ki===void 0||ki.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let Ri=this.playedDuration*this._playbackRate;Ri>=this.duration&&(Ri=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,Ri),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var ki;this.paused=!0,(ki=this.bufferNode)===null||ki===void 0||ki.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return t$2(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(ki){var Ri,ts;const rs=ki-this.currentTime;(Ri=this.bufferNode)===null||Ri===void 0||Ri.stop(this.audioContext.currentTime+rs),(ts=this.bufferNode)===null||ts===void 0||ts.addEventListener("ended",()=>{this.bufferNode=null,this.pause()},{once:!0})}setSinkId(ki){return t$2(this,void 0,void 0,function*(){return this.audioContext.setSinkId(ki)})}get playbackRate(){return this._playbackRate}set playbackRate(ki){this._playbackRate=ki,this.bufferNode&&(this.bufferNode.playbackRate.value=ki)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(ki){const Ri=!this.paused;Ri&&this._pause(),this.playedDuration=ki/this._playbackRate,Ri&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var ki,Ri;return(ki=this._duration)!==null&&ki!==void 0?ki:((Ri=this.buffer)===null||Ri===void 0?void 0:Ri.duration)||0}set duration(ki){this._duration=ki}get volume(){return this.gainNode.gain.value}set volume(ki){this.gainNode.gain.value=ki,this.emit("volumechange")}get muted(){return this._muted}set muted(ki){this._muted!==ki&&(this._muted=ki,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(ki){return/^(audio|video)\//.test(ki)}getGainNode(){return this.gainNode}getChannelData(){const ki=[];if(!this.buffer)return ki;const Ri=this.buffer.numberOfChannels;for(let ts=0;ts<Ri;ts++)ki.push(this.buffer.getChannelData(ts));return ki}};const c$5={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};let u$4=class ty extends a$3{static create(ki){return new ty(ki)}constructor(ki){const Ri=ki.media||(ki.backend==="WebAudio"?new d$5:void 0);super({media:Ri,mediaControls:ki.mediaControls,autoplay:ki.autoplay,playbackRate:ki.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},c$5,ki),this.timer=new l$3;const ts=Ri?void 0:this.getMediaElement();this.renderer=new h$3(this.options,ts),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const rs=this.options.url||this.getSrc()||"";Promise.resolve().then(()=>{this.emit("init");const{peaks:is,duration:ns}=this.options;(rs||is&&ns)&&this.load(rs,is,ns).catch(()=>null)})}updateProgress(ki=this.getCurrentTime()){return this.renderer.renderProgress(ki/this.getDuration(),this.isPlaying()),ki}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const ki=this.updateProgress();this.emit("timeupdate",ki),this.emit("audioprocess",ki)}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const ki=this.updateProgress();this.emit("timeupdate",ki)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}),this.onMediaEvent("error",ki=>{this.emit("error",ki.error)}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(ki,Ri)=>{this.options.interact&&(this.seekTo(ki),this.emit("interaction",ki*this.getDuration()),this.emit("click",ki,Ri))}),this.renderer.on("dblclick",(ki,Ri)=>{this.emit("dblclick",ki,Ri)}),this.renderer.on("scroll",(ki,Ri,ts,rs)=>{const is=this.getDuration();this.emit("scroll",ki*is,Ri*is,ts,rs)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}),this.renderer.on("dragstart",ki=>{this.emit("dragstart",ki)}),this.renderer.on("dragend",ki=>{this.emit("dragend",ki)}));{let ki;this.subscriptions.push(this.renderer.on("drag",Ri=>{if(!this.options.interact)return;let ts;this.renderer.renderProgress(Ri),clearTimeout(ki),this.isPlaying()?ts=0:this.options.dragToSeek===!0?ts=200:typeof this.options.dragToSeek=="object"&&this.options.dragToSeek!==void 0&&(ts=this.options.dragToSeek.debounceTime),ki=setTimeout(()=>{this.seekTo(Ri)},ts),this.emit("interaction",Ri*this.getDuration()),this.emit("drag",Ri)}))}}initPlugins(){var ki;!((ki=this.options.plugins)===null||ki===void 0)&&ki.length&&this.options.plugins.forEach(Ri=>{this.registerPlugin(Ri)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(ki=>ki()),this.mediaSubscriptions=[]}setOptions(ki){this.options=Object.assign({},this.options,ki),this.renderer.setOptions(this.options),ki.audioRate&&this.setPlaybackRate(ki.audioRate),ki.mediaControls!=null&&(this.getMediaElement().controls=ki.mediaControls)}registerPlugin(ki){return ki._init(this),this.plugins.push(ki),this.subscriptions.push(ki.once("destroy",()=>{this.plugins=this.plugins.filter(Ri=>Ri!==ki)})),ki}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(ki){return this.renderer.setScroll(ki)}setScrollTime(ki){const Ri=ki/this.getDuration();this.renderer.setScrollPercentage(Ri)}getActivePlugins(){return this.plugins}loadAudio(ki,Ri,ts,rs){return t$2(this,void 0,void 0,function*(){var is;if(this.emit("load",ki),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!Ri&&!ts){const ss=this.options.fetchParams||{};window.AbortController&&!ss.signal&&(this.abortController=new AbortController,ss.signal=(is=this.abortController)===null||is===void 0?void 0:is.signal);const os=ls=>this.emit("loading",ls);Ri=yield o$3.fetchBlob(ki,os,ss)}this.setSrc(ki,Ri);const ns=yield new Promise(ss=>{const os=rs||this.getDuration();os?ss(os):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",()=>ss(this.getDuration()),{once:!0}))});if(!ki&&!Ri){const ss=this.getMediaElement();ss instanceof d$5&&(ss.duration=ns)}if(ts)this.decodedData=i$4.createBuffer(ts,ns||0);else if(Ri){const ss=yield Ri.arrayBuffer();this.decodedData=yield i$4.decode(ss,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(ki,Ri,ts){return t$2(this,void 0,void 0,function*(){try{return yield this.loadAudio(ki,void 0,Ri,ts)}catch(rs){throw this.emit("error",rs),rs}})}loadBlob(ki,Ri,ts){return t$2(this,void 0,void 0,function*(){try{return yield this.loadAudio("",ki,Ri,ts)}catch(rs){throw this.emit("error",rs),rs}})}zoom(ki){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(ki),this.emit("zoom",ki)}getDecodedData(){return this.decodedData}exportPeaks({channels:ki=2,maxLength:Ri=8e3,precision:ts=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const rs=Math.min(ki,this.decodedData.numberOfChannels),is=[];for(let ns=0;ns<rs;ns++){const ss=this.decodedData.getChannelData(ns),os=[],ls=ss.length/Ri;for(let cs=0;cs<Ri;cs++){const hs=ss.slice(Math.floor(cs*ls),Math.ceil((cs+1)*ls));let us=0;for(let As=0;As<hs.length;As++){const bs=hs[As];Math.abs(bs)>Math.abs(us)&&(us=bs)}os.push(Math.round(us*ts)/ts)}is.push(os)}return is}getDuration(){let ki=super.getDuration()||0;return ki!==0&&ki!==1/0||!this.decodedData||(ki=this.decodedData.duration),ki}toggleInteraction(ki){this.options.interact=ki}setTime(ki){super.setTime(ki),this.updateProgress(ki),this.emit("timeupdate",ki)}seekTo(ki){const Ri=this.getDuration()*ki;this.setTime(Ri)}playPause(){return t$2(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(ki){this.setTime(this.getCurrentTime()+ki)}empty(){this.load("",[[0]],.001)}setMediaElement(ki){this.unsubscribePlayerEvents(),super.setMediaElement(ki),this.initPlayerEvents()}exportImage(){return t$2(this,arguments,void 0,function*(ki="image/png",Ri=1,ts="dataURL"){return this.renderer.exportImage(ki,Ri,ts)})}destroy(){var ki;this.emit("destroy"),(ki=this.abortController)===null||ki===void 0||ki.abort(),this.plugins.forEach(Ri=>Ri.destroy()),this.subscriptions.forEach(Ri=>Ri()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}};u$4.BasePlugin=class extends e$3{constructor(es){super(),this.subscriptions=[],this.options=es}onInit(){}_init(es){this.wavesurfer=es,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(es=>es())}},u$4.dom=r$3;var src={exports:{}};(function(es,ki){(function(Ri,ts){es.exports=ts(),es.exports.default=es.exports})(commonjsGlobal,function(){var Ri=function(){this.listeners={},this.registerListener=function(rs,is,ns){var ss=rs.constructor.name;ns=this.validateNumber(ns||"any"),ss!=="Array"&&(rs=[rs]),rs.forEach(function(os){if(os.constructor.name!=="String")throw new Error("Only `String` and array of `String` are accepted for the event names!");ts.listeners[os]=ts.listeners[os]||[],ts.listeners[os].push({callback:is,number:ns})})},this.validateNumber=function(rs){var is=rs.constructor.name;if(is==="Number")return rs;if(is==="String"&&rs.toLowerCase()==="any")return"any";throw new Error("Only `Number` and `any` are accepted in the number of possible executions!")},this.toBeRemoved=function(rs){var is=rs.number;return rs.execution=rs.execution||0,rs.execution++,!(is==="any"||rs.execution<is)};var ts=this;return{on:function(rs,is){ts.registerListener.bind(ts)(rs,is,"any")},once:function(rs,is){ts.registerListener.bind(ts)(rs,is,1)},exactly:function(rs,is,ns){ts.registerListener.bind(ts)(is,ns,rs)},die:function(rs){delete ts.listeners[rs]},off:function(rs){this.die(rs)},detach:function(rs,is){if(is===void 0)return ts.listeners[rs]=[],!0;for(var ns in ts.listeners[rs])if(ts.listeners[rs].hasOwnProperty(ns)&&ts.listeners[rs][ns].callback===is)return ts.listeners[rs].splice(ns,1),this.detach(rs,is);return!0},detachAll:function(){for(var rs in ts.listeners)ts.listeners.hasOwnProperty(rs)&&this.detach(rs)},emit:function(rs,is){var ns=[];for(var ss in ts.listeners)if(ts.listeners.hasOwnProperty(ss)&&(ss===rs&&Array.prototype.push.apply(ns,ts.listeners[ss]),ss.indexOf("*")>=0)){var os=ss.replace(/\*\*/,"([^.]+.?)+");os=os.replace(/\*/g,"[^.]+");var ls=rs.match(os);ls&&rs===ls[0]&&Array.prototype.push.apply(ns,ts.listeners[ss])}var cs=arguments;is=is||this,ns.forEach(function(hs,us){var As=hs.callback;hs.number,is&&(As=As.bind(is));var bs=[];Object.keys(cs).map(function(ys){ys>1&&bs.push(cs[ys])}),ts.toBeRemoved(hs)&&ts.listeners[rs].splice(us,1),As.apply(null,bs)})}}};return Ri})})(src);var srcExports=src.exports;const EventBus=getDefaultExportFromCjs(srcExports),eventBus=new EventBus;function subscribe(es,ki){return eventBus.on(es,ki),ki}function unsubscribe(es,ki){eventBus.detach(es,ki)}function emit(es,ki){eventBus.emit(es,null,ki)}function subscribeAll(es,ki){let Ri=lodashExports.mapValues(ki,(rs,is)=>subscribe(is,rs.bind(es)));function ts(){Object.entries(Ri).forEach(([rs,is])=>{unsubscribe(rs,is)})}return ts}class AiAudioController extends Controller{constructor(){super(...arguments);Ho(this,"voiceOptionsShown",!1);Ho(this,"historiesShown",!1);Ho(this,"textToSpeechOptionShown",!1);Ho(this,"speechToSpeechOptionShown",!1)}connect(){const Ri=localStorage.getItem("audio_flyout_tab");if(this.hasVoiceGenerateButtonTarget&&this.hasNameTarget&&this.hasDescriptionTarget&&!this.validateVoiceCloning()&&this.voiceGenerateButtonTarget.setAttribute("disabled",!0),document.addEventListener("DOMContentLoaded",()=>{this.hasScriptInputTarget&&!this.scriptInputTarget.value&&(this.scriptInputTarget.value=localStorage.getItem("last_audio_script"),emit("ai-audio-script-set")),(!Ri||Ri==="voice_options")&&(this.showVoiceOptions(),this.hideHistories()),Ri==="histories"&&(this.showHistories(),this.hideVoiceOptions()),this.speechOptionValue=="speech_to_speech"?this.hideTextToSpeechOption():this.hideSpeechToSpeechOption()}),this.waveformContainerValue&&this.previewUrlValue){const ts={root:null,rootMargin:"0px",threshold:.1};this.intersectionObserver=new IntersectionObserver(()=>{console.log("waveformContainerValue VIVISBLE",this.waveformContainerValue,this.previewUrlValue),this.createWaveSurfer(this.waveformContainerValue,this.previewUrlValue)},ts),this.intersectionObserver.observe(this.element)}this.stopSubscription=subscribe("stopAllAudioPlayers",this.stopWS.bind(this))}disconnect(){unsubscribe("stopAllAudioPlayers",this.stopSubscription)}validateVoiceCloning(){var is,ns;const Ri=this.nameTarget.value.trim(),ts=this.descriptionTarget.value.trim(),rs=((ns=(is=this.voiceGenerateButtonTarget)==null?void 0:is.dataset)==null?void 0:ns.attachedMediaCount)||0;return Ri&&ts&&Ri.length>=1&&ts.length>=1&&rs>0}validateForm(){this.hasVoiceGenerateButtonTarget&&(this.validateVoiceCloning()?this.voiceGenerateButtonTarget.removeAttribute("disabled"):this.voiceGenerateButtonTarget.setAttribute("disabled",!0))}showVoiceOptions(Ri){Ri==null||Ri.preventDefault(),this.voiceOptionsShown=!0,localStorage.setItem("audio_flyout_tab","voice_options"),this.hasVoiceOptionsTarget&&this.voiceOptionsTarget.classList.remove("d-none"),this.hasVoiceOptionsButtonTarget&&this.voiceOptionsButtonTarget.classList.add("active"),this.hideHistories()}showHistories(Ri){Ri==null||Ri.preventDefault(),this.historiesShown=!0,localStorage.setItem("audio_flyout_tab","histories"),this.hasHistoriesTarget&&this.historiesTarget.classList.remove("d-none"),this.hasHistoriesButtonTarget&&this.historiesButtonTarget.classList.add("active"),this.hideVoiceOptions()}hideVoiceOptions(){this.voiceOptionsShown=!1,this.hasVoiceOptionsTarget&&this.voiceOptionsTarget.classList.add("d-none"),this.hasVoiceOptionsButtonTarget&&this.voiceOptionsButtonTarget.classList.remove("active")}hideHistories(){this.historiesShown=!1,this.hasHistoriesTarget&&this.historiesTarget.classList.add("d-none"),this.hasHistoriesButtonTarget&&this.historiesButtonTarget.classList.remove("active")}hideTextToSpeechOption(){this.textToSpeechOptionShown=!1,this.hasTextToSpeechOptionTarget&&this.textToSpeechOptionTarget.classList.add("d-none")}hideSpeechToSpeechOption(){this.speechToSpeechOptionShown=!1,this.hasSpeechToSpeechOptionTarget&&this.speechToSpeechOptionTarget.classList.add("d-none")}showTextToSpeechOption(Ri){Ri.preventDefault(),post("/ai/audio/update_speech_option",{body:{speech_option:"text_to_speech"},responseKind:"turbo-stream"}),this.textToSpeechOptionShown=!0,this.hasTextToSpeechOptionTarget&&this.textToSpeechOptionTarget.classList.remove("d-none"),this.hideSpeechToSpeechOption()}showSpeechToSpeechOption(Ri){Ri.preventDefault(),post("/ai/audio/update_speech_option",{body:{speech_option:"speech_to_speech"},responseKind:"turbo-stream"}),this.speechToSpeechOptionShown=!0,this.hasSpeechToSpeechOptionTarget&&this.speechToSpeechOptionTarget.classList.remove("d-none"),this.hideTextToSpeechOption()}updateSpeakerDetails(){if(this.speakerTarget.value){const Ri=JSON.parse(this.speakerTarget.value);post("/ai/audio/selected_speaker",{body:{preview_url:Ri.preview_url,voice_id:Ri.voice_id},responseKind:"turbo-stream"})}}checkSelectedModel(){this.hasVoiceModelTarget&&this.voiceModelTarget.value&&post("/ai/audio/selected_model",{body:{model_id:this.voiceModelTarget.value},responseKind:"turbo-stream"})}onScriptInputChange(Ri){const ts=Ri.currentTarget.value;localStorage.setItem("last_audio_script",ts)}deleteAudio(Ri){var ts,rs;if(Ri.preventDefault(),this.hasDeleteAudioTarget){const is=(rs=(ts=this.deleteAudioTarget)==null?void 0:ts.dataset)==null?void 0:rs.audioId;post("/ai/audio/delete_audio_history",{body:{audio_id:is},responseKind:"turbo-stream"})}}selectVoice(){var rs,is,ns,ss;let Ri="",ts="";this.hasSelectedVoiceTarget&&(Ri=(is=(rs=this.selectedVoiceTarget)==null?void 0:rs.dataset)==null?void 0:is.voiceData,ts=((ss=(ns=this.selectedVoiceTarget)==null?void 0:ns.dataset)==null?void 0:ss.voiceId)||"",post("/ai/audio/update_selected_voice",{body:{voice:Ri,voice_id:ts},responseKind:"turbo-stream"}))}moveToVerifyVoice(Ri){var ts,rs;if(Ri.preventDefault(),this.hasMoveToVerifyVoiceButtonTarget){const is=((rs=(ts=this.moveToVerifyVoiceButtonTarget)==null?void 0:ts.dataset)==null?void 0:rs.voiceId)||"";post("/ai/audio/show_verify_voice_step",{body:{voice_id:is},responseKind:"turbo-stream"})}}moveToDescribeVoice(Ri){var ts,rs;if(Ri.preventDefault(),this.hasMoveToDescribeVoiceButtonTarget){const is=((rs=(ts=this.moveToDescribeVoiceButtonTarget)==null?void 0:ts.dataset)==null?void 0:rs.voiceId)||"";post("/ai/audio/show_describe_voice_step",{body:{voice_id:is},responseKind:"turbo-stream"})}}deleteVoice(Ri){var ts,rs;if(Ri.preventDefault(),this.hasDeleteVoiceTarget){const is=(rs=(ts=this.deleteVoiceTarget)==null?void 0:ts.dataset)==null?void 0:rs.voiceId;post("/ai/audio/delete_voice",{body:{voice_id:is},responseKind:"turbo-stream"})}}shareVoice(Ri){var ts,rs;if(Ri.preventDefault(),this.hasShareVoiceTarget&&this.hasVoiceRecipientInputTarget){const is=(rs=(ts=this.shareVoiceTarget)==null?void 0:ts.dataset)==null?void 0:rs.voiceId,ns=this.voiceRecipientInputTarget.value;ns.length<1?this.shareVoiceTarget.setAttribute("disabled",!0):this.shareVoiceTarget.removeAttribute("disabled"),post("/ai/audio/share_voice",{body:{voice_id:is,recipient_email:ns},responseKind:"turbo-stream"})}}cancelSharedVoiceAction(Ri){var ts,rs;if(Ri.preventDefault(),this.hasCancelSharedVoiceActionTarget){const is=(rs=(ts=this.cancelSharedVoiceActionTarget)==null?void 0:ts.dataset)==null?void 0:rs.sharedVoiceId;post("/ai/audio/cancel_shared_voice_action",{body:{shared_voice_id:is},responseKind:"turbo-stream"})}}confirmDeleteSharedVoice(Ri){var ts,rs;if(Ri.preventDefault(),this.hasConfirmDeleteSharedVoiceTarget){const is=(rs=(ts=this.confirmDeleteSharedVoiceTarget)==null?void 0:ts.dataset)==null?void 0:rs.sharedVoiceId;post("/ai/audio/confirm_delete_shared_voice",{body:{shared_voice_id:is},responseKind:"turbo-stream"})}}deleteSharedVoice(Ri){var ts,rs;if(Ri.preventDefault(),this.hasDeleteSharedVoiceTarget){const is=(rs=(ts=this.deleteSharedVoiceTarget)==null?void 0:ts.dataset)==null?void 0:rs.sharedVoiceId;post("/ai/audio/delete_shared_voice",{body:{shared_voice_id:is},responseKind:"turbo-stream"})}}addVoiceToList(){var os,ls,cs,hs,us,As,bs,ys,Cs,ps,ms,fs;let Ri="",ts="",rs="",is="",ns="",ss="";this.hasAddVoiceToListTarget&&(Ri=((ls=(os=this.addVoiceToListTarget)==null?void 0:os.dataset)==null?void 0:ls.voiceId)||"",ts=((hs=(cs=this.addVoiceToListTarget)==null?void 0:cs.dataset)==null?void 0:hs.referenceId)||"",rs=((As=(us=this.addVoiceToListTarget)==null?void 0:us.dataset)==null?void 0:As.ownerId)||"",is=((ys=(bs=this.addVoiceToListTarget)==null?void 0:bs.dataset)==null?void 0:ys.speakerName)||"",ns=((ps=(Cs=this.addVoiceToListTarget)==null?void 0:Cs.dataset)==null?void 0:ps.category)||"",ss=((fs=(ms=this.addVoiceToListTarget)==null?void 0:ms.dataset)==null?void 0:fs.isAdmin)||""),ss==="true"?post("/admin/ai/add_shared_voice_to_list",{body:{reference_id:ts,speaker_name:is,owner_id:rs,voice_id:Ri,category:ns},responseKind:"turbo-stream"}):post("/ai/audio/update_in_use_voice",{body:{voice_id:Ri,reference_id:ts,category:ns,action_type:"add_to_list"},responseKind:"turbo-stream"})}removeVoiceFromList(){var os,ls,cs,hs,us,As,bs,ys,Cs,ps,ms,fs;let Ri="",ts="",rs="",is="",ns="",ss="";this.hasRemoveVoiceFromListTarget&&(ts=((ls=(os=this.removeVoiceFromListTarget)==null?void 0:os.dataset)==null?void 0:ls.voiceId)||"",Ri=((hs=(cs=this.removeVoiceFromListTarget)==null?void 0:cs.dataset)==null?void 0:hs.referenceId)||"",rs=((As=(us=this.removeVoiceFromListTarget)==null?void 0:us.dataset)==null?void 0:As.ownerId)||"",is=((ys=(bs=this.removeVoiceFromListTarget)==null?void 0:bs.dataset)==null?void 0:ys.speakerName)||"",ns=((ps=(Cs=this.removeVoiceFromListTarget)==null?void 0:Cs.dataset)==null?void 0:ps.category)||"",ss=((fs=(ms=this.removeVoiceFromListTarget)==null?void 0:ms.dataset)==null?void 0:fs.isAdmin)||""),ss==="true"?post("/admin/ai/remove_shared_voice_from_list",{body:{reference_id:Ri,speaker_name:is,owner_id:rs,voice_id:ts,category:ns},responseKind:"turbo-stream"}):post("/ai/audio/update_in_use_voice",{body:{voice_id:ts,reference_id:Ri,category:ns,action_type:"remove_from_list"},responseKind:"turbo-stream"})}createWaveSurfer(Ri,ts){if(this.hasCreatedWaveSurfer)return;this.hasCreatedWaveSurfer=!0;const rs=u$4.create({container:`#${Ri}`,waveColor:"#ED2276",progressColor:"#CB115E",url:ts,barWidth:2,barGap:1,height:25}),is=Ri.split("-").pop();rs.on("timeupdate",()=>{this.hasTimestampTarget&&(this.timestampTarget.textContent=`${this.toHHMMSS(rs.getCurrentTime())} / ${this.toHHMMSS(rs.getDuration())}`)}),rs.on("interaction",()=>{rs.playPause()}),rs.on("finish",()=>{var ns,ss,os,ls;this.hasTimestampTarget&&(this.timestampTarget.textContent=`00:00:00 / ${this.toHHMMSS(rs.getDuration())}`),(ss=(ns=document.getElementById(`waveform-play-btn-${is}`))==null?void 0:ns.classList)==null||ss.remove("d-none"),(ls=(os=document.getElementById(`waveform-stop-btn-${is}`))==null?void 0:os.classList)==null||ls.add("d-none")})}playWS(){var is,ns,ss,os;emit("stopAllAudioPlayers");const ts=this.waveformContainerValue.split("-").pop();let rs=this.getWaveSurferAudioEl();rs&&((ns=(is=document.querySelector(`#waveform-play-btn-${ts}`))==null?void 0:is.classList)==null||ns.add("d-none"),(os=(ss=document.querySelector(`#waveform-stop-btn-${ts}`))==null?void 0:ss.classList)==null||os.remove("d-none"),rs.play())}getWaveSurferAudioEl(){var ts,rs,is;const Ri=this.waveformContainerValue;return(is=(rs=(ts=document.querySelector(`#${Ri}`))==null?void 0:ts.querySelector("div"))==null?void 0:rs.shadowRoot)==null?void 0:is.querySelector("audio")}stopWS(){var rs,is,ns,ss,os,ls;const Ri=this.waveformContainerValue;if(!Ri)return;const ts=Ri.split("-").pop();(rs=document.getElementById(`waveform-play-btn-${ts}`))==null||rs.classList.remove("d-none"),(is=document.getElementById(`waveform-stop-btn-${ts}`))==null||is.classList.add("d-none"),(ls=(os=(ss=(ns=document.querySelector(`#${Ri}`))==null?void 0:ns.querySelector("div"))==null?void 0:ss.shadowRoot)==null?void 0:os.querySelector("audio"))==null||ls.pause()}toHHMMSS(Ri){let ts=parseInt(Ri,10),rs=Math.floor(ts/3600).toString().padStart(2,"0"),is=Math.floor((ts-rs*3600)/60).toString().padStart(2,"0"),ns=ts-rs*3600-(is*60).toString().padStart(2,"0");return`${rs}:${is}:${ns}`}onSelectedLanguage(){var ts,rs;const Ri=((rs=(ts=this.selectLanguageTarget)==null?void 0:ts.dataset)==null?void 0:rs.isAdmin)||"";if(this.selectLanguageTarget.value){const is=this.selectLanguageTarget.value;post("/ai/audio/update_voice_accent",{body:{selected_language:is,is_admin:Ri},responseKind:"turbo-stream"})}}resetVoiceSettings(){this.hasResetVoiceSettingsTarget&&post("/ai/audio/reset_voice_settings",{responseKind:"turbo-stream"})}toggleVoiceAsDefault(){var ss,os,ls,cs,hs,us,As,bs,ys,Cs;let Ri="",ts="",rs="",is="",ns="";this.hasToggleVoiceAsDefaultTarget&&(ts=((os=(ss=this.toggleVoiceAsDefaultTarget)==null?void 0:ss.dataset)==null?void 0:os.voiceId)||"",Ri=((cs=(ls=this.toggleVoiceAsDefaultTarget)==null?void 0:ls.dataset)==null?void 0:cs.referenceId)||"",rs=((us=(hs=this.toggleVoiceAsDefaultTarget)==null?void 0:hs.dataset)==null?void 0:us.ownerId)||"",is=((bs=(As=this.toggleVoiceAsDefaultTarget)==null?void 0:As.dataset)==null?void 0:bs.speakerName)||"",ns=((Cs=(ys=this.toggleVoiceAsDefaultTarget)==null?void 0:ys.dataset)==null?void 0:Cs.category)||""),post("/admin/ai/toggle_voice_as_default",{body:{reference_id:Ri,speaker_name:is,owner_id:rs,voice_id:ts,category:ns},responseKind:"turbo-stream"})}}Ho(AiAudioController,"targets",["select","speaker","voiceModel","scriptInput","audioButton","deleteAudio","voiceOptions","histories","voiceOptionsButton","historiesButton","audioClip","progress","playPause","play","pause","timestamp","textToSpeechOption","speechToSpeechOption","textToSpeech","speechToSpeech","selectedVoice","voiceGenerateButton","name","description","deleteVoice","voiceRecipientInput","shareVoice","confirmDeleteSharedVoice","deleteSharedVoice","cancelSharedVoiceAction","addVoiceToList","removeVoiceFromList","moveToVerifyVoiceButton","moveToDescribeVoiceButton","selectLanguage","resetVoiceSettings","toggleVoiceAsDefault"]),Ho(AiAudioController,"values",{speechOption:String,previewUrl:String,waveformContainer:String,historyId:Number,min:Number,max:Number});const createAddUniqueNumber=es=>ki=>{const Ri=es(ki);return ki.add(Ri),Ri},createCache=es=>(ki,Ri)=>(es.set(ki,Ri),Ri),MAX_SAFE_INTEGER$1=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,TWO_TO_THE_POWER_OF_TWENTY_NINE=536870912,TWO_TO_THE_POWER_OF_THIRTY=TWO_TO_THE_POWER_OF_TWENTY_NINE*2,createGenerateUniqueNumber=(es,ki)=>Ri=>{const ts=ki.get(Ri);let rs=ts===void 0?Ri.size:ts<TWO_TO_THE_POWER_OF_THIRTY?ts+1:0;if(!Ri.has(rs))return es(Ri,rs);if(Ri.size<TWO_TO_THE_POWER_OF_TWENTY_NINE){for(;Ri.has(rs);)rs=Math.floor(Math.random()*TWO_TO_THE_POWER_OF_THIRTY);return es(Ri,rs)}if(Ri.size>MAX_SAFE_INTEGER$1)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;Ri.has(rs);)rs=Math.floor(Math.random()*MAX_SAFE_INTEGER$1);return es(Ri,rs)},LAST_NUMBER_WEAK_MAP=new WeakMap,cache=createCache(LAST_NUMBER_WEAK_MAP),generateUniqueNumber=createGenerateUniqueNumber(cache,LAST_NUMBER_WEAK_MAP),addUniqueNumber=createAddUniqueNumber(generateUniqueNumber),isMessagePort=es=>typeof es.start=="function",PORT_MAP=new WeakMap,extendBrokerImplementation=es=>({...es,connect:({call:ki})=>async()=>{const{port1:Ri,port2:ts}=new MessageChannel,rs=await ki("connect",{port:Ri},[Ri]);return PORT_MAP.set(ts,rs),ts},disconnect:({call:ki})=>async Ri=>{const ts=PORT_MAP.get(Ri);if(ts===void 0)throw new Error("The given port is not connected.");await ki("disconnect",{portId:ts})},isSupported:({call:ki})=>()=>ki("isSupported")}),ONGOING_REQUESTS=new WeakMap,createOrGetOngoingRequests=es=>{if(ONGOING_REQUESTS.has(es))return ONGOING_REQUESTS.get(es);const ki=new Map;return ONGOING_REQUESTS.set(es,ki),ki},createBroker=es=>{const ki=extendBrokerImplementation(es);return Ri=>{const ts=createOrGetOngoingRequests(Ri);Ri.addEventListener("message",({data:ss})=>{const{id:os}=ss;if(os!==null&&ts.has(os)){const{reject:ls,resolve:cs}=ts.get(os);ts.delete(os),ss.error===void 0?cs(ss.result):ls(new Error(ss.error.message))}}),isMessagePort(Ri)&&Ri.start();const rs=(ss,os=null,ls=[])=>new Promise((cs,hs)=>{const us=generateUniqueNumber(ts);ts.set(us,{reject:hs,resolve:cs}),os===null?Ri.postMessage({id:us,method:ss},ls):Ri.postMessage({id:us,method:ss,params:os},ls)}),is=(ss,os,ls=[])=>{Ri.postMessage({id:null,method:ss,params:os},ls)};let ns={};for(const[ss,os]of Object.entries(ki))ns={...ns,[ss]:os({call:rs,notify:is})};return{...ns}}},encoderIds=new Set,encoderInstanceIds=new Set,messagePorts=new WeakMap,wrap$1=createBroker({deregister:({call:es})=>async ki=>{const Ri=messagePorts.get(ki);if(Ri===void 0)throw new Error("There is no encoder registered with the given port.");const ts=await es("deregister",{encoderId:Ri});return encoderIds.delete(Ri),messagePorts.delete(ki),ts},encode:({call:es})=>async(ki,Ri)=>{const ts=await es("encode",{encoderInstanceId:ki,timeslice:Ri});return encoderInstanceIds.delete(ki),ts},instantiate:({call:es})=>async(ki,Ri)=>{const ts=addUniqueNumber(encoderInstanceIds),rs=await es("instantiate",{encoderInstanceId:ts,mimeType:ki,sampleRate:Ri});return{encoderInstanceId:ts,port:rs}},register:({call:es})=>async ki=>{if(messagePorts.has(ki))throw new Error("");const Ri=addUniqueNumber(encoderIds);messagePorts.set(ki,Ri);try{return await es("register",{encoderId:Ri,port:ki},[ki])}catch(ts){throw encoderIds.delete(Ri),messagePorts.delete(ki),ts}}}),load$1=es=>{const ki=new Worker(es);return wrap$1(ki)},worker$1=`(()=>{var e={455:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,s=2*o,a=function(e,t){return function(r){var a=t.get(r),c=void 0===a?r.size:a<s?a+1:0;if(!r.has(c))return e(r,c);if(r.size<o){for(;r.has(c);)c=Math.floor(Math.random()*s);return e(r,c)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(c);)c=Math.floor(Math.random()*n);return e(r,c)}},c=new WeakMap,i=r(c),l=a(i,c),d=t(l);e.addUniqueNumber=d,e.generateUniqueNumber=l}(t)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}(()=>{"use strict";var e=r(455);const t=new WeakMap,n=new WeakMap,o=(r=>{const o=(s=r,{...s,connect:e=>{let{call:r}=e;return async()=>{const{port1:e,port2:n}=new MessageChannel,o=await r("connect",{port:e},[e]);return t.set(n,o),n}},disconnect:e=>{let{call:r}=e;return async e=>{const n=t.get(e);if(void 0===n)throw new Error("The given port is not connected.");await r("disconnect",{portId:n})}},isSupported:e=>{let{call:t}=e;return()=>t("isSupported")}});var s;return t=>{const r=(e=>{if(n.has(e))return n.get(e);const t=new Map;return n.set(e,t),t})(t);t.addEventListener("message",(e=>{let{data:t}=e;const{id:n}=t;if(null!==n&&r.has(n)){const{reject:e,resolve:o}=r.get(n);r.delete(n),void 0===t.error?o(t.result):e(new Error(t.error.message))}})),(e=>"function"==typeof e.start)(t)&&t.start();const s=function(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return new Promise(((a,c)=>{const i=(0,e.generateUniqueNumber)(r);r.set(i,{reject:c,resolve:a}),null===o?t.postMessage({id:i,method:n},s):t.postMessage({id:i,method:n,params:o},s)}))},a=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];t.postMessage({id:null,method:e,params:r},n)};let c={};for(const[e,t]of Object.entries(o))c={...c,[e]:t({call:s,notify:a})};return{...c}}})({characterize:e=>{let{call:t}=e;return()=>t("characterize")},encode:e=>{let{call:t}=e;return(e,r)=>t("encode",{recordingId:e,timeslice:r})},record:e=>{let{call:t}=e;return async(e,r,n)=>{await t("record",{recordingId:e,sampleRate:r,typedArrays:n},n.map((e=>{let{buffer:t}=e;return t})))}}}),s=-32603,a=-32602,c=-32601,i=(e,t)=>Object.assign(new Error(e),{status:t}),l=e=>i('The handler of the method called "'.concat(e,'" returned an unexpected result.'),s),d=(e,t)=>async r=>{let{data:{id:n,method:o,params:a}}=r;const d=t[o];try{if(void 0===d)throw(e=>i('The requested method called "'.concat(e,'" is not supported.'),c))(o);const t=void 0===a?d():d(a);if(void 0===t)throw(e=>i('The handler of the method called "'.concat(e,'" returned no required result.'),s))(o);const r=t instanceof Promise?await t:t;if(null===n){if(void 0!==r.result)throw l(o)}else{if(void 0===r.result)throw l(o);const{result:t,transferables:s=[]}=r;e.postMessage({id:n,result:t},s)}}catch(t){const{message:r,status:o=-32603}=t;e.postMessage({error:{code:o,message:r},id:n})}},u=new Map,h=(t,r,n)=>({...r,connect:n=>{let{port:o}=n;o.start();const s=t(o,r),a=(0,e.generateUniqueNumber)(u);return u.set(a,(()=>{s(),o.close(),u.delete(a)})),{result:a}},disconnect:e=>{let{portId:t}=e;const r=u.get(t);if(void 0===r)throw(e=>i('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),a))(t);return r(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=t=>{let{data:r}=t;return e(null!==r)},n.postMessage(t,[t])}))){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),f=function(e,t){const r=h(f,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0),n=d(e,r);return e.addEventListener("message",n),()=>e.removeEventListener("message",n)},w=e=>{e.onmessage=null,e.close()},p=new Map,g=new Map,m=((e,t)=>r=>{const n=t.get(r);if(void 0===n)throw new Error("There was no encoder stored with the given id.");e.delete(n),t.delete(r)})(p,g),v=new Map,y=(e=>t=>{const r=e.get(t);if(void 0===r)throw new Error("There was no instance of an encoder stored with the given id.");return r})(v),M=((e,t)=>r=>{const n=t(r);return e.delete(r),n})(v,y),E=((e,t)=>r=>{const[n,o,s,a]=t(r);return s?new Promise((t=>{o.onmessage=s=>{let{data:c}=s;0===c.length?(e(o),t(n.encode(r,null))):n.record(r,a,c)}})):n.encode(r,null)})(w,M),b=(e=>t=>{for(const[r,n]of Array.from(e.values()))if(r.test(t))return n;throw new Error("There is no encoder registered which could handle the given mimeType.")})(p),T=((e,t,r)=>(n,o,s)=>{if(t.has(n))throw new Error('There is already an encoder instance registered with an id called "'.concat(n,'".'));const a=r(o),{port1:c,port2:i}=new MessageChannel,l=[a,c,!0,s];return t.set(n,l),c.onmessage=t=>{let{data:r}=t;0===r.length?(e(c),l[2]=!1):a.record(n,s,r.map((e=>"number"==typeof e?new Float32Array(e):e)))},i})(w,v,b),I=((e,t,r)=>async(n,o)=>{const s=r(o),a=await s.characterize(),c=a.toString();if(e.has(c))throw new Error("There is already an encoder stored which handles exactly the same mime types.");if(t.has(n))throw new Error('There is already an encoder registered with an id called "'.concat(n,'".'));return e.set(c,[a,s]),t.set(n,c),a})(p,g,o),A=(e=>(t,r)=>{const[n]=e(t);return n.encode(t,r)})(y);f(self,{deregister:async e=>{let{encoderId:t}=e;return m(t),{result:null}},encode:async e=>{let{encoderInstanceId:t,timeslice:r}=e;const n=null===r?await E(t):await A(t,r);return{result:n,transferables:n}},instantiate:e=>{let{encoderInstanceId:t,mimeType:r,sampleRate:n}=e;const o=T(t,r,n);return{result:o,transferables:[o]}},register:async e=>{let{encoderId:t,port:r}=e;return{result:await I(t,r)}}})})()})();`,blob$1=new Blob([worker$1],{type:"application/javascript; charset=utf-8"}),url$1=URL.createObjectURL(blob$1),mediaEncoderHost=load$1(url$1),encode$1=mediaEncoderHost.encode,instantiate=mediaEncoderHost.instantiate,register$1=mediaEncoderHost.register;URL.revokeObjectURL(url$1);const createBlobEventFactory=es=>(ki,Ri)=>{if(es===null)throw new Error("A native BlobEvent could not be created.");return new es(ki,Ri)},createDecodeWebMChunk=(es,ki)=>(Ri,ts,rs)=>{const is=[];let ns=ts,ss=0;for(;ss<Ri.byteLength;)if(ns===null){const os=ki(Ri,ss);if(os===null)break;const{length:ls,type:cs}=os;ns=cs,ss+=ls}else{const os=es(Ri,ss,ns,rs);if(os===null)break;const{content:ls,length:cs}=os;ns=null,ss+=cs,ls!==null&&is.push(ls)}return{contents:is,currentElementType:ns,offset:ss}},createEventTargetConstructor$1=(es,ki)=>class{constructor(ts=null){this._listeners=new WeakMap,this._nativeEventTarget=ts===null?es():ts}addEventListener(ts,rs,is){if(rs!==null){let ns=this._listeners.get(rs);ns===void 0&&(ns=ki(this,rs),typeof rs=="function"&&this._listeners.set(rs,ns)),this._nativeEventTarget.addEventListener(ts,ns,is)}}dispatchEvent(ts){return this._nativeEventTarget.dispatchEvent(ts)}removeEventListener(ts,rs,is){const ns=rs===null?void 0:this._listeners.get(rs);this._nativeEventTarget.removeEventListener(ts,ns===void 0?null:ns,is)}},createEventTargetFactory=es=>()=>{if(es===null)throw new Error("A native EventTarget could not be created.");return es.document.createElement("p")},createInvalidModificationError=(es="")=>{try{return new DOMException(es,"InvalidModificationError")}catch(ki){return ki.code=13,ki.message=es,ki.name="InvalidModificationError",ki}},createInvalidStateError$1=()=>{try{return new DOMException("","InvalidStateError")}catch(es){return es.code=11,es.name="InvalidStateError",es}},createMediaRecorderConstructor=(es,ki,Ri,ts,rs,is,ns)=>class extends is{constructor(os,ls={}){const{mimeType:cs}=ls;if(ns!==null&&(cs===void 0||ns.isTypeSupported!==void 0&&ns.isTypeSupported(cs))){const hs=es(ns,os,ls);super(hs),this._internalMediaRecorder=hs}else if(cs!==void 0&&rs.some(hs=>hs.test(cs)))super(),ns!==null&&ns.isTypeSupported!==void 0&&ns.isTypeSupported("audio/webm;codecs=pcm")?this._internalMediaRecorder=ts(this,ns,os,cs):this._internalMediaRecorder=Ri(this,os,cs);else throw ns!==null&&es(ns,os,ls),ki();this._ondataavailable=null,this._onerror=null,this._onpause=null,this._onresume=null,this._onstart=null,this._onstop=null}get mimeType(){return this._internalMediaRecorder.mimeType}get ondataavailable(){return this._ondataavailable===null?this._ondataavailable:this._ondataavailable[0]}set ondataavailable(os){if(this._ondataavailable!==null&&this.removeEventListener("dataavailable",this._ondataavailable[1]),typeof os=="function"){const ls=os.bind(this);this.addEventListener("dataavailable",ls),this._ondataavailable=[os,ls]}else this._ondataavailable=null}get onerror(){return this._onerror===null?this._onerror:this._onerror[0]}set onerror(os){if(this._onerror!==null&&this.removeEventListener("error",this._onerror[1]),typeof os=="function"){const ls=os.bind(this);this.addEventListener("error",ls),this._onerror=[os,ls]}else this._onerror=null}get onpause(){return this._onpause===null?this._onpause:this._onpause[0]}set onpause(os){if(this._onpause!==null&&this.removeEventListener("pause",this._onpause[1]),typeof os=="function"){const ls=os.bind(this);this.addEventListener("pause",ls),this._onpause=[os,ls]}else this._onpause=null}get onresume(){return this._onresume===null?this._onresume:this._onresume[0]}set onresume(os){if(this._onresume!==null&&this.removeEventListener("resume",this._onresume[1]),typeof os=="function"){const ls=os.bind(this);this.addEventListener("resume",ls),this._onresume=[os,ls]}else this._onresume=null}get onstart(){return this._onstart===null?this._onstart:this._onstart[0]}set onstart(os){if(this._onstart!==null&&this.removeEventListener("start",this._onstart[1]),typeof os=="function"){const ls=os.bind(this);this.addEventListener("start",ls),this._onstart=[os,ls]}else this._onstart=null}get onstop(){return this._onstop===null?this._onstop:this._onstop[0]}set onstop(os){if(this._onstop!==null&&this.removeEventListener("stop",this._onstop[1]),typeof os=="function"){const ls=os.bind(this);this.addEventListener("stop",ls),this._onstop=[os,ls]}else this._onstop=null}get state(){return this._internalMediaRecorder.state}pause(){return this._internalMediaRecorder.pause()}resume(){return this._internalMediaRecorder.resume()}start(os){return this._internalMediaRecorder.start(os)}stop(){return this._internalMediaRecorder.stop()}static isTypeSupported(os){return ns!==null&&ns.isTypeSupported!==void 0&&ns.isTypeSupported(os)||rs.some(ls=>ls.test(os))}},createNativeBlobEventConstructor=es=>es!==null&&es.BlobEvent!==void 0?es.BlobEvent:null,createNativeMediaRecorderConstructor=es=>es===null||es.MediaRecorder===void 0?null:es.MediaRecorder,createNativeMediaRecorderFactory=es=>(ki,Ri,ts)=>{const rs=new Map,is=new WeakMap,ns=new WeakMap,ss=[],os=new ki(Ri,ts),ls=new WeakMap;return os.addEventListener("stop",({isTrusted:cs})=>{cs&&setTimeout(()=>ss.shift())}),os.addEventListener=(cs=>(hs,us,As)=>{let bs=us;if(typeof us=="function")if(hs==="dataavailable"){const ys=[];bs=Cs=>{const[[ps,ms]=[!1,!1]]=ss;ps&&!ms?ys.push(Cs):us.call(os,Cs)},rs.set(us,ys),is.set(us,bs)}else hs==="error"?(bs=ys=>{ys instanceof ErrorEvent?us.call(os,ys):us.call(os,new ErrorEvent("error",{error:ys.error}))},ns.set(us,bs)):hs==="stop"&&(bs=ys=>{for(const[Cs,ps]of rs.entries())if(ps.length>0){const[ms]=ps;ps.length>1&&Object.defineProperty(ms,"data",{value:new Blob(ps.map(({data:fs})=>fs),{type:ms.data.type})}),ps.length=0,Cs.call(os,ms)}us.call(os,ys)},ls.set(us,bs));return cs.call(os,hs,bs,As)})(os.addEventListener),os.removeEventListener=(cs=>(hs,us,As)=>{let bs=us;if(typeof us=="function"){if(hs==="dataavailable"){rs.delete(us);const ys=is.get(us);ys!==void 0&&(bs=ys)}else if(hs==="error"){const ys=ns.get(us);ys!==void 0&&(bs=ys)}else if(hs==="stop"){const ys=ls.get(us);ys!==void 0&&(bs=ys)}}return cs.call(os,hs,bs,As)})(os.removeEventListener),os.start=(cs=>hs=>{if(ts.mimeType!==void 0&&ts.mimeType.startsWith("audio/")&&Ri.getVideoTracks().length>0)throw es();return os.state==="inactive"&&ss.push([hs!==void 0,!0]),hs===void 0?cs.call(os):cs.call(os,hs)})(os.start),os.stop=(cs=>()=>{os.state!=="inactive"&&(ss[0][1]=!1),cs.call(os)})(os.stop),os},createNotSupportedError$1=()=>{try{return new DOMException("","NotSupportedError")}catch(es){return es.code=9,es.name="NotSupportedError",es}},createReadElementContent=es=>(ki,Ri,ts,rs=2)=>{const is=es(ki,Ri);if(is===null)return is;const{length:ns,value:ss}=is;if(ts==="master")return{content:null,length:ns};if(Ri+ns+ss>ki.byteLength)return null;if(ts==="binary"){const os=(ss/Float32Array.BYTES_PER_ELEMENT-1)/rs,ls=Array.from({length:rs},()=>new Float32Array(os));for(let cs=0;cs<os;cs+=1){const hs=cs*rs+1;for(let us=0;us<rs;us+=1)ls[us][cs]=ki.getFloat32(Ri+ns+(hs+us)*Float32Array.BYTES_PER_ELEMENT,!0)}return{content:ls,length:ns+ss}}return{content:null,length:ns+ss}},createReadElementType=es=>(ki,Ri)=>{const ts=es(ki,Ri);if(ts===null)return ts;const{length:rs,value:is}=ts;return is===35?{length:rs,type:"binary"}:is===46||is===97||is===88713574||is===106212971||is===139690087||is===172351395||is===256095861?{length:rs,type:"master"}:{length:rs,type:"unknown"}},createReadVariableSizeInteger=es=>(ki,Ri)=>{const ts=es(ki,Ri);if(ts===null)return ts;const rs=Ri+Math.floor((ts-1)/8);if(rs+ts>ki.byteLength)return null;let ns=ki.getUint8(rs)&(1<<8-ts%8)-1;for(let ss=1;ss<ts;ss+=1)ns=(ns<<8)+ki.getUint8(rs+ss);return{length:ts,value:ns}},observable=Symbol.observable||"@@observable";function patch(es){return Symbol.observable||(typeof es=="function"&&es.prototype&&es.prototype[Symbol.observable]?(es.prototype[observable]=es.prototype[Symbol.observable],delete es.prototype[Symbol.observable]):(es[observable]=es[Symbol.observable],delete es[Symbol.observable])),es}const noop=()=>{},rethrow=es=>{throw es};function toObserver(es){return es?es.next&&es.error&&es.complete?es:{complete:(es.complete??noop).bind(es),error:(es.error??rethrow).bind(es),next:(es.next??noop).bind(es)}:{complete:noop,error:rethrow,next:noop}}const createOn=es=>(ki,Ri,ts)=>es(rs=>{const is=ns=>rs.next(ns);return ki.addEventListener(Ri,is,ts),()=>ki.removeEventListener(Ri,is,ts)}),createWrapSubscribeFunction=(es,ki)=>{const Ri=()=>{},ts=rs=>typeof rs[0]=="function";return rs=>{const is=(...ns)=>{const ss=rs(ts(ns)?ki({next:ns[0]}):ki(...ns));return ss!==void 0?ss:Ri};return is[Symbol.observable]=()=>({subscribe:(...ns)=>({unsubscribe:is(...ns)})}),es(is)}},wrapSubscribeFunction=createWrapSubscribeFunction(patch,toObserver),on$1=createOn(wrapSubscribeFunction),createAddRecorderAudioWorkletModule=(es,ki,Ri)=>async ts=>{const rs=new es([Ri],{type:"application/javascript; charset=utf-8"}),is=ki.createObjectURL(rs);try{await ts(is)}finally{ki.revokeObjectURL(is)}},createListener=es=>({data:ki})=>{const{id:Ri}=ki;if(Ri!==null){const ts=es.get(Ri);if(ts!==void 0){const{reject:rs,resolve:is}=ts;es.delete(Ri),ki.error===void 0?is(ki.result):rs(new Error(ki.error.message))}}},createPostMessageFactory=es=>(ki,Ri)=>(ts,rs=[])=>new Promise((is,ns)=>{const ss=es(ki);ki.set(ss,{reject:ns,resolve:is}),Ri.postMessage({id:ss,...ts},rs)}),createRecorderAudioWorkletNodeFactory=(es,ki,Ri,ts)=>(rs,is,ns={})=>{const ss=new rs(is,"recorder-audio-worklet-processor",{...ns,channelCountMode:"explicit",numberOfInputs:1,numberOfOutputs:0}),os=new Map,ls=ki(os,ss.port),cs=Ri(ss.port,"message")(es(os));ss.port.start();let hs="inactive";return Object.defineProperties(ss,{pause:{get(){return async()=>(ts(["recording"],hs),hs="paused",ls({method:"pause"}))}},port:{get(){throw new Error("The port of a RecorderAudioWorkletNode can't be accessed.")}},record:{get(){return async us=>(ts(["inactive"],hs),hs="recording",ls({method:"record",params:{encoderPort:us}},[us]))}},resume:{get(){return async()=>(ts(["paused"],hs),hs="recording",ls({method:"resume"}))}},stop:{get(){return async()=>{ts(["paused","recording"],hs),hs="stopped";try{await ls({method:"stop"})}finally{cs()}}}}}),ss},validateState=(es,ki)=>{if(!es.includes(ki))throw new Error(`Expected the state to be ${es.map(Ri=>`"${Ri}"`).join(" or ")} but it was "${ki}".`)},worklet='(()=>{"use strict";class e extends AudioWorkletProcessor{constructor(){super(),this._encoderPort=null,this._numberOfChannels=0,this._state="inactive",this.port.onmessage=e=>{let{data:t}=e;"pause"===t.method?"active"===this._state||"recording"===this._state?(this._state="paused",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):"record"===t.method?"inactive"===this._state?(this._encoderPort=t.params.encoderPort,this._state="active",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):"resume"===t.method?"paused"===this._state?(this._state="active",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):"stop"===t.method?"active"!==this._state&&"paused"!==this._state&&"recording"!==this._state||null===this._encoderPort?this._sendUnexpectedStateError(t.id):(this._stop(this._encoderPort),this._sendAcknowledgement(t.id)):"number"==typeof t.id&&this.port.postMessage({error:{code:-32601,message:"The requested method is not supported."},id:t.id})}}process(e){let[t]=e;if("inactive"===this._state||"paused"===this._state)return!0;if("active"===this._state){if(void 0===t)throw new Error("No channelData was received for the first input.");if(0===t.length)return!0;this._state="recording"}if("recording"===this._state&&null!==this._encoderPort){if(void 0===t)throw new Error("No channelData was received for the first input.");return 0===t.length?this._encoderPort.postMessage(Array.from({length:this._numberOfChannels},(()=>128))):(this._encoderPort.postMessage(t,t.map((e=>{let{buffer:t}=e;return t}))),this._numberOfChannels=t.length),!0}return!1}_sendAcknowledgement(e){this.port.postMessage({id:e,result:null})}_sendUnexpectedStateError(e){this.port.postMessage({error:{code:-32603,message:"The internal state does not allow to process the given message."},id:e})}_stop(e){e.postMessage([]),e.close(),this._encoderPort=null,this._state="stopped"}}e.parameterDescriptors=[],registerProcessor("recorder-audio-worklet-processor",e)})();',addRecorderAudioWorkletModule=createAddRecorderAudioWorkletModule(Blob,URL,worklet),createRecorderAudioWorkletNode=createRecorderAudioWorkletNodeFactory(createListener,createPostMessageFactory(generateUniqueNumber),on$1,validateState),createExtendedExponentialRampToValueAutomationEvent=(es,ki,Ri)=>({endTime:ki,insertTime:Ri,type:"exponentialRampToValue",value:es}),createExtendedLinearRampToValueAutomationEvent=(es,ki,Ri)=>({endTime:ki,insertTime:Ri,type:"linearRampToValue",value:es}),createSetValueAutomationEvent=(es,ki)=>({startTime:ki,type:"setValue",value:es}),createSetValueCurveAutomationEvent=(es,ki,Ri)=>({duration:Ri,startTime:ki,type:"setValueCurve",values:es}),getTargetValueAtTime=(es,ki,{startTime:Ri,target:ts,timeConstant:rs})=>ts+(ki-ts)*Math.exp((Ri-es)/rs),isExponentialRampToValueAutomationEvent=es=>es.type==="exponentialRampToValue",isLinearRampToValueAutomationEvent=es=>es.type==="linearRampToValue",isAnyRampToValueAutomationEvent=es=>isExponentialRampToValueAutomationEvent(es)||isLinearRampToValueAutomationEvent(es),isSetValueAutomationEvent=es=>es.type==="setValue",isSetValueCurveAutomationEvent=es=>es.type==="setValueCurve",getValueOfAutomationEventAtIndexAtTime=(es,ki,Ri,ts)=>{const rs=es[ki];return rs===void 0?ts:isAnyRampToValueAutomationEvent(rs)||isSetValueAutomationEvent(rs)?rs.value:isSetValueCurveAutomationEvent(rs)?rs.values[rs.values.length-1]:getTargetValueAtTime(Ri,getValueOfAutomationEventAtIndexAtTime(es,ki-1,rs.startTime,ts),rs)},getEndTimeAndValueOfPreviousAutomationEvent=(es,ki,Ri,ts,rs)=>Ri===void 0?[ts.insertTime,rs]:isAnyRampToValueAutomationEvent(Ri)?[Ri.endTime,Ri.value]:isSetValueAutomationEvent(Ri)?[Ri.startTime,Ri.value]:isSetValueCurveAutomationEvent(Ri)?[Ri.startTime+Ri.duration,Ri.values[Ri.values.length-1]]:[Ri.startTime,getValueOfAutomationEventAtIndexAtTime(es,ki-1,Ri.startTime,rs)],isCancelAndHoldAutomationEvent=es=>es.type==="cancelAndHold",isCancelScheduledValuesAutomationEvent=es=>es.type==="cancelScheduledValues",getEventTime=es=>isCancelAndHoldAutomationEvent(es)||isCancelScheduledValuesAutomationEvent(es)?es.cancelTime:isExponentialRampToValueAutomationEvent(es)||isLinearRampToValueAutomationEvent(es)?es.endTime:es.startTime,getExponentialRampValueAtTime=(es,ki,Ri,{endTime:ts,value:rs})=>Ri===rs?rs:0<Ri&&0<rs||Ri<0&&rs<0?Ri*(rs/Ri)**((es-ki)/(ts-ki)):0,getLinearRampValueAtTime=(es,ki,Ri,{endTime:ts,value:rs})=>Ri+(es-ki)/(ts-ki)*(rs-Ri),interpolateValue=(es,ki)=>{const Ri=Math.floor(ki),ts=Math.ceil(ki);return Ri===ts?es[Ri]:(1-(ki-Ri))*es[Ri]+(1-(ts-ki))*es[ts]},getValueCurveValueAtTime=(es,{duration:ki,startTime:Ri,values:ts})=>{const rs=(es-Ri)/ki*(ts.length-1);return interpolateValue(ts,rs)},isSetTargetAutomationEvent=es=>es.type==="setTarget";class AutomationEventList{constructor(ki){this._automationEvents=[],this._currenTime=0,this._defaultValue=ki}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(ki){const Ri=getEventTime(ki);if(isCancelAndHoldAutomationEvent(ki)||isCancelScheduledValuesAutomationEvent(ki)){const ts=this._automationEvents.findIndex(is=>isCancelScheduledValuesAutomationEvent(ki)&&isSetValueCurveAutomationEvent(is)?is.startTime+is.duration>=Ri:getEventTime(is)>=Ri),rs=this._automationEvents[ts];if(ts!==-1&&(this._automationEvents=this._automationEvents.slice(0,ts)),isCancelAndHoldAutomationEvent(ki)){const is=this._automationEvents[this._automationEvents.length-1];if(rs!==void 0&&isAnyRampToValueAutomationEvent(rs)){if(is!==void 0&&isSetTargetAutomationEvent(is))throw new Error("The internal list is malformed.");const ns=is===void 0?rs.insertTime:isSetValueCurveAutomationEvent(is)?is.startTime+is.duration:getEventTime(is),ss=is===void 0?this._defaultValue:isSetValueCurveAutomationEvent(is)?is.values[is.values.length-1]:is.value,os=isExponentialRampToValueAutomationEvent(rs)?getExponentialRampValueAtTime(Ri,ns,ss,rs):getLinearRampValueAtTime(Ri,ns,ss,rs),ls=isExponentialRampToValueAutomationEvent(rs)?createExtendedExponentialRampToValueAutomationEvent(os,Ri,this._currenTime):createExtendedLinearRampToValueAutomationEvent(os,Ri,this._currenTime);this._automationEvents.push(ls)}if(is!==void 0&&isSetTargetAutomationEvent(is)&&this._automationEvents.push(createSetValueAutomationEvent(this.getValue(Ri),Ri)),is!==void 0&&isSetValueCurveAutomationEvent(is)&&is.startTime+is.duration>Ri){const ns=Ri-is.startTime,ss=(is.values.length-1)/is.duration,os=Math.max(2,1+Math.ceil(ns*ss)),ls=ns/(os-1)*ss,cs=is.values.slice(0,os);if(ls<1)for(let hs=1;hs<os;hs+=1){const us=ls*hs%1;cs[hs]=is.values[hs-1]*(1-us)+is.values[hs]*us}this._automationEvents[this._automationEvents.length-1]=createSetValueCurveAutomationEvent(cs,is.startTime,ns)}}}else{const ts=this._automationEvents.findIndex(ns=>getEventTime(ns)>Ri),rs=ts===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[ts-1];if(rs!==void 0&&isSetValueCurveAutomationEvent(rs)&&getEventTime(rs)+rs.duration>Ri)return!1;const is=isExponentialRampToValueAutomationEvent(ki)?createExtendedExponentialRampToValueAutomationEvent(ki.value,ki.endTime,this._currenTime):isLinearRampToValueAutomationEvent(ki)?createExtendedLinearRampToValueAutomationEvent(ki.value,Ri,this._currenTime):ki;if(ts===-1)this._automationEvents.push(is);else{if(isSetValueCurveAutomationEvent(ki)&&Ri+ki.duration>getEventTime(this._automationEvents[ts]))return!1;this._automationEvents.splice(ts,0,is)}}return!0}flush(ki){const Ri=this._automationEvents.findIndex(ts=>getEventTime(ts)>ki);if(Ri>1){const ts=this._automationEvents.slice(Ri-1),rs=ts[0];isSetTargetAutomationEvent(rs)&&ts.unshift(createSetValueAutomationEvent(getValueOfAutomationEventAtIndexAtTime(this._automationEvents,Ri-2,rs.startTime,this._defaultValue),rs.startTime)),this._automationEvents=ts}}getValue(ki){if(this._automationEvents.length===0)return this._defaultValue;const Ri=this._automationEvents.findIndex(ns=>getEventTime(ns)>ki),ts=this._automationEvents[Ri],rs=(Ri===-1?this._automationEvents.length:Ri)-1,is=this._automationEvents[rs];if(is!==void 0&&isSetTargetAutomationEvent(is)&&(ts===void 0||!isAnyRampToValueAutomationEvent(ts)||ts.insertTime>ki))return getTargetValueAtTime(ki,getValueOfAutomationEventAtIndexAtTime(this._automationEvents,rs-1,is.startTime,this._defaultValue),is);if(is!==void 0&&isSetValueAutomationEvent(is)&&(ts===void 0||!isAnyRampToValueAutomationEvent(ts)))return is.value;if(is!==void 0&&isSetValueCurveAutomationEvent(is)&&(ts===void 0||!isAnyRampToValueAutomationEvent(ts)||is.startTime+is.duration>ki))return ki<is.startTime+is.duration?getValueCurveValueAtTime(ki,is):is.values[is.values.length-1];if(is!==void 0&&isAnyRampToValueAutomationEvent(is)&&(ts===void 0||!isAnyRampToValueAutomationEvent(ts)))return is.value;if(ts!==void 0&&isExponentialRampToValueAutomationEvent(ts)){const[ns,ss]=getEndTimeAndValueOfPreviousAutomationEvent(this._automationEvents,rs,is,ts,this._defaultValue);return getExponentialRampValueAtTime(ki,ns,ss,ts)}if(ts!==void 0&&isLinearRampToValueAutomationEvent(ts)){const[ns,ss]=getEndTimeAndValueOfPreviousAutomationEvent(this._automationEvents,rs,is,ts,this._defaultValue);return getLinearRampValueAtTime(ki,ns,ss,ts)}return this._defaultValue}}const createCancelAndHoldAutomationEvent=es=>({cancelTime:es,type:"cancelAndHold"}),createCancelScheduledValuesAutomationEvent=es=>({cancelTime:es,type:"cancelScheduledValues"}),createExponentialRampToValueAutomationEvent=(es,ki)=>({endTime:ki,type:"exponentialRampToValue",value:es}),createLinearRampToValueAutomationEvent=(es,ki)=>({endTime:ki,type:"linearRampToValue",value:es}),createSetTargetAutomationEvent=(es,ki,Ri)=>({startTime:ki,target:es,timeConstant:Ri,type:"setTarget"}),createAbortError=()=>new DOMException("","AbortError"),createAddActiveInputConnectionToAudioNode=es=>(ki,Ri,[ts,rs,is],ns)=>{es(ki[rs],[Ri,ts,is],ss=>ss[0]===Ri&&ss[1]===ts,ns)},createAddAudioNodeConnections=es=>(ki,Ri,ts)=>{const rs=[];for(let is=0;is<ts.numberOfInputs;is+=1)rs.push(new Set);es.set(ki,{activeInputs:rs,outputs:new Set,passiveInputs:new WeakMap,renderer:Ri})},createAddAudioParamConnections=es=>(ki,Ri)=>{es.set(ki,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:Ri})},ACTIVE_AUDIO_NODE_STORE=new WeakSet,AUDIO_NODE_CONNECTIONS_STORE=new WeakMap,AUDIO_NODE_STORE=new WeakMap,AUDIO_PARAM_CONNECTIONS_STORE=new WeakMap,AUDIO_PARAM_STORE=new WeakMap,CONTEXT_STORE=new WeakMap,EVENT_LISTENERS=new WeakMap,CYCLE_COUNTERS=new WeakMap,NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS=new WeakMap,NODE_TO_PROCESSOR_MAPS=new WeakMap,handler={construct(){return handler}},isConstructible=es=>{try{const ki=new Proxy(es,handler);new ki}catch{return!1}return!0},IMPORT_STATEMENT_REGEX=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,splitImportStatements=(es,ki)=>{const Ri=[];let ts=es.replace(/^[\s]+/,""),rs=ts.match(IMPORT_STATEMENT_REGEX);for(;rs!==null;){const is=rs[1].slice(1,-1),ns=rs[0].replace(/([\s]+)?;?$/,"").replace(is,new URL(is,ki).toString());Ri.push(ns),ts=ts.slice(rs[0].length).replace(/^[\s]+/,""),rs=ts.match(IMPORT_STATEMENT_REGEX)}return[Ri.join(";"),ts]},verifyParameterDescriptors=es=>{if(es!==void 0&&!Array.isArray(es))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},verifyProcessorCtor=es=>{if(!isConstructible(es))throw new TypeError("The given value for processorCtor should be a constructor.");if(es.prototype===null||typeof es.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},createAddAudioWorkletModule=(es,ki,Ri,ts,rs,is,ns,ss,os,ls,cs,hs,us)=>{let As=0;return(bs,ys,Cs={credentials:"omit"})=>{const ps=cs.get(bs);if(ps!==void 0&&ps.has(ys))return Promise.resolve();const ms=ls.get(bs);if(ms!==void 0){const ws=ms.get(ys);if(ws!==void 0)return ws}const fs=is(bs),gs=fs.audioWorklet===void 0?rs(ys).then(([ws,Ts])=>{const[$s,Rs]=splitImportStatements(ws,Ts),Ps=`${$s};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${Rs}
})})(window,'_AWGS')`;return Ri(Ps)}).then(()=>{const ws=us._AWGS.pop();if(ws===void 0)throw new SyntaxError;ts(fs.currentTime,fs.sampleRate,()=>ws(class{},void 0,(Ts,$s)=>{if(Ts.trim()==="")throw ki();const Rs=NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.get(fs);if(Rs!==void 0){if(Rs.has(Ts))throw ki();verifyProcessorCtor($s),verifyParameterDescriptors($s.parameterDescriptors),Rs.set(Ts,$s)}else verifyProcessorCtor($s),verifyParameterDescriptors($s.parameterDescriptors),NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.set(fs,new Map([[Ts,$s]]))},fs.sampleRate,void 0,void 0))}):Promise.all([rs(ys),Promise.resolve(es(hs,hs))]).then(([[ws,Ts],$s])=>{const Rs=As+1;As=Rs;const[Ps,Qs]=splitImportStatements(ws,Ts),Ws=`${Ps};((AudioWorkletProcessor,registerProcessor)=>{${Qs}
})(${$s?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${$s?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${$s?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${Rs}',class extends AudioWorkletProcessor{process(){return !1}})`,Ds=new Blob([Ws],{type:"application/javascript; charset=utf-8"}),_s=URL.createObjectURL(Ds);return fs.audioWorklet.addModule(_s,Cs).then(()=>{if(ss(fs))return fs;const Ns=ns(fs);return Ns.audioWorklet.addModule(_s,Cs).then(()=>Ns)}).then(Ns=>{if(os===null)throw new SyntaxError;try{new os(Ns,`__sac${Rs}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(_s))});return ms===void 0?ls.set(bs,new Map([[ys,gs]])):ms.set(ys,gs),gs.then(()=>{const ws=cs.get(bs);ws===void 0?cs.set(bs,new Set([ys])):ws.add(ys)}).finally(()=>{const ws=ls.get(bs);ws!==void 0&&ws.delete(ys)}),gs}},getValueForKey=(es,ki)=>{const Ri=es.get(ki);if(Ri===void 0)throw new Error("A value with the given key could not be found.");return Ri},pickElementFromSet=(es,ki)=>{const Ri=Array.from(es).filter(ki);if(Ri.length>1)throw Error("More than one element was found.");if(Ri.length===0)throw Error("No element was found.");const[ts]=Ri;return es.delete(ts),ts},deletePassiveInputConnectionToAudioNode=(es,ki,Ri,ts)=>{const rs=getValueForKey(es,ki),is=pickElementFromSet(rs,ns=>ns[0]===Ri&&ns[1]===ts);return rs.size===0&&es.delete(ki),is},getEventListenersOfAudioNode=es=>getValueForKey(EVENT_LISTENERS,es),setInternalStateToActive=es=>{if(ACTIVE_AUDIO_NODE_STORE.has(es))throw new Error("The AudioNode is already stored.");ACTIVE_AUDIO_NODE_STORE.add(es),getEventListenersOfAudioNode(es).forEach(ki=>ki(!0))},isAudioWorkletNode=es=>"port"in es,setInternalStateToPassive=es=>{if(!ACTIVE_AUDIO_NODE_STORE.has(es))throw new Error("The AudioNode is not stored.");ACTIVE_AUDIO_NODE_STORE.delete(es),getEventListenersOfAudioNode(es).forEach(ki=>ki(!1))},setInternalStateToPassiveWhenNecessary=(es,ki)=>{!isAudioWorkletNode(es)&&ki.every(Ri=>Ri.size===0)&&setInternalStateToPassive(es)},createAddConnectionToAudioNode=(es,ki,Ri,ts,rs,is,ns,ss,os,ls,cs,hs,us)=>{const As=new WeakMap;return(bs,ys,Cs,ps,ms)=>{const{activeInputs:fs,passiveInputs:gs}=is(ys),{outputs:ws}=is(bs),Ts=ss(bs),$s=Rs=>{const Ps=os(ys),Qs=os(bs);if(Rs){const Fs=deletePassiveInputConnectionToAudioNode(gs,bs,Cs,ps);es(fs,bs,Fs,!1),!ms&&!hs(bs)&&Ri(Qs,Ps,Cs,ps),us(ys)&&setInternalStateToActive(ys)}else{const Fs=ts(fs,bs,Cs,ps);ki(gs,ps,Fs,!1),!ms&&!hs(bs)&&rs(Qs,Ps,Cs,ps);const Is=ns(ys);if(Is===0)cs(ys)&&setInternalStateToPassiveWhenNecessary(ys,fs);else{const Ms=As.get(ys);Ms!==void 0&&clearTimeout(Ms),As.set(ys,setTimeout(()=>{cs(ys)&&setInternalStateToPassiveWhenNecessary(ys,fs)},Is*1e3))}}};return ls(ws,[ys,Cs,ps],Rs=>Rs[0]===ys&&Rs[1]===Cs&&Rs[2]===ps,!0)?(Ts.add($s),cs(bs)?es(fs,bs,[Cs,ps,$s],!0):ki(gs,ps,[bs,Cs,$s],!0),!0):!1}},createAddPassiveInputConnectionToAudioNode=es=>(ki,Ri,[ts,rs,is],ns)=>{const ss=ki.get(ts);ss===void 0?ki.set(ts,new Set([[rs,Ri,is]])):es(ss,[rs,Ri,is],os=>os[0]===rs&&os[1]===Ri,ns)},createAddSilentConnection=es=>(ki,Ri)=>{const ts=es(ki,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});Ri.connect(ts).connect(ki.destination);const rs=()=>{Ri.removeEventListener("ended",rs),Ri.disconnect(ts),ts.disconnect()};Ri.addEventListener("ended",rs)},createAddUnrenderedAudioWorkletNode=es=>(ki,Ri)=>{es(ki).add(Ri)},isOwnedByContext=(es,ki)=>es.context===ki,testAudioBufferCopyChannelMethodsOutOfBoundsSupport=es=>{try{es.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},createIndexSizeError=()=>new DOMException("","IndexSizeError"),wrapAudioBufferGetChannelDataMethod=es=>{es.getChannelData=(ki=>Ri=>{try{return ki.call(es,Ri)}catch(ts){throw ts.code===12?createIndexSizeError():ts}})(es.getChannelData)},DEFAULT_OPTIONS$3={numberOfChannels:1},createAudioBufferConstructor=(es,ki,Ri,ts,rs,is,ns,ss)=>{let os=null;return class ry{constructor(cs){if(rs===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:hs,numberOfChannels:us,sampleRate:As}={...DEFAULT_OPTIONS$3,...cs};os===null&&(os=new rs(1,1,44100));const bs=ts!==null&&ki(is,is)?new ts({length:hs,numberOfChannels:us,sampleRate:As}):os.createBuffer(us,hs,As);if(bs.numberOfChannels===0)throw Ri();return typeof bs.copyFromChannel!="function"?(ns(bs),wrapAudioBufferGetChannelDataMethod(bs)):ki(testAudioBufferCopyChannelMethodsOutOfBoundsSupport,()=>testAudioBufferCopyChannelMethodsOutOfBoundsSupport(bs))||ss(bs),es.add(bs),bs}static[Symbol.hasInstance](cs){return cs!==null&&typeof cs=="object"&&Object.getPrototypeOf(cs)===ry.prototype||es.has(cs)}}},MOST_NEGATIVE_SINGLE_FLOAT=-34028234663852886e22,MOST_POSITIVE_SINGLE_FLOAT=-MOST_NEGATIVE_SINGLE_FLOAT,isActiveAudioNode=es=>ACTIVE_AUDIO_NODE_STORE.has(es),DEFAULT_OPTIONS$2={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},createAudioBufferSourceNodeConstructor=(es,ki,Ri,ts,rs,is,ns,ss)=>class extends es{constructor(ls,cs){const hs=is(ls),us={...DEFAULT_OPTIONS$2,...cs},As=rs(hs,us),bs=ns(hs),ys=bs?ki():null;super(ls,!1,As,ys),this._audioBufferSourceNodeRenderer=ys,this._isBufferNullified=!1,this._isBufferSet=us.buffer!==null,this._nativeAudioBufferSourceNode=As,this._onended=null,this._playbackRate=Ri(this,bs,As.playbackRate,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(ls){if(this._nativeAudioBufferSourceNode.buffer=ls,ls!==null){if(this._isBufferSet)throw ts();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(ls){this._nativeAudioBufferSourceNode.loop=ls}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(ls){this._nativeAudioBufferSourceNode.loopEnd=ls}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(ls){this._nativeAudioBufferSourceNode.loopStart=ls}get onended(){return this._onended}set onended(ls){const cs=typeof ls=="function"?ss(this,ls):null;this._nativeAudioBufferSourceNode.onended=cs;const hs=this._nativeAudioBufferSourceNode.onended;this._onended=hs!==null&&hs===cs?ls:hs}get playbackRate(){return this._playbackRate}start(ls=0,cs=0,hs){if(this._nativeAudioBufferSourceNode.start(ls,cs,hs),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=hs===void 0?[ls,cs]:[ls,cs,hs]),this.context.state!=="closed"){setInternalStateToActive(this);const us=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",us),isActiveAudioNode(this)&&setInternalStateToPassive(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",us)}}stop(ls=0){this._nativeAudioBufferSourceNode.stop(ls),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=ls)}},createAudioBufferSourceNodeRendererFactory=(es,ki,Ri,ts,rs)=>()=>{const is=new WeakMap;let ns=null,ss=null;const os=async(ls,cs)=>{let hs=Ri(ls);const us=isOwnedByContext(hs,cs);if(!us){const As={buffer:hs.buffer,channelCount:hs.channelCount,channelCountMode:hs.channelCountMode,channelInterpretation:hs.channelInterpretation,loop:hs.loop,loopEnd:hs.loopEnd,loopStart:hs.loopStart,playbackRate:hs.playbackRate.value};hs=ki(cs,As),ns!==null&&hs.start(...ns),ss!==null&&hs.stop(ss)}return is.set(cs,hs),us?await es(cs,ls.playbackRate,hs.playbackRate):await ts(cs,ls.playbackRate,hs.playbackRate),await rs(ls,cs,hs),hs};return{set start(ls){ns=ls},set stop(ls){ss=ls},render(ls,cs){const hs=is.get(cs);return hs!==void 0?Promise.resolve(hs):os(ls,cs)}}},isAudioBufferSourceNode=es=>"playbackRate"in es,isBiquadFilterNode=es=>"frequency"in es&&"gain"in es,isConstantSourceNode=es=>"offset"in es,isGainNode=es=>!("frequency"in es)&&"gain"in es,isOscillatorNode=es=>"detune"in es&&"frequency"in es&&!("gain"in es),isStereoPannerNode=es=>"pan"in es,getAudioNodeConnections=es=>getValueForKey(AUDIO_NODE_CONNECTIONS_STORE,es),getAudioParamConnections=es=>getValueForKey(AUDIO_PARAM_CONNECTIONS_STORE,es),deactivateActiveAudioNodeInputConnections=(es,ki)=>{const{activeInputs:Ri}=getAudioNodeConnections(es);Ri.forEach(rs=>rs.forEach(([is])=>{ki.includes(es)||deactivateActiveAudioNodeInputConnections(is,[...ki,es])}));const ts=isAudioBufferSourceNode(es)?[es.playbackRate]:isAudioWorkletNode(es)?Array.from(es.parameters.values()):isBiquadFilterNode(es)?[es.Q,es.detune,es.frequency,es.gain]:isConstantSourceNode(es)?[es.offset]:isGainNode(es)?[es.gain]:isOscillatorNode(es)?[es.detune,es.frequency]:isStereoPannerNode(es)?[es.pan]:[];for(const rs of ts){const is=getAudioParamConnections(rs);is!==void 0&&is.activeInputs.forEach(([ns])=>deactivateActiveAudioNodeInputConnections(ns,ki))}isActiveAudioNode(es)&&setInternalStateToPassive(es)},deactivateAudioGraph=es=>{deactivateActiveAudioNodeInputConnections(es.destination,[])},isValidLatencyHint=es=>es===void 0||typeof es=="number"||typeof es=="string"&&(es==="balanced"||es==="interactive"||es==="playback"),createAudioDestinationNodeConstructor=(es,ki,Ri,ts,rs,is,ns,ss)=>class extends es{constructor(ls,cs){const hs=is(ls),us=ns(hs),As=rs(hs,cs,us),bs=us?ki(ss):null;super(ls,!1,As,bs),this._isNodeOfNativeOfflineAudioContext=us,this._nativeAudioDestinationNode=As}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(ls){if(this._isNodeOfNativeOfflineAudioContext)throw ts();if(ls>this._nativeAudioDestinationNode.maxChannelCount)throw Ri();this._nativeAudioDestinationNode.channelCount=ls}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(ls){if(this._isNodeOfNativeOfflineAudioContext)throw ts();this._nativeAudioDestinationNode.channelCountMode=ls}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},createAudioDestinationNodeRenderer=es=>{const ki=new WeakMap,Ri=async(ts,rs)=>{const is=rs.destination;return ki.set(rs,is),await es(ts,rs,is),is};return{render(ts,rs){const is=ki.get(rs);return is!==void 0?Promise.resolve(is):Ri(ts,rs)}}},createAudioListenerFactory=(es,ki,Ri,ts,rs,is,ns,ss)=>(os,ls)=>{const cs=ls.listener,hs=()=>{const ws=new Float32Array(1),Ts=ki(ls,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),$s=ns(ls);let Rs=!1,Ps=[0,0,-1,0,1,0],Qs=[0,0,0];const Fs=()=>{if(Rs)return;Rs=!0;const Ds=ts(ls,256,9,0);Ds.onaudioprocess=({inputBuffer:_s})=>{const Ns=[is(_s,ws,0),is(_s,ws,1),is(_s,ws,2),is(_s,ws,3),is(_s,ws,4),is(_s,ws,5)];Ns.some((Us,Zs)=>Us!==Ps[Zs])&&(cs.setOrientation(...Ns),Ps=Ns);const Ss=[is(_s,ws,6),is(_s,ws,7),is(_s,ws,8)];Ss.some((Us,Zs)=>Us!==Qs[Zs])&&(cs.setPosition(...Ss),Qs=Ss)},Ts.connect(Ds)},Is=Ds=>_s=>{_s!==Ps[Ds]&&(Ps[Ds]=_s,cs.setOrientation(...Ps))},Ms=Ds=>_s=>{_s!==Qs[Ds]&&(Qs[Ds]=_s,cs.setPosition(...Qs))},Ws=(Ds,_s,Ns)=>{const Ss=Ri(ls,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:_s});Ss.connect(Ts,0,Ds),Ss.start(),Object.defineProperty(Ss.offset,"defaultValue",{get(){return _s}});const Us=es({context:os},$s,Ss.offset,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT);return ss(Us,"value",Zs=>()=>Zs.call(Us),Zs=>ao=>{try{Zs.call(Us,ao)}catch(js){if(js.code!==9)throw js}Fs(),$s&&Ns(ao)}),Us.cancelAndHoldAtTime=(Zs=>$s?()=>{throw rs()}:(...ao)=>{const js=Zs.apply(Us,ao);return Fs(),js})(Us.cancelAndHoldAtTime),Us.cancelScheduledValues=(Zs=>$s?()=>{throw rs()}:(...ao)=>{const js=Zs.apply(Us,ao);return Fs(),js})(Us.cancelScheduledValues),Us.exponentialRampToValueAtTime=(Zs=>$s?()=>{throw rs()}:(...ao)=>{const js=Zs.apply(Us,ao);return Fs(),js})(Us.exponentialRampToValueAtTime),Us.linearRampToValueAtTime=(Zs=>$s?()=>{throw rs()}:(...ao)=>{const js=Zs.apply(Us,ao);return Fs(),js})(Us.linearRampToValueAtTime),Us.setTargetAtTime=(Zs=>$s?()=>{throw rs()}:(...ao)=>{const js=Zs.apply(Us,ao);return Fs(),js})(Us.setTargetAtTime),Us.setValueAtTime=(Zs=>$s?()=>{throw rs()}:(...ao)=>{const js=Zs.apply(Us,ao);return Fs(),js})(Us.setValueAtTime),Us.setValueCurveAtTime=(Zs=>$s?()=>{throw rs()}:(...ao)=>{const js=Zs.apply(Us,ao);return Fs(),js})(Us.setValueCurveAtTime),Us};return{forwardX:Ws(0,0,Is(0)),forwardY:Ws(1,0,Is(1)),forwardZ:Ws(2,-1,Is(2)),positionX:Ws(6,0,Ms(0)),positionY:Ws(7,0,Ms(1)),positionZ:Ws(8,0,Ms(2)),upX:Ws(3,0,Is(3)),upY:Ws(4,1,Is(4)),upZ:Ws(5,0,Is(5))}},{forwardX:us,forwardY:As,forwardZ:bs,positionX:ys,positionY:Cs,positionZ:ps,upX:ms,upY:fs,upZ:gs}=cs.forwardX===void 0?hs():cs;return{get forwardX(){return us},get forwardY(){return As},get forwardZ(){return bs},get positionX(){return ys},get positionY(){return Cs},get positionZ(){return ps},get upX(){return ms},get upY(){return fs},get upZ(){return gs}}},isAudioNode=es=>"context"in es,isAudioNodeOutputConnection=es=>isAudioNode(es[0]),insertElementInSet=(es,ki,Ri,ts)=>{for(const rs of es)if(Ri(rs)){if(ts)return!1;throw Error("The set contains at least one similar element.")}return es.add(ki),!0},addActiveInputConnectionToAudioParam=(es,ki,[Ri,ts],rs)=>{insertElementInSet(es,[ki,Ri,ts],is=>is[0]===ki&&is[1]===Ri,rs)},addPassiveInputConnectionToAudioParam=(es,[ki,Ri,ts],rs)=>{const is=es.get(ki);is===void 0?es.set(ki,new Set([[Ri,ts]])):insertElementInSet(is,[Ri,ts],ns=>ns[0]===Ri,rs)},isNativeAudioNodeFaker=es=>"inputs"in es,connectNativeAudioNodeToNativeAudioNode=(es,ki,Ri,ts)=>{if(isNativeAudioNodeFaker(ki)){const rs=ki.inputs[ts];return es.connect(rs,Ri,0),[rs,Ri,0]}return es.connect(ki,Ri,ts),[ki,Ri,ts]},deleteActiveInputConnection=(es,ki,Ri)=>{for(const ts of es)if(ts[0]===ki&&ts[1]===Ri)return es.delete(ts),ts;return null},deleteActiveInputConnectionToAudioParam=(es,ki,Ri)=>pickElementFromSet(es,ts=>ts[0]===ki&&ts[1]===Ri),deleteEventListenerOfAudioNode=(es,ki)=>{if(!getEventListenersOfAudioNode(es).delete(ki))throw new Error("Missing the expected event listener.")},deletePassiveInputConnectionToAudioParam=(es,ki,Ri)=>{const ts=getValueForKey(es,ki),rs=pickElementFromSet(ts,is=>is[0]===Ri);return ts.size===0&&es.delete(ki),rs},disconnectNativeAudioNodeFromNativeAudioNode=(es,ki,Ri,ts)=>{isNativeAudioNodeFaker(ki)?es.disconnect(ki.inputs[ts],Ri,0):es.disconnect(ki,Ri,ts)},getNativeAudioNode=es=>getValueForKey(AUDIO_NODE_STORE,es),getNativeAudioParam=es=>getValueForKey(AUDIO_PARAM_STORE,es),isPartOfACycle=es=>CYCLE_COUNTERS.has(es),isPassiveAudioNode=es=>!ACTIVE_AUDIO_NODE_STORE.has(es),testAudioNodeDisconnectMethodSupport=(es,ki)=>new Promise(Ri=>{if(ki!==null)Ri(!0);else{const ts=es.createScriptProcessor(256,1,1),rs=es.createGain(),is=es.createBuffer(1,2,44100),ns=is.getChannelData(0);ns[0]=1,ns[1]=1;const ss=es.createBufferSource();ss.buffer=is,ss.loop=!0,ss.connect(ts).connect(es.destination),ss.connect(rs),ss.disconnect(rs),ts.onaudioprocess=os=>{const ls=os.inputBuffer.getChannelData(0);Array.prototype.some.call(ls,cs=>cs===1)?Ri(!0):Ri(!1),ss.stop(),ts.onaudioprocess=null,ss.disconnect(ts),ts.disconnect(es.destination)},ss.start()}}),visitEachAudioNodeOnce=(es,ki)=>{const Ri=new Map;for(const ts of es)for(const rs of ts){const is=Ri.get(rs);Ri.set(rs,is===void 0?1:is+1)}Ri.forEach((ts,rs)=>ki(rs,ts))},isNativeAudioNode$1=es=>"context"in es,wrapAudioNodeDisconnectMethod=es=>{const ki=new Map;es.connect=(Ri=>(ts,rs=0,is=0)=>{const ns=isNativeAudioNode$1(ts)?Ri(ts,rs,is):Ri(ts,rs),ss=ki.get(ts);return ss===void 0?ki.set(ts,[{input:is,output:rs}]):ss.every(os=>os.input!==is||os.output!==rs)&&ss.push({input:is,output:rs}),ns})(es.connect.bind(es)),es.disconnect=(Ri=>(ts,rs,is)=>{if(Ri.apply(es),ts===void 0)ki.clear();else if(typeof ts=="number")for(const[ns,ss]of ki){const os=ss.filter(ls=>ls.output!==ts);os.length===0?ki.delete(ns):ki.set(ns,os)}else if(ki.has(ts))if(rs===void 0)ki.delete(ts);else{const ns=ki.get(ts);if(ns!==void 0){const ss=ns.filter(os=>os.output!==rs&&(os.input!==is||is===void 0));ss.length===0?ki.delete(ts):ki.set(ts,ss)}}for(const[ns,ss]of ki)ss.forEach(os=>{isNativeAudioNode$1(ns)?es.connect(ns,os.output,os.input):es.connect(ns,os.output)})})(es.disconnect)},addConnectionToAudioParamOfAudioContext=(es,ki,Ri,ts)=>{const{activeInputs:rs,passiveInputs:is}=getAudioParamConnections(ki),{outputs:ns}=getAudioNodeConnections(es),ss=getEventListenersOfAudioNode(es),os=ls=>{const cs=getNativeAudioNode(es),hs=getNativeAudioParam(ki);if(ls){const us=deletePassiveInputConnectionToAudioParam(is,es,Ri);addActiveInputConnectionToAudioParam(rs,es,us,!1),!ts&&!isPartOfACycle(es)&&cs.connect(hs,Ri)}else{const us=deleteActiveInputConnectionToAudioParam(rs,es,Ri);addPassiveInputConnectionToAudioParam(is,us,!1),!ts&&!isPartOfACycle(es)&&cs.disconnect(hs,Ri)}};return insertElementInSet(ns,[ki,Ri],ls=>ls[0]===ki&&ls[1]===Ri,!0)?(ss.add(os),isActiveAudioNode(es)?addActiveInputConnectionToAudioParam(rs,es,[Ri,os],!0):addPassiveInputConnectionToAudioParam(is,[es,Ri,os],!0),!0):!1},deleteInputConnectionOfAudioNode=(es,ki,Ri,ts)=>{const{activeInputs:rs,passiveInputs:is}=getAudioNodeConnections(ki),ns=deleteActiveInputConnection(rs[ts],es,Ri);return ns===null?[deletePassiveInputConnectionToAudioNode(is,es,Ri,ts)[2],!1]:[ns[2],!0]},deleteInputConnectionOfAudioParam=(es,ki,Ri)=>{const{activeInputs:ts,passiveInputs:rs}=getAudioParamConnections(ki),is=deleteActiveInputConnection(ts,es,Ri);return is===null?[deletePassiveInputConnectionToAudioParam(rs,es,Ri)[1],!1]:[is[2],!0]},deleteInputsOfAudioNode=(es,ki,Ri,ts,rs)=>{const[is,ns]=deleteInputConnectionOfAudioNode(es,Ri,ts,rs);if(is!==null&&(deleteEventListenerOfAudioNode(es,is),ns&&!ki&&!isPartOfACycle(es)&&disconnectNativeAudioNodeFromNativeAudioNode(getNativeAudioNode(es),getNativeAudioNode(Ri),ts,rs)),isActiveAudioNode(Ri)){const{activeInputs:ss}=getAudioNodeConnections(Ri);setInternalStateToPassiveWhenNecessary(Ri,ss)}},deleteInputsOfAudioParam=(es,ki,Ri,ts)=>{const[rs,is]=deleteInputConnectionOfAudioParam(es,Ri,ts);rs!==null&&(deleteEventListenerOfAudioNode(es,rs),is&&!ki&&!isPartOfACycle(es)&&getNativeAudioNode(es).disconnect(getNativeAudioParam(Ri),ts))},deleteAnyConnection=(es,ki)=>{const Ri=getAudioNodeConnections(es),ts=[];for(const rs of Ri.outputs)isAudioNodeOutputConnection(rs)?deleteInputsOfAudioNode(es,ki,...rs):deleteInputsOfAudioParam(es,ki,...rs),ts.push(rs[0]);return Ri.outputs.clear(),ts},deleteConnectionAtOutput=(es,ki,Ri)=>{const ts=getAudioNodeConnections(es),rs=[];for(const is of ts.outputs)is[1]===Ri&&(isAudioNodeOutputConnection(is)?deleteInputsOfAudioNode(es,ki,...is):deleteInputsOfAudioParam(es,ki,...is),rs.push(is[0]),ts.outputs.delete(is));return rs},deleteConnectionToDestination=(es,ki,Ri,ts,rs)=>{const is=getAudioNodeConnections(es);return Array.from(is.outputs).filter(ns=>ns[0]===Ri&&(ts===void 0||ns[1]===ts)&&(rs===void 0||ns[2]===rs)).map(ns=>(isAudioNodeOutputConnection(ns)?deleteInputsOfAudioNode(es,ki,...ns):deleteInputsOfAudioParam(es,ki,...ns),is.outputs.delete(ns),ns[0]))},createAudioNodeConstructor=(es,ki,Ri,ts,rs,is,ns,ss,os,ls,cs,hs,us,As,bs,ys)=>class extends ls{constructor(ps,ms,fs,gs){super(fs),this._context=ps,this._nativeAudioNode=fs;const ws=cs(ps);hs(ws)&&Ri(testAudioNodeDisconnectMethodSupport,()=>testAudioNodeDisconnectMethodSupport(ws,ys))!==!0&&wrapAudioNodeDisconnectMethod(fs),AUDIO_NODE_STORE.set(this,fs),EVENT_LISTENERS.set(this,new Set),ps.state!=="closed"&&ms&&setInternalStateToActive(this),es(this,gs,fs)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(ps){this._nativeAudioNode.channelCount=ps}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(ps){this._nativeAudioNode.channelCountMode=ps}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(ps){this._nativeAudioNode.channelInterpretation=ps}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(ps,ms=0,fs=0){if(ms<0||ms>=this._nativeAudioNode.numberOfOutputs)throw rs();const gs=cs(this._context),ws=bs(gs);if(us(ps)||As(ps))throw is();if(isAudioNode(ps)){const Rs=getNativeAudioNode(ps);try{const Qs=connectNativeAudioNodeToNativeAudioNode(this._nativeAudioNode,Rs,ms,fs),Fs=isPassiveAudioNode(this);(ws||Fs)&&this._nativeAudioNode.disconnect(...Qs),this.context.state!=="closed"&&!Fs&&isPassiveAudioNode(ps)&&setInternalStateToActive(ps)}catch(Qs){throw Qs.code===12?is():Qs}if(ki(this,ps,ms,fs,ws)){const Qs=os([this],ps);visitEachAudioNodeOnce(Qs,ts(ws))}return ps}const Ts=getNativeAudioParam(ps);if(Ts.name==="playbackRate"&&Ts.maxValue===1024)throw ns();try{this._nativeAudioNode.connect(Ts,ms),(ws||isPassiveAudioNode(this))&&this._nativeAudioNode.disconnect(Ts,ms)}catch(Rs){throw Rs.code===12?is():Rs}if(addConnectionToAudioParamOfAudioContext(this,ps,ms,ws)){const Rs=os([this],ps);visitEachAudioNodeOnce(Rs,ts(ws))}}disconnect(ps,ms,fs){let gs;const ws=cs(this._context),Ts=bs(ws);if(ps===void 0)gs=deleteAnyConnection(this,Ts);else if(typeof ps=="number"){if(ps<0||ps>=this.numberOfOutputs)throw rs();gs=deleteConnectionAtOutput(this,Ts,ps)}else{if(ms!==void 0&&(ms<0||ms>=this.numberOfOutputs)||isAudioNode(ps)&&fs!==void 0&&(fs<0||fs>=ps.numberOfInputs))throw rs();if(gs=deleteConnectionToDestination(this,Ts,ps,ms,fs),gs.length===0)throw is()}for(const $s of gs){const Rs=os([this],$s);visitEachAudioNodeOnce(Rs,ss)}}},createAudioParamFactory=(es,ki,Ri,ts,rs,is,ns,ss,os,ls,cs,hs,us)=>(As,bs,ys,Cs=null,ps=null)=>{const ms=ys.value,fs=new AutomationEventList(ms),gs=bs?ts(fs):null,ws={get defaultValue(){return ms},get maxValue(){return Cs===null?ys.maxValue:Cs},get minValue(){return ps===null?ys.minValue:ps},get value(){return ys.value},set value(Ts){ys.value=Ts,ws.setValueAtTime(Ts,As.context.currentTime)},cancelAndHoldAtTime(Ts){if(typeof ys.cancelAndHoldAtTime=="function")gs===null&&fs.flush(As.context.currentTime),fs.add(rs(Ts)),ys.cancelAndHoldAtTime(Ts);else{const $s=Array.from(fs).pop();gs===null&&fs.flush(As.context.currentTime),fs.add(rs(Ts));const Rs=Array.from(fs).pop();ys.cancelScheduledValues(Ts),$s!==Rs&&Rs!==void 0&&(Rs.type==="exponentialRampToValue"?ys.exponentialRampToValueAtTime(Rs.value,Rs.endTime):Rs.type==="linearRampToValue"?ys.linearRampToValueAtTime(Rs.value,Rs.endTime):Rs.type==="setValue"?ys.setValueAtTime(Rs.value,Rs.startTime):Rs.type==="setValueCurve"&&ys.setValueCurveAtTime(Rs.values,Rs.startTime,Rs.duration))}return ws},cancelScheduledValues(Ts){return gs===null&&fs.flush(As.context.currentTime),fs.add(is(Ts)),ys.cancelScheduledValues(Ts),ws},exponentialRampToValueAtTime(Ts,$s){if(Ts===0)throw new RangeError;if(!Number.isFinite($s)||$s<0)throw new RangeError;const Rs=As.context.currentTime;return gs===null&&fs.flush(Rs),Array.from(fs).length===0&&(fs.add(ls(ms,Rs)),ys.setValueAtTime(ms,Rs)),fs.add(ns(Ts,$s)),ys.exponentialRampToValueAtTime(Ts,$s),ws},linearRampToValueAtTime(Ts,$s){const Rs=As.context.currentTime;return gs===null&&fs.flush(Rs),Array.from(fs).length===0&&(fs.add(ls(ms,Rs)),ys.setValueAtTime(ms,Rs)),fs.add(ss(Ts,$s)),ys.linearRampToValueAtTime(Ts,$s),ws},setTargetAtTime(Ts,$s,Rs){return gs===null&&fs.flush(As.context.currentTime),fs.add(os(Ts,$s,Rs)),ys.setTargetAtTime(Ts,$s,Rs),ws},setValueAtTime(Ts,$s){return gs===null&&fs.flush(As.context.currentTime),fs.add(ls(Ts,$s)),ys.setValueAtTime(Ts,$s),ws},setValueCurveAtTime(Ts,$s,Rs){const Ps=Ts instanceof Float32Array?Ts:new Float32Array(Ts);if(hs!==null&&hs.name==="webkitAudioContext"){const Qs=$s+Rs,Fs=As.context.sampleRate,Is=Math.ceil($s*Fs),Ms=Math.floor(Qs*Fs),Ws=Ms-Is,Ds=new Float32Array(Ws);for(let Ns=0;Ns<Ws;Ns+=1){const Ss=(Ps.length-1)/Rs*((Is+Ns)/Fs-$s),Us=Math.floor(Ss),Zs=Math.ceil(Ss);Ds[Ns]=Us===Zs?Ps[Us]:(1-(Ss-Us))*Ps[Us]+(1-(Zs-Ss))*Ps[Zs]}gs===null&&fs.flush(As.context.currentTime),fs.add(cs(Ds,$s,Rs)),ys.setValueCurveAtTime(Ds,$s,Rs);const _s=Ms/Fs;_s<Qs&&us(ws,Ds[Ds.length-1],_s),us(ws,Ps[Ps.length-1],Qs)}else gs===null&&fs.flush(As.context.currentTime),fs.add(cs(Ps,$s,Rs)),ys.setValueCurveAtTime(Ps,$s,Rs);return ws}};return Ri.set(ws,ys),ki.set(ws,As),es(ws,gs),ws},createAudioParamRenderer=es=>({replay(ki){for(const Ri of es)if(Ri.type==="exponentialRampToValue"){const{endTime:ts,value:rs}=Ri;ki.exponentialRampToValueAtTime(rs,ts)}else if(Ri.type==="linearRampToValue"){const{endTime:ts,value:rs}=Ri;ki.linearRampToValueAtTime(rs,ts)}else if(Ri.type==="setTarget"){const{startTime:ts,target:rs,timeConstant:is}=Ri;ki.setTargetAtTime(rs,ts,is)}else if(Ri.type==="setValue"){const{startTime:ts,value:rs}=Ri;ki.setValueAtTime(rs,ts)}else if(Ri.type==="setValueCurve"){const{duration:ts,startTime:rs,values:is}=Ri;ki.setValueCurveAtTime(is,rs,ts)}else throw new Error("Can't apply an unknown automation.")}});class ReadOnlyMap{constructor(ki){this._map=new Map(ki)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(ki,Ri=null){return this._map.forEach((ts,rs)=>ki.call(Ri,ts,rs,this))}get(ki){return this._map.get(ki)}has(ki){return this._map.has(ki)}keys(){return this._map.keys()}values(){return this._map.values()}}const DEFAULT_OPTIONS$1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},createAudioWorkletNodeConstructor=(es,ki,Ri,ts,rs,is,ns,ss,os,ls,cs,hs,us,As)=>class extends ki{constructor(ys,Cs,ps){var ms;const fs=ss(ys),gs=os(fs),ws=cs({...DEFAULT_OPTIONS$1,...ps});us(ws);const Ts=NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.get(fs),$s=Ts==null?void 0:Ts.get(Cs),Rs=gs||fs.state!=="closed"?fs:(ms=ns(fs))!==null&&ms!==void 0?ms:fs,Ps=rs(Rs,gs?null:ys.baseLatency,ls,Cs,$s,ws),Qs=gs?ts(Cs,ws,$s):null;super(ys,!0,Ps,Qs);const Fs=[];Ps.parameters.forEach((Ms,Ws)=>{const Ds=Ri(this,gs,Ms);Fs.push([Ws,Ds])}),this._nativeAudioWorkletNode=Ps,this._onprocessorerror=null,this._parameters=new ReadOnlyMap(Fs),gs&&es(fs,this);const{activeInputs:Is}=is(this);hs(Ps,Is)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(ys){const Cs=typeof ys=="function"?As(this,ys):null;this._nativeAudioWorkletNode.onprocessorerror=Cs;const ps=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=ps!==null&&ps===Cs?ys:ps}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function copyFromChannel(es,ki,Ri,ts,rs){if(typeof es.copyFromChannel=="function")ki[Ri].byteLength===0&&(ki[Ri]=new Float32Array(128)),es.copyFromChannel(ki[Ri],ts,rs);else{const is=es.getChannelData(ts);if(ki[Ri].byteLength===0)ki[Ri]=is.slice(rs,rs+128);else{const ns=new Float32Array(is.buffer,rs*Float32Array.BYTES_PER_ELEMENT,128);ki[Ri].set(ns)}}}const copyToChannel=(es,ki,Ri,ts,rs)=>{typeof es.copyToChannel=="function"?ki[Ri].byteLength!==0&&es.copyToChannel(ki[Ri],ts,rs):ki[Ri].byteLength!==0&&es.getChannelData(ts).set(ki[Ri],rs)},createNestedArrays=(es,ki)=>{const Ri=[];for(let ts=0;ts<es;ts+=1){const rs=[],is=typeof ki=="number"?ki:ki[ts];for(let ns=0;ns<is;ns+=1)rs.push(new Float32Array(128));Ri.push(rs)}return Ri},getAudioWorkletProcessor=(es,ki)=>{const Ri=getValueForKey(NODE_TO_PROCESSOR_MAPS,es),ts=getNativeAudioNode(ki);return getValueForKey(Ri,ts)},processBuffer=async(es,ki,Ri,ts,rs,is,ns)=>{const ss=ki===null?Math.ceil(es.context.length/128)*128:ki.length,os=ts.channelCount*ts.numberOfInputs,ls=rs.reduce((Cs,ps)=>Cs+ps,0),cs=ls===0?null:Ri.createBuffer(ls,ss,Ri.sampleRate);if(is===void 0)throw new Error("Missing the processor constructor.");const hs=getAudioNodeConnections(es),us=await getAudioWorkletProcessor(Ri,es),As=createNestedArrays(ts.numberOfInputs,ts.channelCount),bs=createNestedArrays(ts.numberOfOutputs,rs),ys=Array.from(es.parameters.keys()).reduce((Cs,ps)=>({...Cs,[ps]:new Float32Array(128)}),{});for(let Cs=0;Cs<ss;Cs+=128){if(ts.numberOfInputs>0&&ki!==null)for(let ps=0;ps<ts.numberOfInputs;ps+=1)for(let ms=0;ms<ts.channelCount;ms+=1)copyFromChannel(ki,As[ps],ms,ms,Cs);is.parameterDescriptors!==void 0&&ki!==null&&is.parameterDescriptors.forEach(({name:ps},ms)=>{copyFromChannel(ki,ys,ps,os+ms,Cs)});for(let ps=0;ps<ts.numberOfInputs;ps+=1)for(let ms=0;ms<rs[ps];ms+=1)bs[ps][ms].byteLength===0&&(bs[ps][ms]=new Float32Array(128));try{const ps=As.map((fs,gs)=>hs.activeInputs[gs].size===0?[]:fs),ms=ns(Cs/Ri.sampleRate,Ri.sampleRate,()=>us.process(ps,bs,ys));if(cs!==null)for(let fs=0,gs=0;fs<ts.numberOfOutputs;fs+=1){for(let ws=0;ws<rs[fs];ws+=1)copyToChannel(cs,bs[fs],ws,gs+ws,Cs);gs+=rs[fs]}if(!ms)break}catch(ps){es.dispatchEvent(new ErrorEvent("processorerror",{colno:ps.colno,filename:ps.filename,lineno:ps.lineno,message:ps.message}));break}}return cs},createAudioWorkletNodeRendererFactory=(es,ki,Ri,ts,rs,is,ns,ss,os,ls,cs,hs,us,As,bs,ys)=>(Cs,ps,ms)=>{const fs=new WeakMap;let gs=null;const ws=async(Ts,$s)=>{let Rs=cs(Ts),Ps=null;const Qs=isOwnedByContext(Rs,$s),Fs=Array.isArray(ps.outputChannelCount)?ps.outputChannelCount:Array.from(ps.outputChannelCount);if(hs===null){const Is=Fs.reduce((_s,Ns)=>_s+Ns,0),Ms=rs($s,{channelCount:Math.max(1,Is),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,Is)}),Ws=[];for(let _s=0;_s<Ts.numberOfOutputs;_s+=1)Ws.push(ts($s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Fs[_s]}));const Ds=ns($s,{channelCount:ps.channelCount,channelCountMode:ps.channelCountMode,channelInterpretation:ps.channelInterpretation,gain:1});Ds.connect=ki.bind(null,Ws),Ds.disconnect=os.bind(null,Ws),Ps=[Ms,Ws,Ds]}else Qs||(Rs=new hs($s,Cs));if(fs.set($s,Ps===null?Rs:Ps[2]),Ps!==null){if(gs===null){if(ms===void 0)throw new Error("Missing the processor constructor.");if(us===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Ns=Ts.channelCount*Ts.numberOfInputs,Ss=ms.parameterDescriptors===void 0?0:ms.parameterDescriptors.length,Us=Ns+Ss;gs=processBuffer(Ts,Us===0?null:await(async()=>{const ao=new us(Us,Math.ceil(Ts.context.length/128)*128,$s.sampleRate),js=[],Bs=[];for(let oo=0;oo<ps.numberOfInputs;oo+=1)js.push(ns(ao,{channelCount:ps.channelCount,channelCountMode:ps.channelCountMode,channelInterpretation:ps.channelInterpretation,gain:1})),Bs.push(rs(ao,{channelCount:ps.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:ps.channelCount}));const zs=await Promise.all(Array.from(Ts.parameters.values()).map(async oo=>{const Ao=is(ao,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:oo.value});return await As(ao,oo,Ao.offset),Ao})),so=ts(ao,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,Ns+Ss)});for(let oo=0;oo<ps.numberOfInputs;oo+=1){js[oo].connect(Bs[oo]);for(let Ao=0;Ao<ps.channelCount;Ao+=1)Bs[oo].connect(so,Ao,oo*ps.channelCount+Ao)}for(const[oo,Ao]of zs.entries())Ao.connect(so,0,Ns+oo),Ao.start(0);return so.connect(ao.destination),await Promise.all(js.map(oo=>bs(Ts,ao,oo))),ys(ao)})(),$s,ps,Fs,ms,ls)}const Is=await gs,Ms=Ri($s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[Ws,Ds,_s]=Ps;Is!==null&&(Ms.buffer=Is,Ms.start(0)),Ms.connect(Ws);for(let Ns=0,Ss=0;Ns<Ts.numberOfOutputs;Ns+=1){const Us=Ds[Ns];for(let Zs=0;Zs<Fs[Ns];Zs+=1)Ws.connect(Us,Ss+Zs,Zs);Ss+=Fs[Ns]}return _s}if(Qs)for(const[Is,Ms]of Ts.parameters.entries())await es($s,Ms,Rs.parameters.get(Is));else for(const[Is,Ms]of Ts.parameters.entries())await As($s,Ms,Rs.parameters.get(Is));return await bs(Ts,$s,Rs),Rs};return{render(Ts,$s){ss($s,Ts);const Rs=fs.get($s);return Rs!==void 0?Promise.resolve(Rs):ws(Ts,$s)}}},createCacheTestResult=(es,ki)=>(Ri,ts)=>{const rs=ki.get(Ri);if(rs!==void 0)return rs;const is=es.get(Ri);if(is!==void 0)return is;try{const ns=ts();return ns instanceof Promise?(es.set(Ri,ns),ns.catch(()=>!1).then(ss=>(es.delete(Ri),ki.set(Ri,ss),ss))):(ki.set(Ri,ns),ns)}catch{return ki.set(Ri,!1),!1}},createConnectAudioParam=es=>(ki,Ri,ts)=>es(Ri,ki,ts),createConnectMultipleOutputs=es=>(ki,Ri,ts=0,rs=0)=>{const is=ki[ts];if(is===void 0)throw es();return isNativeAudioNode$1(Ri)?is.connect(Ri,0,rs):is.connect(Ri,0)},createConvertNumberToUnsignedLong=es=>ki=>(es[0]=ki,es[0]),createDecrementCycleCounter=(es,ki,Ri,ts,rs,is,ns,ss)=>(os,ls)=>{const cs=ki.get(os);if(cs===void 0)throw new Error("Missing the expected cycle count.");const hs=is(os.context),us=ss(hs);if(cs===ls){if(ki.delete(os),!us&&ns(os)){const As=ts(os),{outputs:bs}=Ri(os);for(const ys of bs)if(isAudioNodeOutputConnection(ys)){const Cs=ts(ys[0]);es(As,Cs,ys[1],ys[2])}else{const Cs=rs(ys[0]);As.connect(Cs,ys[1])}}}else ki.set(os,cs-ls)},createDeleteActiveInputConnectionToAudioNode=es=>(ki,Ri,ts,rs)=>es(ki[rs],is=>is[0]===Ri&&is[1]===ts),createDeleteUnrenderedAudioWorkletNode=es=>(ki,Ri)=>{es(ki).delete(Ri)},isDelayNode=es=>"delayTime"in es,createDetectCycles=(es,ki,Ri)=>function ts(rs,is){const ns=isAudioNode(is)?is:Ri(es,is);if(isDelayNode(ns))return[];if(rs[0]===ns)return[rs];if(rs.includes(ns))return[];const{outputs:ss}=ki(ns);return Array.from(ss).map(os=>ts([...rs,ns],os[0])).reduce((os,ls)=>os.concat(ls),[])},getOutputAudioNodeAtIndex=(es,ki,Ri)=>{const ts=ki[Ri];if(ts===void 0)throw es();return ts},createDisconnectMultipleOutputs=es=>(ki,Ri=void 0,ts=void 0,rs=0)=>Ri===void 0?ki.forEach(is=>is.disconnect()):typeof Ri=="number"?getOutputAudioNodeAtIndex(es,ki,Ri).disconnect():isNativeAudioNode$1(Ri)?ts===void 0?ki.forEach(is=>is.disconnect(Ri)):rs===void 0?getOutputAudioNodeAtIndex(es,ki,ts).disconnect(Ri,0):getOutputAudioNodeAtIndex(es,ki,ts).disconnect(Ri,0,rs):ts===void 0?ki.forEach(is=>is.disconnect(Ri)):getOutputAudioNodeAtIndex(es,ki,ts).disconnect(Ri,0),createEvaluateSource=es=>ki=>new Promise((Ri,ts)=>{if(es===null){ts(new SyntaxError);return}const rs=es.document.head;if(rs===null)ts(new SyntaxError);else{const is=es.document.createElement("script"),ns=new Blob([ki],{type:"application/javascript"}),ss=URL.createObjectURL(ns),os=es.onerror,ls=()=>{es.onerror=os,URL.revokeObjectURL(ss)};es.onerror=(cs,hs,us,As,bs)=>{if(hs===ss||hs===es.location.href&&us===1&&As===1)return ls(),ts(bs),!1;if(os!==null)return os(cs,hs,us,As,bs)},is.onerror=()=>{ls(),ts(new SyntaxError)},is.onload=()=>{ls(),Ri()},is.src=ss,is.type="module",rs.appendChild(is)}}),createEventTargetConstructor=es=>class{constructor(Ri){this._nativeEventTarget=Ri,this._listeners=new WeakMap}addEventListener(Ri,ts,rs){if(ts!==null){let is=this._listeners.get(ts);is===void 0&&(is=es(this,ts),typeof ts=="function"&&this._listeners.set(ts,is)),this._nativeEventTarget.addEventListener(Ri,is,rs)}}dispatchEvent(Ri){return this._nativeEventTarget.dispatchEvent(Ri)}removeEventListener(Ri,ts,rs){const is=ts===null?void 0:this._listeners.get(ts);this._nativeEventTarget.removeEventListener(Ri,is===void 0?null:is,rs)}},createExposeCurrentFrameAndCurrentTime=es=>(ki,Ri,ts)=>{Object.defineProperties(es,{currentFrame:{configurable:!0,get(){return Math.round(ki*Ri)}},currentTime:{configurable:!0,get(){return ki}}});try{return ts()}finally{es!==null&&(delete es.currentFrame,delete es.currentTime)}},createFetchSource=es=>async ki=>{try{const Ri=await fetch(ki);if(Ri.ok)return[await Ri.text(),Ri.url]}catch{}throw es()},createGetActiveAudioWorkletNodeInputs=(es,ki)=>Ri=>ki(es,Ri),createGetAudioNodeRenderer=es=>ki=>{const Ri=es(ki);if(Ri.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return Ri.renderer},createGetAudioNodeTailTime=es=>ki=>{var Ri;return(Ri=es.get(ki))!==null&&Ri!==void 0?Ri:0},createGetAudioParamRenderer=es=>ki=>{const Ri=es(ki);if(Ri.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return Ri.renderer},createGetBackupOfflineAudioContext=es=>ki=>es.get(ki),createInvalidStateError=()=>new DOMException("","InvalidStateError"),createGetNativeContext=es=>ki=>{const Ri=es.get(ki);if(Ri===void 0)throw createInvalidStateError();return Ri},createGetOrCreateBackupOfflineAudioContext=(es,ki)=>Ri=>{let ts=es.get(Ri);if(ts!==void 0)return ts;if(ki===null)throw new Error("Missing the native OfflineAudioContext constructor.");return ts=new ki(1,1,44100),es.set(Ri,ts),ts},createGetUnrenderedAudioWorkletNodes=es=>ki=>{const Ri=es.get(ki);if(Ri===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return Ri},createInvalidAccessError=()=>new DOMException("","InvalidAccessError"),createIncrementCycleCounterFactory=(es,ki,Ri,ts,rs,is)=>ns=>(ss,os)=>{const ls=es.get(ss);if(ls===void 0){if(!ns&&is(ss)){const cs=ts(ss),{outputs:hs}=Ri(ss);for(const us of hs)if(isAudioNodeOutputConnection(us)){const As=ts(us[0]);ki(cs,As,us[1],us[2])}else{const As=rs(us[0]);cs.disconnect(As,us[1])}}es.set(ss,os)}else es.set(ss,ls+os)},createIsNativeAudioContext=es=>ki=>es!==null&&ki instanceof es,createIsNativeAudioNode=es=>ki=>es!==null&&typeof es.AudioNode=="function"&&ki instanceof es.AudioNode,createIsNativeAudioParam=es=>ki=>es!==null&&typeof es.AudioParam=="function"&&ki instanceof es.AudioParam,createIsNativeOfflineAudioContext=es=>ki=>es!==null&&ki instanceof es,createIsSecureContext=es=>es!==null&&es.isSecureContext,createMediaStreamAudioSourceNodeConstructor=(es,ki,Ri,ts)=>class extends es{constructor(is,ns){const ss=Ri(is),os=ki(ss,ns);if(ts(ss))throw new TypeError;super(is,!0,os,null),this._nativeMediaStreamAudioSourceNode=os}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},createMinimalAudioContextConstructor=(es,ki,Ri,ts,rs)=>class extends ts{constructor(ns={}){if(rs===null)throw new Error("Missing the native AudioContext constructor.");let ss;try{ss=new rs(ns)}catch(cs){throw cs.code===12&&cs.message==="sampleRate is not in range"?ki():cs}if(ss===null)throw Ri();if(!isValidLatencyHint(ns.latencyHint))throw new TypeError(`The provided value '${ns.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(ns.sampleRate!==void 0&&ss.sampleRate!==ns.sampleRate)throw ki();super(ss,2);const{latencyHint:os}=ns,{sampleRate:ls}=ss;if(this._baseLatency=typeof ss.baseLatency=="number"?ss.baseLatency:os==="balanced"?512/ls:os==="interactive"||os===void 0?256/ls:os==="playback"?1024/ls:Math.max(2,Math.min(128,Math.round(os*ls/128)))*128/ls,this._nativeAudioContext=ss,rs.name==="webkitAudioContext"?(this._nativeGainNode=ss.createGain(),this._nativeOscillatorNode=ss.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(ss.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,ss.state==="running"){this._state="suspended";const cs=()=>{this._state==="suspended"&&(this._state=null),ss.removeEventListener("statechange",cs)};ss.addEventListener("statechange",cs)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw es()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),deactivateAudioGraph(this)}))}resume(){return this._state==="suspended"?new Promise((ns,ss)=>{const os=()=>{this._nativeAudioContext.removeEventListener("statechange",os),this._nativeAudioContext.state==="running"?ns():this.resume().then(ns,ss)};this._nativeAudioContext.addEventListener("statechange",os)}):this._nativeAudioContext.resume().catch(ns=>{throw ns===void 0||ns.code===15?es():ns})}suspend(){return this._nativeAudioContext.suspend().catch(ns=>{throw ns===void 0?es():ns})}},createMinimalBaseAudioContextConstructor=(es,ki,Ri,ts,rs,is)=>class extends Ri{constructor(ss,os){super(ss),this._nativeContext=ss,CONTEXT_STORE.set(this,ss),ts(ss)&&rs.set(ss,new Set),this._destination=new es(this,os),this._listener=ki(this,ss),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(ss){const os=typeof ss=="function"?is(this,ss):null;this._nativeContext.onstatechange=os;const ls=this._nativeContext.onstatechange;this._onstatechange=ls!==null&&ls===os?ss:ls}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},testPromiseSupport=es=>{const ki=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const Ri=es.decodeAudioData(ki.buffer,()=>{});return Ri===void 0?!1:(Ri.catch(()=>{}),!0)}catch{}return!1},createMonitorConnections=(es,ki)=>(Ri,ts,rs)=>{const is=new Set;return Ri.connect=(ns=>(ss,os=0,ls=0)=>{const cs=is.size===0;if(ki(ss))return ns.call(Ri,ss,os,ls),es(is,[ss,os,ls],hs=>hs[0]===ss&&hs[1]===os&&hs[2]===ls,!0),cs&&ts(),ss;ns.call(Ri,ss,os),es(is,[ss,os],hs=>hs[0]===ss&&hs[1]===os,!0),cs&&ts()})(Ri.connect),Ri.disconnect=(ns=>(ss,os,ls)=>{const cs=is.size>0;if(ss===void 0)ns.apply(Ri),is.clear();else if(typeof ss=="number"){ns.call(Ri,ss);for(const us of is)us[1]===ss&&is.delete(us)}else{ki(ss)?ns.call(Ri,ss,os,ls):ns.call(Ri,ss,os);for(const us of is)us[0]===ss&&(os===void 0||us[1]===os)&&(ls===void 0||us[2]===ls)&&is.delete(us)}const hs=is.size===0;cs&&hs&&rs()})(Ri.disconnect),Ri},assignNativeAudioNodeOption=(es,ki,Ri)=>{const ts=ki[Ri];ts!==void 0&&ts!==es[Ri]&&(es[Ri]=ts)},assignNativeAudioNodeOptions=(es,ki)=>{assignNativeAudioNodeOption(es,ki,"channelCount"),assignNativeAudioNodeOption(es,ki,"channelCountMode"),assignNativeAudioNodeOption(es,ki,"channelInterpretation")},createNativeAudioBufferConstructor=es=>es===null?null:es.hasOwnProperty("AudioBuffer")?es.AudioBuffer:null,assignNativeAudioNodeAudioParamValue=(es,ki,Ri)=>{const ts=ki[Ri];ts!==void 0&&ts!==es[Ri].value&&(es[Ri].value=ts)},wrapAudioBufferSourceNodeStartMethodConsecutiveCalls=es=>{es.start=(ki=>{let Ri=!1;return(ts=0,rs=0,is)=>{if(Ri)throw createInvalidStateError();ki.call(es,ts,rs,is),Ri=!0}})(es.start)},wrapAudioScheduledSourceNodeStartMethodNegativeParameters=es=>{es.start=(ki=>(Ri=0,ts=0,rs)=>{if(typeof rs=="number"&&rs<0||ts<0||Ri<0)throw new RangeError("The parameters can't be negative.");ki.call(es,Ri,ts,rs)})(es.start)},wrapAudioScheduledSourceNodeStopMethodNegativeParameters=es=>{es.stop=(ki=>(Ri=0)=>{if(Ri<0)throw new RangeError("The parameter can't be negative.");ki.call(es,Ri)})(es.stop)},createNativeAudioBufferSourceNodeFactory=(es,ki,Ri,ts,rs,is,ns,ss,os,ls,cs)=>(hs,us)=>{const As=hs.createBufferSource();return assignNativeAudioNodeOptions(As,us),assignNativeAudioNodeAudioParamValue(As,us,"playbackRate"),assignNativeAudioNodeOption(As,us,"buffer"),assignNativeAudioNodeOption(As,us,"loop"),assignNativeAudioNodeOption(As,us,"loopEnd"),assignNativeAudioNodeOption(As,us,"loopStart"),ki(Ri,()=>Ri(hs))||wrapAudioBufferSourceNodeStartMethodConsecutiveCalls(As),ki(ts,()=>ts(hs))||os(As),ki(rs,()=>rs(hs))||ls(As,hs),ki(is,()=>is(hs))||wrapAudioScheduledSourceNodeStartMethodNegativeParameters(As),ki(ns,()=>ns(hs))||cs(As,hs),ki(ss,()=>ss(hs))||wrapAudioScheduledSourceNodeStopMethodNegativeParameters(As),es(hs,As),As},createNativeAudioContextConstructor=es=>es===null?null:es.hasOwnProperty("AudioContext")?es.AudioContext:es.hasOwnProperty("webkitAudioContext")?es.webkitAudioContext:null,createNativeAudioDestinationNodeFactory=(es,ki)=>(Ri,ts,rs)=>{const is=Ri.destination;if(is.channelCount!==ts)try{is.channelCount=ts}catch{}rs&&is.channelCountMode!=="explicit"&&(is.channelCountMode="explicit"),is.maxChannelCount===0&&Object.defineProperty(is,"maxChannelCount",{value:ts});const ns=es(Ri,{channelCount:ts,channelCountMode:is.channelCountMode,channelInterpretation:is.channelInterpretation,gain:1});return ki(ns,"channelCount",ss=>()=>ss.call(ns),ss=>os=>{ss.call(ns,os);try{is.channelCount=os}catch(ls){if(os>is.maxChannelCount)throw ls}}),ki(ns,"channelCountMode",ss=>()=>ss.call(ns),ss=>os=>{ss.call(ns,os),is.channelCountMode=os}),ki(ns,"channelInterpretation",ss=>()=>ss.call(ns),ss=>os=>{ss.call(ns,os),is.channelInterpretation=os}),Object.defineProperty(ns,"maxChannelCount",{get:()=>is.maxChannelCount}),ns.connect(is),ns},createNativeAudioWorkletNodeConstructor=es=>es===null?null:es.hasOwnProperty("AudioWorkletNode")?es.AudioWorkletNode:null,testClonabilityOfAudioWorkletNodeOptions=es=>{const{port1:ki}=new MessageChannel;try{ki.postMessage(es)}finally{ki.close()}},createNativeAudioWorkletNodeFactory=(es,ki,Ri,ts,rs)=>(is,ns,ss,os,ls,cs)=>{if(ss!==null)try{const hs=new ss(is,os,cs),us=new Map;let As=null;if(Object.defineProperties(hs,{channelCount:{get:()=>cs.channelCount,set:()=>{throw es()}},channelCountMode:{get:()=>"explicit",set:()=>{throw es()}},onprocessorerror:{get:()=>As,set:bs=>{typeof As=="function"&&hs.removeEventListener("processorerror",As),As=typeof bs=="function"?bs:null,typeof As=="function"&&hs.addEventListener("processorerror",As)}}}),hs.addEventListener=(bs=>(...ys)=>{if(ys[0]==="processorerror"){const Cs=typeof ys[1]=="function"?ys[1]:typeof ys[1]=="object"&&ys[1]!==null&&typeof ys[1].handleEvent=="function"?ys[1].handleEvent:null;if(Cs!==null){const ps=us.get(ys[1]);ps!==void 0?ys[1]=ps:(ys[1]=ms=>{ms.type==="error"?(Object.defineProperties(ms,{type:{value:"processorerror"}}),Cs(ms)):Cs(new ErrorEvent(ys[0],{...ms}))},us.set(Cs,ys[1]))}}return bs.call(hs,"error",ys[1],ys[2]),bs.call(hs,...ys)})(hs.addEventListener),hs.removeEventListener=(bs=>(...ys)=>{if(ys[0]==="processorerror"){const Cs=us.get(ys[1]);Cs!==void 0&&(us.delete(ys[1]),ys[1]=Cs)}return bs.call(hs,"error",ys[1],ys[2]),bs.call(hs,ys[0],ys[1],ys[2])})(hs.removeEventListener),cs.numberOfOutputs!==0){const bs=Ri(is,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return hs.connect(bs).connect(is.destination),rs(hs,()=>bs.disconnect(),()=>bs.connect(is.destination))}return hs}catch(hs){throw hs.code===11?ts():hs}if(ls===void 0)throw ts();return testClonabilityOfAudioWorkletNodeOptions(cs),ki(is,ns,ls,cs)},computeBufferSize=(es,ki)=>es===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(es*ki))))),cloneAudioWorkletNodeOptions=es=>new Promise((ki,Ri)=>{const{port1:ts,port2:rs}=new MessageChannel;ts.onmessage=({data:is})=>{ts.close(),rs.close(),ki(is)},ts.onmessageerror=({data:is})=>{ts.close(),rs.close(),Ri(is)},rs.postMessage(es)}),createAudioWorkletProcessorPromise=async(es,ki)=>{const Ri=await cloneAudioWorkletNodeOptions(ki);return new es(Ri)},createAudioWorkletProcessor=(es,ki,Ri,ts)=>{let rs=NODE_TO_PROCESSOR_MAPS.get(es);rs===void 0&&(rs=new WeakMap,NODE_TO_PROCESSOR_MAPS.set(es,rs));const is=createAudioWorkletProcessorPromise(Ri,ts);return rs.set(ki,is),is},createNativeAudioWorkletNodeFakerFactory=(es,ki,Ri,ts,rs,is,ns,ss,os,ls,cs,hs,us)=>(As,bs,ys,Cs)=>{if(Cs.numberOfInputs===0&&Cs.numberOfOutputs===0)throw os();const ps=Array.isArray(Cs.outputChannelCount)?Cs.outputChannelCount:Array.from(Cs.outputChannelCount);if(ps.some(mo=>mo<1))throw os();if(ps.length!==Cs.numberOfOutputs)throw ki();if(Cs.channelCountMode!=="explicit")throw os();const ms=Cs.channelCount*Cs.numberOfInputs,fs=ps.reduce((mo,yo)=>mo+yo,0),gs=ys.parameterDescriptors===void 0?0:ys.parameterDescriptors.length;if(ms+gs>6||fs>6)throw os();const ws=new MessageChannel,Ts=[],$s=[];for(let mo=0;mo<Cs.numberOfInputs;mo+=1)Ts.push(ns(As,{channelCount:Cs.channelCount,channelCountMode:Cs.channelCountMode,channelInterpretation:Cs.channelInterpretation,gain:1})),$s.push(rs(As,{channelCount:Cs.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Cs.channelCount}));const Rs=[];if(ys.parameterDescriptors!==void 0)for(const{defaultValue:mo,maxValue:yo,minValue:Jo,name:Yo}of ys.parameterDescriptors){const Wo=is(As,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Cs.parameterData[Yo]!==void 0?Cs.parameterData[Yo]:mo===void 0?0:mo});Object.defineProperties(Wo.offset,{defaultValue:{get:()=>mo===void 0?0:mo},maxValue:{get:()=>yo===void 0?MOST_POSITIVE_SINGLE_FLOAT:yo},minValue:{get:()=>Jo===void 0?MOST_NEGATIVE_SINGLE_FLOAT:Jo}}),Rs.push(Wo)}const Ps=ts(As,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,ms+gs)}),Qs=computeBufferSize(bs,As.sampleRate),Fs=ss(As,Qs,ms+gs,Math.max(1,fs)),Is=rs(As,{channelCount:Math.max(1,fs),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,fs)}),Ms=[];for(let mo=0;mo<Cs.numberOfOutputs;mo+=1)Ms.push(ts(As,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:ps[mo]}));for(let mo=0;mo<Cs.numberOfInputs;mo+=1){Ts[mo].connect($s[mo]);for(let yo=0;yo<Cs.channelCount;yo+=1)$s[mo].connect(Ps,yo,mo*Cs.channelCount+yo)}const Ws=new ReadOnlyMap(ys.parameterDescriptors===void 0?[]:ys.parameterDescriptors.map(({name:mo},yo)=>{const Jo=Rs[yo];return Jo.connect(Ps,0,ms+yo),Jo.start(0),[mo,Jo.offset]}));Ps.connect(Fs);let Ds=Cs.channelInterpretation,_s=null;const Ns=Cs.numberOfOutputs===0?[Fs]:Ms,Ss={get bufferSize(){return Qs},get channelCount(){return Cs.channelCount},set channelCount(mo){throw Ri()},get channelCountMode(){return Cs.channelCountMode},set channelCountMode(mo){throw Ri()},get channelInterpretation(){return Ds},set channelInterpretation(mo){for(const yo of Ts)yo.channelInterpretation=mo;Ds=mo},get context(){return Fs.context},get inputs(){return Ts},get numberOfInputs(){return Cs.numberOfInputs},get numberOfOutputs(){return Cs.numberOfOutputs},get onprocessorerror(){return _s},set onprocessorerror(mo){typeof _s=="function"&&Ss.removeEventListener("processorerror",_s),_s=typeof mo=="function"?mo:null,typeof _s=="function"&&Ss.addEventListener("processorerror",_s)},get parameters(){return Ws},get port(){return ws.port2},addEventListener(...mo){return Fs.addEventListener(mo[0],mo[1],mo[2])},connect:es.bind(null,Ns),disconnect:ls.bind(null,Ns),dispatchEvent(...mo){return Fs.dispatchEvent(mo[0])},removeEventListener(...mo){return Fs.removeEventListener(mo[0],mo[1],mo[2])}},Us=new Map;ws.port1.addEventListener=(mo=>(...yo)=>{if(yo[0]==="message"){const Jo=typeof yo[1]=="function"?yo[1]:typeof yo[1]=="object"&&yo[1]!==null&&typeof yo[1].handleEvent=="function"?yo[1].handleEvent:null;if(Jo!==null){const Yo=Us.get(yo[1]);Yo!==void 0?yo[1]=Yo:(yo[1]=Wo=>{cs(As.currentTime,As.sampleRate,()=>Jo(Wo))},Us.set(Jo,yo[1]))}}return mo.call(ws.port1,yo[0],yo[1],yo[2])})(ws.port1.addEventListener),ws.port1.removeEventListener=(mo=>(...yo)=>{if(yo[0]==="message"){const Jo=Us.get(yo[1]);Jo!==void 0&&(Us.delete(yo[1]),yo[1]=Jo)}return mo.call(ws.port1,yo[0],yo[1],yo[2])})(ws.port1.removeEventListener);let Zs=null;Object.defineProperty(ws.port1,"onmessage",{get:()=>Zs,set:mo=>{typeof Zs=="function"&&ws.port1.removeEventListener("message",Zs),Zs=typeof mo=="function"?mo:null,typeof Zs=="function"&&(ws.port1.addEventListener("message",Zs),ws.port1.start())}}),ys.prototype.port=ws.port1;let ao=null;createAudioWorkletProcessor(As,Ss,ys,Cs).then(mo=>ao=mo);const Bs=createNestedArrays(Cs.numberOfInputs,Cs.channelCount),zs=createNestedArrays(Cs.numberOfOutputs,ps),so=ys.parameterDescriptors===void 0?[]:ys.parameterDescriptors.reduce((mo,{name:yo})=>({...mo,[yo]:new Float32Array(128)}),{});let oo=!0;const Ao=()=>{Cs.numberOfOutputs>0&&Fs.disconnect(Is);for(let mo=0,yo=0;mo<Cs.numberOfOutputs;mo+=1){const Jo=Ms[mo];for(let Yo=0;Yo<ps[mo];Yo+=1)Is.disconnect(Jo,yo+Yo,Yo);yo+=ps[mo]}},Xs=new Map;Fs.onaudioprocess=({inputBuffer:mo,outputBuffer:yo})=>{if(ao!==null){const Jo=hs(Ss);for(let Yo=0;Yo<Qs;Yo+=128){for(let Wo=0;Wo<Cs.numberOfInputs;Wo+=1)for(let ko=0;ko<Cs.channelCount;ko+=1)copyFromChannel(mo,Bs[Wo],ko,ko,Yo);ys.parameterDescriptors!==void 0&&ys.parameterDescriptors.forEach(({name:Wo},ko)=>{copyFromChannel(mo,so,Wo,ms+ko,Yo)});for(let Wo=0;Wo<Cs.numberOfInputs;Wo+=1)for(let ko=0;ko<ps[Wo];ko+=1)zs[Wo][ko].byteLength===0&&(zs[Wo][ko]=new Float32Array(128));try{const Wo=Bs.map((Qo,jo)=>{if(Jo[jo].size>0)return Xs.set(jo,Qs/128),Qo;const go=Xs.get(jo);return go===void 0?[]:(Qo.every(_o=>_o.every(To=>To===0))&&(go===1?Xs.delete(jo):Xs.set(jo,go-1)),Qo)});oo=cs(As.currentTime+Yo/As.sampleRate,As.sampleRate,()=>ao.process(Wo,zs,so));for(let Qo=0,jo=0;Qo<Cs.numberOfOutputs;Qo+=1){for(let Bo=0;Bo<ps[Qo];Bo+=1)copyToChannel(yo,zs[Qo],Bo,jo+Bo,Yo);jo+=ps[Qo]}}catch(Wo){oo=!1,Ss.dispatchEvent(new ErrorEvent("processorerror",{colno:Wo.colno,filename:Wo.filename,lineno:Wo.lineno,message:Wo.message}))}if(!oo){for(let Wo=0;Wo<Cs.numberOfInputs;Wo+=1){Ts[Wo].disconnect($s[Wo]);for(let ko=0;ko<Cs.channelCount;ko+=1)$s[Yo].disconnect(Ps,ko,Wo*Cs.channelCount+ko)}if(ys.parameterDescriptors!==void 0){const Wo=ys.parameterDescriptors.length;for(let ko=0;ko<Wo;ko+=1){const Qo=Rs[ko];Qo.disconnect(Ps,0,ms+ko),Qo.stop()}}Ps.disconnect(Fs),Fs.onaudioprocess=null,lo?Ao():ro();break}}}};let lo=!1;const co=ns(As,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),So=()=>Fs.connect(co).connect(As.destination),ro=()=>{Fs.disconnect(co),co.disconnect()},vo=()=>{if(oo){ro(),Cs.numberOfOutputs>0&&Fs.connect(Is);for(let mo=0,yo=0;mo<Cs.numberOfOutputs;mo+=1){const Jo=Ms[mo];for(let Yo=0;Yo<ps[mo];Yo+=1)Is.connect(Jo,yo+Yo,Yo);yo+=ps[mo]}}lo=!0},Eo=()=>{oo&&(So(),Ao()),lo=!1};return So(),us(Ss,vo,Eo)},createNativeChannelMergerNodeFactory=(es,ki)=>(Ri,ts)=>{const rs=Ri.createChannelMerger(ts.numberOfInputs);return es!==null&&es.name==="webkitAudioContext"&&ki(Ri,rs),assignNativeAudioNodeOptions(rs,ts),rs},wrapChannelSplitterNode=es=>{const ki=es.numberOfOutputs;Object.defineProperty(es,"channelCount",{get:()=>ki,set:Ri=>{if(Ri!==ki)throw createInvalidStateError()}}),Object.defineProperty(es,"channelCountMode",{get:()=>"explicit",set:Ri=>{if(Ri!=="explicit")throw createInvalidStateError()}}),Object.defineProperty(es,"channelInterpretation",{get:()=>"discrete",set:Ri=>{if(Ri!=="discrete")throw createInvalidStateError()}})},createNativeChannelSplitterNode=(es,ki)=>{const Ri=es.createChannelSplitter(ki.numberOfOutputs);return assignNativeAudioNodeOptions(Ri,ki),wrapChannelSplitterNode(Ri),Ri},createNativeConstantSourceNodeFactory=(es,ki,Ri,ts,rs)=>(is,ns)=>{if(is.createConstantSource===void 0)return Ri(is,ns);const ss=is.createConstantSource();return assignNativeAudioNodeOptions(ss,ns),assignNativeAudioNodeAudioParamValue(ss,ns,"offset"),ki(ts,()=>ts(is))||wrapAudioScheduledSourceNodeStartMethodNegativeParameters(ss),ki(rs,()=>rs(is))||wrapAudioScheduledSourceNodeStopMethodNegativeParameters(ss),es(is,ss),ss},interceptConnections=(es,ki)=>(es.connect=ki.connect.bind(ki),es.disconnect=ki.disconnect.bind(ki),es),createNativeConstantSourceNodeFakerFactory=(es,ki,Ri,ts)=>(rs,{offset:is,...ns})=>{const ss=rs.createBuffer(1,2,44100),os=ki(rs,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),ls=Ri(rs,{...ns,gain:is}),cs=ss.getChannelData(0);cs[0]=1,cs[1]=1,os.buffer=ss,os.loop=!0;const hs={get bufferSize(){},get channelCount(){return ls.channelCount},set channelCount(bs){ls.channelCount=bs},get channelCountMode(){return ls.channelCountMode},set channelCountMode(bs){ls.channelCountMode=bs},get channelInterpretation(){return ls.channelInterpretation},set channelInterpretation(bs){ls.channelInterpretation=bs},get context(){return ls.context},get inputs(){return[]},get numberOfInputs(){return os.numberOfInputs},get numberOfOutputs(){return ls.numberOfOutputs},get offset(){return ls.gain},get onended(){return os.onended},set onended(bs){os.onended=bs},addEventListener(...bs){return os.addEventListener(bs[0],bs[1],bs[2])},dispatchEvent(...bs){return os.dispatchEvent(bs[0])},removeEventListener(...bs){return os.removeEventListener(bs[0],bs[1],bs[2])},start(bs=0){os.start.call(os,bs)},stop(bs=0){os.stop.call(os,bs)}},us=()=>os.connect(ls),As=()=>os.disconnect(ls);return es(rs,os),ts(interceptConnections(hs,ls),us,As)},createNativeGainNode=(es,ki)=>{const Ri=es.createGain();return assignNativeAudioNodeOptions(Ri,ki),assignNativeAudioNodeAudioParamValue(Ri,ki,"gain"),Ri},createNativeMediaStreamAudioSourceNode=(es,{mediaStream:ki})=>{const Ri=ki.getAudioTracks();Ri.sort((is,ns)=>is.id<ns.id?-1:is.id>ns.id?1:0);const ts=Ri.slice(0,1),rs=es.createMediaStreamSource(new MediaStream(ts));return Object.defineProperty(rs,"mediaStream",{value:ki}),rs},createNativeOfflineAudioContextConstructor=es=>es===null?null:es.hasOwnProperty("OfflineAudioContext")?es.OfflineAudioContext:es.hasOwnProperty("webkitOfflineAudioContext")?es.webkitOfflineAudioContext:null,createNativeScriptProcessorNode=(es,ki,Ri,ts)=>es.createScriptProcessor(ki,Ri,ts),createNotSupportedError=()=>new DOMException("","NotSupportedError"),createRenderAutomation=(es,ki)=>(Ri,ts,rs)=>(es(ts).replay(rs),ki(ts,Ri,rs)),createRenderInputsOfAudioNode=(es,ki,Ri)=>async(ts,rs,is)=>{const ns=es(ts);await Promise.all(ns.activeInputs.map((ss,os)=>Array.from(ss).map(async([ls,cs])=>{const us=await ki(ls).render(ls,rs),As=ts.context.destination;!Ri(ls)&&(ts!==As||!Ri(ts))&&us.connect(is,cs,os)})).reduce((ss,os)=>[...ss,...os],[]))},createRenderInputsOfAudioParam=(es,ki,Ri)=>async(ts,rs,is)=>{const ns=ki(ts);await Promise.all(Array.from(ns.activeInputs).map(async([ss,os])=>{const cs=await es(ss).render(ss,rs);Ri(ss)||cs.connect(is,os)}))},createRenderNativeOfflineAudioContext=(es,ki,Ri,ts)=>rs=>es(testPromiseSupport,()=>testPromiseSupport(rs))?Promise.resolve(es(ts,ts)).then(is=>{if(!is){const ns=Ri(rs,512,0,1);rs.oncomplete=()=>{ns.onaudioprocess=null,ns.disconnect()},ns.onaudioprocess=()=>rs.currentTime,ns.connect(rs.destination)}return rs.startRendering()}):new Promise(is=>{const ns=ki(rs,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});rs.oncomplete=ss=>{ns.disconnect(),is(ss.renderedBuffer)},ns.connect(rs.destination),rs.startRendering()}),createSetActiveAudioWorkletNodeInputs=es=>(ki,Ri)=>{es.set(ki,Ri)},createTestAudioBufferConstructorSupport=es=>()=>{if(es===null)return!1;try{new es({length:1,sampleRate:44100})}catch{return!1}return!0},createTestAudioWorkletProcessorPostMessageSupport=(es,ki)=>async()=>{if(es===null)return!0;if(ki===null)return!1;const Ri=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),ts=new ki(1,128,44100),rs=URL.createObjectURL(Ri);let is=!1,ns=!1;try{await ts.audioWorklet.addModule(rs);const ss=new es(ts,"a",{numberOfOutputs:0}),os=ts.createOscillator();ss.port.onmessage=()=>is=!0,ss.onprocessorerror=()=>ns=!0,os.connect(ss),os.start(0),await ts.startRendering(),await new Promise(ls=>setTimeout(ls))}catch{}finally{URL.revokeObjectURL(rs)}return is&&!ns},createTestOfflineAudioContextCurrentTimeSupport=(es,ki)=>()=>{if(ki===null)return Promise.resolve(!1);const Ri=new ki(1,1,44100),ts=es(Ri,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(rs=>{Ri.oncomplete=()=>{ts.disconnect(),rs(Ri.currentTime!==0)},Ri.startRendering()})},createUnknownError=()=>new DOMException("","UnknownError"),createWindow$1=()=>typeof window>"u"?null:window,createWrapAudioBufferCopyChannelMethods=(es,ki)=>Ri=>{Ri.copyFromChannel=(ts,rs,is=0)=>{const ns=es(is),ss=es(rs);if(ss>=Ri.numberOfChannels)throw ki();const os=Ri.length,ls=Ri.getChannelData(ss),cs=ts.length;for(let hs=ns<0?-ns:0;hs+ns<os&&hs<cs;hs+=1)ts[hs]=ls[hs+ns]},Ri.copyToChannel=(ts,rs,is=0)=>{const ns=es(is),ss=es(rs);if(ss>=Ri.numberOfChannels)throw ki();const os=Ri.length,ls=Ri.getChannelData(ss),cs=ts.length;for(let hs=ns<0?-ns:0;hs+ns<os&&hs<cs;hs+=1)ls[hs+ns]=ts[hs]}},createWrapAudioBufferCopyChannelMethodsOutOfBounds=es=>ki=>{ki.copyFromChannel=(Ri=>(ts,rs,is=0)=>{const ns=es(is),ss=es(rs);if(ns<ki.length)return Ri.call(ki,ts,ss,ns)})(ki.copyFromChannel),ki.copyToChannel=(Ri=>(ts,rs,is=0)=>{const ns=es(is),ss=es(rs);if(ns<ki.length)return Ri.call(ki,ts,ss,ns)})(ki.copyToChannel)},createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer=es=>(ki,Ri)=>{const ts=Ri.createBuffer(1,1,44100);ki.buffer===null&&(ki.buffer=ts),es(ki,"buffer",rs=>()=>{const is=rs.call(ki);return is===ts?null:is},rs=>is=>rs.call(ki,is===null?ts:is))},createWrapChannelMergerNode=(es,ki)=>(Ri,ts)=>{ts.channelCount=1,ts.channelCountMode="explicit",Object.defineProperty(ts,"channelCount",{get:()=>1,set:()=>{throw es()}}),Object.defineProperty(ts,"channelCountMode",{get:()=>"explicit",set:()=>{throw es()}});const rs=Ri.createBufferSource();ki(ts,()=>{const ss=ts.numberOfInputs;for(let os=0;os<ss;os+=1)rs.connect(ts,0,os)},()=>rs.disconnect(ts))},getFirstSample=(es,ki,Ri)=>es.copyFromChannel===void 0?es.getChannelData(Ri)[0]:(es.copyFromChannel(ki,Ri),ki[0]),overwriteAccessors=(es,ki,Ri,ts)=>{let rs=es;for(;!rs.hasOwnProperty(ki);)rs=Object.getPrototypeOf(rs);const{get:is,set:ns}=Object.getOwnPropertyDescriptor(rs,ki);Object.defineProperty(es,ki,{get:Ri(is),set:ts(ns)})},sanitizeAudioWorkletNodeOptions=es=>({...es,outputChannelCount:es.outputChannelCount!==void 0?es.outputChannelCount:es.numberOfInputs===1&&es.numberOfOutputs===1?[es.channelCount]:Array.from({length:es.numberOfOutputs},()=>1)}),setValueAtTimeUntilPossible=(es,ki,Ri)=>{try{es.setValueAtTime(ki,Ri)}catch(ts){if(ts.code!==9)throw ts;setValueAtTimeUntilPossible(es,ki,Ri+1e-7)}},testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport=es=>{const ki=es.createBufferSource();ki.start();try{ki.start()}catch{return!0}return!1},testAudioBufferSourceNodeStartMethodOffsetClampingSupport=es=>{const ki=es.createBufferSource(),Ri=es.createBuffer(1,1,44100);ki.buffer=Ri;try{ki.start(0,1)}catch{return!1}return!0},testAudioBufferSourceNodeStopMethodNullifiedBufferSupport=es=>{const ki=es.createBufferSource();ki.start();try{ki.stop()}catch{return!1}return!0},testAudioScheduledSourceNodeStartMethodNegativeParametersSupport=es=>{const ki=es.createOscillator();try{ki.start(-1)}catch(Ri){return Ri instanceof RangeError}return!1},testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport=es=>{const ki=es.createBuffer(1,1,44100),Ri=es.createBufferSource();Ri.buffer=ki,Ri.start(),Ri.stop();try{return Ri.stop(),!0}catch{return!1}},testAudioScheduledSourceNodeStopMethodNegativeParametersSupport=es=>{const ki=es.createOscillator();try{ki.stop(-1)}catch(Ri){return Ri instanceof RangeError}return!1},testAudioWorkletNodeOptionsClonability=es=>{const{port1:ki,port2:Ri}=new MessageChannel;try{ki.postMessage(es)}finally{ki.close(),Ri.close()}},wrapAudioBufferSourceNodeStartMethodOffsetClamping=es=>{es.start=(ki=>(Ri=0,ts=0,rs)=>{const is=es.buffer,ns=is===null?ts:Math.min(is.duration,ts);is!==null&&ns>is.duration-.5/es.context.sampleRate?ki.call(es,Ri,0,0):ki.call(es,Ri,ns,rs)})(es.start)},wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls=(es,ki)=>{const Ri=ki.createGain();es.connect(Ri);const ts=(rs=>()=>{rs.call(es,Ri),es.removeEventListener("ended",ts)})(es.disconnect);es.addEventListener("ended",ts),interceptConnections(es,Ri),es.stop=(rs=>{let is=!1;return(ns=0)=>{if(is)try{rs.call(es,ns)}catch{Ri.gain.setValueAtTime(0,ns)}else rs.call(es,ns),is=!0}})(es.stop)},wrapEventListener$1=(es,ki)=>Ri=>{const ts={value:es};return Object.defineProperties(Ri,{currentTarget:ts,target:ts}),typeof ki=="function"?ki.call(es,Ri):ki.handleEvent.call(es,Ri)},addActiveInputConnectionToAudioNode=createAddActiveInputConnectionToAudioNode(insertElementInSet),addPassiveInputConnectionToAudioNode=createAddPassiveInputConnectionToAudioNode(insertElementInSet),deleteActiveInputConnectionToAudioNode=createDeleteActiveInputConnectionToAudioNode(pickElementFromSet),audioNodeTailTimeStore=new WeakMap,getAudioNodeTailTime=createGetAudioNodeTailTime(audioNodeTailTimeStore),cacheTestResult=createCacheTestResult(new Map,new WeakMap),window$2=createWindow$1(),getAudioNodeRenderer=createGetAudioNodeRenderer(getAudioNodeConnections),renderInputsOfAudioNode=createRenderInputsOfAudioNode(getAudioNodeConnections,getAudioNodeRenderer,isPartOfACycle),getNativeContext=createGetNativeContext(CONTEXT_STORE),nativeOfflineAudioContextConstructor=createNativeOfflineAudioContextConstructor(window$2),isNativeOfflineAudioContext=createIsNativeOfflineAudioContext(nativeOfflineAudioContextConstructor),audioParamAudioNodeStore=new WeakMap,eventTargetConstructor=createEventTargetConstructor(wrapEventListener$1),nativeAudioContextConstructor=createNativeAudioContextConstructor(window$2),isNativeAudioContext=createIsNativeAudioContext(nativeAudioContextConstructor),isNativeAudioNode=createIsNativeAudioNode(window$2),isNativeAudioParam=createIsNativeAudioParam(window$2),nativeAudioWorkletNodeConstructor=createNativeAudioWorkletNodeConstructor(window$2),audioNodeConstructor=createAudioNodeConstructor(createAddAudioNodeConnections(AUDIO_NODE_CONNECTIONS_STORE),createAddConnectionToAudioNode(addActiveInputConnectionToAudioNode,addPassiveInputConnectionToAudioNode,connectNativeAudioNodeToNativeAudioNode,deleteActiveInputConnectionToAudioNode,disconnectNativeAudioNodeFromNativeAudioNode,getAudioNodeConnections,getAudioNodeTailTime,getEventListenersOfAudioNode,getNativeAudioNode,insertElementInSet,isActiveAudioNode,isPartOfACycle,isPassiveAudioNode),cacheTestResult,createIncrementCycleCounterFactory(CYCLE_COUNTERS,disconnectNativeAudioNodeFromNativeAudioNode,getAudioNodeConnections,getNativeAudioNode,getNativeAudioParam,isActiveAudioNode),createIndexSizeError,createInvalidAccessError,createNotSupportedError,createDecrementCycleCounter(connectNativeAudioNodeToNativeAudioNode,CYCLE_COUNTERS,getAudioNodeConnections,getNativeAudioNode,getNativeAudioParam,getNativeContext,isActiveAudioNode,isNativeOfflineAudioContext),createDetectCycles(audioParamAudioNodeStore,getAudioNodeConnections,getValueForKey),eventTargetConstructor,getNativeContext,isNativeAudioContext,isNativeAudioNode,isNativeAudioParam,isNativeOfflineAudioContext,nativeAudioWorkletNodeConstructor),audioBufferStore=new WeakSet,nativeAudioBufferConstructor=createNativeAudioBufferConstructor(window$2),convertNumberToUnsignedLong=createConvertNumberToUnsignedLong(new Uint32Array(1)),wrapAudioBufferCopyChannelMethods=createWrapAudioBufferCopyChannelMethods(convertNumberToUnsignedLong,createIndexSizeError),wrapAudioBufferCopyChannelMethodsOutOfBounds=createWrapAudioBufferCopyChannelMethodsOutOfBounds(convertNumberToUnsignedLong),audioBufferConstructor=createAudioBufferConstructor(audioBufferStore,cacheTestResult,createNotSupportedError,nativeAudioBufferConstructor,nativeOfflineAudioContextConstructor,createTestAudioBufferConstructorSupport(nativeAudioBufferConstructor),wrapAudioBufferCopyChannelMethods,wrapAudioBufferCopyChannelMethodsOutOfBounds),addSilentConnection=createAddSilentConnection(createNativeGainNode),renderInputsOfAudioParam=createRenderInputsOfAudioParam(getAudioNodeRenderer,getAudioParamConnections,isPartOfACycle),connectAudioParam=createConnectAudioParam(renderInputsOfAudioParam),createNativeAudioBufferSourceNode=createNativeAudioBufferSourceNodeFactory(addSilentConnection,cacheTestResult,testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport,testAudioBufferSourceNodeStartMethodOffsetClampingSupport,testAudioBufferSourceNodeStopMethodNullifiedBufferSupport,testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport,testAudioScheduledSourceNodeStopMethodNegativeParametersSupport,wrapAudioBufferSourceNodeStartMethodOffsetClamping,createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer(overwriteAccessors),wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls),renderAutomation=createRenderAutomation(createGetAudioParamRenderer(getAudioParamConnections),renderInputsOfAudioParam),createAudioBufferSourceNodeRenderer=createAudioBufferSourceNodeRendererFactory(connectAudioParam,createNativeAudioBufferSourceNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),createAudioParam=createAudioParamFactory(createAddAudioParamConnections(AUDIO_PARAM_CONNECTIONS_STORE),audioParamAudioNodeStore,AUDIO_PARAM_STORE,createAudioParamRenderer,createCancelAndHoldAutomationEvent,createCancelScheduledValuesAutomationEvent,createExponentialRampToValueAutomationEvent,createLinearRampToValueAutomationEvent,createSetTargetAutomationEvent,createSetValueAutomationEvent,createSetValueCurveAutomationEvent,nativeAudioContextConstructor,setValueAtTimeUntilPossible),audioBufferSourceNodeConstructor=createAudioBufferSourceNodeConstructor(audioNodeConstructor,createAudioBufferSourceNodeRenderer,createAudioParam,createInvalidStateError,createNativeAudioBufferSourceNode,getNativeContext,isNativeOfflineAudioContext,wrapEventListener$1),audioDestinationNodeConstructor=createAudioDestinationNodeConstructor(audioNodeConstructor,createAudioDestinationNodeRenderer,createIndexSizeError,createInvalidStateError,createNativeAudioDestinationNodeFactory(createNativeGainNode,overwriteAccessors),getNativeContext,isNativeOfflineAudioContext,renderInputsOfAudioNode),monitorConnections=createMonitorConnections(insertElementInSet,isNativeAudioNode),wrapChannelMergerNode=createWrapChannelMergerNode(createInvalidStateError,monitorConnections),createNativeChannelMergerNode=createNativeChannelMergerNodeFactory(nativeAudioContextConstructor,wrapChannelMergerNode),createNativeConstantSourceNodeFaker=createNativeConstantSourceNodeFakerFactory(addSilentConnection,createNativeAudioBufferSourceNode,createNativeGainNode,monitorConnections),createNativeConstantSourceNode=createNativeConstantSourceNodeFactory(addSilentConnection,cacheTestResult,createNativeConstantSourceNodeFaker,testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,testAudioScheduledSourceNodeStopMethodNegativeParametersSupport),renderNativeOfflineAudioContext=createRenderNativeOfflineAudioContext(cacheTestResult,createNativeGainNode,createNativeScriptProcessorNode,createTestOfflineAudioContextCurrentTimeSupport(createNativeGainNode,nativeOfflineAudioContextConstructor)),createAudioListener=createAudioListenerFactory(createAudioParam,createNativeChannelMergerNode,createNativeConstantSourceNode,createNativeScriptProcessorNode,createNotSupportedError,getFirstSample,isNativeOfflineAudioContext,overwriteAccessors),unrenderedAudioWorkletNodeStore=new WeakMap,minimalBaseAudioContextConstructor=createMinimalBaseAudioContextConstructor(audioDestinationNodeConstructor,createAudioListener,eventTargetConstructor,isNativeOfflineAudioContext,unrenderedAudioWorkletNodeStore,wrapEventListener$1),isSecureContext=createIsSecureContext(window$2),exposeCurrentFrameAndCurrentTime=createExposeCurrentFrameAndCurrentTime(window$2),backupOfflineAudioContextStore=new WeakMap,getOrCreateBackupOfflineAudioContext=createGetOrCreateBackupOfflineAudioContext(backupOfflineAudioContextStore,nativeOfflineAudioContextConstructor),addAudioWorkletModule=isSecureContext?createAddAudioWorkletModule(cacheTestResult,createNotSupportedError,createEvaluateSource(window$2),exposeCurrentFrameAndCurrentTime,createFetchSource(createAbortError),getNativeContext,getOrCreateBackupOfflineAudioContext,isNativeOfflineAudioContext,nativeAudioWorkletNodeConstructor,new WeakMap,new WeakMap,createTestAudioWorkletProcessorPostMessageSupport(nativeAudioWorkletNodeConstructor,nativeOfflineAudioContextConstructor),window$2):void 0,mediaStreamAudioSourceNodeConstructor=createMediaStreamAudioSourceNodeConstructor(audioNodeConstructor,createNativeMediaStreamAudioSourceNode,getNativeContext,isNativeOfflineAudioContext),getUnrenderedAudioWorkletNodes=createGetUnrenderedAudioWorkletNodes(unrenderedAudioWorkletNodeStore),addUnrenderedAudioWorkletNode=createAddUnrenderedAudioWorkletNode(getUnrenderedAudioWorkletNodes),connectMultipleOutputs=createConnectMultipleOutputs(createIndexSizeError),deleteUnrenderedAudioWorkletNode=createDeleteUnrenderedAudioWorkletNode(getUnrenderedAudioWorkletNodes),disconnectMultipleOutputs=createDisconnectMultipleOutputs(createIndexSizeError),activeAudioWorkletNodeInputsStore=new WeakMap,getActiveAudioWorkletNodeInputs=createGetActiveAudioWorkletNodeInputs(activeAudioWorkletNodeInputsStore,getValueForKey),createNativeAudioWorkletNodeFaker=createNativeAudioWorkletNodeFakerFactory(connectMultipleOutputs,createIndexSizeError,createInvalidStateError,createNativeChannelMergerNode,createNativeChannelSplitterNode,createNativeConstantSourceNode,createNativeGainNode,createNativeScriptProcessorNode,createNotSupportedError,disconnectMultipleOutputs,exposeCurrentFrameAndCurrentTime,getActiveAudioWorkletNodeInputs,monitorConnections),createNativeAudioWorkletNode=createNativeAudioWorkletNodeFactory(createInvalidStateError,createNativeAudioWorkletNodeFaker,createNativeGainNode,createNotSupportedError,monitorConnections),createAudioWorkletNodeRenderer=createAudioWorkletNodeRendererFactory(connectAudioParam,connectMultipleOutputs,createNativeAudioBufferSourceNode,createNativeChannelMergerNode,createNativeChannelSplitterNode,createNativeConstantSourceNode,createNativeGainNode,deleteUnrenderedAudioWorkletNode,disconnectMultipleOutputs,exposeCurrentFrameAndCurrentTime,getNativeAudioNode,nativeAudioWorkletNodeConstructor,nativeOfflineAudioContextConstructor,renderAutomation,renderInputsOfAudioNode,renderNativeOfflineAudioContext),getBackupOfflineAudioContext=createGetBackupOfflineAudioContext(backupOfflineAudioContextStore),setActiveAudioWorkletNodeInputs=createSetActiveAudioWorkletNodeInputs(activeAudioWorkletNodeInputsStore),audioWorkletNodeConstructor=isSecureContext?createAudioWorkletNodeConstructor(addUnrenderedAudioWorkletNode,audioNodeConstructor,createAudioParam,createAudioWorkletNodeRenderer,createNativeAudioWorkletNode,getAudioNodeConnections,getBackupOfflineAudioContext,getNativeContext,isNativeOfflineAudioContext,nativeAudioWorkletNodeConstructor,sanitizeAudioWorkletNodeOptions,setActiveAudioWorkletNodeInputs,testAudioWorkletNodeOptionsClonability,wrapEventListener$1):void 0,minimalAudioContextConstructor=createMinimalAudioContextConstructor(createInvalidStateError,createNotSupportedError,createUnknownError,minimalBaseAudioContextConstructor,nativeAudioContextConstructor),ERROR_MESSAGE="Missing AudioWorklet support. Maybe this is not running in a secure context.",createPromisedAudioNodesEncoderInstanceIdAndPort=async(es,ki,Ri,ts,rs)=>{const{encoderInstanceId:is,port:ns}=await instantiate(rs,ki.sampleRate);if(audioWorkletNodeConstructor===void 0)throw new Error(ERROR_MESSAGE);const ss=new audioBufferSourceNodeConstructor(ki,{buffer:es}),os=new mediaStreamAudioSourceNodeConstructor(ki,{mediaStream:ts}),ls=createRecorderAudioWorkletNode(audioWorkletNodeConstructor,ki,{channelCount:Ri});return{audioBufferSourceNode:ss,encoderInstanceId:is,mediaStreamAudioSourceNode:os,port:ns,recorderAudioWorkletNode:ls}},createWebAudioMediaRecorderFactory=(es,ki,Ri,ts)=>(rs,is,ns)=>{var ss;const os=(ss=is.getAudioTracks()[0])===null||ss===void 0?void 0:ss.getSettings().sampleRate,ls=new minimalAudioContextConstructor({latencyHint:"playback",sampleRate:os}),cs=Math.max(1024,Math.ceil(ls.baseLatency*ls.sampleRate)),hs=new audioBufferConstructor({length:cs,sampleRate:ls.sampleRate}),us=[],As=addRecorderAudioWorkletModule(Rs=>{if(addAudioWorkletModule===void 0)throw new Error(ERROR_MESSAGE);return addAudioWorkletModule(ls,Rs)});let bs=null,ys=null,Cs=null,ps=null,ms=!0;const fs=Rs=>{rs.dispatchEvent(es("dataavailable",{data:new Blob(Rs,{type:ns})}))},gs=async(Rs,Ps)=>{const Qs=await encode$1(Rs,Ps);Cs===null?us.push(...Qs):(fs(Qs),ps=gs(Rs,Ps))},ws=()=>(ms=!0,ls.resume()),Ts=()=>{Cs!==null&&(bs!==null&&(is.removeEventListener("addtrack",bs),is.removeEventListener("removetrack",bs)),ys!==null&&clearTimeout(ys),Cs.then(async({encoderInstanceId:Rs,mediaStreamAudioSourceNode:Ps,recorderAudioWorkletNode:Qs})=>{ps!==null&&(ps.catch(()=>{}),ps=null),await Qs.stop(),Ps.disconnect(Qs);const Fs=await encode$1(Rs,null);Cs===null&&await $s(),fs([...us,...Fs]),us.length=0,rs.dispatchEvent(new Event("stop"))}),Cs=null)},$s=()=>(ms=!1,ls.suspend());return $s(),{get mimeType(){return ns},get state(){return Cs===null?"inactive":ms?"recording":"paused"},pause(){if(Cs===null)throw Ri();ms&&($s(),rs.dispatchEvent(new Event("pause")))},resume(){if(Cs===null)throw Ri();ms||(ws(),rs.dispatchEvent(new Event("resume")))},start(Rs){var Ps;if(Cs!==null)throw Ri();if(is.getVideoTracks().length>0)throw ts();rs.dispatchEvent(new Event("start"));const Qs=is.getAudioTracks(),Fs=Qs.length===0?2:(Ps=Qs[0].getSettings().channelCount)!==null&&Ps!==void 0?Ps:2;Cs=Promise.all([ws(),As.then(()=>createPromisedAudioNodesEncoderInstanceIdAndPort(hs,ls,Fs,is,ns))]).then(async([,{audioBufferSourceNode:Ms,encoderInstanceId:Ws,mediaStreamAudioSourceNode:Ds,port:_s,recorderAudioWorkletNode:Ns}])=>(Ds.connect(Ns),await new Promise(Ss=>{Ms.onended=Ss,Ms.connect(Ns),Ms.start(ls.currentTime+cs/ls.sampleRate)}),Ms.disconnect(Ns),await Ns.record(_s),Rs!==void 0&&(ps=gs(Ws,Rs)),{encoderInstanceId:Ws,mediaStreamAudioSourceNode:Ds,recorderAudioWorkletNode:Ns}));const Is=is.getTracks();bs=()=>{Ts(),rs.dispatchEvent(new ErrorEvent("error",{error:ki()}))},is.addEventListener("addtrack",bs),is.addEventListener("removetrack",bs),ys=setInterval(()=>{const Ms=is.getTracks();(Ms.length!==Is.length||Ms.some((Ws,Ds)=>Ws!==Is[Ds]))&&bs!==null&&bs()},1e3)},stop:Ts}};class MultiBufferDataView{constructor(ki,Ri=0,ts){if(Ri<0||ts!==void 0&&ts<0)throw new RangeError;const rs=ki.reduce((cs,hs)=>cs+hs.byteLength,0);if(Ri>rs||ts!==void 0&&Ri+ts>rs)throw new RangeError;const is=[],ns=ts===void 0?rs-Ri:ts,ss=[];let os=0,ls=Ri;for(const cs of ki)if(ss.length===0)if(cs.byteLength>ls){os=cs.byteLength-ls;const hs=os>ns?ns:os;is.push(new DataView(cs,ls,hs)),ss.push(cs)}else ls-=cs.byteLength;else if(os<ns){os+=cs.byteLength;const hs=os>ns?cs.byteLength-os+ns:cs.byteLength;is.push(new DataView(cs,0,hs)),ss.push(cs)}this._buffers=ss,this._byteLength=ns,this._byteOffset=ls,this._dataViews=is,this._internalBuffer=new DataView(new ArrayBuffer(8))}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get byteOffset(){return this._byteOffset}getFloat32(ki,Ri){return this._internalBuffer.setUint8(0,this.getUint8(ki+0)),this._internalBuffer.setUint8(1,this.getUint8(ki+1)),this._internalBuffer.setUint8(2,this.getUint8(ki+2)),this._internalBuffer.setUint8(3,this.getUint8(ki+3)),this._internalBuffer.getFloat32(0,Ri)}getFloat64(ki,Ri){return this._internalBuffer.setUint8(0,this.getUint8(ki+0)),this._internalBuffer.setUint8(1,this.getUint8(ki+1)),this._internalBuffer.setUint8(2,this.getUint8(ki+2)),this._internalBuffer.setUint8(3,this.getUint8(ki+3)),this._internalBuffer.setUint8(4,this.getUint8(ki+4)),this._internalBuffer.setUint8(5,this.getUint8(ki+5)),this._internalBuffer.setUint8(6,this.getUint8(ki+6)),this._internalBuffer.setUint8(7,this.getUint8(ki+7)),this._internalBuffer.getFloat64(0,Ri)}getInt16(ki,Ri){return this._internalBuffer.setUint8(0,this.getUint8(ki+0)),this._internalBuffer.setUint8(1,this.getUint8(ki+1)),this._internalBuffer.getInt16(0,Ri)}getInt32(ki,Ri){return this._internalBuffer.setUint8(0,this.getUint8(ki+0)),this._internalBuffer.setUint8(1,this.getUint8(ki+1)),this._internalBuffer.setUint8(2,this.getUint8(ki+2)),this._internalBuffer.setUint8(3,this.getUint8(ki+3)),this._internalBuffer.getInt32(0,Ri)}getInt8(ki){const[Ri,ts]=this._findDataViewWithOffset(ki);return Ri.getInt8(ki-ts)}getUint16(ki,Ri){return this._internalBuffer.setUint8(0,this.getUint8(ki+0)),this._internalBuffer.setUint8(1,this.getUint8(ki+1)),this._internalBuffer.getUint16(0,Ri)}getUint32(ki,Ri){return this._internalBuffer.setUint8(0,this.getUint8(ki+0)),this._internalBuffer.setUint8(1,this.getUint8(ki+1)),this._internalBuffer.setUint8(2,this.getUint8(ki+2)),this._internalBuffer.setUint8(3,this.getUint8(ki+3)),this._internalBuffer.getUint32(0,Ri)}getUint8(ki){const[Ri,ts]=this._findDataViewWithOffset(ki);return Ri.getUint8(ki-ts)}setFloat32(ki,Ri,ts){this._internalBuffer.setFloat32(0,Ri,ts),this.setUint8(ki,this._internalBuffer.getUint8(0)),this.setUint8(ki+1,this._internalBuffer.getUint8(1)),this.setUint8(ki+2,this._internalBuffer.getUint8(2)),this.setUint8(ki+3,this._internalBuffer.getUint8(3))}setFloat64(ki,Ri,ts){this._internalBuffer.setFloat64(0,Ri,ts),this.setUint8(ki,this._internalBuffer.getUint8(0)),this.setUint8(ki+1,this._internalBuffer.getUint8(1)),this.setUint8(ki+2,this._internalBuffer.getUint8(2)),this.setUint8(ki+3,this._internalBuffer.getUint8(3)),this.setUint8(ki+4,this._internalBuffer.getUint8(4)),this.setUint8(ki+5,this._internalBuffer.getUint8(5)),this.setUint8(ki+6,this._internalBuffer.getUint8(6)),this.setUint8(ki+7,this._internalBuffer.getUint8(7))}setInt16(ki,Ri,ts){this._internalBuffer.setInt16(0,Ri,ts),this.setUint8(ki,this._internalBuffer.getUint8(0)),this.setUint8(ki+1,this._internalBuffer.getUint8(1))}setInt32(ki,Ri,ts){this._internalBuffer.setInt32(0,Ri,ts),this.setUint8(ki,this._internalBuffer.getUint8(0)),this.setUint8(ki+1,this._internalBuffer.getUint8(1)),this.setUint8(ki+2,this._internalBuffer.getUint8(2)),this.setUint8(ki+3,this._internalBuffer.getUint8(3))}setInt8(ki,Ri){const[ts,rs]=this._findDataViewWithOffset(ki);ts.setInt8(ki-rs,Ri)}setUint16(ki,Ri,ts){this._internalBuffer.setUint16(0,Ri,ts),this.setUint8(ki,this._internalBuffer.getUint8(0)),this.setUint8(ki+1,this._internalBuffer.getUint8(1))}setUint32(ki,Ri,ts){this._internalBuffer.setUint32(0,Ri,ts),this.setUint8(ki,this._internalBuffer.getUint8(0)),this.setUint8(ki+1,this._internalBuffer.getUint8(1)),this.setUint8(ki+2,this._internalBuffer.getUint8(2)),this.setUint8(ki+3,this._internalBuffer.getUint8(3))}setUint8(ki,Ri){const[ts,rs]=this._findDataViewWithOffset(ki);ts.setUint8(ki-rs,Ri)}_findDataViewWithOffset(ki){let Ri=0;for(const ts of this._dataViews){const rs=Ri+ts.byteLength;if(ki>=Ri&&ki<rs)return[ts,Ri];Ri=rs}throw new RangeError}}const createWebmPcmMediaRecorderFactory=(es,ki,Ri)=>(ts,rs,is,ns)=>{const ss=[],os=new rs(is,{mimeType:"audio/webm;codecs=pcm"});let ls=null,cs=()=>{};const hs=bs=>{ts.dispatchEvent(es("dataavailable",{data:new Blob(bs,{type:ns})}))},us=async(bs,ys)=>{const Cs=await encode$1(bs,ys);os.state==="inactive"?ss.push(...Cs):(hs(Cs),ls=us(bs,ys))},As=()=>{os.state!=="inactive"&&(ls!==null&&(ls.catch(()=>{}),ls=null),cs(),cs=()=>{},os.stop())};return os.addEventListener("error",bs=>{As(),ts.dispatchEvent(new ErrorEvent("error",{error:bs.error}))}),os.addEventListener("pause",()=>ts.dispatchEvent(new Event("pause"))),os.addEventListener("resume",()=>ts.dispatchEvent(new Event("resume"))),os.addEventListener("start",()=>ts.dispatchEvent(new Event("start"))),{get mimeType(){return ns},get state(){return os.state},pause(){return os.pause()},resume(){return os.resume()},start(bs){const[ys]=is.getAudioTracks();if(ys!==void 0&&os.state==="inactive"){const{channelCount:Cs,sampleRate:ps}=ys.getSettings();if(Cs===void 0)throw new Error("The channelCount is not defined.");if(ps===void 0)throw new Error("The sampleRate is not defined.");let ms=!1,fs=!1,gs=0,ws=instantiate(ns,ps);cs=()=>{fs=!0};const Ts=on$1(os,"dataavailable")(({data:$s})=>{gs+=1;const Rs=$s.arrayBuffer();ws=ws.then(async({dataView:Ps=null,elementType:Qs=null,encoderInstanceId:Fs,port:Is})=>{const Ms=await Rs;gs-=1;const Ws=Ps===null?new MultiBufferDataView([Ms]):new MultiBufferDataView([...Ps.buffers,Ms],Ps.byteOffset);if(!ms&&os.state==="recording"&&!fs){const Us=Ri(Ws,0);if(Us===null)return{dataView:Ws,elementType:Qs,encoderInstanceId:Fs,port:Is};const{value:Zs}=Us;if(Zs!==172351395)return{dataView:Ps,elementType:Qs,encoderInstanceId:Fs,port:Is};ms=!0}const{currentElementType:Ds,offset:_s,contents:Ns}=ki(Ws,Qs,Cs),Ss=_s<Ws.byteLength?new MultiBufferDataView(Ws.buffers,Ws.byteOffset+_s):null;return Ns.forEach(Us=>Is.postMessage(Us,Us.map(({buffer:Zs})=>Zs))),gs===0&&(os.state==="inactive"||fs)&&(encode$1(Fs,null).then(Us=>{hs([...ss,...Us]),ss.length=0,ts.dispatchEvent(new Event("stop"))}),Is.postMessage([]),Is.close(),Ts()),{dataView:Ss,elementType:Ds,encoderInstanceId:Fs,port:Is}})});bs!==void 0&&ws.then(({encoderInstanceId:$s})=>{fs||(ls=us($s,bs))})}os.start(100)},stop:As}},createWindow=()=>typeof window>"u"?null:window,readVariableSizeIntegerLength=(es,ki)=>{if(ki>=es.byteLength)return null;const Ri=es.getUint8(ki);if(Ri>127)return 1;if(Ri>63)return 2;if(Ri>31)return 3;if(Ri>15)return 4;if(Ri>7)return 5;if(Ri>3)return 6;if(Ri>1)return 7;if(Ri>0)return 8;const ts=readVariableSizeIntegerLength(es,ki+1);return ts===null?null:ts+8},wrapEventListener=(es,ki)=>Ri=>{const ts={value:es};return Object.defineProperties(Ri,{currentTarget:ts,target:ts}),typeof ki=="function"?ki.call(es,Ri):ki.handleEvent.call(es,Ri)},encoderRegexes=[],window$1=createWindow(),nativeBlobEventConstructor=createNativeBlobEventConstructor(window$1),createBlobEvent=createBlobEventFactory(nativeBlobEventConstructor),createWebAudioMediaRecorder=createWebAudioMediaRecorderFactory(createBlobEvent,createInvalidModificationError,createInvalidStateError$1,createNotSupportedError$1),readVariableSizeInteger=createReadVariableSizeInteger(readVariableSizeIntegerLength),readElementContent=createReadElementContent(readVariableSizeInteger),readElementType=createReadElementType(readVariableSizeInteger),decodeWebMChunk=createDecodeWebMChunk(readElementContent,readElementType),createWebmPcmMediaRecorder=createWebmPcmMediaRecorderFactory(createBlobEvent,decodeWebMChunk,readVariableSizeInteger),createEventTarget=createEventTargetFactory(window$1),nativeMediaRecorderConstructor=createNativeMediaRecorderConstructor(window$1),mediaRecorderConstructor=createMediaRecorderConstructor(createNativeMediaRecorderFactory(createNotSupportedError$1),createNotSupportedError$1,createWebAudioMediaRecorder,createWebmPcmMediaRecorder,encoderRegexes,createEventTargetConstructor$1(createEventTarget,wrapEventListener),nativeMediaRecorderConstructor),ports=new WeakMap,register=async es=>{const ki=await register$1(es);encoderRegexes.push(ki),ports.set(es,ki)},wrap=createBroker({characterize:({call:es})=>()=>es("characterize"),encode:({call:es})=>(ki,Ri)=>es("encode",{recordingId:ki,timeslice:Ri}),record:({call:es})=>async(ki,Ri,ts)=>{await es("record",{recordingId:ki,sampleRate:Ri,typedArrays:ts},ts.map(({buffer:rs})=>rs))}}),load=es=>{const ki=new Worker(es);return wrap(ki)},worker=`(()=>{var e={455:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,s=536870912,a=2*s,o=function(e,t){return function(r){var o=t.get(r),i=void 0===o?r.size:o<a?o+1:0;if(!r.has(i))return e(r,i);if(r.size<s){for(;r.has(i);)i=Math.floor(Math.random()*a);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,l=r(i),c=o(l,i),u=t(c);e.addUniqueNumber=u,e.generateUniqueNumber=c}(t)}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}(()=>{"use strict";const e=-32603,t=-32602,n=-32601,s=(e,t)=>Object.assign(new Error(e),{status:t}),a=t=>s('The handler of the method called "'.concat(t,'" returned an unexpected result.'),e),o=(t,r)=>async o=>{let{data:{id:i,method:l,params:c}}=o;const u=r[l];try{if(void 0===u)throw(e=>s('The requested method called "'.concat(e,'" is not supported.'),n))(l);const r=void 0===c?u():u(c);if(void 0===r)throw(t=>s('The handler of the method called "'.concat(t,'" returned no required result.'),e))(l);const o=r instanceof Promise?await r:r;if(null===i){if(void 0!==o.result)throw a(l)}else{if(void 0===o.result)throw a(l);const{result:e,transferables:r=[]}=o;t.postMessage({id:i,result:e},r)}}catch(e){const{message:r,status:n=-32603}=e;t.postMessage({error:{code:n,message:r},id:i})}};var i=r(455);const l=new Map,c=(e,r,n)=>({...r,connect:t=>{let{port:n}=t;n.start();const s=e(n,r),a=(0,i.generateUniqueNumber)(l);return l.set(a,(()=>{s(),n.close(),l.delete(a)})),{result:a}},disconnect:e=>{let{portId:r}=e;const n=l.get(r);if(void 0===n)throw(e=>s('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),t))(r);return n(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=t=>{let{data:r}=t;return e(null!==r)},n.postMessage(t,[t])}))){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),u=function(e,t){const r=c(u,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0),n=o(e,r);return e.addEventListener("message",n),()=>e.removeEventListener("message",n)},d=e=>e.reduce(((e,t)=>e+t.length),0),h=(e,t)=>{const r=[];let n=0;e:for(;n<t;){const t=e.length;for(let s=0;s<t;s+=1){const t=e[s];void 0===r[s]&&(r[s]=[]);const a=t.shift();if(void 0===a)break e;r[s].push(a),0===s&&(n+=a.length)}}if(n>t){const s=n-t;r.forEach(((t,r)=>{const n=t.pop(),a=n.length-s;t.push(n.subarray(0,a)),e[r].unshift(n.subarray(a))}))}return r},f=new Map,m=(e=>(t,r,n)=>{const s=e.get(t);if(void 0===s){const s={channelDataArrays:n.map((e=>[e])),isComplete:!0,sampleRate:r};return e.set(t,s),s}return s.channelDataArrays.forEach(((e,t)=>e.push(n[t]))),s})(f),p=((e,t)=>(r,n,s,a)=>{const o=s>>3,i="subsequent"===n?0:44,l=r.length,c=e(r[0]),u=new ArrayBuffer(c*l*o+i),d=new DataView(u);return"subsequent"!==n&&t(d,s,l,"complete"===n?c:Number.POSITIVE_INFINITY,a),r.forEach(((e,t)=>{let r=i+t*o;e.forEach((e=>{const t=e.length;for(let n=0;n<t;n+=1){const t=e[n];d.setInt16(r,t<0?32768*Math.max(-1,t):32767*Math.min(1,t),!0),r+=l*o}}))})),[u]})(d,((e,t,r,n,s)=>{const a=t>>3,o=Math.min(n*r*a,4294967251);e.setUint32(0,1380533830),e.setUint32(4,o+36,!0),e.setUint32(8,1463899717),e.setUint32(12,1718449184),e.setUint32(16,16,!0),e.setUint16(20,1,!0),e.setUint16(22,r,!0),e.setUint32(24,s,!0),e.setUint32(28,s*r*a,!0),e.setUint16(32,r*a,!0),e.setUint16(34,t,!0),e.setUint32(36,1684108385),e.setUint32(40,o,!0)})),v=new Map;u(self,{characterize:()=>({result:/^audio\\/wav$/}),encode:e=>{let{recordingId:t,timeslice:r}=e;const n=v.get(t);void 0!==n&&(v.delete(t),n.reject(new Error("Another request was made to initiate an encoding.")));const s=f.get(t);if(null!==r){if(void 0===s||d(s.channelDataArrays[0])*(1e3/s.sampleRate)<r)return new Promise(((e,n)=>{v.set(t,{reject:n,resolve:e,timeslice:r})}));const e=h(s.channelDataArrays,Math.ceil(r*(s.sampleRate/1e3))),n=p(e,s.isComplete?"initial":"subsequent",16,s.sampleRate);return s.isComplete=!1,{result:n,transferables:n}}if(void 0!==s){const e=p(s.channelDataArrays,s.isComplete?"complete":"subsequent",16,s.sampleRate);return f.delete(t),{result:e,transferables:e}}return{result:[],transferables:[]}},record:e=>{let{recordingId:t,sampleRate:r,typedArrays:n}=e;const s=m(t,r,n),a=v.get(t);if(void 0!==a&&d(s.channelDataArrays[0])*(1e3/r)>=a.timeslice){const e=h(s.channelDataArrays,Math.ceil(a.timeslice*(r/1e3))),n=p(e,s.isComplete?"initial":"subsequent",16,r);s.isComplete=!1,v.delete(t),a.resolve({result:n,transferables:n})}return{result:null}}})})()})();`,blob=new Blob([worker],{type:"application/javascript; charset=utf-8"}),url=URL.createObjectURL(blob),extendableMediaRecorderWavEncoder=load(url),connect=extendableMediaRecorderWavEncoder.connect;URL.revokeObjectURL(url);let initializedMediaRecorder=!1;async function initializeMediaRecorder(){initializedMediaRecorder||(await register(await connect()),initializedMediaRecorder=!0)}class AiAudioRecorderController extends Controller{constructor(){super(...arguments);Ho(this,"recorder",null);Ho(this,"chunks",null);Ho(this,"state","");Ho(this,"audioEl",null)}connect(){initializeMediaRecorder()}async record(){if(!initializedMediaRecorder)return;if(!this.isIdle()){console.log("Cannot record while not idle");return}let Ri=await navigator.mediaDevices.getUserMedia({audio:!0});this.recorder=new mediaRecorderConstructor(Ri,{mimeType:"audio/wav"}),this.recorder.ondataavailable=ts=>{this.chunks.push(ts.data)},this.recorder.onstop=()=>{const ts=new Blob(this.chunks,{type:"audio/wav"});this.file=new File([ts],"recording.wav",{type:ts.type}),this.recorder=null,this.startDirectUpload()},this.chunks=[],this.recorder.start(),this.state="recording",this.refreshUI()}stop(){this.recorder&&this.isRecording()&&(this.state="saving",this.recorder.stop())}isIdle(){return!this.state||this.state==="uploaded"}isRecording(){return this.state==="recording"}isUploading(){return this.state==="uploading"}refreshUI(){this.isRecording()?(this.recordTarget.classList.add("d-none"),this.stopTarget.classList.remove("d-none"),this.playbackTarget.innerHTML=""):this.isUploading()?(this.recordTarget.classList.add("d-none"),this.stopTarget.classList.add("d-none"),this.playbackTarget.innerHTML="Uploading..."):this.isIdle()&&(this.recordTarget.classList.remove("d-none"),this.stopTarget.classList.add("d-none"))}startDirectUpload(){this.directUpload=new DirectUpload$1(this.file,this.directUploadPathValue,{directUploadWillStoreFileWithXHR:this.directUploadWillStoreFileWithXHR.bind(this)}),this.directUpload.create((Ri,ts)=>{if(Ri)throw new Error(Ri);this.onUploadComplete(ts)}),console.log("DirectUpload",this.directUpload),this.state="uploading",this.refreshUI()}directUploadWillStoreFileWithXHR(Ri){Ri.upload.addEventListener("progress",ts=>this.directUploadDidProgress(ts))}directUploadDidProgress(Ri){let rs=`Uploading ${Math.floor(Ri.loaded/Ri.total*100)}%`;this.playbackTarget.innerText=rs}async onUploadComplete(Ri){this.state="finalizing",await post("/ai/audio/uploads/voice_training/attach_verification_audio",{body:{upload:{signed_id:Ri.signed_id,voice_id:this.voiceIdValue}},responseKind:"turbo-stream"}),this.state="uploaded",this.refreshUI()}}Ho(AiAudioRecorderController,"targets",["playback","record","stop"]),Ho(AiAudioRecorderController,"values",{directUploadPath:String,voiceId:String});class AiAutoGenerateController extends Controller{connect(){this.autoGenerateValue&&document.querySelector("#ai-generate-button-control-btn").click()}}Ho(AiAutoGenerateController,"values",{autoGenerate:Boolean});class AiBlockedQueryModalController extends Controller{connect(){this.redirectPathValue?window.location.pathname.includes("/dreamscale")?window.location.href="/ai/image/dreamscale/introduction?prompt_blocked=true":window.location.href=this.redirectPathValue:(this.modal=new Modal(this.element),this.modal.show())}close(){this.modal.hide()}proceed(){this.modal.hide();let ki=document.querySelector('[name="ignore_copyright"]');ki.value=!0,document.querySelector("#ai-generate-button-control-btn").click()}}Ho(AiBlockedQueryModalController,"values",{redirectPath:String});class AiControlGenerateButtonController extends Controller{connect(){if(this.hasButtonIdValue){let ki=findElement$1(document,this.buttonIdValue);if(!ki)return;this.disabledValue?(ki.setAttribute("disabled",!0),ki.classList.add("disabled-while-creating")):(ki.classList.remove("disabled-while-creating"),ki.removeAttribute("disabled",!0),this.replaceHistory())}}replaceHistory(){let ki=new URL(window.location.href);ki.searchParams.delete("creating"),window.history.replaceState(null,"",ki)}}Ho(AiControlGenerateButtonController,"values",{disabled:Boolean,buttonId:String});class AiGridController extends Controller{constructor(){super(...arguments);Ho(this,"gridSize","medium")}switcherTargetConnected(){let Ri=localStorage.getItem("aiGridSize");Ri?(this.gridSize=Ri,this.refreshGridSize()):localStorage.setItem("aiGridSize",this.gridSize)}toggleGridSize(Ri){this.gridSize==="small"?this.setGridSize("medium"):this.setGridSize("small"),Ri.preventDefault()}setGridSizeSmall(Ri){this.setGridSize("small"),document.getElementById("grid_size")&&(document.getElementById("grid_size").value="SM"),Ri.preventDefault()}setGridSizeMedium(Ri){this.setGridSize("medium"),document.getElementById("grid_size")&&(document.getElementById("grid_size").value="LG"),Ri.preventDefault()}setGridSize(Ri){this.gridSize=Ri,localStorage.setItem("aiGridSize",this.gridSize),this.refreshGridSize()}refreshGridSize(){this.hasAiGridTarget&&(this.gridSize==="small"?(this.gridSizeSmallTarget.classList.add("active"),this.gridSizeMediumTarget.classList.remove("active"),this.hasGridSizeSmallMobileTarget&&(this.gridSizeSmallMobileTarget.classList.remove("d-none"),this.gridSizeMediumMobileTarget.classList.add("d-none")),this.aiGridTarget.classList.add("grid-sm")):this.gridSize==="medium"&&(this.gridSizeSmallTarget.classList.remove("active"),this.gridSizeMediumTarget.classList.add("active"),this.hasGridSizeSmallMobileTarget&&(this.gridSizeSmallMobileTarget.classList.add("d-none"),this.gridSizeMediumMobileTarget.classList.remove("d-none")),this.aiGridTarget.classList.remove("grid-sm")))}toggleFocusClass(Ri){let ts=Ri.currentTarget.closest(".ai-image");const rs=ts.dataset.historyId;if(ts.classList.contains("focus")){ts.classList.remove("focus"),rs&&this.updateHistoryRightPanel(rs,"false");return}for(let is of this.imageToggleableTargets)is.classList.remove("focus");ts.classList.add("focus"),rs&&this.updateHistoryRightPanel(rs,"true")}updateHistoryRightPanel(Ri,ts){post(this.urlValue,{query:{id:Ri,visibility:ts},responseKind:"turbo-stream"})}}Ho(AiGridController,"targets",["aiGrid","gridSizeSmall","gridSizeSmallMobile","gridSizeMedium","gridSizeMediumMobile","imageToggleable","switcher"]),Ho(AiGridController,"values",{url:String});/*!
 * Intro.js v7.2.0
 * https://introjs.com
 *
 * Copyright (C) 2012-2023 Afshin Mehrabani (@afshinmeh).
 * https://introjs.com
 *
 * Date: Mon, 14 Aug 2023 19:47:14 GMT
 */function t$1(es){return t$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ki){return typeof ki}:function(ki){return ki&&typeof Symbol=="function"&&ki.constructor===Symbol&&ki!==Symbol.prototype?"symbol":typeof ki},t$1(es)}function e$2(es,ki,Ri,ts){return new(Ri||(Ri=Promise))(function(rs,is){function ns(ls){try{os(ts.next(ls))}catch(cs){is(cs)}}function ss(ls){try{os(ts.throw(ls))}catch(cs){is(cs)}}function os(ls){var cs;ls.done?rs(ls.value):(cs=ls.value,cs instanceof Ri?cs:new Ri(function(hs){hs(cs)})).then(ns,ss)}os((ts=ts.apply(es,[])).next())})}function n$2(es,ki){var Ri,ts,rs,is,ns={label:0,sent:function(){if(1&rs[0])throw rs[1];return rs[1]},trys:[],ops:[]};return is={next:ss(0),throw:ss(1),return:ss(2)},typeof Symbol=="function"&&(is[Symbol.iterator]=function(){return this}),is;function ss(os){return function(ls){return function(cs){if(Ri)throw new TypeError("Generator is already executing.");for(;is&&(is=0,cs[0]&&(ns=0)),ns;)try{if(Ri=1,ts&&(rs=2&cs[0]?ts.return:cs[0]?ts.throw||((rs=ts.return)&&rs.call(ts),0):ts.next)&&!(rs=rs.call(ts,cs[1])).done)return rs;switch(ts=0,rs&&(cs=[2&cs[0],rs.value]),cs[0]){case 0:case 1:rs=cs;break;case 4:return ns.label++,{value:cs[1],done:!1};case 5:ns.label++,ts=cs[1],cs=[0];continue;case 7:cs=ns.ops.pop(),ns.trys.pop();continue;default:if(rs=ns.trys,!((rs=rs.length>0&&rs[rs.length-1])||cs[0]!==6&&cs[0]!==2)){ns=0;continue}if(cs[0]===3&&(!rs||cs[1]>rs[0]&&cs[1]<rs[3])){ns.label=cs[1];break}if(cs[0]===6&&ns.label<rs[1]){ns.label=rs[1],rs=cs;break}if(rs&&ns.label<rs[2]){ns.label=rs[2],ns.ops.push(cs);break}rs[2]&&ns.ops.pop(),ns.trys.pop();continue}cs=ki.call(es,ns)}catch(hs){cs=[6,hs],ts=0}finally{Ri=rs=0}if(5&cs[0])throw cs[1];return{value:cs[0]?cs[1]:void 0,done:!0}}([os,ls])}}}function o$2(es,ki,Ri){var ts,rs=((ts={})[es]=ki,ts.path="/",ts.expires=void 0,ts);if(Ri){var is=new Date;is.setTime(is.getTime()+24*Ri*60*60*1e3),rs.expires=is.toUTCString()}var ns=[];for(var ss in rs)ns.push("".concat(ss,"=").concat(rs[ss]));return document.cookie=ns.join("; "),i$3(es)}function i$3(es){return(ki={},document.cookie.split(";").forEach(function(Ri){var ts=Ri.split("="),rs=ts[0],is=ts[1];ki[rs.trim()]=is}),ki)[es];var ki}function r$2(es,ki){ki?o$2(es._options.dontShowAgainCookie,"true",es._options.dontShowAgainCookieDays):o$2(es._options.dontShowAgainCookie,"",-1)}var s$2,a$2=(s$2={},function(es,ki){return ki===void 0&&(ki="introjs-stamp"),s$2[ki]=s$2[ki]||0,es[ki]===void 0&&(es[ki]=s$2[ki]++),es[ki]}),l$2=new(function(){function es(){this.events_key="introjs_event"}return es.prototype._id=function(ki,Ri,ts){return ki+a$2(Ri)+(ts?"_".concat(a$2(ts)):"")},es.prototype.on=function(ki,Ri,ts,rs,is){var ns=this._id(Ri,ts,rs),ss=function(os){return ts(rs||ki,os||window.event)};"addEventListener"in ki?ki.addEventListener(Ri,ss,is):"attachEvent"in ki&&ki.attachEvent("on".concat(Ri),ss),ki[this.events_key]=ki[this.events_key]||{},ki[this.events_key][ns]=ss},es.prototype.off=function(ki,Ri,ts,rs,is){var ns=this._id(Ri,ts,rs),ss=ki[this.events_key]&&ki[this.events_key][ns];ss&&("removeEventListener"in ki?ki.removeEventListener(Ri,ss,is):"detachEvent"in ki&&ki.detachEvent("on".concat(Ri),ss),ki[this.events_key][ns]=null)},es}()),c$4=function(es){return typeof es=="function"};function u$3(es,ki){if(es instanceof SVGElement){var Ri=es.getAttribute("class")||"";Ri.match(ki)||es.setAttribute("class","".concat(Ri," ").concat(ki))}else if(es.classList!==void 0)for(var ts=0,rs=ki.split(" ");ts<rs.length;ts++){var is=rs[ts];es.classList.add(is)}else es.className.match(ki)||(es.className+=" ".concat(ki))}function p$2(es,ki){var Ri="";return"currentStyle"in es?Ri=es.currentStyle[ki]:document.defaultView&&document.defaultView.getComputedStyle&&(Ri=document.defaultView.getComputedStyle(es,null).getPropertyValue(ki)),Ri&&Ri.toLowerCase?Ri.toLowerCase():Ri}function h$2(es,ki){if(es){var Ri=function(ts){var rs=window.getComputedStyle(ts),is=rs.position==="absolute",ns=/(auto|scroll)/;if(rs.position==="fixed")return document.body;for(var ss=ts;ss=ss.parentElement;)if(rs=window.getComputedStyle(ss),(!is||rs.position!=="static")&&ns.test(rs.overflow+rs.overflowY+rs.overflowX))return ss;return document.body}(ki);Ri!==document.body&&(Ri.scrollTop=ki.offsetTop-Ri.offsetTop)}}function d$4(){if(window.innerWidth!==void 0)return{width:window.innerWidth,height:window.innerHeight};var es=document.documentElement;return{width:es.clientWidth,height:es.clientHeight}}function f$3(es,ki,Ri,ts,rs){var is;if(ki!=="off"&&es&&(is=ki==="tooltip"?rs.getBoundingClientRect():ts.getBoundingClientRect(),!function(ss){var os=ss.getBoundingClientRect();return os.top>=0&&os.left>=0&&os.bottom+80<=window.innerHeight&&os.right<=window.innerWidth}(ts))){var ns=d$4().height;is.bottom-(is.bottom-is.top)<0||ts.clientHeight>ns?window.scrollBy(0,is.top-(ns/2-is.height/2)-Ri):window.scrollBy(0,is.top-(ns/2-is.height/2)+Ri)}}function b$3(es){es.setAttribute("role","button"),es.tabIndex=0}function m$2(es){var ki=es.parentElement;return!(!ki||ki.nodeName==="HTML")&&(p$2(es,"position")==="fixed"||m$2(ki))}function g$3(es,ki){var Ri=document.body,ts=document.documentElement,rs=window.pageYOffset||ts.scrollTop||Ri.scrollTop,is=window.pageXOffset||ts.scrollLeft||Ri.scrollLeft;ki=ki||Ri;var ns=es.getBoundingClientRect(),ss=ki.getBoundingClientRect(),os=p$2(ki,"position"),ls={width:ns.width,height:ns.height};return ki.tagName.toLowerCase()!=="body"&&os==="relative"||os==="sticky"?Object.assign(ls,{top:ns.top-ss.top,left:ns.left-ss.left}):m$2(es)?Object.assign(ls,{top:ns.top,left:ns.left}):Object.assign(ls,{top:ns.top+rs,left:ns.left+is})}function v$3(es,ki){if(es instanceof SVGElement){var Ri=es.getAttribute("class")||"";es.setAttribute("class",Ri.replace(ki,"").replace(/^\s+|\s+$/g,""))}else es.className=es.className.replace(ki,"").replace(/^\s+|\s+$/g,"")}function y$3(es,ki){var Ri="";if(es.style.cssText&&(Ri+=es.style.cssText),typeof ki=="string")Ri+=ki;else for(var ts in ki)Ri+="".concat(ts,":").concat(ki[ts],";");es.style.cssText=Ri}function w$2(es,ki,Ri){if(Ri&&ki){var ts=g$3(ki.element,es._targetElement),rs=es._options.helperElementPadding;ki.element instanceof Element&&m$2(ki.element)?u$3(Ri,"introjs-fixedTooltip"):v$3(Ri,"introjs-fixedTooltip"),ki.position==="floating"&&(rs=0),y$3(Ri,{width:"".concat(ts.width+rs,"px"),height:"".concat(ts.height+rs,"px"),top:"".concat(ts.top-rs/2,"px"),left:"".concat(ts.left-rs/2,"px")})}}function _$3(es,ki,Ri,ts,rs){return es.left+ki+Ri.width>ts.width?(rs.style.left="".concat(ts.width-Ri.width-es.left,"px"),!1):(rs.style.left="".concat(ki,"px"),!0)}function C$2(es,ki,Ri,ts){return es.left+es.width-ki-Ri.width<0?(ts.style.left="".concat(-es.left,"px"),!1):(ts.style.right="".concat(ki,"px"),!0)}function S$2(es,ki){es.includes(ki)&&es.splice(es.indexOf(ki),1)}function k$2(es,ki,Ri,ts){var rs=es.slice(),is=d$4(),ns=g$3(Ri).height+10,ss=g$3(Ri).width+20,os=ki.getBoundingClientRect(),ls="floating";if(os.bottom+ns>is.height&&S$2(rs,"bottom"),os.top-ns<0&&S$2(rs,"top"),os.right+ss>is.width&&S$2(rs,"right"),os.left-ss<0&&S$2(rs,"left"),ts&&(ts=ts.split("-")[0]),rs.length&&(ls=rs[0],rs.includes(ts)&&(ls=ts)),ls==="top"||ls==="bottom"){var cs=void 0,hs=[];ls==="top"?(cs="top-middle-aligned",hs=["top-left-aligned","top-middle-aligned","top-right-aligned"]):(cs="bottom-middle-aligned",hs=["bottom-left-aligned","bottom-middle-aligned","bottom-right-aligned"]),ls=function(us,As,bs,ys){var Cs=As/2,ps=Math.min(bs,window.screen.width);return ps-us<As&&(S$2(ys,"top-left-aligned"),S$2(ys,"bottom-left-aligned")),(us<Cs||ps-us<Cs)&&(S$2(ys,"top-middle-aligned"),S$2(ys,"bottom-middle-aligned")),us<As&&(S$2(ys,"top-right-aligned"),S$2(ys,"bottom-right-aligned")),ys.length?ys[0]:null}(os.left,ss,is.width,hs)||cs}return ls}function j$3(es,ki,Ri,ts,rs){if(rs===void 0&&(rs=!1),ki){var is,ns,ss,os,ls="";Ri.style.top="",Ri.style.right="",Ri.style.bottom="",Ri.style.left="",Ri.style.marginLeft="",Ri.style.marginTop="",ts.style.display="inherit",ls=typeof ki.tooltipClass=="string"?ki.tooltipClass:es._options.tooltipClass,Ri.className=["introjs-tooltip",ls].filter(Boolean).join(" "),Ri.setAttribute("role","dialog"),(os=ki.position)!=="floating"&&es._options.autoPosition&&(os=k$2(es._options.positionPrecedence,ki.element,Ri,os)),ns=g$3(ki.element),is=g$3(Ri),ss=d$4(),u$3(Ri,"introjs-".concat(os));var cs=ns.width/2-is.width/2;switch(os){case"top-right-aligned":ts.className="introjs-arrow bottom-right";var hs=0;C$2(ns,hs,is,Ri),Ri.style.bottom="".concat(ns.height+20,"px");break;case"top-middle-aligned":ts.className="introjs-arrow bottom-middle",rs&&(cs+=5),C$2(ns,cs,is,Ri)&&(Ri.style.right="",_$3(ns,cs,is,ss,Ri)),Ri.style.bottom="".concat(ns.height+20,"px");break;case"top-left-aligned":case"top":ts.className="introjs-arrow bottom",_$3(ns,rs?0:15,is,ss,Ri),Ri.style.bottom="".concat(ns.height+20,"px");break;case"right":Ri.style.left="".concat(ns.width+20,"px"),ns.top+is.height>ss.height?(ts.className="introjs-arrow left-bottom",Ri.style.top="-".concat(is.height-ns.height-20,"px")):ts.className="introjs-arrow left";break;case"left":rs||es._options.showStepNumbers!==!0||(Ri.style.top="15px"),ns.top+is.height>ss.height?(Ri.style.top="-".concat(is.height-ns.height-20,"px"),ts.className="introjs-arrow right-bottom"):ts.className="introjs-arrow right",Ri.style.right="".concat(ns.width+20,"px");break;case"floating":ts.style.display="none",Ri.style.left="50%",Ri.style.top="50%",Ri.style.marginLeft="-".concat(is.width/2,"px"),Ri.style.marginTop="-".concat(is.height/2,"px");break;case"bottom-right-aligned":ts.className="introjs-arrow top-right",C$2(ns,hs=0,is,Ri),Ri.style.top="".concat(ns.height+20,"px");break;case"bottom-middle-aligned":ts.className="introjs-arrow top-middle",rs&&(cs+=5),C$2(ns,cs,is,Ri)&&(Ri.style.right="",_$3(ns,cs,is,ss,Ri)),Ri.style.top="".concat(ns.height+20,"px");break;default:ts.className="introjs-arrow top",_$3(ns,0,is,ss,Ri),Ri.style.top="".concat(ns.height+20,"px")}}}function A$2(){for(var es=0,ki=Array.from(document.querySelectorAll(".introjs-showElement"));es<ki.length;es++)v$3(ki[es],/introjs-[a-zA-Z]+/g)}function x$4(es,ki){var Ri=document.createElement(es);ki=ki||{};var ts=/^(?:role|data-|aria-)/;for(var rs in ki){var is=ki[rs];rs==="style"&&typeof is!="function"?y$3(Ri,is):typeof is=="string"&&rs.match(ts)?Ri.setAttribute(rs,is):Ri[rs]=is}return Ri}function N$2(es,ki,Ri){if(Ri===void 0&&(Ri=!1),Ri){var ts=ki.style.opacity||"1";y$3(ki,{opacity:"0"}),window.setTimeout(function(){y$3(ki,{opacity:ts})},10)}es.appendChild(ki)}function E$3(es,ki){return(es+1)/ki*100}function T$2(es,ki){var Ri=x$4("div",{className:"introjs-bullets"});es._options.showBullets===!1&&(Ri.style.display="none");var ts=x$4("ul");ts.setAttribute("role","tablist");for(var rs=function(){var ls=this.getAttribute("data-step-number");ls!=null&&es.goToStep(parseInt(ls,10))},is=0;is<es._introItems.length;is++){var ns=es._introItems[is].step,ss=x$4("li"),os=x$4("a");ss.setAttribute("role","presentation"),os.setAttribute("role","tab"),os.onclick=rs,is===ki.step-1&&(os.className="active"),b$3(os),os.innerHTML="&nbsp;",os.setAttribute("data-step-number",ns.toString()),ss.appendChild(os),ts.appendChild(ss)}return Ri.appendChild(ts),Ri}function I$3(es,ki,Ri){var ts=es.querySelector(".introjs-progress .introjs-progressbar");if(ts){var rs=E$3(ki,Ri);ts.style.cssText="width:".concat(rs,"%;"),ts.setAttribute("aria-valuenow",rs.toString())}}function L$2(es,ki){return e$2(this,void 0,void 0,function(){var Ri,ts,rs,is,ns,ss,os,ls,cs,hs,us,As,bs,ys,Cs,ps,ms,fs,gs,ws,Ts,$s,Rs,Ps,Qs=this;return n$2(this,function(Fs){switch(Fs.label){case 0:return c$4(es._introChangeCallback)?[4,es._introChangeCallback.call(es,ki.element)]:[3,2];case 1:Fs.sent(),Fs.label=2;case 2:return Ri=document.querySelector(".introjs-helperLayer"),ts=document.querySelector(".introjs-tooltipReferenceLayer"),rs="introjs-helperLayer",typeof ki.highlightClass=="string"&&(rs+=" ".concat(ki.highlightClass)),typeof es._options.highlightClass=="string"&&(rs+=" ".concat(es._options.highlightClass)),Ri!==null&&ts!==null?(os=ts.querySelector(".introjs-helperNumberLayer"),ls=ts.querySelector(".introjs-tooltiptext"),cs=ts.querySelector(".introjs-tooltip-title"),hs=ts.querySelector(".introjs-arrow"),us=ts.querySelector(".introjs-tooltip"),ss=ts.querySelector(".introjs-skipbutton"),ns=ts.querySelector(".introjs-prevbutton"),is=ts.querySelector(".introjs-nextbutton"),Ri.className=rs,us.style.opacity="0",us.style.display="none",h$2(es._options.scrollToElement,ki.element),w$2(es,ki,Ri),w$2(es,ki,ts),A$2(),es._lastShowElementTimer&&window.clearTimeout(es._lastShowElementTimer),es._lastShowElementTimer=window.setTimeout(function(){os!==null&&(os.innerHTML="".concat(ki.step," ").concat(es._options.stepNumbersOfLabel," ").concat(es._introItems.length)),ls.innerHTML=ki.intro||"",cs.innerHTML=ki.title||"",us.style.display="block",j$3(es,ki,us,hs),function(Is,Ms,Ws){if(Is){var Ds=Ms.querySelector(".introjs-bullets li > a.active"),_s=Ms.querySelector('.introjs-bullets li > a[data-step-number="'.concat(Ws.step,'"]'));Ds&&_s&&(Ds.className="",_s.className="active")}}(es._options.showBullets,ts,ki),I$3(ts,es._currentStep,es._introItems.length),us.style.opacity="1",(is!=null&&/introjs-donebutton/gi.test(is.className)||is!=null)&&is.focus(),f$3(es._options.scrollToElement,ki.scrollTo,es._options.scrollPadding,ki.element,ls)},350)):(As=x$4("div",{className:rs}),bs=x$4("div",{className:"introjs-tooltipReferenceLayer"}),ys=x$4("div",{className:"introjs-arrow"}),Cs=x$4("div",{className:"introjs-tooltip"}),ps=x$4("div",{className:"introjs-tooltiptext"}),ms=x$4("div",{className:"introjs-tooltip-header"}),fs=x$4("h1",{className:"introjs-tooltip-title"}),gs=x$4("div"),y$3(As,{"box-shadow":"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, ".concat(es._options.overlayOpacity.toString(),") 0 0 0 5000px")}),h$2(es._options.scrollToElement,ki.element),w$2(es,ki,As),w$2(es,ki,bs),N$2(es._targetElement,As,!0),N$2(es._targetElement,bs),ps.innerHTML=ki.intro,fs.innerHTML=ki.title,gs.className="introjs-tooltipbuttons",es._options.showButtons===!1&&(gs.style.display="none"),ms.appendChild(fs),Cs.appendChild(ms),Cs.appendChild(ps),es._options.dontShowAgain&&(ws=x$4("div",{className:"introjs-dontShowAgain"}),(Ts=x$4("input",{type:"checkbox",id:"introjs-dontShowAgain",name:"introjs-dontShowAgain"})).onchange=function(Is){es.setDontShowAgain(Is.target.checked)},($s=x$4("label",{htmlFor:"introjs-dontShowAgain"})).innerText=es._options.dontShowAgainLabel,ws.appendChild(Ts),ws.appendChild($s),Cs.appendChild(ws)),Cs.appendChild(T$2(es,ki)),Cs.appendChild(function(Is){var Ms=x$4("div");Ms.className="introjs-progress",Is._options.showProgress===!1&&(Ms.style.display="none");var Ws=x$4("div",{className:"introjs-progressbar"});Is._options.progressBarAdditionalClass&&(Ws.className+=" "+Is._options.progressBarAdditionalClass);var Ds=E$3(Is._currentStep,Is._introItems.length);return Ws.setAttribute("role","progress"),Ws.setAttribute("aria-valuemin","0"),Ws.setAttribute("aria-valuemax","100"),Ws.setAttribute("aria-valuenow",Ds.toString()),Ws.style.cssText="width:".concat(Ds,"%;"),Ms.appendChild(Ws),Ms}(es)),Rs=x$4("div"),es._options.showStepNumbers===!0&&(Rs.className="introjs-helperNumberLayer",Rs.innerHTML="".concat(ki.step," ").concat(es._options.stepNumbersOfLabel," ").concat(es._introItems.length),Cs.appendChild(Rs)),Cs.appendChild(ys),bs.appendChild(Cs),(is=x$4("a")).onclick=function(){return e$2(Qs,void 0,void 0,function(){return n$2(this,function(Is){switch(Is.label){case 0:return es._introItems.length-1===es._currentStep?[3,2]:[4,B$2(es)];case 1:return Is.sent(),[3,6];case 2:return/introjs-donebutton/gi.test(is.className)?c$4(es._introCompleteCallback)?[4,es._introCompleteCallback.call(es,es._currentStep,"done")]:[3,4]:[3,6];case 3:Is.sent(),Is.label=4;case 4:return[4,et$3(es,es._targetElement)];case 5:Is.sent(),Is.label=6;case 6:return[2]}})})},b$3(is),is.innerHTML=es._options.nextLabel,(ns=x$4("a")).onclick=function(){return e$2(Qs,void 0,void 0,function(){return n$2(this,function(Is){switch(Is.label){case 0:return es._currentStep>0?[4,H$2(es)]:[3,2];case 1:Is.sent(),Is.label=2;case 2:return[2]}})})},b$3(ns),ns.innerHTML=es._options.prevLabel,b$3(ss=x$4("a",{className:"introjs-skipbutton"})),ss.innerHTML=es._options.skipLabel,ss.onclick=function(){return e$2(Qs,void 0,void 0,function(){return n$2(this,function(Is){switch(Is.label){case 0:return es._introItems.length-1===es._currentStep&&c$4(es._introCompleteCallback)?[4,es._introCompleteCallback.call(es,es._currentStep,"skip")]:[3,2];case 1:Is.sent(),Is.label=2;case 2:return c$4(es._introSkipCallback)?[4,es._introSkipCallback.call(es,es._currentStep)]:[3,4];case 3:Is.sent(),Is.label=4;case 4:return[4,et$3(es,es._targetElement)];case 5:return Is.sent(),[2]}})})},ms.appendChild(ss),es._introItems.length>1&&gs.appendChild(ns),gs.appendChild(is),Cs.appendChild(gs),j$3(es,ki,Cs,ys),f$3(es._options.scrollToElement,ki.scrollTo,es._options.scrollPadding,ki.element,Cs)),(Ps=es._targetElement.querySelector(".introjs-disableInteraction"))&&Ps.parentNode&&Ps.parentNode.removeChild(Ps),ki.disableInteraction&&function(Is,Ms){var Ws=document.querySelector(".introjs-disableInteraction");Ws===null&&(Ws=x$4("div",{className:"introjs-disableInteraction"}),Is._targetElement.appendChild(Ws)),w$2(Is,Ms,Ws)}(es,ki),es._currentStep===0&&es._introItems.length>1?(is!=null&&(is.className="".concat(es._options.buttonClass," introjs-nextbutton"),is.innerHTML=es._options.nextLabel),es._options.hidePrev===!0?(ns!=null&&(ns.className="".concat(es._options.buttonClass," introjs-prevbutton introjs-hidden")),is!=null&&u$3(is,"introjs-fullbutton")):ns!=null&&(ns.className="".concat(es._options.buttonClass," introjs-prevbutton introjs-disabled"))):es._introItems.length-1===es._currentStep||es._introItems.length===1?(ns!=null&&(ns.className="".concat(es._options.buttonClass," introjs-prevbutton")),es._options.hideNext===!0?(is!=null&&(is.className="".concat(es._options.buttonClass," introjs-nextbutton introjs-hidden")),ns!=null&&u$3(ns,"introjs-fullbutton")):is!=null&&(es._options.nextToDone===!0?(is.innerHTML=es._options.doneLabel,u$3(is,"".concat(es._options.buttonClass," introjs-nextbutton introjs-donebutton"))):is.className="".concat(es._options.buttonClass," introjs-nextbutton introjs-disabled"))):(ns!=null&&(ns.className="".concat(es._options.buttonClass," introjs-prevbutton")),is!=null&&(is.className="".concat(es._options.buttonClass," introjs-nextbutton"),is.innerHTML=es._options.nextLabel)),ns!=null&&ns.setAttribute("role","button"),is!=null&&is.setAttribute("role","button"),ss!=null&&ss.setAttribute("role","button"),is!=null&&is.focus(),function(Is){u$3(Is,"introjs-showElement");var Ms=p$2(Is,"position");Ms!=="absolute"&&Ms!=="relative"&&Ms!=="sticky"&&Ms!=="fixed"&&u$3(Is,"introjs-relativePosition")}(ki.element),c$4(es._introAfterChangeCallback)?[4,es._introAfterChangeCallback.call(es,ki.element)]:[3,4];case 3:Fs.sent(),Fs.label=4;case 4:return[2]}})})}function P$3(es,ki){return e$2(this,void 0,void 0,function(){return n$2(this,function(Ri){switch(Ri.label){case 0:return es._currentStep=ki-2,es._introItems===void 0?[3,2]:[4,B$2(es)];case 1:Ri.sent(),Ri.label=2;case 2:return[2]}})})}function q$4(es,ki){return e$2(this,void 0,void 0,function(){return n$2(this,function(Ri){switch(Ri.label){case 0:return es._currentStepNumber=ki,es._introItems===void 0?[3,2]:[4,B$2(es)];case 1:Ri.sent(),Ri.label=2;case 2:return[2]}})})}function B$2(es){return e$2(this,void 0,void 0,function(){var ki,Ri,ts;return n$2(this,function(rs){switch(rs.label){case 0:if(es._direction="forward",es._currentStepNumber!==void 0)for(ki=0;ki<es._introItems.length;ki++)es._introItems[ki].step===es._currentStepNumber&&(es._currentStep=ki-1,es._currentStepNumber=void 0);return es._currentStep===-1?es._currentStep=0:++es._currentStep,Ri=es._introItems[es._currentStep],ts=!0,c$4(es._introBeforeChangeCallback)?[4,es._introBeforeChangeCallback.call(es,Ri&&Ri.element,es._currentStep,es._direction)]:[3,2];case 1:ts=rs.sent(),rs.label=2;case 2:return ts===!1?(--es._currentStep,[2,!1]):es._introItems.length<=es._currentStep?c$4(es._introCompleteCallback)?[4,es._introCompleteCallback.call(es,es._currentStep,"end")]:[3,4]:[3,6];case 3:rs.sent(),rs.label=4;case 4:return[4,et$3(es,es._targetElement)];case 5:return rs.sent(),[2,!1];case 6:return[4,L$2(es,Ri)];case 7:return rs.sent(),[2,!0]}})})}function H$2(es){return e$2(this,void 0,void 0,function(){var ki,Ri;return n$2(this,function(ts){switch(ts.label){case 0:return es._direction="backward",es._currentStep<=0?[2,!1]:(--es._currentStep,ki=es._introItems[es._currentStep],Ri=!0,c$4(es._introBeforeChangeCallback)?[4,es._introBeforeChangeCallback.call(es,ki&&ki.element,es._currentStep,es._direction)]:[3,2]);case 1:Ri=ts.sent(),ts.label=2;case 2:return Ri===!1?(++es._currentStep,[2,!1]):[4,L$2(es,ki)];case 3:return ts.sent(),[2,!0]}})})}function R$3(es,ki){return e$2(this,void 0,void 0,function(){var Ri,ts;return n$2(this,function(rs){switch(rs.label){case 0:return(Ri=ki.code===void 0?ki.which:ki.code)===null&&(Ri=ki.charCode===null?ki.keyCode:ki.charCode),Ri!=="Escape"&&Ri!==27||es._options.exitOnEsc!==!0?[3,2]:[4,et$3(es,es._targetElement)];case 1:return rs.sent(),[3,16];case 2:return Ri!=="ArrowLeft"&&Ri!==37?[3,4]:[4,H$2(es)];case 3:return rs.sent(),[3,16];case 4:return Ri!=="ArrowRight"&&Ri!==39?[3,6]:[4,B$2(es)];case 5:return rs.sent(),[3,16];case 6:return Ri!=="Enter"&&Ri!=="NumpadEnter"&&Ri!==13?[3,16]:(ts=ki.target||ki.srcElement)&&ts.className.match("introjs-prevbutton")?[4,H$2(es)]:[3,8];case 7:return rs.sent(),[3,15];case 8:return ts&&ts.className.match("introjs-skipbutton")?es._introItems.length-1===es._currentStep&&c$4(es._introCompleteCallback)?[4,es._introCompleteCallback.call(es,es._currentStep,"skip")]:[3,10]:[3,12];case 9:rs.sent(),rs.label=10;case 10:return[4,et$3(es,es._targetElement)];case 11:return rs.sent(),[3,15];case 12:return ts&&ts.getAttribute("data-step-number")?(ts.click(),[3,15]):[3,13];case 13:return[4,B$2(es)];case 14:rs.sent(),rs.label=15;case 15:ki.preventDefault?ki.preventDefault():ki.returnValue=!1,rs.label=16;case 16:return[2]}})})}function O$2(es){if(es===null||t$1(es)!=="object"||"nodeType"in es)return es;var ki={};for(var Ri in es)"jQuery"in window&&es[Ri]instanceof window.jQuery?ki[Ri]=es[Ri]:ki[Ri]=O$2(es[Ri]);return ki}function M$2(es){var ki=document.querySelector(".introjs-hints");return ki?Array.from(ki.querySelectorAll(es)):[]}function D$4(es,ki){return e$2(this,void 0,void 0,function(){var Ri;return n$2(this,function(ts){switch(ts.label){case 0:return Ri=M$2('.introjs-hint[data-step="'.concat(ki,'"]'))[0],Y$3(),Ri&&u$3(Ri,"introjs-hidehint"),c$4(es._hintCloseCallback)?[4,es._hintCloseCallback.call(es,ki)]:[3,2];case 1:ts.sent(),ts.label=2;case 2:return[2]}})})}function F$2(es){return e$2(this,void 0,void 0,function(){var ki,Ri,ts,rs,is;return n$2(this,function(ns){switch(ns.label){case 0:ki=M$2(".introjs-hint"),Ri=0,ts=ki,ns.label=1;case 1:return Ri<ts.length?(rs=ts[Ri],(is=rs.getAttribute("data-step"))?[4,D$4(es,parseInt(is,10))]:[3,3]):[3,4];case 2:ns.sent(),ns.label=3;case 3:return Ri++,[3,1];case 4:return[2]}})})}function V$2(es){return e$2(this,void 0,void 0,function(){var ki,Ri,ts,rs,is;return n$2(this,function(ns){switch(ns.label){case 0:if(!(ki=M$2(".introjs-hint"))||!ki.length)return[3,1];for(Ri=0,ts=ki;Ri<ts.length;Ri++)rs=ts[Ri],(is=rs.getAttribute("data-step"))&&z$2(parseInt(is,10));return[3,3];case 1:return[4,$$4(es,es._targetElement)];case 2:ns.sent(),ns.label=3;case 3:return[2]}})})}function z$2(es){var ki=M$2('.introjs-hint[data-step="'.concat(es,'"]'))[0];ki&&v$3(ki,/introjs-hidehint/g)}function G$4(es){var ki=M$2('.introjs-hint[data-step="'.concat(es,'"]'))[0];ki&&ki.parentNode&&ki.parentNode.removeChild(ki)}function W$2(es){return e$2(this,void 0,void 0,function(){var ki,Ri,ts,rs,is,ns,ss;return n$2(this,function(os){switch(os.label){case 0:for((ki=document.querySelector(".introjs-hints"))===null&&(ki=x$4("div",{className:"introjs-hints"})),Ri=function(us){return function(As){var bs=As||window.event;bs&&bs.stopPropagation&&bs.stopPropagation(),bs&&bs.cancelBubble!==null&&(bs.cancelBubble=!0),X$2(es,us)}},ts=0;ts<es._hintItems.length;ts++){if(rs=es._hintItems[ts],document.querySelector('.introjs-hint[data-step="'.concat(ts,'"]')))return[2];b$3(is=x$4("a",{className:"introjs-hint"})),is.onclick=Ri(ts),rs.hintAnimation||u$3(is,"introjs-hint-no-anim"),m$2(rs.element)&&u$3(is,"introjs-fixedhint"),ns=x$4("div",{className:"introjs-hint-dot"}),ss=x$4("div",{className:"introjs-hint-pulse"}),is.appendChild(ns),is.appendChild(ss),is.setAttribute("data-step",ts.toString()),rs.hintTargetElement=rs.element,rs.element=is,Q$3(rs.hintPosition,is,rs.hintTargetElement),ki.appendChild(is)}return document.body.appendChild(ki),c$4(es._hintsAddedCallback)?[4,es._hintsAddedCallback.call(es)]:[3,2];case 1:os.sent(),os.label=2;case 2:return es._options.hintAutoRefreshInterval>=0&&(es._hintsAutoRefreshFunction=(ls=function(){return U$2(es)},cs=es._options.hintAutoRefreshInterval,function(){for(var us=[],As=0;As<arguments.length;As++)us[As]=arguments[As];window.clearTimeout(hs),hs=window.setTimeout(function(){ls(us)},cs)}),l$2.on(window,"scroll",es._hintsAutoRefreshFunction,es,!0)),[2]}var ls,cs,hs})})}function Q$3(es,ki,Ri){if(Ri!==void 0){var ts=g$3(Ri),rs=20,is=20;switch(es){default:case"top-left":ki.style.left="".concat(ts.left,"px"),ki.style.top="".concat(ts.top,"px");break;case"top-right":ki.style.left="".concat(ts.left+ts.width-rs,"px"),ki.style.top="".concat(ts.top,"px");break;case"bottom-left":ki.style.left="".concat(ts.left,"px"),ki.style.top="".concat(ts.top+ts.height-is,"px");break;case"bottom-right":ki.style.left="".concat(ts.left+ts.width-rs,"px"),ki.style.top="".concat(ts.top+ts.height-is,"px");break;case"middle-left":ki.style.left="".concat(ts.left,"px"),ki.style.top="".concat(ts.top+(ts.height-is)/2,"px");break;case"middle-right":ki.style.left="".concat(ts.left+ts.width-rs,"px"),ki.style.top="".concat(ts.top+(ts.height-is)/2,"px");break;case"middle-middle":ki.style.left="".concat(ts.left+(ts.width-rs)/2,"px"),ki.style.top="".concat(ts.top+(ts.height-is)/2,"px");break;case"bottom-middle":ki.style.left="".concat(ts.left+(ts.width-rs)/2,"px"),ki.style.top="".concat(ts.top+ts.height-is,"px");break;case"top-middle":ki.style.left="".concat(ts.left+(ts.width-rs)/2,"px"),ki.style.top="".concat(ts.top,"px")}}}function X$2(es,ki){return e$2(this,void 0,void 0,function(){var Ri,ts,rs,is,ns,ss,os,ls,cs,hs,us;return n$2(this,function(As){switch(As.label){case 0:return Ri=document.querySelector('.introjs-hint[data-step="'.concat(ki,'"]')),ts=es._hintItems[ki],c$4(es._hintClickCallback)?[4,es._hintClickCallback.call(es,Ri,ts,ki)]:[3,2];case 1:As.sent(),As.label=2;case 2:return(rs=Y$3())!==void 0&&parseInt(rs,10)===ki||(is=x$4("div",{className:"introjs-tooltip"}),ns=x$4("div"),ss=x$4("div"),os=x$4("div"),is.onclick=function(bs){bs.stopPropagation?bs.stopPropagation():bs.cancelBubble=!0},ns.className="introjs-tooltiptext",(ls=x$4("p")).innerHTML=ts.hint||"",ns.appendChild(ls),es._options.hintShowButton&&((cs=x$4("a")).className=es._options.buttonClass,cs.setAttribute("role","button"),cs.innerHTML=es._options.hintButtonLabel,cs.onclick=function(){return D$4(es,ki)},ns.appendChild(cs)),ss.className="introjs-arrow",is.appendChild(ss),is.appendChild(ns),hs=Ri.getAttribute("data-step")||"",es._currentStep=parseInt(hs,10),us=es._hintItems[es._currentStep],os.className="introjs-tooltipReferenceLayer introjs-hintReference",os.setAttribute("data-step",hs),w$2(es,us,os),os.appendChild(is),document.body.appendChild(os),j$3(es,us,is,ss,!0)),[2]}})})}function Y$3(){var es=document.querySelector(".introjs-hintReference");if(es&&es.parentNode){var ki=es.getAttribute("data-step");return ki?(es.parentNode.removeChild(es),ki):void 0}}function $$4(es,ki){return e$2(this,void 0,void 0,function(){var Ri,ts,rs,is,ns,ss,os,ls,cs,hs;return n$2(this,function(us){switch(us.label){case 0:if(es._hintItems=[],es._options.hints&&es._options.hints.length>0)for(Ri=0,ts=es._options.hints;Ri<ts.length;Ri++)rs=ts[Ri],typeof(is=O$2(rs)).element=="string"&&(is.element=document.querySelector(is.element)),is.hintPosition=is.hintPosition||es._options.hintPosition,is.hintAnimation=is.hintAnimation||es._options.hintAnimation,is.element!==null&&es._hintItems.push(is);else{if(!(ns=Array.from(ki.querySelectorAll("*[data-hint]")))||!ns.length)return[2,!1];for(ss=0,os=ns;ss<os.length;ss++)ls=os[ss],cs=ls.getAttribute("data-hint-animation"),hs=es._options.hintAnimation,cs&&(hs=cs==="true"),es._hintItems.push({element:ls,hint:ls.getAttribute("data-hint")||"",hintPosition:ls.getAttribute("data-hint-position")||es._options.hintPosition,hintAnimation:hs,tooltipClass:ls.getAttribute("data-tooltip-class")||void 0,position:ls.getAttribute("data-position")||es._options.tooltipPosition})}return[4,W$2(es)];case 1:return us.sent(),l$2.on(document,"click",Y$3,es,!1),l$2.on(window,"resize",U$2,es,!0),[2,!0]}})})}function U$2(es){for(var ki=0,Ri=es._hintItems;ki<Ri.length;ki++){var ts=Ri[ki],rs=ts.hintTargetElement;Q$3(ts.hintPosition,ts.element,rs)}}function Z$2(es,ki){var Ri=Array.from(ki.querySelectorAll("*[data-intro]")),ts=[];if(es._options.steps&&es._options.steps.length)for(var rs=0,is=es._options.steps;rs<is.length;rs++){var ns=O$2(us=is[rs]);if(ns.step=ts.length+1,ns.title=ns.title||"",typeof ns.element=="string"&&(ns.element=document.querySelector(ns.element)||void 0),ns.element===void 0||ns.element===null){var ss=document.querySelector(".introjsFloatingElement");ss===null&&(ss=x$4("div",{className:"introjsFloatingElement"}),document.body.appendChild(ss)),ns.element=ss,ns.position="floating"}ns.position=ns.position||es._options.tooltipPosition,ns.scrollTo=ns.scrollTo||es._options.scrollTo,ns.disableInteraction===void 0&&(ns.disableInteraction=es._options.disableInteraction),ns.element!==null&&ts.push(ns)}else{var os=void 0;if(Ri.length<1)return[];for(var ls=0,cs=Ri;ls<cs.length;ls++){var hs=cs[ls];if((!es._options.group||hs.getAttribute("data-intro-group")===es._options.group)&&hs.style.display!=="none"){var us=parseInt(hs.getAttribute("data-step")||"",10);os=es._options.disableInteraction,hs.hasAttribute("data-disable-interaction")&&(os=!!hs.getAttribute("data-disable-interaction")),us>0&&(ts[us-1]={step:us,element:hs,title:hs.getAttribute("data-title")||"",intro:hs.getAttribute("data-intro")||"",tooltipClass:hs.getAttribute("data-tooltip-class")||void 0,highlightClass:hs.getAttribute("data-highlight-class")||void 0,position:hs.getAttribute("data-position")||es._options.tooltipPosition,scrollTo:hs.getAttribute("data-scroll-to")||es._options.scrollTo,disableInteraction:os})}}for(var As=0,bs=0,ys=Ri;bs<ys.length;bs++)if(hs=ys[bs],(!es._options.group||hs.getAttribute("data-intro-group")===es._options.group)&&hs.getAttribute("data-step")===null){for(;ts[As]!==void 0;)As++;os=hs.hasAttribute("data-disable-interaction")?!!hs.getAttribute("data-disable-interaction"):es._options.disableInteraction,ts[As]={element:hs,title:hs.getAttribute("data-title")||"",intro:hs.getAttribute("data-intro")||"",step:As+1,tooltipClass:hs.getAttribute("data-tooltip-class")||void 0,highlightClass:hs.getAttribute("data-highlight-class")||void 0,position:hs.getAttribute("data-position")||es._options.tooltipPosition,scrollTo:hs.getAttribute("data-scroll-to")||es._options.scrollTo,disableInteraction:os}}}for(var Cs=[],ps=0;ps<ts.length;ps++)ts[ps]&&Cs.push(ts[ps]);return(ts=Cs).sort(function(ms,fs){return ms.step-fs.step}),ts}function J$2(es,ki){var Ri=es._currentStep;if(Ri!=null&&Ri!=-1){var ts=es._introItems[Ri],rs=document.querySelector(".introjs-tooltipReferenceLayer"),is=document.querySelector(".introjs-helperLayer"),ns=document.querySelector(".introjs-disableInteraction");w$2(es,ts,is),w$2(es,ts,rs),w$2(es,ts,ns),ki&&(es._introItems=Z$2(es,es._targetElement),function(ls,cs){if(ls._options.showBullets){var hs=document.querySelector(".introjs-bullets");hs&&hs.parentNode&&hs.parentNode.replaceChild(T$2(ls,cs),hs)}}(es,ts),I$3(rs,Ri,es._introItems.length));var ss=document.querySelector(".introjs-arrow"),os=document.querySelector(".introjs-tooltip");return os&&ss&&j$3(es,es._introItems[Ri],os,ss),U$2(es),es}}function K$2(es){J$2(es)}function tt$2(es,ki){if(ki===void 0&&(ki=!1),es&&es.parentElement){var Ri=es.parentElement;ki?(y$3(es,{opacity:"0"}),window.setTimeout(function(){try{Ri.removeChild(es)}catch{}},500)):Ri.removeChild(es)}}function et$3(es,ki,Ri){return Ri===void 0&&(Ri=!1),e$2(this,void 0,void 0,function(){var ts,rs,is,ns;return n$2(this,function(ss){switch(ss.label){case 0:return ts=!0,es._introBeforeExitCallback===void 0?[3,2]:[4,es._introBeforeExitCallback.call(es,ki)];case 1:ts=ss.sent(),ss.label=2;case 2:if(!Ri&&ts===!1)return[2];if((rs=Array.from(ki.querySelectorAll(".introjs-overlay")))&&rs.length)for(is=0,ns=rs;is<ns.length;is++)tt$2(ns[is]);return tt$2(ki.querySelector(".introjs-helperLayer"),!0),tt$2(ki.querySelector(".introjs-tooltipReferenceLayer")),tt$2(ki.querySelector(".introjs-disableInteraction")),tt$2(document.querySelector(".introjsFloatingElement")),A$2(),l$2.off(window,"keydown",R$3,es,!0),l$2.off(window,"resize",K$2,es,!0),c$4(es._introExitCallback)?[4,es._introExitCallback.call(es)]:[3,4];case 3:ss.sent(),ss.label=4;case 4:return es._currentStep=-1,[2]}})})}function nt$2(es,ki){return e$2(this,void 0,void 0,function(){var Ri;return n$2(this,function(ts){switch(ts.label){case 0:return es.isActive()?c$4(es._introStartCallback)?[4,es._introStartCallback.call(es,ki)]:[3,2]:[2,!1];case 1:ts.sent(),ts.label=2;case 2:return(Ri=Z$2(es,ki)).length===0?[2,!1]:(es._introItems=Ri,function(rs,is){var ns=this,ss=x$4("div",{className:"introjs-overlay"});y$3(ss,{top:0,bottom:0,left:0,right:0,position:"fixed"}),is.appendChild(ss),rs._options.exitOnOverlayClick===!0&&(y$3(ss,{cursor:"pointer"}),ss.onclick=function(){return e$2(ns,void 0,void 0,function(){return n$2(this,function(os){switch(os.label){case 0:return[4,et$3(rs,is)];case 1:return os.sent(),[2]}})})})}(es,ki),[4,B$2(es)]);case 3:ts.sent(),ki.addEventListener,es._options.keyboardNavigation&&l$2.on(window,"keydown",R$3,es,!0),l$2.on(window,"resize",K$2,es,!0),ts.label=4;case 4:return[2,!1]}})})}function ot$2(es,ki,Ri){return es[ki]=Ri,es}var it$2=function(){function es(ki){this._currentStep=-1,this._introItems=[],this._hintItems=[],this._targetElement=ki,this._options={steps:[],hints:[],isActive:!0,nextLabel:"Next",prevLabel:"Back",skipLabel:"×",doneLabel:"Done",hidePrev:!1,hideNext:!1,nextToDone:!0,tooltipPosition:"bottom",tooltipClass:"",group:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!1,stepNumbersOfLabel:"of",keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.5,autoPosition:!0,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,dontShowAgain:!1,dontShowAgainLabel:"Don't show this again",dontShowAgainCookie:"introjs-dontShowAgain",dontShowAgainCookieDays:365,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintShowButton:!0,hintAutoRefreshInterval:10,hintAnimation:!0,buttonClass:"introjs-button",progressBarAdditionalClass:!1}}return es.prototype.isActive=function(){return(!this._options.dontShowAgain||(ki=i$3(this._options.dontShowAgainCookie))===""||ki!=="true")&&this._options.isActive;var ki},es.prototype.clone=function(){return new es(this._targetElement)},es.prototype.setOption=function(ki,Ri){return this._options=ot$2(this._options,ki,Ri),this},es.prototype.setOptions=function(ki){return this._options=function(Ri,ts){for(var rs=0,is=Object.entries(ts);rs<is.length;rs++){var ns=is[rs];Ri=ot$2(Ri,ns[0],ns[1])}return Ri}(this._options,ki),this},es.prototype.start=function(){return e$2(this,void 0,void 0,function(){return n$2(this,function(ki){switch(ki.label){case 0:return[4,nt$2(this,this._targetElement)];case 1:return ki.sent(),[2,this]}})})},es.prototype.goToStep=function(ki){return e$2(this,void 0,void 0,function(){return n$2(this,function(Ri){switch(Ri.label){case 0:return[4,P$3(this,ki)];case 1:return Ri.sent(),[2,this]}})})},es.prototype.addStep=function(ki){return this._options.steps||(this._options.steps=[]),this._options.steps.push(ki),this},es.prototype.addSteps=function(ki){if(!ki.length)return this;for(var Ri=0;Ri<ki.length;Ri++)this.addStep(ki[Ri]);return this},es.prototype.goToStepNumber=function(ki){return e$2(this,void 0,void 0,function(){return n$2(this,function(Ri){switch(Ri.label){case 0:return[4,q$4(this,ki)];case 1:return Ri.sent(),[2,this]}})})},es.prototype.nextStep=function(){return e$2(this,void 0,void 0,function(){return n$2(this,function(ki){switch(ki.label){case 0:return[4,B$2(this)];case 1:return ki.sent(),[2,this]}})})},es.prototype.previousStep=function(){return e$2(this,void 0,void 0,function(){return n$2(this,function(ki){switch(ki.label){case 0:return[4,H$2(this)];case 1:return ki.sent(),[2,this]}})})},es.prototype.currentStep=function(){return this._currentStep},es.prototype.exit=function(ki){return e$2(this,void 0,void 0,function(){return n$2(this,function(Ri){switch(Ri.label){case 0:return[4,et$3(this,this._targetElement,ki)];case 1:return Ri.sent(),[2,this]}})})},es.prototype.refresh=function(ki){return J$2(this,ki),this},es.prototype.setDontShowAgain=function(ki){return r$2(this,ki),this},es.prototype.onbeforechange=function(ki){if(!c$4(ki))throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=ki,this},es.prototype.onchange=function(ki){if(!c$4(ki))throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=ki,this},es.prototype.onafterchange=function(ki){if(!c$4(ki))throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=ki,this},es.prototype.oncomplete=function(ki){if(!c$4(ki))throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=ki,this},es.prototype.onhintsadded=function(ki){if(!c$4(ki))throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=ki,this},es.prototype.onhintclick=function(ki){if(!c$4(ki))throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=ki,this},es.prototype.onhintclose=function(ki){if(!c$4(ki))throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=ki,this},es.prototype.onstart=function(ki){if(!c$4(ki))throw new Error("Provided callback for onstart was not a function.");return this._introStartCallback=ki,this},es.prototype.onexit=function(ki){if(!c$4(ki))throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=ki,this},es.prototype.onskip=function(ki){if(!c$4(ki))throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=ki,this},es.prototype.onbeforeexit=function(ki){if(!c$4(ki))throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=ki,this},es.prototype.addHints=function(){return e$2(this,void 0,void 0,function(){return n$2(this,function(ki){switch(ki.label){case 0:return[4,$$4(this,this._targetElement)];case 1:return ki.sent(),[2,this]}})})},es.prototype.hideHint=function(ki){return e$2(this,void 0,void 0,function(){return n$2(this,function(Ri){switch(Ri.label){case 0:return[4,D$4(this,ki)];case 1:return Ri.sent(),[2,this]}})})},es.prototype.hideHints=function(){return e$2(this,void 0,void 0,function(){return n$2(this,function(ki){switch(ki.label){case 0:return[4,F$2(this)];case 1:return ki.sent(),[2,this]}})})},es.prototype.showHint=function(ki){return z$2(ki),this},es.prototype.showHints=function(){return e$2(this,void 0,void 0,function(){return n$2(this,function(ki){switch(ki.label){case 0:return[4,V$2(this)];case 1:return ki.sent(),[2,this]}})})},es.prototype.removeHints=function(){return function(ki){for(var Ri=0,ts=M$2(".introjs-hint");Ri<ts.length;Ri++){var rs=ts[Ri].getAttribute("data-step");rs&&G$4(parseInt(rs,10))}l$2.off(document,"click",Y$3,ki,!1),l$2.off(window,"resize",U$2,ki,!0),ki._hintsAutoRefreshFunction&&l$2.off(window,"scroll",ki._hintsAutoRefreshFunction,ki,!0)}(this),this},es.prototype.removeHint=function(ki){return G$4(ki),this},es.prototype.showHintDialog=function(ki){return e$2(this,void 0,void 0,function(){return n$2(this,function(Ri){switch(Ri.label){case 0:return[4,X$2(this,ki)];case 1:return Ri.sent(),[2,this]}})})},es}(),rt$2=function es(ki){var Ri;if(t$1(ki)==="object")Ri=new it$2(ki);else if(typeof ki=="string"){var ts=document.querySelector(ki);if(!ts)throw new Error("There is no element with given selector.");Ri=new it$2(ts)}else Ri=new it$2(document.body);return es.instances[a$2(Ri,"introjs-instance")]=Ri,Ri};rt$2.version="7.2.0",rt$2.instances={};class AiHintController extends Controller{constructor(){super(...arguments);Ho(this,"modelSuggestionCookieName","ai-model-suggestion");Ho(this,"modelSuggestionId","MODEL_SUGGESTION");Ho(this,"modelSuggestionShown",!1)}initialize(){this.onPromptInputChangeDebounced=lodashExports.debounce(()=>{let Ri=this.selectModelTarget.value,ts=this.promptTarget.value;!this.modelSuggestionShown&&Ri!=="Fresko"&&ts.includes("logo")&&(this.showHintForGivenId(this.modelSuggestionId),this.modelSuggestionShown=!0)},500)}onPromptInputChange(){this.hasSelectModelTarget&&this.hasPromptTarget&&this.onPromptInputChangeDebounced()}getCookie(Ri){let ts=Ri+"=",is=decodeURIComponent(document.cookie).split(";");for(let ns=0;ns<is.length;ns++){let ss=is[ns];for(;ss.charAt(0)===" ";)ss=ss.substring(1);if(ss.indexOf(ts)===0)return ss.substring(ts.length,ss.length)}return""}showHintForGivenId(Ri){const ts=this.hintsValue[Ri].main_steps;this.responsiveElements(Ri).length&&this.responsiveElements(Ri).forEach(is=>{is.dataset.step&&is.offsetHeight>0&&ts.splice(Number(is.dataset.step)-1,0,this.responsiveStep(is.dataset.intro,Ri))}),ts.forEach(this.addElement);let rs=this;rt$2().setOptions({steps:ts,showBullets:!1,showButtons:!1,dontShowAgain:!0,dontShowAgainLabel:"Dont show again",dontShowAgainCookie:this.modelSuggestionCookieName,doneLabel:"OK"}).onexit(()=>{var is,ns;this.updateUserTutorialIds(),(ns=(is=document.getElementById("offcanvasRightPanel"))==null?void 0:is.classList)==null||ns.remove("show")}).onafterchange(function(){document.getElementById("ai_accept_suggestion").addEventListener("click",()=>{rs.changeModel(),this.exit()})}).onbeforechange(function(is){var ss,os;let ns=null;if(is&&(ns=is.offsetParent.classList.value.includes("offcanvas-right")),ns&&!document.getElementById("offcanvasRightPanel").classList.contains("show"))return document.getElementById("offcanvasRightPanel").classList.add("show"),new Promise(ls=>{setInterval(ls,500)});(os=(ss=document.getElementById("offcanvasRightPanel"))==null?void 0:ss.classList)==null||os.remove("show")}).start()}addElement(Ri){const ts=Ri.element;Ri.element=document.querySelectorAll('[data-intro="'+ts+'"]')[0]}responsiveElements(Ri){return this.hintsValue[Ri].responsive_steps.map(({element:ts})=>document.querySelector(`[data-intro="${ts}"]`))}responsiveStep(Ri,ts){return this.hintsValue[ts].responsive_steps.find(({element:rs})=>rs===Ri)}updateUserTutorialIds(){this.getCookie(this.modelSuggestionCookieName)==="true"&&post("/users/update_intro_tutorial_ids",{query:{tutorial_id:this.modelSuggestionId}})}changeModel(){const Ri=window.location.pathname.split("/").pop();this.updateUserTutorialIds(),post("/ai/image/advanced_settings_for_model",{query:{selected_model:"Fresko"},responseKind:"turbo-stream"}),post("/ai/image/selected_ai_model",{query:{model:"Fresko",category:Ri},responseKind:"turbo-stream"})}}Ho(AiHintController,"values",{hints:Object}),Ho(AiHintController,"targets",["selectModel","prompt"]);class AiHistoriesController extends Controller{imageViewSwitcherTargetConnected(){this.singleModeValue?(this.singleImageViewTarget.classList.add("active"),this.parentGroupViewTarget.classList.remove("active")):(this.singleImageViewTarget.classList.remove("active"),this.parentGroupViewTarget.classList.add("active"))}showSingleImageView(ki){var Ri,ts;ki.preventDefault(),this.singleImageViewTarget.classList.add("active"),this.parentGroupViewTarget.classList.remove("active"),window.location.href.includes("/community/manage")&&post("/ai/community/show_single_image_view",{body:{search:(Ri=document.querySelector('[name="history[prompt]"]'))==null?void 0:Ri.value},responseKind:"turbo-stream"}),window.location.href.includes("/histories/image")&&post("/ai/histories/show_single_image_view",{body:{search:(ts=document.querySelector('[name="history[prompt]"]'))==null?void 0:ts.value},responseKind:"turbo-stream"})}showParentGroupView(ki){var Ri,ts;ki.preventDefault(),this.singleImageViewTarget.classList.remove("active"),this.parentGroupViewTarget.classList.add("active"),window.location.href.includes("/community/manage")&&post("/ai/community/show_parent_group_view",{body:{search:(Ri=document.querySelector('[name="history[prompt]"]'))==null?void 0:Ri.value},responseKind:"turbo-stream"}),window.location.href.includes("/histories/image")&&post("/ai/histories/show_parent_group_view",{body:{search:(ts=document.querySelector('[name="history[prompt]"]'))==null?void 0:ts.value},responseKind:"turbo-stream"})}}Ho(AiHistoriesController,"targets",["singleImageView","parentGroupView","imageViewSwitcher"]),Ho(AiHistoriesController,"values",{singleMode:Boolean});class AiImageCountSubscriptionPopUpController extends Controller{constructor(){super(...arguments);Ho(this,"modal",null)}connect(){if(this.hasTriggerIdValue){let Ri=document.getElementById(this.triggerIdValue);this.modal=new Modal(Ri),this.hasShowValue&&this.showValue&&this.modal.toggle()}}onChange(){this.selectTarget.value&&Number(this.selectTarget.value)>1&&(this.selectTarget.value=1,this.modal.toggle())}}Ho(AiImageCountSubscriptionPopUpController,"targets",["select"]),Ho(AiImageCountSubscriptionPopUpController,"values",{triggerId:String,show:Boolean});class AiImagePromptsController extends Controller{save(){let ki=event.params.payload;this.nameTarget.value!==ki.old_value&&this.submitButtonTarget.click()}updateBody(){let ki={};return ki.section=this.sectionTarget.value,ki.category=this.categoryTarget.value,ki.dependent_category=this.dependentCategoryTarget.value,ki.name=this.nameTarget.value,JSON.stringify(ki)}}Ho(AiImagePromptsController,"targets",["section","category","dependentCategory","name","customOptions","submitButton"]);class AiImageVariantController extends Controller{constructor(){super(...arguments);Ho(this,"failedToLoad",!1)}connect(){if(this.element.onload=()=>{this.onLoaded()},this.element.onerror=()=>{this.onMissing()},new URLSearchParams(window.location.search).get("creating")){this.element.src=this.element.dataset.srcFallback||"";return}this.element.srcset=this.element.dataset.srcset||"",this.element.src=this.element.dataset.src||""}onLoaded(){this.element.classList.remove("d-none")}onMissing(){this.failedToLoad||(this.element.srcset="",this.element.src=this.element.dataset.srcFallback||"",this.failedToLoad=!0,post("/ai/schedule_ai_image_variant_job",{query:{key:this.element.dataset.key}}))}}class AiManageShowTogglerController extends Controller{connect(){let ki=localStorage.getItem("ManageActiveTab");if(ki)switch(ki){case"history":this.showHistoryTab(null);break;case"user":this.showUserTab(null);break;case"image":this.showImageTab(null);break}}showHistoryTab(ki){ki==null||ki.preventDefault(),this.showImageButtonTarget.classList.remove("active"),this.showUserButtonTarget.classList.remove("active"),this.showHistoryButtonTarget.classList.add("active"),this.setLocalStorage("history"),this.showHistoryContentTarget.classList.remove("d-none"),this.showImageContentTarget.classList.add("d-none"),this.showUserContentTarget.classList.add("d-none")}showImageTab(ki){ki==null||ki.preventDefault(),this.showHistoryButtonTarget.classList.remove("active"),this.showUserButtonTarget.classList.remove("active"),this.showImageButtonTarget.classList.add("active"),this.setLocalStorage("image"),this.showImageContentTarget.classList.remove("d-none"),this.showHistoryContentTarget.classList.add("d-none"),this.showUserContentTarget.classList.add("d-none")}showUserTab(ki){ki==null||ki.preventDefault(),this.showHistoryButtonTarget.classList.remove("active"),this.showImageButtonTarget.classList.remove("active"),this.showUserButtonTarget.classList.add("active"),this.setLocalStorage("user"),this.showUserContentTarget.classList.remove("d-none"),this.showHistoryContentTarget.classList.add("d-none"),this.showImageContentTarget.classList.add("d-none")}setLocalStorage(ki){localStorage.setItem("ManageActiveTab",ki)}}Ho(AiManageShowTogglerController,"targets",["showImageButton","showUserButton","showHistoryButton","showImageContent","showUserContent","showHistoryContent"]);class AiMixersController extends Controller{connect(){this.hasMixerGenerateButtonTarget&&this.hasNameTarget&&!this.validateMixerCreation()&&this.mixerGenerateButtonTarget.setAttribute("disabled",!0),this.hasMixerNextButtonTarget&&this.hasObjectNameTarget&&!this.validateObjectName()&&this.mixerNextButtonTarget.setAttribute("disabled",!0)}validateForm(){this.hasMixerGenerateButtonTarget&&(this.validateMixerCreation()?this.mixerGenerateButtonTarget.removeAttribute("disabled"):this.mixerGenerateButtonTarget.setAttribute("disabled",!0))}validateObjectClassifierForm(){this.hasMixerNextButtonTarget&&(this.validateObjectName()?this.mixerNextButtonTarget.removeAttribute("disabled"):this.mixerNextButtonTarget.setAttribute("disabled",!0))}onMixerWeightChange(ki){if(ki.target.id==this.inUseMixerIdTarget.id){let Ri=parseInt(ki.target.value);if(Ri<0||Ri>100)return;const ts=this.inUseMixerIdTarget.value;post("/ai/image/update_in_use_mixer",{query:{weight:Ri,user_mixer_id:ts},responseKind:"turbo-stream"})}}onThumbnailSelected(ki){var rs;const Ri=ki.currentTarget.dataset.signedId,ts=((rs=document.getElementById("mixer_id"))==null?void 0:rs.value)||"";post("/ai/image/mixer_thumbnail_selected",{query:{thumbnail_signed_id:Ri,mixer_id:ts},responseKind:"turbo-stream"})}validateMixerCreation(){var ts;const ki=this.nameTarget.value.trim(),Ri=((ts=document.querySelectorAll(".attached_mixer_image"))==null?void 0:ts.length)||0;return ki&&ki.length>=1&&Ri>=this.minValue&&Ri<=this.maxValue}validateObjectName(){const ki=this.objectNameTarget.value.trim();return ki&&ki.length>=1}selectMixer(){var is,ns,ss,os,ls,cs,hs,us,As;let ki="",Ri="",ts="",rs=((is=document.querySelector('[name="image[prompt]"]'))==null?void 0:is.value)||"";this.hasSelectedMixerIdTarget&&(ki=(ss=(ns=this.selectedMixerIdTarget)==null?void 0:ns.dataset)==null?void 0:ss.mixerId,Ri=(ls=(os=this.selectedMixerIdTarget)==null?void 0:os.dataset)==null?void 0:ls.mixerName,(hs=(cs=this.selectedMixerIdTarget)==null?void 0:cs.dataset)!=null&&hs.sharedMixerId&&(ts=(As=(us=this.selectedMixerIdTarget)==null?void 0:us.dataset)==null?void 0:As.sharedMixerId)),document.querySelector('[name="image[prompt]"]').value=rs.concat(" ",Ri),post("/ai/image/update_in_use_mixer",{query:{mixer_id:ki,shared_mixer_id:ts},responseKind:"turbo-stream"})}removeMixer(){var rs,is,ns,ss,os;let ki="",Ri="",ts=((rs=document.querySelector('[name="image[prompt]"]'))==null?void 0:rs.value)||"";this.hasRemovedMixerIdTarget&&(ki=(ns=(is=this.removedMixerIdTarget)==null?void 0:is.dataset)==null?void 0:ns.inUseMixerId,Ri=(os=(ss=this.removedMixerIdTarget)==null?void 0:ss.dataset)==null?void 0:os.mixerName),document.querySelector('[name="image[prompt]"]').value=ts.replace(`${Ri}`,""),post("/ai/image/update_in_use_mixer",{query:{in_use_mixer_id:ki},responseKind:"turbo-stream"})}removeMixerKeyword(){var ki;if(this.hasSelectModelTarget&&this.selectModelTarget.value!=="Felli"){let Ri=((ki=document.querySelector('[name="image[prompt]"]'))==null?void 0:ki.value)||"",ts=document.querySelector('[name="image[prompt]"]').value||"";Array.from(document.querySelectorAll('[name="ai_mixer[in_use_keyword]"]')).forEach(rs=>{Ri.includes(rs.value)&&(ts=ts.replace(`${rs.value}`,""))}),document.querySelector('[name="image[prompt]"]').value=ts.trim()}}confirmDeleteMixer(ki){var Ri,ts;if(ki.preventDefault(),this.hasConfirmDeleteMixerTarget){const rs=(ts=(Ri=this.confirmDeleteMixerTarget)==null?void 0:Ri.dataset)==null?void 0:ts.mixerId;post("/ai/image/confirm_delete_mixer",{query:{mixer_id:rs},responseKind:"turbo-stream"})}}cancelMixerAction(ki){var Ri,ts;if(ki.preventDefault(),this.hasCancelMixerActionTarget){const rs=(ts=(Ri=this.cancelMixerActionTarget)==null?void 0:Ri.dataset)==null?void 0:ts.mixerId;post("/ai/image/cancel_mixer_action",{query:{mixer_id:rs},responseKind:"turbo-stream"})}}deleteMixer(ki){var Ri,ts;if(ki.preventDefault(),this.hasDeleteMixerTarget){const rs=(ts=(Ri=this.deleteMixerTarget)==null?void 0:Ri.dataset)==null?void 0:ts.mixerId;post("/ai/image/delete_mixer",{query:{mixer_id:rs},responseKind:"turbo-stream"})}}confirmRenameMixer(ki){var Ri,ts;if(ki.preventDefault(),this.hasConfirmRenameMixerTarget){const rs=(ts=(Ri=this.confirmRenameMixerTarget)==null?void 0:Ri.dataset)==null?void 0:ts.mixerId;post("/ai/image/confirm_rename_mixer",{query:{mixer_id:rs},responseKind:"turbo-stream"})}}renameMixer(ki){var Ri,ts;if(ki.preventDefault(),this.hasRenameMixerTarget&&this.hasMixerRenameInputTarget){const rs=(ts=(Ri=this.renameMixerTarget)==null?void 0:Ri.dataset)==null?void 0:ts.mixerId,is=this.mixerRenameInputTarget.value;post("/ai/image/rename_mixer",{query:{mixer_id:rs,alias:is},responseKind:"turbo-stream"})}}shareMixer(ki){var Ri,ts;if(ki.preventDefault(),this.hasShareMixerTarget&&this.hasMixerRecipientInputTarget){const rs=(ts=(Ri=this.shareMixerTarget)==null?void 0:Ri.dataset)==null?void 0:ts.mixerId,is=this.mixerRecipientInputTarget.value;is.length<1?this.shareMixerTarget.setAttribute("disabled",!0):this.shareMixerTarget.removeAttribute("disabled"),post("/ai/image/share_mixer",{query:{mixer_id:rs,recipient_email:is},responseKind:"turbo-stream"})}}cancelSharedMixerAction(ki){var Ri,ts;if(ki.preventDefault(),this.hasCancelSharedMixerActionTarget){const rs=(ts=(Ri=this.cancelSharedMixerActionTarget)==null?void 0:Ri.dataset)==null?void 0:ts.sharedMixerId;post("/ai/image/cancel_shared_mixer_action",{query:{shared_mixer_id:rs},responseKind:"turbo-stream"})}}confirmDeleteSharedMixer(ki){var Ri,ts;if(ki.preventDefault(),this.hasConfirmDeleteSharedMixerTarget){const rs=(ts=(Ri=this.confirmDeleteSharedMixerTarget)==null?void 0:Ri.dataset)==null?void 0:ts.sharedMixerId;post("/ai/image/confirm_delete_shared_mixer",{query:{shared_mixer_id:rs},responseKind:"turbo-stream"})}}deleteSharedMixer(ki){var Ri,ts;if(ki.preventDefault(),this.hasDeleteSharedMixerTarget){const rs=(ts=(Ri=this.deleteSharedMixerTarget)==null?void 0:Ri.dataset)==null?void 0:ts.sharedMixerId;post("/ai/image/delete_shared_mixer",{query:{shared_mixer_id:rs},responseKind:"turbo-stream"})}}removeSharedMixer(ki){var Ri,ts;if(ki.preventDefault(),this.hasRemoveSharedMixerTarget){const rs=(ts=(Ri=this.removeSharedMixerTarget)==null?void 0:Ri.dataset)==null?void 0:ts.sharedMixerId;post("/ai/image/remove_shared_mixer",{query:{shared_mixer_id:rs},responseKind:"turbo-stream"})}}confirmEditMixerName(ki){var Ri,ts;if(ki.preventDefault(),this.hasConfirmEditMixerNameTarget){const rs=(ts=(Ri=this.confirmEditMixerNameTarget)==null?void 0:Ri.dataset)==null?void 0:ts.mixerId;post("/ai/image/confirm_edit_mixer_name",{query:{mixer_id:rs},responseKind:"turbo-stream"})}}editMixerName(ki){var Ri,ts;if(ki.preventDefault(),this.hasEditMixerNameTarget&&this.hasMixerEditNameInputTarget){const rs=(ts=(Ri=this.editMixerNameTarget)==null?void 0:Ri.dataset)==null?void 0:ts.mixerId,is=this.mixerEditNameInputTarget.value;post("/ai/image/update_mixer_name",{query:{mixer_id:rs,name:is},responseKind:"turbo-stream"})}}mixerNextButton(ki){var Ri,ts;if(ki.preventDefault(),this.hasMixerNextButtonTarget&&this.hasObjectNameTarget){const rs=((ts=(Ri=this.mixerNextButtonTarget)==null?void 0:Ri.dataset)==null?void 0:ts.mixerId)||"",is=this.objectNameTarget.value;is.length<1?this.mixerNextButtonTarget.setAttribute("disabled",!0):this.mixerNextButtonTarget.removeAttribute("disabled"),post("/ai/image/update_mixer_object_prompt",{query:{mixer_id:rs,mixer_object_prompt:is},responseKind:"turbo-stream"})}}}Ho(AiMixersController,"values",{min:Number,max:Number}),Ho(AiMixersController,"targets",["inUseMixerId","mixerGenerateButton","mode","name","objectPrompt","thumbnailSignedId","selectedMixerId","removedMixerId","prompt","selectModel","confirmDeleteMixer","cancelMixerAction","deleteMixer","confirmRenameMixer","mixerRenameInput","renameMixer","mixerRecipientInput","shareMixer","confirmDeleteSharedMixer","deleteSharedMixer","cancelSharedMixerAction","removeSharedMixer","confirmEditMixerName","editMixerName","mixerEditNameInput","mixerNextButton","objectName"]);class AiRightPanelOptionsTogglerController extends Controller{constructor(){super(...arguments);Ho(this,"modelFormShown",!1);Ho(this,"promptBuilderFormShown",!1)}connect(){this.hideModelForm()}showModelForm(Ri){Ri.preventDefault(),this.modelFormShown=!0,this.hasModelFormTarget&&this.modelFormTarget.classList.remove("d-none"),this.hasModelOptionsButtonTarget&&this.modelOptionsButtonTarget.classList.add("active"),this.hidePromptBuilderForm(),this.setInfoButtonTargetValue()}showPromptBuilderForm(Ri){Ri.preventDefault(),this.promptBuilderFormShown=!0,this.hasPromptBuilderFormTarget&&this.promptBuilderFormTarget.classList.remove("d-none"),this.hasPromptBuilderButtonTarget&&this.promptBuilderButtonTarget.classList.add("active"),this.hideModelForm(),this.setInfoButtonTargetValue()}hidePromptBuilderForm(){this.promptBuilderFormShown=!1,this.hasPromptBuilderFormTarget&&this.promptBuilderFormTarget.classList.add("d-none"),this.hasPromptBuilderButtonTarget&&this.promptBuilderButtonTarget.classList.remove("active")}hideModelForm(){this.modelFormShown=!1,this.hasModelFormTarget&&this.modelFormTarget.classList.add("d-none"),this.hasModelOptionsButtonTarget&&this.modelOptionsButtonTarget.classList.remove("active")}setInfoButtonTargetValue(){if(this.hasInfoButtonTarget){let Ri=window.location.pathname;this.modelFormShown&&(this.infoButtonTarget.dataset.showHelpDocumentIdentifierValue="txt_to_img_model_options",Ri.includes("/image/purple_pill")&&(this.infoButtonTarget.dataset.showHelpDocumentIdentifierValue="purple_pill_model_options")),this.promptBuilderFormShown&&(this.infoButtonTarget.dataset.showHelpDocumentIdentifierValue="",Ri.includes("/image/purple_pill")&&(this.infoButtonTarget.dataset.showHelpDocumentIdentifierValue="purple_pill_dosage"))}}}Ho(AiRightPanelOptionsTogglerController,"targets",["promptBuilderForm","modelForm","promptBuilderButton","modelOptionsButton","infoButton"]);class AiSavedPromptsController extends Controller{connect(){this.toggleSavedPrompts()}toggleSavedPrompts(){this.savedPromptsButtonTarget.checked?(this.showSavedPrompts(),this.hideCustomOptions()):(this.hideSavedPrompts(),this.showCustomOptions())}showSavedPrompts(){this.savedPromptsTarget.classList.remove("d-none")}hideSavedPrompts(){this.savedPromptsTarget.classList.add("d-none")}showCustomOptions(){this.customOptionsTarget.classList.remove("d-none")}hideCustomOptions(){this.customOptionsTarget.classList.add("d-none")}optionChanged(){event.currentTarget.value==="custom_options"?(this.customOptionsButtonTarget.checked=!0,this.savedPromptsButtonTarget.checked=!1,this.showCustomOptions(),this.hideSavedPrompts()):(this.customOptionsButtonTarget.checked=!1,this.savedPromptsButtonTarget.checked=!0,this.showSavedPrompts(),this.hideCustomOptions())}}Ho(AiSavedPromptsController,"targets",["savedPrompts","customOptions","savedPromptsButton","customOptionsButton"]);class AiShowcaseIndexController extends Controller{constructor(){super(...arguments);Ho(this,"intersectionObserver",null);Ho(this,"page",1);Ho(this,"exponentialBackoff",1)}connect(){const Ri={root:null,rootMargin:"0px",threshold:0};this.intersectionObserver=new IntersectionObserver(ts=>{ts.forEach(rs=>{rs.isIntersecting?this.onItemVisible(rs.target,rs):rs.target.firstElementChild.classList.add("d-none")})},Ri),this.itemTargets.forEach(ts=>{this.itemTargetConnected(ts)}),this.onFetchNextPageSubscription=subscribe("ai-showcase-fetchNextPage",this.fetchNextPage.bind(this))}disconnect(){unsubscribe("ai-showcase-fetchNextPage",this.onFetchNextPageSubscription)}itemTargetConnected(Ri){this.intersectionObserver&&this.intersectionObserver.observe(Ri)}onItemVisible(Ri){Ri.firstElementChild.classList.remove("d-none"),lodashExports.isNil(Ri.dataset.loadNextPageUponView)||this.fetchNextPage()}async fetchNextPage({force:Ri}={}){let ts=this.itemTargets.find(os=>!lodashExports.isNil(os.dataset.loadNextPageUponView));if(!Ri&&!ts)return;ts&&delete ts.dataset.loadNextPageUponView;let is=new URLSearchParams(window.location.search).get("search"),ns=this.page+1,ss={page:ns};is&&(ss.search=is);try{await post("/ai/community/next_page_results",{query:ss,responseKind:"turbo-stream"}),this.page=ns,this.exponentialBackoff=1}catch(os){let ls=this.exponentialBackoff;throw this.exponentialBackoff=this.exponentialBackoff*2,setTimeout(()=>{this.fetchNextPage({force:!0})},ls*1e3),os}}}Ho(AiShowcaseIndexController,"targets",["item"]);class AiStepContextController extends Controller{initialize(){localStorage.removeItem("custom_prompts")}contextHiddenInputTargetConnected(ki){if(ki.value){let Ri=JSON.parse(ki.value);this.setLocalStorageItem(Ri)}else this.setContextInputValue()}setLocalStorageItem(ki){localStorage.setItem("createContext",JSON.stringify(ki))}onPromptInputChange(ki){let Ri=ki.currentTarget.value,ts=Number(ki.currentTarget.dataset.stepNumber),rs=this.createContext(),is=rs.findIndex(({step_number:ss})=>Number(ss)===Number(ts)),ns=rs.find(({step_number:ss})=>Number(ss)===Number(ts));ns&&(ns.answer=Ri,rs[is]=ns,this.setLocalStorageItem(rs),this.setContextInputValue())}setContextInputValue(){this.contextHiddenInputTarget.value=JSON.stringify(this.createContext())}createContext(){return JSON.parse(localStorage.getItem("createContext"))}}Ho(AiStepContextController,"targets",["promptInput","contextHiddenInput"]);class AnimateOutSetterController extends Controller{connect(){this.element.addEventListener("click",this.onClick.bind(this))}onClick(){let ki=document.getElementById(this.targetIdValue);if(!ki)return console.error(`animate-out-setter target not found: ${this.targetIdValue}`);ki.dataset.animateOut=this.targetAnimateOutValue}}Ho(AnimateOutSetterController,"values",{targetId:String,targetAnimateOut:String});class AnnouncementFormAiModalController extends Controller{connect(){this.modelEl=document.getElementById("announcement-form-ai"),this.modal=this.modelEl?new Modal(this.modelEl):null,this.modal&&this.shouldAutoShow()&&(this.showModal(),this.setHideUntilNextLogin())}isOnAIPath(){return location.pathname.startsWith("/ai")}shouldAutoShow(){if(!this.lastLoginValue||this.currentUserUsedAiValue)return!1;if(!window.localStorage)return!this.isOnAIPath();if(this.isOnAIPath())return this.setHideUntilNextLogin(),!1;let ki=localStorage.getItem("hide-announcement-form-ai");if(!ki)return!0;let[Ri,ts]=ki.split(":");if(Ri==="until-next-login")return ts!==this.lastLoginValue;if(Ri==="always")return!1}showModal(){this.modal.show()}setHideUntilNextLogin(){localStorage.setItem("hide-announcement-form-ai","until-next-login:"+this.lastLoginValue)}toggleDontShowAgain(ki){ki.target.checked?localStorage.setItem("hide-announcement-form-ai","always"):this.setHideUntilNextLogin()}}Ho(AnnouncementFormAiModalController,"values",{lastLogin:String,currentUserUsedAi:Boolean});class AssistantPersonaController extends Controller{connect(){}onSelectedPersonaMode(){var Ri,ts;let ki="";if(this.selectPersonaModeTarget.value){const rs=this.selectPersonaModeTarget.value;ki=((ts=(Ri=this.selectPersonaModeTarget)==null?void 0:Ri.dataset)==null?void 0:ts.personaId)||"",post("/ai/assistants/personas/update_mode",{body:{selected_persona_mode:rs,persona_id:ki},responseKind:"turbo-stream"})}}resetBias(ki){ki.preventDefault(),document.querySelectorAll('[name="assistant_persona[bias_type]"]').forEach(Ri=>Ri.checked=!1)}resetFormality(ki){ki.preventDefault(),document.querySelectorAll('[name="assistant_persona[formality_type]"]').forEach(Ri=>Ri.checked=!1)}resetResponseLength(ki){ki.preventDefault(),document.querySelectorAll('[name="assistant_persona[response_length_type]"]').forEach(Ri=>Ri.checked=!1)}toggleAsDefault(ki){var ts,rs;ki.preventDefault();let Ri="";this.hasToggleAsDefaultTarget&&(Ri=((rs=(ts=this.toggleAsDefaultTarget)==null?void 0:ts.dataset)==null?void 0:rs.personaId)||""),post("/admin/ai/toggle_persona_as_default",{body:{persona_id:Ri},responseKind:"turbo-stream"})}selectPersona(){var Ri,ts;let ki="";this.hasSelectPersonaTarget&&(ki=((ts=(Ri=this.selectPersonaTarget)==null?void 0:Ri.dataset)==null?void 0:ts.personaId)||"",post("/ai/assistants/personas/update_selected_persona",{body:{persona_id:ki},responseKind:"turbo-stream"}))}usePersona(){var ts,rs,is,ns;let ki="",Ri="";this.hasUsePersonaTarget&&(ki=((rs=(ts=this.usePersonaTarget)==null?void 0:ts.dataset)==null?void 0:rs.personaId)||"",Ri=((ns=(is=this.usePersonaTarget)==null?void 0:is.dataset)==null?void 0:ns.actionType)||"",post("/ai/assistants/personas/update_in_use_personas",{body:{persona_id:ki,action_type:Ri},responseKind:"turbo-stream"}))}}Ho(AssistantPersonaController,"targets",["selectPersonaMode","toggleAsDefault","selectPersona","usePersona"]);class AudioPlayerController extends Controller{connect(){this.stopSubscription=subscribe("stopAllAudioPlayers",this.stop.bind(this))}disconnect(){unsubscribe("stopAllAudioPlayers",this.stopSubscription)}play(){var ki,Ri,ts,rs;emit("stopAllAudioPlayers"),this.hasPlayerTarget&&(this.playerTarget.play(),this.hasPlayButtonTarget&&this.hasStopButtonTarget&&((Ri=(ki=this.playButtonTarget)==null?void 0:ki.classList)==null||Ri.add("d-none"),(rs=(ts=this.stopButtonTarget)==null?void 0:ts.classList)==null||rs.remove("d-none"),this.playerTarget.addEventListener("ended",()=>{var is,ns,ss,os;(ns=(is=this.playButtonTarget)==null?void 0:is.classList)==null||ns.remove("d-none"),(os=(ss=this.stopButtonTarget)==null?void 0:ss.classList)==null||os.add("d-none")})))}stop(){var ki,Ri,ts,rs;this.hasPlayerTarget&&(this.playerTarget.pause(),this.playerTarget.currentTime=0,(Ri=(ki=this.playButtonTarget)==null?void 0:ki.classList)==null||Ri.remove("d-none"),(rs=(ts=this.stopButtonTarget)==null?void 0:ts.classList)==null||rs.add("d-none"))}stopAllPlayingAudio(){document.querySelectorAll("audio").forEach(ki=>{ki.pause(),ki.currentTime=0,ki.onended=()=>{var Ri,ts,rs,is;(ts=(Ri=this.playButtonTarget)==null?void 0:Ri.classList)==null||ts.remove("d-none"),(is=(rs=this.stopButtonTarget)==null?void 0:rs.classList)==null||is.add("d-none")}}),document.querySelectorAll("#custom_player_play_button").forEach(ki=>{var Ri;(Ri=ki.classList)==null||Ri.remove("d-none")}),document.querySelectorAll("#custom_player_pause_button").forEach(ki=>{var Ri;(Ri=ki.classList)==null||Ri.add("d-none")}),document.querySelectorAll('[id^="waveform-"]').forEach(ki=>{var Ri;(Ri=ki==null?void 0:ki.querySelector("div"))==null||Ri.remove()}),document.querySelectorAll('[id^="waveform-play-btn-"]').forEach(ki=>{var Ri;(Ri=ki==null?void 0:ki.classList)==null||Ri.remove("d-none")}),document.querySelectorAll('[id^="waveform-stop-btn-"]').forEach(ki=>{var Ri;(Ri=ki==null?void 0:ki.classList)==null||Ri.add("d-none")})}}Ho(AudioPlayerController,"targets",["player","playButton","stopButton"]);class AutoCycleImagesController extends Controller{constructor(){super(...arguments);Ho(this,"currentImageIndex",0);Ho(this,"timeoutRef",null)}connect(){this.scheduleNextShowImage()}disconnect(){this.unscheduleNextShowImage()}scheduleNextShowImage(){this.timeoutRef=setTimeout(()=>{this.showNextImage(),this.scheduleNextShowImage()},5e3)}unscheduleNextShowImage(){clearTimeout(this.timeoutRef),this.timeoutRef=null}showNextImage(){let Ri=this.imageTargets[this.currentImageIndex],ts=getImgContainer(Ri);ts.classList.remove("next"),ts.classList.add("vanishOut","current"),this.currentImageIndex=(this.currentImageIndex+1)%this.imageTargets.length;let rs=this.imageTargets[this.currentImageIndex],is=getImgContainer(rs);is.classList.remove("vanishOut","current"),is.classList.add("next"),this.loadImageForHoverImageEl(rs);let ns=(this.currentImageIndex+1)%this.imageTargets.length,ss=this.imageTargets[ns];getImgContainer(ss).classList.remove("vanishOut","current","next"),this.loadImageForHoverImageEl(ss)}loadImageForHoverImageEl(Ri){var ts;(ts=Ri.attributes.srcset)!=null&&ts.value||(Ri.src=Ri.attributes["data-src"].value,Ri.srcset=Ri.attributes["data-srcset"].value)}}Ho(AutoCycleImagesController,"targets",["image"]);function getImgContainer(es){return es.closest(".auto-cycle-image-container")}class AutoCycleTextsController extends Controller{constructor(){super(...arguments);Ho(this,"currentIndex",0);Ho(this,"timeoutRef",null)}connect(){this.scheduleNextText()}disconnect(){this.unscheduleNextText()}scheduleNextText(){this.timeoutRef=setTimeout(()=>{this.showNextText(),this.scheduleNextText()},5e3)}unscheduleNextText(){clearTimeout(this.timeoutRef),this.timeoutRef=null}showNextText(){let Ri=this.textTargets[this.currentIndex];Ri.classList.remove("fadeIn"),Ri.classList.add("vanishOut"),this.currentIndex=(this.currentIndex+1)%this.textTargets.length;let ts=this.textTargets[this.currentIndex];ts.classList.add("fadeIn"),ts.classList.remove("vanishOut"),ts.classList.remove("d-none")}}Ho(AutoCycleTextsController,"targets",["text"]),Ho(AutoCycleTextsController,"values",{otherTexts:Array});class AutoDeclineRadioDisableController extends Controller{connect(){this.radioButtons=this.radiosTarget.querySelectorAll("input"),this.lengthSelected()}lengthSelected(){this.radiosDisabled=this.selectTarget.value==="0",this.updateRadios()}updateRadios(){this.radioButtons.forEach(ki=>{ki.disabled=this.radiosDisabled})}}Ho(AutoDeclineRadioDisableController,"targets",["select","radios"]);class AutoGrowTextareaController extends Controller{connect(){this.setStyles({resize:"none",overflow:"hidden"}),this.resize(),this.interceptEnter()}interceptEnter(){this.textareaTarget.addEventListener("keydown",ki=>{if(ki.key==="Enter"&&!ki.shiftKey&&this.hasPreventEnterSubmitValue&&!this.preventEnterSubmitValue){let ts=this.element.closest("form").querySelector('button:not([type="button"])');ts&&ts.click(),ki.preventDefault()}})}resize(){this.setStyles({height:"5px"}),this.setStyles({height:this.scrollHeight}),this.hasDropdownMaskTarget&&(this.textareaTarget.clientHeight>40?this.dropdownMaskTarget.classList.add("show"):this.dropdownMaskTarget.classList.remove("show"))}get scrollHeight(){return this.textareaTarget.scrollHeight+"px"}setStyles(ki){for(let Ri in ki)this.textareaTarget.style[Ri]=ki[Ri]}}Ho(AutoGrowTextareaController,"targets",["textarea","dropdownMask"]),Ho(AutoGrowTextareaController,"values",{preventEnterSubmit:Boolean});class AutocompleteSearchController extends Controller{disconnect(){this.reset()}fetchResults(){if(!this.query){this.reset();return}if(this.query==this.previousQuery)return;this.previousQuery=this.query;const ki=new URL(this.urlValue);ki.searchParams.append("query",this.query),this.abortPreviousFetchRequest(),this.abortController=new AbortController,fetch(ki,{signal:this.abortController.signal}).then(Ri=>Ri.text()).then(Ri=>{this.resultsTarget.innerHTML=Ri,this.customSuggestionTarget.style.display="none"}).catch(()=>{})}navigateResults(ki){this.autocompleteSearchResultsController&&this.autocompleteSearchResultsController.navigateResults(ki)}reset(){this.hasCustomSuggestionTarget&&(this.customSuggestionTarget.style.display="block"),this.resultsTarget.innerHTML="",this.queryTarget.value="",this.previousQuery=null}abortPreviousFetchRequest(){this.abortController&&this.abortController.abort()}get query(){return this.queryTarget.value}get autocompleteSearchResultsController(){return this.application.getControllerForElementAndIdentifier(this.resultsTarget.firstElementChild,"autocomplete-search-results")}}Ho(AutocompleteSearchController,"targets",["query","results","customSuggestion"]),Ho(AutocompleteSearchController,"values",{url:String});class AutomaticAddClassOnBreakpointController extends Controller{constructor(){super(...arguments);Ho(this,"onResizePointer",null);Ho(this,"timeoutPointer",null);Ho(this,"isMaxWidth",!1)}connect(){this.onResizePointer=()=>this.onResize(),window.addEventListener("resize",this.onResizePointer,{passive:!0}),this.onResize(),this.timeoutPointer=setTimeout(()=>{this.element.classList.remove("hide-transition")},1)}disconnect(){window.removeEventListener("resize",this.onResizePointer),clearTimeout(this.timeoutPointer)}onResize(){this.maxWidthValue&&window.innerWidth>this.maxWidthValue?(this.element.classList.remove(this.classNameValue),this.element.classList.remove("hide-transition"),this.isMaxWidth=!0):this.maxWidthValue&&window.innerWidth<=this.maxWidthValue&&this.isMaxWidth?(this.element.classList.add(this.classNameValue),this.isMaxWidth=!1):window.innerWidth<=this.breakpointValue&&(this.element.classList.add(this.classNameValue),this.isMaxWidth=!1)}}Ho(AutomaticAddClassOnBreakpointController,"values",{className:String,breakpoint:Number,maxWidth:Number});const upKey=38,downKey=40,navigationKeys=[upKey,downKey];class AutompleteSearchResultsController extends Controller{connect(){this.currentResultIndex=0,this.selectCurrentResult()}navigateResults(ki){if(navigationKeys.includes(ki.keyCode))switch(ki.preventDefault(),ki.keyCode){case downKey:this.selectNextResult();break;case upKey:this.selectPreviousResult();break}}selectCurrentResult(){this.resultTargets.forEach((ki,Ri)=>{ki.classList.toggle(this.currentClass,Ri==this.currentResultIndex)})}selectNextResult(){this.currentResultIndex<this.resultTargets.length-1&&(this.currentResultIndex++,this.selectCurrentResult())}selectPreviousResult(){this.currentResultIndex>0&&(this.currentResultIndex--,this.selectCurrentResult())}goToSelectedResult(){this.resultTargets[this.currentResultIndex].firstElementChild.click()}}Ho(AutompleteSearchResultsController,"classes",["current"]),Ho(AutompleteSearchResultsController,"targets",["result"]);const method=(es,ki)=>{const Ri=es[ki];return typeof Ri=="function"?Ri:(...ts)=>{}},composeEventName=(es,ki,Ri)=>{let ts=es;return Ri===!0?ts=`${ki.identifier}:${es}`:typeof Ri=="string"&&(ts=`${Ri}:${es}`),ts},extendedEvent=(es,ki,Ri)=>{const{bubbles:ts,cancelable:rs,composed:is}={bubbles:!0,cancelable:!0,composed:!0};return new CustomEvent(es,{bubbles:ts,cancelable:rs,composed:is,detail:Ri})};class DebounceController extends Controller{}DebounceController.debounces=[];const defaultOptions$3={dispatchEvent:!0,eventPrefix:!0,visibleAttribute:"isVisible"},useIntersection=(es,ki={})=>{const Ri=es,{dispatchEvent:ts,eventPrefix:rs,visibleAttribute:is}=Object.assign({},defaultOptions$3,ki),ns=(ki==null?void 0:ki.element)||Ri.element;Ri.intersectionElements||(Ri.intersectionElements=[]),Ri.intersectionElements.push(ns);const ss=gs=>{const[ws]=gs;ws.isIntersecting?ls(ws):ns.hasAttribute(is)&&cs(ws)},os=new IntersectionObserver(ss,ki),ls=gs=>{if(ns.setAttribute(is,"true"),method(Ri,"appear").call(Ri,gs,os),ts){const ws=composeEventName("appear",Ri,rs),Ts=extendedEvent(ws,null,{controller:Ri,entry:gs,observer:os});ns.dispatchEvent(Ts)}},cs=gs=>{if(ns.removeAttribute(is),method(Ri,"disappear").call(Ri,gs,os),ts){const ws=composeEventName("disappear",Ri,rs),Ts=extendedEvent(ws,null,{controller:Ri,entry:gs,observer:os});ns.dispatchEvent(Ts)}},hs=Ri.disconnect.bind(Ri),us=()=>{bs(),hs()},As=()=>{os.observe(ns)},bs=()=>{os.unobserve(ns)},ys=()=>Ri.intersectionElements.filter(gs=>gs.hasAttribute(is)).length===0,Cs=()=>Ri.intersectionElements.filter(gs=>gs.hasAttribute(is)).length===1,ps=()=>Ri.intersectionElements.some(gs=>gs.hasAttribute(is)),ms=()=>Ri.intersectionElements.every(gs=>gs.hasAttribute(is));return Object.assign(Ri,{isVisible:ms,noneVisible:ys,oneVisible:Cs,atLeastOneVisible:ps,allVisible:ms,disconnect:us}),As(),[As,bs]};class ThrottleController extends Controller{}ThrottleController.throttles=[];class AutoscrollController extends Controller{connect(){useIntersection(this,this.options)}appear(){this.element.click()}}class BrandFetchController extends Controller{submit(ki){ki.preventDefault(),this.setHiddenFields(ki),this.isOrganizationsPage?(this.displaySelectedBrand(),this.enableUpdateOrganizationButton(),this.hideSearchResults()):this.isOpportunityEditPage?document.querySelector("#opportunityUpdateButton").click():this.brandSearchResultList.closest("form").submit()}setHiddenFields(ki){this.isOrganizationsPage||(this.orgIdTarget.value=ki.currentTarget.dataset.orgId),this.orgNameTarget.value=ki.currentTarget.dataset.orgName,this.orgLogoUrlTarget.value=ki.currentTarget.dataset.orgLogoUrl,this.orgDomainTarget.value=ki.currentTarget.dataset.orgDomain}displaySelectedBrand(){let ki=this.displayOrgTarget.getElementsByTagName("img")[0];ki.srcset="",ki.src=this.orgLogoUrlTarget.value,this.orgDomainLabelTarget.innerHTML=this.orgDomainTarget.value,this.orgNameLabelTarget.innerHTML=this.orgNameTarget.value}enableUpdateOrganizationButton(){this.updateButton.disabled=!1}hideSearchResults(){this.searchResultListTarget.innerHTML="",document.getElementById("search-cover").value=this.orgNameTarget.value}get isOrganizationsPage(){return window.location.pathname.includes("/organizations")}get isOpportunityEditPage(){return window.location.pathname.includes("/user/opportunities")}get brandSearchResultList(){return document.getElementById("brand-search-result-list")}get updateButton(){return document.getElementById("update-organization-button")}}Ho(BrandFetchController,"targets",["orgName","orgLogoUrl","orgDomain","orgId","displayOrg","orgDomainLabel","orgNameLabel","searchResultList"]);const ATTRIBUTE_KEY_LENGTH_LIMIT=128,ATTRIBUTE_STRING_VALUE_LIMIT_DEFAULT=1024,ATTRIBUTE_STRING_VALUE_LIMIT_MAX=1e4,ATTRIBUTE_ARRAY_LENGTH_LIMIT_DEFAULT=1e3,ATTRIBUTE_ARRAY_LENGTH_LIMIT_MAX=1e4,ATTRIBUTE_COUNT_LIMIT_DEFAULT=128,ATTRIBUTE_COUNT_LIMIT_MAX=1e3,defaultSpanAttributeLimits={attributeStringValueLimit:ATTRIBUTE_STRING_VALUE_LIMIT_DEFAULT,attributeArrayLengthLimit:ATTRIBUTE_ARRAY_LENGTH_LIMIT_DEFAULT,attributeCountLimit:ATTRIBUTE_COUNT_LIMIT_DEFAULT},defaultResourceAttributeLimits={attributeStringValueLimit:1/0,attributeArrayLengthLimit:1/0,attributeCountLimit:1/0},isBoolean=es=>es===!0||es===!1,isObject$1=es=>!!es&&typeof es=="object"&&!Array.isArray(es),isNumber=es=>typeof es=="number"&&Number.isFinite(es)&&!Number.isNaN(es),isString=es=>typeof es=="string",isStringWithLength=es=>isString(es)&&es.length>0,isLogger=es=>isObject$1(es)&&typeof es.debug=="function"&&typeof es.info=="function"&&typeof es.warn=="function"&&typeof es.error=="function",isStringArray=es=>Array.isArray(es)&&es.every(isStringWithLength),isStringOrRegExpArray=es=>Array.isArray(es)&&es.every(ki=>isStringWithLength(ki)||ki instanceof RegExp);function isPersistedProbability(es){return isObject$1(es)&&isNumber(es.value)&&isNumber(es.time)}const isSpanContext=es=>isObject$1(es)&&typeof es.id=="string"&&typeof es.traceId=="string"&&typeof es.isValid=="function",isParentContext=es=>isObject$1(es)&&typeof es.id=="string"&&typeof es.traceId=="string";function isTime(es){return isNumber(es)||es instanceof Date}function isPlugin(es){return isObject$1(es)&&typeof es.configure=="function"}function isPluginArray(es){return Array.isArray(es)&&es.every(ki=>isPlugin(ki))}function isOnSpanEndCallbacks(es){return Array.isArray(es)&&es.every(ki=>typeof ki=="function")}function truncateString(es,ki){const Ri=es.length,ts=es.slice(0,ki),rs=ts.length;return`${ts} *** ${Ri-rs} CHARS TRUNCATED`}class SpanAttributes{get droppedAttributesCount(){return this._droppedAttributesCount}constructor(ki,Ri,ts,rs){this._droppedAttributesCount=0,this.attributes=ki,this.spanAttributeLimits=Ri,this.spanName=ts,this.logger=rs}validateAttribute(ki,Ri){if(typeof Ri=="string"&&Ri.length>this.spanAttributeLimits.attributeStringValueLimit&&(this.attributes.set(ki,truncateString(Ri,this.spanAttributeLimits.attributeStringValueLimit)),this.logger.warn(`Span attribute ${ki} in span ${this.spanName} was truncated as the string exceeds the ${this.spanAttributeLimits.attributeStringValueLimit} character limit set by attributeStringValueLimit.`)),Array.isArray(Ri)&&Ri.length>this.spanAttributeLimits.attributeArrayLengthLimit){const ts=Ri.slice(0,this.spanAttributeLimits.attributeArrayLengthLimit);this.attributes.set(ki,ts),this.logger.warn(`Span attribute ${ki} in span ${this.spanName} was truncated as the array exceeds the ${this.spanAttributeLimits.attributeArrayLengthLimit} element limit set by attributeArrayLengthLimit.`)}}set(ki,Ri){typeof ki=="string"&&(typeof Ri=="string"||typeof Ri=="boolean"||isNumber(Ri)||Array.isArray(Ri))&&this.attributes.set(ki,Ri)}setCustom(ki,Ri){if(typeof ki=="string"&&(typeof Ri=="string"||typeof Ri=="boolean"||isNumber(Ri)||Array.isArray(Ri))){if(!this.attributes.has(ki)&&this.attributes.size>=this.spanAttributeLimits.attributeCountLimit){this._droppedAttributesCount++,this.logger.warn(`Span attribute ${ki} in span ${this.spanName} was dropped as the number of attributes exceeds the ${this.spanAttributeLimits.attributeCountLimit} attribute limit set by attributeCountLimit.`);return}if(ki.length>ATTRIBUTE_KEY_LENGTH_LIMIT){this._droppedAttributesCount++,this.logger.warn(`Span attribute ${ki} in span ${this.spanName} was dropped as the key length exceeds the ${ATTRIBUTE_KEY_LENGTH_LIMIT} character fixed limit.`);return}this.attributes.set(ki,Ri)}}remove(ki){this.attributes.delete(ki)}toJson(){return Array.from(this.attributes).forEach(([ki,Ri])=>{this.validateAttribute(ki,Ri)}),Array.from(this.attributes).map(([ki,Ri])=>attributeToJson(ki,Ri))}}class ResourceAttributes extends SpanAttributes{constructor(ki,Ri,ts,rs,is,ns){const ss=new Map([["deployment.environment",ki],["telemetry.sdk.name",rs],["telemetry.sdk.version",is],["service.name",ts]]);Ri.length>0&&ss.set("service.version",Ri),super(ss,defaultResourceAttributeLimits,"resource-attributes",ns)}}function getJsonAttributeValue(es){switch(typeof es){case"number":return Number.isNaN(es)||!Number.isFinite(es)?void 0:Number.isInteger(es)?{intValue:`${es}`}:{doubleValue:es};case"boolean":return{boolValue:es};case"string":return{stringValue:es}}}function getJsonArrayAttributeValue(es){return es.map(ki=>getJsonAttributeValue(ki)).filter(ki=>typeof ki<"u")}function attributeToJson(es,ki){switch(typeof ki){case"number":return Number.isNaN(ki)||!Number.isFinite(ki)?void 0:es!=="bugsnag.sampling.p"&&Number.isInteger(ki)?{key:es,value:{intValue:`${ki}`}}:{key:es,value:{doubleValue:ki}};case"boolean":return{key:es,value:{boolValue:ki}};case"string":return{key:es,value:{stringValue:ki}};case"object":if(Array.isArray(ki)){const Ri=getJsonArrayAttributeValue(ki);return{key:es,value:{arrayValue:Ri.length>0?{values:Ri}:{}}}}return;default:return}}const NANOSECONDS_IN_MILLISECONDS=1e6;function millisecondsToNanoseconds(es){return Math.round(es*NANOSECONDS_IN_MILLISECONDS)}const schema={appVersion:{defaultValue:"",message:"should be a string",validate:isStringWithLength},endpoint:{defaultValue:"https://otlp.bugsnag.com/v1/traces",message:"should be a string",validate:isStringWithLength},apiKey:{defaultValue:"",message:"should be a 32 character hexadecimal string",validate:es=>isString(es)&&/^[a-f0-9]{32}$/.test(es)},logger:{defaultValue:{debug(es){console.debug(es)},info(es){console.info(es)},warn(es){console.warn(es)},error(es){console.error(es)}},message:"should be a Logger object",validate:isLogger},releaseStage:{defaultValue:"production",message:"should be a string",validate:isStringWithLength},enabledReleaseStages:{defaultValue:null,message:"should be an array of strings",validate:es=>es===null||isStringArray(es)},plugins:{defaultValue:[],message:"should be an array of plugin objects",validate:isPluginArray},bugsnag:{defaultValue:void 0,message:"should be an instance of Bugsnag",validate:es=>isObject$1(es)&&typeof es.addOnError=="function"},samplingProbability:{defaultValue:void 0,message:"should be a number between 0 and 1",validate:es=>es===void 0||isNumber(es)&&es>=0&&es<=1},onSpanEnd:{defaultValue:void 0,message:"should be an array of functions",validate:isOnSpanEndCallbacks},attributeStringValueLimit:{defaultValue:ATTRIBUTE_STRING_VALUE_LIMIT_DEFAULT,message:`should be a number between 1 and ${ATTRIBUTE_STRING_VALUE_LIMIT_MAX}`,validate:es=>isNumber(es)&&es>0&&es<=ATTRIBUTE_STRING_VALUE_LIMIT_MAX},attributeArrayLengthLimit:{defaultValue:ATTRIBUTE_ARRAY_LENGTH_LIMIT_DEFAULT,message:`should be a number between 1 and ${ATTRIBUTE_ARRAY_LENGTH_LIMIT_MAX}`,validate:es=>isNumber(es)&&es>0&&es<=ATTRIBUTE_ARRAY_LENGTH_LIMIT_MAX},attributeCountLimit:{defaultValue:ATTRIBUTE_COUNT_LIMIT_DEFAULT,message:`should be a number between 1 and ${ATTRIBUTE_COUNT_LIMIT_MAX}`,validate:es=>isNumber(es)&&es>0&&es<=ATTRIBUTE_COUNT_LIMIT_MAX}};function validateConfig(es,ki){if(typeof es=="string"&&(es={apiKey:es}),!isObject$1(es)||!isString(es.apiKey)||es.apiKey.length===0)throw new Error("No Bugsnag API Key set");let Ri="";const ts={};for(const rs of Object.keys(ki))Object.prototype.hasOwnProperty.call(es,rs)?ki[rs].validate(es[rs])?ts[rs]=es[rs]:(Ri+=`
  - ${rs} ${ki[rs].message}, got ${typeof es[rs]}`,ts[rs]=ki[rs].defaultValue):ts[rs]=ki[rs].defaultValue;return ts.apiKey=es.apiKey,ts.maximumBatchSize=es.maximumBatchSize||100,ts.batchInactivityTimeoutMs=es.batchInactivityTimeoutMs||30*1e3,Ri.length>0&&ts.logger.warn(`Invalid configuration${Ri}`),ts}class SpanEvents{constructor(){this.events=[]}add(ki,Ri){this.events.push({name:ki,time:Ri})}toJson(ki){return this.events.map(({name:Ri,time:ts})=>({name:Ri,timeUnixNano:ki.toUnixTimestampNanoseconds(ts)}))}}function traceIdToSamplingRate(es){let ki=0;for(let Ri=0;Ri<es.length/8;Ri++){const ts=Ri*8,rs=Number.parseInt(es.slice(ts,ts+8),16);ki=(ki^rs)>>>0}return ki}const HOUR_IN_MILLISECONDS=60*60*1e3;function spanToJson(es,ki){return{name:es.name,kind:es.kind,spanId:es.id,traceId:es.traceId,parentSpanId:es.parentSpanId,...es.attributes.droppedAttributesCount>0?{droppedAttributesCount:es.attributes.droppedAttributesCount}:{},startTimeUnixNano:ki.toUnixTimestampNanoseconds(es.startTime),endTimeUnixNano:ki.toUnixTimestampNanoseconds(es.endTime),attributes:es.attributes.toJson(),events:es.events.toJson(ki)}}function spanEndedToSpan(es){return{get id(){return es.id},get traceId(){return es.traceId},get samplingRate(){return es.samplingRate},get name(){return es.name},isValid:()=>!1,end:()=>{},setAttribute:(ki,Ri)=>{es.attributes.setCustom(ki,Ri)}}}class SpanInternal{constructor(ki,Ri,ts,rs,is,ns,ss){this.kind=3,this.events=new SpanEvents,this.id=ki,this.traceId=Ri,this.parentSpanId=ss,this.name=ts,this.startTime=rs,this.attributes=is,this.samplingRate=traceIdToSamplingRate(this.traceId),this.clock=ns}addEvent(ki,Ri){this.events.add(ki,Ri)}setAttribute(ki,Ri){this.attributes.set(ki,Ri)}setCustomAttribute(ki,Ri){this.attributes.setCustom(ki,Ri)}end(ki,Ri){this.endTime=ki;let ts=Ri;return this.attributes.set("bugsnag.sampling.p",ts.raw),{id:this.id,name:this.name,kind:this.kind,traceId:this.traceId,startTime:this.startTime,attributes:this.attributes,events:this.events,samplingRate:this.samplingRate,endTime:ki,get samplingProbability(){return ts},set samplingProbability(rs){ts=rs,this.attributes.set("bugsnag.sampling.p",ts.raw)},parentSpanId:this.parentSpanId}}isValid(){return this.endTime===void 0&&this.startTime>this.clock.now()-HOUR_IN_MILLISECONDS}}const coreSpanOptionSchema={startTime:{message:"should be a number or Date",getDefaultValue:()=>{},validate:isTime},parentContext:{message:"should be a SpanContext",getDefaultValue:()=>{},validate:es=>es===null||isSpanContext(es)},makeCurrentContext:{message:"should be true|false",getDefaultValue:()=>{},validate:isBoolean},isFirstClass:{message:"should be true|false",getDefaultValue:()=>{},validate:isBoolean}};class BatchProcessor{constructor(ki,Ri,ts,rs,is,ns){this.spans=[],this.timeout=null,this.flushQueue=Promise.resolve(),this.delivery=ki,this.configuration=Ri,this.retryQueue=ts,this.sampler=rs,this.probabilityManager=is,this.encoder=ns,this.flush=this.flush.bind(this)}stop(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}start(){this.stop(),this.timeout=setTimeout(this.flush,this.configuration.batchInactivityTimeoutMs)}add(ki){this.configuration.enabledReleaseStages&&!this.configuration.enabledReleaseStages.includes(this.configuration.releaseStage)||(this.spans.push(ki),this.spans.length>=this.configuration.maximumBatchSize?this.flush():this.start())}async flush(){this.stop(),this.flushQueue=this.flushQueue.then(async()=>{const ki=await this.prepareBatch();if(!ki)return;const Ri=await this.encoder.encode(ki),ts=Date.now();try{const rs=await this.delivery.send(Ri);switch(rs.samplingProbability!==void 0&&this.probabilityManager.setProbability(rs.samplingProbability),rs.state){case"success":this.retryQueue.flush();break;case"failure-discard":this.configuration.logger.warn("delivery failed");break;case"failure-retryable":this.configuration.logger.info("delivery failed, adding to retry queue"),this.retryQueue.add(Ri,ts);break;default:rs.state}}catch{this.configuration.logger.warn("delivery failed")}}),await this.flushQueue}async runCallbacks(ki){if(this.configuration.onSpanEnd){const Ri=performance.now();let ts=!0;for(const rs of this.configuration.onSpanEnd)try{let is=rs(ki);if(typeof is.then=="function"&&(is=await is),is===!1){ts=!1;break}}catch(is){this.configuration.logger.error("Error in onSpanEnd callback: "+is)}if(ts){const rs=millisecondsToNanoseconds(performance.now()-Ri);ki.setAttribute("bugsnag.span.callbacks_duration",rs)}return ts}else return!0}async prepareBatch(){if(this.spans.length===0)return;await this.probabilityManager.ensureFreshProbability();const ki=[],Ri=this.sampler.spanProbability;for(const ts of this.spans)ts.samplingProbability.raw>Ri.raw&&(ts.samplingProbability=Ri),this.sampler.sample(ts)&&await this.runCallbacks(spanEndedToSpan(ts))&&ki.push(ts);if(this.spans=[],ki.length!==0)return ki}}class TracePayloadEncoder{constructor(ki,Ri,ts){this.clock=ki,this.configuration=Ri,this.resourceAttributeSource=ts}async encode(ki){const Ri=await this.resourceAttributeSource(this.configuration),ts=Array(ki.length);for(let is=0;is<ki.length;++is)ts[is]=spanToJson(ki[is],this.clock);return{body:{resourceSpans:[{resource:{attributes:Ri.toJson()},scopeSpans:[{spans:ts}]}]},headers:{"Bugsnag-Api-Key":this.configuration.apiKey,"Content-Type":"application/json",...this.configuration.samplingProbability!==void 0?{}:{"Bugsnag-Span-Sampling":this.generateSamplingHeader(ki)}}}}generateSamplingHeader(ki){if(ki.length===0)return"1:0";const Ri=Object.create(null);for(const is of ki){const ns=Ri[is.samplingProbability.raw]||0;Ri[is.samplingProbability.raw]=ns+1}const ts=Object.keys(Ri),rs=Array(ts.length);for(let is=0;is<ts.length;++is){const ns=ts[is];rs[is]=`${ns}:${Ri[ns]}`}return rs.join(";")}}const retryCodes=new Set([402,407,408,429]);function responseStateFromStatusCode(es){return es>=200&&es<300?"success":es>=400&&es<500&&!retryCodes.has(es)?"failure-discard":"failure-retryable"}class FixedProbabilityManager{static async create(ki,Ri){return ki.probability=Ri,new FixedProbabilityManager(ki,Ri)}constructor(ki,Ri){this.sampler=ki,this.samplingProbability=Ri}setProbability(ki){return Promise.resolve()}ensureFreshProbability(){return Promise.resolve()}}const RETRY_MILLISECONDS=30*1e3;class ProbabilityFetcher{constructor(ki,Ri){this.delivery=ki,this.payload={body:{resourceSpans:[]},headers:{"Bugsnag-Api-Key":Ri,"Content-Type":"application/json","Bugsnag-Span-Sampling":"1.0:0"}}}async getNewProbability(){for(;;){const ki=await this.delivery.send(this.payload);if(ki.samplingProbability!==void 0)return ki.samplingProbability;await this.timeBetweenRetries()}}timeBetweenRetries(){return new Promise(ki=>{setTimeout(ki,RETRY_MILLISECONDS)})}}const PROBABILITY_REFRESH_MILLISECONDS=24*60*60*1e3;class ProbabilityManager{static async create(ki,Ri,ts){const rs=await ki.load("bugsnag-sampling-probability");let is;return rs===void 0?(Ri.probability=1,is=0):(rs.time<Date.now()-PROBABILITY_REFRESH_MILLISECONDS,Ri.probability=rs.value,is=rs.time),new ProbabilityManager(ki,Ri,ts,is)}constructor(ki,Ri,ts,rs){this.outstandingFreshnessCheck=void 0,this.persistence=ki,this.sampler=Ri,this.probabilityFetcher=ts,this.lastProbabilityTime=rs,this.ensureFreshProbability()}setProbability(ki){return this.lastProbabilityTime=Date.now(),this.sampler.probability=ki,this.persistence.save("bugsnag-sampling-probability",{value:ki,time:this.lastProbabilityTime})}ensureFreshProbability(){return this.outstandingFreshnessCheck?this.outstandingFreshnessCheck:Date.now()-this.lastProbabilityTime>=PROBABILITY_REFRESH_MILLISECONDS?(this.outstandingFreshnessCheck=this.probabilityFetcher.getNewProbability().then(ki=>{this.setProbability(ki),this.outstandingFreshnessCheck=void 0}),this.outstandingFreshnessCheck):Promise.resolve()}}class BufferingProcessor{constructor(){this.spans=[]}add(ki){this.spans.push(ki)}}function scaleProbabilityToMatchSamplingRate(es){return Math.floor(es*4294967295)}class Sampler{constructor(ki){this._probability=ki,this.scaledProbability=scaleProbabilityToMatchSamplingRate(ki)}get probability(){return this._probability}set probability(ki){this._probability=ki,this.scaledProbability=scaleProbabilityToMatchSamplingRate(ki)}get spanProbability(){return{raw:this._probability,scaled:this.scaledProbability}}sample(ki){return ki.samplingRate<=ki.samplingProbability.scaled}shouldSample(ki){return ki<=this.spanProbability.scaled}}function spanContextEquals(es,ki){return es===ki?!0:es!==void 0&&ki!==void 0?es.id===ki.id&&es.traceId===ki.traceId:!1}class DefaultSpanContextStorage{constructor(ki,Ri=[]){this.isInForeground=!0,this.onBackgroundStateChange=ts=>{this.isInForeground=ts==="in-foreground",this.contextStack.length=0},this.contextStack=Ri,ki.onStateChange(this.onBackgroundStateChange)}*[Symbol.iterator](){for(let ki=this.contextStack.length-1;ki>=0;--ki)yield this.contextStack[ki]}push(ki){ki.isValid()&&this.isInForeground&&this.contextStack.push(ki)}pop(ki){spanContextEquals(ki,this.current)&&this.contextStack.pop(),this.removeClosedContexts()}get first(){return this.removeClosedContexts(),this.contextStack.length>0?this.contextStack[0]:void 0}get current(){return this.removeClosedContexts(),this.contextStack.length>0?this.contextStack[this.contextStack.length-1]:void 0}removeClosedContexts(){for(;this.contextStack.length>0&&this.contextStack[this.contextStack.length-1].isValid()===!1;)this.contextStack.pop()}}function timeToNumber(es,ki){return isNumber(ki)?ki:ki instanceof Date?es.convert(ki):es.now()}const DISCARD_END_TIME=-1;class SpanFactory{constructor(ki,Ri,ts,rs,is,ns,ss,os){this.spanAttributeLimits=defaultSpanAttributeLimits,this.openSpans=new WeakSet,this.isInForeground=!0,this.onBackgroundStateChange=ls=>{this.isInForeground=ls==="in-foreground",this.openSpans=new WeakSet},this.processor=ki,this.sampler=Ri,this.idGenerator=ts,this.spanAttributesSource=rs,this.clock=is,this.logger=ss,this.spanContextStorage=os,ns.onStateChange(this.onBackgroundStateChange)}startSpan(ki,Ri){const ts=timeToNumber(this.clock,Ri.startTime),rs=this.idGenerator.generate(64),is=isParentContext(Ri.parentContext)||Ri.parentContext===null?Ri.parentContext:this.spanContextStorage.current,ns=is?is.id:void 0,ss=is?is.traceId:this.idGenerator.generate(128),os=new SpanAttributes(new Map,this.spanAttributeLimits,ki,this.logger);typeof Ri.isFirstClass=="boolean"&&os.set("bugsnag.span.first_class",Ri.isFirstClass);const ls=new SpanInternal(rs,ss,ki,ts,os,this.clock,ns);return this.isInForeground&&(this.openSpans.add(ls),Ri.makeCurrentContext!==!1&&this.spanContextStorage.push(ls)),ls}startNetworkSpan(ki){const Ri=`[HTTP/${ki.method.toUpperCase()}]`,ts=this.validateSpanOptions(Ri,ki),rs=this.startSpan(ts.name,{...ts.options,makeCurrentContext:!1});return rs.setAttribute("bugsnag.span.category","network"),rs.setAttribute("http.method",ki.method),rs.setAttribute("http.url",ki.url),rs}configure(ki,Ri){this.processor=ki,this.logger=Ri.logger,this.spanAttributeLimits={attributeArrayLengthLimit:Ri.attributeArrayLengthLimit,attributeCountLimit:Ri.attributeCountLimit,attributeStringValueLimit:Ri.attributeStringValueLimit}}endSpan(ki,Ri,ts){this.spanContextStorage.pop(ki);const rs=!this.openSpans.delete(ki),is=ki.isValid();if(rs&&!is&&this.logger.warn("Attempted to end a Span which is no longer valid."),rs||!is||Ri===DISCARD_END_TIME){ki.end(Ri,this.sampler.spanProbability);return}for(const[ss,os]of Object.entries(ts||{}))ki.setAttribute(ss,os);this.spanAttributesSource.requestAttributes(ki);const ns=ki.end(Ri,this.sampler.spanProbability);this.sampler.sample(ns)&&this.processor.add(ns)}toPublicApi(ki){return{get id(){return ki.id},get traceId(){return ki.traceId},get samplingRate(){return ki.samplingRate},get name(){return ki.name},isValid:()=>ki.isValid(),setAttribute:(Ri,ts)=>{ki.setCustomAttribute(Ri,ts)},end:Ri=>{const ts=timeToNumber(this.clock,Ri);this.endSpan(ki,ts)}}}validateSpanOptions(ki,Ri,ts=coreSpanOptionSchema){let rs="";const is={};if(typeof ki!="string"&&(rs+=`
  - name should be a string, got ${typeof ki}`,ki=String(ki)),Ri!==void 0&&!isObject$1(Ri))rs+=`
  - options is not an object`;else{const ns=Ri||{};for(const ss of Object.keys(ts))Object.prototype.hasOwnProperty.call(ns,ss)&&ns[ss]!==void 0?ts[ss].validate(ns[ss])?is[ss]=ns[ss]:(rs+=`
  - ${ss} ${ts[ss].message}, got ${typeof ns[ss]}`,is[ss]=ts[ss].getDefaultValue(ns[ss])):is[ss]=ts[ss].getDefaultValue(ns[ss])}return rs.length>0&&this.logger.warn(`Invalid span options${rs}`),{name:ki,options:is}}}function createClient(es){const ki=new BufferingProcessor;let Ri=ki;const ts=es.spanContextStorage||new DefaultSpanContextStorage(es.backgroundingListener);let rs=es.schema.logger.defaultValue;const is=new Sampler(1),ns=new SpanFactory(Ri,is,es.idGenerator,es.spanAttributesSource,es.clock,es.backgroundingListener,rs,ts),ss=es.plugins(ns,ts);return{start:os=>{const ls=validateConfig(os,es.schema);if(ls.endpoint===schema.endpoint.defaultValue&&(ls.endpoint=ls.endpoint.replace("https://",`https://${ls.apiKey}.`)),ls.bugsnag&&typeof ls.bugsnag.Event.prototype.setTraceCorrelation=="function"&&ls.bugsnag.Client){const us=ls.bugsnag.Client.prototype._notify;ls.bugsnag.Client.prototype._notify=function(...As){const bs=ts.current;bs&&typeof As[0].setTraceCorrelation=="function"&&As[0].setTraceCorrelation(bs.traceId,bs.id),us.apply(this,As)}}const cs=es.deliveryFactory(ls.endpoint);es.spanAttributesSource.configure(ls),(ls.samplingProbability===void 0?ProbabilityManager.create(es.persistence,is,new ProbabilityFetcher(cs,ls.apiKey)):FixedProbabilityManager.create(is,ls.samplingProbability)).then(us=>{Ri=new BatchProcessor(cs,ls,es.retryQueueFactory(cs,ls.retryQueueMaxSize),is,us,new TracePayloadEncoder(es.clock,ls,es.resourceAttributesSource));for(const As of ki.spans)Ri.add(As);es.backgroundingListener.onStateChange(As=>{Ri.flush(),As==="in-foreground"&&us.ensureFreshProbability()}),rs=ls.logger,ns.configure(Ri,ls)});for(const us of ls.plugins)ss.push(us);for(const us of ss)us.configure(ls,ns)},startSpan:(os,ls)=>{const cs=ns.validateSpanOptions(os,ls),hs=ns.startSpan(cs.name,cs.options);return hs.setAttribute("bugsnag.span.category","custom"),ns.toPublicApi(hs)},startNetworkSpan:os=>{const ls=ns.startNetworkSpan(os);return{...ns.toPublicApi(ls),end:us=>{ns.endSpan(ls,timeToNumber(es.clock,us.endTime),{"http.status_code":us.status})}}},getPlugin:os=>{for(const ls of ss)if(ls instanceof os)return ls},get currentSpanContext(){return ts.current},...es.platformExtensions&&es.platformExtensions(ns,ts)}}function createNoopClient(){const es=()=>{};return{start:es,startSpan:()=>({id:"",traceId:"",end:es,isValid:()=>!1}),currentSpanContext:void 0}}var pad$2=function(ki,Ri){var ts="000000000"+ki;return ts.substr(ts.length-Ri)},pad$1=pad$2,env=typeof window=="object"?window:self,globalCount=0;for(var prop in env)Object.hasOwnProperty.call(env,prop)&&globalCount++;var mimeTypesLength=navigator.mimeTypes?navigator.mimeTypes.length:0,clientId=pad$1((mimeTypesLength+navigator.userAgent.length).toString(36)+globalCount.toString(36),4),fingerprint_browser=function(){return clientId},isCuid$2=function(ki){return typeof ki=="string"&&/^c[a-z0-9]{20,32}$/.test(ki)},fingerprint=fingerprint_browser,isCuid$1=isCuid$2,pad=pad$2,c$3=0,blockSize=4,base=36,discreteValues=Math.pow(base,blockSize);function randomBlock(){return pad((Math.random()*discreteValues<<0).toString(base),blockSize)}function safeCounter(){return c$3=c$3<discreteValues?c$3:0,c$3++,c$3-1}function cuid(){var es="c",ki=new Date().getTime().toString(base),Ri=pad(safeCounter().toString(base),blockSize),ts=fingerprint(),rs=randomBlock()+randomBlock();return es+ki+Ri+ts+rs}cuid.fingerprint=fingerprint;cuid.isCuid=isCuid$1;var cuid_1=cuid;const cuid$1=getDefaultExportFromCjs(cuid_1),{isCuid}=cuid$1;class InMemoryPersistence{constructor(){this.persistedItems=new Map}async load(ki){return this.persistedItems.get(ki)}async save(ki,Ri){this.persistedItems.set(ki,Ri)}}function toPersistedPayload(es,ki){switch(es){case"bugsnag-sampling-probability":{const Ri=JSON.parse(ki);return isPersistedProbability(Ri)?Ri:void 0}case"bugsnag-anonymous-id":return isCuid(ki)?ki:void 0}}const msInDay=24*60*6e4;class InMemoryQueue{constructor(ki,Ri){this.delivery=ki,this.retryQueueMaxSize=Ri,this.requestQueue=Promise.resolve(),this.payloads=[]}add(ki,Ri){this.payloads.push({payload:ki,time:Ri});let ts=this.payloads.reduce((rs,{payload:is})=>rs+countSpansInPayload(is),0);for(;ts>this.retryQueueMaxSize;){const rs=this.payloads.shift();if(!rs)break;ts-=countSpansInPayload(rs.payload)}}async flush(){if(this.payloads.length===0)return;const ki=this.payloads;this.payloads=[],this.requestQueue=this.requestQueue.then(async()=>{for(const{payload:Ri,time:ts}of ki)if(!(Date.now()>=ts+msInDay))try{const{state:rs}=await this.delivery.send(Ri);switch(rs){case"success":case"failure-discard":break;case"failure-retryable":this.add(Ri,ts);break;default:}}catch{}}),await this.requestQueue}}function countSpansInPayload(es){let ki=0;for(let Ri=0;Ri<es.body.resourceSpans.length;++Ri){const ts=es.body.resourceSpans[Ri].scopeSpans;for(let rs=0;rs<ts.length;++rs)ki+=ts[rs].spans.length}return ki}function samplingProbabilityFromHeaders(es){const ki=es.get("Bugsnag-Sampling-Probability");if(typeof ki!="string")return;const Ri=Number.parseFloat(ki);if(!(Number.isNaN(Ri)||Ri<0||Ri>1))return Ri}function createFetchDeliveryFactory(es,ki,Ri){let ts=!1;return Ri&&Ri.onStateChange(rs=>{ts=rs==="in-background"}),function(is){return{async send(ns){const ss=JSON.stringify(ns.body);ns.headers["Bugsnag-Sent-At"]=ki.date().toISOString();try{const os=await es(is,{method:"POST",keepalive:ts,body:ss,headers:ns.headers});return{state:responseStateFromStatusCode(os.status),samplingProbability:samplingProbabilityFromHeaders(os.headers)}}catch{return ss.length>1e6?{state:"failure-discard"}:{state:"failure-retryable"}}}}}}function defaultNetworkRequestCallback(es){return es}function isNetworkRequestCallback(es){return typeof es=="function"}class RequestTracker{constructor(){this.callbacks=[]}onStart(ki){this.callbacks.push(ki)}start(ki){const Ri=[];for(const ts of this.callbacks){const rs=ts(ki);rs&&Ri.push(rs)}return{onRequestEnd:ts=>{for(const rs of Ri)rs&&rs.onRequestEnd&&rs.onRequestEnd(ts)},extraRequestHeaders:Ri.map(ts=>{if(ts&&ts.extraRequestHeaders)return ts.extraRequestHeaders}).filter(isDefined)}}}function isDefined(es){return es!==void 0}function getAbsoluteUrl(es,ki){if(es.indexOf("https://")===0||es.indexOf("http://")===0)return es;try{const Ri=new URL(es,ki).href;return!es.endsWith("/")&&Ri.endsWith("/")?Ri.slice(0,-1):Ri}catch{return es}}function createStartContext(es,ki,Ri,ts){const rs=isRequest(ki),is=rs?ki.url:String(ki),ns=!!Ri&&Ri.method||rs&&ki.method||"GET";return{url:getAbsoluteUrl(is,ts),method:ns,startTime:es,type:"fetch"}}function isRequest(es){return!!es&&typeof es=="object"&&!(es instanceof URL)}function isHeadersInstance(es){return!!es&&typeof es=="object"&&es instanceof Headers}function createFetchRequestTracker(es,ki){const Ri=new RequestTracker,ts=es.fetch;return es.fetch=function(is,ns){const ss=createStartContext(ki.now(),is,ns,es.document&&es.document.baseURI),{onRequestEnd:os,extraRequestHeaders:ls}=Ri.start(ss),cs=mergeRequestHeaders(is,ns,ls);return ts.call(this,cs[0],cs[1]).then(hs=>(os({status:hs.status,endTime:ki.now(),state:"success"}),hs)).catch(hs=>{throw os({error:hs,endTime:ki.now(),state:"error"}),hs})},Ri}function mergeRequestHeaders(es,ki,Ri){if(!Ri)return[es,ki];const ts=Ri.reduce((rs,is)=>({...rs,...is}),{});return isRequest(es)&&(!ki||!ki.headers)?mergeInputRequestHeaders(ts,es):ki=mergeInitRequestHeaders(ts,ki),[es,ki]}function mergeInputRequestHeaders(es,ki){for(const[Ri,ts]of Object.entries(es))ki.headers.has(Ri)||ki.headers.set(Ri,ts)}function mergeInitRequestHeaders(es,ki){if(ki||(ki={}),isHeadersInstance(ki.headers)){for(const[Ri,ts]of Object.entries(es))ki.headers.has(Ri)||ki.headers.set(Ri,ts);return ki}else return{...ki,headers:{...es,...ki.headers}}}function createXmlHttpRequestTracker(es,ki,Ri){const ts=new RequestTracker,rs=new WeakMap,is=new WeakMap,ns=es.prototype.open;es.prototype.open=function(ls,cs,...hs){rs.set(this,{method:ls,url:getAbsoluteUrl(String(cs),Ri&&Ri.baseURI)}),ns.call(this,ls,cs,...hs)};const ss=es.prototype.send;return es.prototype.send=function(ls){const cs=rs.get(this);if(cs){const hs=is.get(this);hs&&this.removeEventListener("readystatechange",hs);const{onRequestEnd:us,extraRequestHeaders:As}=ts.start({type:"xmlhttprequest",method:cs.method,url:cs.url,startTime:ki.now()});if(As)for(const ys of As)for(const[Cs,ps]of Object.entries(ys))this.setRequestHeader(Cs,ps);const bs=ys=>{if(this.readyState===es.DONE&&us){const Cs=this.status>0?{endTime:ki.now(),status:this.status,state:"success"}:{endTime:ki.now(),state:"error"};us(Cs)}};this.addEventListener("readystatechange",bs),is.set(this,bs)}ss.call(this,ls)},ts}const defaultSendPageAttributes={referrer:!0,title:!0,url:!0};function getPermittedAttributes(es){return{...defaultSendPageAttributes,...es}}function isSendPageAttributes(es){const ki=["undefined","boolean"],Ri=Object.keys(defaultSendPageAttributes);return isObject$1(es)&&Ri.every(ts=>ki.includes(typeof es[ts]))}function shouldOmitSpan(es,ki){return es===void 0||ki===void 0||es===0&&ki===0}const instrumentPageLoadPhaseSpans=(es,ki,Ri,ts)=>{function rs(ss,os,ls){if(shouldOmitSpan(os,ls))return;const cs=es.startSpan(`[PageLoadPhase/${ss}]${Ri}`,{startTime:os,parentContext:ts,makeCurrentContext:!1});cs.setAttribute("bugsnag.span.category","page_load_phase"),cs.setAttribute("bugsnag.phase",ss),es.endSpan(cs,ls)}const is=ki.getEntriesByType("navigation"),ns=Array.isArray(is)&&is[0];if(ns){rs("Unload",ns.unloadEventStart,ns.unloadEventEnd),rs("Redirect",ns.redirectStart,ns.redirectEnd),rs("LoadFromCache",ns.fetchStart,ns.domainLookupStart),rs("DNSLookup",ns.domainLookupStart,ns.domainLookupEnd);const ss=ns.secureConnectionStart||ns.connectEnd;rs("TCPHandshake",ns.connectStart,ss),rs("TLS",ns.secureConnectionStart,ns.connectEnd),rs("HTTPRequest",ns.requestStart,ns.responseStart),rs("HTTPResponse",ns.responseStart,ns.responseEnd),rs("DomContentLoadedEvent",ns.domContentLoadedEventStart,ns.domContentLoadedEventEnd),rs("LoadEvent",ns.loadEventStart,ns.loadEventEnd)}},defaultRouteResolver=es=>es.pathname||"/",createNoopRoutingProvider=()=>class{constructor(ki=defaultRouteResolver){this.resolveRoute=ki}listenForRouteChanges(ki){}},createDefaultRoutingProvider=(es,ki)=>class{constructor(ts=defaultRouteResolver){this.resolveRoute=ts}listenForRouteChanges(ts){addEventListener("popstate",is=>{const ns=new URL(ki.href),ss=ts(ns,"popstate");es(os=>{ss.end(os)})});const rs=history.pushState;history.pushState=function(...is){const ns=is[2];if(ns){const ss=new URL(getAbsoluteUrl(ns.toString(),document.baseURI)),os=ts(ss,"pushState");es(ls=>{os.end(ls)})}rs.apply(this,is)}}};class FullPageLoadPlugin{constructor(ki,Ri,ts,rs,is,ns,ss){this.wasBackgrounded=!1,this.document=ki,this.location=Ri,this.spanFactory=ts,this.webVitals=rs,this.onSettle=is,this.performance=ss,ns.onStateChange(os=>{!this.wasBackgrounded&&os==="in-background"&&(this.wasBackgrounded=!0)})}configure(ki){if(!ki.autoInstrumentFullPageLoads||this.wasBackgrounded)return;let Ri=null;const ts=document.querySelector('meta[name="traceparent"]');if(ts!==null&&ts.getAttribute("content")){const ss=ts.getAttribute("content"),[,os,ls]=ss.split("-");Ri={traceId:os,id:ls}}const rs=this.spanFactory.startSpan("[FullPageLoad]",{startTime:0,parentContext:Ri}),is=getPermittedAttributes(ki.sendPageAttributes),ns=new URL(this.location.href);this.onSettle(ss=>{if(this.wasBackgrounded)return;const os=ki.routingProvider.resolveRoute(ns)||defaultRouteResolver(ns);rs.name+=os,instrumentPageLoadPhaseSpans(this.spanFactory,this.performance,os,rs),rs.setAttribute("bugsnag.span.category","full_page_load"),rs.setAttribute("bugsnag.browser.page.route",os),is.referrer&&rs.setAttribute("bugsnag.browser.page.referrer",this.document.referrer),is.title&&rs.setAttribute("bugsnag.browser.page.title",this.document.title),is.url&&rs.setAttribute("bugsnag.browser.page.url",ns.toString()),this.webVitals.attachTo(rs),this.spanFactory.endSpan(rs,ss)})}}const permittedPrefixes=["http://","https://","/","./","../"];class NetworkRequestPlugin{constructor(ki,Ri,ts,rs){this.spanFactory=ki,this.spanContextStorage=Ri,this.fetchTracker=ts,this.xhrTracker=rs,this.configEndpoint="",this.networkRequestCallback=defaultNetworkRequestCallback,this.logger={debug:console.debug,warn:console.warn,info:console.info,error:console.error},this.trackRequest=is=>{if(!this.shouldTrackRequest(is))return;const ns=!1,ss={url:is.url,type:is.type,propagateTraceContext:ns},os=this.networkRequestCallback(ss);if(!os)return{onRequestEnd:void 0,extraRequestHeaders:void 0};if(os.propagateTraceContext===void 0&&(os.propagateTraceContext=ns),!os.url)return{onRequestEnd:void 0,extraRequestHeaders:os.propagateTraceContext?this.getExtraRequestHeaders():void 0};if(typeof os.url!="string"){this.logger.warn(`expected url to be a string following network request callback, got ${typeof os.url}`);return}const ls=this.spanFactory.startNetworkSpan({method:is.method,startTime:is.startTime,url:os.url});return{onRequestEnd:cs=>{cs.state==="success"&&this.spanFactory.endSpan(ls,cs.endTime,{"http.status_code":cs.status})},extraRequestHeaders:os.propagateTraceContext?this.getExtraRequestHeaders(ls):void 0}}}configure(ki){this.logger=ki.logger,ki.autoInstrumentNetworkRequests&&(this.configEndpoint=ki.endpoint,this.xhrTracker.onStart(this.trackRequest),this.fetchTracker.onStart(this.trackRequest),this.networkRequestCallback=ki.networkRequestCallback)}shouldTrackRequest(ki){return ki.url!==this.configEndpoint&&permittedPrefixes.some(Ri=>ki.url.startsWith(Ri))}getExtraRequestHeaders(ki){const Ri={};if(ki){const ts=ki.traceId,rs=ki.id,is=this.spanFactory.sampler.shouldSample(ki.samplingRate);Ri.traceparent=buildTraceparentHeader(ts,rs,is),Ri.tracestate=buildTracestateHeader(ts)}else if(this.spanContextStorage.current){const ts=this.spanContextStorage.current,rs=ts.traceId,is=ts.id,ns=this.spanFactory.sampler.shouldSample(ts.samplingRate);Ri.traceparent=buildTraceparentHeader(rs,is,ns),Ri.tracestate=buildTracestateHeader(rs)}return Ri}}function buildTraceparentHeader(es,ki,Ri){return`00-${es}-${ki}-${Ri?"01":"00"}`}function buildTracestateHeader(es){return`sb=v:1;r32:${traceIdToSamplingRate(es)}`}function getHttpVersion(es){switch(es){case"":return;case"http/1.0":return"1.0";case"http/1.1":return"1.1";case"h2":case"h2c":return"2.0";case"h3":return"3.0";case"spdy/1":case"spdy/2":case"spdy/3":return"SPDY";default:return es}}function resourceLoadSupported(es){return es&&Array.isArray(es.supportedEntryTypes)&&es.supportedEntryTypes.includes("resource")}class ResourceLoadPlugin{constructor(ki,Ri,ts){this.spanFactory=ki,this.spanContextStorage=Ri,this.PerformanceObserverClass=ts}configure(ki){if(!resourceLoadSupported(this.PerformanceObserverClass))return;const Ri=new this.PerformanceObserverClass(ts=>{const rs=ts.getEntries();for(const is of rs){if(is.initiatorType==="fetch"||is.initiatorType==="xmlhttprequest")continue;const ns=this.spanContextStorage.first;if(ns){const ss=ki.networkRequestCallback({url:is.name,type:is.initiatorType});if(!ss)return;if(typeof ss.url!="string"){ki.logger.warn(`expected url to be a string following network request callback, got ${typeof ss.url}`);return}let os="";try{const hs=new URL(ss.url);hs.search="",os=hs.href}catch{ki.logger.warn(`Unable to parse URL returned from networkRequestCallback: ${ss.url}`);return}const ls=this.spanFactory.startSpan(`[ResourceLoad]${os}`,{parentContext:ns,startTime:is.startTime,makeCurrentContext:!1});ls.setAttribute("bugsnag.span.category","resource_load"),ls.setAttribute("http.url",ss.url);const cs=getHttpVersion(is.nextHopProtocol);cs&&ls.setAttribute("http.flavor",cs),is.encodedBodySize&&is.decodedBodySize&&(ls.setAttribute("http.response_content_length",is.encodedBodySize),ls.setAttribute("http.response_content_length_uncompressed",is.decodedBodySize)),is.responseStatus&&ls.setAttribute("http.status_code",is.responseStatus),this.spanFactory.endSpan(ls,is.responseEnd)}}});try{Ri.observe({type:"resource",buffered:!0})}catch{ki.logger.warn("Unable to get previous resource loads as buffered observer not supported, only showing resource loads from this point on"),Ri.observe({entryTypes:["resource"]})}}}const{startTime,parentContext,makeCurrentContext}=coreSpanOptionSchema,routeChangeSpanOptionSchema={startTime,parentContext,makeCurrentContext,trigger:{getDefaultValue:es=>String(es),message:"should be a string",validate:isString}};class RouteChangePlugin{constructor(ki,Ri,ts){this.spanFactory=ki,this.location=Ri,this.document=ts}configure(ki){if(!ki.autoInstrumentRouteChanges)return;const Ri=new URL(this.location.href);let ts=ki.routingProvider.resolveRoute(Ri)||defaultRouteResolver(Ri);const rs=getPermittedAttributes(ki.sendPageAttributes);ki.routingProvider.listenForRouteChanges((is,ns,ss)=>{let os;if(is instanceof URL)os=is;else try{const As=String(is);os=new URL(As)}catch{return ki.logger.warn(`Invalid span options
  - url should be a URL`),{id:"",name:"",traceId:"",samplingRate:0,isValid:()=>!1,setAttribute:()=>{},end:()=>{}}}const ls={...ss,trigger:ns},cs=this.spanFactory.validateSpanOptions("[RouteChange]",ls,routeChangeSpanOptionSchema),hs=ki.routingProvider.resolveRoute(os)||defaultRouteResolver(os);cs.name+=hs;const us=this.spanFactory.startSpan(cs.name,cs.options);return us.setAttribute("bugsnag.span.category","route_change"),us.setAttribute("bugsnag.browser.page.route",hs),us.setAttribute("bugsnag.browser.page.previous_route",ts),us.setAttribute("bugsnag.browser.page.route_change.trigger",cs.options.trigger),rs.url&&us.setAttribute("bugsnag.browser.page.url",is.toString()),ts=hs,{get id(){return us.id},get traceId(){return us.traceId},get samplingRate(){return us.samplingRate},get name(){return us.name},isValid:us.isValid,setAttribute:us.setAttribute,end:As=>{const bs=isObject$1(As)?As:{endTime:As};if(rs.title&&us.setAttribute("bugsnag.browser.page.title",this.document.title),bs.url){const ys=ensureUrl(bs.url),Cs=ki.routingProvider.resolveRoute(ys)||defaultRouteResolver(ys);us.name=`[RouteChange]${Cs}`,us.setAttribute("bugsnag.browser.page.route",Cs),ts=Cs,rs.url&&us.setAttribute("bugsnag.browser.page.url",ys.toString())}this.spanFactory.toPublicApi(us).end(bs.endTime)}}})}}function ensureUrl(es){return typeof es=="string"?new URL(es):es}function createBrowserBackgroundingListener(es){const ki=[];let Ri=es.document.visibilityState==="hidden"?"in-background":"in-foreground";const ts={onStateChange(is){ki.push(is),Ri==="in-background"&&is(Ri)}},rs=is=>{if(Ri!==is){Ri=is;for(const ns of ki)ns(Ri)}};return es.document.addEventListener("visibilitychange",function(){const is=es.document.visibilityState==="hidden"?"in-background":"in-foreground";rs(is)}),es.addEventListener("pagehide",function(){rs("in-background")}),es.addEventListener("pageshow",function(){rs("in-foreground")}),ts}const MAX_CLOCK_DRIFT_MS=3e5;function recalculateTimeOrigin(es,ki){return Math.abs(Date.now()-(es+ki.now()))>MAX_CLOCK_DRIFT_MS?Date.now()-ki.now():es}function createClock(es,ki){const Ri=es.timeOrigin===void 0?es.timing.navigationStart:es.timeOrigin;let ts=recalculateTimeOrigin(Ri,es);return ki.onStateChange(rs=>{rs==="in-foreground"&&(ts=recalculateTimeOrigin(ts,es))}),{now:()=>es.now(),date:()=>new Date(ts+es.now()),convert:rs=>rs.getTime()-ts,toUnixTimestampNanoseconds:rs=>millisecondsToNanoseconds(ts+rs).toString()}}const isRoutingProvider=es=>isObject$1(es)&&typeof es.resolveRoute=="function"&&typeof es.listenForRouteChanges=="function";function createSchema(es,ki){return{...schema,releaseStage:{...schema.releaseStage,defaultValue:es==="localhost"?"development":"production"},autoInstrumentFullPageLoads:{defaultValue:!0,message:"should be true|false",validate:isBoolean},autoInstrumentNetworkRequests:{defaultValue:!0,message:"should be true|false",validate:isBoolean},autoInstrumentRouteChanges:{defaultValue:!0,message:"should be true|false",validate:isBoolean},generateAnonymousId:{defaultValue:!0,message:"should be true|false",validate:isBoolean},routingProvider:{defaultValue:ki,message:"should be a routing provider",validate:isRoutingProvider},settleIgnoreUrls:{defaultValue:[],message:"should be an array of string|RegExp",validate:isStringOrRegExpArray},networkRequestCallback:{defaultValue:defaultNetworkRequestCallback,message:"should be a function",validate:isNetworkRequestCallback},sendPageAttributes:{defaultValue:defaultSendPageAttributes,message:"should be an object",validate:isSendPageAttributes},serviceName:{defaultValue:"unknown_service",message:"should be a string",validate:isStringWithLength}}}function toHex(es){const ki=es.toString(16);return ki.length===1?"0"+ki:ki}const idGenerator={generate(es){const ki=new Uint8Array(es/8),Ri=window.crypto.getRandomValues(ki);return Array.from(Ri,toHex).join("")}};class Settler{constructor(ki){this.settled=!1,this.callbacks=new Set,this.clock=ki}subscribe(ki){this.callbacks.add(ki),this.isSettled()&&ki(this.clock.now())}unsubscribe(ki){this.callbacks.delete(ki)}isSettled(){return this.settled}settle(ki){this.settled=!0;for(const Ri of this.callbacks)Ri(ki)}}class DomMutationSettler extends Settler{constructor(ki,Ri){super(ki),this.timeout=void 0,new MutationObserver(()=>{this.restart()}).observe(Ri,{subtree:!0,childList:!0,characterData:!0}),this.restart()}restart(){clearTimeout(this.timeout),this.settled=!1;const ki=this.clock.now();this.timeout=setTimeout(()=>{this.settle(ki)},100)}}function isPerformanceNavigationTiming(es){return!!es&&es.entryType==="navigation"}class LoadEventEndSettler extends Settler{constructor(ki,Ri,ts,rs){super(ki),rs.readyState==="complete"?setTimeout(()=>{this.settleUsingPerformance(ts)},0):Ri("load",()=>{setTimeout(()=>{this.settleUsingPerformance(ts)},0)})}settleUsingPerformance(ki){const Ri=this.clock.now(),ts=typeof ki.getEntriesByType=="function"?ki.getEntriesByType("navigation")[0]:void 0;let rs=0;isPerformanceNavigationTiming(ts)?rs=ts.loadEventEnd:ki.timing&&(rs=ki.timing.loadEventEnd-ki.timing.navigationStart),(rs<=0||rs>Ri)&&(rs=Ri),this.settle(rs)}}class RequestSettler extends Settler{constructor(ki,Ri){super(ki),this.timeout=void 0,this.urlsToIgnore=[],this.outstandingRequests=0,this.settled=!0,Ri.onStart(this.onRequestStart.bind(this))}setUrlsToIgnore(ki){this.urlsToIgnore=ki}onRequestStart(ki){if(!this.shouldIgnoreUrl(ki.url))return clearTimeout(this.timeout),this.settled=!1,++this.outstandingRequests,{onRequestEnd:Ri=>{if(--this.outstandingRequests===0){const ts=this.clock.now();this.timeout=setTimeout(()=>{this.settle(ts)},100)}}}}shouldIgnoreUrl(ki){return this.urlsToIgnore.some(Ri=>Ri.test(ki))}}class SettlerAggregate extends Settler{constructor(ki,Ri){super(ki),this.settlers=Ri;for(const ts of Ri)ts.subscribe(rs=>{this.settlersAreSettled()?this.settle(rs):this.settled=!1})}isSettled(){return super.isSettled()&&this.settlersAreSettled()}settlersAreSettled(){for(const ki of this.settlers)if(!ki.isSettled())return!1;return!0}}const TIMEOUT_MILLISECONDS=60*1e3;function createNoopOnSettle(){const es=()=>{};return es.configure=()=>{},es}function createOnSettle(es,ki,Ri,ts,rs){const is=new DomMutationSettler(es,ki.document),ns=new RequestSettler(es,Ri),ss=new RequestSettler(es,ts),os=new LoadEventEndSettler(es,ki.addEventListener,rs,ki.document),ls=new SettlerAggregate(es,[is,os,ns,ss]);function cs(hs){const us=Cs=>{clearTimeout(As),ls.unsubscribe(us),hs(Cs)},As=setTimeout(()=>{const Cs=es.now();ls.unsubscribe(us),hs(Cs)},TIMEOUT_MILLISECONDS),bs=ls.isSettled()?100:0,ys=es.now();setTimeout(()=>{ls.isSettled()?us(ys):ls.subscribe(us)},bs)}return cs.configure=function(hs){const us=hs.settleIgnoreUrls.map(As=>typeof As=="string"?RegExp(As):As).concat(RegExp(hs.endpoint));ns.setUrlsToIgnore(us),ss.setUrlsToIgnore(us)},cs}function makeBrowserPersistence(es){try{if(es.localStorage)return new BrowserPersistence(es.localStorage)}catch{}return new InMemoryPersistence}function toString$1(es,ki){switch(es){case"bugsnag-sampling-probability":return JSON.stringify(ki);case"bugsnag-anonymous-id":return ki;default:return es}}class BrowserPersistence{constructor(ki){this.storage=ki}async load(ki){try{const Ri=this.storage.getItem(ki);if(Ri)return toPersistedPayload(ki,Ri)}catch{}}async save(ki,Ri){try{this.storage.setItem(ki,toString$1(ki,Ri))}catch{}}}function createResourceAttributesSource(es,ki){let Ri,ts;return function(is){const ns=new ResourceAttributes(is.releaseStage,is.appVersion,is.serviceName,"bugsnag.performance.browser","2.10.0",is.logger);if(ns.set("browser.user_agent",es.userAgent),es.userAgentData&&(ns.set("browser.platform",es.userAgentData.platform),ns.set("browser.mobile",es.userAgentData.mobile)),is.generateAnonymousId)if(Ri||(Ri=ki.load("bugsnag-anonymous-id").then(ss=>{const os=ss||cuid$1();return ss||ki.save("bugsnag-anonymous-id",os),ts=os,ts})),ts)ns.set("device.id",ts);else return Ri.then(ss=>(ns.set("device.id",ss),ns));return Promise.resolve(ns)}}const createSpanAttributesSource=es=>{const ki={url:{name:"bugsnag.browser.page.url",getValue:()=>es.location.href,permitted:!1},title:{name:"bugsnag.browser.page.title",getValue:()=>es.title,permitted:!1}};return{configure(Ri){ki.title.permitted=Ri.sendPageAttributes.title||!1,ki.url.permitted=Ri.sendPageAttributes.url||!1},requestAttributes(Ri){for(const ts of Object.values(ki))ts.permitted&&Ri.setAttribute(ts.name,ts.getValue())}}};class WebVitals{constructor(ki,Ri,ts){if(this.performance=ki,this.clock=Ri,this.observers=[],ts&&Array.isArray(ts.supportedEntryTypes)){const rs=ts.supportedEntryTypes;rs.includes("largest-contentful-paint")&&this.observeLargestContentfulPaint(ts),rs.includes("layout-shift")&&this.observeLayoutShift(ts)}}attachTo(ki){const Ri=this.firstContentfulPaint();Ri&&ki.addEvent("fcp",Ri);const ts=this.timeToFirstByte();ts&&ki.addEvent("ttfb",ts);const rs=this.firstInputDelay();rs&&(ki.addEvent("fid_start",rs.start),ki.addEvent("fid_end",rs.end)),this.cumulativeLayoutShift&&ki.setAttribute("bugsnag.metrics.cls",this.cumulativeLayoutShift),this.largestContentfulPaint&&ki.addEvent("lcp",this.largestContentfulPaint);for(const is of this.observers)is.disconnect()}firstContentfulPaint(){const ki=this.performance.getEntriesByName("first-contentful-paint","paint"),Ri=Array.isArray(ki)&&ki[0];if(Ri)return Ri.startTime}timeToFirstByte(){const ki=this.performance.getEntriesByType("navigation"),Ri=Array.isArray(ki)&&ki[0];let ts;if(Ri?ts=Ri.responseStart:ts=this.performance.timing.responseStart-this.performance.timing.navigationStart,ts>0&&ts<=this.clock.now())return ts}firstInputDelay(){const ki=this.performance.getEntriesByType("first-input"),Ri=Array.isArray(ki)&&ki[0];if(Ri)return{start:Ri.startTime,end:Ri.processingStart}}observeLargestContentfulPaint(ki){const Ri=new ki(ts=>{const rs=ts.getEntries();rs.length>0&&(this.largestContentfulPaint=rs[rs.length-1].startTime)});Ri.observe({type:"largest-contentful-paint",buffered:!0}),this.observers.push(Ri)}observeLayoutShift(ki){let Ri;const ts=new ki(rs=>{for(const is of rs.getEntries())is.hadRecentInput||(Ri&&is.startTime-Ri.previousStartTime<1e3&&is.startTime-Ri.firstStartTime<5e3?(Ri.value+=is.value,Ri.previousStartTime=is.startTime):Ri={value:is.value,firstStartTime:is.startTime,previousStartTime:is.startTime});Ri&&(this.cumulativeLayoutShift===void 0||Ri.value>this.cumulativeLayoutShift)&&(this.cumulativeLayoutShift=Ri.value)});ts.observe({type:"layout-shift",buffered:!0}),this.observers.push(ts)}}let onSettle,DefaultRoutingProvider,BugsnagPerformance;if(typeof window>"u"||typeof document>"u")onSettle=createNoopOnSettle(),DefaultRoutingProvider=createNoopRoutingProvider(),BugsnagPerformance=createNoopClient();else{const es=createBrowserBackgroundingListener(window),ki=createSpanAttributesSource(document),Ri=createClock(performance,es),ts=makeBrowserPersistence(window),rs=createResourceAttributesSource(navigator,ts),is=createFetchRequestTracker(window,Ri),ns=createXmlHttpRequestTracker(XMLHttpRequest,Ri,document),ss=new WebVitals(performance,Ri,window.PerformanceObserver);onSettle=createOnSettle(Ri,window,is,ns,performance),DefaultRoutingProvider=createDefaultRoutingProvider(onSettle,window.location),BugsnagPerformance=createClient({backgroundingListener:es,clock:Ri,resourceAttributesSource:rs,spanAttributesSource:ki,deliveryFactory:createFetchDeliveryFactory(window.fetch,Ri,es),idGenerator,schema:createSchema(window.location.hostname,new DefaultRoutingProvider),plugins:(os,ls)=>[onSettle,new FullPageLoadPlugin(document,window.location,os,ss,onSettle,es,performance),new ResourceLoadPlugin(os,ls,window.PerformanceObserver),new NetworkRequestPlugin(os,ls,is,ns),new RouteChangePlugin(os,window.location,document)],persistence:ts,retryQueueFactory:(os,ls)=>new InMemoryQueue(os,ls)})}const BugsnagPerformance$1=BugsnagPerformance;class BugsnagPerformanceController extends Controller{connect(){this.hasApiKeyValue&&this.hasAppVersionValue&&this.hasReleaseStageValue&&this.initializeBugsnagPerformance()}initializeBugsnagPerformance(){BugsnagPerformance$1.start({apiKey:this.apiKeyValue,appVersion:this.appVersionValue,releaseStage:this.releaseStageValue,networkRequestCallback:ki=>{var Ri;return ki.propagateTraceContext=(Ri=ki.url)==null?void 0:Ri.startsWith(window.origin),ki}}),console.log("Bugsnag Performance initialized")}}Ho(BugsnagPerformanceController,"values",{apiKey:String,appVersion:String,releaseStage:String});class BulkActionsController extends Controller{connect(){this.hasActionsDropdownTarget&&this.hideActionsDropdown()}updateSelectedResourcesField(ki){let Ri=ki.currentTarget,ts=Ri.dataset.resourceId,rs=this.parsedToJson(this.selectedResourceIdsTarget.value);Ri.checked?(this.showActionsDropdown(),rs.push(ts),this.selectedResourceIdsTarget.value=this.stringifyIds(rs)):(rs=rs.filter(is=>is!==ts),this.selectedResourceIdsTarget.value=this.stringifyIds(rs),rs.length===0&&this.hideActionsDropdown())}performAction(ki){ki.preventDefault();const Ri=ki.currentTarget.dataset.method,ts=ki.currentTarget.dataset.turbo;let rs=ki.currentTarget.dataset.path;this.formTarget.method=Ri,this.formTarget.action=rs,this.formTarget.dataset.turbo=ts,this.submitButtonTarget.click()}selectAll(ki){let Ri=[];ki.currentTarget.checked?(Ri=this.selectAllResourceIds(),Ri.length===0?this.hideActionsDropdown():this.showActionsDropdown()):(this.hideActionsDropdown(),this.unselectAllCheckboxes()),this.selectedResourceIdsTarget.value=this.stringifyIds(Ri)}selectAllResourceIds(){let ki=[];return this.checkboxes.forEach(Ri=>{Ri.checked=!0,ki.push(Ri.dataset.resourceId)}),ki}unselectAllCheckboxes(){this.checkboxes.forEach(ki=>{ki.checked=!1})}hideActionsDropdown(){this.actionsDropdownTarget.hidden=!0}showActionsDropdown(){this.actionsDropdownTarget.hidden=!1}parsedToJson(ki){return ki===""?[]:JSON.parse(ki)}stringifyIds(ki){return JSON.stringify(ki)}get checkboxes(){return document.querySelectorAll("input[type=checkbox][data-resource-id]")}}Ho(BulkActionsController,"targets",["actionsDropdown","selectedResourceIds","form","submitButton"]);class CancelOrderController extends Controller{constructor(){super(...arguments);Ho(this,"refundType","");Ho(this,"refundAmount",0);Ho(this,"selectedChargeId","");Ho(this,"selectedChargeAmount",0)}connect(){this.hideRefundOptions(),this.disableSubmitButton(),this.hideDismissMessage()}setAdminAction(Ri){Array.from(document.querySelectorAll('input[name="admin-cancel-order"]')).forEach(ts=>{ts.checked=!1}),this.adminActionTarget.value=Ri.target.value,Ri.target.checked=!0,this.adminActionTarget.value==="dismiss_cancelation_request"?(this.showDismissMessage(),this.hideRefundOptions()):this.adminActionTarget.value==="refund_only"?(this.showRefundOptions(),this.hideDismissMessage()):(this.hideRefundOptions(),this.hideDismissMessage()),this.enableSubmitButton()}showRefundOptions(){this.refundOptionsTarget.hidden=!1}hideRefundOptions(){this.refundOptionsTarget.hidden=!0,this.partialRefundElementTarget.hidden=!0}refundTypeChanged(Ri){Ri.target.value==="partial"?(this.showPartialRefundOptions(),this.refundType="partial"):(this.hidePartialRefundOptions(),this.refundType="full"),this.enableSubmitButton()}showPartialRefundOptions(){this.partialRefundElementTarget.hidden=!1}hidePartialRefundOptions(){this.partialRefundElementTarget.hidden=!0}disableSubmitButton(){document.getElementById("attachment-submit-button").disabled=!0}refundAmountChange(){this.selectedChargeId=document.getElementById("refund_charge_id").value,this.selectedChargeAmount=parseInt(document.getElementById(`charge_amount_${this.selectedChargeId}`).value),this.refundAmount=parseInt(this.refundAmountTarget.value.replace(/\$/g,"").replace(/,/g,"")),isNaN(this.refundAmount)||this.refundAmount>this.selectedChargeAmount?this.disableSubmitButton():this.enableSubmitButton()}enableSubmitButton(){if(this.adminActionTarget.value){if(this.refundType==="partial"&&(!this.selectedChargeId||this.refundAmount<=0||this.refundAmount>this.selectedChargeAmount))return this.disableSubmitButton();document.getElementById("attachment-submit-button").disabled=!1}}chargeSelected(){this.refundAmountTarget.disabled=!1}showDismissMessage(){this.hasDismissMessageTarget&&(this.dismissMessageTarget.parentElement.classList.remove("d-none"),this.dismissMessageTarget.setAttribute("required",!0))}hideDismissMessage(){this.hasDismissMessageTarget&&(this.dismissMessageTarget.parentElement.classList.add("d-none"),this.dismissMessageTarget.removeAttribute("required"))}}Ho(CancelOrderController,"targets",["adminAction","refundOptions","refundAmount","partialRefundElement","dismissMessage"]);class ChallengeVisibilityController extends Controller{connect(){this.countryTarget.value!=="US"||this.countryTargets.length!==1?(this.hideState(),this.hidePostal(),this.hideStateButton(),this.hidePostalButton()):this.stateTarget.value===""?(this.hideState(),this.hidePostal(),this.hidePostalButton()):this.stateTarget.value!==""&&this.postalCodeTarget.value===""?(this.hideStateButton(),this.hidePostal()):(this.hideStateButton(),this.hidePostalButton())}hideState(){this.stateVisibilityTarget.hidden=!0}showState(){this.stateVisibilityTarget.hidden=!1}hidePostal(){this.postalVisibilityTarget.hidden=!0}showPostal(){this.postalVisibilityTarget.hidden=!1}changeCountry(ki){ki.target.value==="US"&&this.countryTargets.length===1?this.showStateButton():(this.hideState(),this.hidePostal(),this.hideStateButton(),this.hidePostalButton())}changeState(){this.showPostalButton()}addCountry(){post("/user/challenges/add_country",{body:{}}),this.hideState(),this.hidePostal(),this.hideStateButton(),this.hidePostalButton()}hideStateButton(){this.stateButtonTarget.hidden=!0}showStateButton(){this.stateButtonTarget.hidden=!1}addState(){this.hideStateButton(),this.showState()}hidePostalButton(){this.postalButtonTarget.hidden=!0}showPostalButton(){this.postalButtonTarget.hidden=!1}addPostal(){this.hidePostalButton(),this.showPostal()}}Ho(ChallengeVisibilityController,"targets",["country","state","stateButton","stateVisibility","postalButton","postalVisibility","postalCode","addCountry"]);class ChangeCreatePromptController extends Controller{constructor(){super(...arguments);Ho(this,"textTypePrices",{Instagram:10,TikTok:10,Threads:10,Youtube:10,Twitter:10,Facebook:10,Twitch:10,Blog:25,Custom:10,"Instagram Post":10,Tweet:10,"Threads Post":10,"Facebook Post":10,"TikTok Post":10,"Youtube Description":10,"Twitch Description":10,"Blog Article":25,Elaborate:10,Summarize:10});Ho(this,"chatTypePrices",{chat_gpt:1});Ho(this,"lastSearchString","");Ho(this,"popupModal",null);Ho(this,"costButtonDefaultClass",null);Ho(this,"audioScriptSetSubscription",null)}connect(){if(this.audioScriptSetSubscription=subscribe("ai-audio-script-set",this.validateForm.bind(this)),this.hasCostButtonTarget&&(this.costButtonDefaultClass=this.costButtonTarget.getAttribute("class")),this.hasButtonTarget&&(this.bindEvents(),this.hasPromptTarget&&(this.validateCreatePrompt()?this.buttonTarget.removeAttribute("disabled"):this.buttonTarget.setAttribute("disabled",!0))),this.onSearchInputChangedDebounce=lodashExports.debounce(Ri=>this.onSearchInputChangedDebounced(Ri),400),this.hasResetSearchButtonTarget&&(this.lastSearchString=this.promptTarget.value,this.onSearchInputChanged()),this.hasPopupTriggerTarget&&["creator-subscription","marketer-subscription"].includes(this.popupTriggerTarget.value)){let Ri=document.getElementById(this.popupTriggerTarget.value);this.popupModal=new Modal(Ri)}this.validateForm(null)}disconnect(){unsubscribe("ai-audio-script-set",this.audioScriptSetSubscription)}onFocusChange(){emit("mobile-view-changed")}submitDisablerTargetConnected(){this.refreshButtonDisabledState()}submitDisablerTargetDisconnected(){this.refreshButtonDisabledState()}validateForm(Ri){return this.isAudioGeneration()&&this.updateAudioTextCounter(),this.updateCostButton(Ri===null),this.updateGenerateImages(),this.popupModal&&!this.canAfford()&&this.popupModal.show(),this.refreshButtonDisabledState(),!1}refreshButtonDisabledState(){if(this.hasButtonTarget){let Ri=this.buttonTarget.classList.value.includes("disabled-while-creating");const ts=["reimagine","remove_background"];let is=this.validateCreatePrompt()&&this.canAfford()&&this.validCost()&&!Ri&&this.submitDisablerTargets.length===0||ts.includes(this.imageGenerationType())&&this.canAfford();return is?this.buttonTarget.removeAttribute("disabled"):this.buttonTarget.setAttribute("disabled",!0),is}}resetSearchInput(){this.promptTarget.value="",this.hasFiltersHiddenSearchTarget&&(this.filtersHiddenSearchTarget.value=""),this.onSearchInputChanged(),this.onSearchInputChangedDebounced()}onSearchInputChanged(Ri){let ts=Ri&&Ri.currentTarget?Ri.currentTarget.dataset.path:null;this.hasResetSearchButtonTarget&&(this.promptTarget.value?this.resetSearchButtonTarget.classList.remove("d-none"):this.resetSearchButtonTarget.classList.add("d-none"),this.onSearchInputChangedDebounce(ts||null))}isAiShowcasePage(){return window.location.pathname.startsWith("/ai/community")}async onSearchInputChangedDebounced(Ri){let ts=this.promptTarget.value;if(ts===this.lastSearchString)return;this.lastSearchString=ts;let rs=new URLSearchParams(window.location.search);rs.delete("page"),ts?rs.set("search",ts):rs.delete("search");let is="/ai/histories/search";Ri?is=Ri:this.isAiShowcasePage()&&(is="/ai/community/search"),window.location.href.includes("/community/manage")?await post("/ai/community/manage/search",{query:Object.assign({},Object.fromEntries(rs.entries()),{search:ts}),responseKind:"turbo-stream"}):window.location.href.includes("/audio/voice_library")?await post("/ai/audio/search",{query:Object.assign({},Object.fromEntries(rs.entries()),{search:ts}),responseKind:"turbo-stream"}):window.location.href.includes("/assistants/personas")?await post("/ai/assistants/personas/search",{query:Object.assign({},Object.fromEntries(rs.entries()),{search:ts}),responseKind:"turbo-stream"}):await post(is,{query:{search:ts,category_type:this.categoryType()},responseKind:"turbo-stream"});let ns=window.location.pathname.endsWith("/")?window.location.pathname:window.location.pathname+"/",ss=`${window.location.origin}${ns}${rs.size>0?"?"+rs.toString():""}`;window.history.replaceState(null,"",ss)}validateCreatePrompt(){var is,ns;if(this.isAudioGeneration()&&this.hasSpeechOptionTarget&&this.speechOptionTarget==="speech_to_speech")return!0;const Ri=this.promptTarget.value.trim(),ts=((ns=(is=this.buttonTarget)==null?void 0:is.dataset)==null?void 0:ns.speechOption)==="speech_to_speech";return["reimagine","remove_background"].includes(this.imageGenerationType())&&this.hasUploadedImage()||ts?!0:Ri&&Ri.length>=1}categoryType(){return document.getElementById("history_category_type").value}bindEvents(){this.element.addEventListener("turbo:submit-start",()=>{this.buttonTarget.classList.add("disabled-while-creating"),this.promptTarget.setAttribute("disabled",!0)}),this.element.addEventListener("turbo:submit-end",()=>{this.buttonTarget.classList.remove("disabled-while-creating"),this.promptTarget.removeAttribute("disabled")})}isVideoGeneration(){return this.hasIsVideoGenerationTarget&&this.isVideoGenerationTarget.value==="true"}isAudioGeneration(){return this.hasIsAudioGenerationTarget&&this.isAudioGenerationTarget.value==="true"}isImageGeneration(){return this.hasIsImageGenerationTarget&&this.isImageGenerationTarget.value==="true"}imageGenerationType(){return this.isImageGeneration()&&this.imageGenerationTypeTarget.value}isTextGeneration(){return this.hasIsTextGenerationTarget&&this.isTextGenerationTarget.value==="true"}isChatGeneration(){return this.hasIsChatGenerationTarget&&this.isChatGenerationTarget.value==="true"}isHistory(){return this.hasIsHistoryTarget&&this.isHistoryTarget.value==="true"}count(){if(this.isImageGeneration()){if(this.imageGenerationType()==="remove_background")return Array.from(document.querySelectorAll("#dropzone_image")).length;if(this.imageGenerationType()==="dreamscale")return 1;if(this.hasImageCountTarget)return Number(this.imageCountTarget.value)||0}if(this.isTextGeneration())return this.hasTextCountTarget?Number(this.textCountTarget.value)||0:1;if(this.isChatGeneration()||this.isVideoGeneration())return 1;if(this.isAudioGeneration())return this.promptTarget.value.length}baseCost(){return this.isImageGeneration()?parseInt(this.baseImagePriceTarget.value):this.isTextGeneration()?this.hasTextTypeTarget?this.textTypeTarget.value?this.textTypePrices[this.textTypeTarget.value]:this.textTypePrices[this.getDropdownDefault(this.textTypeTarget)]:25:this.isChatGeneration()?2:this.isVideoGeneration()?parseInt(this.baseVideoPriceTarget.value):this.isAudioGeneration()?parseInt(this.baseAudioPriceTarget.value):null}cost(){return this.isAudioGeneration()?Math.ceil(this.count()/10)*this.baseCost():this.count()*this.baseCost()}validCost(){return this.isAudioGeneration()||this.hasIsFreeTarget&&this.isFreeTarget.value==="true"?!0:this.cost()>0}balance(){return parseInt(this.creditsBalanceTarget.value)}canAfford(){return this.isHistory()||this.hasIsFreeTarget&&this.isFreeTarget.value==="true"?!0:this.balance()>=this.cost()}updateAudioTextCounter(){this.hasAudioTextCountTarget&&(this.audioTextCountTarget.innerText=this.count())}updateCostButton(Ri,ts=!1){if(this.hasTotalCostTarget&&Ri){let rs=Number(this.totalCostTarget.dataset.totalValue);if(this.hasCostButtonValueTarget&&rs>0&&!ts){this.costButtonValueTarget.innerHTML=`${this.totalCostTarget.dataset.totalValue}`;return}else if(this.cost()>0&&this.canAfford()){this.costButtonValueTarget.innerHTML=`${this.cost()}`;return}}this.hasCostButtonValueTarget&&(this.canAfford()?(this.costButtonValueTarget.innerHTML=`${this.cost()}`,this.costButtonDefaultClass&&this.costButtonTarget.setAttribute("class",`${this.costButtonDefaultClass} pe-none`)):(this.costButtonValueTarget.innerHTML="Insufficient Credits",this.costButtonDefaultClass&&this.costButtonTarget.setAttribute("class",`${this.costButtonDefaultClass}`)))}canAffordImages(){let ts=parseInt(this.baseImagePriceTarget.value)*6;return this.balance()>=ts}updateGenerateImages(){this.hasGenerateImagesButtonTarget&&(this.canAffordImages()||this.generateImagesButtonTarget.setAttribute("disabled",!0))}updateDefaultImageCount(){var Ri;if(this.urlValue&&this.hasImageCountTarget&&this.hasPlaceholderImagesTarget){const ts=(Ri=document.querySelector('[name="image[settings][ai_model]"] option[selected]'))==null?void 0:Ri.value;post(this.urlValue,{query:{image_count:this.imageCountTarget.value,model:ts},responseKind:"turbo-stream"}).ok&&console.log("Image generation count updated")}}baseImagePriceTargetConnected(){this.updateCostButton(!0,!0)}getDropdownDefault(Ri){return JSON.parse(Ri.getAttribute("data-hs-tom-select-options")).items[0]}hasUploadedImage(){var Ri,ts;return((ts=(Ri=document.querySelector("#dropzone_image"))==null?void 0:Ri.dataset)==null?void 0:ts.signedId)!=null||Array.from(document.querySelectorAll("#dropzone_image")).length>0}speechAudioRemoved(){post("/ai/audio/speech_audio_removed",{responseKind:"turbo-stream"})}speechVoiceUploaded(){if(this.hasButtonTarget){let Ri=this.buttonTarget.classList.value.includes("disabled-while-creating");this.canAfford()&&!Ri?this.buttonTarget.removeAttribute("disabled"):this.buttonTarget.setAttribute("disabled",!0)}}isSpeechToSpeechOption(){var Ri,ts;(ts=(Ri=this.buttonTarget)==null?void 0:Ri.dataset)==null||ts.speechOption}preventSubmit(Ri){Ri.preventDefault()}}Ho(ChangeCreatePromptController,"targets",["prompt","button","submitDisabler","resetSearchButton","creditsBalance","baseVideoPrice","baseAudioPrice","baseImagePrice","socialPostPrice","otherTextPrice","textType","isVideoGeneration","isAudioGeneration","isImageGeneration","isTextGeneration","isSocialPost","isHistory","imageCount","textCount","costButtonValue","generateImagesButton","create","totalCost","popupTrigger","isChatGeneration","placeholderImages","imageGenerationType","filtersHiddenSearch","audioTextCount","speechOption","isFree"]),Ho(ChangeCreatePromptController,"values",{isShowPage:Boolean,url:String});class ChangePasswordFormController extends Controller{connect(){this.buttonTarget.setAttribute("disabled",!0),this.validateForm()}validateForm(){let ki=!1;return this.validateCurrentPassword()&&this.validateNewPassword()&&this.validateNewPasswordConfirmation()?(ki=!0,this.buttonTarget.removeAttribute("disabled")):this.buttonTarget.setAttribute("disabled",!0),ki}validateCurrentPassword(){const ki=this.currentPasswordTarget.value;return ki&&ki.length>=1}validateNewPassword(){const ki=this.newPasswordTarget.getAttribute("data-password-status");return Number(ki)===1}validateNewPasswordConfirmation(){const ki=this.newPasswordTarget.value,Ri=this.newPasswordConfirmationTarget.value;return ki===Ri}}Ho(ChangePasswordFormController,"targets",["currentPassword","newPassword","newPasswordConfirmation","button"]);class ChangePhoneNumberFormController extends Controller{connect(){this.buttonTarget.setAttribute("disabled",!0),this.validateForm()}validateForm(){let ki=!1;return this.validatePhoneNumber()?(ki=!0,this.buttonTarget.removeAttribute("disabled")):this.buttonTarget.setAttribute("disabled",!0),ki}validatePhoneNumber(){const ki=this.phoneNumberTarget.value;return this.hasCountryCodeTarget?this.countryCodeTarget.value&&ki&&ki.length>=10:ki&&ki.length>=10}}Ho(ChangePhoneNumberFormController,"targets",["phoneNumber","button","countryCode"]);class ChangeRequestFieldsController extends Controller{toggleFields(){this.fieldsTarget.classList.toggle("invisible")}}Ho(ChangeRequestFieldsController,"targets",["fields","trigger"]);class ChangeRequestsTurboController extends Controller{onChange(){let ki=this.checkBoxTarget.querySelector("input").checked;put(this.onChangeSubmitUrlValue,{query:{viewed:ki},responseKind:"turbo-stream"})}}Ho(ChangeRequestsTurboController,"values",{onChangeSubmitUrl:String}),Ho(ChangeRequestsTurboController,"targets",["checkBox"]);class CharacterCounterController extends Controller{characterCounter(){let Ri=Number(this.nameTarget.getAttribute("maxlength"))-this.nameTarget.value.length;this.counterTarget.innerText=Ri}}Ho(CharacterCounterController,"targets",["name","counter"]);class CharacterWatcherController extends Controller{characterWatcher(){let ki=this.nameTarget.value;this.watcherTarget.innerText=ki}}Ho(CharacterWatcherController,"targets",["name","watcher"]);class ChatFormController extends Controller{connect(){this.hasBodyFieldTarget&&this.focusValue&&this.bodyFieldTarget.focus()}}Ho(ChatFormController,"values",{focus:{type:Boolean,default:!1}}),Ho(ChatFormController,"targets",["bodyField"]);class ChatScrollController extends Controller{connect(){this.initObserver(),this.hideScrollToBottom()}initObserver(){this.ro=new ResizeObserver(this.resizeHandler.bind(this)),this.chatText=this.contentTarget,this.chat=this.chatText.parentNode,this.chat.addEventListener("scroll",this.scrollHandler.bind(this)),this.observeResize()}disconnect(){this.ro.disconnect(),this.chat.removeEventListener("scroll",this.scrollHandler)}resizeHandler(){this.chat.saveUserScroll||(this.hideScrollToBottom(),this.chat.isResizeScrollEvent=!0,this.chat.scrollTop=this.chat.scrollHeight-this.chat.clientHeight)}scrollHandler(){if(this.chat.isResizeScrollEvent){delete this.chat.isResizeScrollEvent;return}this.chat.scrollTop!==this.chat.scrollHeight-this.chat.clientHeight?(this.chat.saveUserScroll=!0,this.showScrollToBottom()):(this.hideScrollToBottom(),this.chat.saveUserScroll=!1)}observeResize(){this.ro.observe(this.chatText)}scrollToBottom(){this.scrollableTarget.scrollTo({top:this.scrollableTarget.scrollHeight,behavior:"smooth"}),setTimeout(()=>{this.chat.scrollTop=this.chat.scrollHeight-this.chat.clientHeight,this.hideScrollToBottom(),this.chat.isResizeScrollEvent=!0},500)}showScrollToBottom(){this.scrollToBottomTarget.classList.remove("d-none")}hideScrollToBottom(){this.scrollToBottomTarget.classList.add("d-none")}}Ho(ChatScrollController,"targets",["scrollable","scrollToBottom","content","newMessage"]);class ClassAdderController extends Controller{addClass(ki){var Ri;this.element.classList.add(((Ri=ki==null?void 0:ki.params)==null?void 0:Ri.css)??this.classNameValue)}}Ho(ClassAdderController,"targets",["trigger"]),Ho(ClassAdderController,"values",{className:String});class ClassAnimationTogglerController extends Controller{constructor(){super(...arguments);Ho(this,"isShown",!1)}connect(){var Ri,ts;this.isShown=((ts=(Ri=this.recipientTarget)==null?void 0:Ri.dataset)==null?void 0:ts.recipientType)==="audio"?!this.recipientTarget.classList.contains("line-clamp-2"):!this.recipientTarget.classList.contains("d-none"),this.refreshLabel(),this.recipientTarget.addEventListener("animationend",()=>{var rs;this.isShown||(((rs=this.recipientTarget.dataset)==null?void 0:rs.recipientType)==="audio"?this.recipientTarget.classList.add("line-clamp-2"):this.recipientTarget.classList.add("d-none"))})}refreshLabel(){if(this.hasButtonTarget){let Ri=this.isShown?this.buttonTarget.dataset.classAnimationTogglerHideText:this.buttonTarget.dataset.classAnimationTogglerShowText;if(!Ri)return;this.buttonTarget.innerText=Ri}}toggle(Ri){Ri.preventDefault(),this.isShown?this.hide():this.show()}show(){var Ri;this.isShown=!0,this.recipientTarget.classList.add("animated"),this.recipientTarget.classList.add(this.showAnimationValue),this.recipientTarget.classList.remove(this.hideAnimationValue),((Ri=this.recipientTarget.dataset)==null?void 0:Ri.recipientType)==="audio"?this.recipientTarget.classList.remove("line-clamp-2"):this.recipientTarget.classList.remove("d-none"),this.refreshLabel()}hide(){var Ri;this.isShown=!1,this.recipientTarget.classList.add("animated"),((Ri=this.recipientTarget.dataset)==null?void 0:Ri.recipientType)==="audio"?this.recipientTarget.classList.add("line-clamp-2"):(this.recipientTarget.classList.add(this.hideAnimationValue),this.recipientTarget.classList.remove(this.showAnimationValue)),this.refreshLabel()}}Ho(ClassAnimationTogglerController,"targets",["recipient","button"]),Ho(ClassAnimationTogglerController,"values",{showAnimation:String,hideAnimation:String});class ClassTogglerController extends Controller{toggle(ki){ki.preventDefault();let Ri=this.element;if(this.hasRecipientTarget&&!this.hasRecipientMapValue)Ri=this.recipientTarget,Ri.classList.toggle(this.nameValue);else if(this.hasRecipientMapValue){let ts=ki.currentTarget,rs=this.recipientMapValue[ts.dataset.recipient].element;Ri=document.getElementById(rs);let is=this.recipientMapValue[ts.dataset.recipient].class;Ri.classList.toggle(is),this.recipientMapValue.main&&document.getElementById(this.recipientMapValue.main.element).classList.toggle(is)}}}Ho(ClassTogglerController,"targets",["recipient"]),Ho(ClassTogglerController,"values",{name:String,recipientMap:Object});class ClickController extends Controller{butNotTwice(){this.buttonTarget.setAttribute("disabled",!0)}}Ho(ClickController,"targets",["button"]);class CommunityShowcaseModalController extends Controller{constructor(){super(...arguments);Ho(this,"hasInitiallyOpenedModal",!1);Ho(this,"attachmentId",null);Ho(this,"nextAttachmentId",null);Ho(this,"previousAttachmentId",null);Ho(this,"returnPath",null)}initialize(){this.hasModalTarget&&(this.modal=new Modal(this.modalTarget),this.modalTarget.addEventListener("hidden.bs.modal",this.resetLoader.bind(this)))}itemTargetConnected(){this.refreshNextPreviousItems()}refreshNextPreviousItems(){!this.hasNextButtonTarget||!this.hasPreviousButtonTarget||(this.refreshAttachmentIds(),this.nextAttachmentId?this.nextButtonTarget.classList.remove("d-none"):this.nextButtonTarget.classList.add("d-none"),this.previousAttachmentId?this.previousButtonTarget.classList.remove("d-none"):this.previousButtonTarget.classList.add("d-none"))}refreshAttachmentIds(){if(this.nextAttachmentId=null,this.previousAttachmentId=null,!this.attachmentId)return;let Ri=this.itemTargets,ts=Ri.findIndex(ns=>ns.dataset.attachmentId===this.attachmentId);if(ts<0)return;let rs=Ri[ts+1],is=Ri[ts-1];rs&&(this.nextAttachmentId=rs.dataset.attachmentId),is&&(this.previousAttachmentId=is.dataset.attachmentId),ts+7>Ri.length&&emit("ai-showcase-fetchNextPage",{})}async viewNextItem(){this.viewItemId(this.nextAttachmentId,"fadeInRight")}async viewPreviousItem(){this.viewItemId(this.previousAttachmentId,"fadeInLeft")}async viewItem(Ri){Ri.preventDefault();let ts=Ri.currentTarget.dataset.attachmentId;this.viewItemId(ts)}async viewItemId(Ri,ts=""){if(!Ri)return;this.returnPath||(this.returnPath=location.pathname+location.search),this.createAdditionalBackdrop();let rs=`/ai/community/item/${Ri}`;this.hasFrameTarget&&rs&&(this.attachmentId=Ri,this.replaceHistoryState(rs),this.frameTarget.src=`${rs}?animation=${ts}`,await this.frameTarget.loaded,this.modal.show(),this.removeModalBackdrop(),this.refreshNextPreviousItems())}closeModal(){this.modal.hide()}createAdditionalBackdrop(){this.backdropDiv||(this.backdropDiv=document.createElement("div"),this.backdropDiv.classList.add("modal-backdrop","fade","show"),document.body.classList.add("modal-open"),document.body.appendChild(this.backdropDiv))}removeAdditionalBackdrop(){this.backdropDiv&&(this.backdropDiv.remove(),document.body.classList.remove("modal-open"))}removeModalBackdrop(){let Ri=document.querySelectorAll(".modal-backdrop");Ri&&Ri.length>1&&Ri[Ri.length-1].remove()}resetLoader(){this.removeAdditionalBackdrop(),this.replaceHistoryState(this.returnPath),this.returnPath=null,this.frameTarget.innerHTML=this.loaderTemplateTarget.innerHTML}replaceHistoryState(Ri){let ts=history.state||{};history.replaceState(ts,"",Ri)}autoClickTargetConnected(){this.hasInitiallyOpenedModal||(this.autoClickTarget.click(),this.hasInitiallyOpenedModal=!0)}}Ho(CommunityShowcaseModalController,"targets",["frame","modal","loaderTemplate","autoClick","item","nextButton","previousButton"]),Ho(CommunityShowcaseModalController,"values",{});class CompensationFilterController extends Controller{connect(){this.fixedTypeTarget.addEventListener("custom-change",()=>{this.typeChanged()}),this.typeChanged()}typeChanged(){this.setRangeSectionDisabled(this.negotiableTypeTarget.checked)}uncheckBothTypes(ki){ki.preventDefault(),this.fixedTypeTarget.checked=!1,this.negotiableTypeTarget.checked=!1,this.typeChanged()}setRangeSectionDisabled(ki){this.rangeSectionTarget.dataset.disabledClass.split(" ").forEach(ts=>{ki?this.rangeSectionTarget.classList.add(ts):this.rangeSectionTarget.classList.remove(ts)}),this.rangeInputs.forEach(ts=>{ts.disabled=ki}),ki&&this.compensationHiddenInputs.forEach(ts=>{ts.value="",ts.dispatchEvent(new CustomEvent("custom-change",{}))})}get compensationHiddenInputs(){return[this.element.querySelector('input[name="filters[total_compensation_in_cents]lte"]'),this.element.querySelector('input[name="filters[total_compensation_in_cents]gte"]')]}get rangeInputs(){return this.element.querySelectorAll("input[type=range]")}}Ho(CompensationFilterController,"targets",["rangeSection","fixedType","negotiableType"]),Ho(CompensationFilterController,"values",{resetOnHideModalId:String});class CompensationsController extends Controller{connect(){if(this.element){let ki=this.element.querySelector(".dropdown-toggle");ki.onClick=Ri=>Ri.preventDefault()}}removeCompensationType(ki){let Ri=ki.currentTarget.dataset.compensationType,ts=null;switch(Ri){case"cash":ts=this.cashDropdownActionTarget;break;case"experience":ts=this.experienceDropdownActionTarget;break;case"giftcard":ts=this.giftcardDropdownActionTarget;break;case"product":ts=this.productDropdownActionTarget;break;case"service":ts=this.serviceDropdownActionTarget;break}let rs=ts.dataset.dropdownIndex,is=[...this.selectTarget.children].map((os,ls)=>ls),ns=0;if(is.length&&(ns=is.reduce((os,ls)=>Math.abs(ls-Number(rs))<Math.abs(os-Number(rs))?ls:os)),ns===0)this.selectTarget.insertAdjacentHTML("afterbegin",ts.innerHTML);else{let os=this.selectTarget.children[ns];ns>=Number(rs)?os.insertAdjacentHTML("beforebegin",ts.innerHTML):ns<=Number(rs)&&os.insertAdjacentHTML("afterend",ts.innerHTML)}ki.target.closest(".compensation-block").remove(),this.compensationIndexValue--}addCompensationType(ki){let Ri=ki.currentTarget.dataset.compensationType,ts=null;switch(Ri){case"cash":ts=this.cashTarget;break;case"experience":ts=this.experienceTarget;break;case"giftcard":ts=this.giftcardTarget;break;case"product":ts=this.productTarget;break;case"service":ts=this.serviceTarget;break}let rs=ts.innerHTML.replace(/COMPENSATION_INDEX/g,this.compensationIndexValue);this.containerTarget.insertAdjacentHTML("beforeend",rs),this.compensationIndexValue++,ki.currentTarget.remove()}removeCompensations(){this.fixedCompensationTextTarget.classList.add("d-none"),this.negotiableCompensationTextTarget.classList.remove("d-none"),this.compensationsContainerTarget.classList.add("d-none"),Array.from(this.containerTarget.getElementsByTagName("li")).forEach(ki=>{ki.querySelector("a").click()})}addCompensations(){this.negotiableCompensationTextTarget.classList.add("d-none"),this.fixedCompensationTextTarget.classList.remove("d-none"),this.compensationsContainerTarget.classList.remove("d-none")}}Ho(CompensationsController,"targets",["container","select","cash","experience","giftcard","product","service","cashDropdownAction","experienceDropdownAction","giftcardDropdownAction","productDropdownAction","serviceDropdownAction","compensationsContainer","negotiableCompensationText","fixedCompensationText"]),Ho(CompensationsController,"values",{compensationIndex:Number});var codemirror={exports:{}};(function(es,ki){(function(Ri,ts){es.exports=ts()})(commonjsGlobal,function(){var Ri=navigator.userAgent,ts=navigator.platform,rs=/gecko\/\d/i.test(Ri),is=/MSIE \d/.test(Ri),ns=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ri),ss=/Edge\/(\d+)/.exec(Ri),os=is||ns||ss,ls=os&&(is?document.documentMode||6:+(ss||ns)[1]),cs=!ss&&/WebKit\//.test(Ri),hs=cs&&/Qt\/\d+\.\d+/.test(Ri),us=!ss&&/Chrome\/(\d+)/.exec(Ri),As=us&&+us[1],bs=/Opera\//.test(Ri),ys=/Apple Computer/.test(navigator.vendor),Cs=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Ri),ps=/PhantomJS/.test(Ri),ms=ys&&(/Mobile\/\w+/.test(Ri)||navigator.maxTouchPoints>2),fs=/Android/.test(Ri),gs=ms||fs||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Ri),ws=ms||/Mac/.test(ts),Ts=/\bCrOS\b/.test(Ri),$s=/win/i.test(ts),Rs=bs&&Ri.match(/Version\/(\d*\.\d*)/);Rs&&(Rs=Number(Rs[1])),Rs&&Rs>=15&&(bs=!1,cs=!0);var Ps=ws&&(hs||bs&&(Rs==null||Rs<12.11)),Qs=rs||os&&ls>=9;function Fs(as){return new RegExp("(^|\\s)"+as+"(?:$|\\s)\\s*")}var Is=function(as,ds){var xs=as.className,Es=Fs(ds).exec(xs);if(Es){var ks=xs.slice(Es.index+Es[0].length);as.className=xs.slice(0,Es.index)+(ks?Es[1]+ks:"")}};function Ms(as){for(var ds=as.childNodes.length;ds>0;--ds)as.removeChild(as.firstChild);return as}function Ws(as,ds){return Ms(as).appendChild(ds)}function Ds(as,ds,xs,Es){var ks=document.createElement(as);if(xs&&(ks.className=xs),Es&&(ks.style.cssText=Es),typeof ds=="string")ks.appendChild(document.createTextNode(ds));else if(ds)for(var Js=0;Js<ds.length;++Js)ks.appendChild(ds[Js]);return ks}function _s(as,ds,xs,Es){var ks=Ds(as,ds,xs,Es);return ks.setAttribute("role","presentation"),ks}var Ns;document.createRange?Ns=function(as,ds,xs,Es){var ks=document.createRange();return ks.setEnd(Es||as,xs),ks.setStart(as,ds),ks}:Ns=function(as,ds,xs){var Es=document.body.createTextRange();try{Es.moveToElementText(as.parentNode)}catch{return Es}return Es.collapse(!0),Es.moveEnd("character",xs),Es.moveStart("character",ds),Es};function Ss(as,ds){if(ds.nodeType==3&&(ds=ds.parentNode),as.contains)return as.contains(ds);do if(ds.nodeType==11&&(ds=ds.host),ds==as)return!0;while(ds=ds.parentNode)}function Us(as){var ds=as.ownerDocument||as,xs;try{xs=as.activeElement}catch{xs=ds.body||null}for(;xs&&xs.shadowRoot&&xs.shadowRoot.activeElement;)xs=xs.shadowRoot.activeElement;return xs}function Zs(as,ds){var xs=as.className;Fs(ds).test(xs)||(as.className+=(xs?" ":"")+ds)}function ao(as,ds){for(var xs=as.split(" "),Es=0;Es<xs.length;Es++)xs[Es]&&!Fs(xs[Es]).test(ds)&&(ds+=" "+xs[Es]);return ds}var js=function(as){as.select()};ms?js=function(as){as.selectionStart=0,as.selectionEnd=as.value.length}:os&&(js=function(as){try{as.select()}catch{}});function Bs(as){return as.display.wrapper.ownerDocument}function zs(as){return so(as.display.wrapper)}function so(as){return as.getRootNode?as.getRootNode():as.ownerDocument}function oo(as){return Bs(as).defaultView}function Ao(as){var ds=Array.prototype.slice.call(arguments,1);return function(){return as.apply(null,ds)}}function Xs(as,ds,xs){ds||(ds={});for(var Es in as)as.hasOwnProperty(Es)&&(xs!==!1||!ds.hasOwnProperty(Es))&&(ds[Es]=as[Es]);return ds}function lo(as,ds,xs,Es,ks){ds==null&&(ds=as.search(/[^\s\u00a0]/),ds==-1&&(ds=as.length));for(var Js=Es||0,fo=ks||0;;){var wo=as.indexOf("	",Js);if(wo<0||wo>=ds)return fo+(ds-Js);fo+=wo-Js,fo+=xs-fo%xs,Js=wo+1}}var co=function(){this.id=null,this.f=null,this.time=0,this.handler=Ao(this.onTimeout,this)};co.prototype.onTimeout=function(as){as.id=0,as.time<=+new Date?as.f():setTimeout(as.handler,as.time-+new Date)},co.prototype.set=function(as,ds){this.f=ds;var xs=+new Date+as;(!this.id||xs<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,as),this.time=xs)};function So(as,ds){for(var xs=0;xs<as.length;++xs)if(as[xs]==ds)return xs;return-1}var ro=50,vo={toString:function(){return"CodeMirror.Pass"}},Eo={scroll:!1},mo={origin:"*mouse"},yo={origin:"+move"};function Jo(as,ds,xs){for(var Es=0,ks=0;;){var Js=as.indexOf("	",Es);Js==-1&&(Js=as.length);var fo=Js-Es;if(Js==as.length||ks+fo>=ds)return Es+Math.min(fo,ds-ks);if(ks+=Js-Es,ks+=xs-ks%xs,Es=Js+1,ks>=ds)return Es}}var Yo=[""];function Wo(as){for(;Yo.length<=as;)Yo.push(ko(Yo)+" ");return Yo[as]}function ko(as){return as[as.length-1]}function Qo(as,ds){for(var xs=[],Es=0;Es<as.length;Es++)xs[Es]=ds(as[Es],Es);return xs}function jo(as,ds,xs){for(var Es=0,ks=xs(ds);Es<as.length&&xs(as[Es])<=ks;)Es++;as.splice(Es,0,ds)}function Bo(){}function go(as,ds){var xs;return Object.create?xs=Object.create(as):(Bo.prototype=as,xs=new Bo),ds&&Xs(ds,xs),xs}var _o=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function To(as){return/\w/.test(as)||as>""&&(as.toUpperCase()!=as.toLowerCase()||_o.test(as))}function uo(as,ds){return ds?ds.source.indexOf("\\w")>-1&&To(as)?!0:ds.test(as):To(as)}function Co(as){for(var ds in as)if(as.hasOwnProperty(ds)&&as[ds])return!1;return!0}var Oo=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Fo(as){return as.charCodeAt(0)>=768&&Oo.test(as)}function Po(as,ds,xs){for(;(xs<0?ds>0:ds<as.length)&&Fo(as.charAt(ds));)ds+=xs;return ds}function Zo(as,ds,xs){for(var Es=ds>xs?-1:1;;){if(ds==xs)return ds;var ks=(ds+xs)/2,Js=Es<0?Math.ceil(ks):Math.floor(ks);if(Js==ds)return as(Js)?ds:xs;as(Js)?xs=Js:ds=Js+Es}}function na(as,ds,xs,Es){if(!as)return Es(ds,xs,"ltr",0);for(var ks=!1,Js=0;Js<as.length;++Js){var fo=as[Js];(fo.from<xs&&fo.to>ds||ds==xs&&fo.to==ds)&&(Es(Math.max(fo.from,ds),Math.min(fo.to,xs),fo.level==1?"rtl":"ltr",Js),ks=!0)}ks||Es(ds,xs,"ltr")}var ma=null;function ua(as,ds,xs){var Es;ma=null;for(var ks=0;ks<as.length;++ks){var Js=as[ks];if(Js.from<ds&&Js.to>ds)return ks;Js.to==ds&&(Js.from!=Js.to&&xs=="before"?Es=ks:ma=ks),Js.from==ds&&(Js.from!=Js.to&&xs!="before"?Es=ks:ma=ks)}return Es??ma}var ka=function(){var as="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",ds="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function xs(Do){return Do<=247?as.charAt(Do):1424<=Do&&Do<=1524?"R":1536<=Do&&Do<=1785?ds.charAt(Do-1536):1774<=Do&&Do<=2220?"r":8192<=Do&&Do<=8203?"w":Do==8204?"b":"L"}var Es=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,ks=/[stwN]/,Js=/[LRr]/,fo=/[Lb1n]/,wo=/[1n]/;function Lo(Do,ra,aa){this.level=Do,this.from=ra,this.to=aa}return function(Do,ra){var aa=ra=="ltr"?"L":"R";if(Do.length==0||ra=="ltr"&&!Es.test(Do))return!1;for(var xa=Do.length,va=[],ja=0;ja<xa;++ja)va.push(xs(Do.charCodeAt(ja)));for(var Ya=0,ol=aa;Ya<xa;++Ya){var dl=va[Ya];dl=="m"?va[Ya]=ol:ol=dl}for(var ml=0,Al=aa;ml<xa;++ml){var Sl=va[ml];Sl=="1"&&Al=="r"?va[ml]="n":Js.test(Sl)&&(Al=Sl,Sl=="r"&&(va[ml]="R"))}for(var Hl=1,Rl=va[0];Hl<xa-1;++Hl){var gc=va[Hl];gc=="+"&&Rl=="1"&&va[Hl+1]=="1"?va[Hl]="1":gc==","&&Rl==va[Hl+1]&&(Rl=="1"||Rl=="n")&&(va[Hl]=Rl),Rl=gc}for(var Bu=0;Bu<xa;++Bu){var th=va[Bu];if(th==",")va[Bu]="N";else if(th=="%"){var Yu=void 0;for(Yu=Bu+1;Yu<xa&&va[Yu]=="%";++Yu);for(var ul=Bu&&va[Bu-1]=="!"||Yu<xa&&va[Yu]=="1"?"1":"N",ju=Bu;ju<Yu;++ju)va[ju]=ul;Bu=Yu-1}}for(var rh=0,Du=aa;rh<xa;++rh){var cd=va[rh];Du=="L"&&cd=="1"?va[rh]="L":Js.test(cd)&&(Du=cd)}for(var ic=0;ic<xa;++ic)if(ks.test(va[ic])){var bc=void 0;for(bc=ic+1;bc<xa&&ks.test(va[bc]);++bc);for(var $u=(ic?va[ic-1]:aa)=="L",Qd=(bc<xa?va[bc]:aa)=="L",Ff=$u==Qd?$u?"L":"R":aa,Zf=ic;Zf<bc;++Zf)va[Zf]=Ff;ic=bc-1}for(var $h=[],hf,Xh=0;Xh<xa;)if(fo.test(va[Xh])){var Ng=Xh;for(++Xh;Xh<xa&&fo.test(va[Xh]);++Xh);$h.push(new Lo(0,Ng,Xh))}else{var df=Xh,If=$h.length,ep=ra=="rtl"?1:0;for(++Xh;Xh<xa&&va[Xh]!="L";++Xh);for(var wd=df;wd<Xh;)if(wo.test(va[wd])){df<wd&&($h.splice(If,0,new Lo(1,df,wd)),If+=ep);var Ep=wd;for(++wd;wd<Xh&&wo.test(va[wd]);++wd);$h.splice(If,0,new Lo(2,Ep,wd)),If+=ep,df=wd}else++wd;df<Xh&&$h.splice(If,0,new Lo(1,df,Xh))}return ra=="ltr"&&($h[0].level==1&&(hf=Do.match(/^\s+/))&&($h[0].from=hf[0].length,$h.unshift(new Lo(0,0,hf[0].length))),ko($h).level==1&&(hf=Do.match(/\s+$/))&&(ko($h).to-=hf[0].length,$h.push(new Lo(0,xa-hf[0].length,xa)))),ra=="rtl"?$h.reverse():$h}}();function Ba(as,ds){var xs=as.order;return xs==null&&(xs=as.order=ka(as.text,ds)),xs}var Va=[],Ea=function(as,ds,xs){if(as.addEventListener)as.addEventListener(ds,xs,!1);else if(as.attachEvent)as.attachEvent("on"+ds,xs);else{var Es=as._handlers||(as._handlers={});Es[ds]=(Es[ds]||Va).concat(xs)}};function il(as,ds){return as._handlers&&as._handlers[ds]||Va}function kl(as,ds,xs){if(as.removeEventListener)as.removeEventListener(ds,xs,!1);else if(as.detachEvent)as.detachEvent("on"+ds,xs);else{var Es=as._handlers,ks=Es&&Es[ds];if(ks){var Js=So(ks,xs);Js>-1&&(Es[ds]=ks.slice(0,Js).concat(ks.slice(Js+1)))}}}function Ja(as,ds){var xs=il(as,ds);if(xs.length)for(var Es=Array.prototype.slice.call(arguments,2),ks=0;ks<xs.length;++ks)xs[ks].apply(null,Es)}function Ua(as,ds,xs){return typeof ds=="string"&&(ds={type:ds,preventDefault:function(){this.defaultPrevented=!0}}),Ja(as,xs||ds.type,as,ds),ou(ds)||ds.codemirrorIgnore}function Na(as){var ds=as._handlers&&as._handlers.cursorActivity;if(ds)for(var xs=as.curOp.cursorActivityHandlers||(as.curOp.cursorActivityHandlers=[]),Es=0;Es<ds.length;++Es)So(xs,ds[Es])==-1&&xs.push(ds[Es])}function nl(as,ds){return il(as,ds).length>0}function Wl(as){as.prototype.on=function(ds,xs){Ea(this,ds,xs)},as.prototype.off=function(ds,xs){kl(this,ds,xs)}}function El(as){as.preventDefault?as.preventDefault():as.returnValue=!1}function $c(as){as.stopPropagation?as.stopPropagation():as.cancelBubble=!0}function ou(as){return as.defaultPrevented!=null?as.defaultPrevented:as.returnValue==!1}function wl(as){El(as),$c(as)}function dc(as){return as.target||as.srcElement}function _u(as){var ds=as.which;return ds==null&&(as.button&1?ds=1:as.button&2?ds=3:as.button&4&&(ds=2)),ws&&as.ctrlKey&&ds==1&&(ds=3),ds}var kc=function(){if(os&&ls<9)return!1;var as=Ds("div");return"draggable"in as||"dragDrop"in as}(),Dl;function Yc(as){if(Dl==null){var ds=Ds("span","​");Ws(as,Ds("span",[ds,document.createTextNode("x")])),as.firstChild.offsetHeight!=0&&(Dl=ds.offsetWidth<=1&&ds.offsetHeight>2&&!(os&&ls<8))}var xs=Dl?Ds("span","​"):Ds("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return xs.setAttribute("cm-text",""),xs}var Pu;function au(as){if(Pu!=null)return Pu;var ds=Ws(as,document.createTextNode("AخA")),xs=Ns(ds,0,1).getBoundingClientRect(),Es=Ns(ds,1,2).getBoundingClientRect();return Ms(as),!xs||xs.left==xs.right?!1:Pu=Es.right-xs.right<3}var dh=`

b`.split(/\n/).length!=3?function(as){for(var ds=0,xs=[],Es=as.length;ds<=Es;){var ks=as.indexOf(`
`,ds);ks==-1&&(ks=as.length);var Js=as.slice(ds,as.charAt(ks-1)=="\r"?ks-1:ks),fo=Js.indexOf("\r");fo!=-1?(xs.push(Js.slice(0,fo)),ds+=fo+1):(xs.push(Js),ds=ks+1)}return xs}:function(as){return as.split(/\r\n?|\n/)},Mu=window.getSelection?function(as){try{return as.selectionStart!=as.selectionEnd}catch{return!1}}:function(as){var ds;try{ds=as.ownerDocument.selection.createRange()}catch{}return!ds||ds.parentElement()!=as?!1:ds.compareEndPoints("StartToEnd",ds)!=0},Ah=function(){var as=Ds("div");return"oncopy"in as?!0:(as.setAttribute("oncopy","return;"),typeof as.oncopy=="function")}(),Wu=null;function Th(as){if(Wu!=null)return Wu;var ds=Ws(as,Ds("span","x")),xs=ds.getBoundingClientRect(),Es=Ns(ds,0,1).getBoundingClientRect();return Wu=Math.abs(xs.left-Es.left)>1}var ca={},gl={};function cl(as,ds){arguments.length>2&&(ds.dependencies=Array.prototype.slice.call(arguments,2)),ca[as]=ds}function Zl(as,ds){gl[as]=ds}function oc(as){if(typeof as=="string"&&gl.hasOwnProperty(as))as=gl[as];else if(as&&typeof as.name=="string"&&gl.hasOwnProperty(as.name)){var ds=gl[as.name];typeof ds=="string"&&(ds={name:ds}),as=go(ds,as),as.name=ds.name}else{if(typeof as=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(as))return oc("application/xml");if(typeof as=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(as))return oc("application/json")}return typeof as=="string"?{name:as}:as||{name:"null"}}function Yl(as,ds){ds=oc(ds);var xs=ca[ds.name];if(!xs)return Yl(as,"text/plain");var Es=xs(as,ds);if(Sc.hasOwnProperty(ds.name)){var ks=Sc[ds.name];for(var Js in ks)ks.hasOwnProperty(Js)&&(Es.hasOwnProperty(Js)&&(Es["_"+Js]=Es[Js]),Es[Js]=ks[Js])}if(Es.name=ds.name,ds.helperType&&(Es.helperType=ds.helperType),ds.modeProps)for(var fo in ds.modeProps)Es[fo]=ds.modeProps[fo];return Es}var Sc={};function Bh(as,ds){var xs=Sc.hasOwnProperty(as)?Sc[as]:Sc[as]={};Xs(ds,xs)}function Eu(as,ds){if(ds===!0)return ds;if(as.copyState)return as.copyState(ds);var xs={};for(var Es in ds){var ks=ds[Es];ks instanceof Array&&(ks=ks.concat([])),xs[Es]=ks}return xs}function xu(as,ds){for(var xs;as.innerMode&&(xs=as.innerMode(ds),!(!xs||xs.mode==as));)ds=xs.state,as=xs.mode;return xs||{mode:as,state:ds}}function _h(as,ds,xs){return as.startState?as.startState(ds,xs):!0}var Nc=function(as,ds,xs){this.pos=this.start=0,this.string=as,this.tabSize=ds||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=xs};Nc.prototype.eol=function(){return this.pos>=this.string.length},Nc.prototype.sol=function(){return this.pos==this.lineStart},Nc.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Nc.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Nc.prototype.eat=function(as){var ds=this.string.charAt(this.pos),xs;if(typeof as=="string"?xs=ds==as:xs=ds&&(as.test?as.test(ds):as(ds)),xs)return++this.pos,ds},Nc.prototype.eatWhile=function(as){for(var ds=this.pos;this.eat(as););return this.pos>ds},Nc.prototype.eatSpace=function(){for(var as=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>as},Nc.prototype.skipToEnd=function(){this.pos=this.string.length},Nc.prototype.skipTo=function(as){var ds=this.string.indexOf(as,this.pos);if(ds>-1)return this.pos=ds,!0},Nc.prototype.backUp=function(as){this.pos-=as},Nc.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=lo(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?lo(this.string,this.lineStart,this.tabSize):0)},Nc.prototype.indentation=function(){return lo(this.string,null,this.tabSize)-(this.lineStart?lo(this.string,this.lineStart,this.tabSize):0)},Nc.prototype.match=function(as,ds,xs){if(typeof as=="string"){var Es=function(fo){return xs?fo.toLowerCase():fo},ks=this.string.substr(this.pos,as.length);if(Es(ks)==Es(as))return ds!==!1&&(this.pos+=as.length),!0}else{var Js=this.string.slice(this.pos).match(as);return Js&&Js.index>0?null:(Js&&ds!==!1&&(this.pos+=Js[0].length),Js)}},Nc.prototype.current=function(){return this.string.slice(this.start,this.pos)},Nc.prototype.hideFirstChars=function(as,ds){this.lineStart+=as;try{return ds()}finally{this.lineStart-=as}},Nc.prototype.lookAhead=function(as){var ds=this.lineOracle;return ds&&ds.lookAhead(as)},Nc.prototype.baseToken=function(){var as=this.lineOracle;return as&&as.baseToken(this.pos)};function Cl(as,ds){if(ds-=as.first,ds<0||ds>=as.size)throw new Error("There is no line "+(ds+as.first)+" in the document.");for(var xs=as;!xs.lines;)for(var Es=0;;++Es){var ks=xs.children[Es],Js=ks.chunkSize();if(ds<Js){xs=ks;break}ds-=Js}return xs.lines[ds]}function Lh(as,ds,xs){var Es=[],ks=ds.line;return as.iter(ds.line,xs.line+1,function(Js){var fo=Js.text;ks==xs.line&&(fo=fo.slice(0,xs.ch)),ks==ds.line&&(fo=fo.slice(ds.ch)),Es.push(fo),++ks}),Es}function Qh(as,ds,xs){var Es=[];return as.iter(ds,xs,function(ks){Es.push(ks.text)}),Es}function Fh(as,ds){var xs=ds-as.height;if(xs)for(var Es=as;Es;Es=Es.parent)Es.height+=xs}function nc(as){if(as.parent==null)return null;for(var ds=as.parent,xs=So(ds.lines,as),Es=ds.parent;Es;ds=Es,Es=Es.parent)for(var ks=0;Es.children[ks]!=ds;++ks)xs+=Es.children[ks].chunkSize();return xs+ds.first}function ih(as,ds){var xs=as.first;e:do{for(var Es=0;Es<as.children.length;++Es){var ks=as.children[Es],Js=ks.height;if(ds<Js){as=ks;continue e}ds-=Js,xs+=ks.chunkSize()}return xs}while(!as.lines);for(var fo=0;fo<as.lines.length;++fo){var wo=as.lines[fo],Lo=wo.height;if(ds<Lo)break;ds-=Lo}return xs+fo}function dd(as,ds){return ds>=as.first&&ds<as.first+as.size}function Xc(as,ds){return String(as.lineNumberFormatter(ds+as.firstLineNumber))}function Xa(as,ds,xs){if(xs===void 0&&(xs=null),!(this instanceof Xa))return new Xa(as,ds,xs);this.line=as,this.ch=ds,this.sticky=xs}function zl(as,ds){return as.line-ds.line||as.ch-ds.ch}function Ou(as,ds){return as.sticky==ds.sticky&&zl(as,ds)==0}function Nu(as){return Xa(as.line,as.ch)}function Ad(as,ds){return zl(as,ds)<0?ds:as}function Go(as,ds){return zl(as,ds)<0?as:ds}function ba(as,ds){return Math.max(as.first,Math.min(ds,as.first+as.size-1))}function Ta(as,ds){if(ds.line<as.first)return Xa(as.first,0);var xs=as.first+as.size-1;return ds.line>xs?Xa(xs,Cl(as,xs).text.length):Oa(ds,Cl(as,ds.line).text.length)}function Oa(as,ds){var xs=as.ch;return xs==null||xs>ds?Xa(as.line,ds):xs<0?Xa(as.line,0):as}function sl(as,ds){for(var xs=[],Es=0;Es<ds.length;Es++)xs[Es]=Ta(as,ds[Es]);return xs}var Ml=function(as,ds){this.state=as,this.lookAhead=ds},Pl=function(as,ds,xs,Es){this.state=ds,this.doc=as,this.line=xs,this.maxLookAhead=Es||0,this.baseTokens=null,this.baseTokenPos=1};Pl.prototype.lookAhead=function(as){var ds=this.doc.getLine(this.line+as);return ds!=null&&as>this.maxLookAhead&&(this.maxLookAhead=as),ds},Pl.prototype.baseToken=function(as){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=as;)this.baseTokenPos+=2;var ds=this.baseTokens[this.baseTokenPos+1];return{type:ds&&ds.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-as}},Pl.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Pl.fromSaved=function(as,ds,xs){return ds instanceof Ml?new Pl(as,Eu(as.mode,ds.state),xs,ds.lookAhead):new Pl(as,Eu(as.mode,ds),xs)},Pl.prototype.save=function(as){var ds=as!==!1?Eu(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Ml(ds,this.maxLookAhead):ds};function Ac(as,ds,xs,Es){var ks=[as.state.modeGen],Js={};nh(as,ds.text,as.doc.mode,xs,function(Do,ra){return ks.push(Do,ra)},Js,Es);for(var fo=xs.state,wo=function(Do){xs.baseTokens=ks;var ra=as.state.overlays[Do],aa=1,xa=0;xs.state=!0,nh(as,ds.text,ra.mode,xs,function(va,ja){for(var Ya=aa;xa<va;){var ol=ks[aa];ol>va&&ks.splice(aa,1,va,ks[aa+1],ol),aa+=2,xa=Math.min(va,ol)}if(ja)if(ra.opaque)ks.splice(Ya,aa-Ya,va,"overlay "+ja),aa=Ya+2;else for(;Ya<aa;Ya+=2){var dl=ks[Ya+1];ks[Ya+1]=(dl?dl+" ":"")+"overlay "+ja}},Js),xs.state=fo,xs.baseTokens=null,xs.baseTokenPos=1},Lo=0;Lo<as.state.overlays.length;++Lo)wo(Lo);return{styles:ks,classes:Js.bgClass||Js.textClass?Js:null}}function Tc(as,ds,xs){if(!ds.styles||ds.styles[0]!=as.state.modeGen){var Es=Qc(as,nc(ds)),ks=ds.text.length>as.options.maxHighlightLength&&Eu(as.doc.mode,Es.state),Js=Ac(as,ds,Es);ks&&(Es.state=ks),ds.stateAfter=Es.save(!ks),ds.styles=Js.styles,Js.classes?ds.styleClasses=Js.classes:ds.styleClasses&&(ds.styleClasses=null),xs===as.doc.highlightFrontier&&(as.doc.modeFrontier=Math.max(as.doc.modeFrontier,++as.doc.highlightFrontier))}return ds.styles}function Qc(as,ds,xs){var Es=as.doc,ks=as.display;if(!Es.mode.startState)return new Pl(Es,!0,ds);var Js=Cc(as,ds,xs),fo=Js>Es.first&&Cl(Es,Js-1).stateAfter,wo=fo?Pl.fromSaved(Es,fo,Js):new Pl(Es,_h(Es.mode),Js);return Es.iter(Js,ds,function(Lo){vc(as,Lo.text,wo);var Do=wo.line;Lo.stateAfter=Do==ds-1||Do%5==0||Do>=ks.viewFrom&&Do<ks.viewTo?wo.save():null,wo.nextLine()}),xs&&(Es.modeFrontier=wo.line),wo}function vc(as,ds,xs,Es){var ks=as.doc.mode,Js=new Nc(ds,as.options.tabSize,xs);for(Js.start=Js.pos=Es||0,ds==""&&lu(ks,xs.state);!Js.eol();)cu(ks,Js,xs.state),Js.start=Js.pos}function lu(as,ds){if(as.blankLine)return as.blankLine(ds);if(as.innerMode){var xs=xu(as,ds);if(xs.mode.blankLine)return xs.mode.blankLine(xs.state)}}function cu(as,ds,xs,Es){for(var ks=0;ks<10;ks++){Es&&(Es[0]=xu(as,xs).mode);var Js=as.token(ds,xs);if(ds.pos>ds.start)return Js}throw new Error("Mode "+as.name+" failed to advance stream.")}var zu=function(as,ds,xs){this.start=as.start,this.end=as.pos,this.string=as.current(),this.type=ds||null,this.state=xs};function fh(as,ds,xs,Es){var ks=as.doc,Js=ks.mode,fo;ds=Ta(ks,ds);var wo=Cl(ks,ds.line),Lo=Qc(as,ds.line,xs),Do=new Nc(wo.text,as.options.tabSize,Lo),ra;for(Es&&(ra=[]);(Es||Do.pos<ds.ch)&&!Do.eol();)Do.start=Do.pos,fo=cu(Js,Do,Lo.state),Es&&ra.push(new zu(Do,fo,Eu(ks.mode,Lo.state)));return Es?ra:new zu(Do,fo,Lo.state)}function ph(as,ds){if(as)for(;;){var xs=as.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!xs)break;as=as.slice(0,xs.index)+as.slice(xs.index+xs[0].length);var Es=xs[1]?"bgClass":"textClass";ds[Es]==null?ds[Es]=xs[2]:new RegExp("(?:^|\\s)"+xs[2]+"(?:$|\\s)").test(ds[Es])||(ds[Es]+=" "+xs[2])}return as}function nh(as,ds,xs,Es,ks,Js,fo){var wo=xs.flattenSpans;wo==null&&(wo=as.options.flattenSpans);var Lo=0,Do=null,ra=new Nc(ds,as.options.tabSize,Es),aa,xa=as.options.addModeClass&&[null];for(ds==""&&ph(lu(xs,Es.state),Js);!ra.eol();){if(ra.pos>as.options.maxHighlightLength?(wo=!1,fo&&vc(as,ds,Es,ra.pos),ra.pos=ds.length,aa=null):aa=ph(cu(xs,ra,Es.state,xa),Js),xa){var va=xa[0].name;va&&(aa="m-"+(aa?va+" "+aa:va))}if(!wo||Do!=aa){for(;Lo<ra.start;)Lo=Math.min(ra.start,Lo+5e3),ks(Lo,Do);Do=aa}ra.start=ra.pos}for(;Lo<ra.pos;){var ja=Math.min(ra.pos,Lo+5e3);ks(ja,Do),Lo=ja}}function Cc(as,ds,xs){for(var Es,ks,Js=as.doc,fo=xs?-1:ds-(as.doc.mode.innerMode?1e3:100),wo=ds;wo>fo;--wo){if(wo<=Js.first)return Js.first;var Lo=Cl(Js,wo-1),Do=Lo.stateAfter;if(Do&&(!xs||wo+(Do instanceof Ml?Do.lookAhead:0)<=Js.modeFrontier))return wo;var ra=lo(Lo.text,null,as.options.tabSize);(ks==null||Es>ra)&&(ks=wo-1,Es=ra)}return ks}function Iu(as,ds){if(as.modeFrontier=Math.min(as.modeFrontier,ds),!(as.highlightFrontier<ds-10)){for(var xs=as.first,Es=ds-1;Es>xs;Es--){var ks=Cl(as,Es).stateAfter;if(ks&&(!(ks instanceof Ml)||Es+ks.lookAhead<ds)){xs=Es+1;break}}as.highlightFrontier=Math.min(as.highlightFrontier,xs)}}var pd=!1,Ju=!1;function xl(){pd=!0}function Ih(){Ju=!0}function gh(as,ds,xs){this.marker=as,this.from=ds,this.to=xs}function Lu(as,ds){if(as)for(var xs=0;xs<as.length;++xs){var Es=as[xs];if(Es.marker==ds)return Es}}function LA(as,ds){for(var xs,Es=0;Es<as.length;++Es)as[Es]!=ds&&(xs||(xs=[])).push(as[Es]);return xs}function FA(as,ds,xs){var Es=xs&&window.WeakSet&&(xs.markedSpans||(xs.markedSpans=new WeakSet));Es&&as.markedSpans&&Es.has(as.markedSpans)?as.markedSpans.push(ds):(as.markedSpans=as.markedSpans?as.markedSpans.concat([ds]):[ds],Es&&Es.add(as.markedSpans)),ds.marker.attachLine(as)}function pA(as,ds,xs){var Es;if(as)for(var ks=0;ks<as.length;++ks){var Js=as[ks],fo=Js.marker,wo=Js.from==null||(fo.inclusiveLeft?Js.from<=ds:Js.from<ds);if(wo||Js.from==ds&&fo.type=="bookmark"&&(!xs||!Js.marker.insertLeft)){var Lo=Js.to==null||(fo.inclusiveRight?Js.to>=ds:Js.to>ds);(Es||(Es=[])).push(new gh(fo,Js.from,Lo?null:Js.to))}}return Es}function Vh(as,ds,xs){var Es;if(as)for(var ks=0;ks<as.length;++ks){var Js=as[ks],fo=Js.marker,wo=Js.to==null||(fo.inclusiveRight?Js.to>=ds:Js.to>ds);if(wo||Js.from==ds&&fo.type=="bookmark"&&(!xs||Js.marker.insertLeft)){var Lo=Js.from==null||(fo.inclusiveLeft?Js.from<=ds:Js.from<ds);(Es||(Es=[])).push(new gh(fo,Lo?null:Js.from-ds,Js.to==null?null:Js.to-ds))}}return Es}function xd(as,ds){if(ds.full)return null;var xs=dd(as,ds.from.line)&&Cl(as,ds.from.line).markedSpans,Es=dd(as,ds.to.line)&&Cl(as,ds.to.line).markedSpans;if(!xs&&!Es)return null;var ks=ds.from.ch,Js=ds.to.ch,fo=zl(ds.from,ds.to)==0,wo=pA(xs,ks,fo),Lo=Vh(Es,Js,fo),Do=ds.text.length==1,ra=ko(ds.text).length+(Do?ks:0);if(wo)for(var aa=0;aa<wo.length;++aa){var xa=wo[aa];if(xa.to==null){var va=Lu(Lo,xa.marker);va?Do&&(xa.to=va.to==null?null:va.to+ra):xa.to=ks}}if(Lo)for(var ja=0;ja<Lo.length;++ja){var Ya=Lo[ja];if(Ya.to!=null&&(Ya.to+=ra),Ya.from==null){var ol=Lu(wo,Ya.marker);ol||(Ya.from=ra,Do&&(wo||(wo=[])).push(Ya))}else Ya.from+=ra,Do&&(wo||(wo=[])).push(Ya)}wo&&(wo=rA(wo)),Lo&&Lo!=wo&&(Lo=rA(Lo));var dl=[wo];if(!Do){var ml=ds.text.length-2,Al;if(ml>0&&wo)for(var Sl=0;Sl<wo.length;++Sl)wo[Sl].to==null&&(Al||(Al=[])).push(new gh(wo[Sl].marker,null,null));for(var Hl=0;Hl<ml;++Hl)dl.push(Al);dl.push(Lo)}return dl}function rA(as){for(var ds=0;ds<as.length;++ds){var xs=as[ds];xs.from!=null&&xs.from==xs.to&&xs.marker.clearWhenEmpty!==!1&&as.splice(ds--,1)}return as.length?as:null}function Of(as,ds,xs){var Es=null;if(as.iter(ds.line,xs.line+1,function(va){if(va.markedSpans)for(var ja=0;ja<va.markedSpans.length;++ja){var Ya=va.markedSpans[ja].marker;Ya.readOnly&&(!Es||So(Es,Ya)==-1)&&(Es||(Es=[])).push(Ya)}}),!Es)return null;for(var ks=[{from:ds,to:xs}],Js=0;Js<Es.length;++Js)for(var fo=Es[Js],wo=fo.find(0),Lo=0;Lo<ks.length;++Lo){var Do=ks[Lo];if(!(zl(Do.to,wo.from)<0||zl(Do.from,wo.to)>0)){var ra=[Lo,1],aa=zl(Do.from,wo.from),xa=zl(Do.to,wo.to);(aa<0||!fo.inclusiveLeft&&!aa)&&ra.push({from:Do.from,to:wo.from}),(xa>0||!fo.inclusiveRight&&!xa)&&ra.push({from:wo.to,to:Do.to}),ks.splice.apply(ks,ra),Lo+=ra.length-3}}return ks}function zc(as){var ds=as.markedSpans;if(ds){for(var xs=0;xs<ds.length;++xs)ds[xs].marker.detachLine(as);as.markedSpans=null}}function Rc(as,ds){if(ds){for(var xs=0;xs<ds.length;++xs)ds[xs].marker.attachLine(as);as.markedSpans=ds}}function Sd(as){return as.inclusiveLeft?-1:0}function IA(as){return as.inclusiveRight?1:0}function Vd(as,ds){var xs=as.lines.length-ds.lines.length;if(xs!=0)return xs;var Es=as.find(),ks=ds.find(),Js=zl(Es.from,ks.from)||Sd(as)-Sd(ds);if(Js)return-Js;var fo=zl(Es.to,ks.to)||IA(as)-IA(ds);return fo||ds.id-as.id}function gA(as,ds){var xs=Ju&&as.markedSpans,Es;if(xs)for(var ks=void 0,Js=0;Js<xs.length;++Js)ks=xs[Js],ks.marker.collapsed&&(ds?ks.from:ks.to)==null&&(!Es||Vd(Es,ks.marker)<0)&&(Es=ks.marker);return Es}function kA(as){return gA(as,!0)}function sa(as){return gA(as,!1)}function Aa(as,ds){var xs=Ju&&as.markedSpans,Es;if(xs)for(var ks=0;ks<xs.length;++ks){var Js=xs[ks];Js.marker.collapsed&&(Js.from==null||Js.from<ds)&&(Js.to==null||Js.to>ds)&&(!Es||Vd(Es,Js.marker)<0)&&(Es=Js.marker)}return Es}function Ra(as,ds,xs,Es,ks){var Js=Cl(as,ds),fo=Ju&&Js.markedSpans;if(fo)for(var wo=0;wo<fo.length;++wo){var Lo=fo[wo];if(Lo.marker.collapsed){var Do=Lo.marker.find(0),ra=zl(Do.from,xs)||Sd(Lo.marker)-Sd(ks),aa=zl(Do.to,Es)||IA(Lo.marker)-IA(ks);if(!(ra>=0&&aa<=0||ra<=0&&aa>=0)&&(ra<=0&&(Lo.marker.inclusiveRight&&ks.inclusiveLeft?zl(Do.to,xs)>=0:zl(Do.to,xs)>0)||ra>=0&&(Lo.marker.inclusiveRight&&ks.inclusiveLeft?zl(Do.from,Es)<=0:zl(Do.from,Es)<0)))return!0}}}function ll(as){for(var ds;ds=kA(as);)as=ds.find(-1,!0).line;return as}function tc(as){for(var ds;ds=sa(as);)as=ds.find(1,!0).line;return as}function fc(as){for(var ds,xs;ds=sa(as);)as=ds.find(1,!0).line,(xs||(xs=[])).push(as);return xs}function Jc(as,ds){var xs=Cl(as,ds),Es=ll(xs);return xs==Es?ds:nc(Es)}function pc(as,ds){if(ds>as.lastLine())return ds;var xs=Cl(as,ds),Es;if(!$l(as,xs))return ds;for(;Es=sa(xs);)xs=Es.find(1,!0).line;return nc(xs)+1}function $l(as,ds){var xs=Ju&&ds.markedSpans;if(xs){for(var Es=void 0,ks=0;ks<xs.length;++ks)if(Es=xs[ks],!!Es.marker.collapsed){if(Es.from==null)return!0;if(!Es.marker.widgetNode&&Es.from==0&&Es.marker.inclusiveLeft&&qu(as,ds,Es))return!0}}}function qu(as,ds,xs){if(xs.to==null){var Es=xs.marker.find(1,!0);return qu(as,Es.line,Lu(Es.line.markedSpans,xs.marker))}if(xs.marker.inclusiveRight&&xs.to==ds.text.length)return!0;for(var ks=void 0,Js=0;Js<ds.markedSpans.length;++Js)if(ks=ds.markedSpans[Js],ks.marker.collapsed&&!ks.marker.widgetNode&&ks.from==xs.to&&(ks.to==null||ks.to!=xs.from)&&(ks.marker.inclusiveLeft||xs.marker.inclusiveRight)&&qu(as,ds,ks))return!0}function Zc(as){as=ll(as);for(var ds=0,xs=as.parent,Es=0;Es<xs.lines.length;++Es){var ks=xs.lines[Es];if(ks==as)break;ds+=ks.height}for(var Js=xs.parent;Js;xs=Js,Js=xs.parent)for(var fo=0;fo<Js.children.length;++fo){var wo=Js.children[fo];if(wo==xs)break;ds+=wo.height}return ds}function Pd(as){if(as.height==0)return 0;for(var ds=as.text.length,xs,Es=as;xs=kA(Es);){var ks=xs.find(0,!0);Es=ks.from.line,ds+=ks.from.ch-ks.to.ch}for(Es=as;xs=sa(Es);){var Js=xs.find(0,!0);ds-=Es.text.length-Js.from.ch,Es=Js.to.line,ds+=Es.text.length-Js.to.ch}return ds}function mh(as){var ds=as.display,xs=as.doc;ds.maxLine=Cl(xs,xs.first),ds.maxLineLength=Pd(ds.maxLine),ds.maxLineChanged=!0,xs.iter(function(Es){var ks=Pd(Es);ks>ds.maxLineLength&&(ds.maxLineLength=ks,ds.maxLine=Es)})}var Zh=function(as,ds,xs){this.text=as,Rc(this,ds),this.height=xs?xs(this):1};Zh.prototype.lineNo=function(){return nc(this)},Wl(Zh);function iA(as,ds,xs,Es){as.text=ds,as.stateAfter&&(as.stateAfter=null),as.styles&&(as.styles=null),as.order!=null&&(as.order=null),zc(as),Rc(as,xs);var ks=Es?Es(as):1;ks!=as.height&&Fh(as,ks)}function Wh(as){as.parent=null,zc(as)}var Lp={},zh={};function Nf(as,ds){if(!as||/^\s*$/.test(as))return null;var xs=ds.addModeClass?zh:Lp;return xs[as]||(xs[as]=as.replace(/\S+/g,"cm-$&"))}function gf(as,ds){var xs=_s("span",null,null,cs?"padding-right: .1px":null),Es={pre:_s("pre",[xs],"CodeMirror-line"),content:xs,col:0,pos:0,cm:as,trailingSpace:!1,splitSpaces:as.getOption("lineWrapping")};ds.measure={};for(var ks=0;ks<=(ds.rest?ds.rest.length:0);ks++){var Js=ks?ds.rest[ks-1]:ds.line,fo=void 0;Es.pos=0,Es.addToken=Rf,au(as.display.measure)&&(fo=Ba(Js,as.doc.direction))&&(Es.addToken=uu(Es.addToken,fo)),Es.map=[];var wo=ds!=as.display.externalMeasured&&nc(Js);mA(Js,Es,Tc(as,Js,wo)),Js.styleClasses&&(Js.styleClasses.bgClass&&(Es.bgClass=ao(Js.styleClasses.bgClass,Es.bgClass||"")),Js.styleClasses.textClass&&(Es.textClass=ao(Js.styleClasses.textClass,Es.textClass||""))),Es.map.length==0&&Es.map.push(0,0,Es.content.appendChild(Yc(as.display.measure))),ks==0?(ds.measure.map=Es.map,ds.measure.cache={}):((ds.measure.maps||(ds.measure.maps=[])).push(Es.map),(ds.measure.caches||(ds.measure.caches=[])).push({}))}if(cs){var Lo=Es.content.lastChild;(/\bcm-tab\b/.test(Lo.className)||Lo.querySelector&&Lo.querySelector(".cm-tab"))&&(Es.content.className="cm-tab-wrap-hack")}return Ja(as,"renderLine",as,ds.line,Es.pre),Es.pre.className&&(Es.textClass=ao(Es.pre.className,Es.textClass||"")),Es}function nA(as){var ds=Ds("span","•","cm-invalidchar");return ds.title="\\u"+as.charCodeAt(0).toString(16),ds.setAttribute("aria-label",ds.title),ds}function Rf(as,ds,xs,Es,ks,Js,fo){if(ds){var wo=as.splitSpaces?YA(ds,as.trailingSpace):ds,Lo=as.cm.state.specialChars,Do=!1,ra;if(!Lo.test(ds))as.col+=ds.length,ra=document.createTextNode(wo),as.map.push(as.pos,as.pos+ds.length,ra),os&&ls<9&&(Do=!0),as.pos+=ds.length;else{ra=document.createDocumentFragment();for(var aa=0;;){Lo.lastIndex=aa;var xa=Lo.exec(ds),va=xa?xa.index-aa:ds.length-aa;if(va){var ja=document.createTextNode(wo.slice(aa,aa+va));os&&ls<9?ra.appendChild(Ds("span",[ja])):ra.appendChild(ja),as.map.push(as.pos,as.pos+va,ja),as.col+=va,as.pos+=va}if(!xa)break;aa+=va+1;var Ya=void 0;if(xa[0]=="	"){var ol=as.cm.options.tabSize,dl=ol-as.col%ol;Ya=ra.appendChild(Ds("span",Wo(dl),"cm-tab")),Ya.setAttribute("role","presentation"),Ya.setAttribute("cm-text","	"),as.col+=dl}else xa[0]=="\r"||xa[0]==`
`?(Ya=ra.appendChild(Ds("span",xa[0]=="\r"?"␍":"␤","cm-invalidchar")),Ya.setAttribute("cm-text",xa[0]),as.col+=1):(Ya=as.cm.options.specialCharPlaceholder(xa[0]),Ya.setAttribute("cm-text",xa[0]),os&&ls<9?ra.appendChild(Ds("span",[Ya])):ra.appendChild(Ya),as.col+=1);as.map.push(as.pos,as.pos+1,Ya),as.pos++}}if(as.trailingSpace=wo.charCodeAt(ds.length-1)==32,xs||Es||ks||Do||Js||fo){var ml=xs||"";Es&&(ml+=Es),ks&&(ml+=ks);var Al=Ds("span",[ra],ml,Js);if(fo)for(var Sl in fo)fo.hasOwnProperty(Sl)&&Sl!="style"&&Sl!="class"&&Al.setAttribute(Sl,fo[Sl]);return as.content.appendChild(Al)}as.content.appendChild(ra)}}function YA(as,ds){if(as.length>1&&!/  /.test(as))return as;for(var xs=ds,Es="",ks=0;ks<as.length;ks++){var Js=as.charAt(ks);Js==" "&&xs&&(ks==as.length-1||as.charCodeAt(ks+1)==32)&&(Js=" "),Es+=Js,xs=Js==" "}return Es}function uu(as,ds){return function(xs,Es,ks,Js,fo,wo,Lo){ks=ks?ks+" cm-force-border":"cm-force-border";for(var Do=xs.pos,ra=Do+Es.length;;){for(var aa=void 0,xa=0;xa<ds.length&&(aa=ds[xa],!(aa.to>Do&&aa.from<=Do));xa++);if(aa.to>=ra)return as(xs,Es,ks,Js,fo,wo,Lo);as(xs,Es.slice(0,aa.to-Do),ks,Js,null,wo,Lo),Js=null,Es=Es.slice(aa.to-Do),Do=aa.to}}}function Md(as,ds,xs,Es){var ks=!Es&&xs.widgetNode;ks&&as.map.push(as.pos,as.pos+ds,ks),!Es&&as.cm.display.input.needsContentAttribute&&(ks||(ks=as.content.appendChild(document.createElement("span"))),ks.setAttribute("cm-marker",xs.id)),ks&&(as.cm.display.input.setUneditable(ks),as.content.appendChild(ks)),as.pos+=ds,as.trailingSpace=!1}function mA(as,ds,xs){var Es=as.markedSpans,ks=as.text,Js=0;if(!Es){for(var fo=1;fo<xs.length;fo+=2)ds.addToken(ds,ks.slice(Js,Js=xs[fo]),Nf(xs[fo+1],ds.cm.options));return}for(var wo=ks.length,Lo=0,Do=1,ra="",aa,xa,va=0,ja,Ya,ol,dl,ml;;){if(va==Lo){ja=Ya=ol=xa="",ml=null,dl=null,va=1/0;for(var Al=[],Sl=void 0,Hl=0;Hl<Es.length;++Hl){var Rl=Es[Hl],gc=Rl.marker;if(gc.type=="bookmark"&&Rl.from==Lo&&gc.widgetNode)Al.push(gc);else if(Rl.from<=Lo&&(Rl.to==null||Rl.to>Lo||gc.collapsed&&Rl.to==Lo&&Rl.from==Lo)){if(Rl.to!=null&&Rl.to!=Lo&&va>Rl.to&&(va=Rl.to,Ya=""),gc.className&&(ja+=" "+gc.className),gc.css&&(xa=(xa?xa+";":"")+gc.css),gc.startStyle&&Rl.from==Lo&&(ol+=" "+gc.startStyle),gc.endStyle&&Rl.to==va&&(Sl||(Sl=[])).push(gc.endStyle,Rl.to),gc.title&&((ml||(ml={})).title=gc.title),gc.attributes)for(var Bu in gc.attributes)(ml||(ml={}))[Bu]=gc.attributes[Bu];gc.collapsed&&(!dl||Vd(dl.marker,gc)<0)&&(dl=Rl)}else Rl.from>Lo&&va>Rl.from&&(va=Rl.from)}if(Sl)for(var th=0;th<Sl.length;th+=2)Sl[th+1]==va&&(Ya+=" "+Sl[th]);if(!dl||dl.from==Lo)for(var Yu=0;Yu<Al.length;++Yu)Md(ds,0,Al[Yu]);if(dl&&(dl.from||0)==Lo){if(Md(ds,(dl.to==null?wo+1:dl.to)-Lo,dl.marker,dl.from==null),dl.to==null)return;dl.to==Lo&&(dl=!1)}}if(Lo>=wo)break;for(var ul=Math.min(wo,va);;){if(ra){var ju=Lo+ra.length;if(!dl){var rh=ju>ul?ra.slice(0,ul-Lo):ra;ds.addToken(ds,rh,aa?aa+ja:ja,ol,Lo+rh.length==va?Ya:"",xa,ml)}if(ju>=ul){ra=ra.slice(ul-Lo),Lo=ul;break}Lo=ju,ol=""}ra=ks.slice(Js,Js=xs[Do++]),aa=Nf(xs[Do++],ds.cm.options)}}}function Uf(as,ds,xs){this.line=ds,this.rest=fc(ds),this.size=this.rest?nc(ko(this.rest))-xs+1:1,this.node=this.text=null,this.hidden=$l(as,ds)}function no(as,ds,xs){for(var Es=[],ks,Js=ds;Js<xs;Js=ks){var fo=new Uf(as.doc,Cl(as.doc,Js),Js);ks=Js+fo.size,Es.push(fo)}return Es}var No=null;function oa(as){No?No.ops.push(as):as.ownsGroup=No={ops:[as],delayedCallbacks:[]}}function ha(as){var ds=as.delayedCallbacks,xs=0;do{for(;xs<ds.length;xs++)ds[xs].call(null);for(var Es=0;Es<as.ops.length;Es++){var ks=as.ops[Es];if(ks.cursorActivityHandlers)for(;ks.cursorActivityCalled<ks.cursorActivityHandlers.length;)ks.cursorActivityHandlers[ks.cursorActivityCalled++].call(null,ks.cm)}}while(xs<ds.length)}function La(as,ds){var xs=as.ownsGroup;if(xs)try{ha(xs)}finally{No=null,ds(xs)}}var $a=null;function za(as,ds){var xs=il(as,ds);if(xs.length){var Es=Array.prototype.slice.call(arguments,2),ks;No?ks=No.delayedCallbacks:$a?ks=$a:(ks=$a=[],setTimeout(Tl,0));for(var Js=function(wo){ks.push(function(){return xs[wo].apply(null,Es)})},fo=0;fo<xs.length;++fo)Js(fo)}}function Tl(){var as=$a;$a=null;for(var ds=0;ds<as.length;++ds)as[ds]()}function Ql(as,ds,xs,Es){for(var ks=0;ks<ds.changes.length;ks++){var Js=ds.changes[ks];Js=="text"?bu(as,ds):Js=="gutter"?Jl(as,ds,xs,Es):Js=="class"?fu(as,ds):Js=="widget"&&kh(as,ds,Es)}ds.changes=null}function Xl(as){return as.node==as.text&&(as.node=Ds("div",null,null,"position: relative"),as.text.parentNode&&as.text.parentNode.replaceChild(as.node,as.text),as.node.appendChild(as.text),os&&ls<8&&(as.node.style.zIndex=2)),as.node}function rc(as,ds){var xs=ds.bgClass?ds.bgClass+" "+(ds.line.bgClass||""):ds.line.bgClass;if(xs&&(xs+=" CodeMirror-linebackground"),ds.background)xs?ds.background.className=xs:(ds.background.parentNode.removeChild(ds.background),ds.background=null);else if(xs){var Es=Xl(ds);ds.background=Es.insertBefore(Ds("div",null,xs),Es.firstChild),as.display.input.setUneditable(ds.background)}}function Bc(as,ds){var xs=as.display.externalMeasured;return xs&&xs.line==ds.line?(as.display.externalMeasured=null,ds.measure=xs.measure,xs.built):gf(as,ds)}function bu(as,ds){var xs=ds.text.className,Es=Bc(as,ds);ds.text==ds.node&&(ds.node=Es.pre),ds.text.parentNode.replaceChild(Es.pre,ds.text),ds.text=Es.pre,Es.bgClass!=ds.bgClass||Es.textClass!=ds.textClass?(ds.bgClass=Es.bgClass,ds.textClass=Es.textClass,fu(as,ds)):xs&&(ds.text.className=xs)}function fu(as,ds){rc(as,ds),ds.line.wrapClass?Xl(ds).className=ds.line.wrapClass:ds.node!=ds.text&&(ds.node.className="");var xs=ds.textClass?ds.textClass+" "+(ds.line.textClass||""):ds.line.textClass;ds.text.className=xs||""}function Jl(as,ds,xs,Es){if(ds.gutter&&(ds.node.removeChild(ds.gutter),ds.gutter=null),ds.gutterBackground&&(ds.node.removeChild(ds.gutterBackground),ds.gutterBackground=null),ds.line.gutterClass){var ks=Xl(ds);ds.gutterBackground=Ds("div",null,"CodeMirror-gutter-background "+ds.line.gutterClass,"left: "+(as.options.fixedGutter?Es.fixedPos:-Es.gutterTotalWidth)+"px; width: "+Es.gutterTotalWidth+"px"),as.display.input.setUneditable(ds.gutterBackground),ks.insertBefore(ds.gutterBackground,ds.text)}var Js=ds.line.gutterMarkers;if(as.options.lineNumbers||Js){var fo=Xl(ds),wo=ds.gutter=Ds("div",null,"CodeMirror-gutter-wrapper","left: "+(as.options.fixedGutter?Es.fixedPos:-Es.gutterTotalWidth)+"px");if(wo.setAttribute("aria-hidden","true"),as.display.input.setUneditable(wo),fo.insertBefore(wo,ds.text),ds.line.gutterClass&&(wo.className+=" "+ds.line.gutterClass),as.options.lineNumbers&&(!Js||!Js["CodeMirror-linenumbers"])&&(ds.lineNumber=wo.appendChild(Ds("div",Xc(as.options,xs),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+Es.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+as.display.lineNumInnerWidth+"px"))),Js)for(var Lo=0;Lo<as.display.gutterSpecs.length;++Lo){var Do=as.display.gutterSpecs[Lo].className,ra=Js.hasOwnProperty(Do)&&Js[Do];ra&&wo.appendChild(Ds("div",[ra],"CodeMirror-gutter-elt","left: "+Es.gutterLeft[Do]+"px; width: "+Es.gutterWidth[Do]+"px"))}}}function kh(as,ds,xs){ds.alignable&&(ds.alignable=null);for(var Es=Fs("CodeMirror-linewidget"),ks=ds.node.firstChild,Js=void 0;ks;ks=Js)Js=ks.nextSibling,Es.test(ks.className)&&ds.node.removeChild(ks);Td(as,ds,xs)}function vh(as,ds,xs,Es){var ks=Bc(as,ds);return ds.text=ds.node=ks.pre,ks.bgClass&&(ds.bgClass=ks.bgClass),ks.textClass&&(ds.textClass=ks.textClass),fu(as,ds),Jl(as,ds,xs,Es),Td(as,ds,Es),ds.node}function Td(as,ds,xs){if(eu(as,ds.line,ds,xs,!0),ds.rest)for(var Es=0;Es<ds.rest.length;Es++)eu(as,ds.rest[Es],ds,xs,!1)}function eu(as,ds,xs,Es,ks){if(ds.widgets)for(var Js=Xl(xs),fo=0,wo=ds.widgets;fo<wo.length;++fo){var Lo=wo[fo],Do=Ds("div",[Lo.node],"CodeMirror-linewidget"+(Lo.className?" "+Lo.className:""));Lo.handleMouseEvents||Do.setAttribute("cm-ignore-events","true"),sh(Lo,Do,xs,Es),as.display.input.setUneditable(Do),ks&&Lo.above?Js.insertBefore(Do,xs.gutter||xs.text):Js.appendChild(Do),za(Lo,"redraw")}}function sh(as,ds,xs,Es){if(as.noHScroll){(xs.alignable||(xs.alignable=[])).push(ds);var ks=Es.wrapperWidth;ds.style.left=Es.fixedPos+"px",as.coverGutter||(ks-=Es.gutterTotalWidth,ds.style.paddingLeft=Es.gutterTotalWidth+"px"),ds.style.width=ks+"px"}as.coverGutter&&(ds.style.zIndex=5,ds.style.position="relative",as.noHScroll||(ds.style.marginLeft=-Es.gutterTotalWidth+"px"))}function Wd(as){if(as.height!=null)return as.height;var ds=as.doc.cm;if(!ds)return 0;if(!Ss(document.body,as.node)){var xs="position: relative;";as.coverGutter&&(xs+="margin-left: -"+ds.display.gutters.offsetWidth+"px;"),as.noHScroll&&(xs+="width: "+ds.display.wrapper.clientWidth+"px;"),Ws(ds.display.measure,Ds("div",[as.node],null,xs))}return as.height=as.node.parentNode.offsetHeight}function oh(as,ds){for(var xs=dc(ds);xs!=as.wrapper;xs=xs.parentNode)if(!xs||xs.nodeType==1&&xs.getAttribute("cm-ignore-events")=="true"||xs.parentNode==as.sizer&&xs!=as.mover)return!0}function wu(as){return as.lineSpace.offsetTop}function DA(as){return as.mover.offsetHeight-as.lineSpace.offsetHeight}function Zu(as){if(as.cachedPaddingH)return as.cachedPaddingH;var ds=Ws(as.measure,Ds("pre","x","CodeMirror-line-like")),xs=window.getComputedStyle?window.getComputedStyle(ds):ds.currentStyle,Es={left:parseInt(xs.paddingLeft),right:parseInt(xs.paddingRight)};return!isNaN(Es.left)&&!isNaN(Es.right)&&(as.cachedPaddingH=Es),Es}function ed(as){return ro-as.display.nativeBarWidth}function wh(as){return as.display.scroller.clientWidth-ed(as)-as.display.barWidth}function Gu(as){return as.display.scroller.clientHeight-ed(as)-as.display.barHeight}function Dc(as,ds,xs){var Es=as.options.lineWrapping,ks=Es&&wh(as);if(!ds.measure.heights||Es&&ds.measure.width!=ks){var Js=ds.measure.heights=[];if(Es){ds.measure.width=ks;for(var fo=ds.text.firstChild.getClientRects(),wo=0;wo<fo.length-1;wo++){var Lo=fo[wo],Do=fo[wo+1];Math.abs(Lo.bottom-Do.bottom)>2&&Js.push((Lo.bottom+Do.top)/2-xs.top)}}Js.push(xs.bottom-xs.top)}}function XA(as,ds,xs){if(as.line==ds)return{map:as.measure.map,cache:as.measure.cache};if(as.rest){for(var Es=0;Es<as.rest.length;Es++)if(as.rest[Es]==ds)return{map:as.measure.maps[Es],cache:as.measure.caches[Es]};for(var ks=0;ks<as.rest.length;ks++)if(nc(as.rest[ks])>xs)return{map:as.measure.maps[ks],cache:as.measure.caches[ks],before:!0}}}function mf(as,ds){ds=ll(ds);var xs=nc(ds),Es=as.display.externalMeasured=new Uf(as.doc,ds,xs);Es.lineN=xs;var ks=Es.built=gf(as,Es);return Es.text=ks.pre,Ws(as.display.lineMeasure,ks.pre),Es}function PA(as,ds,xs,Es){return Mh(as,Ph(as,ds),xs,Es)}function Dh(as,ds){if(ds>=as.display.viewFrom&&ds<as.display.viewTo)return as.display.view[qc(as,ds)];var xs=as.display.externalMeasured;if(xs&&ds>=xs.lineN&&ds<xs.lineN+xs.size)return xs}function Ph(as,ds){var xs=nc(ds),Es=Dh(as,xs);Es&&!Es.text?Es=null:Es&&Es.changes&&(Ql(as,Es,xs,_d(as)),as.curOp.forceUpdate=!0),Es||(Es=mf(as,ds));var ks=XA(Es,ds,xs);return{line:ds,view:Es,rect:null,map:ks.map,cache:ks.cache,before:ks.before,hasHeights:!1}}function Mh(as,ds,xs,Es,ks){ds.before&&(xs=-1);var Js=xs+(Es||""),fo;return ds.cache.hasOwnProperty(Js)?fo=ds.cache[Js]:(ds.rect||(ds.rect=ds.view.text.getBoundingClientRect()),ds.hasHeights||(Dc(as,ds.view,ds.rect),ds.hasHeights=!0),fo=rd(as,ds,xs,Es),fo.bogus||(ds.cache[Js]=fo)),{left:fo.left,right:fo.right,top:ks?fo.rtop:fo.top,bottom:ks?fo.rbottom:fo.bottom}}var Hf={left:0,right:0,top:0,bottom:0};function Ru(as,ds,xs){for(var Es,ks,Js,fo,wo,Lo,Do=0;Do<as.length;Do+=3)if(wo=as[Do],Lo=as[Do+1],ds<wo?(ks=0,Js=1,fo="left"):ds<Lo?(ks=ds-wo,Js=ks+1):(Do==as.length-3||ds==Lo&&as[Do+3]>ds)&&(Js=Lo-wo,ks=Js-1,ds>=Lo&&(fo="right")),ks!=null){if(Es=as[Do+2],wo==Lo&&xs==(Es.insertLeft?"left":"right")&&(fo=xs),xs=="left"&&ks==0)for(;Do&&as[Do-2]==as[Do-3]&&as[Do-1].insertLeft;)Es=as[(Do-=3)+2],fo="left";if(xs=="right"&&ks==Lo-wo)for(;Do<as.length-3&&as[Do+3]==as[Do+4]&&!as[Do+5].insertLeft;)Es=as[(Do+=3)+2],fo="right";break}return{node:Es,start:ks,end:Js,collapse:fo,coverStart:wo,coverEnd:Lo}}function Od(as,ds){var xs=Hf;if(ds=="left")for(var Es=0;Es<as.length&&(xs=as[Es]).left==xs.right;Es++);else for(var ks=as.length-1;ks>=0&&(xs=as[ks]).left==xs.right;ks--);return xs}function rd(as,ds,xs,Es){var ks=Ru(ds.map,xs,Es),Js=ks.node,fo=ks.start,wo=ks.end,Lo=ks.collapse,Do;if(Js.nodeType==3){for(var ra=0;ra<4;ra++){for(;fo&&Fo(ds.line.text.charAt(ks.coverStart+fo));)--fo;for(;ks.coverStart+wo<ks.coverEnd&&Fo(ds.line.text.charAt(ks.coverStart+wo));)++wo;if(os&&ls<9&&fo==0&&wo==ks.coverEnd-ks.coverStart?Do=Js.parentNode.getBoundingClientRect():Do=Od(Ns(Js,fo,wo).getClientRects(),Es),Do.left||Do.right||fo==0)break;wo=fo,fo=fo-1,Lo="right"}os&&ls<11&&(Do=tu(as.display.measure,Do))}else{fo>0&&(Lo=Es="right");var aa;as.options.lineWrapping&&(aa=Js.getClientRects()).length>1?Do=aa[Es=="right"?aa.length-1:0]:Do=Js.getBoundingClientRect()}if(os&&ls<9&&!fo&&(!Do||!Do.left&&!Do.right)){var xa=Js.parentNode.getClientRects()[0];xa?Do={left:xa.left,right:xa.left+nd(as.display),top:xa.top,bottom:xa.bottom}:Do=Hf}for(var va=Do.top-ds.rect.top,ja=Do.bottom-ds.rect.top,Ya=(va+ja)/2,ol=ds.view.measure.heights,dl=0;dl<ol.length-1&&!(Ya<ol[dl]);dl++);var ml=dl?ol[dl-1]:0,Al=ol[dl],Sl={left:(Lo=="right"?Do.right:Do.left)-ds.rect.left,right:(Lo=="left"?Do.left:Do.right)-ds.rect.left,top:ml,bottom:Al};return!Do.left&&!Do.right&&(Sl.bogus=!0),as.options.singleCursorHeightPerLine||(Sl.rtop=va,Sl.rbottom=ja),Sl}function tu(as,ds){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Th(as))return ds;var xs=screen.logicalXDPI/screen.deviceXDPI,Es=screen.logicalYDPI/screen.deviceYDPI;return{left:ds.left*xs,right:ds.right*xs,top:ds.top*Es,bottom:ds.bottom*Es}}function qh(as){if(as.measure&&(as.measure.cache={},as.measure.heights=null,as.rest))for(var ds=0;ds<as.rest.length;ds++)as.measure.caches[ds]={}}function MA(as){as.display.externalMeasure=null,Ms(as.display.lineMeasure);for(var ds=0;ds<as.display.view.length;ds++)qh(as.display.view[ds])}function Ch(as){MA(as),as.display.cachedCharWidth=as.display.cachedTextHeight=as.display.cachedPaddingH=null,as.options.lineWrapping||(as.display.maxLineChanged=!0),as.display.lineNumChars=null}function Oh(as){return us&&fs?-(as.body.getBoundingClientRect().left-parseInt(getComputedStyle(as.body).marginLeft)):as.defaultView.pageXOffset||(as.documentElement||as.body).scrollLeft}function vA(as){return us&&fs?-(as.body.getBoundingClientRect().top-parseInt(getComputedStyle(as.body).marginTop)):as.defaultView.pageYOffset||(as.documentElement||as.body).scrollTop}function sA(as){var ds=ll(as),xs=ds.widgets,Es=0;if(xs)for(var ks=0;ks<xs.length;++ks)xs[ks].above&&(Es+=Wd(xs[ks]));return Es}function ah(as,ds,xs,Es,ks){if(!ks){var Js=sA(ds);xs.top+=Js,xs.bottom+=Js}if(Es=="line")return xs;Es||(Es="local");var fo=Zc(ds);if(Es=="local"?fo+=wu(as.display):fo-=as.display.viewOffset,Es=="page"||Es=="window"){var wo=as.display.lineSpace.getBoundingClientRect();fo+=wo.top+(Es=="window"?0:vA(Bs(as)));var Lo=wo.left+(Es=="window"?0:Oh(Bs(as)));xs.left+=Lo,xs.right+=Lo}return xs.top+=fo,xs.bottom+=fo,xs}function Ca(as,ds,xs){if(xs=="div")return ds;var Es=ds.left,ks=ds.top;if(xs=="page")Es-=Oh(Bs(as)),ks-=vA(Bs(as));else if(xs=="local"||!xs){var Js=as.display.sizer.getBoundingClientRect();Es+=Js.left,ks+=Js.top}var fo=as.display.lineSpace.getBoundingClientRect();return{left:Es-fo.left,top:ks-fo.top}}function Qa(as,ds,xs,Es,ks){return Es||(Es=Cl(as.doc,ds.line)),ah(as,Es,PA(as,Es,ds.ch,ks),xs)}function Fa(as,ds,xs,Es,ks,Js){Es=Es||Cl(as.doc,ds.line),ks||(ks=Ph(as,Es));function fo(ja,Ya){var ol=Mh(as,ks,ja,Ya?"right":"left",Js);return Ya?ol.left=ol.right:ol.right=ol.left,ah(as,Es,ol,xs)}var wo=Ba(Es,as.doc.direction),Lo=ds.ch,Do=ds.sticky;if(Lo>=Es.text.length?(Lo=Es.text.length,Do="before"):Lo<=0&&(Lo=0,Do="after"),!wo)return fo(Do=="before"?Lo-1:Lo,Do=="before");function ra(ja,Ya,ol){var dl=wo[Ya],ml=dl.level==1;return fo(ol?ja-1:ja,ml!=ol)}var aa=ua(wo,Lo,Do),xa=ma,va=ra(Lo,aa,Do=="before");return xa!=null&&(va.other=ra(Lo,xa,Do!="before")),va}function yl(as,ds){var xs=0;ds=Ta(as.doc,ds),as.options.lineWrapping||(xs=nd(as.display)*ds.ch);var Es=Cl(as.doc,ds.line),ks=Zc(Es)+wu(as.display);return{left:xs,right:xs,top:ks,bottom:ks+Es.height}}function Nl(as,ds,xs,Es,ks){var Js=Xa(as,ds,xs);return Js.xRel=ks,Es&&(Js.outside=Es),Js}function ac(as,ds,xs){var Es=as.doc;if(xs+=as.display.viewOffset,xs<0)return Nl(Es.first,0,null,-1,-1);var ks=ih(Es,xs),Js=Es.first+Es.size-1;if(ks>Js)return Nl(Es.first+Es.size-1,Cl(Es,Js).text.length,null,1,1);ds<0&&(ds=0);for(var fo=Cl(Es,ks);;){var wo=vf(as,fo,ks,ds,xs),Lo=Aa(fo,wo.ch+(wo.xRel>0||wo.outside>0?1:0));if(!Lo)return wo;var Do=Lo.find(1);if(Do.line==ks)return Do;fo=Cl(Es,ks=Do.line)}}function ku(as,ds,xs,Es){Es-=sA(ds);var ks=ds.text.length,Js=Zo(function(fo){return Mh(as,xs,fo-1).bottom<=Es},ks,0);return ks=Zo(function(fo){return Mh(as,xs,fo).top>Es},Js,ks),{begin:Js,end:ks}}function Ec(as,ds,xs,Es){xs||(xs=Ph(as,ds));var ks=ah(as,ds,Mh(as,xs,Es),"line").top;return ku(as,ds,xs,ks)}function yA(as,ds,xs,Es){return as.bottom<=xs?!1:as.top>xs?!0:(Es?as.left:as.right)>ds}function vf(as,ds,xs,Es,ks){ks-=Zc(ds);var Js=Ph(as,ds),fo=sA(ds),wo=0,Lo=ds.text.length,Do=!0,ra=Ba(ds,as.doc.direction);if(ra){var aa=(as.options.lineWrapping?Bd:Nh)(as,ds,xs,Js,ra,Es,ks);Do=aa.level!=1,wo=Do?aa.from:aa.to-1,Lo=Do?aa.to:aa.from-1}var xa=null,va=null,ja=Zo(function(Hl){var Rl=Mh(as,Js,Hl);return Rl.top+=fo,Rl.bottom+=fo,yA(Rl,Es,ks,!1)?(Rl.top<=ks&&Rl.left<=Es&&(xa=Hl,va=Rl),!0):!1},wo,Lo),Ya,ol,dl=!1;if(va){var ml=Es-va.left<va.right-Es,Al=ml==Do;ja=xa+(Al?0:1),ol=Al?"after":"before",Ya=ml?va.left:va.right}else{!Do&&(ja==Lo||ja==wo)&&ja++,ol=ja==0?"after":ja==ds.text.length?"before":Mh(as,Js,ja-(Do?1:0)).bottom+fo<=ks==Do?"after":"before";var Sl=Fa(as,Xa(xs,ja,ol),"line",ds,Js);Ya=Sl.left,dl=ks<Sl.top?-1:ks>=Sl.bottom?1:0}return ja=Po(ds.text,ja,1),Nl(xs,ja,ol,dl,Es-Ya)}function Nh(as,ds,xs,Es,ks,Js,fo){var wo=Zo(function(aa){var xa=ks[aa],va=xa.level!=1;return yA(Fa(as,Xa(xs,va?xa.to:xa.from,va?"before":"after"),"line",ds,Es),Js,fo,!0)},0,ks.length-1),Lo=ks[wo];if(wo>0){var Do=Lo.level!=1,ra=Fa(as,Xa(xs,Do?Lo.from:Lo.to,Do?"after":"before"),"line",ds,Es);yA(ra,Js,fo,!0)&&ra.top>fo&&(Lo=ks[wo-1])}return Lo}function Bd(as,ds,xs,Es,ks,Js,fo){var wo=ku(as,ds,Es,fo),Lo=wo.begin,Do=wo.end;/\s/.test(ds.text.charAt(Do-1))&&Do--;for(var ra=null,aa=null,xa=0;xa<ks.length;xa++){var va=ks[xa];if(!(va.from>=Do||va.to<=Lo)){var ja=va.level!=1,Ya=Mh(as,Es,ja?Math.min(Do,va.to)-1:Math.max(Lo,va.from)).right,ol=Ya<Js?Js-Ya+1e9:Ya-Js;(!ra||aa>ol)&&(ra=va,aa=ol)}}return ra||(ra=ks[ks.length-1]),ra.from<Lo&&(ra={from:Lo,to:ra.to,level:ra.level}),ra.to>Do&&(ra={from:ra.from,to:Do,level:ra.level}),ra}var Nd;function Gh(as){if(as.cachedTextHeight!=null)return as.cachedTextHeight;if(Nd==null){Nd=Ds("pre",null,"CodeMirror-line-like");for(var ds=0;ds<49;++ds)Nd.appendChild(document.createTextNode("x")),Nd.appendChild(Ds("br"));Nd.appendChild(document.createTextNode("x"))}Ws(as.measure,Nd);var xs=Nd.offsetHeight/50;return xs>3&&(as.cachedTextHeight=xs),Ms(as.measure),xs||1}function nd(as){if(as.cachedCharWidth!=null)return as.cachedCharWidth;var ds=Ds("span","xxxxxxxxxx"),xs=Ds("pre",[ds],"CodeMirror-line-like");Ws(as.measure,xs);var Es=ds.getBoundingClientRect(),ks=(Es.right-Es.left)/10;return ks>2&&(as.cachedCharWidth=ks),ks||10}function _d(as){for(var ds=as.display,xs={},Es={},ks=ds.gutters.clientLeft,Js=ds.gutters.firstChild,fo=0;Js;Js=Js.nextSibling,++fo){var wo=as.display.gutterSpecs[fo].className;xs[wo]=Js.offsetLeft+Js.clientLeft+ks,Es[wo]=Js.clientWidth}return{fixedPos:Pc(ds),gutterTotalWidth:ds.gutters.offsetWidth,gutterLeft:xs,gutterWidth:Es,wrapperWidth:ds.wrapper.clientWidth}}function Pc(as){return as.scroller.getBoundingClientRect().left-as.sizer.getBoundingClientRect().left}function Ld(as){var ds=Gh(as.display),xs=as.options.lineWrapping,Es=xs&&Math.max(5,as.display.scroller.clientWidth/nd(as.display)-3);return function(ks){if($l(as.doc,ks))return 0;var Js=0;if(ks.widgets)for(var fo=0;fo<ks.widgets.length;fo++)ks.widgets[fo].height&&(Js+=ks.widgets[fo].height);return xs?Js+(Math.ceil(ks.text.length/Es)||1)*ds:Js+ds}}function sd(as){var ds=as.doc,xs=Ld(as);ds.iter(function(Es){var ks=xs(Es);ks!=Es.height&&Fh(Es,ks)})}function Mc(as,ds,xs,Es){var ks=as.display;if(!xs&&dc(ds).getAttribute("cm-not-content")=="true")return null;var Js,fo,wo=ks.lineSpace.getBoundingClientRect();try{Js=ds.clientX-wo.left,fo=ds.clientY-wo.top}catch{return null}var Lo=ac(as,Js,fo),Do;if(Es&&Lo.xRel>0&&(Do=Cl(as.doc,Lo.line).text).length==Lo.ch){var ra=lo(Do,Do.length,as.options.tabSize)-Do.length;Lo=Xa(Lo.line,Math.max(0,Math.round((Js-Zu(as.display).left)/nd(as.display))-ra))}return Lo}function qc(as,ds){if(ds>=as.display.viewTo||(ds-=as.display.viewFrom,ds<0))return null;for(var xs=as.display.view,Es=0;Es<xs.length;Es++)if(ds-=xs[Es].size,ds<0)return Es}function Uc(as,ds,xs,Es){ds==null&&(ds=as.doc.first),xs==null&&(xs=as.doc.first+as.doc.size),Es||(Es=0);var ks=as.display;if(Es&&xs<ks.viewTo&&(ks.updateLineNumbers==null||ks.updateLineNumbers>ds)&&(ks.updateLineNumbers=ds),as.curOp.viewChanged=!0,ds>=ks.viewTo)Ju&&Jc(as.doc,ds)<ks.viewTo&&Eh(as);else if(xs<=ks.viewFrom)Ju&&pc(as.doc,xs+Es)>ks.viewFrom?Eh(as):(ks.viewFrom+=Es,ks.viewTo+=Es);else if(ds<=ks.viewFrom&&xs>=ks.viewTo)Eh(as);else if(ds<=ks.viewFrom){var Js=gd(as,xs,xs+Es,1);Js?(ks.view=ks.view.slice(Js.index),ks.viewFrom=Js.lineN,ks.viewTo+=Es):Eh(as)}else if(xs>=ks.viewTo){var fo=gd(as,ds,ds,-1);fo?(ks.view=ks.view.slice(0,fo.index),ks.viewTo=fo.lineN):Eh(as)}else{var wo=gd(as,ds,ds,-1),Lo=gd(as,xs,xs+Es,1);wo&&Lo?(ks.view=ks.view.slice(0,wo.index).concat(no(as,wo.lineN,Lo.lineN)).concat(ks.view.slice(Lo.index)),ks.viewTo+=Es):Eh(as)}var Do=ks.externalMeasured;Do&&(xs<Do.lineN?Do.lineN+=Es:ds<Do.lineN+Do.size&&(ks.externalMeasured=null))}function pu(as,ds,xs){as.curOp.viewChanged=!0;var Es=as.display,ks=as.display.externalMeasured;if(ks&&ds>=ks.lineN&&ds<ks.lineN+ks.size&&(Es.externalMeasured=null),!(ds<Es.viewFrom||ds>=Es.viewTo)){var Js=Es.view[qc(as,ds)];if(Js.node!=null){var fo=Js.changes||(Js.changes=[]);So(fo,xs)==-1&&fo.push(xs)}}}function Eh(as){as.display.viewFrom=as.display.viewTo=as.doc.first,as.display.view=[],as.display.viewOffset=0}function gd(as,ds,xs,Es){var ks=qc(as,ds),Js,fo=as.display.view;if(!Ju||xs==as.doc.first+as.doc.size)return{index:ks,lineN:xs};for(var wo=as.display.viewFrom,Lo=0;Lo<ks;Lo++)wo+=fo[Lo].size;if(wo!=ds){if(Es>0){if(ks==fo.length-1)return null;Js=wo+fo[ks].size-ds,ks++}else Js=wo-ds;ds+=Js,xs+=Js}for(;Jc(as.doc,xs)!=xs;){if(ks==(Es<0?0:fo.length-1))return null;xs+=Es*fo[ks-(Es<0?1:0)].size,ks+=Es}return{index:ks,lineN:xs}}function oA(as,ds,xs){var Es=as.display,ks=Es.view;ks.length==0||ds>=Es.viewTo||xs<=Es.viewFrom?(Es.view=no(as,ds,xs),Es.viewFrom=ds):(Es.viewFrom>ds?Es.view=no(as,ds,Es.viewFrom).concat(Es.view):Es.viewFrom<ds&&(Es.view=Es.view.slice(qc(as,ds))),Es.viewFrom=ds,Es.viewTo<xs?Es.view=Es.view.concat(no(as,Es.viewTo,xs)):Es.viewTo>xs&&(Es.view=Es.view.slice(0,qc(as,xs)))),Es.viewTo=xs}function jf(as){for(var ds=as.display.view,xs=0,Es=0;Es<ds.length;Es++){var ks=ds[Es];!ks.hidden&&(!ks.node||ks.changes)&&++xs}return xs}function aA(as){as.display.input.showSelection(as.display.input.prepareSelection())}function $f(as,ds){ds===void 0&&(ds=!0);var xs=as.doc,Es={},ks=Es.cursors=document.createDocumentFragment(),Js=Es.selection=document.createDocumentFragment(),fo=as.options.$customCursor;fo&&(ds=!0);for(var wo=0;wo<xs.sel.ranges.length;wo++)if(!(!ds&&wo==xs.sel.primIndex)){var Lo=xs.sel.ranges[wo];if(!(Lo.from().line>=as.display.viewTo||Lo.to().line<as.display.viewFrom)){var Do=Lo.empty();if(fo){var ra=fo(as,Lo);ra&&od(as,ra,ks)}else(Do||as.options.showCursorWhenSelecting)&&od(as,Lo.head,ks);Do||np(as,Lo,Js)}}return Es}function od(as,ds,xs){var Es=Fa(as,ds,"div",null,null,!as.options.singleCursorHeightPerLine),ks=xs.appendChild(Ds("div"," ","CodeMirror-cursor"));if(ks.style.left=Es.left+"px",ks.style.top=Es.top+"px",ks.style.height=Math.max(0,Es.bottom-Es.top)*as.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(as.getWrapperElement().className)){var Js=Qa(as,ds,"div",null,null),fo=Js.right-Js.left;ks.style.width=(fo>0?fo:as.defaultCharWidth())+"px"}if(Es.other){var wo=xs.appendChild(Ds("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));wo.style.display="",wo.style.left=Es.other.left+"px",wo.style.top=Es.other.top+"px",wo.style.height=(Es.other.bottom-Es.other.top)*.85+"px"}}function Rh(as,ds){return as.top-ds.top||as.left-ds.left}function np(as,ds,xs){var Es=as.display,ks=as.doc,Js=document.createDocumentFragment(),fo=Zu(as.display),wo=fo.left,Lo=Math.max(Es.sizerWidth,wh(as)-Es.sizer.offsetLeft)-fo.right,Do=ks.direction=="ltr";function ra(Al,Sl,Hl,Rl){Sl<0&&(Sl=0),Sl=Math.round(Sl),Rl=Math.round(Rl),Js.appendChild(Ds("div",null,"CodeMirror-selected","position: absolute; left: "+Al+`px;
                             top: `+Sl+"px; width: "+(Hl??Lo-Al)+`px;
                             height: `+(Rl-Sl)+"px"))}function aa(Al,Sl,Hl){var Rl=Cl(ks,Al),gc=Rl.text.length,Bu,th;function Yu(rh,Du){return Qa(as,Xa(Al,rh),"div",Rl,Du)}function ul(rh,Du,cd){var ic=Ec(as,Rl,null,rh),bc=Du=="ltr"==(cd=="after")?"left":"right",$u=cd=="after"?ic.begin:ic.end-(/\s/.test(Rl.text.charAt(ic.end-1))?2:1);return Yu($u,bc)[bc]}var ju=Ba(Rl,ks.direction);return na(ju,Sl||0,Hl??gc,function(rh,Du,cd,ic){var bc=cd=="ltr",$u=Yu(rh,bc?"left":"right"),Qd=Yu(Du-1,bc?"right":"left"),Ff=Sl==null&&rh==0,Zf=Hl==null&&Du==gc,$h=ic==0,hf=!ju||ic==ju.length-1;if(Qd.top-$u.top<=3){var Xh=(Do?Ff:Zf)&&$h,Ng=(Do?Zf:Ff)&&hf,df=Xh?wo:(bc?$u:Qd).left,If=Ng?Lo:(bc?Qd:$u).right;ra(df,$u.top,If-df,$u.bottom)}else{var ep,wd,Ep,hg;bc?(ep=Do&&Ff&&$h?wo:$u.left,wd=Do?Lo:ul(rh,cd,"before"),Ep=Do?wo:ul(Du,cd,"after"),hg=Do&&Zf&&hf?Lo:Qd.right):(ep=Do?ul(rh,cd,"before"):wo,wd=!Do&&Ff&&$h?Lo:$u.right,Ep=!Do&&Zf&&hf?wo:Qd.left,hg=Do?ul(Du,cd,"after"):Lo),ra(ep,$u.top,wd-ep,$u.bottom),$u.bottom<Qd.top&&ra(wo,$u.bottom,null,Qd.top),ra(Ep,Qd.top,hg-Ep,Qd.bottom)}(!Bu||Rh($u,Bu)<0)&&(Bu=$u),Rh(Qd,Bu)<0&&(Bu=Qd),(!th||Rh($u,th)<0)&&(th=$u),Rh(Qd,th)<0&&(th=Qd)}),{start:Bu,end:th}}var xa=ds.from(),va=ds.to();if(xa.line==va.line)aa(xa.line,xa.ch,va.ch);else{var ja=Cl(ks,xa.line),Ya=Cl(ks,va.line),ol=ll(ja)==ll(Ya),dl=aa(xa.line,xa.ch,ol?ja.text.length+1:null).end,ml=aa(va.line,ol?0:null,va.ch).start;ol&&(dl.top<ml.top-2?(ra(dl.right,dl.top,null,dl.bottom),ra(wo,ml.top,ml.left,ml.bottom)):ra(dl.right,dl.top,ml.left-dl.right,dl.bottom)),dl.bottom<ml.top&&ra(wo,dl.bottom,null,ml.top)}xs.appendChild(Js)}function bA(as){if(as.state.focused){var ds=as.display;clearInterval(ds.blinker);var xs=!0;ds.cursorDiv.style.visibility="",as.options.cursorBlinkRate>0?ds.blinker=setInterval(function(){as.hasFocus()||lA(as),ds.cursorDiv.style.visibility=(xs=!xs)?"":"hidden"},as.options.cursorBlinkRate):as.options.cursorBlinkRate<0&&(ds.cursorDiv.style.visibility="hidden")}}function Fd(as){as.hasFocus()||(as.display.input.focus(),as.state.focused||Qf(as))}function OA(as){as.state.delayingBlurEvent=!0,setTimeout(function(){as.state.delayingBlurEvent&&(as.state.delayingBlurEvent=!1,as.state.focused&&lA(as))},100)}function Qf(as,ds){as.state.delayingBlurEvent&&!as.state.draggingText&&(as.state.delayingBlurEvent=!1),as.options.readOnly!="nocursor"&&(as.state.focused||(Ja(as,"focus",as,ds),as.state.focused=!0,Zs(as.display.wrapper,"CodeMirror-focused"),!as.curOp&&as.display.selForContextMenu!=as.doc.sel&&(as.display.input.reset(),cs&&setTimeout(function(){return as.display.input.reset(!0)},20)),as.display.input.receivedFocus()),bA(as))}function lA(as,ds){as.state.delayingBlurEvent||(as.state.focused&&(Ja(as,"blur",as,ds),as.state.focused=!1,Is(as.display.wrapper,"CodeMirror-focused")),clearInterval(as.display.blinker),setTimeout(function(){as.state.focused||(as.display.shift=!1)},150))}function sp(as){for(var ds=as.display,xs=ds.lineDiv.offsetTop,Es=Math.max(0,ds.scroller.getBoundingClientRect().top),ks=ds.lineDiv.getBoundingClientRect().top,Js=0,fo=0;fo<ds.view.length;fo++){var wo=ds.view[fo],Lo=as.options.lineWrapping,Do=void 0,ra=0;if(!wo.hidden){if(ks+=wo.line.height,os&&ls<8){var aa=wo.node.offsetTop+wo.node.offsetHeight;Do=aa-xs,xs=aa}else{var xa=wo.node.getBoundingClientRect();Do=xa.bottom-xa.top,!Lo&&wo.text.firstChild&&(ra=wo.text.firstChild.getBoundingClientRect().right-xa.left-1)}var va=wo.line.height-Do;if((va>.005||va<-.005)&&(ks<Es&&(Js-=va),Fh(wo.line,Do),yf(wo.line),wo.rest))for(var ja=0;ja<wo.rest.length;ja++)yf(wo.rest[ja]);if(ra>as.display.sizerWidth){var Ya=Math.ceil(ra/nd(as.display));Ya>as.display.maxLineLength&&(as.display.maxLineLength=Ya,as.display.maxLine=wo.line,as.display.maxLineChanged=!0)}}}Math.abs(Js)>2&&(ds.scroller.scrollTop+=Js)}function yf(as){if(as.widgets)for(var ds=0;ds<as.widgets.length;++ds){var xs=as.widgets[ds],Es=xs.node.parentNode;Es&&(xs.height=Es.offsetHeight)}}function NA(as,ds,xs){var Es=xs&&xs.top!=null?Math.max(0,xs.top):as.scroller.scrollTop;Es=Math.floor(Es-wu(as));var ks=xs&&xs.bottom!=null?xs.bottom:Es+as.wrapper.clientHeight,Js=ih(ds,Es),fo=ih(ds,ks);if(xs&&xs.ensure){var wo=xs.ensure.from.line,Lo=xs.ensure.to.line;wo<Js?(Js=wo,fo=ih(ds,Zc(Cl(ds,wo))+as.wrapper.clientHeight)):Math.min(Lo,ds.lastLine())>=fo&&(Js=ih(ds,Zc(Cl(ds,Lo))-as.wrapper.clientHeight),fo=Lo)}return{from:Js,to:Math.max(fo,Js+1)}}function Vf(as,ds){if(!Ua(as,"scrollCursorIntoView")){var xs=as.display,Es=xs.sizer.getBoundingClientRect(),ks=null,Js=xs.wrapper.ownerDocument;if(ds.top+Es.top<0?ks=!0:ds.bottom+Es.top>(Js.defaultView.innerHeight||Js.documentElement.clientHeight)&&(ks=!1),ks!=null&&!ps){var fo=Ds("div","​",null,`position: absolute;
                         top: `+(ds.top-xs.viewOffset-wu(as.display))+`px;
                         height: `+(ds.bottom-ds.top+ed(as)+xs.barHeight)+`px;
                         left: `+ds.left+"px; width: "+Math.max(2,ds.right-ds.left)+"px;");as.display.lineSpace.appendChild(fo),fo.scrollIntoView(ks),as.display.lineSpace.removeChild(fo)}}}function Wf(as,ds,xs,Es){Es==null&&(Es=0);var ks;!as.options.lineWrapping&&ds==xs&&(xs=ds.sticky=="before"?Xa(ds.line,ds.ch+1,"before"):ds,ds=ds.ch?Xa(ds.line,ds.sticky=="before"?ds.ch-1:ds.ch,"after"):ds);for(var Js=0;Js<5;Js++){var fo=!1,wo=Fa(as,ds),Lo=!xs||xs==ds?wo:Fa(as,xs);ks={left:Math.min(wo.left,Lo.left),top:Math.min(wo.top,Lo.top)-Es,right:Math.max(wo.left,Lo.left),bottom:Math.max(wo.bottom,Lo.bottom)+Es};var Do=qp(as,ks),ra=as.doc.scrollTop,aa=as.doc.scrollLeft;if(Do.scrollTop!=null&&(bf(as,Do.scrollTop),Math.abs(as.doc.scrollTop-ra)>1&&(fo=!0)),Do.scrollLeft!=null&&(md(as,Do.scrollLeft),Math.abs(as.doc.scrollLeft-aa)>1&&(fo=!0)),!fo)break}return ks}function Cg(as,ds){var xs=qp(as,ds);xs.scrollTop!=null&&bf(as,xs.scrollTop),xs.scrollLeft!=null&&md(as,xs.scrollLeft)}function qp(as,ds){var xs=as.display,Es=Gh(as.display);ds.top<0&&(ds.top=0);var ks=as.curOp&&as.curOp.scrollTop!=null?as.curOp.scrollTop:xs.scroller.scrollTop,Js=Gu(as),fo={};ds.bottom-ds.top>Js&&(ds.bottom=ds.top+Js);var wo=as.doc.height+DA(xs),Lo=ds.top<Es,Do=ds.bottom>wo-Es;if(ds.top<ks)fo.scrollTop=Lo?0:ds.top;else if(ds.bottom>ks+Js){var ra=Math.min(ds.top,(Do?wo:ds.bottom)-Js);ra!=ks&&(fo.scrollTop=ra)}var aa=as.options.fixedGutter?0:xs.gutters.offsetWidth,xa=as.curOp&&as.curOp.scrollLeft!=null?as.curOp.scrollLeft:xs.scroller.scrollLeft-aa,va=wh(as)-xs.gutters.offsetWidth,ja=ds.right-ds.left>va;return ja&&(ds.right=ds.left+va),ds.left<10?fo.scrollLeft=0:ds.left<xa?fo.scrollLeft=Math.max(0,ds.left+aa-(ja?0:10)):ds.right>va+xa-3&&(fo.scrollLeft=ds.right+(ja?0:10)-va),fo}function Fp(as,ds){ds!=null&&(Ip(as),as.curOp.scrollTop=(as.curOp.scrollTop==null?as.doc.scrollTop:as.curOp.scrollTop)+ds)}function Uu(as){Ip(as);var ds=as.getCursor();as.curOp.scrollToPos={from:ds,to:ds,margin:as.options.cursorScrollMargin}}function Ku(as,ds,xs){(ds!=null||xs!=null)&&Ip(as),ds!=null&&(as.curOp.scrollLeft=ds),xs!=null&&(as.curOp.scrollTop=xs)}function Vg(as,ds){Ip(as),as.curOp.scrollToPos=ds}function Ip(as){var ds=as.curOp.scrollToPos;if(ds){as.curOp.scrollToPos=null;var xs=yl(as,ds.from),Es=yl(as,ds.to);Gp(as,xs,Es,ds.margin)}}function Gp(as,ds,xs,Es){var ks=qp(as,{left:Math.min(ds.left,xs.left),top:Math.min(ds.top,xs.top)-Es,right:Math.max(ds.right,xs.right),bottom:Math.max(ds.bottom,xs.bottom)+Es});Ku(as,ks.scrollLeft,ks.scrollTop)}function bf(as,ds){Math.abs(as.doc.scrollTop-ds)<2||(rs||cA(as,{top:ds}),RA(as,ds,!0),rs&&cA(as),lp(as,100))}function RA(as,ds,xs){ds=Math.max(0,Math.min(as.display.scroller.scrollHeight-as.display.scroller.clientHeight,ds)),!(as.display.scroller.scrollTop==ds&&!xs)&&(as.doc.scrollTop=ds,as.display.scrollbars.setScrollTop(ds),as.display.scroller.scrollTop!=ds&&(as.display.scroller.scrollTop=ds))}function md(as,ds,xs,Es){ds=Math.max(0,Math.min(ds,as.display.scroller.scrollWidth-as.display.scroller.clientWidth)),!((xs?ds==as.doc.scrollLeft:Math.abs(as.doc.scrollLeft-ds)<2)&&!Es)&&(as.doc.scrollLeft=ds,Sg(as),as.display.scroller.scrollLeft!=ds&&(as.display.scroller.scrollLeft=ds),as.display.scrollbars.setScrollLeft(ds))}function wf(as){var ds=as.display,xs=ds.gutters.offsetWidth,Es=Math.round(as.doc.height+DA(as.display));return{clientHeight:ds.scroller.clientHeight,viewHeight:ds.wrapper.clientHeight,scrollWidth:ds.scroller.scrollWidth,clientWidth:ds.scroller.clientWidth,viewWidth:ds.wrapper.clientWidth,barLeft:as.options.fixedGutter?xs:0,docHeight:Es,scrollHeight:Es+ed(as)+ds.barHeight,nativeBarWidth:ds.nativeBarWidth,gutterWidth:xs}}var zd=function(as,ds,xs){this.cm=xs;var Es=this.vert=Ds("div",[Ds("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),ks=this.horiz=Ds("div",[Ds("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");Es.tabIndex=ks.tabIndex=-1,as(Es),as(ks),Ea(Es,"scroll",function(){Es.clientHeight&&ds(Es.scrollTop,"vertical")}),Ea(ks,"scroll",function(){ks.clientWidth&&ds(ks.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,os&&ls<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};zd.prototype.update=function(as){var ds=as.scrollWidth>as.clientWidth+1,xs=as.scrollHeight>as.clientHeight+1,Es=as.nativeBarWidth;if(xs){this.vert.style.display="block",this.vert.style.bottom=ds?Es+"px":"0";var ks=as.viewHeight-(ds?Es:0);this.vert.firstChild.style.height=Math.max(0,as.scrollHeight-as.clientHeight+ks)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(ds){this.horiz.style.display="block",this.horiz.style.right=xs?Es+"px":"0",this.horiz.style.left=as.barLeft+"px";var Js=as.viewWidth-as.barLeft-(xs?Es:0);this.horiz.firstChild.style.width=Math.max(0,as.scrollWidth-as.clientWidth+Js)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&as.clientHeight>0&&(Es==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:xs?Es:0,bottom:ds?Es:0}},zd.prototype.setScrollLeft=function(as){this.horiz.scrollLeft!=as&&(this.horiz.scrollLeft=as),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},zd.prototype.setScrollTop=function(as){this.vert.scrollTop!=as&&(this.vert.scrollTop=as),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},zd.prototype.zeroWidthHack=function(){var as=ws&&!Cs?"12px":"18px";this.horiz.style.height=this.vert.style.width=as,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new co,this.disableVert=new co},zd.prototype.enableZeroWidthBar=function(as,ds,xs){as.style.visibility="";function Es(){var ks=as.getBoundingClientRect(),Js=xs=="vert"?document.elementFromPoint(ks.right-1,(ks.top+ks.bottom)/2):document.elementFromPoint((ks.right+ks.left)/2,ks.bottom-1);Js!=as?as.style.visibility="hidden":ds.set(1e3,Es)}ds.set(1e3,Es)},zd.prototype.clear=function(){var as=this.horiz.parentNode;as.removeChild(this.horiz),as.removeChild(this.vert)};var wA=function(){};wA.prototype.update=function(){return{bottom:0,right:0}},wA.prototype.setScrollLeft=function(){},wA.prototype.setScrollTop=function(){},wA.prototype.clear=function(){};function CA(as,ds){ds||(ds=wf(as));var xs=as.display.barWidth,Es=as.display.barHeight;op(as,ds);for(var ks=0;ks<4&&xs!=as.display.barWidth||Es!=as.display.barHeight;ks++)xs!=as.display.barWidth&&as.options.lineWrapping&&sp(as),op(as,wf(as)),xs=as.display.barWidth,Es=as.display.barHeight}function op(as,ds){var xs=as.display,Es=xs.scrollbars.update(ds);xs.sizer.style.paddingRight=(xs.barWidth=Es.right)+"px",xs.sizer.style.paddingBottom=(xs.barHeight=Es.bottom)+"px",xs.heightForcer.style.borderBottom=Es.bottom+"px solid transparent",Es.right&&Es.bottom?(xs.scrollbarFiller.style.display="block",xs.scrollbarFiller.style.height=Es.bottom+"px",xs.scrollbarFiller.style.width=Es.right+"px"):xs.scrollbarFiller.style.display="",Es.bottom&&as.options.coverGutterNextToScrollbar&&as.options.fixedGutter?(xs.gutterFiller.style.display="block",xs.gutterFiller.style.height=Es.bottom+"px",xs.gutterFiller.style.width=ds.gutterWidth+"px"):xs.gutterFiller.style.display=""}var Cf={native:zd,null:wA};function Eg(as){as.display.scrollbars&&(as.display.scrollbars.clear(),as.display.scrollbars.addClass&&Is(as.display.wrapper,as.display.scrollbars.addClass)),as.display.scrollbars=new Cf[as.options.scrollbarStyle](function(ds){as.display.wrapper.insertBefore(ds,as.display.scrollbarFiller),Ea(ds,"mousedown",function(){as.state.focused&&setTimeout(function(){return as.display.input.focus()},0)}),ds.setAttribute("cm-not-content","true")},function(ds,xs){xs=="horizontal"?md(as,ds):bf(as,ds)},as),as.display.scrollbars.addClass&&Zs(as.display.wrapper,as.display.scrollbars.addClass)}var JA=0;function Kh(as){as.curOp={cm:as,viewChanged:!1,startHeight:as.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++JA,markArrays:null},oa(as.curOp)}function Uh(as){var ds=as.curOp;ds&&La(ds,function(xs){for(var Es=0;Es<xs.ops.length;Es++)xs.ops[Es].cm.curOp=null;Wg(xs)})}function Wg(as){for(var ds=as.ops,xs=0;xs<ds.length;xs++)ap(ds[xs]);for(var Es=0;Es<ds.length;Es++)Rd(ds[Es]);for(var ks=0;ks<ds.length;ks++)Ud(ds[ks]);for(var Js=0;Js<ds.length;Js++)qo(ds[Js]);for(var fo=0;fo<ds.length;fo++)ZA(ds[fo])}function ap(as){var ds=as.cm,xs=ds.display;ef(ds),as.updateMaxLine&&mh(ds),as.mustUpdate=as.viewChanged||as.forceUpdate||as.scrollTop!=null||as.scrollToPos&&(as.scrollToPos.from.line<xs.viewFrom||as.scrollToPos.to.line>=xs.viewTo)||xs.maxLineChanged&&ds.options.lineWrapping,as.update=as.mustUpdate&&new Hd(ds,as.mustUpdate&&{top:as.scrollTop,ensure:as.scrollToPos},as.forceUpdate)}function Rd(as){as.updatedDisplay=as.mustUpdate&&Yp(as.cm,as.update)}function Ud(as){var ds=as.cm,xs=ds.display;as.updatedDisplay&&sp(ds),as.barMeasure=wf(ds),xs.maxLineChanged&&!ds.options.lineWrapping&&(as.adjustWidthTo=PA(ds,xs.maxLine,xs.maxLine.text.length).left+3,ds.display.sizerWidth=as.adjustWidthTo,as.barMeasure.scrollWidth=Math.max(xs.scroller.clientWidth,xs.sizer.offsetLeft+as.adjustWidthTo+ed(ds)+ds.display.barWidth),as.maxScrollLeft=Math.max(0,xs.sizer.offsetLeft+as.adjustWidthTo-wh(ds))),(as.updatedDisplay||as.selectionChanged)&&(as.preparedSelection=xs.input.prepareSelection())}function qo(as){var ds=as.cm;as.adjustWidthTo!=null&&(ds.display.sizer.style.minWidth=as.adjustWidthTo+"px",as.maxScrollLeft<ds.doc.scrollLeft&&md(ds,Math.min(ds.display.scroller.scrollLeft,as.maxScrollLeft),!0),ds.display.maxLineChanged=!1);var xs=as.focus&&as.focus==Us(zs(ds));as.preparedSelection&&ds.display.input.showSelection(as.preparedSelection,xs),(as.updatedDisplay||as.startHeight!=ds.doc.height)&&CA(ds,as.barMeasure),as.updatedDisplay&&Zp(ds,as.barMeasure),as.selectionChanged&&bA(ds),ds.state.focused&&as.updateInput&&ds.display.input.reset(as.typing),xs&&Fd(as.cm)}function ZA(as){var ds=as.cm,xs=ds.display,Es=ds.doc;if(as.updatedDisplay&&Xp(ds,as.update),xs.wheelStartX!=null&&(as.scrollTop!=null||as.scrollLeft!=null||as.scrollToPos)&&(xs.wheelStartX=xs.wheelStartY=null),as.scrollTop!=null&&RA(ds,as.scrollTop,as.forceScroll),as.scrollLeft!=null&&md(ds,as.scrollLeft,!0,!0),as.scrollToPos){var ks=Wf(ds,Ta(Es,as.scrollToPos.from),Ta(Es,as.scrollToPos.to),as.scrollToPos.margin);Vf(ds,ks)}var Js=as.maybeHiddenMarkers,fo=as.maybeUnhiddenMarkers;if(Js)for(var wo=0;wo<Js.length;++wo)Js[wo].lines.length||Ja(Js[wo],"hide");if(fo)for(var Lo=0;Lo<fo.length;++Lo)fo[Lo].lines.length&&Ja(fo[Lo],"unhide");xs.wrapper.offsetHeight&&(Es.scrollTop=ds.display.scroller.scrollTop),as.changeObjs&&Ja(ds,"changes",ds,as.changeObjs),as.update&&as.update.finish()}function lh(as,ds){if(as.curOp)return ds();Kh(as);try{return ds()}finally{Uh(as)}}function ru(as,ds){return function(){if(as.curOp)return ds.apply(as,arguments);Kh(as);try{return ds.apply(as,arguments)}finally{Uh(as)}}}function Kl(as){return function(){if(this.curOp)return as.apply(this,arguments);Kh(this);try{return as.apply(this,arguments)}finally{Uh(this)}}}function yh(as){return function(){var ds=this.cm;if(!ds||ds.curOp)return as.apply(this,arguments);Kh(ds);try{return as.apply(this,arguments)}finally{Uh(ds)}}}function lp(as,ds){as.doc.highlightFrontier<as.display.viewTo&&as.state.highlight.set(ds,Ao(kp,as))}function kp(as){var ds=as.doc;if(!(ds.highlightFrontier>=as.display.viewTo)){var xs=+new Date+as.options.workTime,Es=Qc(as,ds.highlightFrontier),ks=[];ds.iter(Es.line,Math.min(ds.first+ds.size,as.display.viewTo+500),function(Js){if(Es.line>=as.display.viewFrom){var fo=Js.styles,wo=Js.text.length>as.options.maxHighlightLength?Eu(ds.mode,Es.state):null,Lo=Ac(as,Js,Es,!0);wo&&(Es.state=wo),Js.styles=Lo.styles;var Do=Js.styleClasses,ra=Lo.classes;ra?Js.styleClasses=ra:Do&&(Js.styleClasses=null);for(var aa=!fo||fo.length!=Js.styles.length||Do!=ra&&(!Do||!ra||Do.bgClass!=ra.bgClass||Do.textClass!=ra.textClass),xa=0;!aa&&xa<fo.length;++xa)aa=fo[xa]!=Js.styles[xa];aa&&ks.push(Es.line),Js.stateAfter=Es.save(),Es.nextLine()}else Js.text.length<=as.options.maxHighlightLength&&vc(as,Js.text,Es),Js.stateAfter=Es.line%5==0?Es.save():null,Es.nextLine();if(+new Date>xs)return lp(as,as.options.workDelay),!0}),ds.highlightFrontier=Es.line,ds.modeFrontier=Math.max(ds.modeFrontier,Es.line),ks.length&&lh(as,function(){for(var Js=0;Js<ks.length;Js++)pu(as,ks[Js],"text")})}}var Hd=function(as,ds,xs){var Es=as.display;this.viewport=ds,this.visible=NA(Es,as.doc,ds),this.editorIsHidden=!Es.wrapper.offsetWidth,this.wrapperHeight=Es.wrapper.clientHeight,this.wrapperWidth=Es.wrapper.clientWidth,this.oldDisplayWidth=wh(as),this.force=xs,this.dims=_d(as),this.events=[]};Hd.prototype.signal=function(as,ds){nl(as,ds)&&this.events.push(arguments)},Hd.prototype.finish=function(){for(var as=0;as<this.events.length;as++)Ja.apply(null,this.events[as])};function ef(as){var ds=as.display;!ds.scrollbarsClipped&&ds.scroller.offsetWidth&&(ds.nativeBarWidth=ds.scroller.offsetWidth-ds.scroller.clientWidth,ds.heightForcer.style.height=ed(as)+"px",ds.sizer.style.marginBottom=-ds.nativeBarWidth+"px",ds.sizer.style.borderRightWidth=ed(as)+"px",ds.scrollbarsClipped=!0)}function Kp(as){if(as.hasFocus())return null;var ds=Us(zs(as));if(!ds||!Ss(as.display.lineDiv,ds))return null;var xs={activeElt:ds};if(window.getSelection){var Es=oo(as).getSelection();Es.anchorNode&&Es.extend&&Ss(as.display.lineDiv,Es.anchorNode)&&(xs.anchorNode=Es.anchorNode,xs.anchorOffset=Es.anchorOffset,xs.focusNode=Es.focusNode,xs.focusOffset=Es.focusOffset)}return xs}function xg(as){if(!(!as||!as.activeElt||as.activeElt==Us(so(as.activeElt)))&&(as.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(as.activeElt.nodeName)&&as.anchorNode&&Ss(document.body,as.anchorNode)&&Ss(document.body,as.focusNode))){var ds=as.activeElt.ownerDocument,xs=ds.defaultView.getSelection(),Es=ds.createRange();Es.setEnd(as.anchorNode,as.anchorOffset),Es.collapse(!1),xs.removeAllRanges(),xs.addRange(Es),xs.extend(as.focusNode,as.focusOffset)}}function Yp(as,ds){var xs=as.display,Es=as.doc;if(ds.editorIsHidden)return Eh(as),!1;if(!ds.force&&ds.visible.from>=xs.viewFrom&&ds.visible.to<=xs.viewTo&&(xs.updateLineNumbers==null||xs.updateLineNumbers>=xs.viewTo)&&xs.renderedView==xs.view&&jf(as)==0)return!1;Tg(as)&&(Eh(as),ds.dims=_d(as));var ks=Es.first+Es.size,Js=Math.max(ds.visible.from-as.options.viewportMargin,Es.first),fo=Math.min(ks,ds.visible.to+as.options.viewportMargin);xs.viewFrom<Js&&Js-xs.viewFrom<20&&(Js=Math.max(Es.first,xs.viewFrom)),xs.viewTo>fo&&xs.viewTo-fo<20&&(fo=Math.min(ks,xs.viewTo)),Ju&&(Js=Jc(as.doc,Js),fo=pc(as.doc,fo));var wo=Js!=xs.viewFrom||fo!=xs.viewTo||xs.lastWrapHeight!=ds.wrapperHeight||xs.lastWrapWidth!=ds.wrapperWidth;oA(as,Js,fo),xs.viewOffset=Zc(Cl(as.doc,xs.viewFrom)),as.display.mover.style.top=xs.viewOffset+"px";var Lo=jf(as);if(!wo&&Lo==0&&!ds.force&&xs.renderedView==xs.view&&(xs.updateLineNumbers==null||xs.updateLineNumbers>=xs.viewTo))return!1;var Do=Kp(as);return Lo>4&&(xs.lineDiv.style.display="none"),zg(as,xs.updateLineNumbers,ds.dims),Lo>4&&(xs.lineDiv.style.display=""),xs.renderedView=xs.view,xg(Do),Ms(xs.cursorDiv),Ms(xs.selectionDiv),xs.gutters.style.height=xs.sizer.style.minHeight=0,wo&&(xs.lastWrapHeight=ds.wrapperHeight,xs.lastWrapWidth=ds.wrapperWidth,lp(as,400)),xs.updateLineNumbers=null,!0}function Xp(as,ds){for(var xs=ds.viewport,Es=!0;;Es=!1){if(!Es||!as.options.lineWrapping||ds.oldDisplayWidth==wh(as)){if(xs&&xs.top!=null&&(xs={top:Math.min(as.doc.height+DA(as.display)-Gu(as),xs.top)}),ds.visible=NA(as.display,as.doc,xs),ds.visible.from>=as.display.viewFrom&&ds.visible.to<=as.display.viewTo)break}else Es&&(ds.visible=NA(as.display,as.doc,xs));if(!Yp(as,ds))break;sp(as);var ks=wf(as);aA(as),CA(as,ks),Zp(as,ks),ds.force=!1}ds.signal(as,"update",as),(as.display.viewFrom!=as.display.reportedViewFrom||as.display.viewTo!=as.display.reportedViewTo)&&(ds.signal(as,"viewportChange",as,as.display.viewFrom,as.display.viewTo),as.display.reportedViewFrom=as.display.viewFrom,as.display.reportedViewTo=as.display.viewTo)}function cA(as,ds){var xs=new Hd(as,ds);if(Yp(as,xs)){sp(as),Xp(as,xs);var Es=wf(as);aA(as),CA(as,Es),Zp(as,Es),xs.finish()}}function zg(as,ds,xs){var Es=as.display,ks=as.options.lineNumbers,Js=Es.lineDiv,fo=Js.firstChild;function wo(ja){var Ya=ja.nextSibling;return cs&&ws&&as.display.currentWheelTarget==ja?ja.style.display="none":ja.parentNode.removeChild(ja),Ya}for(var Lo=Es.view,Do=Es.viewFrom,ra=0;ra<Lo.length;ra++){var aa=Lo[ra];if(!aa.hidden)if(!aa.node||aa.node.parentNode!=Js){var xa=vh(as,aa,Do,xs);Js.insertBefore(xa,fo)}else{for(;fo!=aa.node;)fo=wo(fo);var va=ks&&ds!=null&&ds<=Do&&aa.lineNumber;aa.changes&&(So(aa.changes,"gutter")>-1&&(va=!1),Ql(as,aa,Do,xs)),va&&(Ms(aa.lineNumber),aa.lineNumber.appendChild(document.createTextNode(Xc(as.options,Do)))),fo=aa.node.nextSibling}Do+=aa.size}for(;fo;)fo=wo(fo)}function Jp(as){var ds=as.gutters.offsetWidth;as.sizer.style.marginLeft=ds+"px",za(as,"gutterChanged",as)}function Zp(as,ds){as.display.sizer.style.minHeight=ds.docHeight+"px",as.display.heightForcer.style.top=ds.docHeight+"px",as.display.gutters.style.height=ds.docHeight+as.display.barHeight+ed(as)+"px"}function Sg(as){var ds=as.display,xs=ds.view;if(!(!ds.alignWidgets&&(!ds.gutters.firstChild||!as.options.fixedGutter))){for(var Es=Pc(ds)-ds.scroller.scrollLeft+as.doc.scrollLeft,ks=ds.gutters.offsetWidth,Js=Es+"px",fo=0;fo<xs.length;fo++)if(!xs[fo].hidden){as.options.fixedGutter&&(xs[fo].gutter&&(xs[fo].gutter.style.left=Js),xs[fo].gutterBackground&&(xs[fo].gutterBackground.style.left=Js));var wo=xs[fo].alignable;if(wo)for(var Lo=0;Lo<wo.length;Lo++)wo[Lo].style.left=Js}as.options.fixedGutter&&(ds.gutters.style.left=Es+ks+"px")}}function Tg(as){if(!as.options.lineNumbers)return!1;var ds=as.doc,xs=Xc(as.options,ds.first+ds.size-1),Es=as.display;if(xs.length!=Es.lineNumChars){var ks=Es.measure.appendChild(Ds("div",[Ds("div",xs)],"CodeMirror-linenumber CodeMirror-gutter-elt")),Js=ks.firstChild.offsetWidth,fo=ks.offsetWidth-Js;return Es.lineGutter.style.width="",Es.lineNumInnerWidth=Math.max(Js,Es.lineGutter.offsetWidth-fo)+1,Es.lineNumWidth=Es.lineNumInnerWidth+fo,Es.lineNumChars=Es.lineNumInnerWidth?xs.length:-1,Es.lineGutter.style.width=Es.lineNumWidth+"px",Jp(as.display),!0}return!1}function qd(as,ds){for(var xs=[],Es=!1,ks=0;ks<as.length;ks++){var Js=as[ks],fo=null;if(typeof Js!="string"&&(fo=Js.style,Js=Js.className),Js=="CodeMirror-linenumbers")if(ds)Es=!0;else continue;xs.push({className:Js,style:fo})}return ds&&!Es&&xs.push({className:"CodeMirror-linenumbers",style:null}),xs}function cp(as){var ds=as.gutters,xs=as.gutterSpecs;Ms(ds),as.lineGutter=null;for(var Es=0;Es<xs.length;++Es){var ks=xs[Es],Js=ks.className,fo=ks.style,wo=ds.appendChild(Ds("div",null,"CodeMirror-gutter "+Js));fo&&(wo.style.cssText=fo),Js=="CodeMirror-linenumbers"&&(as.lineGutter=wo,wo.style.width=(as.lineNumWidth||1)+"px")}ds.style.display=xs.length?"":"none",Jp(as)}function zf(as){cp(as.display),Uc(as),Sg(as)}function qg(as,ds,xs,Es){var ks=this;this.input=xs,ks.scrollbarFiller=Ds("div",null,"CodeMirror-scrollbar-filler"),ks.scrollbarFiller.setAttribute("cm-not-content","true"),ks.gutterFiller=Ds("div",null,"CodeMirror-gutter-filler"),ks.gutterFiller.setAttribute("cm-not-content","true"),ks.lineDiv=_s("div",null,"CodeMirror-code"),ks.selectionDiv=Ds("div",null,null,"position: relative; z-index: 1"),ks.cursorDiv=Ds("div",null,"CodeMirror-cursors"),ks.measure=Ds("div",null,"CodeMirror-measure"),ks.lineMeasure=Ds("div",null,"CodeMirror-measure"),ks.lineSpace=_s("div",[ks.measure,ks.lineMeasure,ks.selectionDiv,ks.cursorDiv,ks.lineDiv],null,"position: relative; outline: none");var Js=_s("div",[ks.lineSpace],"CodeMirror-lines");ks.mover=Ds("div",[Js],null,"position: relative"),ks.sizer=Ds("div",[ks.mover],"CodeMirror-sizer"),ks.sizerWidth=null,ks.heightForcer=Ds("div",null,null,"position: absolute; height: "+ro+"px; width: 1px;"),ks.gutters=Ds("div",null,"CodeMirror-gutters"),ks.lineGutter=null,ks.scroller=Ds("div",[ks.sizer,ks.heightForcer,ks.gutters],"CodeMirror-scroll"),ks.scroller.setAttribute("tabIndex","-1"),ks.wrapper=Ds("div",[ks.scrollbarFiller,ks.gutterFiller,ks.scroller],"CodeMirror"),us&&As>=105&&(ks.wrapper.style.clipPath="inset(0px)"),ks.wrapper.setAttribute("translate","no"),os&&ls<8&&(ks.gutters.style.zIndex=-1,ks.scroller.style.paddingRight=0),!cs&&!(rs&&gs)&&(ks.scroller.draggable=!0),as&&(as.appendChild?as.appendChild(ks.wrapper):as(ks.wrapper)),ks.viewFrom=ks.viewTo=ds.first,ks.reportedViewFrom=ks.reportedViewTo=ds.first,ks.view=[],ks.renderedView=null,ks.externalMeasured=null,ks.viewOffset=0,ks.lastWrapHeight=ks.lastWrapWidth=0,ks.updateLineNumbers=null,ks.nativeBarWidth=ks.barHeight=ks.barWidth=0,ks.scrollbarsClipped=!1,ks.lineNumWidth=ks.lineNumInnerWidth=ks.lineNumChars=null,ks.alignWidgets=!1,ks.cachedCharWidth=ks.cachedTextHeight=ks.cachedPaddingH=null,ks.maxLine=null,ks.maxLineLength=0,ks.maxLineChanged=!1,ks.wheelDX=ks.wheelDY=ks.wheelStartX=ks.wheelStartY=null,ks.shift=!1,ks.selForContextMenu=null,ks.activeTouch=null,ks.gutterSpecs=qd(Es.gutters,Es.lineNumbers),cp(ks),xs.init(ks)}var up=0,Os=null;os?Os=-.53:rs?Os=15:us?Os=-.7:ys&&(Os=-1/3);function Ks(as){var ds=as.wheelDeltaX,xs=as.wheelDeltaY;return ds==null&&as.detail&&as.axis==as.HORIZONTAL_AXIS&&(ds=as.detail),xs==null&&as.detail&&as.axis==as.VERTICAL_AXIS?xs=as.detail:xs==null&&(xs=as.wheelDelta),{x:ds,y:xs}}function ho(as){var ds=Ks(as);return ds.x*=Os,ds.y*=Os,ds}function xo(as,ds){us&&As==102&&(as.display.chromeScrollHack==null?as.display.sizer.style.pointerEvents="none":clearTimeout(as.display.chromeScrollHack),as.display.chromeScrollHack=setTimeout(function(){as.display.chromeScrollHack=null,as.display.sizer.style.pointerEvents=""},100));var xs=Ks(ds),Es=xs.x,ks=xs.y,Js=Os;ds.deltaMode===0&&(Es=ds.deltaX,ks=ds.deltaY,Js=1);var fo=as.display,wo=fo.scroller,Lo=wo.scrollWidth>wo.clientWidth,Do=wo.scrollHeight>wo.clientHeight;if(Es&&Lo||ks&&Do){if(ks&&ws&&cs){e:for(var ra=ds.target,aa=fo.view;ra!=wo;ra=ra.parentNode)for(var xa=0;xa<aa.length;xa++)if(aa[xa].node==ra){as.display.currentWheelTarget=ra;break e}}if(Es&&!rs&&!bs&&Js!=null){ks&&Do&&bf(as,Math.max(0,wo.scrollTop+ks*Js)),md(as,Math.max(0,wo.scrollLeft+Es*Js)),(!ks||ks&&Do)&&El(ds),fo.wheelStartX=null;return}if(ks&&Js!=null){var va=ks*Js,ja=as.doc.scrollTop,Ya=ja+fo.wrapper.clientHeight;va<0?ja=Math.max(0,ja+va-50):Ya=Math.min(as.doc.height,Ya+va+50),cA(as,{top:ja,bottom:Ya})}up<20&&ds.deltaMode!==0&&(fo.wheelStartX==null?(fo.wheelStartX=wo.scrollLeft,fo.wheelStartY=wo.scrollTop,fo.wheelDX=Es,fo.wheelDY=ks,setTimeout(function(){if(fo.wheelStartX!=null){var ol=wo.scrollLeft-fo.wheelStartX,dl=wo.scrollTop-fo.wheelStartY,ml=dl&&fo.wheelDY&&dl/fo.wheelDY||ol&&fo.wheelDX&&ol/fo.wheelDX;fo.wheelStartX=fo.wheelStartY=null,ml&&(Os=(Os*up+ml)/(up+1),++up)}},200)):(fo.wheelDX+=Es,fo.wheelDY+=ks))}}var Mo=function(as,ds){this.ranges=as,this.primIndex=ds};Mo.prototype.primary=function(){return this.ranges[this.primIndex]},Mo.prototype.equals=function(as){if(as==this)return!0;if(as.primIndex!=this.primIndex||as.ranges.length!=this.ranges.length)return!1;for(var ds=0;ds<this.ranges.length;ds++){var xs=this.ranges[ds],Es=as.ranges[ds];if(!Ou(xs.anchor,Es.anchor)||!Ou(xs.head,Es.head))return!1}return!0},Mo.prototype.deepCopy=function(){for(var as=[],ds=0;ds<this.ranges.length;ds++)as[ds]=new Ro(Nu(this.ranges[ds].anchor),Nu(this.ranges[ds].head));return new Mo(as,this.primIndex)},Mo.prototype.somethingSelected=function(){for(var as=0;as<this.ranges.length;as++)if(!this.ranges[as].empty())return!0;return!1},Mo.prototype.contains=function(as,ds){ds||(ds=as);for(var xs=0;xs<this.ranges.length;xs++){var Es=this.ranges[xs];if(zl(ds,Es.from())>=0&&zl(as,Es.to())<=0)return xs}return-1};var Ro=function(as,ds){this.anchor=as,this.head=ds};Ro.prototype.from=function(){return Go(this.anchor,this.head)},Ro.prototype.to=function(){return Ad(this.anchor,this.head)},Ro.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function $o(as,ds,xs){var Es=as&&as.options.selectionsMayTouch,ks=ds[xs];ds.sort(function(xa,va){return zl(xa.from(),va.from())}),xs=So(ds,ks);for(var Js=1;Js<ds.length;Js++){var fo=ds[Js],wo=ds[Js-1],Lo=zl(wo.to(),fo.from());if(Es&&!fo.empty()?Lo>0:Lo>=0){var Do=Go(wo.from(),fo.from()),ra=Ad(wo.to(),fo.to()),aa=wo.empty()?fo.from()==fo.head:wo.from()==wo.head;Js<=xs&&--xs,ds.splice(--Js,2,new Ro(aa?ra:Do,aa?Do:ra))}}return new Mo(ds,xs)}function zo(as,ds){return new Mo([new Ro(as,ds||as)],0)}function Ko(as){return as.text?Xa(as.from.line+as.text.length-1,ko(as.text).length+(as.text.length==1?as.from.ch:0)):as.to}function ia(as,ds){if(zl(as,ds.from)<0)return as;if(zl(as,ds.to)<=0)return Ko(ds);var xs=as.line+ds.text.length-(ds.to.line-ds.from.line)-1,Es=as.ch;return as.line==ds.to.line&&(Es+=Ko(ds).ch-ds.to.ch),Xa(xs,Es)}function fa(as,ds){for(var xs=[],Es=0;Es<as.sel.ranges.length;Es++){var ks=as.sel.ranges[Es];xs.push(new Ro(ia(ks.anchor,ds),ia(ks.head,ds)))}return $o(as.cm,xs,as.sel.primIndex)}function Pa(as,ds,xs){return as.line==ds.line?Xa(xs.line,as.ch-ds.ch+xs.ch):Xa(xs.line+(as.line-ds.line),as.ch)}function Ma(as,ds,xs){for(var Es=[],ks=Xa(as.first,0),Js=ks,fo=0;fo<ds.length;fo++){var wo=ds[fo],Lo=Pa(wo.from,ks,Js),Do=Pa(Ko(wo),ks,Js);if(ks=wo.to,Js=Do,xs=="around"){var ra=as.sel.ranges[fo],aa=zl(ra.head,ra.anchor)<0;Es[fo]=new Ro(aa?Do:Lo,aa?Lo:Do)}else Es[fo]=new Ro(Lo,Lo)}return new Mo(Es,as.sel.primIndex)}function pa(as){as.doc.mode=Yl(as.options,as.doc.modeOption),Ga(as)}function Ga(as){as.doc.iter(function(ds){ds.stateAfter&&(ds.stateAfter=null),ds.styles&&(ds.styles=null)}),as.doc.modeFrontier=as.doc.highlightFrontier=as.doc.first,lp(as,100),as.state.modeGen++,as.curOp&&Uc(as)}function Ha(as,ds){return ds.from.ch==0&&ds.to.ch==0&&ko(ds.text)==""&&(!as.cm||as.cm.options.wholeLineUpdateBefore)}function da(as,ds,xs,Es){function ks(ml){return xs?xs[ml]:null}function Js(ml,Al,Sl){iA(ml,Al,Sl,Es),za(ml,"change",ml,ds)}function fo(ml,Al){for(var Sl=[],Hl=ml;Hl<Al;++Hl)Sl.push(new Zh(Do[Hl],ks(Hl),Es));return Sl}var wo=ds.from,Lo=ds.to,Do=ds.text,ra=Cl(as,wo.line),aa=Cl(as,Lo.line),xa=ko(Do),va=ks(Do.length-1),ja=Lo.line-wo.line;if(ds.full)as.insert(0,fo(0,Do.length)),as.remove(Do.length,as.size-Do.length);else if(Ha(as,ds)){var Ya=fo(0,Do.length-1);Js(aa,aa.text,va),ja&&as.remove(wo.line,ja),Ya.length&&as.insert(wo.line,Ya)}else if(ra==aa)if(Do.length==1)Js(ra,ra.text.slice(0,wo.ch)+xa+ra.text.slice(Lo.ch),va);else{var ol=fo(1,Do.length-1);ol.push(new Zh(xa+ra.text.slice(Lo.ch),va,Es)),Js(ra,ra.text.slice(0,wo.ch)+Do[0],ks(0)),as.insert(wo.line+1,ol)}else if(Do.length==1)Js(ra,ra.text.slice(0,wo.ch)+Do[0]+aa.text.slice(Lo.ch),ks(0)),as.remove(wo.line+1,ja);else{Js(ra,ra.text.slice(0,wo.ch)+Do[0],ks(0)),Js(aa,xa+aa.text.slice(Lo.ch),va);var dl=fo(1,Do.length-1);ja>1&&as.remove(wo.line+1,ja-1),as.insert(wo.line+1,dl)}za(as,"change",as,ds)}function wa(as,ds,xs){function Es(ks,Js,fo){if(ks.linked)for(var wo=0;wo<ks.linked.length;++wo){var Lo=ks.linked[wo];if(Lo.doc!=Js){var Do=fo&&Lo.sharedHist;xs&&!Do||(ds(Lo.doc,Do),Es(Lo.doc,ks,Do))}}}Es(as,null,!0)}function Ka(as,ds){if(ds.cm)throw new Error("This document is already in use.");as.doc=ds,ds.cm=as,sd(as),pa(as),el(as),as.options.direction=ds.direction,as.options.lineWrapping||mh(as),as.options.mode=ds.modeOption,Uc(as)}function el(as){(as.doc.direction=="rtl"?Zs:Is)(as.display.lineDiv,"CodeMirror-rtl")}function qa(as){lh(as,function(){el(as),Uc(as)})}function bl(as){this.done=[],this.undone=[],this.undoDepth=as?as.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=as?as.maxGeneration:1}function hl(as,ds){var xs={from:Nu(ds.from),to:Ko(ds),text:Lh(as,ds.from,ds.to)};return gu(as,xs,ds.from.line,ds.to.line+1),wa(as,function(Es){return gu(Es,xs,ds.from.line,ds.to.line+1)},!0),xs}function Ol(as){for(;as.length;){var ds=ko(as);if(ds.ranges)as.pop();else break}}function vl(as,ds){if(ds)return Ol(as.done),ko(as.done);if(as.done.length&&!ko(as.done).ranges)return ko(as.done);if(as.done.length>1&&!as.done[as.done.length-2].ranges)return as.done.pop(),ko(as.done)}function Gc(as,ds,xs,Es){var ks=as.history;ks.undone.length=0;var Js=+new Date,fo,wo;if((ks.lastOp==Es||ks.lastOrigin==ds.origin&&ds.origin&&(ds.origin.charAt(0)=="+"&&ks.lastModTime>Js-(as.cm?as.cm.options.historyEventDelay:500)||ds.origin.charAt(0)=="*"))&&(fo=vl(ks,ks.lastOp==Es)))wo=ko(fo.changes),zl(ds.from,ds.to)==0&&zl(ds.from,wo.to)==0?wo.to=Ko(ds):fo.changes.push(hl(as,ds));else{var Lo=ko(ks.done);for((!Lo||!Lo.ranges)&&sc(as.sel,ks.done),fo={changes:[hl(as,ds)],generation:ks.generation},ks.done.push(fo);ks.done.length>ks.undoDepth;)ks.done.shift(),ks.done[0].ranges||ks.done.shift()}ks.done.push(xs),ks.generation=++ks.maxGeneration,ks.lastModTime=ks.lastSelTime=Js,ks.lastOp=ks.lastSelOp=Es,ks.lastOrigin=ks.lastSelOrigin=ds.origin,wo||Ja(as,"historyAdded")}function iu(as,ds,xs,Es){var ks=ds.charAt(0);return ks=="*"||ks=="+"&&xs.ranges.length==Es.ranges.length&&xs.somethingSelected()==Es.somethingSelected()&&new Date-as.history.lastSelTime<=(as.cm?as.cm.options.historyEventDelay:500)}function rl(as,ds,xs,Es){var ks=as.history,Js=Es&&Es.origin;xs==ks.lastSelOp||Js&&ks.lastSelOrigin==Js&&(ks.lastModTime==ks.lastSelTime&&ks.lastOrigin==Js||iu(as,Js,ko(ks.done),ds))?ks.done[ks.done.length-1]=ds:sc(ds,ks.done),ks.lastSelTime=+new Date,ks.lastSelOrigin=Js,ks.lastSelOp=xs,Es&&Es.clearRedo!==!1&&Ol(ks.undone)}function sc(as,ds){var xs=ko(ds);xs&&xs.ranges&&xs.equals(as)||ds.push(as)}function gu(as,ds,xs,Es){var ks=ds["spans_"+as.id],Js=0;as.iter(Math.max(as.first,xs),Math.min(as.first+as.size,Es),function(fo){fo.markedSpans&&((ks||(ks=ds["spans_"+as.id]={}))[Js]=fo.markedSpans),++Js})}function hu(as){if(!as)return null;for(var ds,xs=0;xs<as.length;++xs)as[xs].marker.explicitlyCleared?ds||(ds=as.slice(0,xs)):ds&&ds.push(as[xs]);return ds?ds.length?ds:null:as}function ql(as,ds){var xs=ds["spans_"+as.id];if(!xs)return null;for(var Es=[],ks=0;ks<ds.text.length;++ks)Es.push(hu(xs[ks]));return Es}function ch(as,ds){var xs=ql(as,ds),Es=xd(as,ds);if(!xs)return Es;if(!Es)return xs;for(var ks=0;ks<xs.length;++ks){var Js=xs[ks],fo=Es[ks];if(Js&&fo)e:for(var wo=0;wo<fo.length;++wo){for(var Lo=fo[wo],Do=0;Do<Js.length;++Do)if(Js[Do].marker==Lo.marker)continue e;Js.push(Lo)}else fo&&(xs[ks]=fo)}return xs}function uh(as,ds,xs){for(var Es=[],ks=0;ks<as.length;++ks){var Js=as[ks];if(Js.ranges){Es.push(xs?Mo.prototype.deepCopy.call(Js):Js);continue}var fo=Js.changes,wo=[];Es.push({changes:wo});for(var Lo=0;Lo<fo.length;++Lo){var Do=fo[Lo],ra=void 0;if(wo.push({from:Do.from,to:Do.to,text:Do.text}),ds)for(var aa in Do)(ra=aa.match(/^spans_(\d+)$/))&&So(ds,Number(ra[1]))>-1&&(ko(wo)[aa]=Do[aa],delete Do[aa])}}return Es}function yc(as,ds,xs,Es){if(Es){var ks=as.anchor;if(xs){var Js=zl(ds,ks)<0;Js!=zl(xs,ks)<0?(ks=ds,ds=xs):Js!=zl(ds,xs)<0&&(ds=xs)}return new Ro(ks,ds)}else return new Ro(xs||ds,ds)}function eh(as,ds,xs,Es,ks){ks==null&&(ks=as.cm&&(as.cm.display.shift||as.extend)),Vc(as,new Mo([yc(as.sel.primary(),ds,xs,ks)],0),Es)}function nu(as,ds,xs){for(var Es=[],ks=as.cm&&(as.cm.display.shift||as.extend),Js=0;Js<as.sel.ranges.length;Js++)Es[Js]=yc(as.sel.ranges[Js],ds[Js],null,ks);var fo=$o(as.cm,Es,as.sel.primIndex);Vc(as,fo,xs)}function Hu(as,ds,xs,Es){var ks=as.sel.ranges.slice(0);ks[ds]=xs,Vc(as,$o(as.cm,ks,as.sel.primIndex),Es)}function ad(as,ds,xs,Es){Vc(as,zo(ds,xs),Es)}function Su(as,ds,xs){var Es={ranges:ds.ranges,update:function(ks){this.ranges=[];for(var Js=0;Js<ks.length;Js++)this.ranges[Js]=new Ro(Ta(as,ks[Js].anchor),Ta(as,ks[Js].head))},origin:xs&&xs.origin};return Ja(as,"beforeSelectionChange",as,Es),as.cm&&Ja(as.cm,"beforeSelectionChange",as.cm,Es),Es.ranges!=ds.ranges?$o(as.cm,Es.ranges,Es.ranges.length-1):ds}function Fu(as,ds,xs){var Es=as.history.done,ks=ko(Es);ks&&ks.ranges?(Es[Es.length-1]=ds,mu(as,ds,xs)):Vc(as,ds,xs)}function Vc(as,ds,xs){mu(as,ds,xs),rl(as,as.sel,as.cm?as.cm.curOp.id:NaN,xs)}function mu(as,ds,xs){(nl(as,"beforeSelectionChange")||as.cm&&nl(as.cm,"beforeSelectionChange"))&&(ds=Su(as,ds,xs));var Es=xs&&xs.bias||(zl(ds.primary().head,as.sel.primary().head)<0?-1:1);Id(as,Gd(as,ds,Es,!0)),!(xs&&xs.scroll===!1)&&as.cm&&as.cm.getOption("readOnly")!="nocursor"&&Uu(as.cm)}function Id(as,ds){ds.equals(as.sel)||(as.sel=ds,as.cm&&(as.cm.curOp.updateInput=1,as.cm.curOp.selectionChanged=!0,Na(as.cm)),za(as,"cursorActivity",as))}function xh(as){Id(as,Gd(as,as.sel,null,!1))}function Gd(as,ds,xs,Es){for(var ks,Js=0;Js<ds.ranges.length;Js++){var fo=ds.ranges[Js],wo=ds.ranges.length==as.sel.ranges.length&&as.sel.ranges[Js],Lo=uA(as,fo.anchor,wo&&wo.anchor,xs,Es),Do=fo.head==fo.anchor?Lo:uA(as,fo.head,wo&&wo.head,xs,Es);(ks||Lo!=fo.anchor||Do!=fo.head)&&(ks||(ks=ds.ranges.slice(0,Js)),ks[Js]=new Ro(Lo,Do))}return ks?$o(as.cm,ks,ds.primIndex):ds}function Kd(as,ds,xs,Es,ks){var Js=Cl(as,ds.line);if(Js.markedSpans)for(var fo=0;fo<Js.markedSpans.length;++fo){var wo=Js.markedSpans[fo],Lo=wo.marker,Do="selectLeft"in Lo?!Lo.selectLeft:Lo.inclusiveLeft,ra="selectRight"in Lo?!Lo.selectRight:Lo.inclusiveRight;if((wo.from==null||(Do?wo.from<=ds.ch:wo.from<ds.ch))&&(wo.to==null||(ra?wo.to>=ds.ch:wo.to>ds.ch))){if(ks&&(Ja(Lo,"beforeCursorEnter"),Lo.explicitlyCleared))if(Js.markedSpans){--fo;continue}else break;if(!Lo.atomic)continue;if(xs){var aa=Lo.find(Es<0?1:-1),xa=void 0;if((Es<0?ra:Do)&&(aa=UA(as,aa,-Es,aa&&aa.line==ds.line?Js:null)),aa&&aa.line==ds.line&&(xa=zl(aa,xs))&&(Es<0?xa<0:xa>0))return Kd(as,aa,ds,Es,ks)}var va=Lo.find(Es<0?-1:1);return(Es<0?Do:ra)&&(va=UA(as,va,Es,va.line==ds.line?Js:null)),va?Kd(as,va,ds,Es,ks):null}}return ds}function uA(as,ds,xs,Es,ks){var Js=Es||1,fo=Kd(as,ds,xs,Js,ks)||!ks&&Kd(as,ds,xs,Js,!0)||Kd(as,ds,xs,-Js,ks)||!ks&&Kd(as,ds,xs,-Js,!0);return fo||(as.cantEdit=!0,Xa(as.first,0))}function UA(as,ds,xs,Es){return xs<0&&ds.ch==0?ds.line>as.first?Ta(as,Xa(ds.line-1)):null:xs>0&&ds.ch==(Es||Cl(as,ds.line)).text.length?ds.line<as.first+as.size-1?Xa(ds.line+1,0):null:new Xa(ds.line,ds.ch+xs)}function Tu(as){as.setSelection(Xa(as.firstLine(),0),Xa(as.lastLine()),Eo)}function hp(as,ds,xs){var Es={canceled:!1,from:ds.from,to:ds.to,text:ds.text,origin:ds.origin,cancel:function(){return Es.canceled=!0}};return xs&&(Es.update=function(ks,Js,fo,wo){ks&&(Es.from=Ta(as,ks)),Js&&(Es.to=Ta(as,Js)),fo&&(Es.text=fo),wo!==void 0&&(Es.origin=wo)}),Ja(as,"beforeChange",as,Es),as.cm&&Ja(as.cm,"beforeChange",as.cm,Es),Es.canceled?(as.cm&&(as.cm.curOp.updateInput=2),null):{from:Es.from,to:Es.to,text:Es.text,origin:Es.origin}}function Ef(as,ds,xs){if(as.cm){if(!as.cm.curOp)return ru(as.cm,Ef)(as,ds,xs);if(as.cm.state.suppressEdits)return}if(!((nl(as,"beforeChange")||as.cm&&nl(as.cm,"beforeChange"))&&(ds=hp(as,ds,!0),!ds))){var Es=pd&&!xs&&Of(as,ds.from,ds.to);if(Es)for(var ks=Es.length-1;ks>=0;--ks)eg(as,{from:Es[ks].from,to:Es[ks].to,text:ks?[""]:ds.text,origin:ds.origin});else eg(as,ds)}}function eg(as,ds){if(!(ds.text.length==1&&ds.text[0]==""&&zl(ds.from,ds.to)==0)){var xs=fa(as,ds);Gc(as,ds,xs,as.cm?as.cm.curOp.id:NaN),tf(as,ds,xs,xd(as,ds));var Es=[];wa(as,function(ks,Js){!Js&&So(Es,ks.history)==-1&&(nf(ks.history,ds),Es.push(ks.history)),tf(ks,ds,null,xd(ks,ds))})}}function hA(as,ds,xs){var Es=as.cm&&as.cm.state.suppressEdits;if(!(Es&&!xs)){for(var ks=as.history,Js,fo=as.sel,wo=ds=="undo"?ks.done:ks.undone,Lo=ds=="undo"?ks.undone:ks.done,Do=0;Do<wo.length&&(Js=wo[Do],!(xs?Js.ranges&&!Js.equals(as.sel):!Js.ranges));Do++);if(Do!=wo.length){for(ks.lastOrigin=ks.lastSelOrigin=null;;)if(Js=wo.pop(),Js.ranges){if(sc(Js,Lo),xs&&!Js.equals(as.sel)){Vc(as,Js,{clearRedo:!1});return}fo=Js}else if(Es){wo.push(Js);return}else break;var ra=[];sc(fo,Lo),Lo.push({changes:ra,generation:ks.generation}),ks.generation=Js.generation||++ks.maxGeneration;for(var aa=nl(as,"beforeChange")||as.cm&&nl(as.cm,"beforeChange"),xa=function(Ya){var ol=Js.changes[Ya];if(ol.origin=ds,aa&&!hp(as,ol,!1))return wo.length=0,{};ra.push(hl(as,ol));var dl=Ya?fa(as,ol):ko(wo);tf(as,ol,dl,ch(as,ol)),!Ya&&as.cm&&as.cm.scrollIntoView({from:ol.from,to:Ko(ol)});var ml=[];wa(as,function(Al,Sl){!Sl&&So(ml,Al.history)==-1&&(nf(Al.history,ol),ml.push(Al.history)),tf(Al,ol,null,ch(Al,ol))})},va=Js.changes.length-1;va>=0;--va){var ja=xa(va);if(ja)return ja.v}}}}function xf(as,ds){if(ds!=0&&(as.first+=ds,as.sel=new Mo(Qo(as.sel.ranges,function(ks){return new Ro(Xa(ks.anchor.line+ds,ks.anchor.ch),Xa(ks.head.line+ds,ks.head.ch))}),as.sel.primIndex),as.cm)){Uc(as.cm,as.first,as.first-ds,ds);for(var xs=as.cm.display,Es=xs.viewFrom;Es<xs.viewTo;Es++)pu(as.cm,Es,"gutter")}}function tf(as,ds,xs,Es){if(as.cm&&!as.cm.curOp)return ru(as.cm,tf)(as,ds,xs,Es);if(ds.to.line<as.first){xf(as,ds.text.length-1-(ds.to.line-ds.from.line));return}if(!(ds.from.line>as.lastLine())){if(ds.from.line<as.first){var ks=ds.text.length-1-(as.first-ds.from.line);xf(as,ks),ds={from:Xa(as.first,0),to:Xa(ds.to.line+ks,ds.to.ch),text:[ko(ds.text)],origin:ds.origin}}var Js=as.lastLine();ds.to.line>Js&&(ds={from:ds.from,to:Xa(Js,Cl(as,Js).text.length),text:[ds.text[0]],origin:ds.origin}),ds.removed=Lh(as,ds.from,ds.to),xs||(xs=fa(as,ds)),as.cm?jd(as.cm,ds,Es):da(as,ds,Es),mu(as,xs,Eo),as.cantEdit&&uA(as,Xa(as.firstLine(),0))&&(as.cantEdit=!1)}}function jd(as,ds,xs){var Es=as.doc,ks=as.display,Js=ds.from,fo=ds.to,wo=!1,Lo=Js.line;as.options.lineWrapping||(Lo=nc(ll(Cl(Es,Js.line))),Es.iter(Lo,fo.line+1,function(va){if(va==ks.maxLine)return wo=!0,!0})),Es.sel.contains(ds.from,ds.to)>-1&&Na(as),da(Es,ds,xs,Ld(as)),as.options.lineWrapping||(Es.iter(Lo,Js.line+ds.text.length,function(va){var ja=Pd(va);ja>ks.maxLineLength&&(ks.maxLine=va,ks.maxLineLength=ja,ks.maxLineChanged=!0,wo=!1)}),wo&&(as.curOp.updateMaxLine=!0)),Iu(Es,Js.line),lp(as,400);var Do=ds.text.length-(fo.line-Js.line)-1;ds.full?Uc(as):Js.line==fo.line&&ds.text.length==1&&!Ha(as.doc,ds)?pu(as,Js.line,"text"):Uc(as,Js.line,fo.line+1,Do);var ra=nl(as,"changes"),aa=nl(as,"change");if(aa||ra){var xa={from:Js,to:fo,text:ds.text,removed:ds.removed,origin:ds.origin};aa&&za(as,"change",as,xa),ra&&(as.curOp.changeObjs||(as.curOp.changeObjs=[])).push(xa)}as.display.selForContextMenu=null}function Yd(as,ds,xs,Es,ks){var Js;Es||(Es=xs),zl(Es,xs)<0&&(Js=[Es,xs],xs=Js[0],Es=Js[1]),typeof ds=="string"&&(ds=as.splitLines(ds)),Ef(as,{from:xs,to:Es,text:ds,origin:ks})}function rf(as,ds,xs,Es){xs<as.line?as.line+=Es:ds<as.line&&(as.line=ds,as.ch=0)}function tg(as,ds,xs,Es){for(var ks=0;ks<as.length;++ks){var Js=as[ks],fo=!0;if(Js.ranges){Js.copied||(Js=as[ks]=Js.deepCopy(),Js.copied=!0);for(var wo=0;wo<Js.ranges.length;wo++)rf(Js.ranges[wo].anchor,ds,xs,Es),rf(Js.ranges[wo].head,ds,xs,Es);continue}for(var Lo=0;Lo<Js.changes.length;++Lo){var Do=Js.changes[Lo];if(xs<Do.from.line)Do.from=Xa(Do.from.line+Es,Do.from.ch),Do.to=Xa(Do.to.line+Es,Do.to.ch);else if(ds<=Do.to.line){fo=!1;break}}fo||(as.splice(0,ks+1),ks=0)}}function nf(as,ds){var xs=ds.from.line,Es=ds.to.line,ks=ds.text.length-(Es-xs)-1;tg(as.done,xs,Es,ks),tg(as.undone,xs,Es,ks)}function Sf(as,ds,xs,Es){var ks=ds,Js=ds;return typeof ds=="number"?Js=Cl(as,ba(as,ds)):ks=nc(ds),ks==null?null:(Es(Js,ks)&&as.cm&&pu(as.cm,ks,xs),Js)}function Xd(as){this.lines=as,this.parent=null;for(var ds=0,xs=0;xs<as.length;++xs)as[xs].parent=this,ds+=as[xs].height;this.height=ds}Xd.prototype={chunkSize:function(){return this.lines.length},removeInner:function(as,ds){for(var xs=as,Es=as+ds;xs<Es;++xs){var ks=this.lines[xs];this.height-=ks.height,Wh(ks),za(ks,"delete")}this.lines.splice(as,ds)},collapse:function(as){as.push.apply(as,this.lines)},insertInner:function(as,ds,xs){this.height+=xs,this.lines=this.lines.slice(0,as).concat(ds).concat(this.lines.slice(as));for(var Es=0;Es<ds.length;++Es)ds[Es].parent=this},iterN:function(as,ds,xs){for(var Es=as+ds;as<Es;++as)if(xs(this.lines[as]))return!0}};function HA(as){this.children=as;for(var ds=0,xs=0,Es=0;Es<as.length;++Es){var ks=as[Es];ds+=ks.chunkSize(),xs+=ks.height,ks.parent=this}this.size=ds,this.height=xs,this.parent=null}HA.prototype={chunkSize:function(){return this.size},removeInner:function(as,ds){this.size-=ds;for(var xs=0;xs<this.children.length;++xs){var Es=this.children[xs],ks=Es.chunkSize();if(as<ks){var Js=Math.min(ds,ks-as),fo=Es.height;if(Es.removeInner(as,Js),this.height-=fo-Es.height,ks==Js&&(this.children.splice(xs--,1),Es.parent=null),(ds-=Js)==0)break;as=0}else as-=ks}if(this.size-ds<25&&(this.children.length>1||!(this.children[0]instanceof Xd))){var wo=[];this.collapse(wo),this.children=[new Xd(wo)],this.children[0].parent=this}},collapse:function(as){for(var ds=0;ds<this.children.length;++ds)this.children[ds].collapse(as)},insertInner:function(as,ds,xs){this.size+=ds.length,this.height+=xs;for(var Es=0;Es<this.children.length;++Es){var ks=this.children[Es],Js=ks.chunkSize();if(as<=Js){if(ks.insertInner(as,ds,xs),ks.lines&&ks.lines.length>50){for(var fo=ks.lines.length%25+25,wo=fo;wo<ks.lines.length;){var Lo=new Xd(ks.lines.slice(wo,wo+=25));ks.height-=Lo.height,this.children.splice(++Es,0,Lo),Lo.parent=this}ks.lines=ks.lines.slice(0,fo),this.maybeSpill()}break}as-=Js}},maybeSpill:function(){if(!(this.children.length<=10)){var as=this;do{var ds=as.children.splice(as.children.length-5,5),xs=new HA(ds);if(as.parent){as.size-=xs.size,as.height-=xs.height;var ks=So(as.parent.children,as);as.parent.children.splice(ks+1,0,xs)}else{var Es=new HA(as.children);Es.parent=as,as.children=[Es,xs],as=Es}xs.parent=as.parent}while(as.children.length>10);as.parent.maybeSpill()}},iterN:function(as,ds,xs){for(var Es=0;Es<this.children.length;++Es){var ks=this.children[Es],Js=ks.chunkSize();if(as<Js){var fo=Math.min(ds,Js-as);if(ks.iterN(as,fo,xs))return!0;if((ds-=fo)==0)break;as=0}else as-=Js}}};var dA=function(as,ds,xs){if(xs)for(var Es in xs)xs.hasOwnProperty(Es)&&(this[Es]=xs[Es]);this.doc=as,this.node=ds};dA.prototype.clear=function(){var as=this.doc.cm,ds=this.line.widgets,xs=this.line,Es=nc(xs);if(!(Es==null||!ds)){for(var ks=0;ks<ds.length;++ks)ds[ks]==this&&ds.splice(ks--,1);ds.length||(xs.widgets=null);var Js=Wd(this);Fh(xs,Math.max(0,xs.height-Js)),as&&(lh(as,function(){sf(as,xs,-Js),pu(as,Es,"widget")}),za(as,"lineWidgetCleared",as,this,Es))}},dA.prototype.changed=function(){var as=this,ds=this.height,xs=this.doc.cm,Es=this.line;this.height=null;var ks=Wd(this)-ds;ks&&($l(this.doc,Es)||Fh(Es,Es.height+ks),xs&&lh(xs,function(){xs.curOp.forceUpdate=!0,sf(xs,Es,ks),za(xs,"lineWidgetChanged",xs,as,nc(Es))}))},Wl(dA);function sf(as,ds,xs){Zc(ds)<(as.curOp&&as.curOp.scrollTop||as.doc.scrollTop)&&Fp(as,xs)}function Bg(as,ds,xs,Es){var ks=new dA(as,xs,Es),Js=as.cm;return Js&&ks.noHScroll&&(Js.display.alignWidgets=!0),Sf(as,ds,"widget",function(fo){var wo=fo.widgets||(fo.widgets=[]);if(ks.insertAt==null?wo.push(ks):wo.splice(Math.min(wo.length,Math.max(0,ks.insertAt)),0,ks),ks.line=fo,Js&&!$l(as,fo)){var Lo=Zc(fo)<as.scrollTop;Fh(fo,fo.height+Wd(ks)),Lo&&Fp(Js,ks.height),Js.curOp.forceUpdate=!0}return!0}),Js&&za(Js,"lineWidgetAdded",Js,ks,typeof ds=="number"?ds:nc(ds)),ks}var Dp=0,vd=function(as,ds){this.lines=[],this.type=ds,this.doc=as,this.id=++Dp};vd.prototype.clear=function(){if(!this.explicitlyCleared){var as=this.doc.cm,ds=as&&!as.curOp;if(ds&&Kh(as),nl(this,"clear")){var xs=this.find();xs&&za(this,"clear",xs.from,xs.to)}for(var Es=null,ks=null,Js=0;Js<this.lines.length;++Js){var fo=this.lines[Js],wo=Lu(fo.markedSpans,this);as&&!this.collapsed?pu(as,nc(fo),"text"):as&&(wo.to!=null&&(ks=nc(fo)),wo.from!=null&&(Es=nc(fo))),fo.markedSpans=LA(fo.markedSpans,wo),wo.from==null&&this.collapsed&&!$l(this.doc,fo)&&as&&Fh(fo,Gh(as.display))}if(as&&this.collapsed&&!as.options.lineWrapping)for(var Lo=0;Lo<this.lines.length;++Lo){var Do=ll(this.lines[Lo]),ra=Pd(Do);ra>as.display.maxLineLength&&(as.display.maxLine=Do,as.display.maxLineLength=ra,as.display.maxLineChanged=!0)}Es!=null&&as&&this.collapsed&&Uc(as,Es,ks+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,as&&xh(as.doc)),as&&za(as,"markerCleared",as,this,Es,ks),ds&&Uh(as),this.parent&&this.parent.clear()}},vd.prototype.find=function(as,ds){as==null&&this.type=="bookmark"&&(as=1);for(var xs,Es,ks=0;ks<this.lines.length;++ks){var Js=this.lines[ks],fo=Lu(Js.markedSpans,this);if(fo.from!=null&&(xs=Xa(ds?Js:nc(Js),fo.from),as==-1))return xs;if(fo.to!=null&&(Es=Xa(ds?Js:nc(Js),fo.to),as==1))return Es}return xs&&{from:xs,to:Es}},vd.prototype.changed=function(){var as=this,ds=this.find(-1,!0),xs=this,Es=this.doc.cm;!ds||!Es||lh(Es,function(){var ks=ds.line,Js=nc(ds.line),fo=Dh(Es,Js);if(fo&&(qh(fo),Es.curOp.selectionChanged=Es.curOp.forceUpdate=!0),Es.curOp.updateMaxLine=!0,!$l(xs.doc,ks)&&xs.height!=null){var wo=xs.height;xs.height=null;var Lo=Wd(xs)-wo;Lo&&Fh(ks,ks.height+Lo)}za(Es,"markerChanged",Es,as)})},vd.prototype.attachLine=function(as){if(!this.lines.length&&this.doc.cm){var ds=this.doc.cm.curOp;(!ds.maybeHiddenMarkers||So(ds.maybeHiddenMarkers,this)==-1)&&(ds.maybeUnhiddenMarkers||(ds.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(as)},vd.prototype.detachLine=function(as){if(this.lines.splice(So(this.lines,as),1),!this.lines.length&&this.doc.cm){var ds=this.doc.cm.curOp;(ds.maybeHiddenMarkers||(ds.maybeHiddenMarkers=[])).push(this)}},Wl(vd);function yd(as,ds,xs,Es,ks){if(Es&&Es.shared)return rg(as,ds,xs,Es,ks);if(as.cm&&!as.cm.curOp)return ru(as.cm,yd)(as,ds,xs,Es,ks);var Js=new vd(as,ks),fo=zl(ds,xs);if(Es&&Xs(Es,Js,!1),fo>0||fo==0&&Js.clearWhenEmpty!==!1)return Js;if(Js.replacedWith&&(Js.collapsed=!0,Js.widgetNode=_s("span",[Js.replacedWith],"CodeMirror-widget"),Es.handleMouseEvents||Js.widgetNode.setAttribute("cm-ignore-events","true"),Es.insertLeft&&(Js.widgetNode.insertLeft=!0)),Js.collapsed){if(Ra(as,ds.line,ds,xs,Js)||ds.line!=xs.line&&Ra(as,xs.line,ds,xs,Js))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ih()}Js.addToHistory&&Gc(as,{from:ds,to:xs,origin:"markText"},as.sel,NaN);var wo=ds.line,Lo=as.cm,Do;if(as.iter(wo,xs.line+1,function(aa){Lo&&Js.collapsed&&!Lo.options.lineWrapping&&ll(aa)==Lo.display.maxLine&&(Do=!0),Js.collapsed&&wo!=ds.line&&Fh(aa,0),FA(aa,new gh(Js,wo==ds.line?ds.ch:null,wo==xs.line?xs.ch:null),as.cm&&as.cm.curOp),++wo}),Js.collapsed&&as.iter(ds.line,xs.line+1,function(aa){$l(as,aa)&&Fh(aa,0)}),Js.clearOnEnter&&Ea(Js,"beforeCursorEnter",function(){return Js.clear()}),Js.readOnly&&(xl(),(as.history.done.length||as.history.undone.length)&&as.clearHistory()),Js.collapsed&&(Js.id=++Dp,Js.atomic=!0),Lo){if(Do&&(Lo.curOp.updateMaxLine=!0),Js.collapsed)Uc(Lo,ds.line,xs.line+1);else if(Js.className||Js.startStyle||Js.endStyle||Js.css||Js.attributes||Js.title)for(var ra=ds.line;ra<=xs.line;ra++)pu(Lo,ra,"text");Js.atomic&&xh(Lo.doc),za(Lo,"markerAdded",Lo,Js)}return Js}var Tf=function(as,ds){this.markers=as,this.primary=ds;for(var xs=0;xs<as.length;++xs)as[xs].parent=this};Tf.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var as=0;as<this.markers.length;++as)this.markers[as].clear();za(this,"clear")}},Tf.prototype.find=function(as,ds){return this.primary.find(as,ds)},Wl(Tf);function rg(as,ds,xs,Es,ks){Es=Xs(Es),Es.shared=!1;var Js=[yd(as,ds,xs,Es,ks)],fo=Js[0],wo=Es.widgetNode;return wa(as,function(Lo){wo&&(Es.widgetNode=wo.cloneNode(!0)),Js.push(yd(Lo,Ta(Lo,ds),Ta(Lo,xs),Es,ks));for(var Do=0;Do<Lo.linked.length;++Do)if(Lo.linked[Do].isParent)return;fo=ko(Js)}),new Tf(Js,fo)}function ig(as){return as.findMarks(Xa(as.first,0),as.clipPos(Xa(as.lastLine())),function(ds){return ds.parent})}function Pp(as,ds){for(var xs=0;xs<ds.length;xs++){var Es=ds[xs],ks=Es.find(),Js=as.clipPos(ks.from),fo=as.clipPos(ks.to);if(zl(Js,fo)){var wo=yd(as,Js,fo,Es.primary,Es.primary.type);Es.markers.push(wo),wo.parent=Es}}}function qf(as){for(var ds=function(Es){var ks=as[Es],Js=[ks.primary.doc];wa(ks.primary.doc,function(Lo){return Js.push(Lo)});for(var fo=0;fo<ks.markers.length;fo++){var wo=ks.markers[fo];So(Js,wo.doc)==-1&&(wo.parent=null,ks.markers.splice(fo--,1))}},xs=0;xs<as.length;xs++)ds(xs)}var Mp=0,Yh=function(as,ds,xs,Es,ks){if(!(this instanceof Yh))return new Yh(as,ds,xs,Es,ks);xs==null&&(xs=0),HA.call(this,[new Xd([new Zh("",null)])]),this.first=xs,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=xs;var Js=Xa(xs,0);this.sel=zo(Js),this.history=new bl(null),this.id=++Mp,this.modeOption=ds,this.lineSep=Es,this.direction=ks=="rtl"?"rtl":"ltr",this.extend=!1,typeof as=="string"&&(as=this.splitLines(as)),da(this,{from:Js,to:Js,text:as}),Vc(this,zo(Js),Eo)};Yh.prototype=go(HA.prototype,{constructor:Yh,iter:function(as,ds,xs){xs?this.iterN(as-this.first,ds-as,xs):this.iterN(this.first,this.first+this.size,as)},insert:function(as,ds){for(var xs=0,Es=0;Es<ds.length;++Es)xs+=ds[Es].height;this.insertInner(as-this.first,ds,xs)},remove:function(as,ds){this.removeInner(as-this.first,ds)},getValue:function(as){var ds=Qh(this,this.first,this.first+this.size);return as===!1?ds:ds.join(as||this.lineSeparator())},setValue:yh(function(as){var ds=Xa(this.first,0),xs=this.first+this.size-1;Ef(this,{from:ds,to:Xa(xs,Cl(this,xs).text.length),text:this.splitLines(as),origin:"setValue",full:!0},!0),this.cm&&Ku(this.cm,0,0),Vc(this,zo(ds),Eo)}),replaceRange:function(as,ds,xs,Es){ds=Ta(this,ds),xs=xs?Ta(this,xs):ds,Yd(this,as,ds,xs,Es)},getRange:function(as,ds,xs){var Es=Lh(this,Ta(this,as),Ta(this,ds));return xs===!1?Es:xs===""?Es.join(""):Es.join(xs||this.lineSeparator())},getLine:function(as){var ds=this.getLineHandle(as);return ds&&ds.text},getLineHandle:function(as){if(dd(this,as))return Cl(this,as)},getLineNumber:function(as){return nc(as)},getLineHandleVisualStart:function(as){return typeof as=="number"&&(as=Cl(this,as)),ll(as)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(as){return Ta(this,as)},getCursor:function(as){var ds=this.sel.primary(),xs;return as==null||as=="head"?xs=ds.head:as=="anchor"?xs=ds.anchor:as=="end"||as=="to"||as===!1?xs=ds.to():xs=ds.from(),xs},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:yh(function(as,ds,xs){ad(this,Ta(this,typeof as=="number"?Xa(as,ds||0):as),null,xs)}),setSelection:yh(function(as,ds,xs){ad(this,Ta(this,as),Ta(this,ds||as),xs)}),extendSelection:yh(function(as,ds,xs){eh(this,Ta(this,as),ds&&Ta(this,ds),xs)}),extendSelections:yh(function(as,ds){nu(this,sl(this,as),ds)}),extendSelectionsBy:yh(function(as,ds){var xs=Qo(this.sel.ranges,as);nu(this,sl(this,xs),ds)}),setSelections:yh(function(as,ds,xs){if(as.length){for(var Es=[],ks=0;ks<as.length;ks++)Es[ks]=new Ro(Ta(this,as[ks].anchor),Ta(this,as[ks].head||as[ks].anchor));ds==null&&(ds=Math.min(as.length-1,this.sel.primIndex)),Vc(this,$o(this.cm,Es,ds),xs)}}),addSelection:yh(function(as,ds,xs){var Es=this.sel.ranges.slice(0);Es.push(new Ro(Ta(this,as),Ta(this,ds||as))),Vc(this,$o(this.cm,Es,Es.length-1),xs)}),getSelection:function(as){for(var ds=this.sel.ranges,xs,Es=0;Es<ds.length;Es++){var ks=Lh(this,ds[Es].from(),ds[Es].to());xs=xs?xs.concat(ks):ks}return as===!1?xs:xs.join(as||this.lineSeparator())},getSelections:function(as){for(var ds=[],xs=this.sel.ranges,Es=0;Es<xs.length;Es++){var ks=Lh(this,xs[Es].from(),xs[Es].to());as!==!1&&(ks=ks.join(as||this.lineSeparator())),ds[Es]=ks}return ds},replaceSelection:function(as,ds,xs){for(var Es=[],ks=0;ks<this.sel.ranges.length;ks++)Es[ks]=as;this.replaceSelections(Es,ds,xs||"+input")},replaceSelections:yh(function(as,ds,xs){for(var Es=[],ks=this.sel,Js=0;Js<ks.ranges.length;Js++){var fo=ks.ranges[Js];Es[Js]={from:fo.from(),to:fo.to(),text:this.splitLines(as[Js]),origin:xs}}for(var wo=ds&&ds!="end"&&Ma(this,Es,ds),Lo=Es.length-1;Lo>=0;Lo--)Ef(this,Es[Lo]);wo?Fu(this,wo):this.cm&&Uu(this.cm)}),undo:yh(function(){hA(this,"undo")}),redo:yh(function(){hA(this,"redo")}),undoSelection:yh(function(){hA(this,"undo",!0)}),redoSelection:yh(function(){hA(this,"redo",!0)}),setExtending:function(as){this.extend=as},getExtending:function(){return this.extend},historySize:function(){for(var as=this.history,ds=0,xs=0,Es=0;Es<as.done.length;Es++)as.done[Es].ranges||++ds;for(var ks=0;ks<as.undone.length;ks++)as.undone[ks].ranges||++xs;return{undo:ds,redo:xs}},clearHistory:function(){var as=this;this.history=new bl(this.history),wa(this,function(ds){return ds.history=as.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(as){return as&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(as){return this.history.generation==(as||this.cleanGeneration)},getHistory:function(){return{done:uh(this.history.done),undone:uh(this.history.undone)}},setHistory:function(as){var ds=this.history=new bl(this.history);ds.done=uh(as.done.slice(0),null,!0),ds.undone=uh(as.undone.slice(0),null,!0)},setGutterMarker:yh(function(as,ds,xs){return Sf(this,as,"gutter",function(Es){var ks=Es.gutterMarkers||(Es.gutterMarkers={});return ks[ds]=xs,!xs&&Co(ks)&&(Es.gutterMarkers=null),!0})}),clearGutter:yh(function(as){var ds=this;this.iter(function(xs){xs.gutterMarkers&&xs.gutterMarkers[as]&&Sf(ds,xs,"gutter",function(){return xs.gutterMarkers[as]=null,Co(xs.gutterMarkers)&&(xs.gutterMarkers=null),!0})})}),lineInfo:function(as){var ds;if(typeof as=="number"){if(!dd(this,as)||(ds=as,as=Cl(this,as),!as))return null}else if(ds=nc(as),ds==null)return null;return{line:ds,handle:as,text:as.text,gutterMarkers:as.gutterMarkers,textClass:as.textClass,bgClass:as.bgClass,wrapClass:as.wrapClass,widgets:as.widgets}},addLineClass:yh(function(as,ds,xs){return Sf(this,as,ds=="gutter"?"gutter":"class",function(Es){var ks=ds=="text"?"textClass":ds=="background"?"bgClass":ds=="gutter"?"gutterClass":"wrapClass";if(!Es[ks])Es[ks]=xs;else{if(Fs(xs).test(Es[ks]))return!1;Es[ks]+=" "+xs}return!0})}),removeLineClass:yh(function(as,ds,xs){return Sf(this,as,ds=="gutter"?"gutter":"class",function(Es){var ks=ds=="text"?"textClass":ds=="background"?"bgClass":ds=="gutter"?"gutterClass":"wrapClass",Js=Es[ks];if(Js)if(xs==null)Es[ks]=null;else{var fo=Js.match(Fs(xs));if(!fo)return!1;var wo=fo.index+fo[0].length;Es[ks]=Js.slice(0,fo.index)+(!fo.index||wo==Js.length?"":" ")+Js.slice(wo)||null}else return!1;return!0})}),addLineWidget:yh(function(as,ds,xs){return Bg(this,as,ds,xs)}),removeLineWidget:function(as){as.clear()},markText:function(as,ds,xs){return yd(this,Ta(this,as),Ta(this,ds),xs,xs&&xs.type||"range")},setBookmark:function(as,ds){var xs={replacedWith:ds&&(ds.nodeType==null?ds.widget:ds),insertLeft:ds&&ds.insertLeft,clearWhenEmpty:!1,shared:ds&&ds.shared,handleMouseEvents:ds&&ds.handleMouseEvents};return as=Ta(this,as),yd(this,as,as,xs,"bookmark")},findMarksAt:function(as){as=Ta(this,as);var ds=[],xs=Cl(this,as.line).markedSpans;if(xs)for(var Es=0;Es<xs.length;++Es){var ks=xs[Es];(ks.from==null||ks.from<=as.ch)&&(ks.to==null||ks.to>=as.ch)&&ds.push(ks.marker.parent||ks.marker)}return ds},findMarks:function(as,ds,xs){as=Ta(this,as),ds=Ta(this,ds);var Es=[],ks=as.line;return this.iter(as.line,ds.line+1,function(Js){var fo=Js.markedSpans;if(fo)for(var wo=0;wo<fo.length;wo++){var Lo=fo[wo];!(Lo.to!=null&&ks==as.line&&as.ch>=Lo.to||Lo.from==null&&ks!=as.line||Lo.from!=null&&ks==ds.line&&Lo.from>=ds.ch)&&(!xs||xs(Lo.marker))&&Es.push(Lo.marker.parent||Lo.marker)}++ks}),Es},getAllMarks:function(){var as=[];return this.iter(function(ds){var xs=ds.markedSpans;if(xs)for(var Es=0;Es<xs.length;++Es)xs[Es].from!=null&&as.push(xs[Es].marker)}),as},posFromIndex:function(as){var ds,xs=this.first,Es=this.lineSeparator().length;return this.iter(function(ks){var Js=ks.text.length+Es;if(Js>as)return ds=as,!0;as-=Js,++xs}),Ta(this,Xa(xs,ds))},indexFromPos:function(as){as=Ta(this,as);var ds=as.ch;if(as.line<this.first||as.ch<0)return 0;var xs=this.lineSeparator().length;return this.iter(this.first,as.line,function(Es){ds+=Es.text.length+xs}),ds},copy:function(as){var ds=new Yh(Qh(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return ds.scrollTop=this.scrollTop,ds.scrollLeft=this.scrollLeft,ds.sel=this.sel,ds.extend=!1,as&&(ds.history.undoDepth=this.history.undoDepth,ds.setHistory(this.getHistory())),ds},linkedDoc:function(as){as||(as={});var ds=this.first,xs=this.first+this.size;as.from!=null&&as.from>ds&&(ds=as.from),as.to!=null&&as.to<xs&&(xs=as.to);var Es=new Yh(Qh(this,ds,xs),as.mode||this.modeOption,ds,this.lineSep,this.direction);return as.sharedHist&&(Es.history=this.history),(this.linked||(this.linked=[])).push({doc:Es,sharedHist:as.sharedHist}),Es.linked=[{doc:this,isParent:!0,sharedHist:as.sharedHist}],Pp(Es,ig(this)),Es},unlinkDoc:function(as){if(as instanceof Kc&&(as=as.doc),this.linked)for(var ds=0;ds<this.linked.length;++ds){var xs=this.linked[ds];if(xs.doc==as){this.linked.splice(ds,1),as.unlinkDoc(this),qf(ig(this));break}}if(as.history==this.history){var Es=[as.id];wa(as,function(ks){return Es.push(ks.id)},!0),as.history=new bl(null),as.history.done=uh(this.history.done,Es),as.history.undone=uh(this.history.undone,Es)}},iterLinkedDocs:function(as){wa(this,as)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(as){return this.lineSep?as.split(this.lineSep):dh(as)},lineSeparator:function(){return this.lineSep||`
`},setDirection:yh(function(as){as!="rtl"&&(as="ltr"),as!=this.direction&&(this.direction=as,this.iter(function(ds){return ds.order=null}),this.cm&&qa(this.cm))})}),Yh.prototype.eachLine=Yh.prototype.iter;var Bf=0;function kd(as){var ds=this;if(_g(ds),!(Ua(ds,as)||oh(ds.display,as))){El(as),os&&(Bf=+new Date);var xs=Mc(ds,as,!0),Es=as.dataTransfer.files;if(!(!xs||ds.isReadOnly()))if(Es&&Es.length&&window.FileReader&&window.File)for(var ks=Es.length,Js=Array(ks),fo=0,wo=function(){++fo==ks&&ru(ds,function(){xs=Ta(ds.doc,xs);var va={from:xs,to:xs,text:ds.doc.splitLines(Js.filter(function(ja){return ja!=null}).join(ds.doc.lineSeparator())),origin:"paste"};Ef(ds.doc,va),Fu(ds.doc,zo(Ta(ds.doc,xs),Ta(ds.doc,Ko(va))))})()},Lo=function(va,ja){if(ds.options.allowDropFileTypes&&So(ds.options.allowDropFileTypes,va.type)==-1){wo();return}var Ya=new FileReader;Ya.onerror=function(){return wo()},Ya.onload=function(){var ol=Ya.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ol)){wo();return}Js[ja]=ol,wo()},Ya.readAsText(va)},Do=0;Do<Es.length;Do++)Lo(Es[Do],Do);else{if(ds.state.draggingText&&ds.doc.sel.contains(xs)>-1){ds.state.draggingText(as),setTimeout(function(){return ds.display.input.focus()},20);return}try{var ra=as.dataTransfer.getData("Text");if(ra){var aa;if(ds.state.draggingText&&!ds.state.draggingText.copy&&(aa=ds.listSelections()),mu(ds.doc,zo(xs,xs)),aa)for(var xa=0;xa<aa.length;++xa)Yd(ds.doc,"",aa[xa].anchor,aa[xa].head,"drag");ds.replaceSelection(ra,"around","paste"),ds.display.input.focus()}}catch{}}}}function jA(as,ds){if(os&&(!as.state.draggingText||+new Date-Bf<100)){wl(ds);return}if(!(Ua(as,ds)||oh(as.display,ds))&&(ds.dataTransfer.setData("Text",as.getSelection()),ds.dataTransfer.effectAllowed="copyMove",ds.dataTransfer.setDragImage&&!ys)){var xs=Ds("img",null,null,"position: fixed; left: 0; top: 0;");xs.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",bs&&(xs.width=xs.height=1,as.display.wrapper.appendChild(xs),xs._top=xs.offsetTop),ds.dataTransfer.setDragImage(xs,0,0),bs&&xs.parentNode.removeChild(xs)}}function xc(as,ds){var xs=Mc(as,ds);if(xs){var Es=document.createDocumentFragment();od(as,xs,Es),as.display.dragCursor||(as.display.dragCursor=Ds("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),as.display.lineSpace.insertBefore(as.display.dragCursor,as.display.cursorDiv)),Ws(as.display.dragCursor,Es)}}function _g(as){as.display.dragCursor&&(as.display.lineSpace.removeChild(as.display.dragCursor),as.display.dragCursor=null)}function dp(as){if(document.getElementsByClassName){for(var ds=document.getElementsByClassName("CodeMirror"),xs=[],Es=0;Es<ds.length;Es++){var ks=ds[Es].CodeMirror;ks&&xs.push(ks)}xs.length&&xs[0].operation(function(){for(var Js=0;Js<xs.length;Js++)as(xs[Js])})}}var _f=!1;function Op(){_f||(of(),_f=!0)}function of(){var as;Ea(window,"resize",function(){as==null&&(as=setTimeout(function(){as=null,dp(Lg)},100))}),Ea(window,"blur",function(){return dp(lA)})}function Lg(as){var ds=as.display;ds.cachedCharWidth=ds.cachedTextHeight=ds.cachedPaddingH=null,ds.scrollbarsClipped=!1,as.setSize()}for(var bh={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ap=0;Ap<10;Ap++)bh[Ap+48]=bh[Ap+96]=String(Ap);for(var $A=65;$A<=90;$A++)bh[$A]=String.fromCharCode($A);for(var Jd=1;Jd<=12;Jd++)bh[Jd+111]=bh[Jd+63235]="F"+Jd;var Zd={};Zd.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Zd.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Zd.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Zd.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Zd.default=ws?Zd.macDefault:Zd.pcDefault;function Np(as){var ds=as.split(/-(?!$)/);as=ds[ds.length-1];for(var xs,Es,ks,Js,fo=0;fo<ds.length-1;fo++){var wo=ds[fo];if(/^(cmd|meta|m)$/i.test(wo))Js=!0;else if(/^a(lt)?$/i.test(wo))xs=!0;else if(/^(c|ctrl|control)$/i.test(wo))Es=!0;else if(/^s(hift)?$/i.test(wo))ks=!0;else throw new Error("Unrecognized modifier name: "+wo)}return xs&&(as="Alt-"+as),Es&&(as="Ctrl-"+as),Js&&(as="Cmd-"+as),ks&&(as="Shift-"+as),as}function vu(as){var ds={};for(var xs in as)if(as.hasOwnProperty(xs)){var Es=as[xs];if(/^(name|fallthrough|(de|at)tach)$/.test(xs))continue;if(Es=="..."){delete as[xs];continue}for(var ks=Qo(xs.split(" "),Np),Js=0;Js<ks.length;Js++){var fo=void 0,wo=void 0;Js==ks.length-1?(wo=ks.join(" "),fo=Es):(wo=ks.slice(0,Js+1).join(" "),fo="...");var Lo=ds[wo];if(!Lo)ds[wo]=fo;else if(Lo!=fo)throw new Error("Inconsistent bindings for "+wo)}delete as[xs]}for(var Do in ds)as[Do]=ds[Do];return as}function Hh(as,ds,xs,Es){ds=EA(ds);var ks=ds.call?ds.call(as,Es):ds[as];if(ks===!1)return"nothing";if(ks==="...")return"multi";if(ks!=null&&xs(ks))return"handled";if(ds.fallthrough){if(Object.prototype.toString.call(ds.fallthrough)!="[object Array]")return Hh(as,ds.fallthrough,xs,Es);for(var Js=0;Js<ds.fallthrough.length;Js++){var fo=Hh(as,ds.fallthrough[Js],xs,Es);if(fo)return fo}}}function Rp(as){var ds=typeof as=="string"?as:bh[as.keyCode];return ds=="Ctrl"||ds=="Alt"||ds=="Shift"||ds=="Mod"}function Lf(as,ds,xs){var Es=as;return ds.altKey&&Es!="Alt"&&(as="Alt-"+as),(Ps?ds.metaKey:ds.ctrlKey)&&Es!="Ctrl"&&(as="Ctrl-"+as),(Ps?ds.ctrlKey:ds.metaKey)&&Es!="Mod"&&(as="Cmd-"+as),!xs&&ds.shiftKey&&Es!="Shift"&&(as="Shift-"+as),as}function af(as,ds){if(bs&&as.keyCode==34&&as.char)return!1;var xs=bh[as.keyCode];return xs==null||as.altGraphKey?!1:(as.keyCode==3&&as.code&&(xs=as.code),Lf(xs,as,ds))}function EA(as){return typeof as=="string"?Zd[as]:as}function ld(as,ds){for(var xs=as.doc.sel.ranges,Es=[],ks=0;ks<xs.length;ks++){for(var Js=ds(xs[ks]);Es.length&&zl(Js.from,ko(Es).to)<=0;){var fo=Es.pop();if(zl(fo.from,Js.from)<0){Js.from=fo.from;break}}Es.push(Js)}lh(as,function(){for(var wo=Es.length-1;wo>=0;wo--)Yd(as.doc,"",Es[wo].from,Es[wo].to,"+delete");Uu(as)})}function AA(as,ds,xs){var Es=Po(as.text,ds+xs,xs);return Es<0||Es>as.text.length?null:Es}function eA(as,ds,xs){var Es=AA(as,ds.ch,xs);return Es==null?null:new Xa(ds.line,Es,xs<0?"after":"before")}function lf(as,ds,xs,Es,ks){if(as){ds.doc.direction=="rtl"&&(ks=-ks);var Js=Ba(xs,ds.doc.direction);if(Js){var fo=ks<0?ko(Js):Js[0],wo=ks<0==(fo.level==1),Lo=wo?"after":"before",Do;if(fo.level>0||ds.doc.direction=="rtl"){var ra=Ph(ds,xs);Do=ks<0?xs.text.length-1:0;var aa=Mh(ds,ra,Do).top;Do=Zo(function(xa){return Mh(ds,ra,xa).top==aa},ks<0==(fo.level==1)?fo.from:fo.to-1,Do),Lo=="before"&&(Do=AA(xs,Do,1))}else Do=ks<0?fo.to:fo.from;return new Xa(Es,Do,Lo)}}return new Xa(Es,ks<0?xs.text.length:0,ks<0?"before":"after")}function xA(as,ds,xs,Es){var ks=Ba(ds,as.doc.direction);if(!ks)return eA(ds,xs,Es);xs.ch>=ds.text.length?(xs.ch=ds.text.length,xs.sticky="before"):xs.ch<=0&&(xs.ch=0,xs.sticky="after");var Js=ua(ks,xs.ch,xs.sticky),fo=ks[Js];if(as.doc.direction=="ltr"&&fo.level%2==0&&(Es>0?fo.to>xs.ch:fo.from<xs.ch))return eA(ds,xs,Es);var wo=function(dl,ml){return AA(ds,dl instanceof Xa?dl.ch:dl,ml)},Lo,Do=function(dl){return as.options.lineWrapping?(Lo=Lo||Ph(as,ds),Ec(as,ds,Lo,dl)):{begin:0,end:ds.text.length}},ra=Do(xs.sticky=="before"?wo(xs,-1):xs.ch);if(as.doc.direction=="rtl"||fo.level==1){var aa=fo.level==1==Es<0,xa=wo(xs,aa?1:-1);if(xa!=null&&(aa?xa<=fo.to&&xa<=ra.end:xa>=fo.from&&xa>=ra.begin)){var va=aa?"before":"after";return new Xa(xs.line,xa,va)}}var ja=function(dl,ml,Al){for(var Sl=function(Bu,th){return th?new Xa(xs.line,wo(Bu,1),"before"):new Xa(xs.line,Bu,"after")};dl>=0&&dl<ks.length;dl+=ml){var Hl=ks[dl],Rl=ml>0==(Hl.level!=1),gc=Rl?Al.begin:wo(Al.end,-1);if(Hl.from<=gc&&gc<Hl.to||(gc=Rl?Hl.from:wo(Hl.to,-1),Al.begin<=gc&&gc<Al.end))return Sl(gc,Rl)}},Ya=ja(Js+Es,Es,ra);if(Ya)return Ya;var ol=Es>0?ra.end:wo(ra.begin,-1);return ol!=null&&!(Es>0&&ol==ds.text.length)&&(Ya=ja(Es>0?0:ks.length-1,Es,Do(ol)),Ya)?Ya:null}var Gf={selectAll:Tu,singleSelection:function(as){return as.setSelection(as.getCursor("anchor"),as.getCursor("head"),Eo)},killLine:function(as){return ld(as,function(ds){if(ds.empty()){var xs=Cl(as.doc,ds.head.line).text.length;return ds.head.ch==xs&&ds.head.line<as.lastLine()?{from:ds.head,to:Xa(ds.head.line+1,0)}:{from:ds.head,to:Xa(ds.head.line,xs)}}else return{from:ds.from(),to:ds.to()}})},deleteLine:function(as){return ld(as,function(ds){return{from:Xa(ds.from().line,0),to:Ta(as.doc,Xa(ds.to().line+1,0))}})},delLineLeft:function(as){return ld(as,function(ds){return{from:Xa(ds.from().line,0),to:ds.from()}})},delWrappedLineLeft:function(as){return ld(as,function(ds){var xs=as.charCoords(ds.head,"div").top+5,Es=as.coordsChar({left:0,top:xs},"div");return{from:Es,to:ds.from()}})},delWrappedLineRight:function(as){return ld(as,function(ds){var xs=as.charCoords(ds.head,"div").top+5,Es=as.coordsChar({left:as.display.lineDiv.offsetWidth+100,top:xs},"div");return{from:ds.from(),to:Es}})},undo:function(as){return as.undo()},redo:function(as){return as.redo()},undoSelection:function(as){return as.undoSelection()},redoSelection:function(as){return as.redoSelection()},goDocStart:function(as){return as.extendSelection(Xa(as.firstLine(),0))},goDocEnd:function(as){return as.extendSelection(Xa(as.lastLine()))},goLineStart:function(as){return as.extendSelectionsBy(function(ds){return QA(as,ds.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(as){return as.extendSelectionsBy(function(ds){return Kf(as,ds.head)},{origin:"+move",bias:1})},goLineEnd:function(as){return as.extendSelectionsBy(function(ds){return Up(as,ds.head.line)},{origin:"+move",bias:-1})},goLineRight:function(as){return as.extendSelectionsBy(function(ds){var xs=as.cursorCoords(ds.head,"div").top+5;return as.coordsChar({left:as.display.lineDiv.offsetWidth+100,top:xs},"div")},yo)},goLineLeft:function(as){return as.extendSelectionsBy(function(ds){var xs=as.cursorCoords(ds.head,"div").top+5;return as.coordsChar({left:0,top:xs},"div")},yo)},goLineLeftSmart:function(as){return as.extendSelectionsBy(function(ds){var xs=as.cursorCoords(ds.head,"div").top+5,Es=as.coordsChar({left:0,top:xs},"div");return Es.ch<as.getLine(Es.line).search(/\S/)?Kf(as,ds.head):Es},yo)},goLineUp:function(as){return as.moveV(-1,"line")},goLineDown:function(as){return as.moveV(1,"line")},goPageUp:function(as){return as.moveV(-1,"page")},goPageDown:function(as){return as.moveV(1,"page")},goCharLeft:function(as){return as.moveH(-1,"char")},goCharRight:function(as){return as.moveH(1,"char")},goColumnLeft:function(as){return as.moveH(-1,"column")},goColumnRight:function(as){return as.moveH(1,"column")},goWordLeft:function(as){return as.moveH(-1,"word")},goGroupRight:function(as){return as.moveH(1,"group")},goGroupLeft:function(as){return as.moveH(-1,"group")},goWordRight:function(as){return as.moveH(1,"word")},delCharBefore:function(as){return as.deleteH(-1,"codepoint")},delCharAfter:function(as){return as.deleteH(1,"char")},delWordBefore:function(as){return as.deleteH(-1,"word")},delWordAfter:function(as){return as.deleteH(1,"word")},delGroupBefore:function(as){return as.deleteH(-1,"group")},delGroupAfter:function(as){return as.deleteH(1,"group")},indentAuto:function(as){return as.indentSelection("smart")},indentMore:function(as){return as.indentSelection("add")},indentLess:function(as){return as.indentSelection("subtract")},insertTab:function(as){return as.replaceSelection("	")},insertSoftTab:function(as){for(var ds=[],xs=as.listSelections(),Es=as.options.tabSize,ks=0;ks<xs.length;ks++){var Js=xs[ks].from(),fo=lo(as.getLine(Js.line),Js.ch,Es);ds.push(Wo(Es-fo%Es))}as.replaceSelections(ds)},defaultTab:function(as){as.somethingSelected()?as.indentSelection("add"):as.execCommand("insertTab")},transposeChars:function(as){return lh(as,function(){for(var ds=as.listSelections(),xs=[],Es=0;Es<ds.length;Es++)if(ds[Es].empty()){var ks=ds[Es].head,Js=Cl(as.doc,ks.line).text;if(Js){if(ks.ch==Js.length&&(ks=new Xa(ks.line,ks.ch-1)),ks.ch>0)ks=new Xa(ks.line,ks.ch+1),as.replaceRange(Js.charAt(ks.ch-1)+Js.charAt(ks.ch-2),Xa(ks.line,ks.ch-2),ks,"+transpose");else if(ks.line>as.doc.first){var fo=Cl(as.doc,ks.line-1).text;fo&&(ks=new Xa(ks.line,1),as.replaceRange(Js.charAt(0)+as.doc.lineSeparator()+fo.charAt(fo.length-1),Xa(ks.line-1,fo.length-1),ks,"+transpose"))}}xs.push(new Ro(ks,ks))}as.setSelections(xs)})},newlineAndIndent:function(as){return lh(as,function(){for(var ds=as.listSelections(),xs=ds.length-1;xs>=0;xs--)as.replaceRange(as.doc.lineSeparator(),ds[xs].anchor,ds[xs].head,"+input");ds=as.listSelections();for(var Es=0;Es<ds.length;Es++)as.indentLine(ds[Es].from().line,null,!0);Uu(as)})},openLine:function(as){return as.replaceSelection(`
`,"start")},toggleOverwrite:function(as){return as.toggleOverwrite()}};function QA(as,ds){var xs=Cl(as.doc,ds),Es=ll(xs);return Es!=xs&&(ds=nc(Es)),lf(!0,as,Es,ds,1)}function Up(as,ds){var xs=Cl(as.doc,ds),Es=tc(xs);return Es!=xs&&(ds=nc(Es)),lf(!0,as,xs,ds,-1)}function Kf(as,ds){var xs=QA(as,ds.line),Es=Cl(as.doc,xs.line),ks=Ba(Es,as.doc.direction);if(!ks||ks[0].level==0){var Js=Math.max(xs.ch,Es.text.search(/\S/)),fo=ds.line==xs.line&&ds.ch<=Js&&ds.ch;return Xa(xs.line,fo?0:Js,xs.sticky)}return xs}function fp(as,ds,xs){if(typeof ds=="string"&&(ds=Gf[ds],!ds))return!1;as.display.input.ensurePolled();var Es=as.display.shift,ks=!1;try{as.isReadOnly()&&(as.state.suppressEdits=!0),xs&&(as.display.shift=!1),ks=ds(as)!=vo}finally{as.display.shift=Es,as.state.suppressEdits=!1}return ks}function lm(as,ds,xs){for(var Es=0;Es<as.state.keyMaps.length;Es++){var ks=Hh(ds,as.state.keyMaps[Es],xs,as);if(ks)return ks}return as.options.extraKeys&&Hh(ds,as.options.extraKeys,xs,as)||Hh(ds,as.options.keyMap,xs,as)}var cm=new co;function pp(as,ds,xs,Es){var ks=as.state.keySeq;if(ks){if(Rp(ds))return"handled";if(/\'$/.test(ds)?as.state.keySeq=null:cm.set(50,function(){as.state.keySeq==ks&&(as.state.keySeq=null,as.display.input.reset())}),Gg(as,ks+" "+ds,xs,Es))return!0}return Gg(as,ds,xs,Es)}function Gg(as,ds,xs,Es){var ks=lm(as,ds,Es);return ks=="multi"&&(as.state.keySeq=ds),ks=="handled"&&za(as,"keyHandled",as,ds,xs),(ks=="handled"||ks=="multi")&&(El(xs),bA(as)),!!ks}function Kg(as,ds){var xs=af(ds,!0);return xs?ds.shiftKey&&!as.state.keySeq?pp(as,"Shift-"+xs,ds,function(Es){return fp(as,Es,!0)})||pp(as,xs,ds,function(Es){if(typeof Es=="string"?/^go[A-Z]/.test(Es):Es.motion)return fp(as,Es)}):pp(as,xs,ds,function(Es){return fp(as,Es)}):!1}function Lm(as,ds,xs){return pp(as,"'"+xs+"'",ds,function(Es){return fp(as,Es,!0)})}var Fg=null;function Hp(as){var ds=this;if(!(as.target&&as.target!=ds.display.input.getField())&&(ds.curOp.focus=Us(zs(ds)),!Ua(ds,as))){os&&ls<11&&as.keyCode==27&&(as.returnValue=!1);var xs=as.keyCode;ds.display.shift=xs==16||as.shiftKey;var Es=Kg(ds,as);bs&&(Fg=Es?xs:null,!Es&&xs==88&&!Ah&&(ws?as.metaKey:as.ctrlKey)&&ds.replaceSelection("",null,"cut")),rs&&!ws&&!Es&&xs==46&&as.shiftKey&&!as.ctrlKey&&document.execCommand&&document.execCommand("cut"),xs==18&&!/\bCodeMirror-crosshair\b/.test(ds.display.lineDiv.className)&&bd(ds)}}function bd(as){var ds=as.display.lineDiv;Zs(ds,"CodeMirror-crosshair");function xs(Es){(Es.keyCode==18||!Es.altKey)&&(Is(ds,"CodeMirror-crosshair"),kl(document,"keyup",xs),kl(document,"mouseover",xs))}Ea(document,"keyup",xs),Ea(document,"mouseover",xs)}function VA(as){as.keyCode==16&&(this.doc.sel.shift=!1),Ua(this,as)}function Yg(as){var ds=this;if(!(as.target&&as.target!=ds.display.input.getField())&&!(oh(ds.display,as)||Ua(ds,as)||as.ctrlKey&&!as.altKey||ws&&as.metaKey)){var xs=as.keyCode,Es=as.charCode;if(bs&&xs==Fg){Fg=null,El(as);return}if(!(bs&&(!as.which||as.which<10)&&Kg(ds,as))){var ks=String.fromCharCode(Es??xs);ks!="\b"&&(Lm(ds,as,ks)||ds.display.input.onKeyPress(as))}}}var Xg=400,gp=function(as,ds,xs){this.time=as,this.pos=ds,this.button=xs};gp.prototype.compare=function(as,ds,xs){return this.time+Xg>as&&zl(ds,this.pos)==0&&xs==this.button};var WA,mp;function um(as,ds){var xs=+new Date;return mp&&mp.compare(xs,as,ds)?(WA=mp=null,"triple"):WA&&WA.compare(xs,as,ds)?(mp=new gp(xs,as,ds),WA=null,"double"):(WA=new gp(xs,as,ds),mp=null,"single")}function ng(as){var ds=this,xs=ds.display;if(!(Ua(ds,as)||xs.activeTouch&&xs.input.supportsTouch())){if(xs.input.ensurePolled(),xs.shift=as.shiftKey,oh(xs,as)){cs||(xs.scroller.draggable=!1,setTimeout(function(){return xs.scroller.draggable=!0},100));return}if(!Qp(ds,as)){var Es=Mc(ds,as),ks=_u(as),Js=Es?um(Es,ks):"single";oo(ds).focus(),ks==1&&ds.state.selectingText&&ds.state.selectingText(as),!(Es&&Jg(ds,ks,Es,Js,as))&&(ks==1?Es?sg(ds,Es,Js,as):dc(as)==xs.scroller&&El(as):ks==2?(Es&&eh(ds.doc,Es),setTimeout(function(){return xs.input.focus()},20)):ks==3&&(Qs?ds.display.input.onContextMenu(as):OA(ds)))}}}function Jg(as,ds,xs,Es,ks){var Js="Click";return Es=="double"?Js="Double"+Js:Es=="triple"&&(Js="Triple"+Js),Js=(ds==1?"Left":ds==2?"Middle":"Right")+Js,pp(as,Lf(Js,ks),ks,function(fo){if(typeof fo=="string"&&(fo=Gf[fo]),!fo)return!1;var wo=!1;try{as.isReadOnly()&&(as.state.suppressEdits=!0),wo=fo(as,xs)!=vo}finally{as.state.suppressEdits=!1}return wo})}function vp(as,ds,xs){var Es=as.getOption("configureMouse"),ks=Es?Es(as,ds,xs):{};if(ks.unit==null){var Js=Ts?xs.shiftKey&&xs.metaKey:xs.altKey;ks.unit=Js?"rectangle":ds=="single"?"char":ds=="double"?"word":"line"}return(ks.extend==null||as.doc.extend)&&(ks.extend=as.doc.extend||xs.shiftKey),ks.addNew==null&&(ks.addNew=ws?xs.metaKey:xs.ctrlKey),ks.moveOnDrag==null&&(ks.moveOnDrag=!(ws?xs.altKey:xs.ctrlKey)),ks}function sg(as,ds,xs,Es){os?setTimeout(Ao(Fd,as),0):as.curOp.focus=Us(zs(as));var ks=vp(as,xs,Es),Js=as.doc.sel,fo;as.options.dragDrop&&kc&&!as.isReadOnly()&&xs=="single"&&(fo=Js.contains(ds))>-1&&(zl((fo=Js.ranges[fo]).from(),ds)<0||ds.xRel>0)&&(zl(fo.to(),ds)>0||ds.xRel<0)?Fm(as,Es,ds,ks):yp(as,Es,ds,ks)}function Fm(as,ds,xs,Es){var ks=as.display,Js=!1,fo=ru(as,function(Do){cs&&(ks.scroller.draggable=!1),as.state.draggingText=!1,as.state.delayingBlurEvent&&(as.hasFocus()?as.state.delayingBlurEvent=!1:OA(as)),kl(ks.wrapper.ownerDocument,"mouseup",fo),kl(ks.wrapper.ownerDocument,"mousemove",wo),kl(ks.scroller,"dragstart",Lo),kl(ks.scroller,"drop",fo),Js||(El(Do),Es.addNew||eh(as.doc,xs,null,null,Es.extend),cs&&!ys||os&&ls==9?setTimeout(function(){ks.wrapper.ownerDocument.body.focus({preventScroll:!0}),ks.input.focus()},20):ks.input.focus())}),wo=function(Do){Js=Js||Math.abs(ds.clientX-Do.clientX)+Math.abs(ds.clientY-Do.clientY)>=10},Lo=function(){return Js=!0};cs&&(ks.scroller.draggable=!0),as.state.draggingText=fo,fo.copy=!Es.moveOnDrag,Ea(ks.wrapper.ownerDocument,"mouseup",fo),Ea(ks.wrapper.ownerDocument,"mousemove",wo),Ea(ks.scroller,"dragstart",Lo),Ea(ks.scroller,"drop",fo),as.state.delayingBlurEvent=!0,setTimeout(function(){return ks.input.focus()},20),ks.scroller.dragDrop&&ks.scroller.dragDrop()}function Ig(as,ds,xs){if(xs=="char")return new Ro(ds,ds);if(xs=="word")return as.findWordAt(ds);if(xs=="line")return new Ro(Xa(ds.line,0),Ta(as.doc,Xa(ds.line+1,0)));var Es=xs(as,ds);return new Ro(Es.from,Es.to)}function yp(as,ds,xs,Es){os&&OA(as);var ks=as.display,Js=as.doc;El(ds);var fo,wo,Lo=Js.sel,Do=Lo.ranges;if(Es.addNew&&!Es.extend?(wo=Js.sel.contains(xs),wo>-1?fo=Do[wo]:fo=new Ro(xs,xs)):(fo=Js.sel.primary(),wo=Js.sel.primIndex),Es.unit=="rectangle")Es.addNew||(fo=new Ro(xs,xs)),xs=Mc(as,ds,!0,!0),wo=-1;else{var ra=Ig(as,xs,Es.unit);Es.extend?fo=yc(fo,ra.anchor,ra.head,Es.extend):fo=ra}Es.addNew?wo==-1?(wo=Do.length,Vc(Js,$o(as,Do.concat([fo]),wo),{scroll:!1,origin:"*mouse"})):Do.length>1&&Do[wo].empty()&&Es.unit=="char"&&!Es.extend?(Vc(Js,$o(as,Do.slice(0,wo).concat(Do.slice(wo+1)),0),{scroll:!1,origin:"*mouse"}),Lo=Js.sel):Hu(Js,wo,fo,mo):(wo=0,Vc(Js,new Mo([fo],0),mo),Lo=Js.sel);var aa=xs;function xa(Al){if(zl(aa,Al)!=0)if(aa=Al,Es.unit=="rectangle"){for(var Sl=[],Hl=as.options.tabSize,Rl=lo(Cl(Js,xs.line).text,xs.ch,Hl),gc=lo(Cl(Js,Al.line).text,Al.ch,Hl),Bu=Math.min(Rl,gc),th=Math.max(Rl,gc),Yu=Math.min(xs.line,Al.line),ul=Math.min(as.lastLine(),Math.max(xs.line,Al.line));Yu<=ul;Yu++){var ju=Cl(Js,Yu).text,rh=Jo(ju,Bu,Hl);Bu==th?Sl.push(new Ro(Xa(Yu,rh),Xa(Yu,rh))):ju.length>rh&&Sl.push(new Ro(Xa(Yu,rh),Xa(Yu,Jo(ju,th,Hl))))}Sl.length||Sl.push(new Ro(xs,xs)),Vc(Js,$o(as,Lo.ranges.slice(0,wo).concat(Sl),wo),{origin:"*mouse",scroll:!1}),as.scrollIntoView(Al)}else{var Du=fo,cd=Ig(as,Al,Es.unit),ic=Du.anchor,bc;zl(cd.anchor,ic)>0?(bc=cd.head,ic=Go(Du.from(),cd.anchor)):(bc=cd.anchor,ic=Ad(Du.to(),cd.head));var $u=Lo.ranges.slice(0);$u[wo]=jp(as,new Ro(Ta(Js,ic),bc)),Vc(Js,$o(as,$u,wo),mo)}}var va=ks.wrapper.getBoundingClientRect(),ja=0;function Ya(Al){var Sl=++ja,Hl=Mc(as,Al,!0,Es.unit=="rectangle");if(Hl)if(zl(Hl,aa)!=0){as.curOp.focus=Us(zs(as)),xa(Hl);var Rl=NA(ks,Js);(Hl.line>=Rl.to||Hl.line<Rl.from)&&setTimeout(ru(as,function(){ja==Sl&&Ya(Al)}),150)}else{var gc=Al.clientY<va.top?-20:Al.clientY>va.bottom?20:0;gc&&setTimeout(ru(as,function(){ja==Sl&&(ks.scroller.scrollTop+=gc,Ya(Al))}),50)}}function ol(Al){as.state.selectingText=!1,ja=1/0,Al&&(El(Al),ks.input.focus()),kl(ks.wrapper.ownerDocument,"mousemove",dl),kl(ks.wrapper.ownerDocument,"mouseup",ml),Js.history.lastSelOrigin=null}var dl=ru(as,function(Al){Al.buttons===0||!_u(Al)?ol(Al):Ya(Al)}),ml=ru(as,ol);as.state.selectingText=ml,Ea(ks.wrapper.ownerDocument,"mousemove",dl),Ea(ks.wrapper.ownerDocument,"mouseup",ml)}function jp(as,ds){var xs=ds.anchor,Es=ds.head,ks=Cl(as.doc,xs.line);if(zl(xs,Es)==0&&xs.sticky==Es.sticky)return ds;var Js=Ba(ks);if(!Js)return ds;var fo=ua(Js,xs.ch,xs.sticky),wo=Js[fo];if(wo.from!=xs.ch&&wo.to!=xs.ch)return ds;var Lo=fo+(wo.from==xs.ch==(wo.level!=1)?0:1);if(Lo==0||Lo==Js.length)return ds;var Do;if(Es.line!=xs.line)Do=(Es.line-xs.line)*(as.doc.direction=="ltr"?1:-1)>0;else{var ra=ua(Js,Es.ch,Es.sticky),aa=ra-fo||(Es.ch-xs.ch)*(wo.level==1?-1:1);ra==Lo-1||ra==Lo?Do=aa<0:Do=aa>0}var xa=Js[Lo+(Do?-1:0)],va=Do==(xa.level==1),ja=va?xa.from:xa.to,Ya=va?"after":"before";return xs.ch==ja&&xs.sticky==Ya?ds:new Ro(new Xa(xs.line,ja,Ya),Es)}function $p(as,ds,xs,Es){var ks,Js;if(ds.touches)ks=ds.touches[0].clientX,Js=ds.touches[0].clientY;else try{ks=ds.clientX,Js=ds.clientY}catch{return!1}if(ks>=Math.floor(as.display.gutters.getBoundingClientRect().right))return!1;Es&&El(ds);var fo=as.display,wo=fo.lineDiv.getBoundingClientRect();if(Js>wo.bottom||!nl(as,xs))return ou(ds);Js-=wo.top-fo.viewOffset;for(var Lo=0;Lo<as.display.gutterSpecs.length;++Lo){var Do=fo.gutters.childNodes[Lo];if(Do&&Do.getBoundingClientRect().right>=ks){var ra=ih(as.doc,Js),aa=as.display.gutterSpecs[Lo];return Ja(as,xs,as,ra,aa.className,ds),ou(ds)}}}function Qp(as,ds){return $p(as,ds,"gutterClick",!0)}function kg(as,ds){oh(as.display,ds)||Dg(as,ds)||Ua(as,ds,"contextmenu")||Qs||as.display.input.onContextMenu(ds)}function Dg(as,ds){return nl(as,"gutterContextMenu")?$p(as,ds,"gutterContextMenu",!1):!1}function hm(as){as.display.wrapper.className=as.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+as.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ch(as)}var Yf={toString:function(){return"CodeMirror.Init"}},bp={},Vp={};function Pg(as){var ds=as.optionHandlers;function xs(Es,ks,Js,fo){as.defaults[Es]=ks,Js&&(ds[Es]=fo?function(wo,Lo,Do){Do!=Yf&&Js(wo,Lo,Do)}:Js)}as.defineOption=xs,as.Init=Yf,xs("value","",function(Es,ks){return Es.setValue(ks)},!0),xs("mode",null,function(Es,ks){Es.doc.modeOption=ks,pa(Es)},!0),xs("indentUnit",2,pa,!0),xs("indentWithTabs",!1),xs("smartIndent",!0),xs("tabSize",4,function(Es){Ga(Es),Ch(Es),Uc(Es)},!0),xs("lineSeparator",null,function(Es,ks){if(Es.doc.lineSep=ks,!!ks){var Js=[],fo=Es.doc.first;Es.doc.iter(function(Lo){for(var Do=0;;){var ra=Lo.text.indexOf(ks,Do);if(ra==-1)break;Do=ra+ks.length,Js.push(Xa(fo,ra))}fo++});for(var wo=Js.length-1;wo>=0;wo--)Yd(Es.doc,ks,Js[wo],Xa(Js[wo].line,Js[wo].ch+ks.length))}}),xs("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(Es,ks,Js){Es.state.specialChars=new RegExp(ks.source+(ks.test("	")?"":"|	"),"g"),Js!=Yf&&Es.refresh()}),xs("specialCharPlaceholder",nA,function(Es){return Es.refresh()},!0),xs("electricChars",!0),xs("inputStyle",gs?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),xs("spellcheck",!1,function(Es,ks){return Es.getInputField().spellcheck=ks},!0),xs("autocorrect",!1,function(Es,ks){return Es.getInputField().autocorrect=ks},!0),xs("autocapitalize",!1,function(Es,ks){return Es.getInputField().autocapitalize=ks},!0),xs("rtlMoveVisually",!$s),xs("wholeLineUpdateBefore",!0),xs("theme","default",function(Es){hm(Es),zf(Es)},!0),xs("keyMap","default",function(Es,ks,Js){var fo=EA(ks),wo=Js!=Yf&&EA(Js);wo&&wo.detach&&wo.detach(Es,fo),fo.attach&&fo.attach(Es,wo||null)}),xs("extraKeys",null),xs("configureMouse",null),xs("lineWrapping",!1,em,!0),xs("gutters",[],function(Es,ks){Es.display.gutterSpecs=qd(ks,Es.options.lineNumbers),zf(Es)},!0),xs("fixedGutter",!0,function(Es,ks){Es.display.gutters.style.left=ks?Pc(Es.display)+"px":"0",Es.refresh()},!0),xs("coverGutterNextToScrollbar",!1,function(Es){return CA(Es)},!0),xs("scrollbarStyle","native",function(Es){Eg(Es),CA(Es),Es.display.scrollbars.setScrollTop(Es.doc.scrollTop),Es.display.scrollbars.setScrollLeft(Es.doc.scrollLeft)},!0),xs("lineNumbers",!1,function(Es,ks){Es.display.gutterSpecs=qd(Es.options.gutters,ks),zf(Es)},!0),xs("firstLineNumber",1,zf,!0),xs("lineNumberFormatter",function(Es){return Es},zf,!0),xs("showCursorWhenSelecting",!1,aA,!0),xs("resetSelectionOnContextMenu",!0),xs("lineWiseCopyCut",!0),xs("pasteLinesPerSelection",!0),xs("selectionsMayTouch",!1),xs("readOnly",!1,function(Es,ks){ks=="nocursor"&&(lA(Es),Es.display.input.blur()),Es.display.input.readOnlyChanged(ks)}),xs("screenReaderLabel",null,function(Es,ks){ks=ks===""?null:ks,Es.display.input.screenReaderLabelChanged(ks)}),xs("disableInput",!1,function(Es,ks){ks||Es.display.input.reset()},!0),xs("dragDrop",!0,Zg),xs("allowDropFileTypes",null),xs("cursorBlinkRate",530),xs("cursorScrollMargin",0),xs("cursorHeight",1,aA,!0),xs("singleCursorHeightPerLine",!0,aA,!0),xs("workTime",100),xs("workDelay",100),xs("flattenSpans",!0,Ga,!0),xs("addModeClass",!1,Ga,!0),xs("pollInterval",100),xs("undoDepth",200,function(Es,ks){return Es.doc.history.undoDepth=ks}),xs("historyEventDelay",1250),xs("viewportMargin",10,function(Es){return Es.refresh()},!0),xs("maxHighlightLength",1e4,Ga,!0),xs("moveInputWithCursor",!0,function(Es,ks){ks||Es.display.input.resetPosition()}),xs("tabindex",null,function(Es,ks){return Es.display.input.getField().tabIndex=ks||""}),xs("autofocus",null),xs("direction","ltr",function(Es,ks){return Es.doc.setDirection(ks)},!0),xs("phrases",null)}function Zg(as,ds,xs){var Es=xs&&xs!=Yf;if(!ds!=!Es){var ks=as.display.dragFunctions,Js=ds?Ea:kl;Js(as.display.scroller,"dragstart",ks.start),Js(as.display.scroller,"dragenter",ks.enter),Js(as.display.scroller,"dragover",ks.over),Js(as.display.scroller,"dragleave",ks.leave),Js(as.display.scroller,"drop",ks.drop)}}function em(as){as.options.lineWrapping?(Zs(as.display.wrapper,"CodeMirror-wrap"),as.display.sizer.style.minWidth="",as.display.sizerWidth=null):(Is(as.display.wrapper,"CodeMirror-wrap"),mh(as)),sd(as),Uc(as),Ch(as),setTimeout(function(){return CA(as)},100)}function Kc(as,ds){var xs=this;if(!(this instanceof Kc))return new Kc(as,ds);this.options=ds=ds?Xs(ds):{},Xs(bp,ds,!1);var Es=ds.value;typeof Es=="string"?Es=new Yh(Es,ds.mode,null,ds.lineSeparator,ds.direction):ds.mode&&(Es.modeOption=ds.mode),this.doc=Es;var ks=new Kc.inputStyles[ds.inputStyle](this),Js=this.display=new qg(as,Es,ks,ds);Js.wrapper.CodeMirror=this,hm(this),ds.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Eg(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new co,keySeq:null,specialChars:null},ds.autofocus&&!gs&&Js.input.focus(),os&&ls<11&&setTimeout(function(){return xs.display.input.reset(!0)},20),dm(this),Op(),Kh(this),this.curOp.forceUpdate=!0,Ka(this,Es),ds.autofocus&&!gs||this.hasFocus()?setTimeout(function(){xs.hasFocus()&&!xs.state.focused&&Qf(xs)},20):lA(this);for(var fo in Vp)Vp.hasOwnProperty(fo)&&Vp[fo](this,ds[fo],Yf);Tg(this),ds.finishInit&&ds.finishInit(this);for(var wo=0;wo<wp.length;++wo)wp[wo](this);Uh(this),cs&&ds.lineWrapping&&getComputedStyle(Js.lineDiv).textRendering=="optimizelegibility"&&(Js.lineDiv.style.textRendering="auto")}Kc.defaults=bp,Kc.optionHandlers=Vp;function dm(as){var ds=as.display;Ea(ds.scroller,"mousedown",ru(as,ng)),os&&ls<11?Ea(ds.scroller,"dblclick",ru(as,function(Lo){if(!Ua(as,Lo)){var Do=Mc(as,Lo);if(!(!Do||Qp(as,Lo)||oh(as.display,Lo))){El(Lo);var ra=as.findWordAt(Do);eh(as.doc,ra.anchor,ra.head)}}})):Ea(ds.scroller,"dblclick",function(Lo){return Ua(as,Lo)||El(Lo)}),Ea(ds.scroller,"contextmenu",function(Lo){return kg(as,Lo)}),Ea(ds.input.getField(),"contextmenu",function(Lo){ds.scroller.contains(Lo.target)||kg(as,Lo)});var xs,Es={end:0};function ks(){ds.activeTouch&&(xs=setTimeout(function(){return ds.activeTouch=null},1e3),Es=ds.activeTouch,Es.end=+new Date)}function Js(Lo){if(Lo.touches.length!=1)return!1;var Do=Lo.touches[0];return Do.radiusX<=1&&Do.radiusY<=1}function fo(Lo,Do){if(Do.left==null)return!0;var ra=Do.left-Lo.left,aa=Do.top-Lo.top;return ra*ra+aa*aa>20*20}Ea(ds.scroller,"touchstart",function(Lo){if(!Ua(as,Lo)&&!Js(Lo)&&!Qp(as,Lo)){ds.input.ensurePolled(),clearTimeout(xs);var Do=+new Date;ds.activeTouch={start:Do,moved:!1,prev:Do-Es.end<=300?Es:null},Lo.touches.length==1&&(ds.activeTouch.left=Lo.touches[0].pageX,ds.activeTouch.top=Lo.touches[0].pageY)}}),Ea(ds.scroller,"touchmove",function(){ds.activeTouch&&(ds.activeTouch.moved=!0)}),Ea(ds.scroller,"touchend",function(Lo){var Do=ds.activeTouch;if(Do&&!oh(ds,Lo)&&Do.left!=null&&!Do.moved&&new Date-Do.start<300){var ra=as.coordsChar(ds.activeTouch,"page"),aa;!Do.prev||fo(Do,Do.prev)?aa=new Ro(ra,ra):!Do.prev.prev||fo(Do,Do.prev.prev)?aa=as.findWordAt(ra):aa=new Ro(Xa(ra.line,0),Ta(as.doc,Xa(ra.line+1,0))),as.setSelection(aa.anchor,aa.head),as.focus(),El(Lo)}ks()}),Ea(ds.scroller,"touchcancel",ks),Ea(ds.scroller,"scroll",function(){ds.scroller.clientHeight&&(bf(as,ds.scroller.scrollTop),md(as,ds.scroller.scrollLeft,!0),Ja(as,"scroll",as))}),Ea(ds.scroller,"mousewheel",function(Lo){return xo(as,Lo)}),Ea(ds.scroller,"DOMMouseScroll",function(Lo){return xo(as,Lo)}),Ea(ds.wrapper,"scroll",function(){return ds.wrapper.scrollTop=ds.wrapper.scrollLeft=0}),ds.dragFunctions={enter:function(Lo){Ua(as,Lo)||wl(Lo)},over:function(Lo){Ua(as,Lo)||(xc(as,Lo),wl(Lo))},start:function(Lo){return jA(as,Lo)},drop:ru(as,kd),leave:function(Lo){Ua(as,Lo)||_g(as)}};var wo=ds.input.getField();Ea(wo,"keyup",function(Lo){return VA.call(as,Lo)}),Ea(wo,"keydown",ru(as,Hp)),Ea(wo,"keypress",ru(as,Yg)),Ea(wo,"focus",function(Lo){return Qf(as,Lo)}),Ea(wo,"blur",function(Lo){return lA(as,Lo)})}var wp=[];Kc.defineInitHook=function(as){return wp.push(as)};function Xf(as,ds,xs,Es){var ks=as.doc,Js;xs==null&&(xs="add"),xs=="smart"&&(ks.mode.indent?Js=Qc(as,ds).state:xs="prev");var fo=as.options.tabSize,wo=Cl(ks,ds),Lo=lo(wo.text,null,fo);wo.stateAfter&&(wo.stateAfter=null);var Do=wo.text.match(/^\s*/)[0],ra;if(!Es&&!/\S/.test(wo.text))ra=0,xs="not";else if(xs=="smart"&&(ra=ks.mode.indent(Js,wo.text.slice(Do.length),wo.text),ra==vo||ra>150)){if(!Es)return;xs="prev"}xs=="prev"?ds>ks.first?ra=lo(Cl(ks,ds-1).text,null,fo):ra=0:xs=="add"?ra=Lo+as.options.indentUnit:xs=="subtract"?ra=Lo-as.options.indentUnit:typeof xs=="number"&&(ra=Lo+xs),ra=Math.max(0,ra);var aa="",xa=0;if(as.options.indentWithTabs)for(var va=Math.floor(ra/fo);va;--va)xa+=fo,aa+="	";if(xa<ra&&(aa+=Wo(ra-xa)),aa!=Do)return Yd(ks,aa,Xa(ds,0),Xa(ds,Do.length),"+input"),wo.stateAfter=null,!0;for(var ja=0;ja<ks.sel.ranges.length;ja++){var Ya=ks.sel.ranges[ja];if(Ya.head.line==ds&&Ya.head.ch<Do.length){var ol=Xa(ds,Do.length);Hu(ks,ja,new Ro(ol,ol));break}}}var fA=null;function og(as){fA=as}function tm(as,ds,xs,Es,ks){var Js=as.doc;as.display.shift=!1,Es||(Es=Js.sel);var fo=+new Date-200,wo=ks=="paste"||as.state.pasteIncoming>fo,Lo=dh(ds),Do=null;if(wo&&Es.ranges.length>1)if(fA&&fA.text.join(`
`)==ds){if(Es.ranges.length%fA.text.length==0){Do=[];for(var ra=0;ra<fA.text.length;ra++)Do.push(Js.splitLines(fA.text[ra]))}}else Lo.length==Es.ranges.length&&as.options.pasteLinesPerSelection&&(Do=Qo(Lo,function(dl){return[dl]}));for(var aa=as.curOp.updateInput,xa=Es.ranges.length-1;xa>=0;xa--){var va=Es.ranges[xa],ja=va.from(),Ya=va.to();va.empty()&&(xs&&xs>0?ja=Xa(ja.line,ja.ch-xs):as.state.overwrite&&!wo?Ya=Xa(Ya.line,Math.min(Cl(Js,Ya.line).text.length,Ya.ch+ko(Lo).length)):wo&&fA&&fA.lineWise&&fA.text.join(`
`)==Lo.join(`
`)&&(ja=Ya=Xa(ja.line,0)));var ol={from:ja,to:Ya,text:Do?Do[xa%Do.length]:Lo,origin:ks||(wo?"paste":as.state.cutIncoming>fo?"cut":"+input")};Ef(as.doc,ol),za(as,"inputRead",as,ol)}ds&&!wo&&ag(as,ds),Uu(as),as.curOp.updateInput<2&&(as.curOp.updateInput=aa),as.curOp.typing=!0,as.state.pasteIncoming=as.state.cutIncoming=-1}function zA(as,ds){var xs=as.clipboardData&&as.clipboardData.getData("Text");if(xs)return as.preventDefault(),!ds.isReadOnly()&&!ds.options.disableInput&&ds.hasFocus()&&lh(ds,function(){return tm(ds,xs,0,null,"paste")}),!0}function ag(as,ds){if(!(!as.options.electricChars||!as.options.smartIndent))for(var xs=as.doc.sel,Es=xs.ranges.length-1;Es>=0;Es--){var ks=xs.ranges[Es];if(!(ks.head.ch>100||Es&&xs.ranges[Es-1].head.line==ks.head.line)){var Js=as.getModeAt(ks.head),fo=!1;if(Js.electricChars){for(var wo=0;wo<Js.electricChars.length;wo++)if(ds.indexOf(Js.electricChars.charAt(wo))>-1){fo=Xf(as,ks.head.line,"smart");break}}else Js.electricInput&&Js.electricInput.test(Cl(as.doc,ks.head.line).text.slice(0,ks.head.ch))&&(fo=Xf(as,ks.head.line,"smart"));fo&&za(as,"electricInput",as,ks.head.line)}}}function Mg(as){for(var ds=[],xs=[],Es=0;Es<as.doc.sel.ranges.length;Es++){var ks=as.doc.sel.ranges[Es].head.line,Js={anchor:Xa(ks,0),head:Xa(ks+1,0)};xs.push(Js),ds.push(as.getRange(Js.anchor,Js.head))}return{text:ds,ranges:xs}}function lg(as,ds,xs,Es){as.setAttribute("autocorrect",xs?"on":"off"),as.setAttribute("autocapitalize",Es?"on":"off"),as.setAttribute("spellcheck",!!ds)}function cf(){var as=Ds("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),ds=Ds("div",[as],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return cs?as.style.width="1000px":as.setAttribute("wrap","off"),ms&&(as.style.border="1px solid black"),ds}function Cp(as){var ds=as.optionHandlers,xs=as.helpers={};as.prototype={constructor:as,focus:function(){oo(this).focus(),this.display.input.focus()},setOption:function(Es,ks){var Js=this.options,fo=Js[Es];Js[Es]==ks&&Es!="mode"||(Js[Es]=ks,ds.hasOwnProperty(Es)&&ru(this,ds[Es])(this,ks,fo),Ja(this,"optionChange",this,Es))},getOption:function(Es){return this.options[Es]},getDoc:function(){return this.doc},addKeyMap:function(Es,ks){this.state.keyMaps[ks?"push":"unshift"](EA(Es))},removeKeyMap:function(Es){for(var ks=this.state.keyMaps,Js=0;Js<ks.length;++Js)if(ks[Js]==Es||ks[Js].name==Es)return ks.splice(Js,1),!0},addOverlay:Kl(function(Es,ks){var Js=Es.token?Es:as.getMode(this.options,Es);if(Js.startState)throw new Error("Overlays may not be stateful.");jo(this.state.overlays,{mode:Js,modeSpec:Es,opaque:ks&&ks.opaque,priority:ks&&ks.priority||0},function(fo){return fo.priority}),this.state.modeGen++,Uc(this)}),removeOverlay:Kl(function(Es){for(var ks=this.state.overlays,Js=0;Js<ks.length;++Js){var fo=ks[Js].modeSpec;if(fo==Es||typeof Es=="string"&&fo.name==Es){ks.splice(Js,1),this.state.modeGen++,Uc(this);return}}}),indentLine:Kl(function(Es,ks,Js){typeof ks!="string"&&typeof ks!="number"&&(ks==null?ks=this.options.smartIndent?"smart":"prev":ks=ks?"add":"subtract"),dd(this.doc,Es)&&Xf(this,Es,ks,Js)}),indentSelection:Kl(function(Es){for(var ks=this.doc.sel.ranges,Js=-1,fo=0;fo<ks.length;fo++){var wo=ks[fo];if(wo.empty())wo.head.line>Js&&(Xf(this,wo.head.line,Es,!0),Js=wo.head.line,fo==this.doc.sel.primIndex&&Uu(this));else{var Lo=wo.from(),Do=wo.to(),ra=Math.max(Js,Lo.line);Js=Math.min(this.lastLine(),Do.line-(Do.ch?0:1))+1;for(var aa=ra;aa<Js;++aa)Xf(this,aa,Es);var xa=this.doc.sel.ranges;Lo.ch==0&&ks.length==xa.length&&xa[fo].from().ch>0&&Hu(this.doc,fo,new Ro(Lo,xa[fo].to()),Eo)}}}),getTokenAt:function(Es,ks){return fh(this,Es,ks)},getLineTokens:function(Es,ks){return fh(this,Xa(Es),ks,!0)},getTokenTypeAt:function(Es){Es=Ta(this.doc,Es);var ks=Tc(this,Cl(this.doc,Es.line)),Js=0,fo=(ks.length-1)/2,wo=Es.ch,Lo;if(wo==0)Lo=ks[2];else for(;;){var Do=Js+fo>>1;if((Do?ks[Do*2-1]:0)>=wo)fo=Do;else if(ks[Do*2+1]<wo)Js=Do+1;else{Lo=ks[Do*2+2];break}}var ra=Lo?Lo.indexOf("overlay "):-1;return ra<0?Lo:ra==0?null:Lo.slice(0,ra-1)},getModeAt:function(Es){var ks=this.doc.mode;return ks.innerMode?as.innerMode(ks,this.getTokenAt(Es).state).mode:ks},getHelper:function(Es,ks){return this.getHelpers(Es,ks)[0]},getHelpers:function(Es,ks){var Js=[];if(!xs.hasOwnProperty(ks))return Js;var fo=xs[ks],wo=this.getModeAt(Es);if(typeof wo[ks]=="string")fo[wo[ks]]&&Js.push(fo[wo[ks]]);else if(wo[ks])for(var Lo=0;Lo<wo[ks].length;Lo++){var Do=fo[wo[ks][Lo]];Do&&Js.push(Do)}else wo.helperType&&fo[wo.helperType]?Js.push(fo[wo.helperType]):fo[wo.name]&&Js.push(fo[wo.name]);for(var ra=0;ra<fo._global.length;ra++){var aa=fo._global[ra];aa.pred(wo,this)&&So(Js,aa.val)==-1&&Js.push(aa.val)}return Js},getStateAfter:function(Es,ks){var Js=this.doc;return Es=ba(Js,Es??Js.first+Js.size-1),Qc(this,Es+1,ks).state},cursorCoords:function(Es,ks){var Js,fo=this.doc.sel.primary();return Es==null?Js=fo.head:typeof Es=="object"?Js=Ta(this.doc,Es):Js=Es?fo.from():fo.to(),Fa(this,Js,ks||"page")},charCoords:function(Es,ks){return Qa(this,Ta(this.doc,Es),ks||"page")},coordsChar:function(Es,ks){return Es=Ca(this,Es,ks||"page"),ac(this,Es.left,Es.top)},lineAtHeight:function(Es,ks){return Es=Ca(this,{top:Es,left:0},ks||"page").top,ih(this.doc,Es+this.display.viewOffset)},heightAtLine:function(Es,ks,Js){var fo=!1,wo;if(typeof Es=="number"){var Lo=this.doc.first+this.doc.size-1;Es<this.doc.first?Es=this.doc.first:Es>Lo&&(Es=Lo,fo=!0),wo=Cl(this.doc,Es)}else wo=Es;return ah(this,wo,{top:0,left:0},ks||"page",Js||fo).top+(fo?this.doc.height-Zc(wo):0)},defaultTextHeight:function(){return Gh(this.display)},defaultCharWidth:function(){return nd(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(Es,ks,Js,fo,wo){var Lo=this.display;Es=Fa(this,Ta(this.doc,Es));var Do=Es.bottom,ra=Es.left;if(ks.style.position="absolute",ks.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(ks),Lo.sizer.appendChild(ks),fo=="over")Do=Es.top;else if(fo=="above"||fo=="near"){var aa=Math.max(Lo.wrapper.clientHeight,this.doc.height),xa=Math.max(Lo.sizer.clientWidth,Lo.lineSpace.clientWidth);(fo=="above"||Es.bottom+ks.offsetHeight>aa)&&Es.top>ks.offsetHeight?Do=Es.top-ks.offsetHeight:Es.bottom+ks.offsetHeight<=aa&&(Do=Es.bottom),ra+ks.offsetWidth>xa&&(ra=xa-ks.offsetWidth)}ks.style.top=Do+"px",ks.style.left=ks.style.right="",wo=="right"?(ra=Lo.sizer.clientWidth-ks.offsetWidth,ks.style.right="0px"):(wo=="left"?ra=0:wo=="middle"&&(ra=(Lo.sizer.clientWidth-ks.offsetWidth)/2),ks.style.left=ra+"px"),Js&&Cg(this,{left:ra,top:Do,right:ra+ks.offsetWidth,bottom:Do+ks.offsetHeight})},triggerOnKeyDown:Kl(Hp),triggerOnKeyPress:Kl(Yg),triggerOnKeyUp:VA,triggerOnMouseDown:Kl(ng),execCommand:function(Es){if(Gf.hasOwnProperty(Es))return Gf[Es].call(null,this)},triggerElectric:Kl(function(Es){ag(this,Es)}),findPosH:function(Es,ks,Js,fo){var wo=1;ks<0&&(wo=-1,ks=-ks);for(var Lo=Ta(this.doc,Es),Do=0;Do<ks&&(Lo=Bl(this.doc,Lo,wo,Js,fo),!Lo.hitSide);++Do);return Lo},moveH:Kl(function(Es,ks){var Js=this;this.extendSelectionsBy(function(fo){return Js.display.shift||Js.doc.extend||fo.empty()?Bl(Js.doc,fo.head,Es,ks,Js.options.rtlMoveVisually):Es<0?fo.from():fo.to()},yo)}),deleteH:Kl(function(Es,ks){var Js=this.doc.sel,fo=this.doc;Js.somethingSelected()?fo.replaceSelection("",null,"+delete"):ld(this,function(wo){var Lo=Bl(fo,wo.head,Es,ks,!1);return Es<0?{from:Lo,to:wo.head}:{from:wo.head,to:Lo}})}),findPosV:function(Es,ks,Js,fo){var wo=1,Lo=fo;ks<0&&(wo=-1,ks=-ks);for(var Do=Ta(this.doc,Es),ra=0;ra<ks;++ra){var aa=Fa(this,Do,"div");if(Lo==null?Lo=aa.left:aa.left=Lo,Do=qA(this,aa,wo,Js),Do.hitSide)break}return Do},moveV:Kl(function(Es,ks){var Js=this,fo=this.doc,wo=[],Lo=!this.display.shift&&!fo.extend&&fo.sel.somethingSelected();if(fo.extendSelectionsBy(function(ra){if(Lo)return Es<0?ra.from():ra.to();var aa=Fa(Js,ra.head,"div");ra.goalColumn!=null&&(aa.left=ra.goalColumn),wo.push(aa.left);var xa=qA(Js,aa,Es,ks);return ks=="page"&&ra==fo.sel.primary()&&Fp(Js,Qa(Js,xa,"div").top-aa.top),xa},yo),wo.length)for(var Do=0;Do<fo.sel.ranges.length;Do++)fo.sel.ranges[Do].goalColumn=wo[Do]}),findWordAt:function(Es){var ks=this.doc,Js=Cl(ks,Es.line).text,fo=Es.ch,wo=Es.ch;if(Js){var Lo=this.getHelper(Es,"wordChars");(Es.sticky=="before"||wo==Js.length)&&fo?--fo:++wo;for(var Do=Js.charAt(fo),ra=uo(Do,Lo)?function(aa){return uo(aa,Lo)}:/\s/.test(Do)?function(aa){return/\s/.test(aa)}:function(aa){return!/\s/.test(aa)&&!uo(aa)};fo>0&&ra(Js.charAt(fo-1));)--fo;for(;wo<Js.length&&ra(Js.charAt(wo));)++wo}return new Ro(Xa(Es.line,fo),Xa(Es.line,wo))},toggleOverwrite:function(Es){Es!=null&&Es==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Zs(this.display.cursorDiv,"CodeMirror-overwrite"):Is(this.display.cursorDiv,"CodeMirror-overwrite"),Ja(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Us(zs(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Kl(function(Es,ks){Ku(this,Es,ks)}),getScrollInfo:function(){var Es=this.display.scroller;return{left:Es.scrollLeft,top:Es.scrollTop,height:Es.scrollHeight-ed(this)-this.display.barHeight,width:Es.scrollWidth-ed(this)-this.display.barWidth,clientHeight:Gu(this),clientWidth:wh(this)}},scrollIntoView:Kl(function(Es,ks){Es==null?(Es={from:this.doc.sel.primary().head,to:null},ks==null&&(ks=this.options.cursorScrollMargin)):typeof Es=="number"?Es={from:Xa(Es,0),to:null}:Es.from==null&&(Es={from:Es,to:null}),Es.to||(Es.to=Es.from),Es.margin=ks||0,Es.from.line!=null?Vg(this,Es):Gp(this,Es.from,Es.to,Es.margin)}),setSize:Kl(function(Es,ks){var Js=this,fo=function(Lo){return typeof Lo=="number"||/^\d+$/.test(String(Lo))?Lo+"px":Lo};Es!=null&&(this.display.wrapper.style.width=fo(Es)),ks!=null&&(this.display.wrapper.style.height=fo(ks)),this.options.lineWrapping&&MA(this);var wo=this.display.viewFrom;this.doc.iter(wo,this.display.viewTo,function(Lo){if(Lo.widgets){for(var Do=0;Do<Lo.widgets.length;Do++)if(Lo.widgets[Do].noHScroll){pu(Js,wo,"widget");break}}++wo}),this.curOp.forceUpdate=!0,Ja(this,"refresh",this)}),operation:function(Es){return lh(this,Es)},startOperation:function(){return Kh(this)},endOperation:function(){return Uh(this)},refresh:Kl(function(){var Es=this.display.cachedTextHeight;Uc(this),this.curOp.forceUpdate=!0,Ch(this),Ku(this,this.doc.scrollLeft,this.doc.scrollTop),Jp(this.display),(Es==null||Math.abs(Es-Gh(this.display))>.5||this.options.lineWrapping)&&sd(this),Ja(this,"refresh",this)}),swapDoc:Kl(function(Es){var ks=this.doc;return ks.cm=null,this.state.selectingText&&this.state.selectingText(),Ka(this,Es),Ch(this),this.display.input.reset(),Ku(this,Es.scrollLeft,Es.scrollTop),this.curOp.forceScroll=!0,za(this,"swapDoc",this,ks),ks}),phrase:function(Es){var ks=this.options.phrases;return ks&&Object.prototype.hasOwnProperty.call(ks,Es)?ks[Es]:Es},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Wl(as),as.registerHelper=function(Es,ks,Js){xs.hasOwnProperty(Es)||(xs[Es]=as[Es]={_global:[]}),xs[Es][ks]=Js},as.registerGlobalHelper=function(Es,ks,Js,fo){as.registerHelper(Es,ks,fo),xs[Es]._global.push({pred:Js,val:fo})}}function Bl(as,ds,xs,Es,ks){var Js=ds,fo=xs,wo=Cl(as,ds.line),Lo=ks&&as.direction=="rtl"?-xs:xs;function Do(){var ml=ds.line+Lo;return ml<as.first||ml>=as.first+as.size?!1:(ds=new Xa(ml,ds.ch,ds.sticky),wo=Cl(as,ml))}function ra(ml){var Al;if(Es=="codepoint"){var Sl=wo.text.charCodeAt(ds.ch+(xs>0?0:-1));if(isNaN(Sl))Al=null;else{var Hl=xs>0?Sl>=55296&&Sl<56320:Sl>=56320&&Sl<57343;Al=new Xa(ds.line,Math.max(0,Math.min(wo.text.length,ds.ch+xs*(Hl?2:1))),-xs)}}else ks?Al=xA(as.cm,wo,ds,xs):Al=eA(wo,ds,xs);if(Al==null)if(!ml&&Do())ds=lf(ks,as.cm,wo,ds.line,Lo);else return!1;else ds=Al;return!0}if(Es=="char"||Es=="codepoint")ra();else if(Es=="column")ra(!0);else if(Es=="word"||Es=="group")for(var aa=null,xa=Es=="group",va=as.cm&&as.cm.getHelper(ds,"wordChars"),ja=!0;!(xs<0&&!ra(!ja));ja=!1){var Ya=wo.text.charAt(ds.ch)||`
`,ol=uo(Ya,va)?"w":xa&&Ya==`
`?"n":!xa||/\s/.test(Ya)?null:"p";if(xa&&!ja&&!ol&&(ol="s"),aa&&aa!=ol){xs<0&&(xs=1,ra(),ds.sticky="after");break}if(ol&&(aa=ol),xs>0&&!ra(!ja))break}var dl=uA(as,ds,Js,fo,!0);return Ou(Js,dl)&&(dl.hitSide=!0),dl}function qA(as,ds,xs,Es){var ks=as.doc,Js=ds.left,fo;if(Es=="page"){var wo=Math.min(as.display.wrapper.clientHeight,oo(as).innerHeight||ks(as).documentElement.clientHeight),Lo=Math.max(wo-.5*Gh(as.display),3);fo=(xs>0?ds.bottom:ds.top)+xs*Lo}else Es=="line"&&(fo=xs>0?ds.bottom+3:ds.top-3);for(var Do;Do=ac(as,Js,fo),!!Do.outside;){if(xs<0?fo<=0:fo>=ks.height){Do.hitSide=!0;break}fo+=xs*5}return Do}var Hc=function(as){this.cm=as,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new co,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Hc.prototype.init=function(as){var ds=this,xs=this,Es=xs.cm,ks=xs.div=as.lineDiv;ks.contentEditable=!0,lg(ks,Es.options.spellcheck,Es.options.autocorrect,Es.options.autocapitalize);function Js(wo){for(var Lo=wo.target;Lo;Lo=Lo.parentNode){if(Lo==ks)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Lo.className))break}return!1}Ea(ks,"paste",function(wo){!Js(wo)||Ua(Es,wo)||zA(wo,Es)||ls<=11&&setTimeout(ru(Es,function(){return ds.updateFromDOM()}),20)}),Ea(ks,"compositionstart",function(wo){ds.composing={data:wo.data,done:!1}}),Ea(ks,"compositionupdate",function(wo){ds.composing||(ds.composing={data:wo.data,done:!1})}),Ea(ks,"compositionend",function(wo){ds.composing&&(wo.data!=ds.composing.data&&ds.readFromDOMSoon(),ds.composing.done=!0)}),Ea(ks,"touchstart",function(){return xs.forceCompositionEnd()}),Ea(ks,"input",function(){ds.composing||ds.readFromDOMSoon()});function fo(wo){if(!(!Js(wo)||Ua(Es,wo))){if(Es.somethingSelected())og({lineWise:!1,text:Es.getSelections()}),wo.type=="cut"&&Es.replaceSelection("",null,"cut");else if(Es.options.lineWiseCopyCut){var Lo=Mg(Es);og({lineWise:!0,text:Lo.text}),wo.type=="cut"&&Es.operation(function(){Es.setSelections(Lo.ranges,0,Eo),Es.replaceSelection("",null,"cut")})}else return;if(wo.clipboardData){wo.clipboardData.clearData();var Do=fA.text.join(`
`);if(wo.clipboardData.setData("Text",Do),wo.clipboardData.getData("Text")==Do){wo.preventDefault();return}}var ra=cf(),aa=ra.firstChild;lg(aa),Es.display.lineSpace.insertBefore(ra,Es.display.lineSpace.firstChild),aa.value=fA.text.join(`
`);var xa=Us(so(ks));js(aa),setTimeout(function(){Es.display.lineSpace.removeChild(ra),xa.focus(),xa==ks&&xs.showPrimarySelection()},50)}}Ea(ks,"copy",fo),Ea(ks,"cut",fo)},Hc.prototype.screenReaderLabelChanged=function(as){as?this.div.setAttribute("aria-label",as):this.div.removeAttribute("aria-label")},Hc.prototype.prepareSelection=function(){var as=$f(this.cm,!1);return as.focus=Us(so(this.div))==this.div,as},Hc.prototype.showSelection=function(as,ds){!as||!this.cm.display.view.length||((as.focus||ds)&&this.showPrimarySelection(),this.showMultipleSelections(as))},Hc.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Hc.prototype.showPrimarySelection=function(){var as=this.getSelection(),ds=this.cm,xs=ds.doc.sel.primary(),Es=xs.from(),ks=xs.to();if(ds.display.viewTo==ds.display.viewFrom||Es.line>=ds.display.viewTo||ks.line<ds.display.viewFrom){as.removeAllRanges();return}var Js=jh(ds,as.anchorNode,as.anchorOffset),fo=jh(ds,as.focusNode,as.focusOffset);if(!(Js&&!Js.bad&&fo&&!fo.bad&&zl(Go(Js,fo),Es)==0&&zl(Ad(Js,fo),ks)==0)){var wo=ds.display.view,Lo=Es.line>=ds.display.viewFrom&&$d(ds,Es)||{node:wo[0].measure.map[2],offset:0},Do=ks.line<ds.display.viewTo&&$d(ds,ks);if(!Do){var ra=wo[wo.length-1].measure,aa=ra.maps?ra.maps[ra.maps.length-1]:ra.map;Do={node:aa[aa.length-1],offset:aa[aa.length-2]-aa[aa.length-3]}}if(!Lo||!Do){as.removeAllRanges();return}var xa=as.rangeCount&&as.getRangeAt(0),va;try{va=Ns(Lo.node,Lo.offset,Do.offset,Do.node)}catch{}va&&(!rs&&ds.state.focused?(as.collapse(Lo.node,Lo.offset),va.collapsed||(as.removeAllRanges(),as.addRange(va))):(as.removeAllRanges(),as.addRange(va)),xa&&as.anchorNode==null?as.addRange(xa):rs&&this.startGracePeriod()),this.rememberSelection()}},Hc.prototype.startGracePeriod=function(){var as=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){as.gracePeriod=!1,as.selectionChanged()&&as.cm.operation(function(){return as.cm.curOp.selectionChanged=!0})},20)},Hc.prototype.showMultipleSelections=function(as){Ws(this.cm.display.cursorDiv,as.cursors),Ws(this.cm.display.selectionDiv,as.selection)},Hc.prototype.rememberSelection=function(){var as=this.getSelection();this.lastAnchorNode=as.anchorNode,this.lastAnchorOffset=as.anchorOffset,this.lastFocusNode=as.focusNode,this.lastFocusOffset=as.focusOffset},Hc.prototype.selectionInEditor=function(){var as=this.getSelection();if(!as.rangeCount)return!1;var ds=as.getRangeAt(0).commonAncestorContainer;return Ss(this.div,ds)},Hc.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Us(so(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Hc.prototype.blur=function(){this.div.blur()},Hc.prototype.getField=function(){return this.div},Hc.prototype.supportsTouch=function(){return!0},Hc.prototype.receivedFocus=function(){var as=this,ds=this;this.selectionInEditor()?setTimeout(function(){return as.pollSelection()},20):lh(this.cm,function(){return ds.cm.curOp.selectionChanged=!0});function xs(){ds.cm.state.focused&&(ds.pollSelection(),ds.polling.set(ds.cm.options.pollInterval,xs))}this.polling.set(this.cm.options.pollInterval,xs)},Hc.prototype.selectionChanged=function(){var as=this.getSelection();return as.anchorNode!=this.lastAnchorNode||as.anchorOffset!=this.lastAnchorOffset||as.focusNode!=this.lastFocusNode||as.focusOffset!=this.lastFocusOffset},Hc.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var as=this.getSelection(),ds=this.cm;if(fs&&us&&this.cm.display.gutterSpecs.length&&Jf(as.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var xs=jh(ds,as.anchorNode,as.anchorOffset),Es=jh(ds,as.focusNode,as.focusOffset);xs&&Es&&lh(ds,function(){Vc(ds.doc,zo(xs,Es),Eo),(xs.bad||Es.bad)&&(ds.curOp.selectionChanged=!0)})}}},Hc.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var as=this.cm,ds=as.display,xs=as.doc.sel.primary(),Es=xs.from(),ks=xs.to();if(Es.ch==0&&Es.line>as.firstLine()&&(Es=Xa(Es.line-1,Cl(as.doc,Es.line-1).length)),ks.ch==Cl(as.doc,ks.line).text.length&&ks.line<as.lastLine()&&(ks=Xa(ks.line+1,0)),Es.line<ds.viewFrom||ks.line>ds.viewTo-1)return!1;var Js,fo,wo;Es.line==ds.viewFrom||(Js=qc(as,Es.line))==0?(fo=nc(ds.view[0].line),wo=ds.view[0].node):(fo=nc(ds.view[Js].line),wo=ds.view[Js-1].node.nextSibling);var Lo=qc(as,ks.line),Do,ra;if(Lo==ds.view.length-1?(Do=ds.viewTo-1,ra=ds.lineDiv.lastChild):(Do=nc(ds.view[Lo+1].line)-1,ra=ds.view[Lo+1].node.previousSibling),!wo)return!1;for(var aa=as.doc.splitLines(uf(as,wo,ra,fo,Do)),xa=Lh(as.doc,Xa(fo,0),Xa(Do,Cl(as.doc,Do).text.length));aa.length>1&&xa.length>1;)if(ko(aa)==ko(xa))aa.pop(),xa.pop(),Do--;else if(aa[0]==xa[0])aa.shift(),xa.shift(),fo++;else break;for(var va=0,ja=0,Ya=aa[0],ol=xa[0],dl=Math.min(Ya.length,ol.length);va<dl&&Ya.charCodeAt(va)==ol.charCodeAt(va);)++va;for(var ml=ko(aa),Al=ko(xa),Sl=Math.min(ml.length-(aa.length==1?va:0),Al.length-(xa.length==1?va:0));ja<Sl&&ml.charCodeAt(ml.length-ja-1)==Al.charCodeAt(Al.length-ja-1);)++ja;if(aa.length==1&&xa.length==1&&fo==Es.line)for(;va&&va>Es.ch&&ml.charCodeAt(ml.length-ja-1)==Al.charCodeAt(Al.length-ja-1);)va--,ja++;aa[aa.length-1]=ml.slice(0,ml.length-ja).replace(/^\u200b+/,""),aa[0]=aa[0].slice(va).replace(/\u200b+$/,"");var Hl=Xa(fo,va),Rl=Xa(Do,xa.length?ko(xa).length-ja:0);if(aa.length>1||aa[0]||zl(Hl,Rl))return Yd(as.doc,aa,Hl,Rl,"+input"),!0},Hc.prototype.ensurePolled=function(){this.forceCompositionEnd()},Hc.prototype.reset=function(){this.forceCompositionEnd()},Hc.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Hc.prototype.readFromDOMSoon=function(){var as=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(as.readDOMTimeout=null,as.composing)if(as.composing.done)as.composing=null;else return;as.updateFromDOM()},80))},Hc.prototype.updateFromDOM=function(){var as=this;(this.cm.isReadOnly()||!this.pollContent())&&lh(this.cm,function(){return Uc(as.cm)})},Hc.prototype.setUneditable=function(as){as.contentEditable="false"},Hc.prototype.onKeyPress=function(as){as.charCode==0||this.composing||(as.preventDefault(),this.cm.isReadOnly()||ru(this.cm,tm)(this.cm,String.fromCharCode(as.charCode==null?as.keyCode:as.charCode),0))},Hc.prototype.readOnlyChanged=function(as){this.div.contentEditable=String(as!="nocursor")},Hc.prototype.onContextMenu=function(){},Hc.prototype.resetPosition=function(){},Hc.prototype.needsContentAttribute=!0;function $d(as,ds){var xs=Dh(as,ds.line);if(!xs||xs.hidden)return null;var Es=Cl(as.doc,ds.line),ks=XA(xs,Es,ds.line),Js=Ba(Es,as.doc.direction),fo="left";if(Js){var wo=ua(Js,ds.ch);fo=wo%2?"right":"left"}var Lo=Ru(ks.map,ds.ch,fo);return Lo.offset=Lo.collapse=="right"?Lo.end:Lo.start,Lo}function Jf(as){for(var ds=as;ds;ds=ds.parentNode)if(/CodeMirror-gutter-wrapper/.test(ds.className))return!0;return!1}function SA(as,ds){return ds&&(as.bad=!0),as}function uf(as,ds,xs,Es,ks){var Js="",fo=!1,wo=as.doc.lineSeparator(),Lo=!1;function Do(va){return function(ja){return ja.id==va}}function ra(){fo&&(Js+=wo,Lo&&(Js+=wo),fo=Lo=!1)}function aa(va){va&&(ra(),Js+=va)}function xa(va){if(va.nodeType==1){var ja=va.getAttribute("cm-text");if(ja){aa(ja);return}var Ya=va.getAttribute("cm-marker"),ol;if(Ya){var dl=as.findMarks(Xa(Es,0),Xa(ks+1,0),Do(+Ya));dl.length&&(ol=dl[0].find(0))&&aa(Lh(as.doc,ol.from,ol.to).join(wo));return}if(va.getAttribute("contenteditable")=="false")return;var ml=/^(pre|div|p|li|table|br)$/i.test(va.nodeName);if(!/^br$/i.test(va.nodeName)&&va.textContent.length==0)return;ml&&ra();for(var Al=0;Al<va.childNodes.length;Al++)xa(va.childNodes[Al]);/^(pre|p)$/i.test(va.nodeName)&&(Lo=!0),ml&&(fo=!0)}else va.nodeType==3&&aa(va.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;xa(ds),ds!=xs;)ds=ds.nextSibling,Lo=!1;return Js}function jh(as,ds,xs){var Es;if(ds==as.display.lineDiv){if(Es=as.display.lineDiv.childNodes[xs],!Es)return SA(as.clipPos(Xa(as.display.viewTo-1)),!0);ds=null,xs=0}else for(Es=ds;;Es=Es.parentNode){if(!Es||Es==as.display.lineDiv)return null;if(Es.parentNode&&Es.parentNode==as.display.lineDiv)break}for(var ks=0;ks<as.display.view.length;ks++){var Js=as.display.view[ks];if(Js.node==Es)return Am(Js,ds,xs)}}function Am(as,ds,xs){var Es=as.text.firstChild,ks=!1;if(!ds||!Ss(Es,ds))return SA(Xa(nc(as.line),0),!0);if(ds==Es&&(ks=!0,ds=Es.childNodes[xs],xs=0,!ds)){var Js=as.rest?ko(as.rest):as.line;return SA(Xa(nc(Js),Js.text.length),ks)}var fo=ds.nodeType==3?ds:null,wo=ds;for(!fo&&ds.childNodes.length==1&&ds.firstChild.nodeType==3&&(fo=ds.firstChild,xs&&(xs=fo.nodeValue.length));wo.parentNode!=Es;)wo=wo.parentNode;var Lo=as.measure,Do=Lo.maps;function ra(ol,dl,ml){for(var Al=-1;Al<(Do?Do.length:0);Al++)for(var Sl=Al<0?Lo.map:Do[Al],Hl=0;Hl<Sl.length;Hl+=3){var Rl=Sl[Hl+2];if(Rl==ol||Rl==dl){var gc=nc(Al<0?as.line:as.rest[Al]),Bu=Sl[Hl]+ml;return(ml<0||Rl!=ol)&&(Bu=Sl[Hl+(ml?1:0)]),Xa(gc,Bu)}}}var aa=ra(fo,wo,xs);if(aa)return SA(aa,ks);for(var xa=wo.nextSibling,va=fo?fo.nodeValue.length-xs:0;xa;xa=xa.nextSibling){if(aa=ra(xa,xa.firstChild,0),aa)return SA(Xa(aa.line,aa.ch-va),ks);va+=xa.textContent.length}for(var ja=wo.previousSibling,Ya=xs;ja;ja=ja.previousSibling){if(aa=ra(ja,ja.firstChild,-1),aa)return SA(Xa(aa.line,aa.ch+Ya),ks);Ya+=ja.textContent.length}}var hh=function(as){this.cm=as,this.prevInput="",this.pollingFast=!1,this.polling=new co,this.hasSelection=!1,this.composing=null,this.resetting=!1};hh.prototype.init=function(as){var ds=this,xs=this,Es=this.cm;this.createField(as);var ks=this.textarea;as.wrapper.insertBefore(this.wrapper,as.wrapper.firstChild),ms&&(ks.style.width="0px"),Ea(ks,"input",function(){os&&ls>=9&&ds.hasSelection&&(ds.hasSelection=null),xs.poll()}),Ea(ks,"paste",function(fo){Ua(Es,fo)||zA(fo,Es)||(Es.state.pasteIncoming=+new Date,xs.fastPoll())});function Js(fo){if(!Ua(Es,fo)){if(Es.somethingSelected())og({lineWise:!1,text:Es.getSelections()});else if(Es.options.lineWiseCopyCut){var wo=Mg(Es);og({lineWise:!0,text:wo.text}),fo.type=="cut"?Es.setSelections(wo.ranges,null,Eo):(xs.prevInput="",ks.value=wo.text.join(`
`),js(ks))}else return;fo.type=="cut"&&(Es.state.cutIncoming=+new Date)}}Ea(ks,"cut",Js),Ea(ks,"copy",Js),Ea(as.scroller,"paste",function(fo){if(!(oh(as,fo)||Ua(Es,fo))){if(!ks.dispatchEvent){Es.state.pasteIncoming=+new Date,xs.focus();return}var wo=new Event("paste");wo.clipboardData=fo.clipboardData,ks.dispatchEvent(wo)}}),Ea(as.lineSpace,"selectstart",function(fo){oh(as,fo)||El(fo)}),Ea(ks,"compositionstart",function(){var fo=Es.getCursor("from");xs.composing&&xs.composing.range.clear(),xs.composing={start:fo,range:Es.markText(fo,Es.getCursor("to"),{className:"CodeMirror-composing"})}}),Ea(ks,"compositionend",function(){xs.composing&&(xs.poll(),xs.composing.range.clear(),xs.composing=null)})},hh.prototype.createField=function(as){this.wrapper=cf(),this.textarea=this.wrapper.firstChild;var ds=this.cm.options;lg(this.textarea,ds.spellcheck,ds.autocorrect,ds.autocapitalize)},hh.prototype.screenReaderLabelChanged=function(as){as?this.textarea.setAttribute("aria-label",as):this.textarea.removeAttribute("aria-label")},hh.prototype.prepareSelection=function(){var as=this.cm,ds=as.display,xs=as.doc,Es=$f(as);if(as.options.moveInputWithCursor){var ks=Fa(as,xs.sel.primary().head,"div"),Js=ds.wrapper.getBoundingClientRect(),fo=ds.lineDiv.getBoundingClientRect();Es.teTop=Math.max(0,Math.min(ds.wrapper.clientHeight-10,ks.top+fo.top-Js.top)),Es.teLeft=Math.max(0,Math.min(ds.wrapper.clientWidth-10,ks.left+fo.left-Js.left))}return Es},hh.prototype.showSelection=function(as){var ds=this.cm,xs=ds.display;Ws(xs.cursorDiv,as.cursors),Ws(xs.selectionDiv,as.selection),as.teTop!=null&&(this.wrapper.style.top=as.teTop+"px",this.wrapper.style.left=as.teLeft+"px")},hh.prototype.reset=function(as){if(!(this.contextMenuPending||this.composing&&as)){var ds=this.cm;if(this.resetting=!0,ds.somethingSelected()){this.prevInput="";var xs=ds.getSelection();this.textarea.value=xs,ds.state.focused&&js(this.textarea),os&&ls>=9&&(this.hasSelection=xs)}else as||(this.prevInput=this.textarea.value="",os&&ls>=9&&(this.hasSelection=null));this.resetting=!1}},hh.prototype.getField=function(){return this.textarea},hh.prototype.supportsTouch=function(){return!1},hh.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!gs||Us(so(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},hh.prototype.blur=function(){this.textarea.blur()},hh.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},hh.prototype.receivedFocus=function(){this.slowPoll()},hh.prototype.slowPoll=function(){var as=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){as.poll(),as.cm.state.focused&&as.slowPoll()})},hh.prototype.fastPoll=function(){var as=!1,ds=this;ds.pollingFast=!0;function xs(){var Es=ds.poll();!Es&&!as?(as=!0,ds.polling.set(60,xs)):(ds.pollingFast=!1,ds.slowPoll())}ds.polling.set(20,xs)},hh.prototype.poll=function(){var as=this,ds=this.cm,xs=this.textarea,Es=this.prevInput;if(this.contextMenuPending||this.resetting||!ds.state.focused||Mu(xs)&&!Es&&!this.composing||ds.isReadOnly()||ds.options.disableInput||ds.state.keySeq)return!1;var ks=xs.value;if(ks==Es&&!ds.somethingSelected())return!1;if(os&&ls>=9&&this.hasSelection===ks||ws&&/[\uf700-\uf7ff]/.test(ks))return ds.display.input.reset(),!1;if(ds.doc.sel==ds.display.selForContextMenu){var Js=ks.charCodeAt(0);if(Js==8203&&!Es&&(Es="​"),Js==8666)return this.reset(),this.cm.execCommand("undo")}for(var fo=0,wo=Math.min(Es.length,ks.length);fo<wo&&Es.charCodeAt(fo)==ks.charCodeAt(fo);)++fo;return lh(ds,function(){tm(ds,ks.slice(fo),Es.length-fo,null,as.composing?"*compose":null),ks.length>1e3||ks.indexOf(`
`)>-1?xs.value=as.prevInput="":as.prevInput=ks,as.composing&&(as.composing.range.clear(),as.composing.range=ds.markText(as.composing.start,ds.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},hh.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},hh.prototype.onKeyPress=function(){os&&ls>=9&&(this.hasSelection=null),this.fastPoll()},hh.prototype.onContextMenu=function(as){var ds=this,xs=ds.cm,Es=xs.display,ks=ds.textarea;ds.contextMenuPending&&ds.contextMenuPending();var Js=Mc(xs,as),fo=Es.scroller.scrollTop;if(!Js||bs)return;var wo=xs.options.resetSelectionOnContextMenu;wo&&xs.doc.sel.contains(Js)==-1&&ru(xs,Vc)(xs.doc,zo(Js),Eo);var Lo=ks.style.cssText,Do=ds.wrapper.style.cssText,ra=ds.wrapper.offsetParent.getBoundingClientRect();ds.wrapper.style.cssText="position: static",ks.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(as.clientY-ra.top-5)+"px; left: "+(as.clientX-ra.left-5)+`px;
      z-index: 1000; background: `+(os?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var aa;cs&&(aa=ks.ownerDocument.defaultView.scrollY),Es.input.focus(),cs&&ks.ownerDocument.defaultView.scrollTo(null,aa),Es.input.reset(),xs.somethingSelected()||(ks.value=ds.prevInput=" "),ds.contextMenuPending=va,Es.selForContextMenu=xs.doc.sel,clearTimeout(Es.detectingSelectAll);function xa(){if(ks.selectionStart!=null){var Ya=xs.somethingSelected(),ol="​"+(Ya?ks.value:"");ks.value="⇚",ks.value=ol,ds.prevInput=Ya?"":"​",ks.selectionStart=1,ks.selectionEnd=ol.length,Es.selForContextMenu=xs.doc.sel}}function va(){if(ds.contextMenuPending==va&&(ds.contextMenuPending=!1,ds.wrapper.style.cssText=Do,ks.style.cssText=Lo,os&&ls<9&&Es.scrollbars.setScrollTop(Es.scroller.scrollTop=fo),ks.selectionStart!=null)){(!os||os&&ls<9)&&xa();var Ya=0,ol=function(){Es.selForContextMenu==xs.doc.sel&&ks.selectionStart==0&&ks.selectionEnd>0&&ds.prevInput=="​"?ru(xs,Tu)(xs):Ya++<10?Es.detectingSelectAll=setTimeout(ol,500):(Es.selForContextMenu=null,Es.input.reset())};Es.detectingSelectAll=setTimeout(ol,200)}}if(os&&ls>=9&&xa(),Qs){wl(as);var ja=function(){kl(window,"mouseup",ja),setTimeout(va,20)};Ea(window,"mouseup",ja)}else setTimeout(va,50)},hh.prototype.readOnlyChanged=function(as){as||this.reset(),this.textarea.disabled=as=="nocursor",this.textarea.readOnly=!!as},hh.prototype.setUneditable=function(){},hh.prototype.needsContentAttribute=!1;function Og(as,ds){if(ds=ds?Xs(ds):{},ds.value=as.value,!ds.tabindex&&as.tabIndex&&(ds.tabindex=as.tabIndex),!ds.placeholder&&as.placeholder&&(ds.placeholder=as.placeholder),ds.autofocus==null){var xs=Us(so(as));ds.autofocus=xs==as||as.getAttribute("autofocus")!=null&&xs==document.body}function Es(){as.value=wo.getValue()}var ks;if(as.form&&(Ea(as.form,"submit",Es),!ds.leaveSubmitMethodAlone)){var Js=as.form;ks=Js.submit;try{var fo=Js.submit=function(){Es(),Js.submit=ks,Js.submit(),Js.submit=fo}}catch{}}ds.finishInit=function(Lo){Lo.save=Es,Lo.getTextArea=function(){return as},Lo.toTextArea=function(){Lo.toTextArea=isNaN,Es(),as.parentNode.removeChild(Lo.getWrapperElement()),as.style.display="",as.form&&(kl(as.form,"submit",Es),!ds.leaveSubmitMethodAlone&&typeof as.form.submit=="function"&&(as.form.submit=ks))}},as.style.display="none";var wo=Kc(function(Lo){return as.parentNode.insertBefore(Lo,as.nextSibling)},ds);return wo}function cg(as){as.off=kl,as.on=Ea,as.wheelEventPixels=ho,as.Doc=Yh,as.splitLines=dh,as.countColumn=lo,as.findColumn=Jo,as.isWordChar=To,as.Pass=vo,as.signal=Ja,as.Line=Zh,as.changeEnd=Ko,as.scrollbarModel=Cf,as.Pos=Xa,as.cmpPos=zl,as.modes=ca,as.mimeModes=gl,as.resolveMode=oc,as.getMode=Yl,as.modeExtensions=Sc,as.extendMode=Bh,as.copyState=Eu,as.startState=_h,as.innerMode=xu,as.commands=Gf,as.keyMap=Zd,as.keyName=af,as.isModifierKey=Rp,as.lookupKey=Hh,as.normalizeKeyMap=vu,as.StringStream=Nc,as.SharedTextMarker=Tf,as.TextMarker=vd,as.LineWidget=dA,as.e_preventDefault=El,as.e_stopPropagation=$c,as.e_stop=wl,as.addClass=Zs,as.contains=Ss,as.rmClass=Is,as.keyNames=bh}Pg(Kc),Cp(Kc);var rm="iter insert remove copy getEditor constructor".split(" ");for(var ug in Yh.prototype)Yh.prototype.hasOwnProperty(ug)&&So(rm,ug)<0&&(Kc.prototype[ug]=function(as){return function(){return as.apply(this.doc,arguments)}}(Yh.prototype[ug]));return Wl(Yh),Kc.inputStyles={textarea:hh,contenteditable:Hc},Kc.defineMode=function(as){!Kc.defaults.mode&&as!="null"&&(Kc.defaults.mode=as),cl.apply(this,arguments)},Kc.defineMIME=Zl,Kc.defineMode("null",function(){return{token:function(as){return as.skipToEnd()}}}),Kc.defineMIME("text/plain","null"),Kc.defineExtension=function(as,ds){Kc.prototype[as]=ds},Kc.defineDocExtension=function(as,ds){Yh.prototype[as]=ds},Kc.fromTextArea=Og,cg(Kc),Kc.version="5.65.18",Kc})})(codemirror);var codemirrorExports=codemirror.exports;(function(es,ki){(function(Ri){Ri(codemirrorExports)})(function(Ri){var ts=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,rs=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,is=/[*+-]\s/;Ri.commands.newlineAndIndentContinueMarkdownList=function(ss){if(ss.getOption("disableInput"))return Ri.Pass;for(var os=ss.listSelections(),ls=[],cs=0;cs<os.length;cs++){var hs=os[cs].head,us=ss.getStateAfter(hs.line),As=Ri.innerMode(ss.getMode(),us);if(As.mode.name!=="markdown"&&As.mode.helperType!=="markdown"){ss.execCommand("newlineAndIndent");return}else us=As.state;var bs=us.list!==!1,ys=us.quote!==0,Cs=ss.getLine(hs.line),ps=ts.exec(Cs),ms=/^\s*$/.test(Cs.slice(0,hs.ch));if(!os[cs].empty()||!bs&&!ys||!ps||ms){ss.execCommand("newlineAndIndent");return}if(rs.test(Cs)){var fs=ys&&/>\s*$/.test(Cs),gs=!/>\s*$/.test(Cs);(fs||gs)&&ss.replaceRange("",{line:hs.line,ch:0},{line:hs.line,ch:hs.ch+1}),ls[cs]=`
`}else{var ws=ps[1],Ts=ps[5],$s=!(is.test(ps[2])||ps[2].indexOf(">")>=0),Rs=$s?parseInt(ps[3],10)+1+ps[4]:ps[2].replace("x"," ");ls[cs]=`
`+ws+Rs+Ts,$s&&ns(ss,hs)}}ss.replaceSelections(ls)};function ns(ss,os){var ls=os.line,cs=0,hs=0,us=ts.exec(ss.getLine(ls)),As=us[1];do{cs+=1;var bs=ls+cs,ys=ss.getLine(bs),Cs=ts.exec(ys);if(Cs){var ps=Cs[1],ms=parseInt(us[3],10)+cs-hs,fs=parseInt(Cs[3],10),gs=fs;if(As===ps&&!isNaN(fs))ms===fs&&(gs=fs+1),ms>fs&&(gs=ms+1),ss.replaceRange(ys.replace(ts,ps+gs+Cs[4]+Cs[5]),{line:bs,ch:0},{line:bs,ch:ys.length});else{if(As.length>ps.length||As.length<ps.length&&cs===1)return;hs+=1}}}while(Cs)}})})();var CodeMirror$1=codemirrorExports;CodeMirror$1.commands.tabAndIndentMarkdownList=function(es){var ki=es.listSelections(),Ri=ki[0].head,ts=es.getStateAfter(Ri.line),rs=ts.list!==!1;if(rs){es.execCommand("indentMore");return}if(es.options.indentWithTabs)es.execCommand("insertTab");else{var is=Array(es.options.tabSize+1).join(" ");es.replaceSelection(is)}};CodeMirror$1.commands.shiftTabAndUnindentMarkdownList=function(es){var ki=es.listSelections(),Ri=ki[0].head,ts=es.getStateAfter(Ri.line),rs=ts.list!==!1;if(rs){es.execCommand("indentLess");return}if(es.options.indentWithTabs)es.execCommand("insertTab");else{var is=Array(es.options.tabSize+1).join(" ");es.replaceSelection(is)}};(function(es,ki){(function(Ri){Ri(codemirrorExports)})(function(Ri){Ri.defineOption("fullScreen",!1,function(is,ns,ss){ss==Ri.Init&&(ss=!1),!ss!=!ns&&(ns?ts(is):rs(is))});function ts(is){var ns=is.getWrapperElement();is.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:ns.style.width,height:ns.style.height},ns.style.width="",ns.style.height="auto",ns.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",is.refresh()}function rs(is){var ns=is.getWrapperElement();ns.className=ns.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var ss=is.state.fullScreenRestore;ns.style.width=ss.width,ns.style.height=ss.height,window.scrollTo(ss.scrollLeft,ss.scrollTop),is.refresh()}})})();var markdown={exports:{}},xml={exports:{}};(function(es,ki){(function(Ri){Ri(codemirrorExports)})(function(Ri){var ts={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},rs={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};Ri.defineMode("xml",function(is,ns){var ss=is.indentUnit,os={},ls=ns.htmlMode?ts:rs;for(var cs in ls)os[cs]=ls[cs];for(var cs in ns)os[cs]=ns[cs];var hs,us;function As(Ds,_s){function Ns(Zs){return _s.tokenize=Zs,Zs(Ds,_s)}var Ss=Ds.next();if(Ss=="<")return Ds.eat("!")?Ds.eat("[")?Ds.match("CDATA[")?Ns(Cs("atom","]]>")):null:Ds.match("--")?Ns(Cs("comment","-->")):Ds.match("DOCTYPE",!0,!0)?(Ds.eatWhile(/[\w\._\-]/),Ns(ps(1))):null:Ds.eat("?")?(Ds.eatWhile(/[\w\._\-]/),_s.tokenize=Cs("meta","?>"),"meta"):(hs=Ds.eat("/")?"closeTag":"openTag",_s.tokenize=bs,"tag bracket");if(Ss=="&"){var Us;return Ds.eat("#")?Ds.eat("x")?Us=Ds.eatWhile(/[a-fA-F\d]/)&&Ds.eat(";"):Us=Ds.eatWhile(/[\d]/)&&Ds.eat(";"):Us=Ds.eatWhile(/[\w\.\-:]/)&&Ds.eat(";"),Us?"atom":"error"}else return Ds.eatWhile(/[^&<]/),null}As.isInText=!0;function bs(Ds,_s){var Ns=Ds.next();if(Ns==">"||Ns=="/"&&Ds.eat(">"))return _s.tokenize=As,hs=Ns==">"?"endTag":"selfcloseTag","tag bracket";if(Ns=="=")return hs="equals",null;if(Ns=="<"){_s.tokenize=As,_s.state=Ts,_s.tagName=_s.tagStart=null;var Ss=_s.tokenize(Ds,_s);return Ss?Ss+" tag error":"tag error"}else return/[\'\"]/.test(Ns)?(_s.tokenize=ys(Ns),_s.stringStartCol=Ds.column(),_s.tokenize(Ds,_s)):(Ds.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function ys(Ds){var _s=function(Ns,Ss){for(;!Ns.eol();)if(Ns.next()==Ds){Ss.tokenize=bs;break}return"string"};return _s.isInAttribute=!0,_s}function Cs(Ds,_s){return function(Ns,Ss){for(;!Ns.eol();){if(Ns.match(_s)){Ss.tokenize=As;break}Ns.next()}return Ds}}function ps(Ds){return function(_s,Ns){for(var Ss;(Ss=_s.next())!=null;){if(Ss=="<")return Ns.tokenize=ps(Ds+1),Ns.tokenize(_s,Ns);if(Ss==">")if(Ds==1){Ns.tokenize=As;break}else return Ns.tokenize=ps(Ds-1),Ns.tokenize(_s,Ns)}return"meta"}}function ms(Ds){return Ds&&Ds.toLowerCase()}function fs(Ds,_s,Ns){this.prev=Ds.context,this.tagName=_s||"",this.indent=Ds.indented,this.startOfLine=Ns,(os.doNotIndent.hasOwnProperty(_s)||Ds.context&&Ds.context.noIndent)&&(this.noIndent=!0)}function gs(Ds){Ds.context&&(Ds.context=Ds.context.prev)}function ws(Ds,_s){for(var Ns;;){if(!Ds.context||(Ns=Ds.context.tagName,!os.contextGrabbers.hasOwnProperty(ms(Ns))||!os.contextGrabbers[ms(Ns)].hasOwnProperty(ms(_s))))return;gs(Ds)}}function Ts(Ds,_s,Ns){return Ds=="openTag"?(Ns.tagStart=_s.column(),$s):Ds=="closeTag"?Rs:Ts}function $s(Ds,_s,Ns){return Ds=="word"?(Ns.tagName=_s.current(),us="tag",Fs):os.allowMissingTagName&&Ds=="endTag"?(us="tag bracket",Fs(Ds,_s,Ns)):(us="error",$s)}function Rs(Ds,_s,Ns){if(Ds=="word"){var Ss=_s.current();return Ns.context&&Ns.context.tagName!=Ss&&os.implicitlyClosed.hasOwnProperty(ms(Ns.context.tagName))&&gs(Ns),Ns.context&&Ns.context.tagName==Ss||os.matchClosing===!1?(us="tag",Ps):(us="tag error",Qs)}else return os.allowMissingTagName&&Ds=="endTag"?(us="tag bracket",Ps(Ds,_s,Ns)):(us="error",Qs)}function Ps(Ds,_s,Ns){return Ds!="endTag"?(us="error",Ps):(gs(Ns),Ts)}function Qs(Ds,_s,Ns){return us="error",Ps(Ds,_s,Ns)}function Fs(Ds,_s,Ns){if(Ds=="word")return us="attribute",Is;if(Ds=="endTag"||Ds=="selfcloseTag"){var Ss=Ns.tagName,Us=Ns.tagStart;return Ns.tagName=Ns.tagStart=null,Ds=="selfcloseTag"||os.autoSelfClosers.hasOwnProperty(ms(Ss))?ws(Ns,Ss):(ws(Ns,Ss),Ns.context=new fs(Ns,Ss,Us==Ns.indented)),Ts}return us="error",Fs}function Is(Ds,_s,Ns){return Ds=="equals"?Ms:(os.allowMissing||(us="error"),Fs(Ds,_s,Ns))}function Ms(Ds,_s,Ns){return Ds=="string"?Ws:Ds=="word"&&os.allowUnquoted?(us="string",Fs):(us="error",Fs(Ds,_s,Ns))}function Ws(Ds,_s,Ns){return Ds=="string"?Ws:Fs(Ds,_s,Ns)}return{startState:function(Ds){var _s={tokenize:As,state:Ts,indented:Ds||0,tagName:null,tagStart:null,context:null};return Ds!=null&&(_s.baseIndent=Ds),_s},token:function(Ds,_s){if(!_s.tagName&&Ds.sol()&&(_s.indented=Ds.indentation()),Ds.eatSpace())return null;hs=null;var Ns=_s.tokenize(Ds,_s);return(Ns||hs)&&Ns!="comment"&&(us=null,_s.state=_s.state(hs||Ns,Ds,_s),us&&(Ns=us=="error"?Ns+" error":us)),Ns},indent:function(Ds,_s,Ns){var Ss=Ds.context;if(Ds.tokenize.isInAttribute)return Ds.tagStart==Ds.indented?Ds.stringStartCol+1:Ds.indented+ss;if(Ss&&Ss.noIndent)return Ri.Pass;if(Ds.tokenize!=bs&&Ds.tokenize!=As)return Ns?Ns.match(/^(\s*)/)[0].length:0;if(Ds.tagName)return os.multilineTagIndentPastTag!==!1?Ds.tagStart+Ds.tagName.length+2:Ds.tagStart+ss*(os.multilineTagIndentFactor||1);if(os.alignCDATA&&/<!\[CDATA\[/.test(_s))return 0;var Us=_s&&/^<(\/)?([\w_:\.-]*)/.exec(_s);if(Us&&Us[1])for(;Ss;)if(Ss.tagName==Us[2]){Ss=Ss.prev;break}else if(os.implicitlyClosed.hasOwnProperty(ms(Ss.tagName)))Ss=Ss.prev;else break;else if(Us)for(;Ss;){var Zs=os.contextGrabbers[ms(Ss.tagName)];if(Zs&&Zs.hasOwnProperty(ms(Us[2])))Ss=Ss.prev;else break}for(;Ss&&Ss.prev&&!Ss.startOfLine;)Ss=Ss.prev;return Ss?Ss.indent+ss:Ds.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:os.htmlMode?"html":"xml",helperType:os.htmlMode?"html":"xml",skipAttribute:function(Ds){Ds.state==Ms&&(Ds.state=Fs)},xmlCurrentTag:function(Ds){return Ds.tagName?{name:Ds.tagName,close:Ds.type=="closeTag"}:null},xmlCurrentContext:function(Ds){for(var _s=[],Ns=Ds.context;Ns;Ns=Ns.prev)_s.push(Ns.tagName);return _s.reverse()}}}),Ri.defineMIME("text/xml","xml"),Ri.defineMIME("application/xml","xml"),Ri.mimeModes.hasOwnProperty("text/html")||Ri.defineMIME("text/html",{name:"xml",htmlMode:!0})})})();var xmlExports=xml.exports,meta={exports:{}},hasRequiredMeta;function requireMeta(){return hasRequiredMeta||(hasRequiredMeta=1,function(es,ki){(function(Ri){Ri(codemirrorExports)})(function(Ri){Ri.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var ts=0;ts<Ri.modeInfo.length;ts++){var rs=Ri.modeInfo[ts];rs.mimes&&(rs.mime=rs.mimes[0])}Ri.findModeByMIME=function(is){is=is.toLowerCase();for(var ns=0;ns<Ri.modeInfo.length;ns++){var ss=Ri.modeInfo[ns];if(ss.mime==is)return ss;if(ss.mimes){for(var os=0;os<ss.mimes.length;os++)if(ss.mimes[os]==is)return ss}}if(/\+xml$/.test(is))return Ri.findModeByMIME("application/xml");if(/\+json$/.test(is))return Ri.findModeByMIME("application/json")},Ri.findModeByExtension=function(is){is=is.toLowerCase();for(var ns=0;ns<Ri.modeInfo.length;ns++){var ss=Ri.modeInfo[ns];if(ss.ext){for(var os=0;os<ss.ext.length;os++)if(ss.ext[os]==is)return ss}}},Ri.findModeByFileName=function(is){for(var ns=0;ns<Ri.modeInfo.length;ns++){var ss=Ri.modeInfo[ns];if(ss.file&&ss.file.test(is))return ss}var os=is.lastIndexOf("."),ls=os>-1&&is.substring(os+1,is.length);if(ls)return Ri.findModeByExtension(ls)},Ri.findModeByName=function(is){is=is.toLowerCase();for(var ns=0;ns<Ri.modeInfo.length;ns++){var ss=Ri.modeInfo[ns];if(ss.name.toLowerCase()==is)return ss;if(ss.alias){for(var os=0;os<ss.alias.length;os++)if(ss.alias[os].toLowerCase()==is)return ss}}}})}()),meta.exports}(function(es,ki){(function(Ri){Ri(codemirrorExports,xmlExports,requireMeta())})(function(Ri){Ri.defineMode("markdown",function(ts,rs){var is=Ri.getMode(ts,"text/html"),ns=is.name=="null";function ss(js){if(Ri.findModeByName){var Bs=Ri.findModeByName(js);Bs&&(js=Bs.mime||Bs.mimes[0])}var zs=Ri.getMode(ts,js);return zs.name=="null"?null:zs}rs.highlightFormatting===void 0&&(rs.highlightFormatting=!1),rs.maxBlockquoteDepth===void 0&&(rs.maxBlockquoteDepth=0),rs.taskLists===void 0&&(rs.taskLists=!1),rs.strikethrough===void 0&&(rs.strikethrough=!1),rs.emoji===void 0&&(rs.emoji=!1),rs.fencedCodeBlockHighlighting===void 0&&(rs.fencedCodeBlockHighlighting=!0),rs.fencedCodeBlockDefaultMode===void 0&&(rs.fencedCodeBlockDefaultMode="text/plain"),rs.xml===void 0&&(rs.xml=!0),rs.tokenTypeOverrides===void 0&&(rs.tokenTypeOverrides={});var os={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var ls in os)os.hasOwnProperty(ls)&&rs.tokenTypeOverrides[ls]&&(os[ls]=rs.tokenTypeOverrides[ls]);var cs=/^([*\-_])(?:\s*\1){2,}\s*$/,hs=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,us=/^\[(x| )\](?=\s)/i,As=rs.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,bs=/^ {0,3}(?:\={1,}|-{2,})\s*$/,ys=/^[^#!\[\]*_\\<>` "'(~:]+/,Cs=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,ps=/^\s*\[[^\]]+?\]:.*$/,ms=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,fs="    ";function gs(js,Bs,zs){return Bs.f=Bs.inline=zs,zs(js,Bs)}function ws(js,Bs,zs){return Bs.f=Bs.block=zs,zs(js,Bs)}function Ts(js){return!js||!/\S/.test(js.string)}function $s(js){if(js.linkTitle=!1,js.linkHref=!1,js.linkText=!1,js.em=!1,js.strong=!1,js.strikethrough=!1,js.quote=0,js.indentedCode=!1,js.f==Ps){var Bs=ns;if(!Bs){var zs=Ri.innerMode(is,js.htmlState);Bs=zs.mode.name=="xml"&&zs.state.tagStart===null&&!zs.state.context&&zs.state.tokenize.isInText}Bs&&(js.f=Ms,js.block=Rs,js.htmlState=null)}return js.trailingSpace=0,js.trailingSpaceNewLine=!1,js.prevLine=js.thisLine,js.thisLine={stream:null},null}function Rs(js,Bs){var zs=js.column()===Bs.indentation,so=Ts(Bs.prevLine.stream),oo=Bs.indentedCode,Ao=Bs.prevLine.hr,Xs=Bs.list!==!1,lo=(Bs.listStack[Bs.listStack.length-1]||0)+3;Bs.indentedCode=!1;var co=Bs.indentation;if(Bs.indentationDiff===null&&(Bs.indentationDiff=Bs.indentation,Xs)){for(Bs.list=null;co<Bs.listStack[Bs.listStack.length-1];)Bs.listStack.pop(),Bs.listStack.length?Bs.indentation=Bs.listStack[Bs.listStack.length-1]:Bs.list=!1;Bs.list!==!1&&(Bs.indentationDiff=co-Bs.listStack[Bs.listStack.length-1])}var So=!so&&!Ao&&!Bs.prevLine.header&&(!Xs||!oo)&&!Bs.prevLine.fencedCodeEnd,ro=(Bs.list===!1||Ao||so)&&Bs.indentation<=lo&&js.match(cs),vo=null;if(Bs.indentationDiff>=4&&(oo||Bs.prevLine.fencedCodeEnd||Bs.prevLine.header||so))return js.skipToEnd(),Bs.indentedCode=!0,os.code;if(js.eatSpace())return null;if(zs&&Bs.indentation<=lo&&(vo=js.match(As))&&vo[1].length<=6)return Bs.quote=0,Bs.header=vo[1].length,Bs.thisLine.header=!0,rs.highlightFormatting&&(Bs.formatting="header"),Bs.f=Bs.inline,Fs(Bs);if(Bs.indentation<=lo&&js.eat(">"))return Bs.quote=zs?1:Bs.quote+1,rs.highlightFormatting&&(Bs.formatting="quote"),js.eatSpace(),Fs(Bs);if(!ro&&!Bs.setext&&zs&&Bs.indentation<=lo&&(vo=js.match(hs))){var Eo=vo[1]?"ol":"ul";return Bs.indentation=co+js.current().length,Bs.list=!0,Bs.quote=0,Bs.listStack.push(Bs.indentation),Bs.em=!1,Bs.strong=!1,Bs.code=!1,Bs.strikethrough=!1,rs.taskLists&&js.match(us,!1)&&(Bs.taskList=!0),Bs.f=Bs.inline,rs.highlightFormatting&&(Bs.formatting=["list","list-"+Eo]),Fs(Bs)}else{if(zs&&Bs.indentation<=lo&&(vo=js.match(Cs,!0)))return Bs.quote=0,Bs.fencedEndRE=new RegExp(vo[1]+"+ *$"),Bs.localMode=rs.fencedCodeBlockHighlighting&&ss(vo[2]||rs.fencedCodeBlockDefaultMode),Bs.localMode&&(Bs.localState=Ri.startState(Bs.localMode)),Bs.f=Bs.block=Qs,rs.highlightFormatting&&(Bs.formatting="code-block"),Bs.code=-1,Fs(Bs);if(Bs.setext||(!So||!Xs)&&!Bs.quote&&Bs.list===!1&&!Bs.code&&!ro&&!ps.test(js.string)&&(vo=js.lookAhead(1))&&(vo=vo.match(bs)))return Bs.setext?(Bs.header=Bs.setext,Bs.setext=0,js.skipToEnd(),rs.highlightFormatting&&(Bs.formatting="header")):(Bs.header=vo[0].charAt(0)=="="?1:2,Bs.setext=Bs.header),Bs.thisLine.header=!0,Bs.f=Bs.inline,Fs(Bs);if(ro)return js.skipToEnd(),Bs.hr=!0,Bs.thisLine.hr=!0,os.hr;if(js.peek()==="[")return gs(js,Bs,Ss)}return gs(js,Bs,Bs.inline)}function Ps(js,Bs){var zs=is.token(js,Bs.htmlState);if(!ns){var so=Ri.innerMode(is,Bs.htmlState);(so.mode.name=="xml"&&so.state.tagStart===null&&!so.state.context&&so.state.tokenize.isInText||Bs.md_inside&&js.current().indexOf(">")>-1)&&(Bs.f=Ms,Bs.block=Rs,Bs.htmlState=null)}return zs}function Qs(js,Bs){var zs=Bs.listStack[Bs.listStack.length-1]||0,so=Bs.indentation<zs,oo=zs+3;if(Bs.fencedEndRE&&Bs.indentation<=oo&&(so||js.match(Bs.fencedEndRE))){rs.highlightFormatting&&(Bs.formatting="code-block");var Ao;return so||(Ao=Fs(Bs)),Bs.localMode=Bs.localState=null,Bs.block=Rs,Bs.f=Ms,Bs.fencedEndRE=null,Bs.code=0,Bs.thisLine.fencedCodeEnd=!0,so?ws(js,Bs,Bs.block):Ao}else return Bs.localMode?Bs.localMode.token(js,Bs.localState):(js.skipToEnd(),os.code)}function Fs(js){var Bs=[];if(js.formatting){Bs.push(os.formatting),typeof js.formatting=="string"&&(js.formatting=[js.formatting]);for(var zs=0;zs<js.formatting.length;zs++)Bs.push(os.formatting+"-"+js.formatting[zs]),js.formatting[zs]==="header"&&Bs.push(os.formatting+"-"+js.formatting[zs]+"-"+js.header),js.formatting[zs]==="quote"&&(!rs.maxBlockquoteDepth||rs.maxBlockquoteDepth>=js.quote?Bs.push(os.formatting+"-"+js.formatting[zs]+"-"+js.quote):Bs.push("error"))}if(js.taskOpen)return Bs.push("meta"),Bs.length?Bs.join(" "):null;if(js.taskClosed)return Bs.push("property"),Bs.length?Bs.join(" "):null;if(js.linkHref?Bs.push(os.linkHref,"url"):(js.strong&&Bs.push(os.strong),js.em&&Bs.push(os.em),js.strikethrough&&Bs.push(os.strikethrough),js.emoji&&Bs.push(os.emoji),js.linkText&&Bs.push(os.linkText),js.code&&Bs.push(os.code),js.image&&Bs.push(os.image),js.imageAltText&&Bs.push(os.imageAltText,"link"),js.imageMarker&&Bs.push(os.imageMarker)),js.header&&Bs.push(os.header,os.header+"-"+js.header),js.quote&&(Bs.push(os.quote),!rs.maxBlockquoteDepth||rs.maxBlockquoteDepth>=js.quote?Bs.push(os.quote+"-"+js.quote):Bs.push(os.quote+"-"+rs.maxBlockquoteDepth)),js.list!==!1){var so=(js.listStack.length-1)%3;so?so===1?Bs.push(os.list2):Bs.push(os.list3):Bs.push(os.list1)}return js.trailingSpaceNewLine?Bs.push("trailing-space-new-line"):js.trailingSpace&&Bs.push("trailing-space-"+(js.trailingSpace%2?"a":"b")),Bs.length?Bs.join(" "):null}function Is(js,Bs){if(js.match(ys,!0))return Fs(Bs)}function Ms(js,Bs){var zs=Bs.text(js,Bs);if(typeof zs<"u")return zs;if(Bs.list)return Bs.list=null,Fs(Bs);if(Bs.taskList){var so=js.match(us,!0)[1]===" ";return so?Bs.taskOpen=!0:Bs.taskClosed=!0,rs.highlightFormatting&&(Bs.formatting="task"),Bs.taskList=!1,Fs(Bs)}if(Bs.taskOpen=!1,Bs.taskClosed=!1,Bs.header&&js.match(/^#+$/,!0))return rs.highlightFormatting&&(Bs.formatting="header"),Fs(Bs);var oo=js.next();if(Bs.linkTitle){Bs.linkTitle=!1;var Ao=oo;oo==="("&&(Ao=")"),Ao=(Ao+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var Xs="^\\s*(?:[^"+Ao+"\\\\]+|\\\\\\\\|\\\\.)"+Ao;if(js.match(new RegExp(Xs),!0))return os.linkHref}if(oo==="`"){var lo=Bs.formatting;rs.highlightFormatting&&(Bs.formatting="code"),js.eatWhile("`");var co=js.current().length;if(Bs.code==0&&(!Bs.quote||co==1))return Bs.code=co,Fs(Bs);if(co==Bs.code){var So=Fs(Bs);return Bs.code=0,So}else return Bs.formatting=lo,Fs(Bs)}else if(Bs.code)return Fs(Bs);if(oo==="\\"&&(js.next(),rs.highlightFormatting)){var ro=Fs(Bs),vo=os.formatting+"-escape";return ro?ro+" "+vo:vo}if(oo==="!"&&js.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return Bs.imageMarker=!0,Bs.image=!0,rs.highlightFormatting&&(Bs.formatting="image"),Fs(Bs);if(oo==="["&&Bs.imageMarker&&js.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return Bs.imageMarker=!1,Bs.imageAltText=!0,rs.highlightFormatting&&(Bs.formatting="image"),Fs(Bs);if(oo==="]"&&Bs.imageAltText){rs.highlightFormatting&&(Bs.formatting="image");var ro=Fs(Bs);return Bs.imageAltText=!1,Bs.image=!1,Bs.inline=Bs.f=Ds,ro}if(oo==="["&&!Bs.image)return Bs.linkText&&js.match(/^.*?\]/)||(Bs.linkText=!0,rs.highlightFormatting&&(Bs.formatting="link")),Fs(Bs);if(oo==="]"&&Bs.linkText){rs.highlightFormatting&&(Bs.formatting="link");var ro=Fs(Bs);return Bs.linkText=!1,Bs.inline=Bs.f=js.match(/\(.*?\)| ?\[.*?\]/,!1)?Ds:Ms,ro}if(oo==="<"&&js.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){Bs.f=Bs.inline=Ws,rs.highlightFormatting&&(Bs.formatting="link");var ro=Fs(Bs);return ro?ro+=" ":ro="",ro+os.linkInline}if(oo==="<"&&js.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){Bs.f=Bs.inline=Ws,rs.highlightFormatting&&(Bs.formatting="link");var ro=Fs(Bs);return ro?ro+=" ":ro="",ro+os.linkEmail}if(rs.xml&&oo==="<"&&js.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var Eo=js.string.indexOf(">",js.pos);if(Eo!=-1){var mo=js.string.substring(js.start,Eo);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(mo)&&(Bs.md_inside=!0)}return js.backUp(1),Bs.htmlState=Ri.startState(is),ws(js,Bs,Ps)}if(rs.xml&&oo==="<"&&js.match(/^\/\w*?>/))return Bs.md_inside=!1,"tag";if(oo==="*"||oo==="_"){for(var yo=1,Jo=js.pos==1?" ":js.string.charAt(js.pos-2);yo<3&&js.eat(oo);)yo++;var Yo=js.peek()||" ",Wo=!/\s/.test(Yo)&&(!ms.test(Yo)||/\s/.test(Jo)||ms.test(Jo)),ko=!/\s/.test(Jo)&&(!ms.test(Jo)||/\s/.test(Yo)||ms.test(Yo)),Qo=null,jo=null;if(yo%2&&(!Bs.em&&Wo&&(oo==="*"||!ko||ms.test(Jo))?Qo=!0:Bs.em==oo&&ko&&(oo==="*"||!Wo||ms.test(Yo))&&(Qo=!1)),yo>1&&(!Bs.strong&&Wo&&(oo==="*"||!ko||ms.test(Jo))?jo=!0:Bs.strong==oo&&ko&&(oo==="*"||!Wo||ms.test(Yo))&&(jo=!1)),jo!=null||Qo!=null){rs.highlightFormatting&&(Bs.formatting=Qo==null?"strong":jo==null?"em":"strong em"),Qo===!0&&(Bs.em=oo),jo===!0&&(Bs.strong=oo);var So=Fs(Bs);return Qo===!1&&(Bs.em=!1),jo===!1&&(Bs.strong=!1),So}}else if(oo===" "&&(js.eat("*")||js.eat("_"))){if(js.peek()===" ")return Fs(Bs);js.backUp(1)}if(rs.strikethrough){if(oo==="~"&&js.eatWhile(oo)){if(Bs.strikethrough){rs.highlightFormatting&&(Bs.formatting="strikethrough");var So=Fs(Bs);return Bs.strikethrough=!1,So}else if(js.match(/^[^\s]/,!1))return Bs.strikethrough=!0,rs.highlightFormatting&&(Bs.formatting="strikethrough"),Fs(Bs)}else if(oo===" "&&js.match("~~",!0)){if(js.peek()===" ")return Fs(Bs);js.backUp(2)}}if(rs.emoji&&oo===":"&&js.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){Bs.emoji=!0,rs.highlightFormatting&&(Bs.formatting="emoji");var Bo=Fs(Bs);return Bs.emoji=!1,Bo}return oo===" "&&(js.match(/^ +$/,!1)?Bs.trailingSpace++:Bs.trailingSpace&&(Bs.trailingSpaceNewLine=!0)),Fs(Bs)}function Ws(js,Bs){var zs=js.next();if(zs===">"){Bs.f=Bs.inline=Ms,rs.highlightFormatting&&(Bs.formatting="link");var so=Fs(Bs);return so?so+=" ":so="",so+os.linkInline}return js.match(/^[^>]+/,!0),os.linkInline}function Ds(js,Bs){if(js.eatSpace())return null;var zs=js.next();return zs==="("||zs==="["?(Bs.f=Bs.inline=Ns(zs==="("?")":"]"),rs.highlightFormatting&&(Bs.formatting="link-string"),Bs.linkHref=!0,Fs(Bs)):"error"}var _s={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function Ns(js){return function(Bs,zs){var so=Bs.next();if(so===js){zs.f=zs.inline=Ms,rs.highlightFormatting&&(zs.formatting="link-string");var oo=Fs(zs);return zs.linkHref=!1,oo}return Bs.match(_s[js]),zs.linkHref=!0,Fs(zs)}}function Ss(js,Bs){return js.match(/^([^\]\\]|\\.)*\]:/,!1)?(Bs.f=Us,js.next(),rs.highlightFormatting&&(Bs.formatting="link"),Bs.linkText=!0,Fs(Bs)):gs(js,Bs,Ms)}function Us(js,Bs){if(js.match("]:",!0)){Bs.f=Bs.inline=Zs,rs.highlightFormatting&&(Bs.formatting="link");var zs=Fs(Bs);return Bs.linkText=!1,zs}return js.match(/^([^\]\\]|\\.)+/,!0),os.linkText}function Zs(js,Bs){return js.eatSpace()?null:(js.match(/^[^\s]+/,!0),js.peek()===void 0?Bs.linkTitle=!0:js.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),Bs.f=Bs.inline=Ms,os.linkHref+" url")}var ao={startState:function(){return{f:Rs,prevLine:{stream:null},thisLine:{stream:null},block:Rs,htmlState:null,indentation:0,inline:Ms,text:Is,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(js){return{f:js.f,prevLine:js.prevLine,thisLine:js.thisLine,block:js.block,htmlState:js.htmlState&&Ri.copyState(is,js.htmlState),indentation:js.indentation,localMode:js.localMode,localState:js.localMode?Ri.copyState(js.localMode,js.localState):null,inline:js.inline,text:js.text,formatting:!1,linkText:js.linkText,linkTitle:js.linkTitle,linkHref:js.linkHref,code:js.code,em:js.em,strong:js.strong,strikethrough:js.strikethrough,emoji:js.emoji,header:js.header,setext:js.setext,hr:js.hr,taskList:js.taskList,list:js.list,listStack:js.listStack.slice(0),quote:js.quote,indentedCode:js.indentedCode,trailingSpace:js.trailingSpace,trailingSpaceNewLine:js.trailingSpaceNewLine,md_inside:js.md_inside,fencedEndRE:js.fencedEndRE}},token:function(js,Bs){if(Bs.formatting=!1,js!=Bs.thisLine.stream){if(Bs.header=0,Bs.hr=!1,js.match(/^\s*$/,!0))return $s(Bs),null;if(Bs.prevLine=Bs.thisLine,Bs.thisLine={stream:js},Bs.taskList=!1,Bs.trailingSpace=0,Bs.trailingSpaceNewLine=!1,!Bs.localState&&(Bs.f=Bs.block,Bs.f!=Ps)){var zs=js.match(/^\s*/,!0)[0].replace(/\t/g,fs).length;if(Bs.indentation=zs,Bs.indentationDiff=null,zs>0)return null}}return Bs.f(js,Bs)},innerMode:function(js){return js.block==Ps?{state:js.htmlState,mode:is}:js.localState?{state:js.localState,mode:js.localMode}:{state:js,mode:ao}},indent:function(js,Bs,zs){return js.block==Ps&&is.indent?is.indent(js.htmlState,Bs,zs):js.localState&&js.localMode.indent?js.localMode.indent(js.localState,Bs,zs):Ri.Pass},blankLine:$s,getType:Fs,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return ao},"xml"),Ri.defineMIME("text/markdown","markdown"),Ri.defineMIME("text/x-markdown","markdown")})})();var markdownExports=markdown.exports,overlay={exports:{}};(function(es,ki){(function(Ri){Ri(codemirrorExports)})(function(Ri){Ri.overlayMode=function(ts,rs,is){return{startState:function(){return{base:Ri.startState(ts),overlay:Ri.startState(rs),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(ns){return{base:Ri.copyState(ts,ns.base),overlay:Ri.copyState(rs,ns.overlay),basePos:ns.basePos,baseCur:null,overlayPos:ns.overlayPos,overlayCur:null}},token:function(ns,ss){return(ns!=ss.streamSeen||Math.min(ss.basePos,ss.overlayPos)<ns.start)&&(ss.streamSeen=ns,ss.basePos=ss.overlayPos=ns.start),ns.start==ss.basePos&&(ss.baseCur=ts.token(ns,ss.base),ss.basePos=ns.pos),ns.start==ss.overlayPos&&(ns.pos=ns.start,ss.overlayCur=rs.token(ns,ss.overlay),ss.overlayPos=ns.pos),ns.pos=Math.min(ss.basePos,ss.overlayPos),ss.overlayCur==null?ss.baseCur:ss.baseCur!=null&&ss.overlay.combineTokens||is&&ss.overlay.combineTokens==null?ss.baseCur+" "+ss.overlayCur:ss.overlayCur},indent:ts.indent&&function(ns,ss,os){return ts.indent(ns.base,ss,os)},electricChars:ts.electricChars,innerMode:function(ns){return{state:ns.base,mode:ts}},blankLine:function(ns){var ss,os;return ts.blankLine&&(ss=ts.blankLine(ns.base)),rs.blankLine&&(os=rs.blankLine(ns.overlay)),os==null?ss:is&&ss!=null?ss+" "+os:os}}}})})();var overlayExports=overlay.exports;(function(es,ki){(function(Ri){Ri(codemirrorExports)})(function(Ri){Ri.defineOption("placeholder","",function(ls,cs,hs){var us=hs&&hs!=Ri.Init;if(cs&&!us)ls.on("blur",ns),ls.on("change",ss),ls.on("swapDoc",ss),Ri.on(ls.getInputField(),"compositionupdate",ls.state.placeholderCompose=function(){is(ls)}),ss(ls);else if(!cs&&us){ls.off("blur",ns),ls.off("change",ss),ls.off("swapDoc",ss),Ri.off(ls.getInputField(),"compositionupdate",ls.state.placeholderCompose),ts(ls);var As=ls.getWrapperElement();As.className=As.className.replace(" CodeMirror-empty","")}cs&&!ls.hasFocus()&&ns(ls)});function ts(ls){ls.state.placeholder&&(ls.state.placeholder.parentNode.removeChild(ls.state.placeholder),ls.state.placeholder=null)}function rs(ls){ts(ls);var cs=ls.state.placeholder=document.createElement("pre");cs.style.cssText="height: 0; overflow: visible",cs.style.direction=ls.getOption("direction"),cs.className="CodeMirror-placeholder CodeMirror-line-like";var hs=ls.getOption("placeholder");typeof hs=="string"&&(hs=document.createTextNode(hs)),cs.appendChild(hs),ls.display.lineSpace.insertBefore(cs,ls.display.lineSpace.firstChild)}function is(ls){setTimeout(function(){var cs=!1;if(ls.lineCount()==1){var hs=ls.getInputField();cs=hs.nodeName=="TEXTAREA"?!ls.getLine(0).length:!/[^\u200b]/.test(hs.querySelector(".CodeMirror-line").textContent)}cs?rs(ls):ts(ls)},20)}function ns(ls){os(ls)&&rs(ls)}function ss(ls){var cs=ls.getWrapperElement(),hs=os(ls);cs.className=cs.className.replace(" CodeMirror-empty","")+(hs?" CodeMirror-empty":""),hs?rs(ls):ts(ls)}function os(ls){return ls.lineCount()===1&&ls.getLine(0)===""}})})();(function(es,ki){(function(Ri){Ri(codemirrorExports)})(function(Ri){Ri.defineOption("autoRefresh",!1,function(is,ns){is.state.autoRefresh&&(rs(is,is.state.autoRefresh),is.state.autoRefresh=null),ns&&is.display.wrapper.offsetHeight==0&&ts(is,is.state.autoRefresh={delay:ns.delay||250})});function ts(is,ns){function ss(){is.display.wrapper.offsetHeight?(rs(is,ns),is.display.lastWrapHeight!=is.display.wrapper.clientHeight&&is.refresh()):ns.timeout=setTimeout(ss,ns.delay)}ns.timeout=setTimeout(ss,ns.delay),ns.hurry=function(){clearTimeout(ns.timeout),ns.timeout=setTimeout(ss,50)},Ri.on(window,"mouseup",ns.hurry),Ri.on(window,"keyup",ns.hurry)}function rs(is,ns){clearTimeout(ns.timeout),Ri.off(window,"mouseup",ns.hurry),Ri.off(window,"keyup",ns.hurry)}})})();(function(es,ki){(function(Ri){Ri(codemirrorExports)})(function(Ri){Ri.defineOption("styleSelectedText",!1,function(us,As,bs){var ys=bs&&bs!=Ri.Init;As&&!ys?(us.state.markedSelection=[],us.state.markedSelectionStyle=typeof As=="string"?As:"CodeMirror-selectedtext",cs(us),us.on("cursorActivity",ts),us.on("change",rs)):!As&&ys&&(us.off("cursorActivity",ts),us.off("change",rs),ls(us),us.state.markedSelection=us.state.markedSelectionStyle=null)});function ts(us){us.state.markedSelection&&us.operation(function(){hs(us)})}function rs(us){us.state.markedSelection&&us.state.markedSelection.length&&us.operation(function(){ls(us)})}var is=8,ns=Ri.Pos,ss=Ri.cmpPos;function os(us,As,bs,ys){if(ss(As,bs)!=0)for(var Cs=us.state.markedSelection,ps=us.state.markedSelectionStyle,ms=As.line;;){var fs=ms==As.line?As:ns(ms,0),gs=ms+is,ws=gs>=bs.line,Ts=ws?bs:ns(gs,0),$s=us.markText(fs,Ts,{className:ps});if(ys==null?Cs.push($s):Cs.splice(ys++,0,$s),ws)break;ms=gs}}function ls(us){for(var As=us.state.markedSelection,bs=0;bs<As.length;++bs)As[bs].clear();As.length=0}function cs(us){ls(us);for(var As=us.listSelections(),bs=0;bs<As.length;bs++)os(us,As[bs].from(),As[bs].to())}function hs(us){if(!us.somethingSelected())return ls(us);if(us.listSelections().length>1)return cs(us);var As=us.getCursor("start"),bs=us.getCursor("end"),ys=us.state.markedSelection;if(!ys.length)return os(us,As,bs);var Cs=ys[0].find(),ps=ys[ys.length-1].find();if(!Cs||!ps||bs.line-As.line<=is||ss(As,ps.to)>=0||ss(bs,Cs.from)<=0)return cs(us);for(;ss(As,Cs.from)>0;)ys.shift().clear(),Cs=ys[0].find();for(ss(As,Cs.from)<0&&(Cs.to.line-As.line<is?(ys.shift().clear(),os(us,As,Cs.to,0)):os(us,As,Cs.from,0));ss(bs,ps.to)<0;)ys.pop().clear(),ps=ys[ys.length-1].find();ss(bs,ps.to)>0&&(bs.line-ps.from.line<is?(ys.pop().clear(),os(us,ps.from,bs)):os(us,ps.to,bs))}})})();(function(es,ki){(function(Ri){Ri(codemirrorExports)})(function(Ri){var ts=Ri.Pos;function rs(ms){var fs=ms.flags;return fs??(ms.ignoreCase?"i":"")+(ms.global?"g":"")+(ms.multiline?"m":"")}function is(ms,fs){for(var gs=rs(ms),ws=gs,Ts=0;Ts<fs.length;Ts++)ws.indexOf(fs.charAt(Ts))==-1&&(ws+=fs.charAt(Ts));return gs==ws?ms:new RegExp(ms.source,ws)}function ns(ms){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(ms.source)}function ss(ms,fs,gs){fs=is(fs,"g");for(var ws=gs.line,Ts=gs.ch,$s=ms.lastLine();ws<=$s;ws++,Ts=0){fs.lastIndex=Ts;var Rs=ms.getLine(ws),Ps=fs.exec(Rs);if(Ps)return{from:ts(ws,Ps.index),to:ts(ws,Ps.index+Ps[0].length),match:Ps}}}function os(ms,fs,gs){if(!ns(fs))return ss(ms,fs,gs);fs=is(fs,"gm");for(var ws,Ts=1,$s=gs.line,Rs=ms.lastLine();$s<=Rs;){for(var Ps=0;Ps<Ts&&!($s>Rs);Ps++){var Qs=ms.getLine($s++);ws=ws==null?Qs:ws+`
`+Qs}Ts=Ts*2,fs.lastIndex=gs.ch;var Fs=fs.exec(ws);if(Fs){var Is=ws.slice(0,Fs.index).split(`
`),Ms=Fs[0].split(`
`),Ws=gs.line+Is.length-1,Ds=Is[Is.length-1].length;return{from:ts(Ws,Ds),to:ts(Ws+Ms.length-1,Ms.length==1?Ds+Ms[0].length:Ms[Ms.length-1].length),match:Fs}}}}function ls(ms,fs,gs){for(var ws,Ts=0;Ts<=ms.length;){fs.lastIndex=Ts;var $s=fs.exec(ms);if(!$s)break;var Rs=$s.index+$s[0].length;if(Rs>ms.length-gs)break;(!ws||Rs>ws.index+ws[0].length)&&(ws=$s),Ts=$s.index+1}return ws}function cs(ms,fs,gs){fs=is(fs,"g");for(var ws=gs.line,Ts=gs.ch,$s=ms.firstLine();ws>=$s;ws--,Ts=-1){var Rs=ms.getLine(ws),Ps=ls(Rs,fs,Ts<0?0:Rs.length-Ts);if(Ps)return{from:ts(ws,Ps.index),to:ts(ws,Ps.index+Ps[0].length),match:Ps}}}function hs(ms,fs,gs){if(!ns(fs))return cs(ms,fs,gs);fs=is(fs,"gm");for(var ws,Ts=1,$s=ms.getLine(gs.line).length-gs.ch,Rs=gs.line,Ps=ms.firstLine();Rs>=Ps;){for(var Qs=0;Qs<Ts&&Rs>=Ps;Qs++){var Fs=ms.getLine(Rs--);ws=ws==null?Fs:Fs+`
`+ws}Ts*=2;var Is=ls(ws,fs,$s);if(Is){var Ms=ws.slice(0,Is.index).split(`
`),Ws=Is[0].split(`
`),Ds=Rs+Ms.length,_s=Ms[Ms.length-1].length;return{from:ts(Ds,_s),to:ts(Ds+Ws.length-1,Ws.length==1?_s+Ws[0].length:Ws[Ws.length-1].length),match:Is}}}}var us,As;String.prototype.normalize?(us=function(ms){return ms.normalize("NFD").toLowerCase()},As=function(ms){return ms.normalize("NFD")}):(us=function(ms){return ms.toLowerCase()},As=function(ms){return ms});function bs(ms,fs,gs,ws){if(ms.length==fs.length)return gs;for(var Ts=0,$s=gs+Math.max(0,ms.length-fs.length);;){if(Ts==$s)return Ts;var Rs=Ts+$s>>1,Ps=ws(ms.slice(0,Rs)).length;if(Ps==gs)return Rs;Ps>gs?$s=Rs:Ts=Rs+1}}function ys(ms,fs,gs,ws){if(!fs.length)return null;var Ts=ws?us:As,$s=Ts(fs).split(/\r|\n\r?/);e:for(var Rs=gs.line,Ps=gs.ch,Qs=ms.lastLine()+1-$s.length;Rs<=Qs;Rs++,Ps=0){var Fs=ms.getLine(Rs).slice(Ps),Is=Ts(Fs);if($s.length==1){var Ms=Is.indexOf($s[0]);if(Ms==-1)continue e;var gs=bs(Fs,Is,Ms,Ts)+Ps;return{from:ts(Rs,bs(Fs,Is,Ms,Ts)+Ps),to:ts(Rs,bs(Fs,Is,Ms+$s[0].length,Ts)+Ps)}}else{var Ws=Is.length-$s[0].length;if(Is.slice(Ws)!=$s[0])continue e;for(var Ds=1;Ds<$s.length-1;Ds++)if(Ts(ms.getLine(Rs+Ds))!=$s[Ds])continue e;var _s=ms.getLine(Rs+$s.length-1),Ns=Ts(_s),Ss=$s[$s.length-1];if(Ns.slice(0,Ss.length)!=Ss)continue e;return{from:ts(Rs,bs(Fs,Is,Ws,Ts)+Ps),to:ts(Rs+$s.length-1,bs(_s,Ns,Ss.length,Ts))}}}}function Cs(ms,fs,gs,ws){if(!fs.length)return null;var Ts=ws?us:As,$s=Ts(fs).split(/\r|\n\r?/);e:for(var Rs=gs.line,Ps=gs.ch,Qs=ms.firstLine()-1+$s.length;Rs>=Qs;Rs--,Ps=-1){var Fs=ms.getLine(Rs);Ps>-1&&(Fs=Fs.slice(0,Ps));var Is=Ts(Fs);if($s.length==1){var Ms=Is.lastIndexOf($s[0]);if(Ms==-1)continue e;return{from:ts(Rs,bs(Fs,Is,Ms,Ts)),to:ts(Rs,bs(Fs,Is,Ms+$s[0].length,Ts))}}else{var Ws=$s[$s.length-1];if(Is.slice(0,Ws.length)!=Ws)continue e;for(var Ds=1,gs=Rs-$s.length+1;Ds<$s.length-1;Ds++)if(Ts(ms.getLine(gs+Ds))!=$s[Ds])continue e;var _s=ms.getLine(Rs+1-$s.length),Ns=Ts(_s);if(Ns.slice(Ns.length-$s[0].length)!=$s[0])continue e;return{from:ts(Rs+1-$s.length,bs(_s,Ns,_s.length-$s[0].length,Ts)),to:ts(Rs,bs(Fs,Is,Ws.length,Ts))}}}}function ps(ms,fs,gs,ws){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=ms,gs=gs?ms.clipPos(gs):ts(0,0),this.pos={from:gs,to:gs};var Ts;typeof ws=="object"?Ts=ws.caseFold:(Ts=ws,ws=null),typeof fs=="string"?(Ts==null&&(Ts=!1),this.matches=function($s,Rs){return($s?Cs:ys)(ms,fs,Rs,Ts)}):(fs=is(fs,"gm"),!ws||ws.multiline!==!1?this.matches=function($s,Rs){return($s?hs:os)(ms,fs,Rs)}:this.matches=function($s,Rs){return($s?cs:ss)(ms,fs,Rs)})}ps.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(ms){var fs=this.doc.clipPos(ms?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(fs=ts(fs.line,fs.ch),ms?(fs.ch--,fs.ch<0&&(fs.line--,fs.ch=(this.doc.getLine(fs.line)||"").length)):(fs.ch++,fs.ch>(this.doc.getLine(fs.line)||"").length&&(fs.ch=0,fs.line++)),Ri.cmpPos(fs,this.doc.clipPos(fs))!=0))return this.atOccurrence=!1;var gs=this.matches(ms,fs);if(this.afterEmptyMatch=gs&&Ri.cmpPos(gs.from,gs.to)==0,gs)return this.pos=gs,this.atOccurrence=!0,this.pos.match||!0;var ws=ts(ms?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:ws,to:ws},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(ms,fs){if(this.atOccurrence){var gs=Ri.splitLines(ms);this.doc.replaceRange(gs,this.pos.from,this.pos.to,fs),this.pos.to=ts(this.pos.from.line+gs.length-1,gs[gs.length-1].length+(gs.length==1?this.pos.from.ch:0))}}},Ri.defineExtension("getSearchCursor",function(ms,fs,gs){return new ps(this.doc,ms,fs,gs)}),Ri.defineDocExtension("getSearchCursor",function(ms,fs,gs){return new ps(this,ms,fs,gs)}),Ri.defineExtension("selectMatches",function(ms,fs){for(var gs=[],ws=this.getSearchCursor(ms,this.getCursor("from"),fs);ws.findNext()&&!(Ri.cmpPos(ws.to(),this.getCursor("to"))>0);)gs.push({anchor:ws.from(),head:ws.to()});gs.length&&this.setSelections(gs,0)})})})();(function(es,ki){(function(Ri){Ri(codemirrorExports,markdownExports,overlayExports)})(function(Ri){var ts=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;Ri.defineMode("gfm",function(rs,is){var ns=0;function ss(hs){return hs.code=!1,null}var os={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(hs){return{code:hs.code,codeBlock:hs.codeBlock,ateSpace:hs.ateSpace}},token:function(hs,us){if(us.combineTokens=null,us.codeBlock)return hs.match(/^```+/)?(us.codeBlock=!1,null):(hs.skipToEnd(),null);if(hs.sol()&&(us.code=!1),hs.sol()&&hs.match(/^```+/))return hs.skipToEnd(),us.codeBlock=!0,null;if(hs.peek()==="`"){hs.next();var As=hs.pos;hs.eatWhile("`");var bs=1+hs.pos-As;return us.code?bs===ns&&(us.code=!1):(ns=bs,us.code=!0),null}else if(us.code)return hs.next(),null;if(hs.eatSpace())return us.ateSpace=!0,null;if((hs.sol()||us.ateSpace)&&(us.ateSpace=!1,is.gitHubSpice!==!1)){if(hs.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return us.combineTokens=!0,"link";if(hs.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return us.combineTokens=!0,"link"}return hs.match(ts)&&hs.string.slice(hs.start-2,hs.start)!="]("&&(hs.start==0||/\W/.test(hs.string.charAt(hs.start-1)))?(us.combineTokens=!0,"link"):(hs.next(),null)},blankLine:ss},ls={taskLists:!0,strikethrough:!0,emoji:!0};for(var cs in is)ls[cs]=is[cs];return ls.name="markdown",Ri.overlayMode(Ri.getMode(rs,ls),os)},"markdown"),Ri.defineMIME("text/x-gfm","gfm")})})();function commonjsRequire(es){throw new Error('Could not dynamically require "'+es+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var typo={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(__viteBrowserExternal$1);(function(es){var ki;(function(){ki=function(Ri,ts,rs,is){is=is||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=is.flags||{},this.memoized={},this.loaded=!1;var ns=this,ss,os,ls,cs,hs;Ri&&(ns.dictionary=Ri,ts&&rs?ys():typeof window<"u"&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(is.dictionaryPath?ss=is.dictionaryPath:ss="typo/dictionaries",ts||us(chrome.extension.getURL(ss+"/"+Ri+"/"+Ri+".aff"),As),rs||us(chrome.extension.getURL(ss+"/"+Ri+"/"+Ri+".dic"),bs)):(is.dictionaryPath?ss=is.dictionaryPath:typeof __dirname<"u"?ss=__dirname+"/dictionaries":ss="./dictionaries",ts||us(ss+"/"+Ri+"/"+Ri+".aff",As),rs||us(ss+"/"+Ri+"/"+Ri+".dic",bs)));function us(Cs,ps){var ms=ns._readFile(Cs,null,is.asyncLoad);is.asyncLoad?ms.then(function(fs){ps(fs)}):ps(ms)}function As(Cs){ts=Cs,rs&&ys()}function bs(Cs){rs=Cs,ts&&ys()}function ys(){for(ns.rules=ns._parseAFF(ts),ns.compoundRuleCodes={},os=0,cs=ns.compoundRules.length;os<cs;os++){var Cs=ns.compoundRules[os];for(ls=0,hs=Cs.length;ls<hs;ls++)ns.compoundRuleCodes[Cs[ls]]=[]}"ONLYINCOMPOUND"in ns.flags&&(ns.compoundRuleCodes[ns.flags.ONLYINCOMPOUND]=[]),ns.dictionaryTable=ns._parseDIC(rs);for(os in ns.compoundRuleCodes)ns.compoundRuleCodes[os].length===0&&delete ns.compoundRuleCodes[os];for(os=0,cs=ns.compoundRules.length;os<cs;os++){var ps=ns.compoundRules[os],ms="";for(ls=0,hs=ps.length;ls<hs;ls++){var fs=ps[ls];fs in ns.compoundRuleCodes?ms+="("+ns.compoundRuleCodes[fs].join("|")+")":ms+=fs}ns.compoundRules[os]=new RegExp(ms,"i")}ns.loaded=!0,is.asyncLoad&&is.loadedCallback&&is.loadedCallback(ns)}return this},ki.prototype={load:function(Ri){for(var ts in Ri)Ri.hasOwnProperty(ts)&&(this[ts]=Ri[ts]);return this},_readFile:function(Ri,ts,rs){if(ts=ts||"utf8",typeof XMLHttpRequest<"u"){var is,ns=new XMLHttpRequest;return ns.open("GET",Ri,rs),rs&&(is=new Promise(function(os,ls){ns.onload=function(){ns.status===200?os(ns.responseText):ls(ns.statusText)},ns.onerror=function(){ls(ns.statusText)}})),ns.overrideMimeType&&ns.overrideMimeType("text/plain; charset="+ts),ns.send(null),rs?is:ns.responseText}else if(typeof commonjsRequire<"u"){var ss=require$$0$1;try{if(ss.existsSync(Ri))return ss.readFileSync(Ri,ts);console.log("Path "+Ri+" does not exist.")}catch(os){return console.log(os),""}}},_parseAFF:function(Ri){var ts={},rs,is,ns,ss,os,ls,cs,hs,us=Ri.split(/\r?\n/);for(os=0,cs=us.length;os<cs;os++)if(rs=this._removeAffixComments(us[os]),rs=rs.trim(),!!rs){var As=rs.split(/\s+/),bs=As[0];if(bs=="PFX"||bs=="SFX"){var ys=As[1],Cs=As[2];ns=parseInt(As[3],10);var ps=[];for(ls=os+1,hs=os+1+ns;ls<hs;ls++){is=us[ls],ss=is.split(/\s+/);var ms=ss[2],fs=ss[3].split("/"),gs=fs[0];gs==="0"&&(gs="");var ws=this.parseRuleCodes(fs[1]),Ts=ss[4],$s={};$s.add=gs,ws.length>0&&($s.continuationClasses=ws),Ts!=="."&&(bs==="SFX"?$s.match=new RegExp(Ts+"$"):$s.match=new RegExp("^"+Ts)),ms!="0"&&(bs==="SFX"?$s.remove=new RegExp(ms+"$"):$s.remove=ms),ps.push($s)}ts[ys]={type:bs,combineable:Cs=="Y",entries:ps},os+=ns}else if(bs==="COMPOUNDRULE"){for(ns=parseInt(As[1],10),ls=os+1,hs=os+1+ns;ls<hs;ls++)rs=us[ls],ss=rs.split(/\s+/),this.compoundRules.push(ss[1]);os+=ns}else bs==="REP"?(ss=rs.split(/\s+/),ss.length===3&&this.replacementTable.push([ss[1],ss[2]])):this.flags[bs]=As[1]}return ts},_removeAffixComments:function(Ri){return Ri.match(/^\s*#/,"")?"":Ri},_parseDIC:function(Ri){Ri=this._removeDicComments(Ri);var ts=Ri.split(/\r?\n/),rs={};function is(Fs,Is){rs.hasOwnProperty(Fs)||(rs[Fs]=null),Is.length>0&&(rs[Fs]===null&&(rs[Fs]=[]),rs[Fs].push(Is))}for(var ns=1,ss=ts.length;ns<ss;ns++){var os=ts[ns];if(os){var ls=os.split("/",2),cs=ls[0];if(ls.length>1){var hs=this.parseRuleCodes(ls[1]);(!("NEEDAFFIX"in this.flags)||hs.indexOf(this.flags.NEEDAFFIX)==-1)&&is(cs,hs);for(var us=0,As=hs.length;us<As;us++){var bs=hs[us],ys=this.rules[bs];if(ys)for(var Cs=this._applyRule(cs,ys),ps=0,ms=Cs.length;ps<ms;ps++){var fs=Cs[ps];if(is(fs,[]),ys.combineable)for(var gs=us+1;gs<As;gs++){var ws=hs[gs],Ts=this.rules[ws];if(Ts&&Ts.combineable&&ys.type!=Ts.type)for(var $s=this._applyRule(fs,Ts),Rs=0,Ps=$s.length;Rs<Ps;Rs++){var Qs=$s[Rs];is(Qs,[])}}}bs in this.compoundRuleCodes&&this.compoundRuleCodes[bs].push(cs)}}else is(cs.trim(),[])}}return rs},_removeDicComments:function(Ri){return Ri=Ri.replace(/^\t.*$/mg,""),Ri},parseRuleCodes:function(Ri){if(Ri)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var ts=[],rs=0,is=Ri.length;rs<is;rs+=2)ts.push(Ri.substr(rs,2));return ts}else return this.flags.FLAG==="num"?Ri.split(","):this.flags.FLAG==="UTF-8"?Array.from(Ri):Ri.split("");else return Ri.split("");else return[]},_applyRule:function(Ri,ts){for(var rs=ts.entries,is=[],ns=0,ss=rs.length;ns<ss;ns++){var os=rs[ns];if(!os.match||Ri.match(os.match)){var ls=Ri;if(os.remove&&(ls=ls.replace(os.remove,"")),ts.type==="SFX"?ls=ls+os.add:ls=os.add+ls,is.push(ls),"continuationClasses"in os)for(var cs=0,hs=os.continuationClasses.length;cs<hs;cs++){var us=this.rules[os.continuationClasses[cs]];us&&(is=is.concat(this._applyRule(ls,us)))}}}return is},check:function(Ri){if(!this.loaded)throw"Dictionary not loaded.";if(!Ri)return!1;var ts=Ri.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(ts))return!0;if(ts.toUpperCase()===ts){var rs=ts[0]+ts.substring(1).toLowerCase();if(this.hasFlag(rs,"KEEPCASE"))return!1;if(this.checkExact(rs)||this.checkExact(ts.toLowerCase()))return!0}var is=ts[0].toLowerCase()+ts.substring(1);if(is!==ts){if(this.hasFlag(is,"KEEPCASE"))return!1;if(this.checkExact(is))return!0}return!1},checkExact:function(Ri){if(!this.loaded)throw"Dictionary not loaded.";var ts=this.dictionaryTable[Ri],rs,is;if(typeof ts>"u"){if("COMPOUNDMIN"in this.flags&&Ri.length>=this.flags.COMPOUNDMIN){for(rs=0,is=this.compoundRules.length;rs<is;rs++)if(Ri.match(this.compoundRules[rs]))return!0}}else{if(ts===null)return!0;if(typeof ts=="object"){for(rs=0,is=ts.length;rs<is;rs++)if(!this.hasFlag(Ri,"ONLYINCOMPOUND",ts[rs]))return!0}}return!1},hasFlag:function(Ri,ts,rs){if(!this.loaded)throw"Dictionary not loaded.";return!!(ts in this.flags&&(typeof rs>"u"&&(rs=Array.prototype.concat.apply([],this.dictionaryTable[Ri])),rs&&rs.indexOf(this.flags[ts])!==-1))},alphabet:"",suggest:function(Ri,ts){if(!this.loaded)throw"Dictionary not loaded.";if(ts=ts||5,this.memoized.hasOwnProperty(Ri)){var rs=this.memoized[Ri].limit;if(ts<=rs||this.memoized[Ri].suggestions.length<rs)return this.memoized[Ri].suggestions.slice(0,ts)}if(this.check(Ri))return[];for(var is=0,ns=this.replacementTable.length;is<ns;is++){var ss=this.replacementTable[is];if(Ri.indexOf(ss[0])!==-1){var os=Ri.replace(ss[0],ss[1]);if(this.check(os))return[os]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var ls=this.alphabet.split("");ls.sort();for(var cs={},is=0;is<ls.length;is++)cs[ls[is]]=!0;this.alphabet="";for(var is in cs)this.alphabet+=is}var hs=this;function us(bs,ys){var Cs={},ps,ms,fs,gs,ws=hs.alphabet.length;if(typeof bs=="string"){var Ts=bs;bs={},bs[Ts]=!0}for(var Ts in bs)for(ps=0,fs=Ts.length+1;ps<fs;ps++){var $s=[Ts.substring(0,ps),Ts.substring(ps)];if($s[1]&&(gs=$s[0]+$s[1].substring(1),(!ys||hs.check(gs))&&(gs in Cs?Cs[gs]+=1:Cs[gs]=1)),$s[1].length>1&&$s[1][1]!==$s[1][0]&&(gs=$s[0]+$s[1][1]+$s[1][0]+$s[1].substring(2),(!ys||hs.check(gs))&&(gs in Cs?Cs[gs]+=1:Cs[gs]=1)),$s[1]){var Rs=$s[1].substring(0,1).toUpperCase()===$s[1].substring(0,1)?"uppercase":"lowercase";for(ms=0;ms<ws;ms++){var Ps=hs.alphabet[ms];Rs==="uppercase"&&(Ps=Ps.toUpperCase()),Ps!=$s[1].substring(0,1)&&(gs=$s[0]+Ps+$s[1].substring(1),(!ys||hs.check(gs))&&(gs in Cs?Cs[gs]+=1:Cs[gs]=1))}}if($s[1])for(ms=0;ms<ws;ms++){var Rs=$s[0].substring(-1).toUpperCase()===$s[0].substring(-1)&&$s[1].substring(0,1).toUpperCase()===$s[1].substring(0,1)?"uppercase":"lowercase",Ps=hs.alphabet[ms];Rs==="uppercase"&&(Ps=Ps.toUpperCase()),gs=$s[0]+Ps+$s[1],(!ys||hs.check(gs))&&(gs in Cs?Cs[gs]+=1:Cs[gs]=1)}}return Cs}function As(bs){var ys=us(bs),Cs=us(ys,!0),ps=Cs;for(var ms in ys)hs.check(ms)&&(ms in ps?ps[ms]+=ys[ms]:ps[ms]=ys[ms]);var fs,gs=[];for(fs in ps)ps.hasOwnProperty(fs)&&gs.push([fs,ps[fs]]);function ws(Ps,Qs){var Fs=Ps[1],Is=Qs[1];return Fs<Is?-1:Fs>Is?1:Qs[0].localeCompare(Ps[0])}gs.sort(ws).reverse();var Ts=[],$s="lowercase";bs.toUpperCase()===bs?$s="uppercase":bs.substr(0,1).toUpperCase()+bs.substr(1).toLowerCase()===bs&&($s="capitalized");var Rs=ts;for(fs=0;fs<Math.min(Rs,gs.length);fs++)$s==="uppercase"?gs[fs][0]=gs[fs][0].toUpperCase():$s==="capitalized"&&(gs[fs][0]=gs[fs][0].substr(0,1).toUpperCase()+gs[fs][0].substr(1)),!hs.hasFlag(gs[fs][0],"NOSUGGEST")&&Ts.indexOf(gs[fs][0])==-1?Ts.push(gs[fs][0]):Rs++;return Ts}return this.memoized[Ri]={suggestions:As(Ri),limit:ts},this.memoized[Ri].suggestions}}})(),es.exports=ki})(typo);var typoExports=typo.exports,Typo=typoExports;function CodeMirrorSpellChecker$1(es){if(es=es||{},typeof es.codeMirrorInstance!="function"||typeof es.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),es.codeMirrorInstance.defineMode("spell-checker",function(ki){if(!CodeMirrorSpellChecker$1.aff_loading){CodeMirrorSpellChecker$1.aff_loading=!0;var Ri=new XMLHttpRequest;Ri.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),Ri.onload=function(){Ri.readyState===4&&Ri.status===200&&(CodeMirrorSpellChecker$1.aff_data=Ri.responseText,CodeMirrorSpellChecker$1.num_loaded++,CodeMirrorSpellChecker$1.num_loaded==2&&(CodeMirrorSpellChecker$1.typo=new Typo("en_US",CodeMirrorSpellChecker$1.aff_data,CodeMirrorSpellChecker$1.dic_data,{platform:"any"})))},Ri.send(null)}if(!CodeMirrorSpellChecker$1.dic_loading){CodeMirrorSpellChecker$1.dic_loading=!0;var ts=new XMLHttpRequest;ts.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),ts.onload=function(){ts.readyState===4&&ts.status===200&&(CodeMirrorSpellChecker$1.dic_data=ts.responseText,CodeMirrorSpellChecker$1.num_loaded++,CodeMirrorSpellChecker$1.num_loaded==2&&(CodeMirrorSpellChecker$1.typo=new Typo("en_US",CodeMirrorSpellChecker$1.aff_data,CodeMirrorSpellChecker$1.dic_data,{platform:"any"})))},ts.send(null)}var rs='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',is={token:function(ss){var os=ss.peek(),ls="";if(rs.includes(os))return ss.next(),null;for(;(os=ss.peek())!=null&&!rs.includes(os);)ls+=os,ss.next();return CodeMirrorSpellChecker$1.typo&&!CodeMirrorSpellChecker$1.typo.check(ls)?"spell-error":null}},ns=es.codeMirrorInstance.getMode(ki,ki.backdrop||"text/plain");return es.codeMirrorInstance.overlayMode(ns,is,!0)})}CodeMirrorSpellChecker$1.num_loaded=0;CodeMirrorSpellChecker$1.aff_loading=!1;CodeMirrorSpellChecker$1.dic_loading=!1;CodeMirrorSpellChecker$1.aff_data="";CodeMirrorSpellChecker$1.dic_data="";CodeMirrorSpellChecker$1.typo;var spellChecker=CodeMirrorSpellChecker$1,marked$2={};(function(es){function ki(go,_o){for(var To=0;To<_o.length;To++){var uo=_o[To];uo.enumerable=uo.enumerable||!1,uo.configurable=!0,"value"in uo&&(uo.writable=!0),Object.defineProperty(go,os(uo.key),uo)}}function Ri(go,_o,To){return To&&ki(go,To),Object.defineProperty(go,"prototype",{writable:!1}),go}function ts(){return ts=Object.assign?Object.assign.bind():function(go){for(var _o=1;_o<arguments.length;_o++){var To=arguments[_o];for(var uo in To)Object.prototype.hasOwnProperty.call(To,uo)&&(go[uo]=To[uo])}return go},ts.apply(this,arguments)}function rs(go,_o){if(go){if(typeof go=="string")return is(go,_o);var To=Object.prototype.toString.call(go).slice(8,-1);if(To==="Object"&&go.constructor&&(To=go.constructor.name),To==="Map"||To==="Set")return Array.from(go);if(To==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(To))return is(go,_o)}}function is(go,_o){(_o==null||_o>go.length)&&(_o=go.length);for(var To=0,uo=new Array(_o);To<_o;To++)uo[To]=go[To];return uo}function ns(go,_o){var To=typeof Symbol<"u"&&go[Symbol.iterator]||go["@@iterator"];if(To)return(To=To.call(go)).next.bind(To);if(Array.isArray(go)||(To=rs(go))||_o){To&&(go=To);var uo=0;return function(){return uo>=go.length?{done:!0}:{done:!1,value:go[uo++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ss(go,_o){if(typeof go!="object"||go===null)return go;var To=go[Symbol.toPrimitive];if(To!==void 0){var uo=To.call(go,_o);if(typeof uo!="object")return uo;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(go)}function os(go){var _o=ss(go,"string");return typeof _o=="symbol"?_o:String(_o)}function ls(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}es.defaults=ls();function cs(go){es.defaults=go}var hs=/[&<>"']/,us=new RegExp(hs.source,"g"),As=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,bs=new RegExp(As.source,"g"),ys={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Cs=function(_o){return ys[_o]};function ps(go,_o){if(_o){if(hs.test(go))return go.replace(us,Cs)}else if(As.test(go))return go.replace(bs,Cs);return go}var ms=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function fs(go){return go.replace(ms,function(_o,To){return To=To.toLowerCase(),To==="colon"?":":To.charAt(0)==="#"?To.charAt(1)==="x"?String.fromCharCode(parseInt(To.substring(2),16)):String.fromCharCode(+To.substring(1)):""})}var gs=/(^|[^\[])\^/g;function ws(go,_o){go=typeof go=="string"?go:go.source,_o=_o||"";var To={replace:function(Co,Oo){return Oo=Oo.source||Oo,Oo=Oo.replace(gs,"$1"),go=go.replace(Co,Oo),To},getRegex:function(){return new RegExp(go,_o)}};return To}var Ts=/[^\w:]/g,$s=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Rs(go,_o,To){if(go){var uo;try{uo=decodeURIComponent(fs(To)).replace(Ts,"").toLowerCase()}catch{return null}if(uo.indexOf("javascript:")===0||uo.indexOf("vbscript:")===0||uo.indexOf("data:")===0)return null}_o&&!$s.test(To)&&(To=Ms(_o,To));try{To=encodeURI(To).replace(/%25/g,"%")}catch{return null}return To}var Ps={},Qs=/^[^:]+:\/*[^/]*$/,Fs=/^([^:]+:)[\s\S]*$/,Is=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Ms(go,_o){Ps[" "+go]||(Qs.test(go)?Ps[" "+go]=go+"/":Ps[" "+go]=_s(go,"/",!0)),go=Ps[" "+go];var To=go.indexOf(":")===-1;return _o.substring(0,2)==="//"?To?_o:go.replace(Fs,"$1")+_o:_o.charAt(0)==="/"?To?_o:go.replace(Is,"$1")+_o:go+_o}var Ws={exec:function(){}};function Ds(go,_o){var To=go.replace(/\|/g,function(Oo,Fo,Po){for(var Zo=!1,na=Fo;--na>=0&&Po[na]==="\\";)Zo=!Zo;return Zo?"|":" |"}),uo=To.split(/ \|/),Co=0;if(uo[0].trim()||uo.shift(),uo.length>0&&!uo[uo.length-1].trim()&&uo.pop(),uo.length>_o)uo.splice(_o);else for(;uo.length<_o;)uo.push("");for(;Co<uo.length;Co++)uo[Co]=uo[Co].trim().replace(/\\\|/g,"|");return uo}function _s(go,_o,To){var uo=go.length;if(uo===0)return"";for(var Co=0;Co<uo;){var Oo=go.charAt(uo-Co-1);if(Oo===_o&&!To)Co++;else if(Oo!==_o&&To)Co++;else break}return go.slice(0,uo-Co)}function Ns(go,_o){if(go.indexOf(_o[1])===-1)return-1;for(var To=go.length,uo=0,Co=0;Co<To;Co++)if(go[Co]==="\\")Co++;else if(go[Co]===_o[0])uo++;else if(go[Co]===_o[1]&&(uo--,uo<0))return Co;return-1}function Ss(go){go&&go.sanitize&&!go.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Us(go,_o){if(_o<1)return"";for(var To="";_o>1;)_o&1&&(To+=go),_o>>=1,go+=go;return To+go}function Zs(go,_o,To,uo){var Co=_o.href,Oo=_o.title?ps(_o.title):null,Fo=go[1].replace(/\\([\[\]])/g,"$1");if(go[0].charAt(0)!=="!"){uo.state.inLink=!0;var Po={type:"link",raw:To,href:Co,title:Oo,text:Fo,tokens:uo.inlineTokens(Fo)};return uo.state.inLink=!1,Po}return{type:"image",raw:To,href:Co,title:Oo,text:ps(Fo)}}function ao(go,_o){var To=go.match(/^(\s+)(?:```)/);if(To===null)return _o;var uo=To[1];return _o.split(`
`).map(function(Co){var Oo=Co.match(/^\s+/);if(Oo===null)return Co;var Fo=Oo[0];return Fo.length>=uo.length?Co.slice(uo.length):Co}).join(`
`)}var js=function(){function go(To){this.options=To||es.defaults}var _o=go.prototype;return _o.space=function(uo){var Co=this.rules.block.newline.exec(uo);if(Co&&Co[0].length>0)return{type:"space",raw:Co[0]}},_o.code=function(uo){var Co=this.rules.block.code.exec(uo);if(Co){var Oo=Co[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Co[0],codeBlockStyle:"indented",text:this.options.pedantic?Oo:_s(Oo,`
`)}}},_o.fences=function(uo){var Co=this.rules.block.fences.exec(uo);if(Co){var Oo=Co[0],Fo=ao(Oo,Co[3]||"");return{type:"code",raw:Oo,lang:Co[2]?Co[2].trim().replace(this.rules.inline._escapes,"$1"):Co[2],text:Fo}}},_o.heading=function(uo){var Co=this.rules.block.heading.exec(uo);if(Co){var Oo=Co[2].trim();if(/#$/.test(Oo)){var Fo=_s(Oo,"#");(this.options.pedantic||!Fo||/ $/.test(Fo))&&(Oo=Fo.trim())}return{type:"heading",raw:Co[0],depth:Co[1].length,text:Oo,tokens:this.lexer.inline(Oo)}}},_o.hr=function(uo){var Co=this.rules.block.hr.exec(uo);if(Co)return{type:"hr",raw:Co[0]}},_o.blockquote=function(uo){var Co=this.rules.block.blockquote.exec(uo);if(Co){var Oo=Co[0].replace(/^ *>[ \t]?/gm,""),Fo=this.lexer.state.top;this.lexer.state.top=!0;var Po=this.lexer.blockTokens(Oo);return this.lexer.state.top=Fo,{type:"blockquote",raw:Co[0],tokens:Po,text:Oo}}},_o.list=function(uo){var Co=this.rules.block.list.exec(uo);if(Co){var Oo,Fo,Po,Zo,na,ma,ua,ka,Ba,Va,Ea,il,kl=Co[1].trim(),Ja=kl.length>1,Ua={type:"list",raw:"",ordered:Ja,start:Ja?+kl.slice(0,-1):"",loose:!1,items:[]};kl=Ja?"\\d{1,9}\\"+kl.slice(-1):"\\"+kl,this.options.pedantic&&(kl=Ja?kl:"[*+-]");for(var Na=new RegExp("^( {0,3}"+kl+")((?:[	 ][^\\n]*)?(?:\\n|$))");uo&&(il=!1,!(!(Co=Na.exec(uo))||this.rules.block.hr.test(uo)));){if(Oo=Co[0],uo=uo.substring(Oo.length),ka=Co[2].split(`
`,1)[0].replace(/^\t+/,function(_u){return" ".repeat(3*_u.length)}),Ba=uo.split(`
`,1)[0],this.options.pedantic?(Zo=2,Ea=ka.trimLeft()):(Zo=Co[2].search(/[^ ]/),Zo=Zo>4?1:Zo,Ea=ka.slice(Zo),Zo+=Co[1].length),ma=!1,!ka&&/^ *$/.test(Ba)&&(Oo+=Ba+`
`,uo=uo.substring(Ba.length+1),il=!0),!il)for(var nl=new RegExp("^ {0,"+Math.min(3,Zo-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),Wl=new RegExp("^ {0,"+Math.min(3,Zo-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),El=new RegExp("^ {0,"+Math.min(3,Zo-1)+"}(?:```|~~~)"),$c=new RegExp("^ {0,"+Math.min(3,Zo-1)+"}#");uo&&(Va=uo.split(`
`,1)[0],Ba=Va,this.options.pedantic&&(Ba=Ba.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(El.test(Ba)||$c.test(Ba)||nl.test(Ba)||Wl.test(uo)));){if(Ba.search(/[^ ]/)>=Zo||!Ba.trim())Ea+=`
`+Ba.slice(Zo);else{if(ma||ka.search(/[^ ]/)>=4||El.test(ka)||$c.test(ka)||Wl.test(ka))break;Ea+=`
`+Ba}!ma&&!Ba.trim()&&(ma=!0),Oo+=Va+`
`,uo=uo.substring(Va.length+1),ka=Ba.slice(Zo)}Ua.loose||(ua?Ua.loose=!0:/\n *\n *$/.test(Oo)&&(ua=!0)),this.options.gfm&&(Fo=/^\[[ xX]\] /.exec(Ea),Fo&&(Po=Fo[0]!=="[ ] ",Ea=Ea.replace(/^\[[ xX]\] +/,""))),Ua.items.push({type:"list_item",raw:Oo,task:!!Fo,checked:Po,loose:!1,text:Ea}),Ua.raw+=Oo}Ua.items[Ua.items.length-1].raw=Oo.trimRight(),Ua.items[Ua.items.length-1].text=Ea.trimRight(),Ua.raw=Ua.raw.trimRight();var ou=Ua.items.length;for(na=0;na<ou;na++)if(this.lexer.state.top=!1,Ua.items[na].tokens=this.lexer.blockTokens(Ua.items[na].text,[]),!Ua.loose){var wl=Ua.items[na].tokens.filter(function(_u){return _u.type==="space"}),dc=wl.length>0&&wl.some(function(_u){return/\n.*\n/.test(_u.raw)});Ua.loose=dc}if(Ua.loose)for(na=0;na<ou;na++)Ua.items[na].loose=!0;return Ua}},_o.html=function(uo){var Co=this.rules.block.html.exec(uo);if(Co){var Oo={type:"html",raw:Co[0],pre:!this.options.sanitizer&&(Co[1]==="pre"||Co[1]==="script"||Co[1]==="style"),text:Co[0]};if(this.options.sanitize){var Fo=this.options.sanitizer?this.options.sanitizer(Co[0]):ps(Co[0]);Oo.type="paragraph",Oo.text=Fo,Oo.tokens=this.lexer.inline(Fo)}return Oo}},_o.def=function(uo){var Co=this.rules.block.def.exec(uo);if(Co){var Oo=Co[1].toLowerCase().replace(/\s+/g," "),Fo=Co[2]?Co[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",Po=Co[3]?Co[3].substring(1,Co[3].length-1).replace(this.rules.inline._escapes,"$1"):Co[3];return{type:"def",tag:Oo,raw:Co[0],href:Fo,title:Po}}},_o.table=function(uo){var Co=this.rules.block.table.exec(uo);if(Co){var Oo={type:"table",header:Ds(Co[1]).map(function(ua){return{text:ua}}),align:Co[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Co[3]&&Co[3].trim()?Co[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(Oo.header.length===Oo.align.length){Oo.raw=Co[0];var Fo=Oo.align.length,Po,Zo,na,ma;for(Po=0;Po<Fo;Po++)/^ *-+: *$/.test(Oo.align[Po])?Oo.align[Po]="right":/^ *:-+: *$/.test(Oo.align[Po])?Oo.align[Po]="center":/^ *:-+ *$/.test(Oo.align[Po])?Oo.align[Po]="left":Oo.align[Po]=null;for(Fo=Oo.rows.length,Po=0;Po<Fo;Po++)Oo.rows[Po]=Ds(Oo.rows[Po],Oo.header.length).map(function(ua){return{text:ua}});for(Fo=Oo.header.length,Zo=0;Zo<Fo;Zo++)Oo.header[Zo].tokens=this.lexer.inline(Oo.header[Zo].text);for(Fo=Oo.rows.length,Zo=0;Zo<Fo;Zo++)for(ma=Oo.rows[Zo],na=0;na<ma.length;na++)ma[na].tokens=this.lexer.inline(ma[na].text);return Oo}}},_o.lheading=function(uo){var Co=this.rules.block.lheading.exec(uo);if(Co)return{type:"heading",raw:Co[0],depth:Co[2].charAt(0)==="="?1:2,text:Co[1],tokens:this.lexer.inline(Co[1])}},_o.paragraph=function(uo){var Co=this.rules.block.paragraph.exec(uo);if(Co){var Oo=Co[1].charAt(Co[1].length-1)===`
`?Co[1].slice(0,-1):Co[1];return{type:"paragraph",raw:Co[0],text:Oo,tokens:this.lexer.inline(Oo)}}},_o.text=function(uo){var Co=this.rules.block.text.exec(uo);if(Co)return{type:"text",raw:Co[0],text:Co[0],tokens:this.lexer.inline(Co[0])}},_o.escape=function(uo){var Co=this.rules.inline.escape.exec(uo);if(Co)return{type:"escape",raw:Co[0],text:ps(Co[1])}},_o.tag=function(uo){var Co=this.rules.inline.tag.exec(uo);if(Co)return!this.lexer.state.inLink&&/^<a /i.test(Co[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Co[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Co[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Co[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Co[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Co[0]):ps(Co[0]):Co[0]}},_o.link=function(uo){var Co=this.rules.inline.link.exec(uo);if(Co){var Oo=Co[2].trim();if(!this.options.pedantic&&/^</.test(Oo)){if(!/>$/.test(Oo))return;var Fo=_s(Oo.slice(0,-1),"\\");if((Oo.length-Fo.length)%2===0)return}else{var Po=Ns(Co[2],"()");if(Po>-1){var Zo=Co[0].indexOf("!")===0?5:4,na=Zo+Co[1].length+Po;Co[2]=Co[2].substring(0,Po),Co[0]=Co[0].substring(0,na).trim(),Co[3]=""}}var ma=Co[2],ua="";if(this.options.pedantic){var ka=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ma);ka&&(ma=ka[1],ua=ka[3])}else ua=Co[3]?Co[3].slice(1,-1):"";return ma=ma.trim(),/^</.test(ma)&&(this.options.pedantic&&!/>$/.test(Oo)?ma=ma.slice(1):ma=ma.slice(1,-1)),Zs(Co,{href:ma&&ma.replace(this.rules.inline._escapes,"$1"),title:ua&&ua.replace(this.rules.inline._escapes,"$1")},Co[0],this.lexer)}},_o.reflink=function(uo,Co){var Oo;if((Oo=this.rules.inline.reflink.exec(uo))||(Oo=this.rules.inline.nolink.exec(uo))){var Fo=(Oo[2]||Oo[1]).replace(/\s+/g," ");if(Fo=Co[Fo.toLowerCase()],!Fo){var Po=Oo[0].charAt(0);return{type:"text",raw:Po,text:Po}}return Zs(Oo,Fo,Oo[0],this.lexer)}},_o.emStrong=function(uo,Co,Oo){Oo===void 0&&(Oo="");var Fo=this.rules.inline.emStrong.lDelim.exec(uo);if(Fo&&!(Fo[3]&&Oo.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Po=Fo[1]||Fo[2]||"";if(!Po||Po&&(Oo===""||this.rules.inline.punctuation.exec(Oo))){var Zo=Fo[0].length-1,na,ma,ua=Zo,ka=0,Ba=Fo[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ba.lastIndex=0,Co=Co.slice(-1*uo.length+Zo);(Fo=Ba.exec(Co))!=null;)if(na=Fo[1]||Fo[2]||Fo[3]||Fo[4]||Fo[5]||Fo[6],!!na){if(ma=na.length,Fo[3]||Fo[4]){ua+=ma;continue}else if((Fo[5]||Fo[6])&&Zo%3&&!((Zo+ma)%3)){ka+=ma;continue}if(ua-=ma,!(ua>0)){ma=Math.min(ma,ma+ua+ka);var Va=uo.slice(0,Zo+Fo.index+(Fo[0].length-na.length)+ma);if(Math.min(Zo,ma)%2){var Ea=Va.slice(1,-1);return{type:"em",raw:Va,text:Ea,tokens:this.lexer.inlineTokens(Ea)}}var il=Va.slice(2,-2);return{type:"strong",raw:Va,text:il,tokens:this.lexer.inlineTokens(il)}}}}}},_o.codespan=function(uo){var Co=this.rules.inline.code.exec(uo);if(Co){var Oo=Co[2].replace(/\n/g," "),Fo=/[^ ]/.test(Oo),Po=/^ /.test(Oo)&&/ $/.test(Oo);return Fo&&Po&&(Oo=Oo.substring(1,Oo.length-1)),Oo=ps(Oo,!0),{type:"codespan",raw:Co[0],text:Oo}}},_o.br=function(uo){var Co=this.rules.inline.br.exec(uo);if(Co)return{type:"br",raw:Co[0]}},_o.del=function(uo){var Co=this.rules.inline.del.exec(uo);if(Co)return{type:"del",raw:Co[0],text:Co[2],tokens:this.lexer.inlineTokens(Co[2])}},_o.autolink=function(uo,Co){var Oo=this.rules.inline.autolink.exec(uo);if(Oo){var Fo,Po;return Oo[2]==="@"?(Fo=ps(this.options.mangle?Co(Oo[1]):Oo[1]),Po="mailto:"+Fo):(Fo=ps(Oo[1]),Po=Fo),{type:"link",raw:Oo[0],text:Fo,href:Po,tokens:[{type:"text",raw:Fo,text:Fo}]}}},_o.url=function(uo,Co){var Oo;if(Oo=this.rules.inline.url.exec(uo)){var Fo,Po;if(Oo[2]==="@")Fo=ps(this.options.mangle?Co(Oo[0]):Oo[0]),Po="mailto:"+Fo;else{var Zo;do Zo=Oo[0],Oo[0]=this.rules.inline._backpedal.exec(Oo[0])[0];while(Zo!==Oo[0]);Fo=ps(Oo[0]),Oo[1]==="www."?Po="http://"+Oo[0]:Po=Oo[0]}return{type:"link",raw:Oo[0],text:Fo,href:Po,tokens:[{type:"text",raw:Fo,text:Fo}]}}},_o.inlineText=function(uo,Co){var Oo=this.rules.inline.text.exec(uo);if(Oo){var Fo;return this.lexer.state.inRawBlock?Fo=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Oo[0]):ps(Oo[0]):Oo[0]:Fo=ps(this.options.smartypants?Co(Oo[0]):Oo[0]),{type:"text",raw:Oo[0],text:Fo}}},go}(),Bs={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Ws,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Bs._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Bs._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Bs.def=ws(Bs.def).replace("label",Bs._label).replace("title",Bs._title).getRegex(),Bs.bullet=/(?:[*+-]|\d{1,9}[.)])/,Bs.listItemStart=ws(/^( *)(bull) */).replace("bull",Bs.bullet).getRegex(),Bs.list=ws(Bs.list).replace(/bull/g,Bs.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Bs.def.source+")").getRegex(),Bs._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Bs._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Bs.html=ws(Bs.html,"i").replace("comment",Bs._comment).replace("tag",Bs._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Bs.paragraph=ws(Bs._paragraph).replace("hr",Bs.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bs._tag).getRegex(),Bs.blockquote=ws(Bs.blockquote).replace("paragraph",Bs.paragraph).getRegex(),Bs.normal=ts({},Bs),Bs.gfm=ts({},Bs.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Bs.gfm.table=ws(Bs.gfm.table).replace("hr",Bs.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bs._tag).getRegex(),Bs.gfm.paragraph=ws(Bs._paragraph).replace("hr",Bs.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Bs.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bs._tag).getRegex(),Bs.pedantic=ts({},Bs.normal,{html:ws(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Bs._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ws,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ws(Bs.normal._paragraph).replace("hr",Bs.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Bs.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var zs={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Ws,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Ws,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};zs._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",zs.punctuation=ws(zs.punctuation).replace(/punctuation/g,zs._punctuation).getRegex(),zs.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,zs.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,zs._comment=ws(Bs._comment).replace("(?:-->|$)","-->").getRegex(),zs.emStrong.lDelim=ws(zs.emStrong.lDelim).replace(/punct/g,zs._punctuation).getRegex(),zs.emStrong.rDelimAst=ws(zs.emStrong.rDelimAst,"g").replace(/punct/g,zs._punctuation).getRegex(),zs.emStrong.rDelimUnd=ws(zs.emStrong.rDelimUnd,"g").replace(/punct/g,zs._punctuation).getRegex(),zs._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,zs._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,zs._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,zs.autolink=ws(zs.autolink).replace("scheme",zs._scheme).replace("email",zs._email).getRegex(),zs._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,zs.tag=ws(zs.tag).replace("comment",zs._comment).replace("attribute",zs._attribute).getRegex(),zs._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,zs._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,zs._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,zs.link=ws(zs.link).replace("label",zs._label).replace("href",zs._href).replace("title",zs._title).getRegex(),zs.reflink=ws(zs.reflink).replace("label",zs._label).replace("ref",Bs._label).getRegex(),zs.nolink=ws(zs.nolink).replace("ref",Bs._label).getRegex(),zs.reflinkSearch=ws(zs.reflinkSearch,"g").replace("reflink",zs.reflink).replace("nolink",zs.nolink).getRegex(),zs.normal=ts({},zs),zs.pedantic=ts({},zs.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ws(/^!?\[(label)\]\((.*?)\)/).replace("label",zs._label).getRegex(),reflink:ws(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",zs._label).getRegex()}),zs.gfm=ts({},zs.normal,{escape:ws(zs.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),zs.gfm.url=ws(zs.gfm.url,"i").replace("email",zs.gfm._extended_email).getRegex(),zs.breaks=ts({},zs.gfm,{br:ws(zs.br).replace("{2,}","*").getRegex(),text:ws(zs.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function so(go){return go.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function oo(go){var _o="",To,uo,Co=go.length;for(To=0;To<Co;To++)uo=go.charCodeAt(To),Math.random()>.5&&(uo="x"+uo.toString(16)),_o+="&#"+uo+";";return _o}var Ao=function(){function go(To){this.tokens=[],this.tokens.links=Object.create(null),this.options=To||es.defaults,this.options.tokenizer=this.options.tokenizer||new js,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var uo={block:Bs.normal,inline:zs.normal};this.options.pedantic?(uo.block=Bs.pedantic,uo.inline=zs.pedantic):this.options.gfm&&(uo.block=Bs.gfm,this.options.breaks?uo.inline=zs.breaks:uo.inline=zs.gfm),this.tokenizer.rules=uo}go.lex=function(uo,Co){var Oo=new go(Co);return Oo.lex(uo)},go.lexInline=function(uo,Co){var Oo=new go(Co);return Oo.inlineTokens(uo)};var _o=go.prototype;return _o.lex=function(uo){uo=uo.replace(/\r\n|\r/g,`
`),this.blockTokens(uo,this.tokens);for(var Co;Co=this.inlineQueue.shift();)this.inlineTokens(Co.src,Co.tokens);return this.tokens},_o.blockTokens=function(uo,Co){var Oo=this;Co===void 0&&(Co=[]),this.options.pedantic?uo=uo.replace(/\t/g,"    ").replace(/^ +$/gm,""):uo=uo.replace(/^( *)(\t+)/gm,function(ua,ka,Ba){return ka+"    ".repeat(Ba.length)});for(var Fo,Po,Zo,na;uo;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(ua){return(Fo=ua.call({lexer:Oo},uo,Co))?(uo=uo.substring(Fo.raw.length),Co.push(Fo),!0):!1}))){if(Fo=this.tokenizer.space(uo)){uo=uo.substring(Fo.raw.length),Fo.raw.length===1&&Co.length>0?Co[Co.length-1].raw+=`
`:Co.push(Fo);continue}if(Fo=this.tokenizer.code(uo)){uo=uo.substring(Fo.raw.length),Po=Co[Co.length-1],Po&&(Po.type==="paragraph"||Po.type==="text")?(Po.raw+=`
`+Fo.raw,Po.text+=`
`+Fo.text,this.inlineQueue[this.inlineQueue.length-1].src=Po.text):Co.push(Fo);continue}if(Fo=this.tokenizer.fences(uo)){uo=uo.substring(Fo.raw.length),Co.push(Fo);continue}if(Fo=this.tokenizer.heading(uo)){uo=uo.substring(Fo.raw.length),Co.push(Fo);continue}if(Fo=this.tokenizer.hr(uo)){uo=uo.substring(Fo.raw.length),Co.push(Fo);continue}if(Fo=this.tokenizer.blockquote(uo)){uo=uo.substring(Fo.raw.length),Co.push(Fo);continue}if(Fo=this.tokenizer.list(uo)){uo=uo.substring(Fo.raw.length),Co.push(Fo);continue}if(Fo=this.tokenizer.html(uo)){uo=uo.substring(Fo.raw.length),Co.push(Fo);continue}if(Fo=this.tokenizer.def(uo)){uo=uo.substring(Fo.raw.length),Po=Co[Co.length-1],Po&&(Po.type==="paragraph"||Po.type==="text")?(Po.raw+=`
`+Fo.raw,Po.text+=`
`+Fo.raw,this.inlineQueue[this.inlineQueue.length-1].src=Po.text):this.tokens.links[Fo.tag]||(this.tokens.links[Fo.tag]={href:Fo.href,title:Fo.title});continue}if(Fo=this.tokenizer.table(uo)){uo=uo.substring(Fo.raw.length),Co.push(Fo);continue}if(Fo=this.tokenizer.lheading(uo)){uo=uo.substring(Fo.raw.length),Co.push(Fo);continue}if(Zo=uo,this.options.extensions&&this.options.extensions.startBlock&&function(){var ua=1/0,ka=uo.slice(1),Ba=void 0;Oo.options.extensions.startBlock.forEach(function(Va){Ba=Va.call({lexer:this},ka),typeof Ba=="number"&&Ba>=0&&(ua=Math.min(ua,Ba))}),ua<1/0&&ua>=0&&(Zo=uo.substring(0,ua+1))}(),this.state.top&&(Fo=this.tokenizer.paragraph(Zo))){Po=Co[Co.length-1],na&&Po.type==="paragraph"?(Po.raw+=`
`+Fo.raw,Po.text+=`
`+Fo.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Po.text):Co.push(Fo),na=Zo.length!==uo.length,uo=uo.substring(Fo.raw.length);continue}if(Fo=this.tokenizer.text(uo)){uo=uo.substring(Fo.raw.length),Po=Co[Co.length-1],Po&&Po.type==="text"?(Po.raw+=`
`+Fo.raw,Po.text+=`
`+Fo.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Po.text):Co.push(Fo);continue}if(uo){var ma="Infinite loop on byte: "+uo.charCodeAt(0);if(this.options.silent){console.error(ma);break}else throw new Error(ma)}}return this.state.top=!0,Co},_o.inline=function(uo,Co){return Co===void 0&&(Co=[]),this.inlineQueue.push({src:uo,tokens:Co}),Co},_o.inlineTokens=function(uo,Co){var Oo=this;Co===void 0&&(Co=[]);var Fo,Po,Zo,na=uo,ma,ua,ka;if(this.tokens.links){var Ba=Object.keys(this.tokens.links);if(Ba.length>0)for(;(ma=this.tokenizer.rules.inline.reflinkSearch.exec(na))!=null;)Ba.includes(ma[0].slice(ma[0].lastIndexOf("[")+1,-1))&&(na=na.slice(0,ma.index)+"["+Us("a",ma[0].length-2)+"]"+na.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ma=this.tokenizer.rules.inline.blockSkip.exec(na))!=null;)na=na.slice(0,ma.index)+"["+Us("a",ma[0].length-2)+"]"+na.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ma=this.tokenizer.rules.inline.escapedEmSt.exec(na))!=null;)na=na.slice(0,ma.index+ma[0].length-2)+"++"+na.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;uo;)if(ua||(ka=""),ua=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Ea){return(Fo=Ea.call({lexer:Oo},uo,Co))?(uo=uo.substring(Fo.raw.length),Co.push(Fo),!0):!1}))){if(Fo=this.tokenizer.escape(uo)){uo=uo.substring(Fo.raw.length),Co.push(Fo);continue}if(Fo=this.tokenizer.tag(uo)){uo=uo.substring(Fo.raw.length),Po=Co[Co.length-1],Po&&Fo.type==="text"&&Po.type==="text"?(Po.raw+=Fo.raw,Po.text+=Fo.text):Co.push(Fo);continue}if(Fo=this.tokenizer.link(uo)){uo=uo.substring(Fo.raw.length),Co.push(Fo);continue}if(Fo=this.tokenizer.reflink(uo,this.tokens.links)){uo=uo.substring(Fo.raw.length),Po=Co[Co.length-1],Po&&Fo.type==="text"&&Po.type==="text"?(Po.raw+=Fo.raw,Po.text+=Fo.text):Co.push(Fo);continue}if(Fo=this.tokenizer.emStrong(uo,na,ka)){uo=uo.substring(Fo.raw.length),Co.push(Fo);continue}if(Fo=this.tokenizer.codespan(uo)){uo=uo.substring(Fo.raw.length),Co.push(Fo);continue}if(Fo=this.tokenizer.br(uo)){uo=uo.substring(Fo.raw.length),Co.push(Fo);continue}if(Fo=this.tokenizer.del(uo)){uo=uo.substring(Fo.raw.length),Co.push(Fo);continue}if(Fo=this.tokenizer.autolink(uo,oo)){uo=uo.substring(Fo.raw.length),Co.push(Fo);continue}if(!this.state.inLink&&(Fo=this.tokenizer.url(uo,oo))){uo=uo.substring(Fo.raw.length),Co.push(Fo);continue}if(Zo=uo,this.options.extensions&&this.options.extensions.startInline&&function(){var Ea=1/0,il=uo.slice(1),kl=void 0;Oo.options.extensions.startInline.forEach(function(Ja){kl=Ja.call({lexer:this},il),typeof kl=="number"&&kl>=0&&(Ea=Math.min(Ea,kl))}),Ea<1/0&&Ea>=0&&(Zo=uo.substring(0,Ea+1))}(),Fo=this.tokenizer.inlineText(Zo,so)){uo=uo.substring(Fo.raw.length),Fo.raw.slice(-1)!=="_"&&(ka=Fo.raw.slice(-1)),ua=!0,Po=Co[Co.length-1],Po&&Po.type==="text"?(Po.raw+=Fo.raw,Po.text+=Fo.text):Co.push(Fo);continue}if(uo){var Va="Infinite loop on byte: "+uo.charCodeAt(0);if(this.options.silent){console.error(Va);break}else throw new Error(Va)}}return Co},Ri(go,null,[{key:"rules",get:function(){return{block:Bs,inline:zs}}}]),go}(),Xs=function(){function go(To){this.options=To||es.defaults}var _o=go.prototype;return _o.code=function(uo,Co,Oo){var Fo=(Co||"").match(/\S*/)[0];if(this.options.highlight){var Po=this.options.highlight(uo,Fo);Po!=null&&Po!==uo&&(Oo=!0,uo=Po)}return uo=uo.replace(/\n$/,"")+`
`,Fo?'<pre><code class="'+this.options.langPrefix+ps(Fo)+'">'+(Oo?uo:ps(uo,!0))+`</code></pre>
`:"<pre><code>"+(Oo?uo:ps(uo,!0))+`</code></pre>
`},_o.blockquote=function(uo){return`<blockquote>
`+uo+`</blockquote>
`},_o.html=function(uo){return uo},_o.heading=function(uo,Co,Oo,Fo){if(this.options.headerIds){var Po=this.options.headerPrefix+Fo.slug(Oo);return"<h"+Co+' id="'+Po+'">'+uo+"</h"+Co+`>
`}return"<h"+Co+">"+uo+"</h"+Co+`>
`},_o.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},_o.list=function(uo,Co,Oo){var Fo=Co?"ol":"ul",Po=Co&&Oo!==1?' start="'+Oo+'"':"";return"<"+Fo+Po+`>
`+uo+"</"+Fo+`>
`},_o.listitem=function(uo){return"<li>"+uo+`</li>
`},_o.checkbox=function(uo){return"<input "+(uo?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},_o.paragraph=function(uo){return"<p>"+uo+`</p>
`},_o.table=function(uo,Co){return Co&&(Co="<tbody>"+Co+"</tbody>"),`<table>
<thead>
`+uo+`</thead>
`+Co+`</table>
`},_o.tablerow=function(uo){return`<tr>
`+uo+`</tr>
`},_o.tablecell=function(uo,Co){var Oo=Co.header?"th":"td",Fo=Co.align?"<"+Oo+' align="'+Co.align+'">':"<"+Oo+">";return Fo+uo+("</"+Oo+`>
`)},_o.strong=function(uo){return"<strong>"+uo+"</strong>"},_o.em=function(uo){return"<em>"+uo+"</em>"},_o.codespan=function(uo){return"<code>"+uo+"</code>"},_o.br=function(){return this.options.xhtml?"<br/>":"<br>"},_o.del=function(uo){return"<del>"+uo+"</del>"},_o.link=function(uo,Co,Oo){if(uo=Rs(this.options.sanitize,this.options.baseUrl,uo),uo===null)return Oo;var Fo='<a href="'+uo+'"';return Co&&(Fo+=' title="'+Co+'"'),Fo+=">"+Oo+"</a>",Fo},_o.image=function(uo,Co,Oo){if(uo=Rs(this.options.sanitize,this.options.baseUrl,uo),uo===null)return Oo;var Fo='<img src="'+uo+'" alt="'+Oo+'"';return Co&&(Fo+=' title="'+Co+'"'),Fo+=this.options.xhtml?"/>":">",Fo},_o.text=function(uo){return uo},go}(),lo=function(){function go(){}var _o=go.prototype;return _o.strong=function(uo){return uo},_o.em=function(uo){return uo},_o.codespan=function(uo){return uo},_o.del=function(uo){return uo},_o.html=function(uo){return uo},_o.text=function(uo){return uo},_o.link=function(uo,Co,Oo){return""+Oo},_o.image=function(uo,Co,Oo){return""+Oo},_o.br=function(){return""},go}(),co=function(){function go(){this.seen={}}var _o=go.prototype;return _o.serialize=function(uo){return uo.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},_o.getNextSafeSlug=function(uo,Co){var Oo=uo,Fo=0;if(this.seen.hasOwnProperty(Oo)){Fo=this.seen[uo];do Fo++,Oo=uo+"-"+Fo;while(this.seen.hasOwnProperty(Oo))}return Co||(this.seen[uo]=Fo,this.seen[Oo]=0),Oo},_o.slug=function(uo,Co){Co===void 0&&(Co={});var Oo=this.serialize(uo);return this.getNextSafeSlug(Oo,Co.dryrun)},go}(),So=function(){function go(To){this.options=To||es.defaults,this.options.renderer=this.options.renderer||new Xs,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new lo,this.slugger=new co}go.parse=function(uo,Co){var Oo=new go(Co);return Oo.parse(uo)},go.parseInline=function(uo,Co){var Oo=new go(Co);return Oo.parseInline(uo)};var _o=go.prototype;return _o.parse=function(uo,Co){Co===void 0&&(Co=!0);var Oo="",Fo,Po,Zo,na,ma,ua,ka,Ba,Va,Ea,il,kl,Ja,Ua,Na,nl,Wl,El,$c,ou=uo.length;for(Fo=0;Fo<ou;Fo++){if(Ea=uo[Fo],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ea.type]&&($c=this.options.extensions.renderers[Ea.type].call({parser:this},Ea),$c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Ea.type))){Oo+=$c||"";continue}switch(Ea.type){case"space":continue;case"hr":{Oo+=this.renderer.hr();continue}case"heading":{Oo+=this.renderer.heading(this.parseInline(Ea.tokens),Ea.depth,fs(this.parseInline(Ea.tokens,this.textRenderer)),this.slugger);continue}case"code":{Oo+=this.renderer.code(Ea.text,Ea.lang,Ea.escaped);continue}case"table":{for(Ba="",ka="",na=Ea.header.length,Po=0;Po<na;Po++)ka+=this.renderer.tablecell(this.parseInline(Ea.header[Po].tokens),{header:!0,align:Ea.align[Po]});for(Ba+=this.renderer.tablerow(ka),Va="",na=Ea.rows.length,Po=0;Po<na;Po++){for(ua=Ea.rows[Po],ka="",ma=ua.length,Zo=0;Zo<ma;Zo++)ka+=this.renderer.tablecell(this.parseInline(ua[Zo].tokens),{header:!1,align:Ea.align[Zo]});Va+=this.renderer.tablerow(ka)}Oo+=this.renderer.table(Ba,Va);continue}case"blockquote":{Va=this.parse(Ea.tokens),Oo+=this.renderer.blockquote(Va);continue}case"list":{for(il=Ea.ordered,kl=Ea.start,Ja=Ea.loose,na=Ea.items.length,Va="",Po=0;Po<na;Po++)Na=Ea.items[Po],nl=Na.checked,Wl=Na.task,Ua="",Na.task&&(El=this.renderer.checkbox(nl),Ja?Na.tokens.length>0&&Na.tokens[0].type==="paragraph"?(Na.tokens[0].text=El+" "+Na.tokens[0].text,Na.tokens[0].tokens&&Na.tokens[0].tokens.length>0&&Na.tokens[0].tokens[0].type==="text"&&(Na.tokens[0].tokens[0].text=El+" "+Na.tokens[0].tokens[0].text)):Na.tokens.unshift({type:"text",text:El}):Ua+=El),Ua+=this.parse(Na.tokens,Ja),Va+=this.renderer.listitem(Ua,Wl,nl);Oo+=this.renderer.list(Va,il,kl);continue}case"html":{Oo+=this.renderer.html(Ea.text);continue}case"paragraph":{Oo+=this.renderer.paragraph(this.parseInline(Ea.tokens));continue}case"text":{for(Va=Ea.tokens?this.parseInline(Ea.tokens):Ea.text;Fo+1<ou&&uo[Fo+1].type==="text";)Ea=uo[++Fo],Va+=`
`+(Ea.tokens?this.parseInline(Ea.tokens):Ea.text);Oo+=Co?this.renderer.paragraph(Va):Va;continue}default:{var wl='Token with "'+Ea.type+'" type was not found.';if(this.options.silent){console.error(wl);return}else throw new Error(wl)}}}return Oo},_o.parseInline=function(uo,Co){Co=Co||this.renderer;var Oo="",Fo,Po,Zo,na=uo.length;for(Fo=0;Fo<na;Fo++){if(Po=uo[Fo],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Po.type]&&(Zo=this.options.extensions.renderers[Po.type].call({parser:this},Po),Zo!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Po.type))){Oo+=Zo||"";continue}switch(Po.type){case"escape":{Oo+=Co.text(Po.text);break}case"html":{Oo+=Co.html(Po.text);break}case"link":{Oo+=Co.link(Po.href,Po.title,this.parseInline(Po.tokens,Co));break}case"image":{Oo+=Co.image(Po.href,Po.title,Po.text);break}case"strong":{Oo+=Co.strong(this.parseInline(Po.tokens,Co));break}case"em":{Oo+=Co.em(this.parseInline(Po.tokens,Co));break}case"codespan":{Oo+=Co.codespan(Po.text);break}case"br":{Oo+=Co.br();break}case"del":{Oo+=Co.del(this.parseInline(Po.tokens,Co));break}case"text":{Oo+=Co.text(Po.text);break}default:{var ma='Token with "'+Po.type+'" type was not found.';if(this.options.silent){console.error(ma);return}else throw new Error(ma)}}}return Oo},go}(),ro=function(){function go(To){this.options=To||es.defaults}var _o=go.prototype;return _o.preprocess=function(uo){return uo},_o.postprocess=function(uo){return uo},go}();ro.passThroughHooks=new Set(["preprocess","postprocess"]);function vo(go,_o,To){return function(uo){if(uo.message+=`
Please report this to https://github.com/markedjs/marked.`,go){var Co="<p>An error occurred:</p><pre>"+ps(uo.message+"",!0)+"</pre>";if(_o)return Promise.resolve(Co);if(To){To(null,Co);return}return Co}if(_o)return Promise.reject(uo);if(To){To(uo);return}throw uo}}function Eo(go,_o){return function(To,uo,Co){typeof uo=="function"&&(Co=uo,uo=null);var Oo=ts({},uo);uo=ts({},mo.defaults,Oo);var Fo=vo(uo.silent,uo.async,Co);if(typeof To>"u"||To===null)return Fo(new Error("marked(): input parameter is undefined or null"));if(typeof To!="string")return Fo(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(To)+", string expected"));if(Ss(uo),uo.hooks&&(uo.hooks.options=uo),Co){var Po=uo.highlight,Zo;try{uo.hooks&&(To=uo.hooks.preprocess(To)),Zo=go(To,uo)}catch(Ba){return Fo(Ba)}var na=function(Va){var Ea;if(!Va)try{uo.walkTokens&&mo.walkTokens(Zo,uo.walkTokens),Ea=_o(Zo,uo),uo.hooks&&(Ea=uo.hooks.postprocess(Ea))}catch(il){Va=il}return uo.highlight=Po,Va?Fo(Va):Co(null,Ea)};if(!Po||Po.length<3||(delete uo.highlight,!Zo.length))return na();var ma=0;mo.walkTokens(Zo,function(Ba){Ba.type==="code"&&(ma++,setTimeout(function(){Po(Ba.text,Ba.lang,function(Va,Ea){if(Va)return na(Va);Ea!=null&&Ea!==Ba.text&&(Ba.text=Ea,Ba.escaped=!0),ma--,ma===0&&na()})},0))}),ma===0&&na();return}if(uo.async)return Promise.resolve(uo.hooks?uo.hooks.preprocess(To):To).then(function(Ba){return go(Ba,uo)}).then(function(Ba){return uo.walkTokens?Promise.all(mo.walkTokens(Ba,uo.walkTokens)).then(function(){return Ba}):Ba}).then(function(Ba){return _o(Ba,uo)}).then(function(Ba){return uo.hooks?uo.hooks.postprocess(Ba):Ba}).catch(Fo);try{uo.hooks&&(To=uo.hooks.preprocess(To));var ua=go(To,uo);uo.walkTokens&&mo.walkTokens(ua,uo.walkTokens);var ka=_o(ua,uo);return uo.hooks&&(ka=uo.hooks.postprocess(ka)),ka}catch(Ba){return Fo(Ba)}}}function mo(go,_o,To){return Eo(Ao.lex,So.parse)(go,_o,To)}mo.options=mo.setOptions=function(go){return mo.defaults=ts({},mo.defaults,go),cs(mo.defaults),mo},mo.getDefaults=ls,mo.defaults=es.defaults,mo.use=function(){for(var go=mo.defaults.extensions||{renderers:{},childTokens:{}},_o=arguments.length,To=new Array(_o),uo=0;uo<_o;uo++)To[uo]=arguments[uo];To.forEach(function(Co){var Oo=ts({},Co);if(Oo.async=mo.defaults.async||Oo.async||!1,Co.extensions&&(Co.extensions.forEach(function(Po){if(!Po.name)throw new Error("extension name required");if(Po.renderer){var Zo=go.renderers[Po.name];Zo?go.renderers[Po.name]=function(){for(var na=arguments.length,ma=new Array(na),ua=0;ua<na;ua++)ma[ua]=arguments[ua];var ka=Po.renderer.apply(this,ma);return ka===!1&&(ka=Zo.apply(this,ma)),ka}:go.renderers[Po.name]=Po.renderer}if(Po.tokenizer){if(!Po.level||Po.level!=="block"&&Po.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");go[Po.level]?go[Po.level].unshift(Po.tokenizer):go[Po.level]=[Po.tokenizer],Po.start&&(Po.level==="block"?go.startBlock?go.startBlock.push(Po.start):go.startBlock=[Po.start]:Po.level==="inline"&&(go.startInline?go.startInline.push(Po.start):go.startInline=[Po.start]))}Po.childTokens&&(go.childTokens[Po.name]=Po.childTokens)}),Oo.extensions=go),Co.renderer&&function(){var Po=mo.defaults.renderer||new Xs,Zo=function(ua){var ka=Po[ua];Po[ua]=function(){for(var Ba=arguments.length,Va=new Array(Ba),Ea=0;Ea<Ba;Ea++)Va[Ea]=arguments[Ea];var il=Co.renderer[ua].apply(Po,Va);return il===!1&&(il=ka.apply(Po,Va)),il}};for(var na in Co.renderer)Zo(na);Oo.renderer=Po}(),Co.tokenizer&&function(){var Po=mo.defaults.tokenizer||new js,Zo=function(ua){var ka=Po[ua];Po[ua]=function(){for(var Ba=arguments.length,Va=new Array(Ba),Ea=0;Ea<Ba;Ea++)Va[Ea]=arguments[Ea];var il=Co.tokenizer[ua].apply(Po,Va);return il===!1&&(il=ka.apply(Po,Va)),il}};for(var na in Co.tokenizer)Zo(na);Oo.tokenizer=Po}(),Co.hooks&&function(){var Po=mo.defaults.hooks||new ro,Zo=function(ua){var ka=Po[ua];ro.passThroughHooks.has(ua)?Po[ua]=function(Ba){if(mo.defaults.async)return Promise.resolve(Co.hooks[ua].call(Po,Ba)).then(function(Ea){return ka.call(Po,Ea)});var Va=Co.hooks[ua].call(Po,Ba);return ka.call(Po,Va)}:Po[ua]=function(){for(var Ba=arguments.length,Va=new Array(Ba),Ea=0;Ea<Ba;Ea++)Va[Ea]=arguments[Ea];var il=Co.hooks[ua].apply(Po,Va);return il===!1&&(il=ka.apply(Po,Va)),il}};for(var na in Co.hooks)Zo(na);Oo.hooks=Po}(),Co.walkTokens){var Fo=mo.defaults.walkTokens;Oo.walkTokens=function(Po){var Zo=[];return Zo.push(Co.walkTokens.call(this,Po)),Fo&&(Zo=Zo.concat(Fo.call(this,Po))),Zo}}mo.setOptions(Oo)})},mo.walkTokens=function(go,_o){for(var To=[],uo=function(){var Po=Oo.value;switch(To=To.concat(_o.call(mo,Po)),Po.type){case"table":{for(var Zo=ns(Po.header),na;!(na=Zo()).done;){var ma=na.value;To=To.concat(mo.walkTokens(ma.tokens,_o))}for(var ua=ns(Po.rows),ka;!(ka=ua()).done;)for(var Ba=ka.value,Va=ns(Ba),Ea;!(Ea=Va()).done;){var il=Ea.value;To=To.concat(mo.walkTokens(il.tokens,_o))}break}case"list":{To=To.concat(mo.walkTokens(Po.items,_o));break}default:mo.defaults.extensions&&mo.defaults.extensions.childTokens&&mo.defaults.extensions.childTokens[Po.type]?mo.defaults.extensions.childTokens[Po.type].forEach(function(kl){To=To.concat(mo.walkTokens(Po[kl],_o))}):Po.tokens&&(To=To.concat(mo.walkTokens(Po.tokens,_o)))}},Co=ns(go),Oo;!(Oo=Co()).done;)uo();return To},mo.parseInline=Eo(Ao.lexInline,So.parseInline),mo.Parser=So,mo.parser=So.parse,mo.Renderer=Xs,mo.TextRenderer=lo,mo.Lexer=Ao,mo.lexer=Ao.lex,mo.Tokenizer=js,mo.Slugger=co,mo.Hooks=ro,mo.parse=mo;var yo=mo.options,Jo=mo.setOptions,Yo=mo.use,Wo=mo.walkTokens,ko=mo.parseInline,Qo=mo,jo=So.parse,Bo=Ao.lex;es.Hooks=ro,es.Lexer=Ao,es.Parser=So,es.Renderer=Xs,es.Slugger=co,es.TextRenderer=lo,es.Tokenizer=js,es.getDefaults=ls,es.lexer=Bo,es.marked=mo,es.options=yo,es.parse=Qo,es.parseInline=ko,es.parser=jo,es.setOptions=Jo,es.use=Yo,es.walkTokens=Wo})(marked$2);var CodeMirror=codemirrorExports,CodeMirrorSpellChecker=spellChecker,marked$1=marked$2.marked,isMac=/Mac/.test(navigator.platform),anchorToExternalRegex=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),bindings={toggleBold,toggleItalic,drawLink,toggleHeadingSmaller,toggleHeadingBigger,drawImage,toggleBlockquote,toggleOrderedList,toggleUnorderedList,toggleCodeBlock,togglePreview,toggleStrikethrough,toggleHeading1,toggleHeading2,toggleHeading3,toggleHeading4,toggleHeading5,toggleHeading6,cleanBlock,drawTable,drawHorizontalRule,undo,redo,toggleSideBySide,toggleFullScreen},shortcuts={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},getBindingName=function(es){for(var ki in bindings)if(bindings[ki]===es)return ki;return null},isMobile=function(){var es=!1;return function(ki){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(ki)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(ki.substr(0,4)))&&(es=!0)}(navigator.userAgent||navigator.vendor||window.opera),es};function addAnchorTargetBlank(es){for(var ki;(ki=anchorToExternalRegex.exec(es))!==null;){var Ri=ki[0];if(Ri.indexOf("target=")===-1){var ts=Ri.replace(/>$/,' target="_blank">');es=es.replace(Ri,ts)}}return es}function removeListStyleWhenCheckbox(es){for(var ki=new DOMParser,Ri=ki.parseFromString(es,"text/html"),ts=Ri.getElementsByTagName("li"),rs=0;rs<ts.length;rs++)for(var is=ts[rs],ns=0;ns<is.children.length;ns++){var ss=is.children[ns];ss instanceof HTMLInputElement&&ss.type==="checkbox"&&(is.style.marginLeft="-1.5em",is.style.listStyleType="none")}return Ri.documentElement.innerHTML}function fixShortcut(es){return isMac?es=es.replace("Ctrl","Cmd"):es=es.replace("Cmd","Ctrl"),es}function createToolbarDropdown(es,ki,Ri,ts){var rs=createToolbarButton(es,!1,ki,Ri,"button",ts);rs.classList.add("easymde-dropdown"),rs.onclick=function(){rs.focus()};var is=document.createElement("div");is.className="easymde-dropdown-content";for(var ns=0;ns<es.children.length;ns++){var ss=es.children[ns],os;typeof ss=="string"&&ss in toolbarBuiltInButtons?os=createToolbarButton(toolbarBuiltInButtons[ss],!0,ki,Ri,"button",ts):os=createToolbarButton(ss,!0,ki,Ri,"button",ts),os.addEventListener("click",function(ls){ls.stopPropagation()},!1),is.appendChild(os)}return rs.appendChild(is),rs}function createToolbarButton(es,ki,Ri,ts,rs,is){es=es||{};var ns=document.createElement(rs);if(es.attributes)for(var ss in es.attributes)Object.prototype.hasOwnProperty.call(es.attributes,ss)&&ns.setAttribute(ss,es.attributes[ss]);var os=is.options.toolbarButtonClassPrefix?is.options.toolbarButtonClassPrefix+"-":"";ns.className=os+es.name,ns.setAttribute("type",rs),Ri=Ri??!0,es.text&&(ns.innerText=es.text),es.name&&es.name in ts&&(bindings[es.name]=es.action),es.title&&Ri&&(ns.title=createTooltip(es.title,es.action,ts),isMac&&(ns.title=ns.title.replace("Ctrl","⌘"),ns.title=ns.title.replace("Alt","⌥"))),es.title&&ns.setAttribute("aria-label",es.title),es.noDisable&&ns.classList.add("no-disable"),es.noMobile&&ns.classList.add("no-mobile");var ls=[];typeof es.className<"u"&&(ls=es.className.split(" "));for(var cs=[],hs=0;hs<ls.length;hs++){var us=ls[hs];us.match(/^fa([srlb]|(-[\w-]*)|$)/)?cs.push(us):ns.classList.add(us)}if(ns.tabIndex=-1,cs.length>0){for(var As=document.createElement("i"),bs=0;bs<cs.length;bs++){var ys=cs[bs];As.classList.add(ys)}ns.appendChild(As)}return typeof es.icon<"u"&&(ns.innerHTML=es.icon),es.action&&ki&&(typeof es.action=="function"?ns.onclick=function(Cs){Cs.preventDefault(),es.action(is)}:typeof es.action=="string"&&(ns.onclick=function(Cs){Cs.preventDefault(),window.open(es.action,"_blank")})),ns}function createSep(){var es=document.createElement("i");return es.className="separator",es.innerHTML="|",es}function createTooltip(es,ki,Ri){var ts,rs=es;return ki&&(ts=getBindingName(ki),Ri[ts]&&(rs+=" ("+fixShortcut(Ri[ts])+")")),rs}function getState(es,ki){ki=ki||es.getCursor("start");var Ri=es.getTokenAt(ki);if(!Ri.type)return{};for(var ts=Ri.type.split(" "),rs={},is,ns,ss=0;ss<ts.length;ss++)is=ts[ss],is==="strong"?rs.bold=!0:is==="variable-2"?(ns=es.getLine(ki.line),/^\s*\d+\.\s/.test(ns)?rs["ordered-list"]=!0:rs["unordered-list"]=!0):is==="atom"?rs.quote=!0:is==="em"?rs.italic=!0:is==="quote"?rs.quote=!0:is==="strikethrough"?rs.strikethrough=!0:is==="comment"?rs.code=!0:is==="link"&&!rs.image?rs.link=!0:is==="image"?rs.image=!0:is.match(/^header(-[1-6])?$/)&&(rs[is.replace("header","heading")]=!0);return rs}var saved_overflow="";function toggleFullScreen(es){var ki=es.codemirror;ki.setOption("fullScreen",!ki.getOption("fullScreen")),ki.getOption("fullScreen")?(saved_overflow=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=saved_overflow;var Ri=ki.getWrapperElement(),ts=Ri.nextSibling;if(ts.classList.contains("editor-preview-active-side"))if(es.options.sideBySideFullscreen===!1){var rs=Ri.parentNode;ki.getOption("fullScreen")?rs.classList.remove("sided--no-fullscreen"):rs.classList.add("sided--no-fullscreen")}else toggleSideBySide(es);if(es.options.onToggleFullScreen&&es.options.onToggleFullScreen(ki.getOption("fullScreen")||!1),typeof es.options.maxHeight<"u"&&(ki.getOption("fullScreen")?(ki.getScrollerElement().style.removeProperty("height"),ts.style.removeProperty("height")):(ki.getScrollerElement().style.height=es.options.maxHeight,es.setPreviewMaxHeight())),es.toolbar_div.classList.toggle("fullscreen"),es.toolbarElements&&es.toolbarElements.fullscreen){var is=es.toolbarElements.fullscreen;is.classList.toggle("active")}}function toggleBold(es){_toggleBlock(es,"bold",es.options.blockStyles.bold)}function toggleItalic(es){_toggleBlock(es,"italic",es.options.blockStyles.italic)}function toggleStrikethrough(es){_toggleBlock(es,"strikethrough","~~")}function toggleCodeBlock(es){var ki=es.options.blockStyles.code;function Ri(Ws){if(typeof Ws!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof Ws+": "+Ws;return Ws.styles&&Ws.styles[2]&&Ws.styles[2].indexOf("formatting-code-block")!==-1}function ts(Ws){return Ws.state.base.base||Ws.state.base}function rs(Ws,Ds,_s,Ns,Ss){_s=_s||Ws.getLineHandle(Ds),Ns=Ns||Ws.getTokenAt({line:Ds,ch:1}),Ss=Ss||!!_s.text&&Ws.getTokenAt({line:Ds,ch:_s.text.length-1});var Us=Ns.type?Ns.type.split(" "):[];return Ss&&ts(Ss).indentedCode?"indented":Us.indexOf("comment")===-1?!1:ts(Ns).fencedChars||ts(Ss).fencedChars||Ri(_s)?"fenced":"single"}function is(Ws,Ds,_s,Ns){var Ss=Ds.line+1,Us=_s.line+1,Zs=Ds.line!==_s.line,ao=Ns+`
`,js=`
`+Ns;Zs&&Us++,Zs&&_s.ch===0&&(js=Ns+`
`,Us--),_replaceSelection(Ws,!1,[ao,js]),Ws.setSelection({line:Ss,ch:0},{line:Us,ch:0})}var ns=es.codemirror,ss=ns.getCursor("start"),os=ns.getCursor("end"),ls=ns.getTokenAt({line:ss.line,ch:ss.ch||1}),cs=ns.getLineHandle(ss.line),hs=rs(ns,ss.line,cs,ls),us,As,bs;if(hs==="single"){var ys=cs.text.slice(0,ss.ch).replace("`",""),Cs=cs.text.slice(ss.ch).replace("`","");ns.replaceRange(ys+Cs,{line:ss.line,ch:0},{line:ss.line,ch:99999999999999}),ss.ch--,ss!==os&&os.ch--,ns.setSelection(ss,os),ns.focus()}else if(hs==="fenced")if(ss.line!==os.line||ss.ch!==os.ch){for(us=ss.line;us>=0&&(cs=ns.getLineHandle(us),!Ri(cs));us--);var ps=ns.getTokenAt({line:us,ch:1}),ms=ts(ps).fencedChars,fs,gs,ws,Ts;Ri(ns.getLineHandle(ss.line))?(fs="",gs=ss.line):Ri(ns.getLineHandle(ss.line-1))?(fs="",gs=ss.line-1):(fs=ms+`
`,gs=ss.line),Ri(ns.getLineHandle(os.line))?(ws="",Ts=os.line,os.ch===0&&(Ts+=1)):os.ch!==0&&Ri(ns.getLineHandle(os.line+1))?(ws="",Ts=os.line+1):(ws=ms+`
`,Ts=os.line+1),os.ch===0&&(Ts-=1),ns.operation(function(){ns.replaceRange(ws,{line:Ts,ch:0},{line:Ts+(ws?0:1),ch:0}),ns.replaceRange(fs,{line:gs,ch:0},{line:gs+(fs?0:1),ch:0})}),ns.setSelection({line:gs+(fs?1:0),ch:0},{line:Ts+(fs?1:-1),ch:0}),ns.focus()}else{var $s=ss.line;if(Ri(ns.getLineHandle(ss.line))&&(rs(ns,ss.line+1)==="fenced"?(us=ss.line,$s=ss.line+1):(As=ss.line,$s=ss.line-1)),us===void 0)for(us=$s;us>=0&&(cs=ns.getLineHandle(us),!Ri(cs));us--);if(As===void 0)for(bs=ns.lineCount(),As=$s;As<bs&&(cs=ns.getLineHandle(As),!Ri(cs));As++);ns.operation(function(){ns.replaceRange("",{line:us,ch:0},{line:us+1,ch:0}),ns.replaceRange("",{line:As-1,ch:0},{line:As,ch:0})}),ns.focus()}else if(hs==="indented"){if(ss.line!==os.line||ss.ch!==os.ch)us=ss.line,As=os.line,os.ch===0&&As--;else{for(us=ss.line;us>=0;us--)if(cs=ns.getLineHandle(us),!cs.text.match(/^\s*$/)&&rs(ns,us,cs)!=="indented"){us+=1;break}for(bs=ns.lineCount(),As=ss.line;As<bs;As++)if(cs=ns.getLineHandle(As),!cs.text.match(/^\s*$/)&&rs(ns,As,cs)!=="indented"){As-=1;break}}var Rs=ns.getLineHandle(As+1),Ps=Rs&&ns.getTokenAt({line:As+1,ch:Rs.text.length-1}),Qs=Ps&&ts(Ps).indentedCode;Qs&&ns.replaceRange(`
`,{line:As+1,ch:0});for(var Fs=us;Fs<=As;Fs++)ns.indentLine(Fs,"subtract");ns.focus()}else{var Is=ss.line===os.line&&ss.ch===os.ch&&ss.ch===0,Ms=ss.line!==os.line;Is||Ms?is(ns,ss,os,ki):_replaceSelection(ns,!1,["`","`"])}}function toggleBlockquote(es){_toggleLine(es.codemirror,"quote")}function toggleHeadingSmaller(es){_toggleHeading(es.codemirror,"smaller")}function toggleHeadingBigger(es){_toggleHeading(es.codemirror,"bigger")}function toggleHeading1(es){_toggleHeading(es.codemirror,void 0,1)}function toggleHeading2(es){_toggleHeading(es.codemirror,void 0,2)}function toggleHeading3(es){_toggleHeading(es.codemirror,void 0,3)}function toggleHeading4(es){_toggleHeading(es.codemirror,void 0,4)}function toggleHeading5(es){_toggleHeading(es.codemirror,void 0,5)}function toggleHeading6(es){_toggleHeading(es.codemirror,void 0,6)}function toggleUnorderedList(es){var ki=es.codemirror,Ri="*";["-","+","*"].includes(es.options.unorderedListStyle)&&(Ri=es.options.unorderedListStyle),_toggleLine(ki,"unordered-list",Ri)}function toggleOrderedList(es){_toggleLine(es.codemirror,"ordered-list")}function cleanBlock(es){_cleanBlock(es.codemirror)}function drawLink(es){var ki=es.options,Ri="https://";if(ki.promptURLs){var ts=prompt(ki.promptTexts.link,Ri);if(!ts)return!1;Ri=escapePromptURL(ts)}_toggleLink(es,"link",ki.insertTexts.link,Ri)}function drawImage(es){var ki=es.options,Ri="https://";if(ki.promptURLs){var ts=prompt(ki.promptTexts.image,Ri);if(!ts)return!1;Ri=escapePromptURL(ts)}_toggleLink(es,"image",ki.insertTexts.image,Ri)}function escapePromptURL(es){return encodeURI(es).replace(/([\\()])/g,"\\$1")}function drawUploadedImage(es){es.openBrowseFileWindow()}function afterImageUploaded(es,ki){var Ri=es.codemirror,ts=getState(Ri),rs=es.options,is=ki.substr(ki.lastIndexOf("/")+1),ns=is.substring(is.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(ns))_replaceSelection(Ri,ts.image,rs.insertTexts.uploadedImage,ki);else{var ss=rs.insertTexts.link;ss[0]="["+is,_replaceSelection(Ri,ts.link,ss,ki)}es.updateStatusBar("upload-image",es.options.imageTexts.sbOnUploaded.replace("#image_name#",is)),setTimeout(function(){es.updateStatusBar("upload-image",es.options.imageTexts.sbInit)},1e3)}function drawTable(es){var ki=es.codemirror,Ri=getState(ki),ts=es.options;_replaceSelection(ki,Ri.table,ts.insertTexts.table)}function drawHorizontalRule(es){var ki=es.codemirror,Ri=getState(ki),ts=es.options;_replaceSelection(ki,Ri.image,ts.insertTexts.horizontalRule)}function undo(es){var ki=es.codemirror;ki.undo(),ki.focus()}function redo(es){var ki=es.codemirror;ki.redo(),ki.focus()}function toggleSideBySide(es){var ki=es.codemirror,Ri=ki.getWrapperElement(),ts=Ri.nextSibling,rs=es.toolbarElements&&es.toolbarElements["side-by-side"],is=!1,ns=Ri.parentNode;ts.classList.contains("editor-preview-active-side")?(es.options.sideBySideFullscreen===!1&&ns.classList.remove("sided--no-fullscreen"),ts.classList.remove("editor-preview-active-side"),rs&&rs.classList.remove("active"),Ri.classList.remove("CodeMirror-sided")):(setTimeout(function(){ki.getOption("fullScreen")||(es.options.sideBySideFullscreen===!1?ns.classList.add("sided--no-fullscreen"):toggleFullScreen(es)),ts.classList.add("editor-preview-active-side")},1),rs&&rs.classList.add("active"),Ri.classList.add("CodeMirror-sided"),is=!0);var ss=Ri.lastChild;if(ss.classList.contains("editor-preview-active")){ss.classList.remove("editor-preview-active");var os=es.toolbarElements.preview,ls=es.toolbar_div;os.classList.remove("active"),ls.classList.remove("disabled-for-preview")}var cs=function(){var us=es.options.previewRender(es.value(),ts);us!=null&&(ts.innerHTML=us)};if(ki.sideBySideRenderingFunction||(ki.sideBySideRenderingFunction=cs),is){var hs=es.options.previewRender(es.value(),ts);hs!=null&&(ts.innerHTML=hs),ki.on("update",ki.sideBySideRenderingFunction)}else ki.off("update",ki.sideBySideRenderingFunction);ki.refresh()}function togglePreview(es){var ki=es.codemirror,Ri=ki.getWrapperElement(),ts=es.toolbar_div,rs=es.options.toolbar?es.toolbarElements.preview:!1,is=Ri.lastChild,ns=ki.getWrapperElement().nextSibling;if(ns.classList.contains("editor-preview-active-side")&&toggleSideBySide(es),!is||!is.classList.contains("editor-preview-full")){if(is=document.createElement("div"),is.className="editor-preview-full",es.options.previewClass)if(Array.isArray(es.options.previewClass))for(var ss=0;ss<es.options.previewClass.length;ss++)is.classList.add(es.options.previewClass[ss]);else typeof es.options.previewClass=="string"&&is.classList.add(es.options.previewClass);Ri.appendChild(is)}is.classList.contains("editor-preview-active")?(is.classList.remove("editor-preview-active"),rs&&(rs.classList.remove("active"),ts.classList.remove("disabled-for-preview"))):(setTimeout(function(){is.classList.add("editor-preview-active")},1),rs&&(rs.classList.add("active"),ts.classList.add("disabled-for-preview")));var os=es.options.previewRender(es.value(),is);os!==null&&(is.innerHTML=os)}function _replaceSelection(es,ki,Ri,ts){if(!es.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var rs,is=Ri[0],ns=Ri[1],ss={},os={};Object.assign(ss,es.getCursor("start")),Object.assign(os,es.getCursor("end")),ts&&(is=is.replace("#url#",ts),ns=ns.replace("#url#",ts)),ki?(rs=es.getLine(ss.line),is=rs.slice(0,ss.ch),ns=rs.slice(ss.ch),es.replaceRange(is+ns,{line:ss.line,ch:0})):(rs=es.getSelection(),es.replaceSelection(is+rs+ns),ss.ch+=is.length,ss!==os&&(os.ch+=is.length)),es.setSelection(ss,os),es.focus()}}function _toggleHeading(es,ki,Ri){if(!es.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var ts=es.getCursor("start"),rs=es.getCursor("end"),is=ts.line;is<=rs.line;is++)(function(ns){var ss=es.getLine(ns),os=ss.search(/[^#]/);ki!==void 0?os<=0?ki=="bigger"?ss="###### "+ss:ss="# "+ss:os==6&&ki=="smaller"?ss=ss.substr(7):os==1&&ki=="bigger"?ss=ss.substr(2):ki=="bigger"?ss=ss.substr(1):ss="#"+ss:os<=0?ss="#".repeat(Ri)+" "+ss:os==Ri?ss=ss.substr(os+1):ss="#".repeat(Ri)+" "+ss.substr(os+1),es.replaceRange(ss,{line:ns,ch:0},{line:ns,ch:99999999999999})})(is);es.focus()}}function _toggleLine(es,ki,Ri){if(!es.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var ts=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,rs=/^\s*/,is=getState(es),ns=es.getCursor("start"),ss=es.getCursor("end"),os={quote:/^(\s*)>\s+/,"unordered-list":ts,"ordered-list":ts},ls=function(bs,ys){var Cs={quote:">","unordered-list":Ri,"ordered-list":"%%i."};return Cs[bs].replace("%%i",ys)},cs=function(bs,ys){var Cs={quote:">","unordered-list":"\\"+Ri,"ordered-list":"\\d+."},ps=new RegExp(Cs[bs]);return ys&&ps.test(ys)},hs=function(bs,ys,Cs){var ps=ts.exec(ys),ms=ls(bs,us);return ps!==null?(cs(bs,ps[2])&&(ms=""),ys=ps[1]+ms+ps[3]+ys.replace(rs,"").replace(os[bs],"$1")):Cs==!1&&(ys=ms+" "+ys),ys},us=1,As=ns.line;As<=ss.line;As++)(function(bs){var ys=es.getLine(bs);is[ki]?ys=ys.replace(os[ki],"$1"):(ki=="unordered-list"&&(ys=hs("ordered-list",ys,!0)),ys=hs(ki,ys,!1),us+=1),es.replaceRange(ys,{line:bs,ch:0},{line:bs,ch:99999999999999})})(As);es.focus()}}function _toggleLink(es,ki,Ri,ts){if(!(!es.codemirror||es.isPreviewActive())){var rs=es.codemirror,is=getState(rs),ns=is[ki];if(!ns){_replaceSelection(rs,ns,Ri,ts);return}var ss=rs.getCursor("start"),os=rs.getCursor("end"),ls=rs.getLine(ss.line),cs=ls.slice(0,ss.ch),hs=ls.slice(ss.ch);ki=="link"?cs=cs.replace(/(.*)[^!]\[/,"$1"):ki=="image"&&(cs=cs.replace(/(.*)!\[$/,"$1")),hs=hs.replace(/]\(.*?\)/,""),rs.replaceRange(cs+hs,{line:ss.line,ch:0},{line:ss.line,ch:99999999999999}),ss.ch-=Ri[0].length,ss!==os&&(os.ch-=Ri[0].length),rs.setSelection(ss,os),rs.focus()}}function _toggleBlock(es,ki,Ri,ts){if(!(!es.codemirror||es.isPreviewActive())){ts=typeof ts>"u"?Ri:ts;var rs=es.codemirror,is=getState(rs),ns,ss=Ri,os=ts,ls=rs.getCursor("start"),cs=rs.getCursor("end");is[ki]?(ns=rs.getLine(ls.line),ss=ns.slice(0,ls.ch),os=ns.slice(ls.ch),ki=="bold"?(ss=ss.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),os=os.replace(/(\*\*|__)/,"")):ki=="italic"?(ss=ss.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),os=os.replace(/(\*|_)/,"")):ki=="strikethrough"&&(ss=ss.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),os=os.replace(/(\*\*|~~)/,"")),rs.replaceRange(ss+os,{line:ls.line,ch:0},{line:ls.line,ch:99999999999999}),ki=="bold"||ki=="strikethrough"?(ls.ch-=2,ls!==cs&&(cs.ch-=2)):ki=="italic"&&(ls.ch-=1,ls!==cs&&(cs.ch-=1))):(ns=rs.getSelection(),ki=="bold"?(ns=ns.split("**").join(""),ns=ns.split("__").join("")):ki=="italic"?(ns=ns.split("*").join(""),ns=ns.split("_").join("")):ki=="strikethrough"&&(ns=ns.split("~~").join("")),rs.replaceSelection(ss+ns+os),ls.ch+=Ri.length,cs.ch=ls.ch+ns.length),rs.setSelection(ls,cs),rs.focus()}}function _cleanBlock(es){if(!es.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var ki=es.getCursor("start"),Ri=es.getCursor("end"),ts,rs=ki.line;rs<=Ri.line;rs++)ts=es.getLine(rs),ts=ts.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),es.replaceRange(ts,{line:rs,ch:0},{line:rs,ch:99999999999999})}function humanFileSize(es,ki){if(Math.abs(es)<1024)return""+es+ki[0];var Ri=0;do es/=1024,++Ri;while(Math.abs(es)>=1024&&Ri<ki.length);return""+es.toFixed(1)+ki[Ri]}function _mergeProperties(es,ki){for(var Ri in ki)Object.prototype.hasOwnProperty.call(ki,Ri)&&(ki[Ri]instanceof Array?es[Ri]=ki[Ri].concat(es[Ri]instanceof Array?es[Ri]:[]):ki[Ri]!==null&&typeof ki[Ri]=="object"&&ki[Ri].constructor===Object?es[Ri]=_mergeProperties(es[Ri]||{},ki[Ri]):es[Ri]=ki[Ri]);return es}function extend$1(es){for(var ki=1;ki<arguments.length;ki++)es=_mergeProperties(es,arguments[ki]);return es}function wordCount(es){var ki=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,Ri=es.match(ki),ts=0;if(Ri===null)return ts;for(var rs=0;rs<Ri.length;rs++)Ri[rs].charCodeAt(0)>=19968?ts+=Ri[rs].length:ts+=1;return ts}var iconClassMap={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},toolbarBuiltInButtons={bold:{name:"bold",action:toggleBold,className:iconClassMap.bold,title:"Bold",default:!0},italic:{name:"italic",action:toggleItalic,className:iconClassMap.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:toggleStrikethrough,className:iconClassMap.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:toggleHeadingSmaller,className:iconClassMap.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:toggleHeadingSmaller,className:iconClassMap["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:toggleHeadingBigger,className:iconClassMap["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:toggleHeading1,className:iconClassMap["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:toggleHeading2,className:iconClassMap["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:toggleHeading3,className:iconClassMap["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:toggleCodeBlock,className:iconClassMap.code,title:"Code"},quote:{name:"quote",action:toggleBlockquote,className:iconClassMap.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:toggleUnorderedList,className:iconClassMap["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:toggleOrderedList,className:iconClassMap["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:cleanBlock,className:iconClassMap["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:drawLink,className:iconClassMap.link,title:"Create Link",default:!0},image:{name:"image",action:drawImage,className:iconClassMap.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:drawUploadedImage,className:iconClassMap["upload-image"],title:"Import an image"},table:{name:"table",action:drawTable,className:iconClassMap.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:drawHorizontalRule,className:iconClassMap["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:togglePreview,className:iconClassMap.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:toggleSideBySide,className:iconClassMap["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:toggleFullScreen,className:iconClassMap.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:iconClassMap.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:undo,className:iconClassMap.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:redo,className:iconClassMap.redo,noDisable:!0,title:"Redo"}},insertTexts={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},promptTexts={link:"URL for the link:",image:"URL of the image:"},timeFormat={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},blockStyles={bold:"**",code:"```",italic:"*"},imageTexts={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},errorMessages={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function EasyMDE(es){es=es||{},es.parent=this;var ki=!0;if(es.autoDownloadFontAwesome===!1&&(ki=!1),es.autoDownloadFontAwesome!==!0)for(var Ri=document.styleSheets,ts=0;ts<Ri.length;ts++)Ri[ts].href&&Ri[ts].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(ki=!1);if(ki){var rs=document.createElement("link");rs.rel="stylesheet",rs.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(rs)}if(es.element)this.element=es.element;else if(es.element===null){console.log("EasyMDE: Error. No element was found.");return}if(es.toolbar===void 0){es.toolbar=[];for(var is in toolbarBuiltInButtons)Object.prototype.hasOwnProperty.call(toolbarBuiltInButtons,is)&&(is.indexOf("separator-")!=-1&&es.toolbar.push("|"),(toolbarBuiltInButtons[is].default===!0||es.showIcons&&es.showIcons.constructor===Array&&es.showIcons.indexOf(is)!=-1)&&es.toolbar.push(is))}if(Object.prototype.hasOwnProperty.call(es,"previewClass")||(es.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(es,"status")||(es.status=["autosave","lines","words","cursor"],es.uploadImage&&es.status.unshift("upload-image")),es.previewRender||(es.previewRender=function(ss){return this.parent.markdown(ss)}),es.parsingConfig=extend$1({highlightFormatting:!0},es.parsingConfig||{}),es.insertTexts=extend$1({},insertTexts,es.insertTexts||{}),es.promptTexts=extend$1({},promptTexts,es.promptTexts||{}),es.blockStyles=extend$1({},blockStyles,es.blockStyles||{}),es.autosave!=null&&(es.autosave.timeFormat=extend$1({},timeFormat,es.autosave.timeFormat||{})),es.iconClassMap=extend$1({},iconClassMap,es.iconClassMap||{}),es.shortcuts=extend$1({},shortcuts,es.shortcuts||{}),es.maxHeight=es.maxHeight||void 0,es.direction=es.direction||"ltr",typeof es.maxHeight<"u"?es.minHeight=es.maxHeight:es.minHeight=es.minHeight||"300px",es.errorCallback=es.errorCallback||function(ss){alert(ss)},es.uploadImage=es.uploadImage||!1,es.imageMaxSize=es.imageMaxSize||2097152,es.imageAccept=es.imageAccept||"image/png, image/jpeg, image/gif, image/avif",es.imageTexts=extend$1({},imageTexts,es.imageTexts||{}),es.errorMessages=extend$1({},errorMessages,es.errorMessages||{}),es.imagePathAbsolute=es.imagePathAbsolute||!1,es.imageCSRFName=es.imageCSRFName||"csrfmiddlewaretoken",es.imageCSRFHeader=es.imageCSRFHeader||!1,es.autosave!=null&&es.autosave.unique_id!=null&&es.autosave.unique_id!=""&&(es.autosave.uniqueId=es.autosave.unique_id),es.overlayMode&&es.overlayMode.combine===void 0&&(es.overlayMode.combine=!0),this.options=es,this.render(),es.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(es.initialValue),es.uploadImage){var ns=this;this.codemirror.on("dragenter",function(ss,os){ns.updateStatusBar("upload-image",ns.options.imageTexts.sbOnDragEnter),os.stopPropagation(),os.preventDefault()}),this.codemirror.on("dragend",function(ss,os){ns.updateStatusBar("upload-image",ns.options.imageTexts.sbInit),os.stopPropagation(),os.preventDefault()}),this.codemirror.on("dragleave",function(ss,os){ns.updateStatusBar("upload-image",ns.options.imageTexts.sbInit),os.stopPropagation(),os.preventDefault()}),this.codemirror.on("dragover",function(ss,os){ns.updateStatusBar("upload-image",ns.options.imageTexts.sbOnDragEnter),os.stopPropagation(),os.preventDefault()}),this.codemirror.on("drop",function(ss,os){os.stopPropagation(),os.preventDefault(),es.imageUploadFunction?ns.uploadImagesUsingCustomFunction(es.imageUploadFunction,os.dataTransfer.files):ns.uploadImages(os.dataTransfer.files)}),this.codemirror.on("paste",function(ss,os){es.imageUploadFunction?ns.uploadImagesUsingCustomFunction(es.imageUploadFunction,os.clipboardData.files):ns.uploadImages(os.clipboardData.files)})}}EasyMDE.prototype.uploadImages=function(es,ki,Ri){if(es.length!==0){for(var ts=[],rs=0;rs<es.length;rs++)ts.push(es[rs].name),this.uploadImage(es[rs],ki,Ri);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",ts.join(", ")))}};EasyMDE.prototype.uploadImagesUsingCustomFunction=function(es,ki){if(ki.length!==0){for(var Ri=[],ts=0;ts<ki.length;ts++)Ri.push(ki[ts].name),this.uploadImageUsingCustomFunction(es,ki[ts]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",Ri.join(", ")))}};EasyMDE.prototype.updateStatusBar=function(es,ki){if(this.gui.statusbar){var Ri=this.gui.statusbar.getElementsByClassName(es);Ri.length===1?this.gui.statusbar.getElementsByClassName(es)[0].textContent=ki:Ri.length===0?console.log("EasyMDE: status bar item "+es+" was not found."):console.log("EasyMDE: Several status bar items named "+es+" was found.")}};EasyMDE.prototype.markdown=function(es){if(marked$1){var ki;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?ki=this.options.renderingConfig.markedOptions:ki={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?ki.breaks=!1:ki.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var Ri=this.options.renderingConfig.hljs||window.hljs;Ri&&(ki.highlight=function(rs,is){return is&&Ri.getLanguage(is)?Ri.highlight(is,rs).value:Ri.highlightAuto(rs).value})}marked$1.setOptions(ki);var ts=marked$1.parse(es);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(ts=this.options.renderingConfig.sanitizerFunction.call(this,ts)),ts=addAnchorTargetBlank(ts),ts=removeListStyleWhenCheckbox(ts),ts}};EasyMDE.prototype.render=function(es){if(es||(es=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===es)return;this.element=es;var ki=this.options,Ri=this,ts={};for(var rs in ki.shortcuts)ki.shortcuts[rs]!==null&&bindings[rs]!==null&&function(Cs){ts[fixShortcut(ki.shortcuts[Cs])]=function(){var ps=bindings[Cs];typeof ps=="function"?ps(Ri):typeof ps=="string"&&window.open(ps,"_blank")}}(rs);ts.Enter="newlineAndIndentContinueMarkdownList",ts.Tab="tabAndIndentMarkdownList",ts["Shift-Tab"]="shiftTabAndUnindentMarkdownList",ts.Esc=function(Cs){Cs.getOption("fullScreen")&&toggleFullScreen(Ri)},this.documentOnKeyDown=function(Cs){Cs=Cs||window.event,Cs.keyCode==27&&Ri.codemirror.getOption("fullScreen")&&toggleFullScreen(Ri)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var is,ns;ki.overlayMode?(CodeMirror.defineMode("overlay-mode",function(Cs){return CodeMirror.overlayMode(CodeMirror.getMode(Cs,ki.spellChecker!==!1?"spell-checker":"gfm"),ki.overlayMode.mode,ki.overlayMode.combine)}),is="overlay-mode",ns=ki.parsingConfig,ns.gitHubSpice=!1):(is=ki.parsingConfig,is.name="gfm",is.gitHubSpice=!1),ki.spellChecker!==!1&&(is="spell-checker",ns=ki.parsingConfig,ns.name="gfm",ns.gitHubSpice=!1,typeof ki.spellChecker=="function"?ki.spellChecker({codeMirrorInstance:CodeMirror}):CodeMirrorSpellChecker({codeMirrorInstance:CodeMirror}));function ss(Cs,ps,ms){return{addNew:!1}}if(this.codemirror=CodeMirror.fromTextArea(es,{mode:is,backdrop:ns,theme:ki.theme!=null?ki.theme:"easymde",tabSize:ki.tabSize!=null?ki.tabSize:2,indentUnit:ki.tabSize!=null?ki.tabSize:2,indentWithTabs:ki.indentWithTabs!==!1,lineNumbers:ki.lineNumbers===!0,autofocus:ki.autofocus===!0,extraKeys:ts,direction:ki.direction,lineWrapping:ki.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:ki.placeholder||es.getAttribute("placeholder")||"",styleSelectedText:ki.styleSelectedText!=null?ki.styleSelectedText:!isMobile(),scrollbarStyle:ki.scrollbarStyle!=null?ki.scrollbarStyle:"native",configureMouse:ss,inputStyle:ki.inputStyle!=null?ki.inputStyle:isMobile()?"contenteditable":"textarea",spellcheck:ki.nativeSpellcheck!=null?ki.nativeSpellcheck:!0,autoRefresh:ki.autoRefresh!=null?ki.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=ki.minHeight,typeof ki.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=ki.maxHeight),ki.forceSync===!0){var os=this.codemirror;os.on("change",function(){os.save()})}this.gui={};var ls=document.createElement("div");ls.classList.add("EasyMDEContainer"),ls.setAttribute("role","application");var cs=this.codemirror.getWrapperElement();cs.parentNode.insertBefore(ls,cs),ls.appendChild(cs),ki.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),ki.status!==!1&&(this.gui.statusbar=this.createStatusbar()),ki.autosave!=null&&ki.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(Ri._autosave_timeout),Ri._autosave_timeout=setTimeout(function(){Ri.autosave()},Ri.options.autosave.submit_delay||Ri.options.autosave.delay||1e3)}));function hs(Cs,ps){var ms,fs=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return Cs<fs?ms=ps+"px":ms=ps/Cs*100+"%",ms}var us=this;function As(Cs,ps){Cs.setAttribute("data-img-src",ps.url),Cs.setAttribute("style","--bg-image:url("+ps.url+");--width:"+ps.naturalWidth+"px;--height:"+hs(ps.naturalWidth,ps.naturalHeight)),us.codemirror.setSize()}function bs(){ki.previewImagesInEditor&&ls.querySelectorAll(".cm-image-marker").forEach(function(Cs){var ps=Cs.parentElement;if(ps.innerText.match(/^!\[.*?\]\(.*\)/g)&&!ps.hasAttribute("data-img-src")){var ms=ps.innerText.match("\\((.*)\\)");if(window.EMDEimagesCache||(window.EMDEimagesCache={}),ms&&ms.length>=2){var fs=ms[1];if(ki.imagesPreviewHandler){var gs=ki.imagesPreviewHandler(ms[1]);typeof gs=="string"&&(fs=gs)}if(window.EMDEimagesCache[fs])As(ps,window.EMDEimagesCache[fs]);else{var ws=document.createElement("img");ws.onload=function(){window.EMDEimagesCache[fs]={naturalWidth:ws.naturalWidth,naturalHeight:ws.naturalHeight,url:fs},As(ps,window.EMDEimagesCache[fs])},ws.src=fs}}}})}this.codemirror.on("update",function(){bs()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(ki.autofocus===!0||es.autofocus)&&this.codemirror.focus();var ys=this.codemirror;setTimeout((function(){ys.refresh()}).bind(ys),0)};EasyMDE.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function isLocalStorageAvailable(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}EasyMDE.prototype.autosave=function(){if(isLocalStorageAvailable()){var es=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(es.element.form!=null&&es.element.form!=null&&es.element.form.addEventListener("submit",function(){clearTimeout(es.autosaveTimeoutId),es.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+es.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var ki=es.value();ki!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,ki):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var Ri=document.getElementById("autosaved");if(Ri!=null&&Ri!=null&&Ri!=""){var ts=new Date,rs=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(ts),is=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;Ri.innerHTML=is+rs}}else console.log("EasyMDE: localStorage not available, cannot autosave")};EasyMDE.prototype.clearAutosavedValue=function(){if(isLocalStorageAvailable()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")};EasyMDE.prototype.openBrowseFileWindow=function(es,ki){var Ri=this,ts=this.gui.toolbar.getElementsByClassName("imageInput")[0];ts.click();function rs(is){Ri.options.imageUploadFunction?Ri.uploadImagesUsingCustomFunction(Ri.options.imageUploadFunction,is.target.files):Ri.uploadImages(is.target.files,es,ki),ts.removeEventListener("change",rs)}ts.addEventListener("change",rs)};EasyMDE.prototype.uploadImage=function(es,ki,Ri){var ts=this;ki=ki||function(ls){afterImageUploaded(ts,ls)};function rs(os){ts.updateStatusBar("upload-image",os),setTimeout(function(){ts.updateStatusBar("upload-image",ts.options.imageTexts.sbInit)},1e4),Ri&&typeof Ri=="function"&&Ri(os),ts.options.errorCallback(os)}function is(os){var ls=ts.options.imageTexts.sizeUnits.split(",");return os.replace("#image_name#",es.name).replace("#image_size#",humanFileSize(es.size,ls)).replace("#image_max_size#",humanFileSize(ts.options.imageMaxSize,ls))}if(es.size>this.options.imageMaxSize){rs(is(this.options.errorMessages.fileTooLarge));return}var ns=new FormData;ns.append("image",es),ts.options.imageCSRFToken&&!ts.options.imageCSRFHeader&&ns.append(ts.options.imageCSRFName,ts.options.imageCSRFToken);var ss=new XMLHttpRequest;ss.upload.onprogress=function(os){if(os.lengthComputable){var ls=""+Math.round(os.loaded*100/os.total);ts.updateStatusBar("upload-image",ts.options.imageTexts.sbProgress.replace("#file_name#",es.name).replace("#progress#",ls))}},ss.open("POST",this.options.imageUploadEndpoint),ts.options.imageCSRFToken&&ts.options.imageCSRFHeader&&ss.setRequestHeader(ts.options.imageCSRFName,ts.options.imageCSRFToken),ss.onload=function(){try{var os=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),rs(is(ts.options.errorMessages.importError));return}this.status===200&&os&&!os.error&&os.data&&os.data.filePath?ki((ts.options.imagePathAbsolute?"":window.location.origin+"/")+os.data.filePath):os.error&&os.error in ts.options.errorMessages?rs(is(ts.options.errorMessages[os.error])):os.error?rs(is(os.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),rs(is(ts.options.errorMessages.importError)))},ss.onerror=function(os){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+os.target.status+" ("+os.target.statusText+")"),rs(ts.options.errorMessages.importError)},ss.send(ns)};EasyMDE.prototype.uploadImageUsingCustomFunction=function(es,ki){var Ri=this;function ts(ns){afterImageUploaded(Ri,ns)}function rs(ns){var ss=is(ns);Ri.updateStatusBar("upload-image",ss),setTimeout(function(){Ri.updateStatusBar("upload-image",Ri.options.imageTexts.sbInit)},1e4),Ri.options.errorCallback(ss)}function is(ns){var ss=Ri.options.imageTexts.sizeUnits.split(",");return ns.replace("#image_name#",ki.name).replace("#image_size#",humanFileSize(ki.size,ss)).replace("#image_max_size#",humanFileSize(Ri.options.imageMaxSize,ss))}es.apply(this,[ki,ts,rs])};EasyMDE.prototype.setPreviewMaxHeight=function(){var es=this.codemirror,ki=es.getWrapperElement(),Ri=ki.nextSibling,ts=parseInt(window.getComputedStyle(ki).paddingTop),rs=parseInt(window.getComputedStyle(ki).borderTopWidth),is=parseInt(this.options.maxHeight),ns=is+ts*2+rs*2,ss=ns.toString()+"px";Ri.style.height=ss};EasyMDE.prototype.createSideBySide=function(){var es=this.codemirror,ki=es.getWrapperElement(),Ri=ki.nextSibling;if(!Ri||!Ri.classList.contains("editor-preview-side")){if(Ri=document.createElement("div"),Ri.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var ts=0;ts<this.options.previewClass.length;ts++)Ri.classList.add(this.options.previewClass[ts]);else typeof this.options.previewClass=="string"&&Ri.classList.add(this.options.previewClass);ki.parentNode.insertBefore(Ri,ki.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return Ri;var rs=!1,is=!1;return es.on("scroll",function(ns){if(rs){rs=!1;return}is=!0;var ss=ns.getScrollInfo().height-ns.getScrollInfo().clientHeight,os=parseFloat(ns.getScrollInfo().top)/ss,ls=(Ri.scrollHeight-Ri.clientHeight)*os;Ri.scrollTop=ls}),Ri.onscroll=function(){if(is){is=!1;return}rs=!0;var ns=Ri.scrollHeight-Ri.clientHeight,ss=parseFloat(Ri.scrollTop)/ns,os=(es.getScrollInfo().height-es.getScrollInfo().clientHeight)*ss;es.scrollTo(0,os)},Ri};EasyMDE.prototype.createToolbar=function(es){if(es=es||this.options.toolbar,!(!es||es.length===0)){var ki;for(ki=0;ki<es.length;ki++)toolbarBuiltInButtons[es[ki]]!=null&&(es[ki]=toolbarBuiltInButtons[es[ki]]);var Ri=document.createElement("div");Ri.className="editor-toolbar",Ri.setAttribute("role","toolbar");var ts=this,rs={};for(ts.toolbar=es,ki=0;ki<es.length;ki++)if(!(es[ki].name=="guide"&&ts.options.toolbarGuideIcon===!1)&&!(ts.options.hideIcons&&ts.options.hideIcons.indexOf(es[ki].name)!=-1)&&!((es[ki].name=="fullscreen"||es[ki].name=="side-by-side")&&isMobile())){if(es[ki]==="|"){for(var is=!1,ns=ki+1;ns<es.length;ns++)es[ns]!=="|"&&(!ts.options.hideIcons||ts.options.hideIcons.indexOf(es[ns].name)==-1)&&(is=!0);if(!is)continue}(function(ls){var cs;if(ls==="|"?cs=createSep():ls.children?cs=createToolbarDropdown(ls,ts.options.toolbarTips,ts.options.shortcuts,ts):cs=createToolbarButton(ls,!0,ts.options.toolbarTips,ts.options.shortcuts,"button",ts),rs[ls.name||ls]=cs,Ri.appendChild(cs),ls.name==="upload-image"){var hs=document.createElement("input");hs.className="imageInput",hs.type="file",hs.multiple=!0,hs.name="image",hs.accept=ts.options.imageAccept,hs.style.display="none",hs.style.opacity=0,Ri.appendChild(hs)}})(es[ki])}ts.toolbar_div=Ri,ts.toolbarElements=rs;var ss=this.codemirror;ss.on("cursorActivity",function(){var ls=getState(ss);for(var cs in rs)(function(hs){var us=rs[hs];ls[hs]?us.classList.add("active"):hs!="fullscreen"&&hs!="side-by-side"&&us.classList.remove("active")})(cs)});var os=ss.getWrapperElement();return os.parentNode.insertBefore(Ri,os),Ri}};EasyMDE.prototype.createStatusbar=function(es){es=es||this.options.status;var ki=this.options,Ri=this.codemirror;if(!(!es||es.length===0)){var ts=[],rs,is,ns,ss;for(rs=0;rs<es.length;rs++)if(is=void 0,ns=void 0,ss=void 0,typeof es[rs]=="object")ts.push({className:es[rs].className,defaultValue:es[rs].defaultValue,onUpdate:es[rs].onUpdate,onActivity:es[rs].onActivity});else{var os=es[rs];os==="words"?(ss=function(As){As.innerHTML=wordCount(Ri.getValue())},is=function(As){As.innerHTML=wordCount(Ri.getValue())}):os==="lines"?(ss=function(As){As.innerHTML=Ri.lineCount()},is=function(As){As.innerHTML=Ri.lineCount()}):os==="cursor"?(ss=function(As){As.innerHTML="1:1"},ns=function(As){var bs=Ri.getCursor(),ys=bs.line+1,Cs=bs.ch+1;As.innerHTML=ys+":"+Cs}):os==="autosave"?ss=function(As){ki.autosave!=null&&ki.autosave.enabled===!0&&As.setAttribute("id","autosaved")}:os==="upload-image"&&(ss=function(As){As.innerHTML=ki.imageTexts.sbInit}),ts.push({className:os,defaultValue:ss,onUpdate:is,onActivity:ns})}var ls=document.createElement("div");for(ls.className="editor-statusbar",rs=0;rs<ts.length;rs++){var cs=ts[rs],hs=document.createElement("span");hs.className=cs.className,typeof cs.defaultValue=="function"&&cs.defaultValue(hs),typeof cs.onUpdate=="function"&&this.codemirror.on("update",function(As,bs){return function(){bs.onUpdate(As)}}(hs,cs)),typeof cs.onActivity=="function"&&this.codemirror.on("cursorActivity",function(As,bs){return function(){bs.onActivity(As)}}(hs,cs)),ls.appendChild(hs)}var us=this.codemirror.getWrapperElement();return us.parentNode.insertBefore(ls,us.nextSibling),ls}};EasyMDE.prototype.value=function(es){var ki=this.codemirror;if(es===void 0)return ki.getValue();if(ki.getDoc().setValue(es),this.isPreviewActive()){var Ri=ki.getWrapperElement(),ts=Ri.lastChild,rs=this.options.previewRender(es,ts);rs!==null&&(ts.innerHTML=rs)}return this};EasyMDE.toggleBold=toggleBold;EasyMDE.toggleItalic=toggleItalic;EasyMDE.toggleStrikethrough=toggleStrikethrough;EasyMDE.toggleBlockquote=toggleBlockquote;EasyMDE.toggleHeadingSmaller=toggleHeadingSmaller;EasyMDE.toggleHeadingBigger=toggleHeadingBigger;EasyMDE.toggleHeading1=toggleHeading1;EasyMDE.toggleHeading2=toggleHeading2;EasyMDE.toggleHeading3=toggleHeading3;EasyMDE.toggleHeading4=toggleHeading4;EasyMDE.toggleHeading5=toggleHeading5;EasyMDE.toggleHeading6=toggleHeading6;EasyMDE.toggleCodeBlock=toggleCodeBlock;EasyMDE.toggleUnorderedList=toggleUnorderedList;EasyMDE.toggleOrderedList=toggleOrderedList;EasyMDE.cleanBlock=cleanBlock;EasyMDE.drawLink=drawLink;EasyMDE.drawImage=drawImage;EasyMDE.drawUploadedImage=drawUploadedImage;EasyMDE.drawTable=drawTable;EasyMDE.drawHorizontalRule=drawHorizontalRule;EasyMDE.undo=undo;EasyMDE.redo=redo;EasyMDE.togglePreview=togglePreview;EasyMDE.toggleSideBySide=toggleSideBySide;EasyMDE.toggleFullScreen=toggleFullScreen;EasyMDE.prototype.toggleBold=function(){toggleBold(this)};EasyMDE.prototype.toggleItalic=function(){toggleItalic(this)};EasyMDE.prototype.toggleStrikethrough=function(){toggleStrikethrough(this)};EasyMDE.prototype.toggleBlockquote=function(){toggleBlockquote(this)};EasyMDE.prototype.toggleHeadingSmaller=function(){toggleHeadingSmaller(this)};EasyMDE.prototype.toggleHeadingBigger=function(){toggleHeadingBigger(this)};EasyMDE.prototype.toggleHeading1=function(){toggleHeading1(this)};EasyMDE.prototype.toggleHeading2=function(){toggleHeading2(this)};EasyMDE.prototype.toggleHeading3=function(){toggleHeading3(this)};EasyMDE.prototype.toggleHeading4=function(){toggleHeading4(this)};EasyMDE.prototype.toggleHeading5=function(){toggleHeading5(this)};EasyMDE.prototype.toggleHeading6=function(){toggleHeading6(this)};EasyMDE.prototype.toggleCodeBlock=function(){toggleCodeBlock(this)};EasyMDE.prototype.toggleUnorderedList=function(){toggleUnorderedList(this)};EasyMDE.prototype.toggleOrderedList=function(){toggleOrderedList(this)};EasyMDE.prototype.cleanBlock=function(){cleanBlock(this)};EasyMDE.prototype.drawLink=function(){drawLink(this)};EasyMDE.prototype.drawImage=function(){drawImage(this)};EasyMDE.prototype.drawUploadedImage=function(){drawUploadedImage(this)};EasyMDE.prototype.drawTable=function(){drawTable(this)};EasyMDE.prototype.drawHorizontalRule=function(){drawHorizontalRule(this)};EasyMDE.prototype.undo=function(){undo(this)};EasyMDE.prototype.redo=function(){redo(this)};EasyMDE.prototype.togglePreview=function(){togglePreview(this)};EasyMDE.prototype.toggleSideBySide=function(){toggleSideBySide(this)};EasyMDE.prototype.toggleFullScreen=function(){toggleFullScreen(this)};EasyMDE.prototype.isPreviewActive=function(){var es=this.codemirror,ki=es.getWrapperElement(),Ri=ki.lastChild;return Ri.classList.contains("editor-preview-active")};EasyMDE.prototype.isSideBySideActive=function(){var es=this.codemirror,ki=es.getWrapperElement(),Ri=ki.nextSibling;return Ri.classList.contains("editor-preview-active-side")};EasyMDE.prototype.isFullscreenActive=function(){var es=this.codemirror;return es.getOption("fullScreen")};EasyMDE.prototype.getState=function(){var es=this.codemirror;return getState(es)};EasyMDE.prototype.toTextArea=function(){var es=this.codemirror,ki=es.getWrapperElement(),Ri=ki.parentNode;Ri&&(this.gui.toolbar&&Ri.removeChild(this.gui.toolbar),this.gui.statusbar&&Ri.removeChild(this.gui.statusbar),this.gui.sideBySide&&Ri.removeChild(this.gui.sideBySide)),Ri.parentNode.insertBefore(ki,Ri),Ri.remove(),es.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())};var easymde=EasyMDE;const easymde$1=getDefaultExportFromCjs(easymde);function _getDefaults(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let _defaults=_getDefaults();function changeDefaults(es){_defaults=es}const escapeTest=/[&<>"']/,escapeReplace=new RegExp(escapeTest.source,"g"),escapeTestNoEncode=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode=new RegExp(escapeTestNoEncode.source,"g"),escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=es=>escapeReplacements[es];function escape(es,ki){if(ki){if(escapeTest.test(es))return es.replace(escapeReplace,getEscapeReplacement)}else if(escapeTestNoEncode.test(es))return es.replace(escapeReplaceNoEncode,getEscapeReplacement);return es}const unescapeTest=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function unescape$1(es){return es.replace(unescapeTest,(ki,Ri)=>(Ri=Ri.toLowerCase(),Ri==="colon"?":":Ri.charAt(0)==="#"?Ri.charAt(1)==="x"?String.fromCharCode(parseInt(Ri.substring(2),16)):String.fromCharCode(+Ri.substring(1)):""))}const caret=/(^|[^\[])\^/g;function edit(es,ki){es=typeof es=="string"?es:es.source,ki=ki||"";const Ri={replace:(ts,rs)=>(rs=typeof rs=="object"&&"source"in rs?rs.source:rs,rs=rs.replace(caret,"$1"),es=es.replace(ts,rs),Ri),getRegex:()=>new RegExp(es,ki)};return Ri}function cleanUrl(es){try{es=encodeURI(es).replace(/%25/g,"%")}catch{return null}return es}const noopTest={exec:()=>null};function splitCells(es,ki){const Ri=es.replace(/\|/g,(is,ns,ss)=>{let os=!1,ls=ns;for(;--ls>=0&&ss[ls]==="\\";)os=!os;return os?"|":" |"}),ts=Ri.split(/ \|/);let rs=0;if(ts[0].trim()||ts.shift(),ts.length>0&&!ts[ts.length-1].trim()&&ts.pop(),ki)if(ts.length>ki)ts.splice(ki);else for(;ts.length<ki;)ts.push("");for(;rs<ts.length;rs++)ts[rs]=ts[rs].trim().replace(/\\\|/g,"|");return ts}function rtrim(es,ki,Ri){const ts=es.length;if(ts===0)return"";let rs=0;for(;rs<ts;){const is=es.charAt(ts-rs-1);if(is===ki&&!Ri)rs++;else if(is!==ki&&Ri)rs++;else break}return es.slice(0,ts-rs)}function findClosingBracket(es,ki){if(es.indexOf(ki[1])===-1)return-1;let Ri=0;for(let ts=0;ts<es.length;ts++)if(es[ts]==="\\")ts++;else if(es[ts]===ki[0])Ri++;else if(es[ts]===ki[1]&&(Ri--,Ri<0))return ts;return-1}function outputLink(es,ki,Ri,ts){const rs=ki.href,is=ki.title?escape(ki.title):null,ns=es[1].replace(/\\([\[\]])/g,"$1");if(es[0].charAt(0)!=="!"){ts.state.inLink=!0;const ss={type:"link",raw:Ri,href:rs,title:is,text:ns,tokens:ts.inlineTokens(ns)};return ts.state.inLink=!1,ss}return{type:"image",raw:Ri,href:rs,title:is,text:escape(ns)}}function indentCodeCompensation(es,ki){const Ri=es.match(/^(\s+)(?:```)/);if(Ri===null)return ki;const ts=Ri[1];return ki.split(`
`).map(rs=>{const is=rs.match(/^\s+/);if(is===null)return rs;const[ns]=is;return ns.length>=ts.length?rs.slice(ts.length):rs}).join(`
`)}class _Tokenizer{constructor(ki){Ho(this,"options");Ho(this,"rules");Ho(this,"lexer");this.options=ki||_defaults}space(ki){const Ri=this.rules.block.newline.exec(ki);if(Ri&&Ri[0].length>0)return{type:"space",raw:Ri[0]}}code(ki){const Ri=this.rules.block.code.exec(ki);if(Ri){const ts=Ri[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Ri[0],codeBlockStyle:"indented",text:this.options.pedantic?ts:rtrim(ts,`
`)}}}fences(ki){const Ri=this.rules.block.fences.exec(ki);if(Ri){const ts=Ri[0],rs=indentCodeCompensation(ts,Ri[3]||"");return{type:"code",raw:ts,lang:Ri[2]?Ri[2].trim().replace(this.rules.inline._escapes,"$1"):Ri[2],text:rs}}}heading(ki){const Ri=this.rules.block.heading.exec(ki);if(Ri){let ts=Ri[2].trim();if(/#$/.test(ts)){const rs=rtrim(ts,"#");(this.options.pedantic||!rs||/ $/.test(rs))&&(ts=rs.trim())}return{type:"heading",raw:Ri[0],depth:Ri[1].length,text:ts,tokens:this.lexer.inline(ts)}}}hr(ki){const Ri=this.rules.block.hr.exec(ki);if(Ri)return{type:"hr",raw:Ri[0]}}blockquote(ki){const Ri=this.rules.block.blockquote.exec(ki);if(Ri){const ts=rtrim(Ri[0].replace(/^ *>[ \t]?/gm,""),`
`),rs=this.lexer.state.top;this.lexer.state.top=!0;const is=this.lexer.blockTokens(ts);return this.lexer.state.top=rs,{type:"blockquote",raw:Ri[0],tokens:is,text:ts}}}list(ki){let Ri=this.rules.block.list.exec(ki);if(Ri){let ts=Ri[1].trim();const rs=ts.length>1,is={type:"list",raw:"",ordered:rs,start:rs?+ts.slice(0,-1):"",loose:!1,items:[]};ts=rs?`\\d{1,9}\\${ts.slice(-1)}`:`\\${ts}`,this.options.pedantic&&(ts=rs?ts:"[*+-]");const ns=new RegExp(`^( {0,3}${ts})((?:[	 ][^\\n]*)?(?:\\n|$))`);let ss="",os="",ls=!1;for(;ki;){let cs=!1;if(!(Ri=ns.exec(ki))||this.rules.block.hr.test(ki))break;ss=Ri[0],ki=ki.substring(ss.length);let hs=Ri[2].split(`
`,1)[0].replace(/^\t+/,ps=>" ".repeat(3*ps.length)),us=ki.split(`
`,1)[0],As=0;this.options.pedantic?(As=2,os=hs.trimStart()):(As=Ri[2].search(/[^ ]/),As=As>4?1:As,os=hs.slice(As),As+=Ri[1].length);let bs=!1;if(!hs&&/^ *$/.test(us)&&(ss+=us+`
`,ki=ki.substring(us.length+1),cs=!0),!cs){const ps=new RegExp(`^ {0,${Math.min(3,As-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),ms=new RegExp(`^ {0,${Math.min(3,As-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fs=new RegExp(`^ {0,${Math.min(3,As-1)}}(?:\`\`\`|~~~)`),gs=new RegExp(`^ {0,${Math.min(3,As-1)}}#`);for(;ki;){const ws=ki.split(`
`,1)[0];if(us=ws,this.options.pedantic&&(us=us.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),fs.test(us)||gs.test(us)||ps.test(us)||ms.test(ki))break;if(us.search(/[^ ]/)>=As||!us.trim())os+=`
`+us.slice(As);else{if(bs||hs.search(/[^ ]/)>=4||fs.test(hs)||gs.test(hs)||ms.test(hs))break;os+=`
`+us}!bs&&!us.trim()&&(bs=!0),ss+=ws+`
`,ki=ki.substring(ws.length+1),hs=us.slice(As)}}is.loose||(ls?is.loose=!0:/\n *\n *$/.test(ss)&&(ls=!0));let ys=null,Cs;this.options.gfm&&(ys=/^\[[ xX]\] /.exec(os),ys&&(Cs=ys[0]!=="[ ] ",os=os.replace(/^\[[ xX]\] +/,""))),is.items.push({type:"list_item",raw:ss,task:!!ys,checked:Cs,loose:!1,text:os,tokens:[]}),is.raw+=ss}is.items[is.items.length-1].raw=ss.trimEnd(),is.items[is.items.length-1].text=os.trimEnd(),is.raw=is.raw.trimEnd();for(let cs=0;cs<is.items.length;cs++)if(this.lexer.state.top=!1,is.items[cs].tokens=this.lexer.blockTokens(is.items[cs].text,[]),!is.loose){const hs=is.items[cs].tokens.filter(As=>As.type==="space"),us=hs.length>0&&hs.some(As=>/\n.*\n/.test(As.raw));is.loose=us}if(is.loose)for(let cs=0;cs<is.items.length;cs++)is.items[cs].loose=!0;return is}}html(ki){const Ri=this.rules.block.html.exec(ki);if(Ri)return{type:"html",block:!0,raw:Ri[0],pre:Ri[1]==="pre"||Ri[1]==="script"||Ri[1]==="style",text:Ri[0]}}def(ki){const Ri=this.rules.block.def.exec(ki);if(Ri){const ts=Ri[1].toLowerCase().replace(/\s+/g," "),rs=Ri[2]?Ri[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",is=Ri[3]?Ri[3].substring(1,Ri[3].length-1).replace(this.rules.inline._escapes,"$1"):Ri[3];return{type:"def",tag:ts,raw:Ri[0],href:rs,title:is}}}table(ki){const Ri=this.rules.block.table.exec(ki);if(Ri){if(!/[:|]/.test(Ri[2]))return;const ts={type:"table",raw:Ri[0],header:splitCells(Ri[1]).map(rs=>({text:rs,tokens:[]})),align:Ri[2].replace(/^\||\| *$/g,"").split("|"),rows:Ri[3]&&Ri[3].trim()?Ri[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(ts.header.length===ts.align.length){let rs=ts.align.length,is,ns,ss,os;for(is=0;is<rs;is++){const ls=ts.align[is];ls&&(/^ *-+: *$/.test(ls)?ts.align[is]="right":/^ *:-+: *$/.test(ls)?ts.align[is]="center":/^ *:-+ *$/.test(ls)?ts.align[is]="left":ts.align[is]=null)}for(rs=ts.rows.length,is=0;is<rs;is++)ts.rows[is]=splitCells(ts.rows[is],ts.header.length).map(ls=>({text:ls,tokens:[]}));for(rs=ts.header.length,ns=0;ns<rs;ns++)ts.header[ns].tokens=this.lexer.inline(ts.header[ns].text);for(rs=ts.rows.length,ns=0;ns<rs;ns++)for(os=ts.rows[ns],ss=0;ss<os.length;ss++)os[ss].tokens=this.lexer.inline(os[ss].text);return ts}}}lheading(ki){const Ri=this.rules.block.lheading.exec(ki);if(Ri)return{type:"heading",raw:Ri[0],depth:Ri[2].charAt(0)==="="?1:2,text:Ri[1],tokens:this.lexer.inline(Ri[1])}}paragraph(ki){const Ri=this.rules.block.paragraph.exec(ki);if(Ri){const ts=Ri[1].charAt(Ri[1].length-1)===`
`?Ri[1].slice(0,-1):Ri[1];return{type:"paragraph",raw:Ri[0],text:ts,tokens:this.lexer.inline(ts)}}}text(ki){const Ri=this.rules.block.text.exec(ki);if(Ri)return{type:"text",raw:Ri[0],text:Ri[0],tokens:this.lexer.inline(Ri[0])}}escape(ki){const Ri=this.rules.inline.escape.exec(ki);if(Ri)return{type:"escape",raw:Ri[0],text:escape(Ri[1])}}tag(ki){const Ri=this.rules.inline.tag.exec(ki);if(Ri)return!this.lexer.state.inLink&&/^<a /i.test(Ri[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Ri[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Ri[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Ri[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:Ri[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:Ri[0]}}link(ki){const Ri=this.rules.inline.link.exec(ki);if(Ri){const ts=Ri[2].trim();if(!this.options.pedantic&&/^</.test(ts)){if(!/>$/.test(ts))return;const ns=rtrim(ts.slice(0,-1),"\\");if((ts.length-ns.length)%2===0)return}else{const ns=findClosingBracket(Ri[2],"()");if(ns>-1){const os=(Ri[0].indexOf("!")===0?5:4)+Ri[1].length+ns;Ri[2]=Ri[2].substring(0,ns),Ri[0]=Ri[0].substring(0,os).trim(),Ri[3]=""}}let rs=Ri[2],is="";if(this.options.pedantic){const ns=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(rs);ns&&(rs=ns[1],is=ns[3])}else is=Ri[3]?Ri[3].slice(1,-1):"";return rs=rs.trim(),/^</.test(rs)&&(this.options.pedantic&&!/>$/.test(ts)?rs=rs.slice(1):rs=rs.slice(1,-1)),outputLink(Ri,{href:rs&&rs.replace(this.rules.inline._escapes,"$1"),title:is&&is.replace(this.rules.inline._escapes,"$1")},Ri[0],this.lexer)}}reflink(ki,Ri){let ts;if((ts=this.rules.inline.reflink.exec(ki))||(ts=this.rules.inline.nolink.exec(ki))){let rs=(ts[2]||ts[1]).replace(/\s+/g," ");if(rs=Ri[rs.toLowerCase()],!rs){const is=ts[0].charAt(0);return{type:"text",raw:is,text:is}}return outputLink(ts,rs,ts[0],this.lexer)}}emStrong(ki,Ri,ts=""){let rs=this.rules.inline.emStrong.lDelim.exec(ki);if(!rs||rs[3]&&ts.match(/[\p{L}\p{N}]/u))return;if(!(rs[1]||rs[2]||"")||!ts||this.rules.inline.punctuation.exec(ts)){const ns=[...rs[0]].length-1;let ss,os,ls=ns,cs=0;const hs=rs[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(hs.lastIndex=0,Ri=Ri.slice(-1*ki.length+ns);(rs=hs.exec(Ri))!=null;){if(ss=rs[1]||rs[2]||rs[3]||rs[4]||rs[5]||rs[6],!ss)continue;if(os=[...ss].length,rs[3]||rs[4]){ls+=os;continue}else if((rs[5]||rs[6])&&ns%3&&!((ns+os)%3)){cs+=os;continue}if(ls-=os,ls>0)continue;os=Math.min(os,os+ls+cs);const us=[...rs[0]][0].length,As=ki.slice(0,ns+rs.index+us+os);if(Math.min(ns,os)%2){const ys=As.slice(1,-1);return{type:"em",raw:As,text:ys,tokens:this.lexer.inlineTokens(ys)}}const bs=As.slice(2,-2);return{type:"strong",raw:As,text:bs,tokens:this.lexer.inlineTokens(bs)}}}}codespan(ki){const Ri=this.rules.inline.code.exec(ki);if(Ri){let ts=Ri[2].replace(/\n/g," ");const rs=/[^ ]/.test(ts),is=/^ /.test(ts)&&/ $/.test(ts);return rs&&is&&(ts=ts.substring(1,ts.length-1)),ts=escape(ts,!0),{type:"codespan",raw:Ri[0],text:ts}}}br(ki){const Ri=this.rules.inline.br.exec(ki);if(Ri)return{type:"br",raw:Ri[0]}}del(ki){const Ri=this.rules.inline.del.exec(ki);if(Ri)return{type:"del",raw:Ri[0],text:Ri[2],tokens:this.lexer.inlineTokens(Ri[2])}}autolink(ki){const Ri=this.rules.inline.autolink.exec(ki);if(Ri){let ts,rs;return Ri[2]==="@"?(ts=escape(Ri[1]),rs="mailto:"+ts):(ts=escape(Ri[1]),rs=ts),{type:"link",raw:Ri[0],text:ts,href:rs,tokens:[{type:"text",raw:ts,text:ts}]}}}url(ki){let Ri;if(Ri=this.rules.inline.url.exec(ki)){let ts,rs;if(Ri[2]==="@")ts=escape(Ri[0]),rs="mailto:"+ts;else{let is;do is=Ri[0],Ri[0]=this.rules.inline._backpedal.exec(Ri[0])[0];while(is!==Ri[0]);ts=escape(Ri[0]),Ri[1]==="www."?rs="http://"+Ri[0]:rs=Ri[0]}return{type:"link",raw:Ri[0],text:ts,href:rs,tokens:[{type:"text",raw:ts,text:ts}]}}}inlineText(ki){const Ri=this.rules.inline.text.exec(ki);if(Ri){let ts;return this.lexer.state.inRawBlock?ts=Ri[0]:ts=escape(Ri[0]),{type:"text",raw:Ri[0],text:ts}}}}const block$1={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:noopTest,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};block$1._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;block$1._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;block$1.def=edit(block$1.def).replace("label",block$1._label).replace("title",block$1._title).getRegex();block$1.bullet=/(?:[*+-]|\d{1,9}[.)])/;block$1.listItemStart=edit(/^( *)(bull) */).replace("bull",block$1.bullet).getRegex();block$1.list=edit(block$1.list).replace(/bull/g,block$1.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+block$1.def.source+")").getRegex();block$1._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";block$1._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;block$1.html=edit(block$1.html,"i").replace("comment",block$1._comment).replace("tag",block$1._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();block$1.lheading=edit(block$1.lheading).replace(/bull/g,block$1.bullet).getRegex();block$1.paragraph=edit(block$1._paragraph).replace("hr",block$1.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block$1._tag).getRegex();block$1.blockquote=edit(block$1.blockquote).replace("paragraph",block$1.paragraph).getRegex();block$1.normal={...block$1};block$1.gfm={...block$1.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};block$1.gfm.table=edit(block$1.gfm.table).replace("hr",block$1.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block$1._tag).getRegex();block$1.gfm.paragraph=edit(block$1._paragraph).replace("hr",block$1.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",block$1.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block$1._tag).getRegex();block$1.pedantic={...block$1.normal,html:edit(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",block$1._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:noopTest,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(block$1.normal._paragraph).replace("hr",block$1.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",block$1.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const inline={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:noopTest,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:noopTest,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};inline._punctuation="\\p{P}$+<=>`^|~";inline.punctuation=edit(inline.punctuation,"u").replace(/punctuation/g,inline._punctuation).getRegex();inline.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;inline.anyPunctuation=/\\[punct]/g;inline._escapes=/\\([punct])/g;inline._comment=edit(block$1._comment).replace("(?:-->|$)","-->").getRegex();inline.emStrong.lDelim=edit(inline.emStrong.lDelim,"u").replace(/punct/g,inline._punctuation).getRegex();inline.emStrong.rDelimAst=edit(inline.emStrong.rDelimAst,"gu").replace(/punct/g,inline._punctuation).getRegex();inline.emStrong.rDelimUnd=edit(inline.emStrong.rDelimUnd,"gu").replace(/punct/g,inline._punctuation).getRegex();inline.anyPunctuation=edit(inline.anyPunctuation,"gu").replace(/punct/g,inline._punctuation).getRegex();inline._escapes=edit(inline._escapes,"gu").replace(/punct/g,inline._punctuation).getRegex();inline._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;inline._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;inline.autolink=edit(inline.autolink).replace("scheme",inline._scheme).replace("email",inline._email).getRegex();inline._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;inline.tag=edit(inline.tag).replace("comment",inline._comment).replace("attribute",inline._attribute).getRegex();inline._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;inline._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;inline._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;inline.link=edit(inline.link).replace("label",inline._label).replace("href",inline._href).replace("title",inline._title).getRegex();inline.reflink=edit(inline.reflink).replace("label",inline._label).replace("ref",block$1._label).getRegex();inline.nolink=edit(inline.nolink).replace("ref",block$1._label).getRegex();inline.reflinkSearch=edit(inline.reflinkSearch,"g").replace("reflink",inline.reflink).replace("nolink",inline.nolink).getRegex();inline.normal={...inline};inline.pedantic={...inline.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",inline._label).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",inline._label).getRegex()};inline.gfm={...inline.normal,escape:edit(inline.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};inline.gfm.url=edit(inline.gfm.url,"i").replace("email",inline.gfm._extended_email).getRegex();inline.breaks={...inline.gfm,br:edit(inline.br).replace("{2,}","*").getRegex(),text:edit(inline.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class _Lexer{constructor(ki){Ho(this,"tokens");Ho(this,"options");Ho(this,"state");Ho(this,"tokenizer");Ho(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=ki||_defaults,this.options.tokenizer=this.options.tokenizer||new _Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const Ri={block:block$1.normal,inline:inline.normal};this.options.pedantic?(Ri.block=block$1.pedantic,Ri.inline=inline.pedantic):this.options.gfm&&(Ri.block=block$1.gfm,this.options.breaks?Ri.inline=inline.breaks:Ri.inline=inline.gfm),this.tokenizer.rules=Ri}static get rules(){return{block:block$1,inline}}static lex(ki,Ri){return new _Lexer(Ri).lex(ki)}static lexInline(ki,Ri){return new _Lexer(Ri).inlineTokens(ki)}lex(ki){ki=ki.replace(/\r\n|\r/g,`
`),this.blockTokens(ki,this.tokens);let Ri;for(;Ri=this.inlineQueue.shift();)this.inlineTokens(Ri.src,Ri.tokens);return this.tokens}blockTokens(ki,Ri=[]){this.options.pedantic?ki=ki.replace(/\t/g,"    ").replace(/^ +$/gm,""):ki=ki.replace(/^( *)(\t+)/gm,(ss,os,ls)=>os+"    ".repeat(ls.length));let ts,rs,is,ns;for(;ki;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(ss=>(ts=ss.call({lexer:this},ki,Ri))?(ki=ki.substring(ts.raw.length),Ri.push(ts),!0):!1))){if(ts=this.tokenizer.space(ki)){ki=ki.substring(ts.raw.length),ts.raw.length===1&&Ri.length>0?Ri[Ri.length-1].raw+=`
`:Ri.push(ts);continue}if(ts=this.tokenizer.code(ki)){ki=ki.substring(ts.raw.length),rs=Ri[Ri.length-1],rs&&(rs.type==="paragraph"||rs.type==="text")?(rs.raw+=`
`+ts.raw,rs.text+=`
`+ts.text,this.inlineQueue[this.inlineQueue.length-1].src=rs.text):Ri.push(ts);continue}if(ts=this.tokenizer.fences(ki)){ki=ki.substring(ts.raw.length),Ri.push(ts);continue}if(ts=this.tokenizer.heading(ki)){ki=ki.substring(ts.raw.length),Ri.push(ts);continue}if(ts=this.tokenizer.hr(ki)){ki=ki.substring(ts.raw.length),Ri.push(ts);continue}if(ts=this.tokenizer.blockquote(ki)){ki=ki.substring(ts.raw.length),Ri.push(ts);continue}if(ts=this.tokenizer.list(ki)){ki=ki.substring(ts.raw.length),Ri.push(ts);continue}if(ts=this.tokenizer.html(ki)){ki=ki.substring(ts.raw.length),Ri.push(ts);continue}if(ts=this.tokenizer.def(ki)){ki=ki.substring(ts.raw.length),rs=Ri[Ri.length-1],rs&&(rs.type==="paragraph"||rs.type==="text")?(rs.raw+=`
`+ts.raw,rs.text+=`
`+ts.raw,this.inlineQueue[this.inlineQueue.length-1].src=rs.text):this.tokens.links[ts.tag]||(this.tokens.links[ts.tag]={href:ts.href,title:ts.title});continue}if(ts=this.tokenizer.table(ki)){ki=ki.substring(ts.raw.length),Ri.push(ts);continue}if(ts=this.tokenizer.lheading(ki)){ki=ki.substring(ts.raw.length),Ri.push(ts);continue}if(is=ki,this.options.extensions&&this.options.extensions.startBlock){let ss=1/0;const os=ki.slice(1);let ls;this.options.extensions.startBlock.forEach(cs=>{ls=cs.call({lexer:this},os),typeof ls=="number"&&ls>=0&&(ss=Math.min(ss,ls))}),ss<1/0&&ss>=0&&(is=ki.substring(0,ss+1))}if(this.state.top&&(ts=this.tokenizer.paragraph(is))){rs=Ri[Ri.length-1],ns&&rs.type==="paragraph"?(rs.raw+=`
`+ts.raw,rs.text+=`
`+ts.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=rs.text):Ri.push(ts),ns=is.length!==ki.length,ki=ki.substring(ts.raw.length);continue}if(ts=this.tokenizer.text(ki)){ki=ki.substring(ts.raw.length),rs=Ri[Ri.length-1],rs&&rs.type==="text"?(rs.raw+=`
`+ts.raw,rs.text+=`
`+ts.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=rs.text):Ri.push(ts);continue}if(ki){const ss="Infinite loop on byte: "+ki.charCodeAt(0);if(this.options.silent){console.error(ss);break}else throw new Error(ss)}}return this.state.top=!0,Ri}inline(ki,Ri=[]){return this.inlineQueue.push({src:ki,tokens:Ri}),Ri}inlineTokens(ki,Ri=[]){let ts,rs,is,ns=ki,ss,os,ls;if(this.tokens.links){const cs=Object.keys(this.tokens.links);if(cs.length>0)for(;(ss=this.tokenizer.rules.inline.reflinkSearch.exec(ns))!=null;)cs.includes(ss[0].slice(ss[0].lastIndexOf("[")+1,-1))&&(ns=ns.slice(0,ss.index)+"["+"a".repeat(ss[0].length-2)+"]"+ns.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ss=this.tokenizer.rules.inline.blockSkip.exec(ns))!=null;)ns=ns.slice(0,ss.index)+"["+"a".repeat(ss[0].length-2)+"]"+ns.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ss=this.tokenizer.rules.inline.anyPunctuation.exec(ns))!=null;)ns=ns.slice(0,ss.index)+"++"+ns.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;ki;)if(os||(ls=""),os=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(cs=>(ts=cs.call({lexer:this},ki,Ri))?(ki=ki.substring(ts.raw.length),Ri.push(ts),!0):!1))){if(ts=this.tokenizer.escape(ki)){ki=ki.substring(ts.raw.length),Ri.push(ts);continue}if(ts=this.tokenizer.tag(ki)){ki=ki.substring(ts.raw.length),rs=Ri[Ri.length-1],rs&&ts.type==="text"&&rs.type==="text"?(rs.raw+=ts.raw,rs.text+=ts.text):Ri.push(ts);continue}if(ts=this.tokenizer.link(ki)){ki=ki.substring(ts.raw.length),Ri.push(ts);continue}if(ts=this.tokenizer.reflink(ki,this.tokens.links)){ki=ki.substring(ts.raw.length),rs=Ri[Ri.length-1],rs&&ts.type==="text"&&rs.type==="text"?(rs.raw+=ts.raw,rs.text+=ts.text):Ri.push(ts);continue}if(ts=this.tokenizer.emStrong(ki,ns,ls)){ki=ki.substring(ts.raw.length),Ri.push(ts);continue}if(ts=this.tokenizer.codespan(ki)){ki=ki.substring(ts.raw.length),Ri.push(ts);continue}if(ts=this.tokenizer.br(ki)){ki=ki.substring(ts.raw.length),Ri.push(ts);continue}if(ts=this.tokenizer.del(ki)){ki=ki.substring(ts.raw.length),Ri.push(ts);continue}if(ts=this.tokenizer.autolink(ki)){ki=ki.substring(ts.raw.length),Ri.push(ts);continue}if(!this.state.inLink&&(ts=this.tokenizer.url(ki))){ki=ki.substring(ts.raw.length),Ri.push(ts);continue}if(is=ki,this.options.extensions&&this.options.extensions.startInline){let cs=1/0;const hs=ki.slice(1);let us;this.options.extensions.startInline.forEach(As=>{us=As.call({lexer:this},hs),typeof us=="number"&&us>=0&&(cs=Math.min(cs,us))}),cs<1/0&&cs>=0&&(is=ki.substring(0,cs+1))}if(ts=this.tokenizer.inlineText(is)){ki=ki.substring(ts.raw.length),ts.raw.slice(-1)!=="_"&&(ls=ts.raw.slice(-1)),os=!0,rs=Ri[Ri.length-1],rs&&rs.type==="text"?(rs.raw+=ts.raw,rs.text+=ts.text):Ri.push(ts);continue}if(ki){const cs="Infinite loop on byte: "+ki.charCodeAt(0);if(this.options.silent){console.error(cs);break}else throw new Error(cs)}}return Ri}}class _Renderer{constructor(ki){Ho(this,"options");this.options=ki||_defaults}code(ki,Ri,ts){var is;const rs=(is=(Ri||"").match(/^\S*/))==null?void 0:is[0];return ki=ki.replace(/\n$/,"")+`
`,rs?'<pre><code class="language-'+escape(rs)+'">'+(ts?ki:escape(ki,!0))+`</code></pre>
`:"<pre><code>"+(ts?ki:escape(ki,!0))+`</code></pre>
`}blockquote(ki){return`<blockquote>
${ki}</blockquote>
`}html(ki,Ri){return ki}heading(ki,Ri,ts){return`<h${Ri}>${ki}</h${Ri}>
`}hr(){return`<hr>
`}list(ki,Ri,ts){const rs=Ri?"ol":"ul",is=Ri&&ts!==1?' start="'+ts+'"':"";return"<"+rs+is+`>
`+ki+"</"+rs+`>
`}listitem(ki,Ri,ts){return`<li>${ki}</li>
`}checkbox(ki){return"<input "+(ki?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(ki){return`<p>${ki}</p>
`}table(ki,Ri){return Ri&&(Ri=`<tbody>${Ri}</tbody>`),`<table>
<thead>
`+ki+`</thead>
`+Ri+`</table>
`}tablerow(ki){return`<tr>
${ki}</tr>
`}tablecell(ki,Ri){const ts=Ri.header?"th":"td";return(Ri.align?`<${ts} align="${Ri.align}">`:`<${ts}>`)+ki+`</${ts}>
`}strong(ki){return`<strong>${ki}</strong>`}em(ki){return`<em>${ki}</em>`}codespan(ki){return`<code>${ki}</code>`}br(){return"<br>"}del(ki){return`<del>${ki}</del>`}link(ki,Ri,ts){const rs=cleanUrl(ki);if(rs===null)return ts;ki=rs;let is='<a href="'+ki+'"';return Ri&&(is+=' title="'+Ri+'"'),is+=">"+ts+"</a>",is}image(ki,Ri,ts){const rs=cleanUrl(ki);if(rs===null)return ts;ki=rs;let is=`<img src="${ki}" alt="${ts}"`;return Ri&&(is+=` title="${Ri}"`),is+=">",is}text(ki){return ki}}class _TextRenderer{strong(ki){return ki}em(ki){return ki}codespan(ki){return ki}del(ki){return ki}html(ki){return ki}text(ki){return ki}link(ki,Ri,ts){return""+ts}image(ki,Ri,ts){return""+ts}br(){return""}}class _Parser{constructor(ki){Ho(this,"options");Ho(this,"renderer");Ho(this,"textRenderer");this.options=ki||_defaults,this.options.renderer=this.options.renderer||new _Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new _TextRenderer}static parse(ki,Ri){return new _Parser(Ri).parse(ki)}static parseInline(ki,Ri){return new _Parser(Ri).parseInline(ki)}parse(ki,Ri=!0){let ts="";for(let rs=0;rs<ki.length;rs++){const is=ki[rs];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[is.type]){const ns=is,ss=this.options.extensions.renderers[ns.type].call({parser:this},ns);if(ss!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ns.type)){ts+=ss||"";continue}}switch(is.type){case"space":continue;case"hr":{ts+=this.renderer.hr();continue}case"heading":{const ns=is;ts+=this.renderer.heading(this.parseInline(ns.tokens),ns.depth,unescape$1(this.parseInline(ns.tokens,this.textRenderer)));continue}case"code":{const ns=is;ts+=this.renderer.code(ns.text,ns.lang,!!ns.escaped);continue}case"table":{const ns=is;let ss="",os="";for(let cs=0;cs<ns.header.length;cs++)os+=this.renderer.tablecell(this.parseInline(ns.header[cs].tokens),{header:!0,align:ns.align[cs]});ss+=this.renderer.tablerow(os);let ls="";for(let cs=0;cs<ns.rows.length;cs++){const hs=ns.rows[cs];os="";for(let us=0;us<hs.length;us++)os+=this.renderer.tablecell(this.parseInline(hs[us].tokens),{header:!1,align:ns.align[us]});ls+=this.renderer.tablerow(os)}ts+=this.renderer.table(ss,ls);continue}case"blockquote":{const ns=is,ss=this.parse(ns.tokens);ts+=this.renderer.blockquote(ss);continue}case"list":{const ns=is,ss=ns.ordered,os=ns.start,ls=ns.loose;let cs="";for(let hs=0;hs<ns.items.length;hs++){const us=ns.items[hs],As=us.checked,bs=us.task;let ys="";if(us.task){const Cs=this.renderer.checkbox(!!As);ls?us.tokens.length>0&&us.tokens[0].type==="paragraph"?(us.tokens[0].text=Cs+" "+us.tokens[0].text,us.tokens[0].tokens&&us.tokens[0].tokens.length>0&&us.tokens[0].tokens[0].type==="text"&&(us.tokens[0].tokens[0].text=Cs+" "+us.tokens[0].tokens[0].text)):us.tokens.unshift({type:"text",text:Cs+" "}):ys+=Cs+" "}ys+=this.parse(us.tokens,ls),cs+=this.renderer.listitem(ys,bs,!!As)}ts+=this.renderer.list(cs,ss,os);continue}case"html":{const ns=is;ts+=this.renderer.html(ns.text,ns.block);continue}case"paragraph":{const ns=is;ts+=this.renderer.paragraph(this.parseInline(ns.tokens));continue}case"text":{let ns=is,ss=ns.tokens?this.parseInline(ns.tokens):ns.text;for(;rs+1<ki.length&&ki[rs+1].type==="text";)ns=ki[++rs],ss+=`
`+(ns.tokens?this.parseInline(ns.tokens):ns.text);ts+=Ri?this.renderer.paragraph(ss):ss;continue}default:{const ns='Token with "'+is.type+'" type was not found.';if(this.options.silent)return console.error(ns),"";throw new Error(ns)}}}return ts}parseInline(ki,Ri){Ri=Ri||this.renderer;let ts="";for(let rs=0;rs<ki.length;rs++){const is=ki[rs];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[is.type]){const ns=this.options.extensions.renderers[is.type].call({parser:this},is);if(ns!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(is.type)){ts+=ns||"";continue}}switch(is.type){case"escape":{const ns=is;ts+=Ri.text(ns.text);break}case"html":{const ns=is;ts+=Ri.html(ns.text);break}case"link":{const ns=is;ts+=Ri.link(ns.href,ns.title,this.parseInline(ns.tokens,Ri));break}case"image":{const ns=is;ts+=Ri.image(ns.href,ns.title,ns.text);break}case"strong":{const ns=is;ts+=Ri.strong(this.parseInline(ns.tokens,Ri));break}case"em":{const ns=is;ts+=Ri.em(this.parseInline(ns.tokens,Ri));break}case"codespan":{const ns=is;ts+=Ri.codespan(ns.text);break}case"br":{ts+=Ri.br();break}case"del":{const ns=is;ts+=Ri.del(this.parseInline(ns.tokens,Ri));break}case"text":{const ns=is;ts+=Ri.text(ns.text);break}default:{const ns='Token with "'+is.type+'" type was not found.';if(this.options.silent)return console.error(ns),"";throw new Error(ns)}}}return ts}}class _Hooks{constructor(ki){Ho(this,"options");this.options=ki||_defaults}preprocess(ki){return ki}postprocess(ki){return ki}}Ho(_Hooks,"passThroughHooks",new Set(["preprocess","postprocess"]));var am,o0,iy;class Marked{constructor(...ki){_c(this,am);Ho(this,"defaults",_getDefaults());Ho(this,"options",this.setOptions);Ho(this,"parse",hc(this,am,o0).call(this,_Lexer.lex,_Parser.parse));Ho(this,"parseInline",hc(this,am,o0).call(this,_Lexer.lexInline,_Parser.parseInline));Ho(this,"Parser",_Parser);Ho(this,"Renderer",_Renderer);Ho(this,"TextRenderer",_TextRenderer);Ho(this,"Lexer",_Lexer);Ho(this,"Tokenizer",_Tokenizer);Ho(this,"Hooks",_Hooks);this.use(...ki)}walkTokens(ki,Ri){var rs,is;let ts=[];for(const ns of ki)switch(ts=ts.concat(Ri.call(this,ns)),ns.type){case"table":{const ss=ns;for(const os of ss.header)ts=ts.concat(this.walkTokens(os.tokens,Ri));for(const os of ss.rows)for(const ls of os)ts=ts.concat(this.walkTokens(ls.tokens,Ri));break}case"list":{const ss=ns;ts=ts.concat(this.walkTokens(ss.items,Ri));break}default:{const ss=ns;(is=(rs=this.defaults.extensions)==null?void 0:rs.childTokens)!=null&&is[ss.type]?this.defaults.extensions.childTokens[ss.type].forEach(os=>{ts=ts.concat(this.walkTokens(ss[os],Ri))}):ss.tokens&&(ts=ts.concat(this.walkTokens(ss.tokens,Ri)))}}return ts}use(...ki){const Ri=this.defaults.extensions||{renderers:{},childTokens:{}};return ki.forEach(ts=>{const rs={...ts};if(rs.async=this.defaults.async||rs.async||!1,ts.extensions&&(ts.extensions.forEach(is=>{if(!is.name)throw new Error("extension name required");if("renderer"in is){const ns=Ri.renderers[is.name];ns?Ri.renderers[is.name]=function(...ss){let os=is.renderer.apply(this,ss);return os===!1&&(os=ns.apply(this,ss)),os}:Ri.renderers[is.name]=is.renderer}if("tokenizer"in is){if(!is.level||is.level!=="block"&&is.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const ns=Ri[is.level];ns?ns.unshift(is.tokenizer):Ri[is.level]=[is.tokenizer],is.start&&(is.level==="block"?Ri.startBlock?Ri.startBlock.push(is.start):Ri.startBlock=[is.start]:is.level==="inline"&&(Ri.startInline?Ri.startInline.push(is.start):Ri.startInline=[is.start]))}"childTokens"in is&&is.childTokens&&(Ri.childTokens[is.name]=is.childTokens)}),rs.extensions=Ri),ts.renderer){const is=this.defaults.renderer||new _Renderer(this.defaults);for(const ns in ts.renderer){const ss=ts.renderer[ns],os=ns,ls=is[os];is[os]=(...cs)=>{let hs=ss.apply(is,cs);return hs===!1&&(hs=ls.apply(is,cs)),hs||""}}rs.renderer=is}if(ts.tokenizer){const is=this.defaults.tokenizer||new _Tokenizer(this.defaults);for(const ns in ts.tokenizer){const ss=ts.tokenizer[ns],os=ns,ls=is[os];is[os]=(...cs)=>{let hs=ss.apply(is,cs);return hs===!1&&(hs=ls.apply(is,cs)),hs}}rs.tokenizer=is}if(ts.hooks){const is=this.defaults.hooks||new _Hooks;for(const ns in ts.hooks){const ss=ts.hooks[ns],os=ns,ls=is[os];_Hooks.passThroughHooks.has(ns)?is[os]=cs=>{if(this.defaults.async)return Promise.resolve(ss.call(is,cs)).then(us=>ls.call(is,us));const hs=ss.call(is,cs);return ls.call(is,hs)}:is[os]=(...cs)=>{let hs=ss.apply(is,cs);return hs===!1&&(hs=ls.apply(is,cs)),hs}}rs.hooks=is}if(ts.walkTokens){const is=this.defaults.walkTokens,ns=ts.walkTokens;rs.walkTokens=function(ss){let os=[];return os.push(ns.call(this,ss)),is&&(os=os.concat(is.call(this,ss))),os}}this.defaults={...this.defaults,...rs}}),this}setOptions(ki){return this.defaults={...this.defaults,...ki},this}lexer(ki,Ri){return _Lexer.lex(ki,Ri??this.defaults)}parser(ki,Ri){return _Parser.parse(ki,Ri??this.defaults)}}am=new WeakSet,o0=function(ki,Ri){return(ts,rs)=>{const is={...rs},ns={...this.defaults,...is};this.defaults.async===!0&&is.async===!1&&(ns.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),ns.async=!0);const ss=hc(this,am,iy).call(this,!!ns.silent,!!ns.async);if(typeof ts>"u"||ts===null)return ss(new Error("marked(): input parameter is undefined or null"));if(typeof ts!="string")return ss(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ts)+", string expected"));if(ns.hooks&&(ns.hooks.options=ns),ns.async)return Promise.resolve(ns.hooks?ns.hooks.preprocess(ts):ts).then(os=>ki(os,ns)).then(os=>ns.walkTokens?Promise.all(this.walkTokens(os,ns.walkTokens)).then(()=>os):os).then(os=>Ri(os,ns)).then(os=>ns.hooks?ns.hooks.postprocess(os):os).catch(ss);try{ns.hooks&&(ts=ns.hooks.preprocess(ts));const os=ki(ts,ns);ns.walkTokens&&this.walkTokens(os,ns.walkTokens);let ls=Ri(os,ns);return ns.hooks&&(ls=ns.hooks.postprocess(ls)),ls}catch(os){return ss(os)}}},iy=function(ki,Ri){return ts=>{if(ts.message+=`
Please report this to https://github.com/markedjs/marked.`,ki){const rs="<p>An error occurred:</p><pre>"+escape(ts.message+"",!0)+"</pre>";return Ri?Promise.resolve(rs):rs}if(Ri)return Promise.reject(ts);throw ts}};const markedInstance=new Marked;function marked(es,ki){return markedInstance.parse(es,ki)}marked.options=marked.setOptions=function(es){return markedInstance.setOptions(es),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.getDefaults=_getDefaults;marked.defaults=_defaults;marked.use=function(...es){return markedInstance.use(...es),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.walkTokens=function(es,ki){return markedInstance.walkTokens(es,ki)};marked.parseInline=markedInstance.parseInline;marked.Parser=_Parser;marked.parser=_Parser.parse;marked.Renderer=_Renderer;marked.TextRenderer=_TextRenderer;marked.Lexer=_Lexer;marked.lexer=_Lexer.lex;marked.Tokenizer=_Tokenizer;marked.Hooks=_Hooks;marked.parse=marked;marked.options;marked.setOptions;marked.use;marked.walkTokens;marked.parseInline;_Parser.parse;_Lexer.lex;class ComposerController extends Controller{connect(){this._easyMDE=new easymde$1({element:this.markdownEditorTarget,autofocus:!0,placeholder:"Type here...",toolbarTips:!0,hideIcons:["preview","fullscreen","side-by-side"]}),this.previewSectionTarget.innerHTML=marked.parse(this._easyMDE.value()),this._easyMDE.codemirror.on("change",()=>{this.previewSectionTarget.innerHTML=marked.parse(this._easyMDE.value())})}disconnect(){this._easyMDE.cleanup()}}Ho(ComposerController,"targets",["previewSection","markdownEditor"]);class ConnectionFetchingController extends Controller{connect(){new MutationObserver(Ri=>this.domChangeCallback(Ri)).observe(document.querySelector(".code-dom-observer"),{childList:!0,subtree:!0})}domChangeCallback(ki){for(const Ri of ki)Ri.type==="childList"&&(this.showBtn(".code-fetching-complete","#fetching_next_btn"),this.showBtn(".code-fetching-error","#fetching_back_to_connections_btn"))}showBtn(ki,Ri){document.querySelector(ki)&&(document.querySelector(Ri).style.display="block")}}let requiredFieldSelectors$1='[data-required="true"]';class ContractFormValidateController extends Controller{connect(){this.skipValidationValue||(this.requiredFields.length>0&&this.disableSubmitButton(),this.requiredFields.forEach(ki=>{ki.addEventListener("input",this.validateForm.bind(this))}))}validateForm(){let ki=!1;ki=this.validateField(),ki?this.enableSubmitButton():this.disableSubmitButton()}validateField(){let ki=!1;return this.requiredFields.forEach(Ri=>{Ri.name==="order_addendum[additional_cost_in_cents]"&&(ki=parseInt(Ri.value.replace(/[^0-9.]+/g,""))>0),Ri.type==="hidden"&&(ki||(ki=Ri.value>0&&Ri.id==="additional_delivery_in_days"||Ri.value>0&&Ri.id==="additional_revisions"))}),this.requiredFields.forEach(Ri=>{Ri.type==="textarea"&&ki&&(ki=Ri.value.length>0&&Ri.name==="order_addendum[description]")}),ki}disableSubmitButton(){this.submitButton&&(this.submitButton.disabled=!0)}enableSubmitButton(){this.submitButton&&(this.submitButton.disabled=!1)}get requiredFields(){return this.element.querySelectorAll(requiredFieldSelectors$1)}get submitButton(){return document.getElementById("attachment-submit-button")}}Ho(ContractFormValidateController,"values",{validateAll:{type:Boolean,default:!1},skipValidation:{type:Boolean,default:!1}});class ConversationController extends Controller{connect(){this.visitingId(),this.conversationId&&(this.idValue==this.conversationId?(this.removeUnreadMessageCounter(),this.itemTarget.classList.add("active")):this.itemTarget.classList.remove("active"))}visitingId(){let ki=Number(window.location.pathname.split("/").pop());Number.isNaN(ki)&&(this.conversationId=0),this.conversationId=ki}removeUnreadMessageCounter(){let ki=this.itemTarget.getElementsByClassName("badge")[0];ki&&ki.remove()}}Ho(ConversationController,"targets",["item"]),Ho(ConversationController,"values",{id:Number});class CopyToClipboardController extends Controller{connect(){this.hasCopyButtonTarget&&(this.originalContent=this.copyButtonTarget.innerText)}copy(ki){if(ki.preventDefault(),this.hasCopySourceTarget)return navigator.clipboard.writeText(this.copySourceTarget.innerHTML||this.copySourceTarget.value);navigator.clipboard.writeText(this.text).then(()=>this.copied(this.restoreContent))}get restoreContent(){return this.hasCopyButtonTarget?this.copyButtonTarget.dataset.copyToClipboardRestoreHtml?this.copyButtonTarget.innerHTML:this.copyButtonTarget.innerText:null}get text(){return this.hasCopySourceTarget?this.copySourceTarget.innerText||this.copySourceTarget.value:this.hasCopyButtonTarget&&this.copyButtonTarget.dataset.copyToClipboardContent?this.copyButtonTarget.dataset.copyToClipboardContent:""}copy_and_send_message(ki){ki.preventDefault();const Ri=this.copySourceTarget.innerHTML||this.copySourceTarget.value;this.urlValue||post(this.urlValue,{query:{link:Ri}}).ok&&console.log("Message Sent"),navigator.clipboard.writeText(Ri).then(()=>this.copied_and_update_span(this.copyButtonTarget.innerHTML||"Copy"))}copyImageSeed(ki){ki.preventDefault();const Ri=this.copySourceTarget.innerHTML||this.copySourceTarget.value;navigator.clipboard.writeText(Ri)}copied(ki){this.hasCopyButtonTarget&&(this.timeout&&clearTimeout(this.timeout),this.copyButtonTarget.innerHTML=this.data.get("successContent"),this.timeout=setTimeout(()=>{this.copyButtonTarget.innerHTML=ki},this.successDurationValue))}copied_and_update_span(ki){this.hasCopyButtonTarget&&(this.timeout&&clearTimeout(this.timeout),this.copyButtonTarget.getElementsByTagName("span")[0].innerText=this.data.get("successContent"),this.timeout=setTimeout(()=>{this.copyButtonTarget.innerHTML=ki},this.successDurationValue))}}Ho(CopyToClipboardController,"targets",["copyButton","copySource"]),Ho(CopyToClipboardController,"values",{successDuration:{type:Number,default:2e3},url:String});const NAMESPACE="opportunity[cover_image]";class CoverImageStepController extends Controller{connect(){this.onFileAddedSubscription=subscribe("dropzone-addedfile",this.onFileAdded.bind(this)),this.onFileRemovedSubscription=subscribe("dropzone-removedfile",this.onFileRemoved.bind(this))}disconnect(){unsubscribe("dropzone-addedfile",this.onFileAddedSubscription),unsubscribe("dropzone-removedfile",this.onFileRemovedSubscription)}onFileAdded(ki){ki.fileHiddenInputName===NAMESPACE&&this.element.classList.add("cover-image-detected")}onFileRemoved(ki){ki.fileHiddenInputName===NAMESPACE&&this.element.classList.remove("cover-image-detected")}switchToSearch(){this.element.classList.add("display-search-only"),this.element.classList.remove("display-drop-zone-only")}switchToFileUpload(){let ki=document.querySelector("[data-dz-remove]")||document.querySelector("#removeFile");ki&&ki.click()}}class CreateAiVideoController extends Controller{connect(){}updateSpeakerLanguage(){if(this.speakerLanguageTarget.value){const ki=this.speakerLanguageTarget.value,Ri=this.speakerNameTarget.value,ts=this.scriptInputTarget.value;this.hasAudioButtonTarget&&(this.audioButtonTarget.disabled=!0),post("/ai/video/selected_language",{query:{language:ki,script:ts,name:Ri},responseKind:"turbo-stream"})}}updateSpeakerName(){if(this.speakerNameTarget.value){const ki=this.speakerNameTarget.value,Ri=this.speakerLanguageTarget.value,ts=this.scriptInputTarget.value;this.hasAudioButtonTarget&&(this.audioButtonTarget.disabled=!0),post("/ai/video/selected_speaker",{query:{name:ki,language:Ri,script:ts},responseKind:"turbo-stream"})}}updateSpeakerVoicePreviewUrl(){if(this.speakerStyleTarget.value){const ki=this.speakerNameTarget.value,Ri=this.speakerLanguageTarget.value,ts=this.speakerStyleTarget.value,rs=this.scriptInputTarget.value;this.audioButtonTarget.disabled=!0,post("/ai/video/selected_style",{query:{name:ki,language:Ri,style:ts,script:rs},responseKind:"turbo-stream"})}}onScriptInputChange(ki){const Ri=this.hasPortraitSignedIdTarget&&this.portraitSignedIdTarget.value,ts=this.speakerStyleTarget.value,rs=this.speakerNameTarget.value;let is=!1;Ri&&(is=!0);const ns=ki.currentTarget.value,ss=this.speakerLanguageTarget.value;this.hasAudioButtonTarget&&(this.audioButtonTarget.disabled=!0),post("/ai/video/script_input_changed",{query:{value:ns,hasPortrait:is,language:ss,name:rs,style:ts},responseKind:"turbo-stream"})}onPortraitSelected(){const ki=this.hasScriptInputTarget&&this.scriptInputTarget.value,Ri=this.hasAudioSignedIdTarget&&this.audioSignedIdTarget.value;let ts=!1,rs=!1,is=null,ns=null;ki&&ki.length>=1&&(ts=!0,ns=ki),Ri&&(rs=!0,is=Ri),post("/ai/video/portrait_selected",{query:{hasScriptInput:ts,hasAudio:rs,audioSignedId:is,scriptInput:ns},responseKind:"turbo-stream"})}checkPortraitExistence(){const ki=this.hasPortraitSignedIdTarget&&this.portraitSignedIdTarget.value;let Ri=!1;ki&&(Ri=!0),post("/ai/video/check_portrait_existence",{query:{hasPortrait:Ri},responseKind:"turbo-stream"})}}Ho(CreateAiVideoController,"targets",["select","speakerName","speakerLanguage","speakerStyle","portraitSignedId","audioSignedId","scriptInput","audioButton"]);class CreateSelectController extends Controller{constructor(){super(...arguments);Ho(this,"showCreateCountFor",["Custom","Email"]);Ho(this,"showCreateImageSamplerFor",["IZEA Form: Portrait","IZEA Form: Art"]);Ho(this,"showMixersFor",["Felli"])}connect(){this.updateCounter(),this.hasCreateCountTarget&&(this.createCountParent=this.createCountTarget.closest(".create-count"),this.checkCreateLengthForCreateCount(this.selectTarget.value),this.selectTarget.addEventListener("change",(function(Ri){const ts=Ri.target.value;this.checkCreateLengthForCreateCount(ts)}).bind(this))),this.hasCreateImageSamplerTarget&&(this.createImageSamplerParent=this.createImageSamplerTarget.closest(".create-image-sampler"),this.checkCreateImageModelSelection(this.selectTarget.value),this.selectTarget.addEventListener("change",(function(Ri){const ts=Ri.target.value;this.checkCreateImageModelSelection(ts)}).bind(this))),this.hasMixersTarget&&(this.mixersParent=this.mixersTarget.closest(".mixers"),this.showMixersFor.includes(this.selectTarget.value)?this.mixersParent.style="":this.mixersParent.style.display="none",this.selectTarget.addEventListener("change",(function(Ri){const ts=Ri.target.value;this.showMixersFor.includes(ts)?this.mixersParent.style="":this.mixersParent.style.display="none"}).bind(this)))}afterTomSelectInitialization(){this.checkCreateLengthForCreateCount(this.selectTarget.value)}checkCreateLengthForCreateCount(Ri){this.showCreateCountFor.includes(Ri)?this.createCountParent.style="":(this.createCountParent.style.display="none",this.createCountTarget.value="")}checkCreateImageModelSelection(Ri){this.showCreateImageSamplerFor.includes(Ri)?this.createImageSamplerParent.style="":(this.createImageSamplerParent.style.display="none",this.createImageSamplerParent.value="Euler a")}updateGenreSubCategory(){if(this.selectTarget.value){const Ri=this.selectTarget.value;post("/ai/image/genre_sub_category",{query:{genre:Ri},responseKind:"turbo-stream"})}}defaultCameraOptions(){if(this.selectTarget.value){const Ri=this.selectTarget.value,ts=window.location.pathname.split("/").pop(),rs=localStorage.getItem("custom_prompts");post("/ai/image/selected_ai_model",{query:{model:Ri,category:ts,has_custom_prompts:rs},responseKind:"turbo-stream"})}}updateCounter(){const Ri=this.hasMixersTarget||this.hasIntermediateDosageCardsTarget;if(this.hasCounterTarget&&!Ri){let ts=0;this.element.querySelectorAll("select").forEach(rs=>{rs.value&&ts++}),this.counterTarget.innerText=ts>0?`(${ts})`:""}this.dispatch("counter")}flagCustomSelection(){this.hasCounterTarget&&localStorage.setItem("custom_prompts",!0)}selected(Ri){this.element.querySelectorAll(".selected").forEach(ts=>{ts.classList.remove("selected")}),Ri.currentTarget.classList.add("selected")}}Ho(CreateSelectController,"targets",["select","createCount","createSentiment","createImageSampler","createQuantity","mixers","counter","intermediateDosageCards"]);class CreatorMembershipController extends Controller{constructor(){super(...arguments);Ho(this,"currentOption","");Ho(this,"userRanking",null);Ho(this,"selectedRanking",null)}connect(){this.currentOption="yearly",this.planIntervalTarget.setAttribute("value","year"),this.showYearlyPrices(),this.userRanking=parseInt(this.userRankingTarget.getAttribute("value")),this.selectedRanking=parseInt(this.defaultOptionRankingTarget.getAttribute("value")),this.updateAlert()}get checkedOption(){let Ri=this.element.querySelectorAll(".form-check-select-membership"),ts=null;for(const rs of Ri)rs.querySelector('input[name="plan_id"]').checked&&(ts=rs);return ts}toggle(){this.currentOption==="yearly"?(this.currentOption="monthly",this.planIntervalTarget.setAttribute("value","month"),this.showMonthlyPrices()):(this.currentOption="yearly",this.planIntervalTarget.setAttribute("value","year"),this.showYearlyPrices());let Ri=this.checkedOption.dataset.creatorMembershipYearlyPriceParam,ts=this.checkedOption.dataset.creatorMembershipMonthlyPriceParam,rs=this.checkedOption.dataset.creatorMembershipNameParam;console.log(rs,Ri,ts),this.updatePriceOnButton(rs,Ri,ts)}select({params:{name:Ri,ranking:ts,yearlyPrice:rs,monthlyPrice:is}}){this.updatePriceOnButton(Ri,rs,is),ts&&(this.selectedRanking=ts,this.updateAlert())}updatePriceOnButton(Ri,ts,rs){Ri&&(this.submitButtonTarget.innerHTML=`Upgrade to ${Ri}`),ts&&this.currentOption==="yearly"&&(this.submitButtonTarget.innerHTML=this.submitButtonTarget.innerHTML+this.yearlyPriceCopy(ts)),rs&&this.currentOption==="monthly"&&(this.submitButtonTarget.innerHTML=this.submitButtonTarget.innerHTML+this.monthlyPriceCopy(rs))}showYearlyPrices(){this.monthlyPriceTargets.forEach(Ri=>{Ri.setAttribute("hidden",!0)}),this.yearlyPriceTargets.forEach(Ri=>{Ri.removeAttribute("hidden")})}showMonthlyPrices(){this.yearlyPriceTargets.forEach(Ri=>{Ri.setAttribute("hidden",!0)}),this.monthlyPriceTargets.forEach(Ri=>{Ri.removeAttribute("hidden")})}updateAlert(){this.userRanking&&this.selectedRanking&&this.userRanking>this.selectedRanking?this.alertTarget.removeAttribute("hidden"):this.alertTarget.setAttribute("hidden",!0)}monthlyPriceCopy(Ri){return` (${Ri}/mo)`}yearlyPriceCopy(Ri){return` (${Ri}/yr)`}}Ho(CreatorMembershipController,"targets",["planInterval","submitButton","monthlyPrice","yearlyPrice","defaultOptionRanking","userRanking","alert"]);class CreatorRequestsController extends Controller{get castingCallId(){return this.hasCastingCallSelectTarget?this.castingCallSelectTarget.value:null}get brandName(){return this.hasBrandNameTarget?this.brandNameTarget.value:null}get name(){return this.hasNameTarget?this.nameTarget.value:null}get email(){return this.hasEmailTarget?this.emailTarget.value:null}get phoneNumber(){return this.hasPhoneNumberTarget?this.phoneNumberTarget.value:null}get connections(){return this.hasConnectionsTarget?Array.from(this.connectionsTarget.querySelectorAll('input[type="checkbox"]')).filter(Ri=>Ri.checked).map(Ri=>Ri.value):[]}selectedCastingCall(){this.hasCastingCallSelectTarget&&this.hasSelectCcPathValue&&post(this.selectCcPathValue,{body:{user_invite_creator:{opportunity_id:this.castingCallId,name:this.name,email:this.email,phone_number:this.phoneNumber,platforms:this.connections}},responseKind:"turbo-stream"})}selectedCategory(ki){let Ri=ki.currentTarget.dataset.value;this.hasSelectCategoryPathValue&&post(this.selectCategoryPathValue,{body:{category:Ri},responseKind:"turbo-stream"})}}Ho(CreatorRequestsController,"values",{selectCcPath:String,selectCategoryPath:String}),Ho(CreatorRequestsController,"targets",["castingCallSelect","brandName","name","email","phoneNumber","connections"]);class DatatableColumnsController extends Controller{constructor(){super(...arguments);Ho(this,"table",null);Ho(this,"columns",null)}connect(){this.hasDatatableTarget&&(this.setTable(),this.initColumns(),this.table.colReorder.disable(),this.datatableTarget.classList.remove("table-hidden"),this.customizableValue&&(this.setSortable(),this.setSortableListOrder()),this.element.addEventListener("shown.bs.offcanvas",()=>{let Ri=this.element.querySelector(".offcanvas-backdrop");Ri.onclick||(Ri.onclick=()=>this.resetOnDismiss())}))}disconnect(){this.table.clear(),this.table.destroy(),HSCore.components.HSDatatables.destroy(this.tableIdValue),HSCore.components.HSSortable.destroy(this.tableIdValue),this.table=null}initColumns(){this.columns=[];let Ri=this.table.state().ColReorder,ts=this.table.state().columns;Ri.forEach((rs,is)=>{this.columns.push({originalColumnIdx:rs,currentPosition:is,visible:ts[rs].visible})}),this.updateColumns()}setTable(){HSCore.components.HSDatatables.init(this.datatableTarget,{colReorder:!0}),this.table=HSCore.components.HSDatatables.getItem(this.tableIdValue)}setSortable(){HSCore.components.HSSortable.init(`.js-sortable#${this.tableIdValue}`)}setSortableListOrder(){if(!this.customizableValue)return;let Ri=findElement$1(`.js-sortable#${this.tableIdValue}`),ts=this.table.state().ColReorder,rs=this.table.state().columns,is=Array(Ri.children.length),ns=[...Ri.children].map(ss=>Number(ss.dataset.columnIndex));ts.filter(ss=>ns.includes(ss)).forEach((ss,os)=>{let ls=[...Ri.children].find(cs=>Number(cs.dataset.columnIndex)===ss);ls.querySelector('input[type="checkbox"]').checked=rs[ss].visible,is[os]=ls}),Ri.replaceChildren(...is)}updateColumns(){let Ri=Array(this.columns.length);this.columns.forEach(rs=>{Ri[rs.currentPosition]=rs.originalColumnIdx}),$(this.datatableTarget).dataTable().api().colReorder.order(Ri,!0),this.columns.forEach(rs=>{this.table.column(rs.currentPosition,{order:"applied"}).visible(rs.visible)})}droppedLi(Ri){let ts=Ri.currentTarget,is=[...findElement$1(`.js-sortable#${this.tableIdValue}`).children];if(is.filter(ss=>ss.querySelector(".not-sortable")).map(ss=>Number(ss.dataset.listIndex)).includes(is.findIndex(ss=>ss==ts))){this.resetOnDismiss();return}is.forEach((ss,os)=>{let ls=ss.getAttribute("data-column-index"),cs=this.columns.find(({originalColumnIdx:hs})=>hs.toString()===ls);cs.currentPosition=os+(this.columns.length-is.length)})}setVisibility(Ri){let ts=Ri.target,rs=ts.closest("li"),is=this.columns.find(ns=>ns.originalColumnIdx===Number(rs.getAttribute("data-column-index")));is.visible=ts.checked}resetOnDismiss(){this.initColumns(),this.setSortableListOrder()}reset(){this.columns.forEach(Ri=>{Ri.currentPosition=Ri.originalColumnIdx,Ri.visible=!0}),this.updateColumns(),this.setSortableListOrder()}save(){this.updateColumns()}}Ho(DatatableColumnsController,"targets",["datatable"]),Ho(DatatableColumnsController,"values",{tableId:String,customizable:Boolean});class DatatableExportController extends Controller{onClick(ki){let Ri=filtersFromParams(),ts=dateFromFlatpickr(this.flatpickrControllerInstance),rs=ki.currentTarget;post(rs.dataset.exportPath,{body:{filters:Ri,date:ts},responseKind:"turbo-stream"})}get flatpickrControllerInstance(){let ki=document.querySelector('[data-controller="flatpickr"]',"flatpickr");return ki?this.application.getControllerForElementAndIdentifier(ki,"flatpickr"):null}}class DetectAiPromptLimitExceededController extends Controller{connect(){this.showHideAlert()}showHideAlert(){if(this.hasLimitTarget){let ki=0;this.element.querySelectorAll("select").forEach(Ri=>{Ri.value&&ki++}),ki>5?this.limitTarget.classList.remove("d-none"):this.limitTarget.classList.add("d-none")}}}Ho(DetectAiPromptLimitExceededController,"targets",["limit"]);class DismissOffcanvasOnTurboRenderController extends Controller{connect(){let ki=new Offcanvas(this.element);this.element.addEventListener("turbo:before-stream-render",Ri=>{Ri.target.target!=="mixers_flyout_container"&&ki.hide()}),this.element.addEventListener("click",Ri=>{var ts,rs,is;(((ts=Ri==null?void 0:Ri.delegateTarget)==null?void 0:ts.id)=="shared_mixer_no_plan_btn"||((is=(rs=Ri==null?void 0:Ri.target)==null?void 0:rs.dataset)==null?void 0:is.aiAudioTarget)=="selectedVoice")&&ki.hide()})}}var html2pdf={exports:{}};const scriptRel="modulepreload",assetsURL=function(es){return"/vite/"+es},seen={},__vitePreload=function(ki,Ri,ts){let rs=Promise.resolve();if(Ri&&Ri.length>0){document.getElementsByTagName("link");const ns=document.querySelector("meta[property=csp-nonce]"),ss=(ns==null?void 0:ns.nonce)||(ns==null?void 0:ns.getAttribute("nonce"));rs=Promise.allSettled(Ri.map(os=>{if(os=assetsURL(os),os in seen)return;seen[os]=!0;const ls=os.endsWith(".css"),cs=ls?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${os}"]${cs}`))return;const hs=document.createElement("link");if(hs.rel=ls?"stylesheet":scriptRel,ls||(hs.as="script"),hs.crossOrigin="",hs.href=os,ss&&hs.setAttribute("nonce",ss),document.head.appendChild(hs),ls)return new Promise((us,As)=>{hs.addEventListener("load",us),hs.addEventListener("error",()=>As(new Error(`Unable to preload CSS for ${os}`)))})}))}function is(ns){const ss=new Event("vite:preloadError",{cancelable:!0});if(ss.payload=ns,window.dispatchEvent(ss),!ss.defaultPrevented)throw ns}return rs.then(ns=>{for(const ss of ns||[])ss.status==="rejected"&&is(ss.reason);return ki().catch(is)})};function _typeof(es){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ki){return typeof ki}:function(ki){return ki&&typeof Symbol=="function"&&ki.constructor===Symbol&&ki!==Symbol.prototype?"symbol":typeof ki},_typeof(es)}var u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(es,ki){for(var Ri=new u16(31),ts=0;ts<31;++ts)Ri[ts]=ki+=1<<es[ts-1];for(var rs=new i32(Ri[30]),ts=1;ts<30;++ts)for(var is=Ri[ts];is<Ri[ts+1];++is)rs[is]=is-Ri[ts]<<5|ts;return{b:Ri,r:rs}},_a=freb(fleb,2),fl=_a.b,revfl=_a.r;fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b.b,revfd=_b.r,rev=new u16(32768);for(var i$2=0;i$2<32768;++i$2){var x$3=(i$2&43690)>>1|(i$2&21845)<<1;x$3=(x$3&52428)>>2|(x$3&13107)<<2,x$3=(x$3&61680)>>4|(x$3&3855)<<4,rev[i$2]=((x$3&65280)>>8|(x$3&255)<<8)>>1}var hMap=function(es,ki,Ri){for(var ts=es.length,rs=0,is=new u16(ki);rs<ts;++rs)es[rs]&&++is[es[rs]-1];var ns=new u16(ki);for(rs=1;rs<ki;++rs)ns[rs]=ns[rs-1]+is[rs-1]<<1;var ss;if(Ri){ss=new u16(1<<ki);var os=15-ki;for(rs=0;rs<ts;++rs)if(es[rs])for(var ls=rs<<4|es[rs],cs=ki-es[rs],hs=ns[es[rs]-1]++<<cs,us=hs|(1<<cs)-1;hs<=us;++hs)ss[rev[hs]>>os]=ls}else for(ss=new u16(ts),rs=0;rs<ts;++rs)es[rs]&&(ss[rs]=rev[ns[es[rs]-1]++]>>15-es[rs]);return ss},flt=new u8(288);for(var i$2=0;i$2<144;++i$2)flt[i$2]=8;for(var i$2=144;i$2<256;++i$2)flt[i$2]=9;for(var i$2=256;i$2<280;++i$2)flt[i$2]=7;for(var i$2=280;i$2<288;++i$2)flt[i$2]=8;var fdt=new u8(32);for(var i$2=0;i$2<32;++i$2)fdt[i$2]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(es){for(var ki=es[0],Ri=1;Ri<es.length;++Ri)es[Ri]>ki&&(ki=es[Ri]);return ki},bits=function(es,ki,Ri){var ts=ki/8|0;return(es[ts]|es[ts+1]<<8)>>(ki&7)&Ri},bits16=function(es,ki){var Ri=ki/8|0;return(es[Ri]|es[Ri+1]<<8|es[Ri+2]<<16)>>(ki&7)},shft=function(es){return(es+7)/8|0},slc=function(es,ki,Ri){return(Ri==null||Ri>es.length)&&(Ri=es.length),new u8(es.subarray(ki,Ri))},ec=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],err=function(es,ki,Ri){var ts=new Error(ki||ec[es]);if(ts.code=es,Error.captureStackTrace&&Error.captureStackTrace(ts,err),!Ri)throw ts;return ts},inflt=function(es,ki,Ri,ts){var rs=es.length,is=0;if(!rs||ki.f&&!ki.l)return Ri||new u8(0);var ns=!Ri,ss=ns||ki.i!=2,os=ki.i;ns&&(Ri=new u8(rs*3));var ls=function(So){var ro=Ri.length;if(So>ro){var vo=new u8(Math.max(ro*2,So));vo.set(Ri),Ri=vo}},cs=ki.f||0,hs=ki.p||0,us=ki.b||0,As=ki.l,bs=ki.d,ys=ki.m,Cs=ki.n,ps=rs*8;do{if(!As){cs=bits(es,hs,1);var ms=bits(es,hs+1,3);if(hs+=3,ms)if(ms==1)As=flrm,bs=fdrm,ys=9,Cs=5;else if(ms==2){var Ts=bits(es,hs,31)+257,$s=bits(es,hs+10,15)+4,Rs=Ts+bits(es,hs+5,31)+1;hs+=14;for(var Ps=new u8(Rs),Qs=new u8(19),Fs=0;Fs<$s;++Fs)Qs[clim[Fs]]=bits(es,hs+Fs*3,7);hs+=$s*3;for(var Is=max(Qs),Ms=(1<<Is)-1,Ws=hMap(Qs,Is,1),Fs=0;Fs<Rs;){var Ds=Ws[bits(es,hs,Ms)];hs+=Ds&15;var fs=Ds>>4;if(fs<16)Ps[Fs++]=fs;else{var _s=0,Ns=0;for(fs==16?(Ns=3+bits(es,hs,3),hs+=2,_s=Ps[Fs-1]):fs==17?(Ns=3+bits(es,hs,7),hs+=3):fs==18&&(Ns=11+bits(es,hs,127),hs+=7);Ns--;)Ps[Fs++]=_s}}var Ss=Ps.subarray(0,Ts),Us=Ps.subarray(Ts);ys=max(Ss),Cs=max(Us),As=hMap(Ss,ys,1),bs=hMap(Us,Cs,1)}else err(1);else{var fs=shft(hs)+4,gs=es[fs-4]|es[fs-3]<<8,ws=fs+gs;if(ws>rs){os&&err(0);break}ss&&ls(us+gs),Ri.set(es.subarray(fs,ws),us),ki.b=us+=gs,ki.p=hs=ws*8,ki.f=cs;continue}if(hs>ps){os&&err(0);break}}ss&&ls(us+131072);for(var Zs=(1<<ys)-1,ao=(1<<Cs)-1,js=hs;;js=hs){var _s=As[bits16(es,hs)&Zs],Bs=_s>>4;if(hs+=_s&15,hs>ps){os&&err(0);break}if(_s||err(2),Bs<256)Ri[us++]=Bs;else if(Bs==256){js=hs,As=null;break}else{var zs=Bs-254;if(Bs>264){var Fs=Bs-257,so=fleb[Fs];zs=bits(es,hs,(1<<so)-1)+fl[Fs],hs+=so}var oo=bs[bits16(es,hs)&ao],Ao=oo>>4;oo||err(3),hs+=oo&15;var Us=fd[Ao];if(Ao>3){var so=fdeb[Ao];Us+=bits16(es,hs)&(1<<so)-1,hs+=so}if(hs>ps){os&&err(0);break}ss&&ls(us+131072);var Xs=us+zs;if(us<Us){var lo=is-Us,co=Math.min(Us,Xs);for(lo+us<0&&err(3);us<co;++us)Ri[us]=ts[lo+us]}for(;us<Xs;++us)Ri[us]=Ri[us-Us]}}ki.l=As,ki.p=js,ki.b=us,ki.f=cs,As&&(cs=1,ki.m=ys,ki.d=bs,ki.n=Cs)}while(!cs);return us!=Ri.length&&ns?slc(Ri,0,us):Ri.subarray(0,us)},wbits=function(es,ki,Ri){Ri<<=ki&7;var ts=ki/8|0;es[ts]|=Ri,es[ts+1]|=Ri>>8},wbits16=function(es,ki,Ri){Ri<<=ki&7;var ts=ki/8|0;es[ts]|=Ri,es[ts+1]|=Ri>>8,es[ts+2]|=Ri>>16},hTree=function(es,ki){for(var Ri=[],ts=0;ts<es.length;++ts)es[ts]&&Ri.push({s:ts,f:es[ts]});var rs=Ri.length,is=Ri.slice();if(!rs)return{t:et$2,l:0};if(rs==1){var ns=new u8(Ri[0].s+1);return ns[Ri[0].s]=1,{t:ns,l:1}}Ri.sort(function(ws,Ts){return ws.f-Ts.f}),Ri.push({s:-1,f:25001});var ss=Ri[0],os=Ri[1],ls=0,cs=1,hs=2;for(Ri[0]={s:-1,f:ss.f+os.f,l:ss,r:os};cs!=rs-1;)ss=Ri[Ri[ls].f<Ri[hs].f?ls++:hs++],os=Ri[ls!=cs&&Ri[ls].f<Ri[hs].f?ls++:hs++],Ri[cs++]={s:-1,f:ss.f+os.f,l:ss,r:os};for(var us=is[0].s,ts=1;ts<rs;++ts)is[ts].s>us&&(us=is[ts].s);var As=new u16(us+1),bs=ln$1(Ri[cs-1],As,0);if(bs>ki){var ts=0,ys=0,Cs=bs-ki,ps=1<<Cs;for(is.sort(function(Ts,$s){return As[$s.s]-As[Ts.s]||Ts.f-$s.f});ts<rs;++ts){var ms=is[ts].s;if(As[ms]>ki)ys+=ps-(1<<bs-As[ms]),As[ms]=ki;else break}for(ys>>=Cs;ys>0;){var fs=is[ts].s;As[fs]<ki?ys-=1<<ki-As[fs]++-1:++ts}for(;ts>=0&&ys;--ts){var gs=is[ts].s;As[gs]==ki&&(--As[gs],++ys)}bs=ki}return{t:new u8(As),l:bs}},ln$1=function(es,ki,Ri){return es.s==-1?Math.max(ln$1(es.l,ki,Ri+1),ln$1(es.r,ki,Ri+1)):ki[es.s]=Ri},lc=function(es){for(var ki=es.length;ki&&!es[--ki];);for(var Ri=new u16(++ki),ts=0,rs=es[0],is=1,ns=function(os){Ri[ts++]=os},ss=1;ss<=ki;++ss)if(es[ss]==rs&&ss!=ki)++is;else{if(!rs&&is>2){for(;is>138;is-=138)ns(32754);is>2&&(ns(is>10?is-11<<5|28690:is-3<<5|12305),is=0)}else if(is>3){for(ns(rs),--is;is>6;is-=6)ns(8304);is>2&&(ns(is-3<<5|8208),is=0)}for(;is--;)ns(rs);is=1,rs=es[ss]}return{c:Ri.subarray(0,ts),n:ki}},clen=function(es,ki){for(var Ri=0,ts=0;ts<ki.length;++ts)Ri+=es[ts]*ki[ts];return Ri},wfblk=function(es,ki,Ri){var ts=Ri.length,rs=shft(ki+2);es[rs]=ts&255,es[rs+1]=ts>>8,es[rs+2]=es[rs]^255,es[rs+3]=es[rs+1]^255;for(var is=0;is<ts;++is)es[rs+is+4]=Ri[is];return(rs+4+ts)*8},wblk=function(es,ki,Ri,ts,rs,is,ns,ss,os,ls,cs){wbits(ki,cs++,Ri),++rs[256];for(var hs=hTree(rs,15),us=hs.t,As=hs.l,bs=hTree(is,15),ys=bs.t,Cs=bs.l,ps=lc(us),ms=ps.c,fs=ps.n,gs=lc(ys),ws=gs.c,Ts=gs.n,$s=new u16(19),Rs=0;Rs<ms.length;++Rs)++$s[ms[Rs]&31];for(var Rs=0;Rs<ws.length;++Rs)++$s[ws[Rs]&31];for(var Ps=hTree($s,7),Qs=Ps.t,Fs=Ps.l,Is=19;Is>4&&!Qs[clim[Is-1]];--Is);var Ms=ls+5<<3,Ws=clen(rs,flt)+clen(is,fdt)+ns,Ds=clen(rs,us)+clen(is,ys)+ns+14+3*Is+clen($s,Qs)+2*$s[16]+3*$s[17]+7*$s[18];if(os>=0&&Ms<=Ws&&Ms<=Ds)return wfblk(ki,cs,es.subarray(os,os+ls));var _s,Ns,Ss,Us;if(wbits(ki,cs,1+(Ds<Ws)),cs+=2,Ds<Ws){_s=hMap(us,As,0),Ns=us,Ss=hMap(ys,Cs,0),Us=ys;var Zs=hMap(Qs,Fs,0);wbits(ki,cs,fs-257),wbits(ki,cs+5,Ts-1),wbits(ki,cs+10,Is-4),cs+=14;for(var Rs=0;Rs<Is;++Rs)wbits(ki,cs+3*Rs,Qs[clim[Rs]]);cs+=3*Is;for(var ao=[ms,ws],js=0;js<2;++js)for(var Bs=ao[js],Rs=0;Rs<Bs.length;++Rs){var zs=Bs[Rs]&31;wbits(ki,cs,Zs[zs]),cs+=Qs[zs],zs>15&&(wbits(ki,cs,Bs[Rs]>>5&127),cs+=Bs[Rs]>>12)}}else _s=flm,Ns=flt,Ss=fdm,Us=fdt;for(var Rs=0;Rs<ss;++Rs){var so=ts[Rs];if(so>255){var zs=so>>18&31;wbits16(ki,cs,_s[zs+257]),cs+=Ns[zs+257],zs>7&&(wbits(ki,cs,so>>23&31),cs+=fleb[zs]);var oo=so&31;wbits16(ki,cs,Ss[oo]),cs+=Us[oo],oo>3&&(wbits16(ki,cs,so>>5&8191),cs+=fdeb[oo])}else wbits16(ki,cs,_s[so]),cs+=Ns[so]}return wbits16(ki,cs,_s[256]),cs+Ns[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$2=new u8(0),dflt=function(es,ki,Ri,ts,rs,is){var ns=is.z||es.length,ss=new u8(ts+ns+5*(1+Math.ceil(ns/7e3))+rs),os=ss.subarray(ts,ss.length-rs),ls=is.l,cs=(is.r||0)&7;if(ki){cs&&(os[0]=is.r>>3);for(var hs=deo[ki-1],us=hs>>13,As=hs&8191,bs=(1<<Ri)-1,ys=is.p||new u16(32768),Cs=is.h||new u16(bs+1),ps=Math.ceil(Ri/3),ms=2*ps,fs=function(Eo){return(es[Eo]^es[Eo+1]<<ps^es[Eo+2]<<ms)&bs},gs=new i32(25e3),ws=new u16(288),Ts=new u16(32),$s=0,Rs=0,Ps=is.i||0,Qs=0,Fs=is.w||0,Is=0;Ps+2<ns;++Ps){var Ms=fs(Ps),Ws=Ps&32767,Ds=Cs[Ms];if(ys[Ws]=Ds,Cs[Ms]=Ws,Fs<=Ps){var _s=ns-Ps;if(($s>7e3||Qs>24576)&&(_s>423||!ls)){cs=wblk(es,os,0,gs,ws,Ts,Rs,Qs,Is,Ps-Is,cs),Qs=$s=Rs=0,Is=Ps;for(var Ns=0;Ns<286;++Ns)ws[Ns]=0;for(var Ns=0;Ns<30;++Ns)Ts[Ns]=0}var Ss=2,Us=0,Zs=As,ao=Ws-Ds&32767;if(_s>2&&Ms==fs(Ps-ao))for(var js=Math.min(us,_s)-1,Bs=Math.min(32767,Ps),zs=Math.min(258,_s);ao<=Bs&&--Zs&&Ws!=Ds;){if(es[Ps+Ss]==es[Ps+Ss-ao]){for(var so=0;so<zs&&es[Ps+so]==es[Ps+so-ao];++so);if(so>Ss){if(Ss=so,Us=ao,so>js)break;for(var oo=Math.min(ao,so-2),Ao=0,Ns=0;Ns<oo;++Ns){var Xs=Ps-ao+Ns&32767,lo=ys[Xs],co=Xs-lo&32767;co>Ao&&(Ao=co,Ds=Xs)}}}Ws=Ds,Ds=ys[Ws],ao+=Ws-Ds&32767}if(Us){gs[Qs++]=268435456|revfl[Ss]<<18|revfd[Us];var So=revfl[Ss]&31,ro=revfd[Us]&31;Rs+=fleb[So]+fdeb[ro],++ws[257+So],++Ts[ro],Fs=Ps+Ss,++$s}else gs[Qs++]=es[Ps],++ws[es[Ps]]}}for(Ps=Math.max(Ps,Fs);Ps<ns;++Ps)gs[Qs++]=es[Ps],++ws[es[Ps]];cs=wblk(es,os,ls,gs,ws,Ts,Rs,Qs,Is,Ps-Is,cs),ls||(is.r=cs&7|os[cs/8|0]<<3,cs-=7,is.h=Cs,is.p=ys,is.i=Ps,is.w=Fs)}else{for(var Ps=is.w||0;Ps<ns+ls;Ps+=65535){var vo=Ps+65535;vo>=ns&&(os[cs/8|0]=ls,vo=ns),cs=wfblk(os,cs+1,es.subarray(Ps,vo))}is.i=ns}return slc(ss,0,ts+shft(cs)+rs)},adler=function(){var es=1,ki=0;return{p:function(Ri){for(var ts=es,rs=ki,is=Ri.length|0,ns=0;ns!=is;){for(var ss=Math.min(ns+2655,is);ns<ss;++ns)rs+=ts+=Ri[ns];ts=(ts&65535)+15*(ts>>16),rs=(rs&65535)+15*(rs>>16)}es=ts,ki=rs},d:function(){return es%=65521,ki%=65521,(es&255)<<24|(es&65280)<<8|(ki&255)<<8|ki>>8}}},dopt=function(es,ki,Ri,ts,rs){if(!rs&&(rs={l:1},ki.dictionary)){var is=ki.dictionary.subarray(-32768),ns=new u8(is.length+es.length);ns.set(is),ns.set(es,is.length),es=ns,rs.w=is.length}return dflt(es,ki.level==null?6:ki.level,ki.mem==null?rs.l?Math.ceil(Math.max(8,Math.min(13,Math.log(es.length)))*1.5):20:12+ki.mem,Ri,ts,rs)},wbytes=function(es,ki,Ri){for(;Ri;++ki)es[ki]=Ri,Ri>>>=8},zlh=function(es,ki){var Ri=ki.level,ts=Ri==0?0:Ri<6?1:Ri==9?3:2;if(es[0]=120,es[1]=ts<<6|(ki.dictionary&&32),es[1]|=31-(es[0]<<8|es[1])%31,ki.dictionary){var rs=adler();rs.p(ki.dictionary),wbytes(es,2,rs.d())}},zls=function(es,ki){return((es[0]&15)!=8||es[0]>>4>7||(es[0]<<8|es[1])%31)&&err(6,"invalid zlib data"),(es[1]>>5&1)==+!ki&&err(6,"invalid zlib data: "+(es[1]&32?"need":"unexpected")+" dictionary"),(es[1]>>3&4)+2};function zlibSync(es,ki){ki||(ki={});var Ri=adler();Ri.p(es);var ts=dopt(es,ki,ki.dictionary?6:2,4);return zlh(ts,ki),wbytes(ts,ts.length-4,Ri.d()),ts}function unzlibSync(es,ki){return inflt(es.subarray(zls(es,ki),-4),{i:2},ki,ki)}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et$2,{stream:!0}),tds=1}catch{}var n$1=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i$1(){n$1.console&&typeof n$1.console.log=="function"&&n$1.console.log.apply(n$1.console,arguments)}var a$1={log:i$1,warn:function(es){n$1.console&&(typeof n$1.console.warn=="function"?n$1.console.warn.apply(n$1.console,arguments):i$1.call(null,arguments))},error:function(es){n$1.console&&(typeof n$1.console.error=="function"?n$1.console.error.apply(n$1.console,arguments):i$1(es))}};function o$1(es,ki,Ri){var ts=new XMLHttpRequest;ts.open("GET",es),ts.responseType="blob",ts.onload=function(){l$1(ts.response,ki,Ri)},ts.onerror=function(){a$1.error("could not download file")},ts.send()}function s$1(es){var ki=new XMLHttpRequest;ki.open("HEAD",es,!1);try{ki.send()}catch{}return ki.status>=200&&ki.status<=299}function c$2(es){try{es.dispatchEvent(new MouseEvent("click"))}catch{var ki=document.createEvent("MouseEvents");ki.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),es.dispatchEvent(ki)}}var u$2,h$1,l$1=n$1.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n$1?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(es,ki,Ri){var ts=n$1.URL||n$1.webkitURL,rs=document.createElement("a");ki=ki||es.name||"download",rs.download=ki,rs.rel="noopener",typeof es=="string"?(rs.href=es,rs.origin!==location.origin?s$1(rs.href)?o$1(es,ki,Ri):c$2(rs,rs.target="_blank"):c$2(rs)):(rs.href=ts.createObjectURL(es),setTimeout(function(){ts.revokeObjectURL(rs.href)},4e4),setTimeout(function(){c$2(rs)},0))}:"msSaveOrOpenBlob"in navigator?function(es,ki,Ri){if(ki=ki||es.name||"download",typeof es=="string")if(s$1(es))o$1(es,ki,Ri);else{var ts=document.createElement("a");ts.href=es,ts.target="_blank",setTimeout(function(){c$2(ts)})}else navigator.msSaveOrOpenBlob(function(rs,is){return is===void 0?is={autoBom:!1}:_typeof(is)!=="object"&&(a$1.warn("Deprecated: Expected third argument to be a object"),is={autoBom:!is}),is.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(rs.type)?new Blob(["\uFEFF",rs],{type:rs.type}):rs}(es,Ri),ki)}:function(es,ki,Ri,ts){if((ts=ts||open("","_blank"))&&(ts.document.title=ts.document.body.innerText="downloading..."),typeof es=="string")return o$1(es,ki,Ri);var rs=es.type==="application/octet-stream",is=/constructor/i.test(n$1.HTMLElement)||n$1.safari,ns=/CriOS\/[\d]+/.test(navigator.userAgent);if((ns||rs&&is)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var ss=new FileReader;ss.onloadend=function(){var cs=ss.result;cs=ns?cs:cs.replace(/^data:[^;]*;/,"data:attachment/file;"),ts?ts.location.href=cs:location=cs,ts=null},ss.readAsDataURL(es)}else{var os=n$1.URL||n$1.webkitURL,ls=os.createObjectURL(es);ts?ts.location=ls:location.href=ls,ts=null,setTimeout(function(){os.revokeObjectURL(ls)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f$2(es){var ki;es=es||"",this.ok=!1,es.charAt(0)=="#"&&(es=es.substr(1,6)),es={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[es=(es=es.replace(/ /g,"")).toLowerCase()]||es;for(var Ri=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(ss){return[parseInt(ss[1]),parseInt(ss[2]),parseInt(ss[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(ss){return[parseInt(ss[1],16),parseInt(ss[2],16),parseInt(ss[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(ss){return[parseInt(ss[1]+ss[1],16),parseInt(ss[2]+ss[2],16),parseInt(ss[3]+ss[3],16)]}}],ts=0;ts<Ri.length;ts++){var rs=Ri[ts].re,is=Ri[ts].process,ns=rs.exec(es);ns&&(ki=is(ns),this.r=ki[0],this.g=ki[1],this.b=ki[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var ss=this.r.toString(16),os=this.g.toString(16),ls=this.b.toString(16);return ss.length==1&&(ss="0"+ss),os.length==1&&(os="0"+os),ls.length==1&&(ls="0"+ls),"#"+ss+os+ls}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d$3(es,ki){var Ri=es[0],ts=es[1],rs=es[2],is=es[3];Ri=g$2(Ri,ts,rs,is,ki[0],7,-680876936),is=g$2(is,Ri,ts,rs,ki[1],12,-389564586),rs=g$2(rs,is,Ri,ts,ki[2],17,606105819),ts=g$2(ts,rs,is,Ri,ki[3],22,-1044525330),Ri=g$2(Ri,ts,rs,is,ki[4],7,-176418897),is=g$2(is,Ri,ts,rs,ki[5],12,1200080426),rs=g$2(rs,is,Ri,ts,ki[6],17,-1473231341),ts=g$2(ts,rs,is,Ri,ki[7],22,-45705983),Ri=g$2(Ri,ts,rs,is,ki[8],7,1770035416),is=g$2(is,Ri,ts,rs,ki[9],12,-1958414417),rs=g$2(rs,is,Ri,ts,ki[10],17,-42063),ts=g$2(ts,rs,is,Ri,ki[11],22,-1990404162),Ri=g$2(Ri,ts,rs,is,ki[12],7,1804603682),is=g$2(is,Ri,ts,rs,ki[13],12,-40341101),rs=g$2(rs,is,Ri,ts,ki[14],17,-1502002290),Ri=m$1(Ri,ts=g$2(ts,rs,is,Ri,ki[15],22,1236535329),rs,is,ki[1],5,-165796510),is=m$1(is,Ri,ts,rs,ki[6],9,-1069501632),rs=m$1(rs,is,Ri,ts,ki[11],14,643717713),ts=m$1(ts,rs,is,Ri,ki[0],20,-373897302),Ri=m$1(Ri,ts,rs,is,ki[5],5,-701558691),is=m$1(is,Ri,ts,rs,ki[10],9,38016083),rs=m$1(rs,is,Ri,ts,ki[15],14,-660478335),ts=m$1(ts,rs,is,Ri,ki[4],20,-405537848),Ri=m$1(Ri,ts,rs,is,ki[9],5,568446438),is=m$1(is,Ri,ts,rs,ki[14],9,-1019803690),rs=m$1(rs,is,Ri,ts,ki[3],14,-187363961),ts=m$1(ts,rs,is,Ri,ki[8],20,1163531501),Ri=m$1(Ri,ts,rs,is,ki[13],5,-1444681467),is=m$1(is,Ri,ts,rs,ki[2],9,-51403784),rs=m$1(rs,is,Ri,ts,ki[7],14,1735328473),Ri=v$2(Ri,ts=m$1(ts,rs,is,Ri,ki[12],20,-1926607734),rs,is,ki[5],4,-378558),is=v$2(is,Ri,ts,rs,ki[8],11,-2022574463),rs=v$2(rs,is,Ri,ts,ki[11],16,1839030562),ts=v$2(ts,rs,is,Ri,ki[14],23,-35309556),Ri=v$2(Ri,ts,rs,is,ki[1],4,-1530992060),is=v$2(is,Ri,ts,rs,ki[4],11,1272893353),rs=v$2(rs,is,Ri,ts,ki[7],16,-155497632),ts=v$2(ts,rs,is,Ri,ki[10],23,-1094730640),Ri=v$2(Ri,ts,rs,is,ki[13],4,681279174),is=v$2(is,Ri,ts,rs,ki[0],11,-358537222),rs=v$2(rs,is,Ri,ts,ki[3],16,-722521979),ts=v$2(ts,rs,is,Ri,ki[6],23,76029189),Ri=v$2(Ri,ts,rs,is,ki[9],4,-640364487),is=v$2(is,Ri,ts,rs,ki[12],11,-421815835),rs=v$2(rs,is,Ri,ts,ki[15],16,530742520),Ri=b$2(Ri,ts=v$2(ts,rs,is,Ri,ki[2],23,-995338651),rs,is,ki[0],6,-198630844),is=b$2(is,Ri,ts,rs,ki[7],10,1126891415),rs=b$2(rs,is,Ri,ts,ki[14],15,-1416354905),ts=b$2(ts,rs,is,Ri,ki[5],21,-57434055),Ri=b$2(Ri,ts,rs,is,ki[12],6,1700485571),is=b$2(is,Ri,ts,rs,ki[3],10,-1894986606),rs=b$2(rs,is,Ri,ts,ki[10],15,-1051523),ts=b$2(ts,rs,is,Ri,ki[1],21,-2054922799),Ri=b$2(Ri,ts,rs,is,ki[8],6,1873313359),is=b$2(is,Ri,ts,rs,ki[15],10,-30611744),rs=b$2(rs,is,Ri,ts,ki[6],15,-1560198380),ts=b$2(ts,rs,is,Ri,ki[13],21,1309151649),Ri=b$2(Ri,ts,rs,is,ki[4],6,-145523070),is=b$2(is,Ri,ts,rs,ki[11],10,-1120210379),rs=b$2(rs,is,Ri,ts,ki[2],15,718787259),ts=b$2(ts,rs,is,Ri,ki[9],21,-343485551),es[0]=_$2(Ri,es[0]),es[1]=_$2(ts,es[1]),es[2]=_$2(rs,es[2]),es[3]=_$2(is,es[3])}function p$1(es,ki,Ri,ts,rs,is){return ki=_$2(_$2(ki,es),_$2(ts,is)),_$2(ki<<rs|ki>>>32-rs,Ri)}function g$2(es,ki,Ri,ts,rs,is,ns){return p$1(ki&Ri|~ki&ts,es,ki,rs,is,ns)}function m$1(es,ki,Ri,ts,rs,is,ns){return p$1(ki&ts|Ri&~ts,es,ki,rs,is,ns)}function v$2(es,ki,Ri,ts,rs,is,ns){return p$1(ki^Ri^ts,es,ki,rs,is,ns)}function b$2(es,ki,Ri,ts,rs,is,ns){return p$1(Ri^(ki|~ts),es,ki,rs,is,ns)}function y$2(es){var ki,Ri=es.length,ts=[1732584193,-271733879,-1732584194,271733878];for(ki=64;ki<=es.length;ki+=64)d$3(ts,w$1(es.substring(ki-64,ki)));es=es.substring(ki-64);var rs=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(ki=0;ki<es.length;ki++)rs[ki>>2]|=es.charCodeAt(ki)<<(ki%4<<3);if(rs[ki>>2]|=128<<(ki%4<<3),ki>55)for(d$3(ts,rs),ki=0;ki<16;ki++)rs[ki]=0;return rs[14]=8*Ri,d$3(ts,rs),ts}function w$1(es){var ki,Ri=[];for(ki=0;ki<64;ki+=4)Ri[ki>>2]=es.charCodeAt(ki)+(es.charCodeAt(ki+1)<<8)+(es.charCodeAt(ki+2)<<16)+(es.charCodeAt(ki+3)<<24);return Ri}u$2=n$1.atob.bind(n$1),h$1=n$1.btoa.bind(n$1);var N$1="0123456789abcdef".split("");function L$1(es){for(var ki="",Ri=0;Ri<4;Ri++)ki+=N$1[es>>8*Ri+4&15]+N$1[es>>8*Ri&15];return ki}function A$1(es){return String.fromCharCode((255&es)>>0,(65280&es)>>8,(16711680&es)>>16,(4278190080&es)>>24)}function x$2(es){return y$2(es).map(A$1).join("")}var S$1=function(es){for(var ki=0;ki<es.length;ki++)es[ki]=L$1(es[ki]);return es.join("")}(y$2("hello"))!="5d41402abc4b2a76b9719d911017c592";function _$2(es,ki){if(S$1){var Ri=(65535&es)+(65535&ki);return(es>>16)+(ki>>16)+(Ri>>16)<<16|65535&Ri}return es+ki&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P$2(es,ki){var Ri,ts,rs,is;if(es!==Ri){for(var ns=(rs=es,is=1+(256/es.length>>0),new Array(is+1).join(rs)),ss=[],os=0;os<256;os++)ss[os]=os;var ls=0;for(os=0;os<256;os++){var cs=ss[os];ls=(ls+cs+ns.charCodeAt(os))%256,ss[os]=ss[ls],ss[ls]=cs}Ri=es,ts=ss}else ss=ts;var hs=ki.length,us=0,As=0,bs="";for(os=0;os<hs;os++)As=(As+(cs=ss[us=(us+1)%256]))%256,ss[us]=ss[As],ss[As]=cs,ns=ss[(ss[us]+ss[As])%256],bs+=String.fromCharCode(ki.charCodeAt(os)^ns);return bs}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k$1={print:4,modify:8,copy:16,"annot-forms":32};function I$2(es,ki,Ri,ts){this.v=1,this.r=2;var rs=192;es.forEach(function(ss){if(k$1.perm!==void 0)throw new Error("Invalid permission: "+ss);rs+=k$1[ss]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var is=(ki+this.padding).substr(0,32),ns=(Ri+this.padding).substr(0,32);this.O=this.processOwnerPassword(is,ns),this.P=-(1+(255^rs)),this.encryptionKey=x$2(is+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(ts)).substr(0,5),this.U=P$2(this.encryptionKey,this.padding)}function F$1(es){if(/[^\u0000-\u00ff]/.test(es))throw new Error("Invalid PDF Name Object: "+es+", Only accept ASCII characters.");for(var ki="",Ri=es.length,ts=0;ts<Ri;ts++){var rs=es.charCodeAt(ts);rs<33||rs===35||rs===37||rs===40||rs===41||rs===47||rs===60||rs===62||rs===91||rs===93||rs===123||rs===125||rs>126?ki+="#"+("0"+rs.toString(16)).slice(-2):ki+=es[ts]}return ki}function C$1(es){if(_typeof(es)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var ki={};this.subscribe=function(Ri,ts,rs){if(rs=rs||!1,typeof Ri!="string"||typeof ts!="function"||typeof rs!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");ki.hasOwnProperty(Ri)||(ki[Ri]={});var is=Math.random().toString(35);return ki[Ri][is]=[ts,!!rs],is},this.unsubscribe=function(Ri){for(var ts in ki)if(ki[ts][Ri])return delete ki[ts][Ri],Object.keys(ki[ts]).length===0&&delete ki[ts],!0;return!1},this.publish=function(Ri){if(ki.hasOwnProperty(Ri)){var ts=Array.prototype.slice.call(arguments,1),rs=[];for(var is in ki[Ri]){var ns=ki[Ri][is];try{ns[0].apply(es,ts)}catch(ss){n$1.console&&a$1.error("jsPDF PubSub Error",ss.message,ss)}ns[1]&&rs.push(is)}rs.length&&rs.forEach(this.unsubscribe)}},this.getTopics=function(){return ki}}function j$2(es){if(!(this instanceof j$2))return new j$2(es);var ki="opacity,stroke-opacity".split(",");for(var Ri in es)es.hasOwnProperty(Ri)&&ki.indexOf(Ri)>=0&&(this[Ri]=es[Ri]);this.id="",this.objectNumber=-1}function O$1(es,ki){this.gState=es,this.matrix=ki,this.id="",this.objectNumber=-1}function B$1(es,ki,Ri,ts,rs){if(!(this instanceof B$1))return new B$1(es,ki,Ri,ts,rs);this.type=es==="axial"?2:3,this.coords=ki,this.colors=Ri,O$1.call(this,ts,rs)}function M$1(es,ki,Ri,ts,rs){if(!(this instanceof M$1))return new M$1(es,ki,Ri,ts,rs);this.boundingBox=es,this.xStep=ki,this.yStep=Ri,this.stream="",this.cloneIndex=0,O$1.call(this,ts,rs)}function E$2(es){var ki,Ri=typeof arguments[0]=="string"?arguments[0]:"p",ts=arguments[1],rs=arguments[2],is=arguments[3],ns=[],ss=1,os=16,ls="S",cs=null;_typeof(es=es||{})==="object"&&(Ri=es.orientation,ts=es.unit||ts,rs=es.format||rs,is=es.compress||es.compressPdf||is,(cs=es.encryption||null)!==null&&(cs.userPassword=cs.userPassword||"",cs.ownerPassword=cs.ownerPassword||"",cs.userPermissions=cs.userPermissions||[]),ss=typeof es.userUnit=="number"?Math.abs(es.userUnit):1,es.precision!==void 0&&(ki=es.precision),es.floatPrecision!==void 0&&(os=es.floatPrecision),ls=es.defaultPathOperation||"S"),ns=es.filters||(is===!0?["FlateEncode"]:ns),ts=ts||"mm",Ri=(""+(Ri||"P")).toLowerCase();var hs=es.putOnlyUsedFonts||!1,us={},As={internal:{},__private__:{}};As.__private__.PubSub=C$1;var bs="1.3",ys=As.__private__.getPdfVersion=function(){return bs};As.__private__.setPdfVersion=function(no){bs=no};var Cs={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};As.__private__.getPageFormats=function(){return Cs};var ps=As.__private__.getPageFormat=function(no){return Cs[no]};rs=rs||"a4";var ms={COMPAT:"compat",ADVANCED:"advanced"},fs=ms.COMPAT;function gs(){this.saveGraphicsState(),yo(new wl(Po,0,0,-Po,0,mA()*Po).toString()+" cm"),this.setFontSize(this.getFontSize()/Po),ls="n",fs=ms.ADVANCED}function ws(){this.restoreGraphicsState(),ls="S",fs=ms.COMPAT}var Ts=As.__private__.combineFontStyleAndFontWeight=function(no,No){if(no=="bold"&&No=="normal"||no=="bold"&&No==400||no=="normal"&&No=="italic"||no=="bold"&&No=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return No&&(no=No==400||No==="normal"?no==="italic"?"italic":"normal":No!=700&&No!=="bold"||no!=="normal"?(No==700?"bold":No)+""+no:"bold"),no};As.advancedAPI=function(no){var No=fs===ms.COMPAT;return No&&gs.call(this),typeof no!="function"||(no(this),No&&ws.call(this)),this},As.compatAPI=function(no){var No=fs===ms.ADVANCED;return No&&ws.call(this),typeof no!="function"||(no(this),No&&gs.call(this)),this},As.isAdvancedAPI=function(){return fs===ms.ADVANCED};var $s,Rs=function(no){if(fs!==ms.ADVANCED)throw new Error(no+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Ps=As.roundToPrecision=As.__private__.roundToPrecision=function(no,No){var oa=ki||No;if(isNaN(no)||isNaN(oa))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return no.toFixed(oa).replace(/0+$/,"")};$s=As.hpf=As.__private__.hpf=typeof os=="number"?function(no){if(isNaN(no))throw new Error("Invalid argument passed to jsPDF.hpf");return Ps(no,os)}:os==="smart"?function(no){if(isNaN(no))throw new Error("Invalid argument passed to jsPDF.hpf");return Ps(no,no>-1&&no<1?16:5)}:function(no){if(isNaN(no))throw new Error("Invalid argument passed to jsPDF.hpf");return Ps(no,16)};var Qs=As.f2=As.__private__.f2=function(no){if(isNaN(no))throw new Error("Invalid argument passed to jsPDF.f2");return Ps(no,2)},Fs=As.__private__.f3=function(no){if(isNaN(no))throw new Error("Invalid argument passed to jsPDF.f3");return Ps(no,3)},Is=As.scale=As.__private__.scale=function(no){if(isNaN(no))throw new Error("Invalid argument passed to jsPDF.scale");return fs===ms.COMPAT?no*Po:fs===ms.ADVANCED?no:void 0},Ms=function(no){return fs===ms.COMPAT?mA()-no:fs===ms.ADVANCED?no:void 0},Ws=function(no){return Is(Ms(no))};As.__private__.setPrecision=As.setPrecision=function(no){typeof parseInt(no,10)=="number"&&(ki=parseInt(no,10))};var Ds,_s="00000000000000000000000000000000",Ns=As.__private__.getFileId=function(){return _s},Ss=As.__private__.setFileId=function(no){return _s=no!==void 0&&/^[a-fA-F0-9]{32}$/.test(no)?no.toUpperCase():_s.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),cs!==null&&(Iu=new I$2(cs.userPermissions,cs.userPassword,cs.ownerPassword,_s)),_s};As.setFileId=function(no){return Ss(no),this},As.getFileId=function(){return Ns()};var Us=As.__private__.convertDateToPDFDate=function(no){var No=no.getTimezoneOffset(),oa=No<0?"+":"-",ha=Math.floor(Math.abs(No/60)),La=Math.abs(No%60),$a=[oa,zs(ha),"'",zs(La),"'"].join("");return["D:",no.getFullYear(),zs(no.getMonth()+1),zs(no.getDate()),zs(no.getHours()),zs(no.getMinutes()),zs(no.getSeconds()),$a].join("")},Zs=As.__private__.convertPDFDateToDate=function(no){var No=parseInt(no.substr(2,4),10),oa=parseInt(no.substr(6,2),10)-1,ha=parseInt(no.substr(8,2),10),La=parseInt(no.substr(10,2),10),$a=parseInt(no.substr(12,2),10),za=parseInt(no.substr(14,2),10);return new Date(No,oa,ha,La,$a,za,0)},ao=As.__private__.setCreationDate=function(no){var No;if(no===void 0&&(no=new Date),no instanceof Date)No=Us(no);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(no))throw new Error("Invalid argument passed to jsPDF.setCreationDate");No=no}return Ds=No},js=As.__private__.getCreationDate=function(no){var No=Ds;return no==="jsDate"&&(No=Zs(Ds)),No};As.setCreationDate=function(no){return ao(no),this},As.getCreationDate=function(no){return js(no)};var Bs,zs=As.__private__.padd2=function(no){return("0"+parseInt(no)).slice(-2)},so=As.__private__.padd2Hex=function(no){return("00"+(no=no.toString())).substr(no.length)},oo=0,Ao=[],Xs=[],lo=0,co=[],So=[],ro=!1,vo=Xs,Eo=function(){oo=0,lo=0,Xs=[],Ao=[],co=[],dh=Yc(),Mu=Yc()};As.__private__.setCustomOutputDestination=function(no){ro=!0,vo=no};var mo=function(no){ro||(vo=no)};As.__private__.resetCustomOutputDestination=function(){ro=!1,vo=Xs};var yo=As.__private__.out=function(no){return no=no.toString(),lo+=no.length+1,vo.push(no),vo},Jo=As.__private__.write=function(no){return yo(arguments.length===1?no.toString():Array.prototype.join.call(arguments," "))},Yo=As.__private__.getArrayBuffer=function(no){for(var No=no.length,oa=new ArrayBuffer(No),ha=new Uint8Array(oa);No--;)ha[No]=no.charCodeAt(No);return oa},Wo=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];As.__private__.getStandardFonts=function(){return Wo};var ko=es.fontSize||16;As.__private__.setFontSize=As.setFontSize=function(no){return ko=fs===ms.ADVANCED?no/Po:no,this};var Qo,jo=As.__private__.getFontSize=As.getFontSize=function(){return fs===ms.COMPAT?ko:ko*Po},Bo=es.R2L||!1;As.__private__.setR2L=As.setR2L=function(no){return Bo=no,this},As.__private__.getR2L=As.getR2L=function(){return Bo};var go,_o=As.__private__.setZoomMode=function(no){var No=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(no))Qo=no;else if(isNaN(no)){if(No.indexOf(no)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+no+'" is not recognized.');Qo=no}else Qo=parseInt(no,10)};As.__private__.getZoomMode=function(){return Qo};var To,uo=As.__private__.setPageMode=function(no){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(no)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+no+'" is not recognized.');go=no};As.__private__.getPageMode=function(){return go};var Co=As.__private__.setLayoutMode=function(no){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(no)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+no+'" is not recognized.');To=no};As.__private__.getLayoutMode=function(){return To},As.__private__.setDisplayMode=As.setDisplayMode=function(no,No,oa){return _o(no),Co(No),uo(oa),this};var Oo={title:"",subject:"",author:"",keywords:"",creator:""};As.__private__.getDocumentProperty=function(no){if(Object.keys(Oo).indexOf(no)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Oo[no]},As.__private__.getDocumentProperties=function(){return Oo},As.__private__.setDocumentProperties=As.setProperties=As.setDocumentProperties=function(no){for(var No in Oo)Oo.hasOwnProperty(No)&&no[No]&&(Oo[No]=no[No]);return this},As.__private__.setDocumentProperty=function(no,No){if(Object.keys(Oo).indexOf(no)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Oo[no]=No};var Fo,Po,Zo,na,ma,ua={},ka={},Ba=[],Va={},Ea={},il={},kl={},Ja=null,Ua=0,Na=[],nl=new C$1(As),Wl=es.hotfixes||[],El={},$c={},ou=[],wl=function no(No,oa,ha,La,$a,za){if(!(this instanceof no))return new no(No,oa,ha,La,$a,za);isNaN(No)&&(No=1),isNaN(oa)&&(oa=0),isNaN(ha)&&(ha=0),isNaN(La)&&(La=1),isNaN($a)&&($a=0),isNaN(za)&&(za=0),this._matrix=[No,oa,ha,La,$a,za]};Object.defineProperty(wl.prototype,"sx",{get:function(){return this._matrix[0]},set:function(no){this._matrix[0]=no}}),Object.defineProperty(wl.prototype,"shy",{get:function(){return this._matrix[1]},set:function(no){this._matrix[1]=no}}),Object.defineProperty(wl.prototype,"shx",{get:function(){return this._matrix[2]},set:function(no){this._matrix[2]=no}}),Object.defineProperty(wl.prototype,"sy",{get:function(){return this._matrix[3]},set:function(no){this._matrix[3]=no}}),Object.defineProperty(wl.prototype,"tx",{get:function(){return this._matrix[4]},set:function(no){this._matrix[4]=no}}),Object.defineProperty(wl.prototype,"ty",{get:function(){return this._matrix[5]},set:function(no){this._matrix[5]=no}}),Object.defineProperty(wl.prototype,"a",{get:function(){return this._matrix[0]},set:function(no){this._matrix[0]=no}}),Object.defineProperty(wl.prototype,"b",{get:function(){return this._matrix[1]},set:function(no){this._matrix[1]=no}}),Object.defineProperty(wl.prototype,"c",{get:function(){return this._matrix[2]},set:function(no){this._matrix[2]=no}}),Object.defineProperty(wl.prototype,"d",{get:function(){return this._matrix[3]},set:function(no){this._matrix[3]=no}}),Object.defineProperty(wl.prototype,"e",{get:function(){return this._matrix[4]},set:function(no){this._matrix[4]=no}}),Object.defineProperty(wl.prototype,"f",{get:function(){return this._matrix[5]},set:function(no){this._matrix[5]=no}}),Object.defineProperty(wl.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wl.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wl.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wl.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wl.prototype.join=function(no){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map($s).join(no)},wl.prototype.multiply=function(no){var No=no.sx*this.sx+no.shy*this.shx,oa=no.sx*this.shy+no.shy*this.sy,ha=no.shx*this.sx+no.sy*this.shx,La=no.shx*this.shy+no.sy*this.sy,$a=no.tx*this.sx+no.ty*this.shx+this.tx,za=no.tx*this.shy+no.ty*this.sy+this.ty;return new wl(No,oa,ha,La,$a,za)},wl.prototype.decompose=function(){var no=this.sx,No=this.shy,oa=this.shx,ha=this.sy,La=this.tx,$a=this.ty,za=Math.sqrt(no*no+No*No),Tl=(no/=za)*oa+(No/=za)*ha;oa-=no*Tl,ha-=No*Tl;var Ql=Math.sqrt(oa*oa+ha*ha);return Tl/=Ql,no*(ha/=Ql)<No*(oa/=Ql)&&(no=-no,No=-No,Tl=-Tl,za=-za),{scale:new wl(za,0,0,Ql,0,0),translate:new wl(1,0,0,1,La,$a),rotate:new wl(no,No,-No,no,0,0),skew:new wl(1,0,Tl,1,0,0)}},wl.prototype.toString=function(no){return this.join(" ")},wl.prototype.inversed=function(){var no=this.sx,No=this.shy,oa=this.shx,ha=this.sy,La=this.tx,$a=this.ty,za=1/(no*ha-No*oa),Tl=ha*za,Ql=-No*za,Xl=-oa*za,rc=no*za;return new wl(Tl,Ql,Xl,rc,-Tl*La-Xl*$a,-Ql*La-rc*$a)},wl.prototype.applyToPoint=function(no){var No=no.x*this.sx+no.y*this.shx+this.tx,oa=no.x*this.shy+no.y*this.sy+this.ty;return new zh(No,oa)},wl.prototype.applyToRectangle=function(no){var No=this.applyToPoint(no),oa=this.applyToPoint(new zh(no.x+no.w,no.y+no.h));return new Nf(No.x,No.y,oa.x-No.x,oa.y-No.y)},wl.prototype.clone=function(){var no=this.sx,No=this.shy,oa=this.shx,ha=this.sy,La=this.tx,$a=this.ty;return new wl(no,No,oa,ha,La,$a)},As.Matrix=wl;var dc=As.matrixMult=function(no,No){return No.multiply(no)},_u=new wl(1,0,0,1,0,0);As.unitMatrix=As.identityMatrix=_u;var kc=function(no,No){if(!Ea[no]){var oa=(No instanceof B$1?"Sh":"P")+(Object.keys(Va).length+1).toString(10);No.id=oa,Ea[no]=oa,Va[oa]=No,nl.publish("addPattern",No)}};As.ShadingPattern=B$1,As.TilingPattern=M$1,As.addShadingPattern=function(no,No){return Rs("addShadingPattern()"),kc(no,No),this},As.beginTilingPattern=function(no){Rs("beginTilingPattern()"),nA(no.boundingBox[0],no.boundingBox[1],no.boundingBox[2]-no.boundingBox[0],no.boundingBox[3]-no.boundingBox[1],no.matrix)},As.endTilingPattern=function(no,No){Rs("endTilingPattern()"),No.stream=So[Bs].join(`
`),kc(no,No),nl.publish("endTilingPattern",No),ou.pop().restore()};var Dl=As.__private__.newObject=function(){var no=Yc();return Pu(no,!0),no},Yc=As.__private__.newObjectDeferred=function(){return oo++,Ao[oo]=function(){return lo},oo},Pu=function(no,No){return No=typeof No=="boolean"&&No,Ao[no]=lo,No&&yo(no+" 0 obj"),no},au=As.__private__.newAdditionalObject=function(){var no={objId:Yc(),content:""};return co.push(no),no},dh=Yc(),Mu=Yc(),Ah=As.__private__.decodeColorString=function(no){var No=no.split(" ");if(No.length!==2||No[1]!=="g"&&No[1]!=="G")No.length===5&&(No[4]==="k"||No[4]==="K")&&(No=[(1-No[0])*(1-No[3]),(1-No[1])*(1-No[3]),(1-No[2])*(1-No[3]),"r"]);else{var oa=parseFloat(No[0]);No=[oa,oa,oa,"r"]}for(var ha="#",La=0;La<3;La++)ha+=("0"+Math.floor(255*parseFloat(No[La])).toString(16)).slice(-2);return ha},Wu=As.__private__.encodeColorString=function(no){var No;typeof no=="string"&&(no={ch1:no});var oa=no.ch1,ha=no.ch2,La=no.ch3,$a=no.ch4,za=no.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oa=="string"&&oa.charAt(0)!=="#"){var Tl=new f$2(oa);if(Tl.ok)oa=Tl.toHex();else if(!/^\d*\.?\d*$/.test(oa))throw new Error('Invalid color "'+oa+'" passed to jsPDF.encodeColorString.')}if(typeof oa=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oa)&&(oa="#"+oa[1]+oa[1]+oa[2]+oa[2]+oa[3]+oa[3]),typeof oa=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oa)){var Ql=parseInt(oa.substr(1),16);oa=Ql>>16&255,ha=Ql>>8&255,La=255&Ql}if(ha===void 0||$a===void 0&&oa===ha&&ha===La)if(typeof oa=="string")No=oa+" "+za[0];else switch(no.precision){case 2:No=Qs(oa/255)+" "+za[0];break;case 3:default:No=Fs(oa/255)+" "+za[0]}else if($a===void 0||_typeof($a)==="object"){if($a&&!isNaN($a.a)&&$a.a===0)return No=["1.","1.","1.",za[1]].join(" ");if(typeof oa=="string")No=[oa,ha,La,za[1]].join(" ");else switch(no.precision){case 2:No=[Qs(oa/255),Qs(ha/255),Qs(La/255),za[1]].join(" ");break;default:case 3:No=[Fs(oa/255),Fs(ha/255),Fs(La/255),za[1]].join(" ")}}else if(typeof oa=="string")No=[oa,ha,La,$a,za[2]].join(" ");else switch(no.precision){case 2:No=[Qs(oa),Qs(ha),Qs(La),Qs($a),za[2]].join(" ");break;case 3:default:No=[Fs(oa),Fs(ha),Fs(La),Fs($a),za[2]].join(" ")}return No},Th=As.__private__.getFilters=function(){return ns},ca=As.__private__.putStream=function(no){var No=(no=no||{}).data||"",oa=no.filters||Th(),ha=no.alreadyAppliedFilters||[],La=no.addLength1||!1,$a=No.length,za=no.objectId,Tl=function(kh){return kh};if(cs!==null&&za===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");cs!==null&&(Tl=Iu.encryptor(za,0));var Ql={};oa===!0&&(oa=["FlateEncode"]);var Xl=no.additionalKeyValues||[],rc=(Ql=E$2.API.processDataByFilters!==void 0?E$2.API.processDataByFilters(No,oa):{data:No,reverseChain:[]}).reverseChain+(Array.isArray(ha)?ha.join(" "):ha.toString());if(Ql.data.length!==0&&(Xl.push({key:"Length",value:Ql.data.length}),La===!0&&Xl.push({key:"Length1",value:$a})),rc.length!=0)if(rc.split("/").length-1==1)Xl.push({key:"Filter",value:rc});else{Xl.push({key:"Filter",value:"["+rc+"]"});for(var Bc=0;Bc<Xl.length;Bc+=1)if(Xl[Bc].key==="DecodeParms"){for(var bu=[],fu=0;fu<Ql.reverseChain.split("/").length-1;fu+=1)bu.push("null");bu.push(Xl[Bc].value),Xl[Bc].value="["+bu.join(" ")+"]"}}yo("<<");for(var Jl=0;Jl<Xl.length;Jl++)yo("/"+Xl[Jl].key+" "+Xl[Jl].value);yo(">>"),Ql.data.length!==0&&(yo("stream"),yo(Tl(Ql.data)),yo("endstream"))},gl=As.__private__.putPage=function(no){var No=no.number,oa=no.data,ha=no.objId,La=no.contentsObjId;Pu(ha,!0),yo("<</Type /Page"),yo("/Parent "+no.rootDictionaryObjId+" 0 R"),yo("/Resources "+no.resourceDictionaryObjId+" 0 R"),yo("/MediaBox ["+parseFloat($s(no.mediaBox.bottomLeftX))+" "+parseFloat($s(no.mediaBox.bottomLeftY))+" "+$s(no.mediaBox.topRightX)+" "+$s(no.mediaBox.topRightY)+"]"),no.cropBox!==null&&yo("/CropBox ["+$s(no.cropBox.bottomLeftX)+" "+$s(no.cropBox.bottomLeftY)+" "+$s(no.cropBox.topRightX)+" "+$s(no.cropBox.topRightY)+"]"),no.bleedBox!==null&&yo("/BleedBox ["+$s(no.bleedBox.bottomLeftX)+" "+$s(no.bleedBox.bottomLeftY)+" "+$s(no.bleedBox.topRightX)+" "+$s(no.bleedBox.topRightY)+"]"),no.trimBox!==null&&yo("/TrimBox ["+$s(no.trimBox.bottomLeftX)+" "+$s(no.trimBox.bottomLeftY)+" "+$s(no.trimBox.topRightX)+" "+$s(no.trimBox.topRightY)+"]"),no.artBox!==null&&yo("/ArtBox ["+$s(no.artBox.bottomLeftX)+" "+$s(no.artBox.bottomLeftY)+" "+$s(no.artBox.topRightX)+" "+$s(no.artBox.topRightY)+"]"),typeof no.userUnit=="number"&&no.userUnit!==1&&yo("/UserUnit "+no.userUnit),nl.publish("putPage",{objId:ha,pageContext:Na[No],pageNumber:No,page:oa}),yo("/Contents "+La+" 0 R"),yo(">>"),yo("endobj");var $a=oa.join(`
`);return fs===ms.ADVANCED&&($a+=`
Q`),Pu(La,!0),ca({data:$a,filters:Th(),objectId:La}),yo("endobj"),ha},cl=As.__private__.putPages=function(){var no,No,oa=[];for(no=1;no<=Ua;no++)Na[no].objId=Yc(),Na[no].contentsObjId=Yc();for(no=1;no<=Ua;no++)oa.push(gl({number:no,data:So[no],objId:Na[no].objId,contentsObjId:Na[no].contentsObjId,mediaBox:Na[no].mediaBox,cropBox:Na[no].cropBox,bleedBox:Na[no].bleedBox,trimBox:Na[no].trimBox,artBox:Na[no].artBox,userUnit:Na[no].userUnit,rootDictionaryObjId:dh,resourceDictionaryObjId:Mu}));Pu(dh,!0),yo("<</Type /Pages");var ha="/Kids [";for(No=0;No<Ua;No++)ha+=oa[No]+" 0 R ";yo(ha+"]"),yo("/Count "+Ua),yo(">>"),yo("endobj"),nl.publish("postPutPages")},Zl=function(no){nl.publish("putFont",{font:no,out:yo,newObject:Dl,putStream:ca}),no.isAlreadyPutted!==!0&&(no.objectNumber=Dl(),yo("<<"),yo("/Type /Font"),yo("/BaseFont /"+F$1(no.postScriptName)),yo("/Subtype /Type1"),typeof no.encoding=="string"&&yo("/Encoding /"+no.encoding),yo("/FirstChar 32"),yo("/LastChar 255"),yo(">>"),yo("endobj"))},oc=function(){for(var no in ua)ua.hasOwnProperty(no)&&(hs===!1||hs===!0&&us.hasOwnProperty(no))&&Zl(ua[no])},Yl=function(no){no.objectNumber=Dl();var No=[];No.push({key:"Type",value:"/XObject"}),No.push({key:"Subtype",value:"/Form"}),No.push({key:"BBox",value:"["+[$s(no.x),$s(no.y),$s(no.x+no.width),$s(no.y+no.height)].join(" ")+"]"}),No.push({key:"Matrix",value:"["+no.matrix.toString()+"]"});var oa=no.pages[1].join(`
`);ca({data:oa,additionalKeyValues:No,objectId:no.objectNumber}),yo("endobj")},Sc=function(){for(var no in El)El.hasOwnProperty(no)&&Yl(El[no])},Bh=function(no,No){var oa,ha=[],La=1/(No-1);for(oa=0;oa<1;oa+=La)ha.push(oa);if(ha.push(1),no[0].offset!=0){var $a={offset:0,color:no[0].color};no.unshift($a)}if(no[no.length-1].offset!=1){var za={offset:1,color:no[no.length-1].color};no.push(za)}for(var Tl="",Ql=0,Xl=0;Xl<ha.length;Xl++){for(oa=ha[Xl];oa>no[Ql+1].offset;)Ql++;var rc=no[Ql].offset,Bc=(oa-rc)/(no[Ql+1].offset-rc),bu=no[Ql].color,fu=no[Ql+1].color;Tl+=so(Math.round((1-Bc)*bu[0]+Bc*fu[0]).toString(16))+so(Math.round((1-Bc)*bu[1]+Bc*fu[1]).toString(16))+so(Math.round((1-Bc)*bu[2]+Bc*fu[2]).toString(16))}return Tl.trim()},Eu=function(no,No){No||(No=21);var oa=Dl(),ha=Bh(no.colors,No),La=[];La.push({key:"FunctionType",value:"0"}),La.push({key:"Domain",value:"[0.0 1.0]"}),La.push({key:"Size",value:"["+No+"]"}),La.push({key:"BitsPerSample",value:"8"}),La.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),La.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ca({data:ha,additionalKeyValues:La,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oa}),yo("endobj"),no.objectNumber=Dl(),yo("<< /ShadingType "+no.type),yo("/ColorSpace /DeviceRGB");var $a="/Coords ["+$s(parseFloat(no.coords[0]))+" "+$s(parseFloat(no.coords[1]))+" ";no.type===2?$a+=$s(parseFloat(no.coords[2]))+" "+$s(parseFloat(no.coords[3])):$a+=$s(parseFloat(no.coords[2]))+" "+$s(parseFloat(no.coords[3]))+" "+$s(parseFloat(no.coords[4]))+" "+$s(parseFloat(no.coords[5])),yo($a+="]"),no.matrix&&yo("/Matrix ["+no.matrix.toString()+"]"),yo("/Function "+oa+" 0 R"),yo("/Extend [true true]"),yo(">>"),yo("endobj")},xu=function(no,No){var oa=Yc(),ha=Dl();No.push({resourcesOid:oa,objectOid:ha}),no.objectNumber=ha;var La=[];La.push({key:"Type",value:"/Pattern"}),La.push({key:"PatternType",value:"1"}),La.push({key:"PaintType",value:"1"}),La.push({key:"TilingType",value:"1"}),La.push({key:"BBox",value:"["+no.boundingBox.map($s).join(" ")+"]"}),La.push({key:"XStep",value:$s(no.xStep)}),La.push({key:"YStep",value:$s(no.yStep)}),La.push({key:"Resources",value:oa+" 0 R"}),no.matrix&&La.push({key:"Matrix",value:"["+no.matrix.toString()+"]"}),ca({data:no.stream,additionalKeyValues:La,objectId:no.objectNumber}),yo("endobj")},_h=function(no){var No;for(No in Va)Va.hasOwnProperty(No)&&(Va[No]instanceof B$1?Eu(Va[No]):Va[No]instanceof M$1&&xu(Va[No],no))},Nc=function(no){for(var No in no.objectNumber=Dl(),yo("<<"),no)switch(No){case"opacity":yo("/ca "+Qs(no[No]));break;case"stroke-opacity":yo("/CA "+Qs(no[No]))}yo(">>"),yo("endobj")},Cl=function(){var no;for(no in il)il.hasOwnProperty(no)&&Nc(il[no])},Lh=function(){for(var no in yo("/XObject <<"),El)El.hasOwnProperty(no)&&El[no].objectNumber>=0&&yo("/"+no+" "+El[no].objectNumber+" 0 R");nl.publish("putXobjectDict"),yo(">>")},Qh=function(){Iu.oid=Dl(),yo("<<"),yo("/Filter /Standard"),yo("/V "+Iu.v),yo("/R "+Iu.r),yo("/U <"+Iu.toHexString(Iu.U)+">"),yo("/O <"+Iu.toHexString(Iu.O)+">"),yo("/P "+Iu.P),yo(">>"),yo("endobj")},Fh=function(){for(var no in yo("/Font <<"),ua)ua.hasOwnProperty(no)&&(hs===!1||hs===!0&&us.hasOwnProperty(no))&&yo("/"+no+" "+ua[no].objectNumber+" 0 R");yo(">>")},nc=function(){if(Object.keys(Va).length>0){for(var no in yo("/Shading <<"),Va)Va.hasOwnProperty(no)&&Va[no]instanceof B$1&&Va[no].objectNumber>=0&&yo("/"+no+" "+Va[no].objectNumber+" 0 R");nl.publish("putShadingPatternDict"),yo(">>")}},ih=function(no){if(Object.keys(Va).length>0){for(var No in yo("/Pattern <<"),Va)Va.hasOwnProperty(No)&&Va[No]instanceof As.TilingPattern&&Va[No].objectNumber>=0&&Va[No].objectNumber<no&&yo("/"+No+" "+Va[No].objectNumber+" 0 R");nl.publish("putTilingPatternDict"),yo(">>")}},dd=function(){if(Object.keys(il).length>0){var no;for(no in yo("/ExtGState <<"),il)il.hasOwnProperty(no)&&il[no].objectNumber>=0&&yo("/"+no+" "+il[no].objectNumber+" 0 R");nl.publish("putGStateDict"),yo(">>")}},Xc=function(no){Pu(no.resourcesOid,!0),yo("<<"),yo("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Fh(),nc(),ih(no.objectOid),dd(),Lh(),yo(">>"),yo("endobj")},Xa=function(){var no=[];oc(),Cl(),Sc(),_h(no),nl.publish("putResources"),no.forEach(Xc),Xc({resourcesOid:Mu,objectOid:Number.MAX_SAFE_INTEGER}),nl.publish("postPutResources")},zl=function(){nl.publish("putAdditionalObjects");for(var no=0;no<co.length;no++){var No=co[no];Pu(No.objId,!0),yo(No.content),yo("endobj")}nl.publish("postPutAdditionalObjects")},Ou=function(no){ka[no.fontName]=ka[no.fontName]||{},ka[no.fontName][no.fontStyle]=no.id},Nu=function(no,No,oa,ha,La){var $a={id:"F"+(Object.keys(ua).length+1).toString(10),postScriptName:no,fontName:No,fontStyle:oa,encoding:ha,isStandardFont:La||!1,metadata:{}};return nl.publish("addFont",{font:$a,instance:this}),ua[$a.id]=$a,Ou($a),$a.id},Ad=function(no){for(var No=0,oa=Wo.length;No<oa;No++){var ha=Nu.call(this,no[No][0],no[No][1],no[No][2],Wo[No][3],!0);hs===!1&&(us[ha]=!0);var La=no[No][0].split("-");Ou({id:ha,fontName:La[0],fontStyle:La[1]||""})}nl.publish("addFonts",{fonts:ua,dictionary:ka})},Go=function(no){return no.foo=function(){try{return no.apply(this,arguments)}catch(ha){var No=ha.stack||"";~No.indexOf(" at ")&&(No=No.split(" at ")[1]);var oa="Error in function "+No.split(`
`)[0].split("<")[0]+": "+ha.message;if(!n$1.console)throw new Error(oa);n$1.console.error(oa,ha),n$1.alert&&alert(oa)}},no.foo.bar=no,no.foo},ba=function(no,No){var oa,ha,La,$a,za,Tl,Ql,Xl,rc;if(La=(No=No||{}).sourceEncoding||"Unicode",za=No.outputEncoding,(No.autoencode||za)&&ua[Fo].metadata&&ua[Fo].metadata[La]&&ua[Fo].metadata[La].encoding&&($a=ua[Fo].metadata[La].encoding,!za&&ua[Fo].encoding&&(za=ua[Fo].encoding),!za&&$a.codePages&&(za=$a.codePages[0]),typeof za=="string"&&(za=$a[za]),za)){for(Ql=!1,Tl=[],oa=0,ha=no.length;oa<ha;oa++)(Xl=za[no.charCodeAt(oa)])?Tl.push(String.fromCharCode(Xl)):Tl.push(no[oa]),Tl[oa].charCodeAt(0)>>8&&(Ql=!0);no=Tl.join("")}for(oa=no.length;Ql===void 0&&oa!==0;)no.charCodeAt(oa-1)>>8&&(Ql=!0),oa--;if(!Ql)return no;for(Tl=No.noBOM?[]:[254,255],oa=0,ha=no.length;oa<ha;oa++){if((rc=(Xl=no.charCodeAt(oa))>>8)>>8)throw new Error("Character at position "+oa+" of string '"+no+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Tl.push(rc),Tl.push(Xl-(rc<<8))}return String.fromCharCode.apply(void 0,Tl)},Ta=As.__private__.pdfEscape=As.pdfEscape=function(no,No){return ba(no,No).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Oa=As.__private__.beginPage=function(no){So[++Ua]=[],Na[Ua]={objId:0,contentsObjId:0,userUnit:Number(ss),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(no[0]),topRightY:Number(no[1])}},Pl(Ua),mo(So[Bs])},sl=function(no,No){var oa,ha,La;switch(Ri=No||Ri,typeof no=="string"&&(oa=ps(no.toLowerCase()),Array.isArray(oa)&&(ha=oa[0],La=oa[1])),Array.isArray(no)&&(ha=no[0]*Po,La=no[1]*Po),isNaN(ha)&&(ha=rs[0],La=rs[1]),(ha>14400||La>14400)&&(a$1.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ha=Math.min(14400,ha),La=Math.min(14400,La)),rs=[ha,La],Ri.substr(0,1)){case"l":La>ha&&(rs=[La,ha]);break;case"p":ha>La&&(rs=[La,ha])}Oa(rs),sa(gA),yo($l),iA!==0&&yo(iA+" J"),Wh!==0&&yo(Wh+" j"),nl.publish("addPage",{pageNumber:Ua})},Ml=function(no){no>0&&no<=Ua&&(So.splice(no,1),Na.splice(no,1),Ua--,Bs>Ua&&(Bs=Ua),this.setPage(Bs))},Pl=function(no){no>0&&no<=Ua&&(Bs=no)},Ac=As.__private__.getNumberOfPages=As.getNumberOfPages=function(){return So.length-1},Tc=function(no,No,oa){var ha,La=void 0;return oa=oa||{},no=no!==void 0?no:ua[Fo].fontName,No=No!==void 0?No:ua[Fo].fontStyle,ha=no.toLowerCase(),ka[ha]!==void 0&&ka[ha][No]!==void 0?La=ka[ha][No]:ka[no]!==void 0&&ka[no][No]!==void 0?La=ka[no][No]:oa.disableWarning===!1&&a$1.warn("Unable to look up font label for font '"+no+"', '"+No+"'. Refer to getFontList() for available fonts."),La||oa.noFallback||(La=ka.times[No])==null&&(La=ka.times.normal),La},Qc=As.__private__.putInfo=function(){var no=Dl(),No=function(ha){return ha};for(var oa in cs!==null&&(No=Iu.encryptor(no,0)),yo("<<"),yo("/Producer ("+Ta(No("jsPDF "+E$2.version))+")"),Oo)Oo.hasOwnProperty(oa)&&Oo[oa]&&yo("/"+oa.substr(0,1).toUpperCase()+oa.substr(1)+" ("+Ta(No(Oo[oa]))+")");yo("/CreationDate ("+Ta(No(Ds))+")"),yo(">>"),yo("endobj")},vc=As.__private__.putCatalog=function(no){var No=(no=no||{}).rootDictionaryObjId||dh;switch(Dl(),yo("<<"),yo("/Type /Catalog"),yo("/Pages "+No+" 0 R"),Qo||(Qo="fullwidth"),Qo){case"fullwidth":yo("/OpenAction [3 0 R /FitH null]");break;case"fullheight":yo("/OpenAction [3 0 R /FitV null]");break;case"fullpage":yo("/OpenAction [3 0 R /Fit]");break;case"original":yo("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oa=""+Qo;oa.substr(oa.length-1)==="%"&&(Qo=parseInt(Qo)/100),typeof Qo=="number"&&yo("/OpenAction [3 0 R /XYZ null null "+Qs(Qo)+"]")}switch(To||(To="continuous"),To){case"continuous":yo("/PageLayout /OneColumn");break;case"single":yo("/PageLayout /SinglePage");break;case"two":case"twoleft":yo("/PageLayout /TwoColumnLeft");break;case"tworight":yo("/PageLayout /TwoColumnRight")}go&&yo("/PageMode /"+go),nl.publish("putCatalog"),yo(">>"),yo("endobj")},lu=As.__private__.putTrailer=function(){yo("trailer"),yo("<<"),yo("/Size "+(oo+1)),yo("/Root "+oo+" 0 R"),yo("/Info "+(oo-1)+" 0 R"),cs!==null&&yo("/Encrypt "+Iu.oid+" 0 R"),yo("/ID [ <"+_s+"> <"+_s+"> ]"),yo(">>")},cu=As.__private__.putHeader=function(){yo("%PDF-"+bs),yo("%ºß¬à")},zu=As.__private__.putXRef=function(){var no="0000000000";yo("xref"),yo("0 "+(oo+1)),yo("0000000000 65535 f ");for(var No=1;No<=oo;No++)typeof Ao[No]=="function"?yo((no+Ao[No]()).slice(-10)+" 00000 n "):Ao[No]!==void 0?yo((no+Ao[No]).slice(-10)+" 00000 n "):yo("0000000000 00000 n ")},fh=As.__private__.buildDocument=function(){Eo(),mo(Xs),nl.publish("buildDocument"),cu(),cl(),zl(),Xa(),cs!==null&&Qh(),Qc(),vc();var no=lo;return zu(),lu(),yo("startxref"),yo(""+no),yo("%%EOF"),mo(So[Bs]),Xs.join(`
`)},ph=As.__private__.getBlob=function(no){return new Blob([Yo(no)],{type:"application/pdf"})},nh=As.output=As.__private__.output=Go(function(no,No){switch(typeof(No=No||{})=="string"?No={filename:No}:No.filename=No.filename||"generated.pdf",no){case void 0:return fh();case"save":As.save(No.filename);break;case"arraybuffer":return Yo(fh());case"blob":return ph(fh());case"bloburi":case"bloburl":if(n$1.URL!==void 0&&typeof n$1.URL.createObjectURL=="function")return n$1.URL&&n$1.URL.createObjectURL(ph(fh()))||void 0;a$1.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oa="",ha=fh();try{oa=h$1(ha)}catch{oa=h$1(unescape(encodeURIComponent(ha)))}return"data:application/pdf;filename="+No.filename+";base64,"+oa;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n$1)==="[object Window]"){var La="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$a=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';No.pdfObjectUrl&&(La=No.pdfObjectUrl,$a="");var za='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+La+'"'+$a+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(No)+");<\/script></body></html>",Tl=n$1.open();return Tl!==null&&Tl.document.write(za),Tl}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n$1)==="[object Window]"){var Ql='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(No.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+No.filename+'" width="500px" height="400px" /></body></html>',Xl=n$1.open();if(Xl!==null){Xl.document.write(Ql);var rc=this;Xl.document.documentElement.querySelector("#pdfViewer").onload=function(){Xl.document.title=No.filename,Xl.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(rc.output("bloburl"))}}return Xl}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n$1)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Bc='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",No)+'"></iframe></body></html>',bu=n$1.open();if(bu!==null&&(bu.document.write(Bc),bu.document.title=No.filename),bu||typeof safari>"u")return bu;break;case"datauri":case"dataurl":return n$1.document.location.href=this.output("datauristring",No);default:return null}}),Cc=function(no){return Array.isArray(Wl)===!0&&Wl.indexOf(no)>-1};switch(ts){case"pt":Po=1;break;case"mm":Po=72/25.4;break;case"cm":Po=72/2.54;break;case"in":Po=72;break;case"px":Po=Cc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Po=12;break;case"ex":Po=6;break;default:if(typeof ts!="number")throw new Error("Invalid unit: "+ts);Po=ts}var Iu=null;ao(),Ss();var pd=function(no){return cs!==null?Iu.encryptor(no,0):function(No){return No}},Ju=As.__private__.getPageInfo=As.getPageInfo=function(no){if(isNaN(no)||no%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Na[no].objId,pageNumber:no,pageContext:Na[no]}},xl=As.__private__.getPageInfoByObjId=function(no){if(isNaN(no)||no%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var No in Na)if(Na[No].objId===no)break;return Ju(No)},Ih=As.__private__.getCurrentPageInfo=As.getCurrentPageInfo=function(){return{objId:Na[Bs].objId,pageNumber:Bs,pageContext:Na[Bs]}};As.addPage=function(){return sl.apply(this,arguments),this},As.setPage=function(){return Pl.apply(this,arguments),mo.call(this,So[Bs]),this},As.insertPage=function(no){return this.addPage(),this.movePage(Bs,no),this},As.movePage=function(no,No){var oa,ha;if(no>No){oa=So[no],ha=Na[no];for(var La=no;La>No;La--)So[La]=So[La-1],Na[La]=Na[La-1];So[No]=oa,Na[No]=ha,this.setPage(No)}else if(no<No){oa=So[no],ha=Na[no];for(var $a=no;$a<No;$a++)So[$a]=So[$a+1],Na[$a]=Na[$a+1];So[No]=oa,Na[No]=ha,this.setPage(No)}return this},As.deletePage=function(){return Ml.apply(this,arguments),this},As.__private__.text=As.text=function(no,No,oa,ha,La){var $a,za,Tl,Ql,Xl,rc,Bc,bu,fu,Jl=(ha=ha||{}).scope||this;if(typeof no=="number"&&typeof No=="number"&&(typeof oa=="string"||Array.isArray(oa))){var kh=oa;oa=No,No=no,no=kh}if(arguments[3]instanceof wl?(Rs("The transform parameter of text() with a Matrix value"),fu=La):(Tl=arguments[4],Ql=arguments[5],_typeof(Bc=arguments[3])==="object"&&Bc!==null||(typeof Tl=="string"&&(Ql=Tl,Tl=null),typeof Bc=="string"&&(Ql=Bc,Bc=null),typeof Bc=="number"&&(Tl=Bc,Bc=null),ha={flags:Bc,angle:Tl,align:Ql})),isNaN(No)||isNaN(oa)||no==null)throw new Error("Invalid arguments passed to jsPDF.text");if(no.length===0)return Jl;var vh="",Td=!1,eu=typeof ha.lineHeightFactor=="number"?ha.lineHeightFactor:Vd,sh=Jl.internal.scaleFactor;function Wd(Mc){return Mc=Mc.split("	").join(Array(ha.TabLen||9).join(" ")),Ta(Mc,Bc)}function oh(Mc){for(var qc,Uc=Mc.concat(),pu=[],Eh=Uc.length;Eh--;)typeof(qc=Uc.shift())=="string"?pu.push(qc):Array.isArray(Mc)&&(qc.length===1||qc[1]===void 0&&qc[2]===void 0)?pu.push(qc[0]):pu.push([qc[0],qc[1],qc[2]]);return pu}function wu(Mc,qc){var Uc;if(typeof Mc=="string")Uc=qc(Mc)[0];else if(Array.isArray(Mc)){for(var pu,Eh,gd=Mc.concat(),oA=[],jf=gd.length;jf--;)typeof(pu=gd.shift())=="string"?oA.push(qc(pu)[0]):Array.isArray(pu)&&typeof pu[0]=="string"&&(Eh=qc(pu[0],pu[1],pu[2]),oA.push([Eh[0],Eh[1],Eh[2]]));Uc=oA}return Uc}var DA=!1,Zu=!0;if(typeof no=="string")DA=!0;else if(Array.isArray(no)){var ed=no.concat();za=[];for(var wh,Gu=ed.length;Gu--;)(typeof(wh=ed.shift())!="string"||Array.isArray(wh)&&typeof wh[0]!="string")&&(Zu=!1);DA=Zu}if(DA===!1)throw new Error('Type of text must be string or Array. "'+no+'" is not recognized.');typeof no=="string"&&(no=no.match(/[\r?\n]/)?no.split(/\r\n|\r|\n/g):[no]);var Dc=ko/Jl.internal.scaleFactor,XA=Dc*(eu-1);switch(ha.baseline){case"bottom":oa-=XA;break;case"top":oa+=Dc-XA;break;case"hanging":oa+=Dc-2*XA;break;case"middle":oa+=Dc/2-XA}if((rc=ha.maxWidth||0)>0&&(typeof no=="string"?no=Jl.splitTextToSize(no,rc):Object.prototype.toString.call(no)==="[object Array]"&&(no=no.reduce(function(Mc,qc){return Mc.concat(Jl.splitTextToSize(qc,rc))},[]))),$a={text:no,x:No,y:oa,options:ha,mutex:{pdfEscape:Ta,activeFontKey:Fo,fonts:ua,activeFontSize:ko}},nl.publish("preProcessText",$a),no=$a.text,Tl=(ha=$a.options).angle,!(fu instanceof wl)&&Tl&&typeof Tl=="number"){Tl*=Math.PI/180,ha.rotationDirection===0&&(Tl=-Tl),fs===ms.ADVANCED&&(Tl=-Tl);var mf=Math.cos(Tl),PA=Math.sin(Tl);fu=new wl(mf,PA,-PA,mf,0,0)}else Tl&&Tl instanceof wl&&(fu=Tl);fs!==ms.ADVANCED||fu||(fu=_u),(Xl=ha.charSpace||mh)!==void 0&&(vh+=$s(Is(Xl))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(bu=ha.horizontalScale)!==void 0&&(vh+=$s(100*bu)+` Tz
`),ha.lang;var Dh=-1,Ph=ha.renderingMode!==void 0?ha.renderingMode:ha.stroke,Mh=Jl.internal.getCurrentPageInfo().pageContext;switch(Ph){case 0:case!1:case"fill":Dh=0;break;case 1:case!0:case"stroke":Dh=1;break;case 2:case"fillThenStroke":Dh=2;break;case 3:case"invisible":Dh=3;break;case 4:case"fillAndAddForClipping":Dh=4;break;case 5:case"strokeAndAddPathForClipping":Dh=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Dh=6;break;case 7:case"addToPathForClipping":Dh=7}var Hf=Mh.usedRenderingMode!==void 0?Mh.usedRenderingMode:-1;Dh!==-1?vh+=Dh+` Tr
`:Hf!==-1&&(vh+=`0 Tr
`),Dh!==-1&&(Mh.usedRenderingMode=Dh),Ql=ha.align||"left";var Ru,Od=ko*eu,rd=Jl.internal.pageSize.getWidth(),tu=ua[Fo];Xl=ha.charSpace||mh,rc=ha.maxWidth||0,Bc=Object.assign({autoencode:!0,noBOM:!0},ha.flags);var qh=[],MA=function(Mc){return Jl.getStringUnitWidth(Mc,{font:tu,charSpace:Xl,fontSize:ko,doKerning:!1})*ko/sh};if(Object.prototype.toString.call(no)==="[object Array]"){var Ch;za=oh(no),Ql!=="left"&&(Ru=za.map(MA));var Oh,vA=0;if(Ql==="right"){No-=Ru[0],no=[],Gu=za.length;for(var sA=0;sA<Gu;sA++)sA===0?(Oh=tc(No),Ch=fc(oa)):(Oh=Is(vA-Ru[sA]),Ch=-Od),no.push([za[sA],Oh,Ch]),vA=Ru[sA]}else if(Ql==="center"){No-=Ru[0]/2,no=[],Gu=za.length;for(var ah=0;ah<Gu;ah++)ah===0?(Oh=tc(No),Ch=fc(oa)):(Oh=Is((vA-Ru[ah])/2),Ch=-Od),no.push([za[ah],Oh,Ch]),vA=Ru[ah]}else if(Ql==="left"){no=[],Gu=za.length;for(var Ca=0;Ca<Gu;Ca++)no.push(za[Ca])}else if(Ql==="justify"&&tu.encoding==="Identity-H"){no=[],Gu=za.length,rc=rc!==0?rc:rd;for(var Qa=0,Fa=0;Fa<Gu;Fa++)if(Ch=Fa===0?fc(oa):-Od,Oh=Fa===0?tc(No):Qa,Fa<Gu-1){var yl=Is((rc-Ru[Fa])/(za[Fa].split(" ").length-1)),Nl=za[Fa].split(" ");no.push([Nl[0]+" ",Oh,Ch]),Qa=0;for(var ac=1;ac<Nl.length;ac++){var ku=(MA(Nl[ac-1]+" "+Nl[ac])-MA(Nl[ac]))*sh+yl;ac==Nl.length-1?no.push([Nl[ac],ku,0]):no.push([Nl[ac]+" ",ku,0]),Qa-=ku}}else no.push([za[Fa],Oh,Ch]);no.push(["",Qa,0])}else{if(Ql!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(no=[],Gu=za.length,rc=rc!==0?rc:rd,Fa=0;Fa<Gu;Fa++)Ch=Fa===0?fc(oa):-Od,Oh=Fa===0?tc(No):0,Fa<Gu-1?qh.push($s(Is((rc-Ru[Fa])/(za[Fa].split(" ").length-1)))):qh.push(0),no.push([za[Fa],Oh,Ch])}}var Ec=typeof ha.R2L=="boolean"?ha.R2L:Bo;Ec===!0&&(no=wu(no,function(Mc,qc,Uc){return[Mc.split("").reverse().join(""),qc,Uc]})),$a={text:no,x:No,y:oa,options:ha,mutex:{pdfEscape:Ta,activeFontKey:Fo,fonts:ua,activeFontSize:ko}},nl.publish("postProcessText",$a),no=$a.text,Td=$a.mutex.isHex||!1;var yA=ua[Fo].encoding;yA!=="WinAnsiEncoding"&&yA!=="StandardEncoding"||(no=wu(no,function(Mc,qc,Uc){return[Wd(Mc),qc,Uc]})),za=oh(no),no=[];for(var vf,Nh,Bd,Nd=0,Gh=1,nd=Array.isArray(za[0])?Gh:Nd,_d="",Pc=function(Mc,qc,Uc){var pu="";return Uc instanceof wl?(Uc=typeof ha.angle=="number"?dc(Uc,new wl(1,0,0,1,Mc,qc)):dc(new wl(1,0,0,1,Mc,qc),Uc),fs===ms.ADVANCED&&(Uc=dc(new wl(1,0,0,-1,0,0),Uc)),pu=Uc.join(" ")+` Tm
`):pu=$s(Mc)+" "+$s(qc)+` Td
`,pu},Ld=0;Ld<za.length;Ld++){switch(_d="",nd){case Gh:Bd=(Td?"<":"(")+za[Ld][0]+(Td?">":")"),vf=parseFloat(za[Ld][1]),Nh=parseFloat(za[Ld][2]);break;case Nd:Bd=(Td?"<":"(")+za[Ld]+(Td?">":")"),vf=tc(No),Nh=fc(oa)}qh!==void 0&&qh[Ld]!==void 0&&(_d=qh[Ld]+` Tw
`),Ld===0?no.push(_d+Pc(vf,Nh,fu)+Bd):nd===Nd?no.push(_d+Bd):nd===Gh&&no.push(_d+Pc(vf,Nh,fu)+Bd)}no=nd===Nd?no.join(` Tj
T* `):no.join(` Tj
`),no+=` Tj
`;var sd=`BT
/`;return sd+=Fo+" "+ko+` Tf
`,sd+=$s(ko*eu)+` TL
`,sd+=Zc+`
`,sd+=vh,sd+=no,yo(sd+="ET"),us[Fo]=!0,Jl};var gh=As.__private__.clip=As.clip=function(no){return yo(no==="evenodd"?"W*":"W"),this};As.clipEvenOdd=function(){return gh("evenodd")},As.__private__.discardPath=As.discardPath=function(){return yo("n"),this};var Lu=As.__private__.isValidStyle=function(no){var No=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(no)!==-1&&(No=!0),No};As.__private__.setDefaultPathOperation=As.setDefaultPathOperation=function(no){return Lu(no)&&(ls=no),this};var LA=As.__private__.getStyle=As.getStyle=function(no){var No=ls;switch(no){case"D":case"S":No="S";break;case"F":No="f";break;case"FD":case"DF":No="B";break;case"f":case"f*":case"B":case"B*":No=no}return No},FA=As.close=function(){return yo("h"),this};As.stroke=function(){return yo("S"),this},As.fill=function(no){return pA("f",no),this},As.fillEvenOdd=function(no){return pA("f*",no),this},As.fillStroke=function(no){return pA("B",no),this},As.fillStrokeEvenOdd=function(no){return pA("B*",no),this};var pA=function(no,No){_typeof(No)==="object"?rA(No,no):yo(no)},Vh=function(no){no===null||fs===ms.ADVANCED&&no===void 0||(no=LA(no),yo(no))};function xd(no,No,oa,ha,La){var $a=new M$1(No||this.boundingBox,oa||this.xStep,ha||this.yStep,this.gState,La||this.matrix);$a.stream=this.stream;var za=no+"$$"+this.cloneIndex+++"$$";return kc(za,$a),$a}var rA=function(no,No){var oa=Ea[no.key],ha=Va[oa];if(ha instanceof B$1)yo("q"),yo(Of(No)),ha.gState&&As.setGState(ha.gState),yo(no.matrix.toString()+" cm"),yo("/"+oa+" sh"),yo("Q");else if(ha instanceof M$1){var La=new wl(1,0,0,-1,0,mA());no.matrix&&(La=La.multiply(no.matrix||_u),oa=xd.call(ha,no.key,no.boundingBox,no.xStep,no.yStep,La).id),yo("q"),yo("/Pattern cs"),yo("/"+oa+" scn"),ha.gState&&As.setGState(ha.gState),yo(No),yo("Q")}},Of=function(no){switch(no){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},zc=As.moveTo=function(no,No){return yo($s(Is(no))+" "+$s(Ws(No))+" m"),this},Rc=As.lineTo=function(no,No){return yo($s(Is(no))+" "+$s(Ws(No))+" l"),this},Sd=As.curveTo=function(no,No,oa,ha,La,$a){return yo([$s(Is(no)),$s(Ws(No)),$s(Is(oa)),$s(Ws(ha)),$s(Is(La)),$s(Ws($a)),"c"].join(" ")),this};As.__private__.line=As.line=function(no,No,oa,ha,La){if(isNaN(no)||isNaN(No)||isNaN(oa)||isNaN(ha)||!Lu(La))throw new Error("Invalid arguments passed to jsPDF.line");return fs===ms.COMPAT?this.lines([[oa-no,ha-No]],no,No,[1,1],La||"S"):this.lines([[oa-no,ha-No]],no,No,[1,1]).stroke()},As.__private__.lines=As.lines=function(no,No,oa,ha,La,$a){var za,Tl,Ql,Xl,rc,Bc,bu,fu,Jl,kh,vh,Td;if(typeof no=="number"&&(Td=oa,oa=No,No=no,no=Td),ha=ha||[1,1],$a=$a||!1,isNaN(No)||isNaN(oa)||!Array.isArray(no)||!Array.isArray(ha)||!Lu(La)||typeof $a!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(zc(No,oa),za=ha[0],Tl=ha[1],Xl=no.length,kh=No,vh=oa,Ql=0;Ql<Xl;Ql++)(rc=no[Ql]).length===2?(kh=rc[0]*za+kh,vh=rc[1]*Tl+vh,Rc(kh,vh)):(Bc=rc[0]*za+kh,bu=rc[1]*Tl+vh,fu=rc[2]*za+kh,Jl=rc[3]*Tl+vh,kh=rc[4]*za+kh,vh=rc[5]*Tl+vh,Sd(Bc,bu,fu,Jl,kh,vh));return $a&&FA(),Vh(La),this},As.path=function(no){for(var No=0;No<no.length;No++){var oa=no[No],ha=oa.c;switch(oa.op){case"m":zc(ha[0],ha[1]);break;case"l":Rc(ha[0],ha[1]);break;case"c":Sd.apply(this,ha);break;case"h":FA()}}return this},As.__private__.rect=As.rect=function(no,No,oa,ha,La){if(isNaN(no)||isNaN(No)||isNaN(oa)||isNaN(ha)||!Lu(La))throw new Error("Invalid arguments passed to jsPDF.rect");return fs===ms.COMPAT&&(ha=-ha),yo([$s(Is(no)),$s(Ws(No)),$s(Is(oa)),$s(Is(ha)),"re"].join(" ")),Vh(La),this},As.__private__.triangle=As.triangle=function(no,No,oa,ha,La,$a,za){if(isNaN(no)||isNaN(No)||isNaN(oa)||isNaN(ha)||isNaN(La)||isNaN($a)||!Lu(za))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oa-no,ha-No],[La-oa,$a-ha],[no-La,No-$a]],no,No,[1,1],za,!0),this},As.__private__.roundedRect=As.roundedRect=function(no,No,oa,ha,La,$a,za){if(isNaN(no)||isNaN(No)||isNaN(oa)||isNaN(ha)||isNaN(La)||isNaN($a)||!Lu(za))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Tl=4/3*(Math.SQRT2-1);return La=Math.min(La,.5*oa),$a=Math.min($a,.5*ha),this.lines([[oa-2*La,0],[La*Tl,0,La,$a-$a*Tl,La,$a],[0,ha-2*$a],[0,$a*Tl,-La*Tl,$a,-La,$a],[2*La-oa,0],[-La*Tl,0,-La,-$a*Tl,-La,-$a],[0,2*$a-ha],[0,-$a*Tl,La*Tl,-$a,La,-$a]],no+La,No,[1,1],za,!0),this},As.__private__.ellipse=As.ellipse=function(no,No,oa,ha,La){if(isNaN(no)||isNaN(No)||isNaN(oa)||isNaN(ha)||!Lu(La))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $a=4/3*(Math.SQRT2-1)*oa,za=4/3*(Math.SQRT2-1)*ha;return zc(no+oa,No),Sd(no+oa,No-za,no+$a,No-ha,no,No-ha),Sd(no-$a,No-ha,no-oa,No-za,no-oa,No),Sd(no-oa,No+za,no-$a,No+ha,no,No+ha),Sd(no+$a,No+ha,no+oa,No+za,no+oa,No),Vh(La),this},As.__private__.circle=As.circle=function(no,No,oa,ha){if(isNaN(no)||isNaN(No)||isNaN(oa)||!Lu(ha))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(no,No,oa,oa,ha)},As.setFont=function(no,No,oa){return oa&&(No=Ts(No,oa)),Fo=Tc(no,No,{disableWarning:!1}),this};var IA=As.__private__.getFont=As.getFont=function(){return ua[Tc.apply(As,arguments)]};As.__private__.getFontList=As.getFontList=function(){var no,No,oa={};for(no in ka)if(ka.hasOwnProperty(no))for(No in oa[no]=[],ka[no])ka[no].hasOwnProperty(No)&&oa[no].push(No);return oa},As.addFont=function(no,No,oa,ha,La){var $a=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$a.indexOf(arguments[3])!==-1?La=arguments[3]:arguments[3]&&$a.indexOf(arguments[3])==-1&&(oa=Ts(oa,ha)),La=La||"Identity-H",Nu.call(this,no,No,oa,La)};var Vd,gA=es.lineWidth||.200025,kA=As.__private__.getLineWidth=As.getLineWidth=function(){return gA},sa=As.__private__.setLineWidth=As.setLineWidth=function(no){return gA=no,yo($s(Is(no))+" w"),this};As.__private__.setLineDash=E$2.API.setLineDash=E$2.API.setLineDashPattern=function(no,No){if(no=no||[],No=No||0,isNaN(No)||!Array.isArray(no))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return no=no.map(function(oa){return $s(Is(oa))}).join(" "),No=$s(Is(No)),yo("["+no+"] "+No+" d"),this};var Aa=As.__private__.getLineHeight=As.getLineHeight=function(){return ko*Vd};As.__private__.getLineHeight=As.getLineHeight=function(){return ko*Vd};var Ra=As.__private__.setLineHeightFactor=As.setLineHeightFactor=function(no){return typeof(no=no||1.15)=="number"&&(Vd=no),this},ll=As.__private__.getLineHeightFactor=As.getLineHeightFactor=function(){return Vd};Ra(es.lineHeight);var tc=As.__private__.getHorizontalCoordinate=function(no){return Is(no)},fc=As.__private__.getVerticalCoordinate=function(no){return fs===ms.ADVANCED?no:Na[Bs].mediaBox.topRightY-Na[Bs].mediaBox.bottomLeftY-Is(no)},Jc=As.__private__.getHorizontalCoordinateString=As.getHorizontalCoordinateString=function(no){return $s(tc(no))},pc=As.__private__.getVerticalCoordinateString=As.getVerticalCoordinateString=function(no){return $s(fc(no))},$l=es.strokeColor||"0 G";As.__private__.getStrokeColor=As.getDrawColor=function(){return Ah($l)},As.__private__.setStrokeColor=As.setDrawColor=function(no,No,oa,ha){return $l=Wu({ch1:no,ch2:No,ch3:oa,ch4:ha,pdfColorType:"draw",precision:2}),yo($l),this};var qu=es.fillColor||"0 g";As.__private__.getFillColor=As.getFillColor=function(){return Ah(qu)},As.__private__.setFillColor=As.setFillColor=function(no,No,oa,ha){return qu=Wu({ch1:no,ch2:No,ch3:oa,ch4:ha,pdfColorType:"fill",precision:2}),yo(qu),this};var Zc=es.textColor||"0 g",Pd=As.__private__.getTextColor=As.getTextColor=function(){return Ah(Zc)};As.__private__.setTextColor=As.setTextColor=function(no,No,oa,ha){return Zc=Wu({ch1:no,ch2:No,ch3:oa,ch4:ha,pdfColorType:"text",precision:3}),this};var mh=es.charSpace,Zh=As.__private__.getCharSpace=As.getCharSpace=function(){return parseFloat(mh||0)};As.__private__.setCharSpace=As.setCharSpace=function(no){if(isNaN(no))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return mh=no,this};var iA=0;As.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},As.__private__.setLineCap=As.setLineCap=function(no){var No=As.CapJoinStyles[no];if(No===void 0)throw new Error("Line cap style of '"+no+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return iA=No,yo(No+" J"),this};var Wh=0;As.__private__.setLineJoin=As.setLineJoin=function(no){var No=As.CapJoinStyles[no];if(No===void 0)throw new Error("Line join style of '"+no+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wh=No,yo(No+" j"),this},As.__private__.setLineMiterLimit=As.__private__.setMiterLimit=As.setLineMiterLimit=As.setMiterLimit=function(no){if(no=no||0,isNaN(no))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return yo($s(Is(no))+" M"),this},As.GState=j$2,As.setGState=function(no){(no=typeof no=="string"?il[kl[no]]:Lp(null,no)).equals(Ja)||(yo("/"+no.id+" gs"),Ja=no)};var Lp=function(no,No){if(!no||!kl[no]){var oa=!1;for(var ha in il)if(il.hasOwnProperty(ha)&&il[ha].equals(No)){oa=!0;break}if(oa)No=il[ha];else{var La="GS"+(Object.keys(il).length+1).toString(10);il[La]=No,No.id=La}return no&&(kl[no]=No.id),nl.publish("addGState",No),No}};As.addGState=function(no,No){return Lp(no,No),this},As.saveGraphicsState=function(){return yo("q"),Ba.push({key:Fo,size:ko,color:Zc}),this},As.restoreGraphicsState=function(){yo("Q");var no=Ba.pop();return Fo=no.key,ko=no.size,Zc=no.color,Ja=null,this},As.setCurrentTransformationMatrix=function(no){return yo(no.toString()+" cm"),this},As.comment=function(no){return yo("#"+no),this};var zh=function(no,No){var oa=no||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oa},set:function($a){isNaN($a)||(oa=parseFloat($a))}});var ha=No||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ha},set:function($a){isNaN($a)||(ha=parseFloat($a))}});var La="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return La},set:function($a){La=$a.toString()}}),this},Nf=function(no,No,oa,ha){zh.call(this,no,No),this.type="rect";var La=oa||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return La},set:function(za){isNaN(za)||(La=parseFloat(za))}});var $a=ha||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $a},set:function(za){isNaN(za)||($a=parseFloat(za))}}),this},gf=function(){this.page=Ua,this.currentPage=Bs,this.pages=So.slice(0),this.pagesContext=Na.slice(0),this.x=Zo,this.y=na,this.matrix=ma,this.width=uu(Bs),this.height=mA(Bs),this.outputDestination=vo,this.id="",this.objectNumber=-1};gf.prototype.restore=function(){Ua=this.page,Bs=this.currentPage,Na=this.pagesContext,So=this.pages,Zo=this.x,na=this.y,ma=this.matrix,Md(Bs,this.width),Uf(Bs,this.height),vo=this.outputDestination};var nA=function(no,No,oa,ha,La){ou.push(new gf),Ua=Bs=0,So=[],Zo=no,na=No,ma=La,Oa([oa,ha])},Rf=function(no){if($c[no])ou.pop().restore();else{var No=new gf,oa="Xo"+(Object.keys(El).length+1).toString(10);No.id=oa,$c[no]=oa,El[oa]=No,nl.publish("addFormObject",No),ou.pop().restore()}};for(var YA in As.beginFormObject=function(no,No,oa,ha,La){return nA(no,No,oa,ha,La),this},As.endFormObject=function(no){return Rf(no),this},As.doFormObject=function(no,No){var oa=El[$c[no]];return yo("q"),yo(No.toString()+" cm"),yo("/"+oa.id+" Do"),yo("Q"),this},As.getFormObject=function(no){var No=El[$c[no]];return{x:No.x,y:No.y,width:No.width,height:No.height,matrix:No.matrix}},As.save=function(no,No){return no=no||"generated.pdf",(No=No||{}).returnPromise=No.returnPromise||!1,No.returnPromise===!1?(l$1(ph(fh()),no),typeof l$1.unload=="function"&&n$1.setTimeout&&setTimeout(l$1.unload,911),this):new Promise(function(oa,ha){try{var La=l$1(ph(fh()),no);typeof l$1.unload=="function"&&n$1.setTimeout&&setTimeout(l$1.unload,911),oa(La)}catch($a){ha($a.message)}})},E$2.API)E$2.API.hasOwnProperty(YA)&&(YA==="events"&&E$2.API.events.length?function(no,No){var oa,ha,La;for(La=No.length-1;La!==-1;La--)oa=No[La][0],ha=No[La][1],no.subscribe.apply(no,[oa].concat(typeof ha=="function"?[ha]:ha))}(nl,E$2.API.events):As[YA]=E$2.API[YA]);var uu=As.getPageWidth=function(no){return(Na[no=no||Bs].mediaBox.topRightX-Na[no].mediaBox.bottomLeftX)/Po},Md=As.setPageWidth=function(no,No){Na[no].mediaBox.topRightX=No*Po+Na[no].mediaBox.bottomLeftX},mA=As.getPageHeight=function(no){return(Na[no=no||Bs].mediaBox.topRightY-Na[no].mediaBox.bottomLeftY)/Po},Uf=As.setPageHeight=function(no,No){Na[no].mediaBox.topRightY=No*Po+Na[no].mediaBox.bottomLeftY};return As.internal={pdfEscape:Ta,getStyle:LA,getFont:IA,getFontSize:jo,getCharSpace:Zh,getTextColor:Pd,getLineHeight:Aa,getLineHeightFactor:ll,getLineWidth:kA,write:Jo,getHorizontalCoordinate:tc,getVerticalCoordinate:fc,getCoordinateString:Jc,getVerticalCoordinateString:pc,collections:{},newObject:Dl,newAdditionalObject:au,newObjectDeferred:Yc,newObjectDeferredBegin:Pu,getFilters:Th,putStream:ca,events:nl,scaleFactor:Po,pageSize:{getWidth:function(){return uu(Bs)},setWidth:function(no){Md(Bs,no)},getHeight:function(){return mA(Bs)},setHeight:function(no){Uf(Bs,no)}},encryptionOptions:cs,encryption:Iu,getEncryptor:pd,output:nh,getNumberOfPages:Ac,pages:So,out:yo,f2:Qs,f3:Fs,getPageInfo:Ju,getPageInfoByObjId:xl,getCurrentPageInfo:Ih,getPDFVersion:ys,Point:zh,Rectangle:Nf,Matrix:wl,hasHotfix:Cc},Object.defineProperty(As.internal.pageSize,"width",{get:function(){return uu(Bs)},set:function(no){Md(Bs,no)},enumerable:!0,configurable:!0}),Object.defineProperty(As.internal.pageSize,"height",{get:function(){return mA(Bs)},set:function(no){Uf(Bs,no)},enumerable:!0,configurable:!0}),Ad.call(As,Wo),Fo="F1",sl(rs,Ri),nl.publish("initialized"),As}I$2.prototype.lsbFirstWord=function(es){return String.fromCharCode(es>>0&255,es>>8&255,es>>16&255,es>>24&255)},I$2.prototype.toHexString=function(es){return es.split("").map(function(ki){return("0"+(255&ki.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I$2.prototype.hexToBytes=function(es){for(var ki=[],Ri=0;Ri<es.length;Ri+=2)ki.push(String.fromCharCode(parseInt(es.substr(Ri,2),16)));return ki.join("")},I$2.prototype.processOwnerPassword=function(es,ki){return P$2(x$2(ki).substr(0,5),es)},I$2.prototype.encryptor=function(es,ki){var Ri=x$2(this.encryptionKey+String.fromCharCode(255&es,es>>8&255,es>>16&255,255&ki,ki>>8&255)).substr(0,10);return function(ts){return P$2(Ri,ts)}},j$2.prototype.equals=function(es){var ki,Ri="id,objectNumber,equals";if(!es||_typeof(es)!==_typeof(this))return!1;var ts=0;for(ki in this)if(!(Ri.indexOf(ki)>=0)){if(this.hasOwnProperty(ki)&&!es.hasOwnProperty(ki)||this[ki]!==es[ki])return!1;ts++}for(ki in es)es.hasOwnProperty(ki)&&Ri.indexOf(ki)<0&&ts--;return ts===0},E$2.API={events:[]},E$2.version="2.5.2";var q$3=E$2.API,D$3=1,R$2=function(es){return es.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T$1=function(es){return es.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U$1=function(es){return es.toFixed(2)},z$1=function(es){return es.toFixed(5)};q$3.__acroform__={};var H$1=function(es,ki){es.prototype=Object.create(ki.prototype),es.prototype.constructor=es},W$1=function(es){return es*D$3},V$1=function(es){var ki=new ut$1,Ri=At$1.internal.getHeight(es)||0,ts=At$1.internal.getWidth(es)||0;return ki.BBox=[0,0,Number(U$1(ts)),Number(U$1(Ri))],ki},G$3=q$3.__acroform__.setBit=function(es,ki){if(es=es||0,ki=ki||0,isNaN(es)||isNaN(ki))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return es|=1<<ki},Y$2=q$3.__acroform__.clearBit=function(es,ki){if(es=es||0,ki=ki||0,isNaN(es)||isNaN(ki))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return es&=~(1<<ki)},J$1=q$3.__acroform__.getBit=function(es,ki){if(isNaN(es)||isNaN(ki))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return es&1<<ki?1:0},X$1=q$3.__acroform__.getBitForPdf=function(es,ki){if(isNaN(es)||isNaN(ki))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J$1(es,ki-1)},K$1=q$3.__acroform__.setBitForPdf=function(es,ki){if(isNaN(es)||isNaN(ki))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G$3(es,ki-1)},Z$1=q$3.__acroform__.clearBitForPdf=function(es,ki){if(isNaN(es)||isNaN(ki))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y$2(es,ki-1)},$$3=q$3.__acroform__.calculateCoordinates=function(es,ki){var Ri=ki.internal.getHorizontalCoordinate,ts=ki.internal.getVerticalCoordinate,rs=es[0],is=es[1],ns=es[2],ss=es[3],os={};return os.lowerLeft_X=Ri(rs)||0,os.lowerLeft_Y=ts(is+ss)||0,os.upperRight_X=Ri(rs+ns)||0,os.upperRight_Y=ts(is)||0,[Number(U$1(os.lowerLeft_X)),Number(U$1(os.lowerLeft_Y)),Number(U$1(os.upperRight_X)),Number(U$1(os.upperRight_Y))]},Q$2=function(es){if(es.appearanceStreamContent)return es.appearanceStreamContent;if(es.V||es.DV){var ki=[],Ri=es._V||es.DV,ts=tt$1(es,Ri),rs=es.scope.internal.getFont(es.fontName,es.fontStyle).id;ki.push("/Tx BMC"),ki.push("q"),ki.push("BT"),ki.push(es.scope.__private__.encodeColorString(es.color)),ki.push("/"+rs+" "+U$1(ts.fontSize)+" Tf"),ki.push("1 0 0 1 0 0 Tm"),ki.push(ts.text),ki.push("ET"),ki.push("Q"),ki.push("EMC");var is=V$1(es);return is.scope=es.scope,is.stream=ki.join(`
`),is}},tt$1=function(es,ki){var Ri=es.fontSize===0?es.maxFontSize:es.fontSize,ts={text:"",fontSize:""},rs=(ki=(ki=ki.substr(0,1)=="("?ki.substr(1):ki).substr(ki.length-1)==")"?ki.substr(0,ki.length-1):ki).split(" ");rs=es.multiline?rs.map(function(Fs){return Fs.split(`
`)}):rs.map(function(Fs){return[Fs]});var is=Ri,ns=At$1.internal.getHeight(es)||0;ns=ns<0?-ns:ns;var ss=At$1.internal.getWidth(es)||0;ss=ss<0?-ss:ss;var os=function(Fs,Is,Ms){if(Fs+1<rs.length){var Ws=Is+" "+rs[Fs+1][0];return et$1(Ws,es,Ms).width<=ss-4}return!1};is++;e:for(;is>0;){ki="",is--;var ls,cs,hs=et$1("3",es,is).height,us=es.multiline?ns-is:(ns-hs)/2,As=us+=2,bs=0,ys=0,Cs=0;if(is<=0){ki=`(...) Tj
`,ki+="% Width of Text: "+et$1(ki,es,is=12).width+", FieldWidth:"+ss+`
`;break}for(var ps="",ms=0,fs=0;fs<rs.length;fs++)if(rs.hasOwnProperty(fs)){var gs=!1;if(rs[fs].length!==1&&Cs!==rs[fs].length-1){if((hs+2)*(ms+2)+2>ns)continue e;ps+=rs[fs][Cs],gs=!0,ys=fs,fs--}else{ps=(ps+=rs[fs][Cs]+" ").substr(ps.length-1)==" "?ps.substr(0,ps.length-1):ps;var ws=parseInt(fs),Ts=os(ws,ps,is),$s=fs>=rs.length-1;if(Ts&&!$s){ps+=" ",Cs=0;continue}if(Ts||$s){if($s)ys=ws;else if(es.multiline&&(hs+2)*(ms+2)+2>ns)continue e}else{if(!es.multiline||(hs+2)*(ms+2)+2>ns)continue e;ys=ws}}for(var Rs="",Ps=bs;Ps<=ys;Ps++){var Qs=rs[Ps];if(es.multiline){if(Ps===ys){Rs+=Qs[Cs]+" ",Cs=(Cs+1)%Qs.length;continue}if(Ps===bs){Rs+=Qs[Qs.length-1]+" ";continue}}Rs+=Qs[0]+" "}switch(Rs=Rs.substr(Rs.length-1)==" "?Rs.substr(0,Rs.length-1):Rs,cs=et$1(Rs,es,is).width,es.textAlign){case"right":ls=ss-cs-2;break;case"center":ls=(ss-cs)/2;break;case"left":default:ls=2}ki+=U$1(ls)+" "+U$1(As)+` Td
`,ki+="("+R$2(Rs)+`) Tj
`,ki+=-U$1(ls)+` 0 Td
`,As=-(is+2),cs=0,bs=gs?ys:ys+1,ms++,ps=""}break}return ts.text=ki,ts.fontSize=is,ts},et$1=function(es,ki,Ri){var ts=ki.scope.internal.getFont(ki.fontName,ki.fontStyle),rs=ki.scope.getStringUnitWidth(es,{font:ts,fontSize:parseFloat(Ri),charSpace:0})*parseFloat(Ri);return{height:ki.scope.getStringUnitWidth("3",{font:ts,fontSize:parseFloat(Ri),charSpace:0})*parseFloat(Ri)*1.5,width:rs}},rt$1={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt$1=function(es,ki){var Ri={type:"reference",object:es};ki.internal.getPageInfo(es.page).pageContext.annotations.find(function(ts){return ts.type===Ri.type&&ts.object===Ri.object})===void 0&&ki.internal.getPageInfo(es.page).pageContext.annotations.push(Ri)},it$1=function(es,ki){for(var Ri in es)if(es.hasOwnProperty(Ri)){var ts=Ri,rs=es[Ri];ki.internal.newObjectDeferredBegin(rs.objId,!0),_typeof(rs)==="object"&&typeof rs.putStream=="function"&&rs.putStream(),delete es[ts]}},at$1=function(es,ki){if(ki.scope=es,es.internal!==void 0&&(es.internal.acroformPlugin===void 0||es.internal.acroformPlugin.isInitialized===!1)){if(lt$1.FieldNum=0,es.internal.acroformPlugin=JSON.parse(JSON.stringify(rt$1)),es.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D$3=es.internal.scaleFactor,es.internal.acroformPlugin.acroFormDictionaryRoot=new ht$1,es.internal.acroformPlugin.acroFormDictionaryRoot.scope=es,es.internal.acroformPlugin.acroFormDictionaryRoot._eventID=es.internal.events.subscribe("postPutResources",function(){(function(Ri){Ri.internal.events.unsubscribe(Ri.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete Ri.internal.acroformPlugin.acroFormDictionaryRoot._eventID,Ri.internal.acroformPlugin.printedOut=!0})(es)}),es.internal.events.subscribe("buildDocument",function(){(function(Ri){Ri.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var ts=Ri.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var rs in ts)if(ts.hasOwnProperty(rs)){var is=ts[rs];is.objId=void 0,is.hasAnnotation&&nt$1(is,Ri)}})(es)}),es.internal.events.subscribe("putCatalog",function(){(function(Ri){if(Ri.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");Ri.internal.write("/AcroForm "+Ri.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(es)}),es.internal.events.subscribe("postPutPages",function(Ri){(function(ts,rs){var is=!ts;for(var ns in ts||(rs.internal.newObjectDeferredBegin(rs.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),rs.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),ts=ts||rs.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(ts.hasOwnProperty(ns)){var ss=ts[ns],os=[],ls=ss.Rect;if(ss.Rect&&(ss.Rect=$$3(ss.Rect,rs)),rs.internal.newObjectDeferredBegin(ss.objId,!0),ss.DA=At$1.createDefaultAppearanceStream(ss),_typeof(ss)==="object"&&typeof ss.getKeyValueListForStream=="function"&&(os=ss.getKeyValueListForStream()),ss.Rect=ls,ss.hasAppearanceStream&&!ss.appearanceStreamContent){var cs=Q$2(ss);os.push({key:"AP",value:"<</N "+cs+">>"}),rs.internal.acroformPlugin.xForms.push(cs)}if(ss.appearanceStreamContent){var hs="";for(var us in ss.appearanceStreamContent)if(ss.appearanceStreamContent.hasOwnProperty(us)){var As=ss.appearanceStreamContent[us];if(hs+="/"+us+" ",hs+="<<",Object.keys(As).length>=1||Array.isArray(As)){for(var ns in As)if(As.hasOwnProperty(ns)){var bs=As[ns];typeof bs=="function"&&(bs=bs.call(rs,ss)),hs+="/"+ns+" "+bs+" ",rs.internal.acroformPlugin.xForms.indexOf(bs)>=0||rs.internal.acroformPlugin.xForms.push(bs)}}else typeof(bs=As)=="function"&&(bs=bs.call(rs,ss)),hs+="/"+ns+" "+bs,rs.internal.acroformPlugin.xForms.indexOf(bs)>=0||rs.internal.acroformPlugin.xForms.push(bs);hs+=">>"}os.push({key:"AP",value:`<<
`+hs+">>"})}rs.internal.putStream({additionalKeyValues:os,objectId:ss.objId}),rs.internal.out("endobj")}is&&it$1(rs.internal.acroformPlugin.xForms,rs)})(Ri,es)}),es.internal.acroformPlugin.isInitialized=!0}},ot$1=q$3.__acroform__.arrayToPdfArray=function(es,ki,Ri){var ts=function(ns){return ns};if(Array.isArray(es)){for(var rs="[",is=0;is<es.length;is++)switch(is!==0&&(rs+=" "),_typeof(es[is])){case"boolean":case"number":case"object":rs+=es[is].toString();break;case"string":es[is].substr(0,1)!=="/"?(ki!==void 0&&Ri&&(ts=Ri.internal.getEncryptor(ki)),rs+="("+R$2(ts(es[is].toString()))+")"):rs+=es[is].toString()}return rs+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st$1=function(es,ki,Ri){var ts=function(rs){return rs};return ki!==void 0&&Ri&&(ts=Ri.internal.getEncryptor(ki)),(es=es||"").toString(),es="("+R$2(ts(es))+")"},ct$1=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(es){this._objId=es}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct$1.prototype.toString=function(){return this.objId+" 0 R"},ct$1.prototype.putStream=function(){var es=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:es,objectId:this.objId}),this.scope.internal.out("endobj")},ct$1.prototype.getKeyValueListForStream=function(){var es=[],ki=Object.getOwnPropertyNames(this).filter(function(is){return is!="content"&&is!="appearanceStreamContent"&&is!="scope"&&is!="objId"&&is.substring(0,1)!="_"});for(var Ri in ki)if(Object.getOwnPropertyDescriptor(this,ki[Ri]).configurable===!1){var ts=ki[Ri],rs=this[ts];rs&&(Array.isArray(rs)?es.push({key:ts,value:ot$1(rs,this.objId,this.scope)}):rs instanceof ct$1?(rs.scope=this.scope,es.push({key:ts,value:rs.objId+" 0 R"})):typeof rs!="function"&&es.push({key:ts,value:rs}))}return es};var ut$1=function(){ct$1.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var es,ki=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return ki},set:function(Ri){ki=Ri}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(Ri){es=Ri.trim()},get:function(){return es||null}})};H$1(ut$1,ct$1);var ht$1=function(){ct$1.call(this);var es,ki=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return ki.length>0?ki:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return ki}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(es){var Ri=function(ts){return ts};return this.scope&&(Ri=this.scope.internal.getEncryptor(this.objId)),"("+R$2(Ri(es))+")"}},set:function(Ri){es=Ri}})};H$1(ht$1,ct$1);var lt$1=function es(){ct$1.call(this);var ki=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return ki},set:function(ps){if(isNaN(ps))throw new Error('Invalid value "'+ps+'" for attribute F supplied.');ki=ps}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!X$1(ki,3)},set:function(ps){ps?this.F=K$1(ki,3):this.F=Z$1(ki,3)}});var Ri=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return Ri},set:function(ps){if(isNaN(ps))throw new Error('Invalid value "'+ps+'" for attribute Ff supplied.');Ri=ps}});var ts=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(ts.length!==0)return ts},set:function(ps){ts=ps!==void 0?ps:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!ts||isNaN(ts[0])?0:ts[0]},set:function(ps){ts[0]=ps}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!ts||isNaN(ts[1])?0:ts[1]},set:function(ps){ts[1]=ps}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!ts||isNaN(ts[2])?0:ts[2]},set:function(ps){ts[2]=ps}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!ts||isNaN(ts[3])?0:ts[3]},set:function(ps){ts[3]=ps}});var rs="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return rs},set:function(ps){switch(ps){case"/Btn":case"/Tx":case"/Ch":case"/Sig":rs=ps;break;default:throw new Error('Invalid value "'+ps+'" for attribute FT supplied.')}}});var is=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!is||is.length<1){if(this instanceof yt$1)return;is="FieldObject"+es.FieldNum++}var ps=function(ms){return ms};return this.scope&&(ps=this.scope.internal.getEncryptor(this.objId)),"("+R$2(ps(is))+")"},set:function(ps){is=ps.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return is},set:function(ps){is=ps}});var ns="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return ns},set:function(ps){ns=ps}});var ss="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return ss},set:function(ps){ss=ps}});var os=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return os},set:function(ps){os=ps}});var ls=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return ls===void 0?50/D$3:ls},set:function(ps){ls=ps}});var cs="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return cs},set:function(ps){cs=ps}});var hs="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!hs||this instanceof yt$1||this instanceof Nt$1))return st$1(hs,this.objId,this.scope)},set:function(ps){ps=ps.toString(),hs=ps}});var us=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(us)return this instanceof mt$1?us:st$1(us,this.objId,this.scope)},set:function(ps){ps=ps.toString(),us=this instanceof mt$1?ps:ps.substr(0,1)==="("?T$1(ps.substr(1,ps.length-2)):T$1(ps)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt$1?T$1(us.substr(1,us.length-1)):us},set:function(ps){ps=ps.toString(),us=this instanceof mt$1?"/"+ps:ps}});var As=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(As)return As},set:function(ps){this.V=ps}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(As)return this instanceof mt$1?As:st$1(As,this.objId,this.scope)},set:function(ps){ps=ps.toString(),As=this instanceof mt$1?ps:ps.substr(0,1)==="("?T$1(ps.substr(1,ps.length-2)):T$1(ps)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt$1?T$1(As.substr(1,As.length-1)):As},set:function(ps){ps=ps.toString(),As=this instanceof mt$1?"/"+ps:ps}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var bs,ys=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return ys},set:function(ps){ps=!!ps,ys=ps}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(bs)return bs},set:function(ps){bs=ps}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,1)},set:function(ps){ps?this.Ff=K$1(this.Ff,1):this.Ff=Z$1(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,2)},set:function(ps){ps?this.Ff=K$1(this.Ff,2):this.Ff=Z$1(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,3)},set:function(ps){ps?this.Ff=K$1(this.Ff,3):this.Ff=Z$1(this.Ff,3)}});var Cs=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Cs!==null)return Cs},set:function(ps){if([0,1,2].indexOf(ps)===-1)throw new Error('Invalid value "'+ps+'" for attribute Q supplied.');Cs=ps}}),Object.defineProperty(this,"textAlign",{get:function(){var ps;switch(Cs){case 0:default:ps="left";break;case 1:ps="center";break;case 2:ps="right"}return ps},configurable:!0,enumerable:!0,set:function(ps){switch(ps){case"right":case 2:Cs=2;break;case"center":case 1:Cs=1;break;case"left":case 0:default:Cs=0}}})};H$1(lt$1,ct$1);var ft$1=function(){lt$1.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var es=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return es},set:function(Ri){es=Ri}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return es},set:function(Ri){es=Ri}});var ki=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot$1(ki,this.objId,this.scope)},set:function(Ri){var ts,rs;rs=[],typeof(ts=Ri)=="string"&&(rs=function(is,ns,ss){ss||(ss=1);for(var os,ls=[];os=ns.exec(is);)ls.push(os[ss]);return ls}(ts,/\((.*?)\)/g)),ki=rs}}),this.getOptions=function(){return ki},this.setOptions=function(Ri){ki=Ri,this.sort&&ki.sort()},this.addOption=function(Ri){Ri=(Ri=Ri||"").toString(),ki.push(Ri),this.sort&&ki.sort()},this.removeOption=function(Ri,ts){for(ts=ts||!1,Ri=(Ri=Ri||"").toString();ki.indexOf(Ri)!==-1&&(ki.splice(ki.indexOf(Ri),1),ts!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,18)},set:function(Ri){Ri?this.Ff=K$1(this.Ff,18):this.Ff=Z$1(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,19)},set:function(Ri){this.combo===!0&&(Ri?this.Ff=K$1(this.Ff,19):this.Ff=Z$1(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,20)},set:function(Ri){Ri?(this.Ff=K$1(this.Ff,20),ki.sort()):this.Ff=Z$1(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,22)},set:function(Ri){Ri?this.Ff=K$1(this.Ff,22):this.Ff=Z$1(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,23)},set:function(Ri){Ri?this.Ff=K$1(this.Ff,23):this.Ff=Z$1(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,27)},set:function(Ri){Ri?this.Ff=K$1(this.Ff,27):this.Ff=Z$1(this.Ff,27)}}),this.hasAppearanceStream=!1};H$1(ft$1,lt$1);var dt$1=function(){ft$1.call(this),this.fontName="helvetica",this.combo=!1};H$1(dt$1,ft$1);var pt$1=function(){dt$1.call(this),this.combo=!0};H$1(pt$1,dt$1);var gt$1=function(){pt$1.call(this),this.edit=!0};H$1(gt$1,pt$1);var mt$1=function(){lt$1.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,15)},set:function(Ri){Ri?this.Ff=K$1(this.Ff,15):this.Ff=Z$1(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,16)},set:function(Ri){Ri?this.Ff=K$1(this.Ff,16):this.Ff=Z$1(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,17)},set:function(Ri){Ri?this.Ff=K$1(this.Ff,17):this.Ff=Z$1(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,26)},set:function(Ri){Ri?this.Ff=K$1(this.Ff,26):this.Ff=Z$1(this.Ff,26)}});var es,ki={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Ri=function(is){return is};if(this.scope&&(Ri=this.scope.internal.getEncryptor(this.objId)),Object.keys(ki).length!==0){var ts,rs=[];for(ts in rs.push("<<"),ki)rs.push("/"+ts+" ("+R$2(Ri(ki[ts]))+")");return rs.push(">>"),rs.join(`
`)}},set:function(Ri){_typeof(Ri)==="object"&&(ki=Ri)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return ki.CA||""},set:function(Ri){typeof Ri=="string"&&(ki.CA=Ri)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return es},set:function(Ri){es=Ri}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return es.substr(1,es.length-1)},set:function(Ri){es="/"+Ri}})};H$1(mt$1,lt$1);var vt$1=function(){mt$1.call(this),this.pushButton=!0};H$1(vt$1,mt$1);var bt$1=function(){mt$1.call(this),this.radio=!0,this.pushButton=!1;var es=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return es},set:function(ki){es=ki!==void 0?ki:[]}})};H$1(bt$1,mt$1);var yt$1=function(){var es,ki;lt$1.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return es},set:function(rs){es=rs}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return ki},set:function(rs){ki=rs}});var Ri,ts={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var rs=function(ss){return ss};this.scope&&(rs=this.scope.internal.getEncryptor(this.objId));var is,ns=[];for(is in ns.push("<<"),ts)ns.push("/"+is+" ("+R$2(rs(ts[is]))+")");return ns.push(">>"),ns.join(`
`)},set:function(rs){_typeof(rs)==="object"&&(ts=rs)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return ts.CA||""},set:function(rs){typeof rs=="string"&&(ts.CA=rs)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Ri},set:function(rs){Ri=rs}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Ri.substr(1,Ri.length-1)},set:function(rs){Ri="/"+rs}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At$1.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H$1(yt$1,lt$1),bt$1.prototype.setAppearance=function(es){if(!("createAppearanceStream"in es)||!("getCA"in es))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var ki in this.Kids)if(this.Kids.hasOwnProperty(ki)){var Ri=this.Kids[ki];Ri.appearanceStreamContent=es.createAppearanceStream(Ri.optionName),Ri.caption=es.getCA()}},bt$1.prototype.createOption=function(es){var ki=new yt$1;return ki.Parent=this,ki.optionName=es,this.Kids.push(ki),xt$1.call(this.scope,ki),ki};var wt$1=function(){mt$1.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At$1.CheckBox.createAppearanceStream()};H$1(wt$1,mt$1);var Nt$1=function(){lt$1.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,13)},set:function(ki){ki?this.Ff=K$1(this.Ff,13):this.Ff=Z$1(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,21)},set:function(ki){ki?this.Ff=K$1(this.Ff,21):this.Ff=Z$1(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,23)},set:function(ki){ki?this.Ff=K$1(this.Ff,23):this.Ff=Z$1(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,24)},set:function(ki){ki?this.Ff=K$1(this.Ff,24):this.Ff=Z$1(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,25)},set:function(ki){ki?this.Ff=K$1(this.Ff,25):this.Ff=Z$1(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,26)},set:function(ki){ki?this.Ff=K$1(this.Ff,26):this.Ff=Z$1(this.Ff,26)}});var es=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return es},set:function(ki){es=ki}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return es},set:function(ki){Number.isInteger(ki)&&(es=ki)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H$1(Nt$1,lt$1);var Lt$1=function(){Nt$1.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,14)},set:function(es){es?this.Ff=K$1(this.Ff,14):this.Ff=Z$1(this.Ff,14)}}),this.password=!0};H$1(Lt$1,Nt$1);var At$1={CheckBox:{createAppearanceStream:function(){return{N:{On:At$1.CheckBox.YesNormal},D:{On:At$1.CheckBox.YesPushDown,Off:At$1.CheckBox.OffPushDown}}},YesPushDown:function(es){var ki=V$1(es);ki.scope=es.scope;var Ri=[],ts=es.scope.internal.getFont(es.fontName,es.fontStyle).id,rs=es.scope.__private__.encodeColorString(es.color),is=tt$1(es,es.caption);return Ri.push("0.749023 g"),Ri.push("0 0 "+U$1(At$1.internal.getWidth(es))+" "+U$1(At$1.internal.getHeight(es))+" re"),Ri.push("f"),Ri.push("BMC"),Ri.push("q"),Ri.push("0 0 1 rg"),Ri.push("/"+ts+" "+U$1(is.fontSize)+" Tf "+rs),Ri.push("BT"),Ri.push(is.text),Ri.push("ET"),Ri.push("Q"),Ri.push("EMC"),ki.stream=Ri.join(`
`),ki},YesNormal:function(es){var ki=V$1(es);ki.scope=es.scope;var Ri=es.scope.internal.getFont(es.fontName,es.fontStyle).id,ts=es.scope.__private__.encodeColorString(es.color),rs=[],is=At$1.internal.getHeight(es),ns=At$1.internal.getWidth(es),ss=tt$1(es,es.caption);return rs.push("1 g"),rs.push("0 0 "+U$1(ns)+" "+U$1(is)+" re"),rs.push("f"),rs.push("q"),rs.push("0 0 1 rg"),rs.push("0 0 "+U$1(ns-1)+" "+U$1(is-1)+" re"),rs.push("W"),rs.push("n"),rs.push("0 g"),rs.push("BT"),rs.push("/"+Ri+" "+U$1(ss.fontSize)+" Tf "+ts),rs.push(ss.text),rs.push("ET"),rs.push("Q"),ki.stream=rs.join(`
`),ki},OffPushDown:function(es){var ki=V$1(es);ki.scope=es.scope;var Ri=[];return Ri.push("0.749023 g"),Ri.push("0 0 "+U$1(At$1.internal.getWidth(es))+" "+U$1(At$1.internal.getHeight(es))+" re"),Ri.push("f"),ki.stream=Ri.join(`
`),ki}},RadioButton:{Circle:{createAppearanceStream:function(es){var ki={D:{Off:At$1.RadioButton.Circle.OffPushDown},N:{}};return ki.N[es]=At$1.RadioButton.Circle.YesNormal,ki.D[es]=At$1.RadioButton.Circle.YesPushDown,ki},getCA:function(){return"l"},YesNormal:function(es){var ki=V$1(es);ki.scope=es.scope;var Ri=[],ts=At$1.internal.getWidth(es)<=At$1.internal.getHeight(es)?At$1.internal.getWidth(es)/4:At$1.internal.getHeight(es)/4;ts=Number((.9*ts).toFixed(5));var rs=At$1.internal.Bezier_C,is=Number((ts*rs).toFixed(5));return Ri.push("q"),Ri.push("1 0 0 1 "+z$1(At$1.internal.getWidth(es)/2)+" "+z$1(At$1.internal.getHeight(es)/2)+" cm"),Ri.push(ts+" 0 m"),Ri.push(ts+" "+is+" "+is+" "+ts+" 0 "+ts+" c"),Ri.push("-"+is+" "+ts+" -"+ts+" "+is+" -"+ts+" 0 c"),Ri.push("-"+ts+" -"+is+" -"+is+" -"+ts+" 0 -"+ts+" c"),Ri.push(is+" -"+ts+" "+ts+" -"+is+" "+ts+" 0 c"),Ri.push("f"),Ri.push("Q"),ki.stream=Ri.join(`
`),ki},YesPushDown:function(es){var ki=V$1(es);ki.scope=es.scope;var Ri=[],ts=At$1.internal.getWidth(es)<=At$1.internal.getHeight(es)?At$1.internal.getWidth(es)/4:At$1.internal.getHeight(es)/4;ts=Number((.9*ts).toFixed(5));var rs=Number((2*ts).toFixed(5)),is=Number((rs*At$1.internal.Bezier_C).toFixed(5)),ns=Number((ts*At$1.internal.Bezier_C).toFixed(5));return Ri.push("0.749023 g"),Ri.push("q"),Ri.push("1 0 0 1 "+z$1(At$1.internal.getWidth(es)/2)+" "+z$1(At$1.internal.getHeight(es)/2)+" cm"),Ri.push(rs+" 0 m"),Ri.push(rs+" "+is+" "+is+" "+rs+" 0 "+rs+" c"),Ri.push("-"+is+" "+rs+" -"+rs+" "+is+" -"+rs+" 0 c"),Ri.push("-"+rs+" -"+is+" -"+is+" -"+rs+" 0 -"+rs+" c"),Ri.push(is+" -"+rs+" "+rs+" -"+is+" "+rs+" 0 c"),Ri.push("f"),Ri.push("Q"),Ri.push("0 g"),Ri.push("q"),Ri.push("1 0 0 1 "+z$1(At$1.internal.getWidth(es)/2)+" "+z$1(At$1.internal.getHeight(es)/2)+" cm"),Ri.push(ts+" 0 m"),Ri.push(ts+" "+ns+" "+ns+" "+ts+" 0 "+ts+" c"),Ri.push("-"+ns+" "+ts+" -"+ts+" "+ns+" -"+ts+" 0 c"),Ri.push("-"+ts+" -"+ns+" -"+ns+" -"+ts+" 0 -"+ts+" c"),Ri.push(ns+" -"+ts+" "+ts+" -"+ns+" "+ts+" 0 c"),Ri.push("f"),Ri.push("Q"),ki.stream=Ri.join(`
`),ki},OffPushDown:function(es){var ki=V$1(es);ki.scope=es.scope;var Ri=[],ts=At$1.internal.getWidth(es)<=At$1.internal.getHeight(es)?At$1.internal.getWidth(es)/4:At$1.internal.getHeight(es)/4;ts=Number((.9*ts).toFixed(5));var rs=Number((2*ts).toFixed(5)),is=Number((rs*At$1.internal.Bezier_C).toFixed(5));return Ri.push("0.749023 g"),Ri.push("q"),Ri.push("1 0 0 1 "+z$1(At$1.internal.getWidth(es)/2)+" "+z$1(At$1.internal.getHeight(es)/2)+" cm"),Ri.push(rs+" 0 m"),Ri.push(rs+" "+is+" "+is+" "+rs+" 0 "+rs+" c"),Ri.push("-"+is+" "+rs+" -"+rs+" "+is+" -"+rs+" 0 c"),Ri.push("-"+rs+" -"+is+" -"+is+" -"+rs+" 0 -"+rs+" c"),Ri.push(is+" -"+rs+" "+rs+" -"+is+" "+rs+" 0 c"),Ri.push("f"),Ri.push("Q"),ki.stream=Ri.join(`
`),ki}},Cross:{createAppearanceStream:function(es){var ki={D:{Off:At$1.RadioButton.Cross.OffPushDown},N:{}};return ki.N[es]=At$1.RadioButton.Cross.YesNormal,ki.D[es]=At$1.RadioButton.Cross.YesPushDown,ki},getCA:function(){return"8"},YesNormal:function(es){var ki=V$1(es);ki.scope=es.scope;var Ri=[],ts=At$1.internal.calculateCross(es);return Ri.push("q"),Ri.push("1 1 "+U$1(At$1.internal.getWidth(es)-2)+" "+U$1(At$1.internal.getHeight(es)-2)+" re"),Ri.push("W"),Ri.push("n"),Ri.push(U$1(ts.x1.x)+" "+U$1(ts.x1.y)+" m"),Ri.push(U$1(ts.x2.x)+" "+U$1(ts.x2.y)+" l"),Ri.push(U$1(ts.x4.x)+" "+U$1(ts.x4.y)+" m"),Ri.push(U$1(ts.x3.x)+" "+U$1(ts.x3.y)+" l"),Ri.push("s"),Ri.push("Q"),ki.stream=Ri.join(`
`),ki},YesPushDown:function(es){var ki=V$1(es);ki.scope=es.scope;var Ri=At$1.internal.calculateCross(es),ts=[];return ts.push("0.749023 g"),ts.push("0 0 "+U$1(At$1.internal.getWidth(es))+" "+U$1(At$1.internal.getHeight(es))+" re"),ts.push("f"),ts.push("q"),ts.push("1 1 "+U$1(At$1.internal.getWidth(es)-2)+" "+U$1(At$1.internal.getHeight(es)-2)+" re"),ts.push("W"),ts.push("n"),ts.push(U$1(Ri.x1.x)+" "+U$1(Ri.x1.y)+" m"),ts.push(U$1(Ri.x2.x)+" "+U$1(Ri.x2.y)+" l"),ts.push(U$1(Ri.x4.x)+" "+U$1(Ri.x4.y)+" m"),ts.push(U$1(Ri.x3.x)+" "+U$1(Ri.x3.y)+" l"),ts.push("s"),ts.push("Q"),ki.stream=ts.join(`
`),ki},OffPushDown:function(es){var ki=V$1(es);ki.scope=es.scope;var Ri=[];return Ri.push("0.749023 g"),Ri.push("0 0 "+U$1(At$1.internal.getWidth(es))+" "+U$1(At$1.internal.getHeight(es))+" re"),Ri.push("f"),ki.stream=Ri.join(`
`),ki}}},createDefaultAppearanceStream:function(es){var ki=es.scope.internal.getFont(es.fontName,es.fontStyle).id,Ri=es.scope.__private__.encodeColorString(es.color);return"/"+ki+" "+es.fontSize+" Tf "+Ri}};At$1.internal={Bezier_C:.551915024494,calculateCross:function(es){var ki=At$1.internal.getWidth(es),Ri=At$1.internal.getHeight(es),ts=Math.min(ki,Ri);return{x1:{x:(ki-ts)/2,y:(Ri-ts)/2+ts},x2:{x:(ki-ts)/2+ts,y:(Ri-ts)/2},x3:{x:(ki-ts)/2,y:(Ri-ts)/2},x4:{x:(ki-ts)/2+ts,y:(Ri-ts)/2+ts}}}},At$1.internal.getWidth=function(es){var ki=0;return _typeof(es)==="object"&&(ki=W$1(es.Rect[2])),ki},At$1.internal.getHeight=function(es){var ki=0;return _typeof(es)==="object"&&(ki=W$1(es.Rect[3])),ki};var xt$1=q$3.addField=function(es){if(at$1(this,es),!(es instanceof lt$1))throw new Error("Invalid argument passed to jsPDF.addField.");var ki;return(ki=es).scope.internal.acroformPlugin.printedOut&&(ki.scope.internal.acroformPlugin.printedOut=!1,ki.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),ki.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(ki),es.page=es.scope.internal.getCurrentPageInfo().pageNumber,this};q$3.AcroFormChoiceField=ft$1,q$3.AcroFormListBox=dt$1,q$3.AcroFormComboBox=pt$1,q$3.AcroFormEditBox=gt$1,q$3.AcroFormButton=mt$1,q$3.AcroFormPushButton=vt$1,q$3.AcroFormRadioButton=bt$1,q$3.AcroFormCheckBox=wt$1,q$3.AcroFormTextField=Nt$1,q$3.AcroFormPasswordField=Lt$1,q$3.AcroFormAppearance=At$1,q$3.AcroForm={ChoiceField:ft$1,ListBox:dt$1,ComboBox:pt$1,EditBox:gt$1,Button:mt$1,PushButton:vt$1,RadioButton:bt$1,CheckBox:wt$1,TextField:Nt$1,PasswordField:Lt$1,Appearance:At$1},E$2.AcroForm={ChoiceField:ft$1,ListBox:dt$1,ComboBox:pt$1,EditBox:gt$1,Button:mt$1,PushButton:vt$1,RadioButton:bt$1,CheckBox:wt$1,TextField:Nt$1,PasswordField:Lt$1,Appearance:At$1};var St$1=E$2.AcroForm;function _t$1(es){return es.reduce(function(ki,Ri,ts){return ki[Ri]=ts,ki},{})}(function(es){es.__addimage__={};var ki="UNKNOWN",Ri={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},ts=es.__addimage__.getImageFileTypeByImageData=function(Fs,Is){var Ms,Ws,Ds,_s,Ns,Ss=ki;if((Is=Is||ki)==="RGBA"||Fs.data!==void 0&&Fs.data instanceof Uint8ClampedArray&&"height"in Fs&&"width"in Fs)return"RGBA";if(Ts(Fs))for(Ns in Ri)for(Ds=Ri[Ns],Ms=0;Ms<Ds.length;Ms+=1){for(_s=!0,Ws=0;Ws<Ds[Ms].length;Ws+=1)if(Ds[Ms][Ws]!==void 0&&Ds[Ms][Ws]!==Fs[Ws]){_s=!1;break}if(_s===!0){Ss=Ns;break}}else for(Ns in Ri)for(Ds=Ri[Ns],Ms=0;Ms<Ds.length;Ms+=1){for(_s=!0,Ws=0;Ws<Ds[Ms].length;Ws+=1)if(Ds[Ms][Ws]!==void 0&&Ds[Ms][Ws]!==Fs.charCodeAt(Ws)){_s=!1;break}if(_s===!0){Ss=Ns;break}}return Ss===ki&&Is!==ki&&(Ss=Is),Ss},rs=function Fs(Is){for(var Ms=this.internal.write,Ws=this.internal.putStream,Ds=(0,this.internal.getFilters)();Ds.indexOf("FlateEncode")!==-1;)Ds.splice(Ds.indexOf("FlateEncode"),1);Is.objectId=this.internal.newObject();var _s=[];if(_s.push({key:"Type",value:"/XObject"}),_s.push({key:"Subtype",value:"/Image"}),_s.push({key:"Width",value:Is.width}),_s.push({key:"Height",value:Is.height}),Is.colorSpace===Cs.INDEXED?_s.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Is.palette.length/3-1)+" "+("sMask"in Is&&Is.sMask!==void 0?Is.objectId+2:Is.objectId+1)+" 0 R]"}):(_s.push({key:"ColorSpace",value:"/"+Is.colorSpace}),Is.colorSpace===Cs.DEVICE_CMYK&&_s.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),_s.push({key:"BitsPerComponent",value:Is.bitsPerComponent}),"decodeParameters"in Is&&Is.decodeParameters!==void 0&&_s.push({key:"DecodeParms",value:"<<"+Is.decodeParameters+">>"}),"transparency"in Is&&Array.isArray(Is.transparency)){for(var Ns="",Ss=0,Us=Is.transparency.length;Ss<Us;Ss++)Ns+=Is.transparency[Ss]+" "+Is.transparency[Ss]+" ";_s.push({key:"Mask",value:"["+Ns+"]"})}Is.sMask!==void 0&&_s.push({key:"SMask",value:Is.objectId+1+" 0 R"});var Zs=Is.filter!==void 0?["/"+Is.filter]:void 0;if(Ws({data:Is.data,additionalKeyValues:_s,alreadyAppliedFilters:Zs,objectId:Is.objectId}),Ms("endobj"),"sMask"in Is&&Is.sMask!==void 0){var ao="/Predictor "+Is.predictor+" /Colors 1 /BitsPerComponent "+Is.bitsPerComponent+" /Columns "+Is.width,js={width:Is.width,height:Is.height,colorSpace:"DeviceGray",bitsPerComponent:Is.bitsPerComponent,decodeParameters:ao,data:Is.sMask};"filter"in Is&&(js.filter=Is.filter),Fs.call(this,js)}if(Is.colorSpace===Cs.INDEXED){var Bs=this.internal.newObject();Ws({data:Rs(new Uint8Array(Is.palette)),objectId:Bs}),Ms("endobj")}},is=function(){var Fs=this.internal.collections.addImage_images;for(var Is in Fs)rs.call(this,Fs[Is])},ns=function(){var Fs,Is=this.internal.collections.addImage_images,Ms=this.internal.write;for(var Ws in Is)Ms("/I"+(Fs=Is[Ws]).index,Fs.objectId,"0","R")},ss=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",is),this.internal.events.subscribe("putXobjectDict",ns))},os=function(){var Fs=this.internal.collections.addImage_images;return ss.call(this),Fs},ls=function(){return Object.keys(this.internal.collections.addImage_images).length},cs=function(Fs){return typeof es["process"+Fs.toUpperCase()]=="function"},hs=function(Fs){return _typeof(Fs)==="object"&&Fs.nodeType===1},us=function(Fs,Is){if(Fs.nodeName==="IMG"&&Fs.hasAttribute("src")){var Ms=""+Fs.getAttribute("src");if(Ms.indexOf("data:image/")===0)return u$2(unescape(Ms).split("base64,").pop());var Ws=es.loadFile(Ms,!0);if(Ws!==void 0)return Ws}if(Fs.nodeName==="CANVAS"){if(Fs.width===0||Fs.height===0)throw new Error("Given canvas must have data. Canvas width: "+Fs.width+", height: "+Fs.height);var Ds;switch(Is){case"PNG":Ds="image/png";break;case"WEBP":Ds="image/webp";break;case"JPEG":case"JPG":default:Ds="image/jpeg"}return u$2(Fs.toDataURL(Ds,1).split("base64,").pop())}},As=function(Fs){var Is=this.internal.collections.addImage_images;if(Is){for(var Ms in Is)if(Fs===Is[Ms].alias)return Is[Ms]}},bs=function(Fs,Is,Ms){return Fs||Is||(Fs=-96,Is=-96),Fs<0&&(Fs=-1*Ms.width*72/Fs/this.internal.scaleFactor),Is<0&&(Is=-1*Ms.height*72/Is/this.internal.scaleFactor),Fs===0&&(Fs=Is*Ms.width/Ms.height),Is===0&&(Is=Fs*Ms.height/Ms.width),[Fs,Is]},ys=function(Fs,Is,Ms,Ws,Ds,_s){var Ns=bs.call(this,Ms,Ws,Ds),Ss=this.internal.getCoordinateString,Us=this.internal.getVerticalCoordinateString,Zs=os.call(this);if(Ms=Ns[0],Ws=Ns[1],Zs[Ds.index]=Ds,_s){_s*=Math.PI/180;var ao=Math.cos(_s),js=Math.sin(_s),Bs=function(so){return so.toFixed(4)},zs=[Bs(ao),Bs(js),Bs(-1*js),Bs(ao),0,0,"cm"]}this.internal.write("q"),_s?(this.internal.write([1,"0","0",1,Ss(Fs),Us(Is+Ws),"cm"].join(" ")),this.internal.write(zs.join(" ")),this.internal.write([Ss(Ms),"0","0",Ss(Ws),"0","0","cm"].join(" "))):this.internal.write([Ss(Ms),"0","0",Ss(Ws),Ss(Fs),Us(Is+Ws),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ds.index+" Do"),this.internal.write("Q")},Cs=es.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};es.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var ps=es.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},ms=es.__addimage__.sHashCode=function(Fs){var Is,Ms,Ws=0;if(typeof Fs=="string")for(Ms=Fs.length,Is=0;Is<Ms;Is++)Ws=(Ws<<5)-Ws+Fs.charCodeAt(Is),Ws|=0;else if(Ts(Fs))for(Ms=Fs.byteLength/2,Is=0;Is<Ms;Is++)Ws=(Ws<<5)-Ws+Fs[Is],Ws|=0;return Ws},fs=es.__addimage__.validateStringAsBase64=function(Fs){(Fs=Fs||"").toString().trim();var Is=!0;return Fs.length===0&&(Is=!1),Fs.length%4!=0&&(Is=!1),/^[A-Za-z0-9+/]+$/.test(Fs.substr(0,Fs.length-2))===!1&&(Is=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Fs.substr(-2))===!1&&(Is=!1),Is},gs=es.__addimage__.extractImageFromDataUrl=function(Fs){var Is=(Fs=Fs||"").split("base64,"),Ms=null;if(Is.length===2){var Ws=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(Is[0]);Array.isArray(Ws)&&(Ms={mimeType:Ws[1],charset:Ws[2],data:Is[1]})}return Ms},ws=es.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};es.__addimage__.isArrayBuffer=function(Fs){return ws()&&Fs instanceof ArrayBuffer};var Ts=es.__addimage__.isArrayBufferView=function(Fs){return ws()&&typeof Uint32Array<"u"&&(Fs instanceof Int8Array||Fs instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Fs instanceof Uint8ClampedArray||Fs instanceof Int16Array||Fs instanceof Uint16Array||Fs instanceof Int32Array||Fs instanceof Uint32Array||Fs instanceof Float32Array||Fs instanceof Float64Array)},$s=es.__addimage__.binaryStringToUint8Array=function(Fs){for(var Is=Fs.length,Ms=new Uint8Array(Is),Ws=0;Ws<Is;Ws++)Ms[Ws]=Fs.charCodeAt(Ws);return Ms},Rs=es.__addimage__.arrayBufferToBinaryString=function(Fs){for(var Is="",Ms=Ts(Fs)?Fs:new Uint8Array(Fs),Ws=0;Ws<Ms.length;Ws+=8192)Is+=String.fromCharCode.apply(null,Ms.subarray(Ws,Ws+8192));return Is};es.addImage=function(){var Fs,Is,Ms,Ws,Ds,_s,Ns,Ss,Us;if(typeof arguments[1]=="number"?(Is=ki,Ms=arguments[1],Ws=arguments[2],Ds=arguments[3],_s=arguments[4],Ns=arguments[5],Ss=arguments[6],Us=arguments[7]):(Is=arguments[1],Ms=arguments[2],Ws=arguments[3],Ds=arguments[4],_s=arguments[5],Ns=arguments[6],Ss=arguments[7],Us=arguments[8]),_typeof(Fs=arguments[0])==="object"&&!hs(Fs)&&"imageData"in Fs){var Zs=Fs;Fs=Zs.imageData,Is=Zs.format||Is||ki,Ms=Zs.x||Ms||0,Ws=Zs.y||Ws||0,Ds=Zs.w||Zs.width||Ds,_s=Zs.h||Zs.height||_s,Ns=Zs.alias||Ns,Ss=Zs.compression||Ss,Us=Zs.rotation||Zs.angle||Us}var ao=this.internal.getFilters();if(Ss===void 0&&ao.indexOf("FlateEncode")!==-1&&(Ss="SLOW"),isNaN(Ms)||isNaN(Ws))throw new Error("Invalid coordinates passed to jsPDF.addImage");ss.call(this);var js=Ps.call(this,Fs,Is,Ns,Ss);return ys.call(this,Ms,Ws,Ds,_s,js,Us),this};var Ps=function(Fs,Is,Ms,Ws){var Ds,_s,Ns;if(typeof Fs=="string"&&ts(Fs)===ki){Fs=unescape(Fs);var Ss=Qs(Fs,!1);(Ss!==""||(Ss=es.loadFile(Fs,!0))!==void 0)&&(Fs=Ss)}if(hs(Fs)&&(Fs=us(Fs,Is)),Is=ts(Fs,Is),!cs(Is))throw new Error("addImage does not support files of type '"+Is+"', please ensure that a plugin for '"+Is+"' support is added.");if(((Ns=Ms)==null||Ns.length===0)&&(Ms=function(Us){return typeof Us=="string"||Ts(Us)?ms(Us):Ts(Us.data)?ms(Us.data):null}(Fs)),(Ds=As.call(this,Ms))||(ws()&&(Fs instanceof Uint8Array||Is==="RGBA"||(_s=Fs,Fs=$s(Fs))),Ds=this["process"+Is.toUpperCase()](Fs,ls.call(this),Ms,function(Us){return Us&&typeof Us=="string"&&(Us=Us.toUpperCase()),Us in es.image_compression?Us:ps.NONE}(Ws),_s)),!Ds)throw new Error("An unknown error occurred whilst processing the image.");return Ds},Qs=es.__addimage__.convertBase64ToBinaryString=function(Fs,Is){var Ms;Is=typeof Is!="boolean"||Is;var Ws,Ds="";if(typeof Fs=="string"){Ws=(Ms=gs(Fs))!==null?Ms.data:Fs;try{Ds=u$2(Ws)}catch(_s){if(Is)throw fs(Ws)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+_s.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Ds};es.getImageProperties=function(Fs){var Is,Ms,Ws="";if(hs(Fs)&&(Fs=us(Fs)),typeof Fs=="string"&&ts(Fs)===ki&&((Ws=Qs(Fs,!1))===""&&(Ws=es.loadFile(Fs)||""),Fs=Ws),Ms=ts(Fs),!cs(Ms))throw new Error("addImage does not support files of type '"+Ms+"', please ensure that a plugin for '"+Ms+"' support is added.");if(!ws()||Fs instanceof Uint8Array||(Fs=$s(Fs)),!(Is=this["process"+Ms.toUpperCase()](Fs)))throw new Error("An unknown error occurred whilst processing the image");return Is.fileType=Ms,Is}})(E$2.API),function(es){var ki=function(Ri){if(Ri!==void 0&&Ri!="")return!0};E$2.API.events.push(["addPage",function(Ri){this.internal.getPageInfo(Ri.pageNumber).pageContext.annotations=[]}]),es.events.push(["putPage",function(Ri){for(var ts,rs,is,ns=this.internal.getCoordinateString,ss=this.internal.getVerticalCoordinateString,os=this.internal.getPageInfoByObjId(Ri.objId),ls=Ri.pageContext.annotations,cs=!1,hs=0;hs<ls.length&&!cs;hs++)switch((ts=ls[hs]).type){case"link":(ki(ts.options.url)||ki(ts.options.pageNumber))&&(cs=!0);break;case"reference":case"text":case"freetext":cs=!0}if(cs!=0){this.internal.write("/Annots [");for(var us=0;us<ls.length;us++){ts=ls[us];var As=this.internal.pdfEscape,bs=this.internal.getEncryptor(Ri.objId);switch(ts.type){case"reference":this.internal.write(" "+ts.object.objId+" 0 R ");break;case"text":var ys=this.internal.newAdditionalObject(),Cs=this.internal.newAdditionalObject(),ps=this.internal.getEncryptor(ys.objId),ms=ts.title||"Note";is="<</Type /Annot /Subtype /Text "+(rs="/Rect ["+ns(ts.bounds.x)+" "+ss(ts.bounds.y+ts.bounds.h)+" "+ns(ts.bounds.x+ts.bounds.w)+" "+ss(ts.bounds.y)+"] ")+"/Contents ("+As(ps(ts.contents))+")",is+=" /Popup "+Cs.objId+" 0 R",is+=" /P "+os.objId+" 0 R",is+=" /T ("+As(ps(ms))+") >>",ys.content=is;var fs=ys.objId+" 0 R";is="<</Type /Annot /Subtype /Popup "+(rs="/Rect ["+ns(ts.bounds.x+30)+" "+ss(ts.bounds.y+ts.bounds.h)+" "+ns(ts.bounds.x+ts.bounds.w+30)+" "+ss(ts.bounds.y)+"] ")+" /Parent "+fs,ts.open&&(is+=" /Open true"),is+=" >>",Cs.content=is,this.internal.write(ys.objId,"0 R",Cs.objId,"0 R");break;case"freetext":rs="/Rect ["+ns(ts.bounds.x)+" "+ss(ts.bounds.y)+" "+ns(ts.bounds.x+ts.bounds.w)+" "+ss(ts.bounds.y+ts.bounds.h)+"] ";var gs=ts.color||"#000000";is="<</Type /Annot /Subtype /FreeText "+rs+"/Contents ("+As(bs(ts.contents))+")",is+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+gs+")",is+=" /Border [0 0 0]",is+=" >>",this.internal.write(is);break;case"link":if(ts.options.name){var ws=this.annotations._nameMap[ts.options.name];ts.options.pageNumber=ws.page,ts.options.top=ws.y}else ts.options.top||(ts.options.top=0);if(rs="/Rect ["+ts.finalBounds.x+" "+ts.finalBounds.y+" "+ts.finalBounds.w+" "+ts.finalBounds.h+"] ",is="",ts.options.url)is="<</Type /Annot /Subtype /Link "+rs+"/Border [0 0 0] /A <</S /URI /URI ("+As(bs(ts.options.url))+") >>";else if(ts.options.pageNumber)switch(is="<</Type /Annot /Subtype /Link "+rs+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(ts.options.pageNumber).objId+" 0 R",ts.options.magFactor=ts.options.magFactor||"XYZ",ts.options.magFactor){case"Fit":is+=" /Fit]";break;case"FitH":is+=" /FitH "+ts.options.top+"]";break;case"FitV":ts.options.left=ts.options.left||0,is+=" /FitV "+ts.options.left+"]";break;case"XYZ":default:var Ts=ss(ts.options.top);ts.options.left=ts.options.left||0,ts.options.zoom===void 0&&(ts.options.zoom=0),is+=" /XYZ "+ts.options.left+" "+Ts+" "+ts.options.zoom+"]"}is!=""&&(is+=" >>",this.internal.write(is))}}this.internal.write("]")}}]),es.createAnnotation=function(Ri){var ts=this.internal.getCurrentPageInfo();switch(Ri.type){case"link":this.link(Ri.bounds.x,Ri.bounds.y,Ri.bounds.w,Ri.bounds.h,Ri);break;case"text":case"freetext":ts.pageContext.annotations.push(Ri)}},es.link=function(Ri,ts,rs,is,ns){var ss=this.internal.getCurrentPageInfo(),os=this.internal.getCoordinateString,ls=this.internal.getVerticalCoordinateString;ss.pageContext.annotations.push({finalBounds:{x:os(Ri),y:ls(ts),w:os(Ri+rs),h:ls(ts+is)},options:ns,type:"link"})},es.textWithLink=function(Ri,ts,rs,is){var ns,ss,os=this.getTextWidth(Ri),ls=this.internal.getLineHeight()/this.internal.scaleFactor;if(is.maxWidth!==void 0){ss=is.maxWidth;var cs=this.splitTextToSize(Ri,ss).length;ns=Math.ceil(ls*cs)}else ss=os,ns=ls;return this.text(Ri,ts,rs,is),rs+=.2*ls,is.align==="center"&&(ts-=os/2),is.align==="right"&&(ts-=os),this.link(ts,rs-ls,ss,ns,is),os},es.getTextWidth=function(Ri){var ts=this.internal.getFontSize();return this.getStringUnitWidth(Ri)*ts/this.internal.scaleFactor}}(E$2.API),function(es){var ki={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},Ri={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},ts={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},rs=[1570,1571,1573,1575];es.__arabicParser__={};var is=es.__arabicParser__.isInArabicSubstitutionA=function(ys){return ki[ys.charCodeAt(0)]!==void 0},ns=es.__arabicParser__.isArabicLetter=function(ys){return typeof ys=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(ys)},ss=es.__arabicParser__.isArabicEndLetter=function(ys){return ns(ys)&&is(ys)&&ki[ys.charCodeAt(0)].length<=2},os=es.__arabicParser__.isArabicAlfLetter=function(ys){return ns(ys)&&rs.indexOf(ys.charCodeAt(0))>=0};es.__arabicParser__.arabicLetterHasIsolatedForm=function(ys){return ns(ys)&&is(ys)&&ki[ys.charCodeAt(0)].length>=1};var ls=es.__arabicParser__.arabicLetterHasFinalForm=function(ys){return ns(ys)&&is(ys)&&ki[ys.charCodeAt(0)].length>=2};es.__arabicParser__.arabicLetterHasInitialForm=function(ys){return ns(ys)&&is(ys)&&ki[ys.charCodeAt(0)].length>=3};var cs=es.__arabicParser__.arabicLetterHasMedialForm=function(ys){return ns(ys)&&is(ys)&&ki[ys.charCodeAt(0)].length==4},hs=es.__arabicParser__.resolveLigatures=function(ys){var Cs=0,ps=Ri,ms="",fs=0;for(Cs=0;Cs<ys.length;Cs+=1)ps[ys.charCodeAt(Cs)]!==void 0?(fs++,typeof(ps=ps[ys.charCodeAt(Cs)])=="number"&&(ms+=String.fromCharCode(ps),ps=Ri,fs=0),Cs===ys.length-1&&(ps=Ri,ms+=ys.charAt(Cs-(fs-1)),Cs-=fs-1,fs=0)):(ps=Ri,ms+=ys.charAt(Cs-fs),Cs-=fs,fs=0);return ms};es.__arabicParser__.isArabicDiacritic=function(ys){return ys!==void 0&&ts[ys.charCodeAt(0)]!==void 0};var us=es.__arabicParser__.getCorrectForm=function(ys,Cs,ps){return ns(ys)?is(ys)===!1?-1:!ls(ys)||!ns(Cs)&&!ns(ps)||!ns(ps)&&ss(Cs)||ss(ys)&&!ns(Cs)||ss(ys)&&os(Cs)||ss(ys)&&ss(Cs)?0:cs(ys)&&ns(Cs)&&!ss(Cs)&&ns(ps)&&ls(ps)?3:ss(ys)||!ns(ps)?1:2:-1},As=function(ys){var Cs=0,ps=0,ms=0,fs="",gs="",ws="",Ts=(ys=ys||"").split("\\s+"),$s=[];for(Cs=0;Cs<Ts.length;Cs+=1){for($s.push(""),ps=0;ps<Ts[Cs].length;ps+=1)fs=Ts[Cs][ps],gs=Ts[Cs][ps-1],ws=Ts[Cs][ps+1],ns(fs)?(ms=us(fs,gs,ws),$s[Cs]+=ms!==-1?String.fromCharCode(ki[fs.charCodeAt(0)][ms]):fs):$s[Cs]+=fs;$s[Cs]=hs($s[Cs])}return $s.join(" ")},bs=es.__arabicParser__.processArabic=es.processArabic=function(){var ys,Cs=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,ps=[];if(Array.isArray(Cs)){var ms=0;for(ps=[],ms=0;ms<Cs.length;ms+=1)Array.isArray(Cs[ms])?ps.push([As(Cs[ms][0]),Cs[ms][1],Cs[ms][2]]):ps.push([As(Cs[ms])]);ys=ps}else ys=As(Cs);return typeof arguments[0]=="string"?ys:(arguments[0].text=ys,arguments[0])};es.events.push(["preProcessText",bs])}(E$2.API),E$2.API.autoPrint=function(es){var ki;switch((es=es||{}).variant=es.variant||"non-conform",es.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){ki=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+ki+" 0 R")})}return this},function(es){var ki=function(){var Ri=void 0;Object.defineProperty(this,"pdf",{get:function(){return Ri},set:function(ss){Ri=ss}});var ts=150;Object.defineProperty(this,"width",{get:function(){return ts},set:function(ss){ts=isNaN(ss)||Number.isInteger(ss)===!1||ss<0?150:ss,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=ts+1)}});var rs=300;Object.defineProperty(this,"height",{get:function(){return rs},set:function(ss){rs=isNaN(ss)||Number.isInteger(ss)===!1||ss<0?300:ss,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=rs+1)}});var is=[];Object.defineProperty(this,"childNodes",{get:function(){return is},set:function(ss){is=ss}});var ns={};Object.defineProperty(this,"style",{get:function(){return ns},set:function(ss){ns=ss}}),Object.defineProperty(this,"parentNode",{})};ki.prototype.getContext=function(Ri,ts){var rs;if((Ri=Ri||"2d")!=="2d")return null;for(rs in ts)this.pdf.context2d.hasOwnProperty(rs)&&(this.pdf.context2d[rs]=ts[rs]);return this.pdf.context2d._canvas=this,this.pdf.context2d},ki.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},es.events.push(["initialized",function(){this.canvas=new ki,this.canvas.pdf=this}])}(E$2.API),function(es){var ki={left:0,top:0,bottom:0,right:0},Ri=!1,ts=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},ki),this.internal.__cell__.margins.width=this.getPageWidth(),rs.call(this))},rs=function(){this.internal.__cell__.lastCell=new is,this.internal.__cell__.pages=1},is=function(){var os=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return os},set:function(ys){os=ys}});var ls=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ls},set:function(ys){ls=ys}});var cs=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return cs},set:function(ys){cs=ys}});var hs=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return hs},set:function(ys){hs=ys}});var us=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return us},set:function(ys){us=ys}});var As=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return As},set:function(ys){As=ys}});var bs=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return bs},set:function(ys){bs=ys}}),this};is.prototype.clone=function(){return new is(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},is.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},es.setHeaderFunction=function(os){return ts.call(this),this.internal.__cell__.headerFunction=typeof os=="function"?os:void 0,this},es.getTextDimensions=function(os,ls){ts.call(this);var cs=(ls=ls||{}).fontSize||this.getFontSize(),hs=ls.font||this.getFont(),us=ls.scaleFactor||this.internal.scaleFactor,As=0,bs=0,ys=0,Cs=this;if(!Array.isArray(os)&&typeof os!="string"){if(typeof os!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");os=String(os)}var ps=ls.maxWidth;ps>0?typeof os=="string"?os=this.splitTextToSize(os,ps):Object.prototype.toString.call(os)==="[object Array]"&&(os=os.reduce(function(fs,gs){return fs.concat(Cs.splitTextToSize(gs,ps))},[])):os=Array.isArray(os)?os:[os];for(var ms=0;ms<os.length;ms++)As<(ys=this.getStringUnitWidth(os[ms],{font:hs})*cs)&&(As=ys);return As!==0&&(bs=os.length),{w:As/=us,h:Math.max((bs*cs*this.getLineHeightFactor()-cs*(this.getLineHeightFactor()-1))/us,0)}},es.cellAddPage=function(){ts.call(this),this.addPage();var os=this.internal.__cell__.margins||ki;return this.internal.__cell__.lastCell=new is(os.left,os.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var ns=es.cell=function(){var os;os=arguments[0]instanceof is?arguments[0]:new is(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),ts.call(this);var ls=this.internal.__cell__.lastCell,cs=this.internal.__cell__.padding,hs=this.internal.__cell__.margins||ki,us=this.internal.__cell__.tableHeaderRow,As=this.internal.__cell__.printHeaders;return ls.lineNumber!==void 0&&(ls.lineNumber===os.lineNumber?(os.x=(ls.x||0)+(ls.width||0),os.y=ls.y||0):ls.y+ls.height+os.height+hs.bottom>this.getPageHeight()?(this.cellAddPage(),os.y=hs.top,As&&us&&(this.printHeaderRow(os.lineNumber,!0),os.y+=us[0].height)):os.y=ls.y+ls.height||os.y),os.text[0]!==void 0&&(this.rect(os.x,os.y,os.width,os.height,Ri===!0?"FD":void 0),os.align==="right"?this.text(os.text,os.x+os.width-cs,os.y+cs,{align:"right",baseline:"top"}):os.align==="center"?this.text(os.text,os.x+os.width/2,os.y+cs,{align:"center",baseline:"top",maxWidth:os.width-cs-cs}):this.text(os.text,os.x+cs,os.y+cs,{align:"left",baseline:"top",maxWidth:os.width-cs-cs})),this.internal.__cell__.lastCell=os,this};es.table=function(os,ls,cs,hs,us){if(ts.call(this),!cs)throw new Error("No data for PDF table.");var As,bs,ys,Cs,ps=[],ms=[],fs=[],gs={},ws={},Ts=[],$s=[],Rs=(us=us||{}).autoSize||!1,Ps=us.printHeaders!==!1,Qs=us.css&&us.css["font-size"]!==void 0?16*us.css["font-size"]:us.fontSize||12,Fs=us.margins||Object.assign({width:this.getPageWidth()},ki),Is=typeof us.padding=="number"?us.padding:3,Ms=us.headerBackgroundColor||"#c8c8c8",Ws=us.headerTextColor||"#000";if(rs.call(this),this.internal.__cell__.printHeaders=Ps,this.internal.__cell__.margins=Fs,this.internal.__cell__.table_font_size=Qs,this.internal.__cell__.padding=Is,this.internal.__cell__.headerBackgroundColor=Ms,this.internal.__cell__.headerTextColor=Ws,this.setFontSize(Qs),hs==null)ms=ps=Object.keys(cs[0]),fs=ps.map(function(){return"left"});else if(Array.isArray(hs)&&_typeof(hs[0])==="object")for(ps=hs.map(function(Zs){return Zs.name}),ms=hs.map(function(Zs){return Zs.prompt||Zs.name||""}),fs=hs.map(function(Zs){return Zs.align||"left"}),As=0;As<hs.length;As+=1)ws[hs[As].name]=hs[As].width*(19.049976/25.4);else Array.isArray(hs)&&typeof hs[0]=="string"&&(ms=ps=hs,fs=ps.map(function(){return"left"}));if(Rs||Array.isArray(hs)&&typeof hs[0]=="string")for(As=0;As<ps.length;As+=1){for(gs[Cs=ps[As]]=cs.map(function(Zs){return Zs[Cs]}),this.setFont(void 0,"bold"),Ts.push(this.getTextDimensions(ms[As],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),bs=gs[Cs],this.setFont(void 0,"normal"),ys=0;ys<bs.length;ys+=1)Ts.push(this.getTextDimensions(bs[ys],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ws[Cs]=Math.max.apply(null,Ts)+Is+Is,Ts=[]}if(Ps){var Ds={};for(As=0;As<ps.length;As+=1)Ds[ps[As]]={},Ds[ps[As]].text=ms[As],Ds[ps[As]].align=fs[As];var _s=ss.call(this,Ds,ws);$s=ps.map(function(Zs){return new is(os,ls,ws[Zs],_s,Ds[Zs].text,void 0,Ds[Zs].align)}),this.setTableHeaderRow($s),this.printHeaderRow(1,!1)}var Ns=hs.reduce(function(Zs,ao){return Zs[ao.name]=ao.align,Zs},{});for(As=0;As<cs.length;As+=1){"rowStart"in us&&us.rowStart instanceof Function&&us.rowStart({row:As,data:cs[As]},this);var Ss=ss.call(this,cs[As],ws);for(ys=0;ys<ps.length;ys+=1){var Us=cs[As][ps[ys]];"cellStart"in us&&us.cellStart instanceof Function&&us.cellStart({row:As,col:ys,data:Us},this),ns.call(this,new is(os,ls,ws[ps[ys]],Ss,Us,As+2,Ns[ps[ys]]))}}return this.internal.__cell__.table_x=os,this.internal.__cell__.table_y=ls,this};var ss=function(os,ls){var cs=this.internal.__cell__.padding,hs=this.internal.__cell__.table_font_size,us=this.internal.scaleFactor;return Object.keys(os).map(function(As){var bs=os[As];return this.splitTextToSize(bs.hasOwnProperty("text")?bs.text:bs,ls[As]-cs-cs)},this).map(function(As){return this.getLineHeightFactor()*As.length*hs/us+cs+cs},this).reduce(function(As,bs){return Math.max(As,bs)},0)};es.setTableHeaderRow=function(os){ts.call(this),this.internal.__cell__.tableHeaderRow=os},es.printHeaderRow=function(os,ls){if(ts.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var cs;if(Ri=!0,typeof this.internal.__cell__.headerFunction=="function"){var hs=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new is(hs[0],hs[1],hs[2],hs[3],void 0,-1)}this.setFont(void 0,"bold");for(var us=[],As=0;As<this.internal.__cell__.tableHeaderRow.length;As+=1){cs=this.internal.__cell__.tableHeaderRow[As].clone(),ls&&(cs.y=this.internal.__cell__.margins.top||0,us.push(cs)),cs.lineNumber=os;var bs=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),ns.call(this,cs),this.setTextColor(bs)}us.length>0&&this.setTableHeaderRow(us),this.setFont(void 0,"normal"),Ri=!1}}(E$2.API);var Pt$1={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt$1=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It$1=_t$1(kt$1),Ft$1=[100,200,300,400,500,600,700,800,900],Ct$1=_t$1(Ft$1);function jt$1(es){var ki=es.family.replace(/"|'/g,"").toLowerCase(),Ri=function(is){return Pt$1[is=is||"normal"]?is:"normal"}(es.style),ts=function(is){if(!is)return 400;if(typeof is=="number")return is>=100&&is<=900&&is%100==0?is:400;if(/^\d00$/.test(is))return parseInt(is);switch(is){case"bold":return 700;case"normal":default:return 400}}(es.weight),rs=function(is){return typeof It$1[is=is||"normal"]=="number"?is:"normal"}(es.stretch);return{family:ki,style:Ri,weight:ts,stretch:rs,src:es.src||[],ref:es.ref||{name:ki,style:[rs,Ri,ts].join(" ")}}}function Ot$1(es,ki,Ri,ts){var rs;for(rs=Ri;rs>=0&&rs<ki.length;rs+=ts)if(es[ki[rs]])return es[ki[rs]];for(rs=Ri;rs>=0&&rs<ki.length;rs-=ts)if(es[ki[rs]])return es[ki[rs]]}var Bt$1={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt$1={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et$1(es){return[es.stretch,es.style,es.weight,es.family].join(" ")}function qt$1(es,ki,Ri){for(var ts=(Ri=Ri||{}).defaultFontFamily||"times",rs=Object.assign({},Bt$1,Ri.genericFontFamilies||{}),is=null,ns=null,ss=0;ss<ki.length;++ss)if(rs[(is=jt$1(ki[ss])).family]&&(is.family=rs[is.family]),es.hasOwnProperty(is.family)){ns=es[is.family];break}if(!(ns=ns||es[ts]))throw new Error("Could not find a font-family for the rule '"+Et$1(is)+"' and default family '"+ts+"'.");if(ns=function(os,ls){if(ls[os])return ls[os];var cs=It$1[os],hs=cs<=It$1.normal?-1:1,us=Ot$1(ls,kt$1,cs,hs);if(!us)throw new Error("Could not find a matching font-stretch value for "+os);return us}(is.stretch,ns),ns=function(os,ls){if(ls[os])return ls[os];for(var cs=Pt$1[os],hs=0;hs<cs.length;++hs)if(ls[cs[hs]])return ls[cs[hs]];throw new Error("Could not find a matching font-style for "+os)}(is.style,ns),!(ns=function(os,ls){if(ls[os])return ls[os];if(os===400&&ls[500])return ls[500];if(os===500&&ls[400])return ls[400];var cs=Ct$1[os],hs=Ot$1(ls,Ft$1,cs,os<400?-1:1);if(!hs)throw new Error("Could not find a matching font-weight for value "+os);return hs}(is.weight,ns)))throw new Error("Failed to resolve a font for the rule '"+Et$1(is)+"'.");return ns}function Dt$1(es){return es.trimLeft()}function Rt$1(es,ki){for(var Ri=0;Ri<es.length;){if(es.charAt(Ri)===ki)return[es.substring(0,Ri),es.substring(Ri+1)];Ri+=1}return null}function Tt$1(es){var ki=es.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return ki===null?null:[ki[0],es.substring(ki[0].length)]}var Ut$1,zt$1,Ht$1,Wt$1=["times"];(function(es){var ki,Ri,ts,rs,is,ns,ss,os,ls,cs=function(js){return js=js||{},this.isStrokeTransparent=js.isStrokeTransparent||!1,this.strokeOpacity=js.strokeOpacity||1,this.strokeStyle=js.strokeStyle||"#000000",this.fillStyle=js.fillStyle||"#000000",this.isFillTransparent=js.isFillTransparent||!1,this.fillOpacity=js.fillOpacity||1,this.font=js.font||"10px sans-serif",this.textBaseline=js.textBaseline||"alphabetic",this.textAlign=js.textAlign||"left",this.lineWidth=js.lineWidth||1,this.lineJoin=js.lineJoin||"miter",this.lineCap=js.lineCap||"butt",this.path=js.path||[],this.transform=js.transform!==void 0?js.transform.clone():new os,this.globalCompositeOperation=js.globalCompositeOperation||"normal",this.globalAlpha=js.globalAlpha||1,this.clip_path=js.clip_path||[],this.currentPoint=js.currentPoint||new ns,this.miterLimit=js.miterLimit||10,this.lastPoint=js.lastPoint||new ns,this.lineDashOffset=js.lineDashOffset||0,this.lineDash=js.lineDash||[],this.margin=js.margin||[0,0,0,0],this.prevPageLastElemOffset=js.prevPageLastElemOffset||0,this.ignoreClearRect=typeof js.ignoreClearRect!="boolean"||js.ignoreClearRect,this};es.events.push(["initialized",function(){this.context2d=new hs(this),ki=this.internal.f2,Ri=this.internal.getCoordinateString,ts=this.internal.getVerticalCoordinateString,rs=this.internal.getHorizontalCoordinate,is=this.internal.getVerticalCoordinate,ns=this.internal.Point,ss=this.internal.Rectangle,os=this.internal.Matrix,ls=new cs}]);var hs=function(js){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Bs=js;Object.defineProperty(this,"pdf",{get:function(){return Bs}});var zs=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return zs},set:function(mo){zs=!!mo}});var so=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return so},set:function(mo){so=!!mo}});var oo=0;Object.defineProperty(this,"posX",{get:function(){return oo},set:function(mo){isNaN(mo)||(oo=mo)}});var Ao=0;Object.defineProperty(this,"posY",{get:function(){return Ao},set:function(mo){isNaN(mo)||(Ao=mo)}}),Object.defineProperty(this,"margin",{get:function(){return ls.margin},set:function(mo){var yo;typeof mo=="number"?yo=[mo,mo,mo,mo]:((yo=new Array(4))[0]=mo[0],yo[1]=mo.length>=2?mo[1]:yo[0],yo[2]=mo.length>=3?mo[2]:yo[0],yo[3]=mo.length>=4?mo[3]:yo[1]),ls.margin=yo}});var Xs=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Xs},set:function(mo){Xs=mo}});var lo=0;Object.defineProperty(this,"lastBreak",{get:function(){return lo},set:function(mo){lo=mo}});var co=[];Object.defineProperty(this,"pageBreaks",{get:function(){return co},set:function(mo){co=mo}}),Object.defineProperty(this,"ctx",{get:function(){return ls},set:function(mo){mo instanceof cs&&(ls=mo)}}),Object.defineProperty(this,"path",{get:function(){return ls.path},set:function(mo){ls.path=mo}});var So=[];Object.defineProperty(this,"ctxStack",{get:function(){return So},set:function(mo){So=mo}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(mo){var yo;yo=us(mo),this.ctx.fillStyle=yo.style,this.ctx.isFillTransparent=yo.a===0,this.ctx.fillOpacity=yo.a,this.pdf.setFillColor(yo.r,yo.g,yo.b,{a:yo.a}),this.pdf.setTextColor(yo.r,yo.g,yo.b,{a:yo.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(mo){var yo=us(mo);this.ctx.strokeStyle=yo.style,this.ctx.isStrokeTransparent=yo.a===0,this.ctx.strokeOpacity=yo.a,yo.a===0?this.pdf.setDrawColor(255,255,255):(yo.a,this.pdf.setDrawColor(yo.r,yo.g,yo.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(mo){["butt","round","square"].indexOf(mo)!==-1&&(this.ctx.lineCap=mo,this.pdf.setLineCap(mo))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(mo){isNaN(mo)||(this.ctx.lineWidth=mo,this.pdf.setLineWidth(mo))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(mo){["bevel","round","miter"].indexOf(mo)!==-1&&(this.ctx.lineJoin=mo,this.pdf.setLineJoin(mo))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(mo){isNaN(mo)||(this.ctx.miterLimit=mo,this.pdf.setMiterLimit(mo))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(mo){this.ctx.textBaseline=mo}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(mo){["right","end","center","left","start"].indexOf(mo)!==-1&&(this.ctx.textAlign=mo)}});var ro=null;function vo(mo,yo){if(ro===null){var Jo=function(Yo){var Wo=[];return Object.keys(Yo).forEach(function(ko){Yo[ko].forEach(function(Qo){var jo=null;switch(Qo){case"bold":jo={family:ko,weight:"bold"};break;case"italic":jo={family:ko,style:"italic"};break;case"bolditalic":jo={family:ko,weight:"bold",style:"italic"};break;case"":case"normal":jo={family:ko}}jo!==null&&(jo.ref={name:ko,style:Qo},Wo.push(jo))})}),Wo}(mo.getFontList());ro=function(Yo){for(var Wo={},ko=0;ko<Yo.length;++ko){var Qo=jt$1(Yo[ko]),jo=Qo.family,Bo=Qo.stretch,go=Qo.style,_o=Qo.weight;Wo[jo]=Wo[jo]||{},Wo[jo][Bo]=Wo[jo][Bo]||{},Wo[jo][Bo][go]=Wo[jo][Bo][go]||{},Wo[jo][Bo][go][_o]=Qo}return Wo}(Jo.concat(yo))}return ro}var Eo=null;Object.defineProperty(this,"fontFaces",{get:function(){return Eo},set:function(mo){ro=null,Eo=mo}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(mo){var yo;if(this.ctx.font=mo,(yo=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(mo))!==null){var Jo=yo[1],Yo=(yo[2],yo[3]),Wo=yo[4],ko=(yo[5],yo[6]),Qo=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Wo)[2];Wo=Math.floor(Qo==="px"?parseFloat(Wo)*this.pdf.internal.scaleFactor:Qo==="em"?parseFloat(Wo)*this.pdf.getFontSize():parseFloat(Wo)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Wo);var jo=function(Oo){var Fo,Po,Zo=[],na=Oo.trim();if(na==="")return Wt$1;if(na in Mt$1)return[Mt$1[na]];for(;na!=="";){switch(Po=null,Fo=(na=Dt$1(na)).charAt(0)){case'"':case"'":Po=Rt$1(na.substring(1),Fo);break;default:Po=Tt$1(na)}if(Po===null||(Zo.push(Po[0]),(na=Dt$1(Po[1]))!==""&&na.charAt(0)!==","))return Wt$1;na=na.replace(/^,/,"")}return Zo}(ko);if(this.fontFaces){var Bo=qt$1(vo(this.pdf,this.fontFaces),jo.map(function(Oo){return{family:Oo,stretch:"normal",weight:Yo,style:Jo}}));this.pdf.setFont(Bo.ref.name,Bo.ref.style)}else{var go="";(Yo==="bold"||parseInt(Yo,10)>=700||Jo==="bold")&&(go="bold"),Jo==="italic"&&(go+="italic"),go.length===0&&(go="normal");for(var _o="",To={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},uo=0;uo<jo.length;uo++){if(this.pdf.internal.getFont(jo[uo],go,{noFallback:!0,disableWarning:!0})!==void 0){_o=jo[uo];break}if(go==="bolditalic"&&this.pdf.internal.getFont(jo[uo],"bold",{noFallback:!0,disableWarning:!0})!==void 0)_o=jo[uo],go="bold";else if(this.pdf.internal.getFont(jo[uo],"normal",{noFallback:!0,disableWarning:!0})!==void 0){_o=jo[uo],go="normal";break}}if(_o===""){for(var Co=0;Co<jo.length;Co++)if(To[jo[Co]]){_o=To[jo[Co]];break}}_o=_o===""?"Times":_o,this.pdf.setFont(_o,go)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(mo){this.ctx.globalCompositeOperation=mo}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(mo){this.ctx.globalAlpha=mo}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(mo){this.ctx.lineDashOffset=mo,ao.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(mo){this.ctx.lineDash=mo,ao.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(mo){this.ctx.ignoreClearRect=!!mo}})};hs.prototype.setLineDash=function(js){this.lineDash=js},hs.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},hs.prototype.fill=function(){gs.call(this,"fill",!1)},hs.prototype.stroke=function(){gs.call(this,"stroke",!1)},hs.prototype.beginPath=function(){this.path=[{type:"begin"}]},hs.prototype.moveTo=function(js,Bs){if(isNaN(js)||isNaN(Bs))throw a$1.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var zs=this.ctx.transform.applyToPoint(new ns(js,Bs));this.path.push({type:"mt",x:zs.x,y:zs.y}),this.ctx.lastPoint=new ns(js,Bs)},hs.prototype.closePath=function(){var js=new ns(0,0),Bs=0;for(Bs=this.path.length-1;Bs!==-1;Bs--)if(this.path[Bs].type==="begin"&&_typeof(this.path[Bs+1])==="object"&&typeof this.path[Bs+1].x=="number"){js=new ns(this.path[Bs+1].x,this.path[Bs+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new ns(js.x,js.y)},hs.prototype.lineTo=function(js,Bs){if(isNaN(js)||isNaN(Bs))throw a$1.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var zs=this.ctx.transform.applyToPoint(new ns(js,Bs));this.path.push({type:"lt",x:zs.x,y:zs.y}),this.ctx.lastPoint=new ns(zs.x,zs.y)},hs.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),gs.call(this,null,!0)},hs.prototype.quadraticCurveTo=function(js,Bs,zs,so){if(isNaN(zs)||isNaN(so)||isNaN(js)||isNaN(Bs))throw a$1.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oo=this.ctx.transform.applyToPoint(new ns(zs,so)),Ao=this.ctx.transform.applyToPoint(new ns(js,Bs));this.path.push({type:"qct",x1:Ao.x,y1:Ao.y,x:oo.x,y:oo.y}),this.ctx.lastPoint=new ns(oo.x,oo.y)},hs.prototype.bezierCurveTo=function(js,Bs,zs,so,oo,Ao){if(isNaN(oo)||isNaN(Ao)||isNaN(js)||isNaN(Bs)||isNaN(zs)||isNaN(so))throw a$1.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Xs=this.ctx.transform.applyToPoint(new ns(oo,Ao)),lo=this.ctx.transform.applyToPoint(new ns(js,Bs)),co=this.ctx.transform.applyToPoint(new ns(zs,so));this.path.push({type:"bct",x1:lo.x,y1:lo.y,x2:co.x,y2:co.y,x:Xs.x,y:Xs.y}),this.ctx.lastPoint=new ns(Xs.x,Xs.y)},hs.prototype.arc=function(js,Bs,zs,so,oo,Ao){if(isNaN(js)||isNaN(Bs)||isNaN(zs)||isNaN(so)||isNaN(oo))throw a$1.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ao=!!Ao,!this.ctx.transform.isIdentity){var Xs=this.ctx.transform.applyToPoint(new ns(js,Bs));js=Xs.x,Bs=Xs.y;var lo=this.ctx.transform.applyToPoint(new ns(0,zs)),co=this.ctx.transform.applyToPoint(new ns(0,0));zs=Math.sqrt(Math.pow(lo.x-co.x,2)+Math.pow(lo.y-co.y,2))}Math.abs(oo-so)>=2*Math.PI&&(so=0,oo=2*Math.PI),this.path.push({type:"arc",x:js,y:Bs,radius:zs,startAngle:so,endAngle:oo,counterclockwise:Ao})},hs.prototype.arcTo=function(js,Bs,zs,so,oo){throw new Error("arcTo not implemented.")},hs.prototype.rect=function(js,Bs,zs,so){if(isNaN(js)||isNaN(Bs)||isNaN(zs)||isNaN(so))throw a$1.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(js,Bs),this.lineTo(js+zs,Bs),this.lineTo(js+zs,Bs+so),this.lineTo(js,Bs+so),this.lineTo(js,Bs),this.lineTo(js+zs,Bs),this.lineTo(js,Bs)},hs.prototype.fillRect=function(js,Bs,zs,so){if(isNaN(js)||isNaN(Bs)||isNaN(zs)||isNaN(so))throw a$1.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!As.call(this)){var oo={};this.lineCap!=="butt"&&(oo.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oo.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(js,Bs,zs,so),this.fill(),oo.hasOwnProperty("lineCap")&&(this.lineCap=oo.lineCap),oo.hasOwnProperty("lineJoin")&&(this.lineJoin=oo.lineJoin)}},hs.prototype.strokeRect=function(js,Bs,zs,so){if(isNaN(js)||isNaN(Bs)||isNaN(zs)||isNaN(so))throw a$1.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");bs.call(this)||(this.beginPath(),this.rect(js,Bs,zs,so),this.stroke())},hs.prototype.clearRect=function(js,Bs,zs,so){if(isNaN(js)||isNaN(Bs)||isNaN(zs)||isNaN(so))throw a$1.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(js,Bs,zs,so))},hs.prototype.save=function(js){js=typeof js!="boolean"||js;for(var Bs=this.pdf.internal.getCurrentPageInfo().pageNumber,zs=0;zs<this.pdf.internal.getNumberOfPages();zs++)this.pdf.setPage(zs+1),this.pdf.internal.out("q");if(this.pdf.setPage(Bs),js){this.ctx.fontSize=this.pdf.internal.getFontSize();var so=new cs(this.ctx);this.ctxStack.push(this.ctx),this.ctx=so}},hs.prototype.restore=function(js){js=typeof js!="boolean"||js;for(var Bs=this.pdf.internal.getCurrentPageInfo().pageNumber,zs=0;zs<this.pdf.internal.getNumberOfPages();zs++)this.pdf.setPage(zs+1),this.pdf.internal.out("Q");this.pdf.setPage(Bs),js&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},hs.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var us=function(js){var Bs,zs,so,oo;if(js.isCanvasGradient===!0&&(js=js.getColor()),!js)return{r:0,g:0,b:0,a:0,style:js};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(js))Bs=0,zs=0,so=0,oo=0;else{var Ao=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(js);if(Ao!==null)Bs=parseInt(Ao[1]),zs=parseInt(Ao[2]),so=parseInt(Ao[3]),oo=1;else if((Ao=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(js))!==null)Bs=parseInt(Ao[1]),zs=parseInt(Ao[2]),so=parseInt(Ao[3]),oo=parseFloat(Ao[4]);else{if(oo=1,typeof js=="string"&&js.charAt(0)!=="#"){var Xs=new f$2(js);js=Xs.ok?Xs.toHex():"#000000"}js.length===4?(Bs=js.substring(1,2),Bs+=Bs,zs=js.substring(2,3),zs+=zs,so=js.substring(3,4),so+=so):(Bs=js.substring(1,3),zs=js.substring(3,5),so=js.substring(5,7)),Bs=parseInt(Bs,16),zs=parseInt(zs,16),so=parseInt(so,16)}}return{r:Bs,g:zs,b:so,a:oo,style:js}},As=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},bs=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};hs.prototype.fillText=function(js,Bs,zs,so){if(isNaN(Bs)||isNaN(zs)||typeof js!="string")throw a$1.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(so=isNaN(so)?void 0:so,!As.call(this)){var oo=Ss(this.ctx.transform.rotation),Ao=this.ctx.transform.scaleX;Is.call(this,{text:js,x:Bs,y:zs,scale:Ao,angle:oo,align:this.textAlign,maxWidth:so})}},hs.prototype.strokeText=function(js,Bs,zs,so){if(isNaN(Bs)||isNaN(zs)||typeof js!="string")throw a$1.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!bs.call(this)){so=isNaN(so)?void 0:so;var oo=Ss(this.ctx.transform.rotation),Ao=this.ctx.transform.scaleX;Is.call(this,{text:js,x:Bs,y:zs,scale:Ao,renderingMode:"stroke",angle:oo,align:this.textAlign,maxWidth:so})}},hs.prototype.measureText=function(js){if(typeof js!="string")throw a$1.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Bs=this.pdf,zs=this.pdf.internal.scaleFactor,so=Bs.internal.getFontSize(),oo=Bs.getStringUnitWidth(js)*so/Bs.internal.scaleFactor,Ao=function(Xs){var lo=(Xs=Xs||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return lo}}),this};return new Ao({width:oo*=Math.round(96*zs/72*1e4)/1e4})},hs.prototype.scale=function(js,Bs){if(isNaN(js)||isNaN(Bs))throw a$1.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var zs=new os(js,0,0,Bs,0,0);this.ctx.transform=this.ctx.transform.multiply(zs)},hs.prototype.rotate=function(js){if(isNaN(js))throw a$1.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Bs=new os(Math.cos(js),Math.sin(js),-Math.sin(js),Math.cos(js),0,0);this.ctx.transform=this.ctx.transform.multiply(Bs)},hs.prototype.translate=function(js,Bs){if(isNaN(js)||isNaN(Bs))throw a$1.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var zs=new os(1,0,0,1,js,Bs);this.ctx.transform=this.ctx.transform.multiply(zs)},hs.prototype.transform=function(js,Bs,zs,so,oo,Ao){if(isNaN(js)||isNaN(Bs)||isNaN(zs)||isNaN(so)||isNaN(oo)||isNaN(Ao))throw a$1.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Xs=new os(js,Bs,zs,so,oo,Ao);this.ctx.transform=this.ctx.transform.multiply(Xs)},hs.prototype.setTransform=function(js,Bs,zs,so,oo,Ao){js=isNaN(js)?1:js,Bs=isNaN(Bs)?0:Bs,zs=isNaN(zs)?0:zs,so=isNaN(so)?1:so,oo=isNaN(oo)?0:oo,Ao=isNaN(Ao)?0:Ao,this.ctx.transform=new os(js,Bs,zs,so,oo,Ao)};var ys=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};hs.prototype.drawImage=function(js,Bs,zs,so,oo,Ao,Xs,lo,co){var So=this.pdf.getImageProperties(js),ro=1,vo=1,Eo=1,mo=1;so!==void 0&&lo!==void 0&&(Eo=lo/so,mo=co/oo,ro=So.width/so*lo/so,vo=So.height/oo*co/oo),Ao===void 0&&(Ao=Bs,Xs=zs,Bs=0,zs=0),so!==void 0&&lo===void 0&&(lo=so,co=oo),so===void 0&&lo===void 0&&(lo=So.width,co=So.height);for(var yo,Jo=this.ctx.transform.decompose(),Yo=Ss(Jo.rotate.shx),Wo=new os,ko=(Wo=(Wo=(Wo=Wo.multiply(Jo.translate)).multiply(Jo.skew)).multiply(Jo.scale)).applyToRectangle(new ss(Ao-Bs*Eo,Xs-zs*mo,so*ro,oo*vo)),Qo=Cs.call(this,ko),jo=[],Bo=0;Bo<Qo.length;Bo+=1)jo.indexOf(Qo[Bo])===-1&&jo.push(Qo[Bo]);if(fs(jo),this.autoPaging)for(var go=jo[0],_o=jo[jo.length-1],To=go;To<_o+1;To++){this.pdf.setPage(To);var uo=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Co=To===1?this.posY+this.margin[0]:this.margin[0],Oo=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fo=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Po=To===1?0:Oo+(To-2)*Fo;if(this.ctx.clip_path.length!==0){var Zo=this.path;yo=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ms(yo,this.posX+this.margin[3],-Po+Co+this.ctx.prevPageLastElemOffset),ws.call(this,"fill",!0),this.path=Zo}var na=JSON.parse(JSON.stringify(ko));na=ms([na],this.posX+this.margin[3],-Po+Co+this.ctx.prevPageLastElemOffset)[0];var ma=(To>go||To<_o)&&ys.call(this);ma&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],uo,Fo,null).clip().discardPath()),this.pdf.addImage(js,"JPEG",na.x,na.y,na.w,na.h,null,null,Yo),ma&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(js,"JPEG",ko.x,ko.y,ko.w,ko.h,null,null,Yo)};var Cs=function(js,Bs,zs){var so=[];Bs=Bs||this.pdf.internal.pageSize.width,zs=zs||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oo=this.posY+this.ctx.prevPageLastElemOffset;switch(js.type){default:case"mt":case"lt":so.push(Math.floor((js.y+oo)/zs)+1);break;case"arc":so.push(Math.floor((js.y+oo-js.radius)/zs)+1),so.push(Math.floor((js.y+oo+js.radius)/zs)+1);break;case"qct":var Ao=Us(this.ctx.lastPoint.x,this.ctx.lastPoint.y,js.x1,js.y1,js.x,js.y);so.push(Math.floor((Ao.y+oo)/zs)+1),so.push(Math.floor((Ao.y+Ao.h+oo)/zs)+1);break;case"bct":var Xs=Zs(this.ctx.lastPoint.x,this.ctx.lastPoint.y,js.x1,js.y1,js.x2,js.y2,js.x,js.y);so.push(Math.floor((Xs.y+oo)/zs)+1),so.push(Math.floor((Xs.y+Xs.h+oo)/zs)+1);break;case"rect":so.push(Math.floor((js.y+oo)/zs)+1),so.push(Math.floor((js.y+js.h+oo)/zs)+1)}for(var lo=0;lo<so.length;lo+=1)for(;this.pdf.internal.getNumberOfPages()<so[lo];)ps.call(this);return so},ps=function(){var js=this.fillStyle,Bs=this.strokeStyle,zs=this.font,so=this.lineCap,oo=this.lineWidth,Ao=this.lineJoin;this.pdf.addPage(),this.fillStyle=js,this.strokeStyle=Bs,this.font=zs,this.lineCap=so,this.lineWidth=oo,this.lineJoin=Ao},ms=function(js,Bs,zs){for(var so=0;so<js.length;so++)switch(js[so].type){case"bct":js[so].x2+=Bs,js[so].y2+=zs;case"qct":js[so].x1+=Bs,js[so].y1+=zs;case"mt":case"lt":case"arc":default:js[so].x+=Bs,js[so].y+=zs}return js},fs=function(js){return js.sort(function(Bs,zs){return Bs-zs})},gs=function(js,Bs){for(var zs,so,oo=this.fillStyle,Ao=this.strokeStyle,Xs=this.lineCap,lo=this.lineWidth,co=Math.abs(lo*this.ctx.transform.scaleX),So=this.lineJoin,ro=JSON.parse(JSON.stringify(this.path)),vo=JSON.parse(JSON.stringify(this.path)),Eo=[],mo=0;mo<vo.length;mo++)if(vo[mo].x!==void 0)for(var yo=Cs.call(this,vo[mo]),Jo=0;Jo<yo.length;Jo+=1)Eo.indexOf(yo[Jo])===-1&&Eo.push(yo[Jo]);for(var Yo=0;Yo<Eo.length;Yo++)for(;this.pdf.internal.getNumberOfPages()<Eo[Yo];)ps.call(this);if(fs(Eo),this.autoPaging)for(var Wo=Eo[0],ko=Eo[Eo.length-1],Qo=Wo;Qo<ko+1;Qo++){this.pdf.setPage(Qo),this.fillStyle=oo,this.strokeStyle=Ao,this.lineCap=Xs,this.lineWidth=co,this.lineJoin=So;var jo=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bo=Qo===1?this.posY+this.margin[0]:this.margin[0],go=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_o=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],To=Qo===1?0:go+(Qo-2)*_o;if(this.ctx.clip_path.length!==0){var uo=this.path;zs=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ms(zs,this.posX+this.margin[3],-To+Bo+this.ctx.prevPageLastElemOffset),ws.call(this,js,!0),this.path=uo}if(so=JSON.parse(JSON.stringify(ro)),this.path=ms(so,this.posX+this.margin[3],-To+Bo+this.ctx.prevPageLastElemOffset),Bs===!1||Qo===0){var Co=(Qo>Wo||Qo<ko)&&ys.call(this);Co&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jo,_o,null).clip().discardPath()),ws.call(this,js,Bs),Co&&this.pdf.restoreGraphicsState()}this.lineWidth=lo}else this.lineWidth=co,ws.call(this,js,Bs),this.lineWidth=lo;this.path=ro},ws=function(js,Bs){if((js!=="stroke"||Bs||!bs.call(this))&&(js==="stroke"||Bs||!As.call(this))){for(var zs,so,oo=[],Ao=this.path,Xs=0;Xs<Ao.length;Xs++){var lo=Ao[Xs];switch(lo.type){case"begin":oo.push({begin:!0});break;case"close":oo.push({close:!0});break;case"mt":oo.push({start:lo,deltas:[],abs:[]});break;case"lt":var co=oo.length;if(Ao[Xs-1]&&!isNaN(Ao[Xs-1].x)&&(zs=[lo.x-Ao[Xs-1].x,lo.y-Ao[Xs-1].y],co>0)){for(;co>=0;co--)if(oo[co-1].close!==!0&&oo[co-1].begin!==!0){oo[co-1].deltas.push(zs),oo[co-1].abs.push(lo);break}}break;case"bct":zs=[lo.x1-Ao[Xs-1].x,lo.y1-Ao[Xs-1].y,lo.x2-Ao[Xs-1].x,lo.y2-Ao[Xs-1].y,lo.x-Ao[Xs-1].x,lo.y-Ao[Xs-1].y],oo[oo.length-1].deltas.push(zs);break;case"qct":var So=Ao[Xs-1].x+2/3*(lo.x1-Ao[Xs-1].x),ro=Ao[Xs-1].y+2/3*(lo.y1-Ao[Xs-1].y),vo=lo.x+2/3*(lo.x1-lo.x),Eo=lo.y+2/3*(lo.y1-lo.y),mo=lo.x,yo=lo.y;zs=[So-Ao[Xs-1].x,ro-Ao[Xs-1].y,vo-Ao[Xs-1].x,Eo-Ao[Xs-1].y,mo-Ao[Xs-1].x,yo-Ao[Xs-1].y],oo[oo.length-1].deltas.push(zs);break;case"arc":oo.push({deltas:[],abs:[],arc:!0}),Array.isArray(oo[oo.length-1].abs)&&oo[oo.length-1].abs.push(lo)}}so=Bs?null:js==="stroke"?"stroke":"fill";for(var Jo=!1,Yo=0;Yo<oo.length;Yo++)if(oo[Yo].arc)for(var Wo=oo[Yo].abs,ko=0;ko<Wo.length;ko++){var Qo=Wo[ko];Qo.type==="arc"?Rs.call(this,Qo.x,Qo.y,Qo.radius,Qo.startAngle,Qo.endAngle,Qo.counterclockwise,void 0,Bs,!Jo):Ms.call(this,Qo.x,Qo.y),Jo=!0}else if(oo[Yo].close===!0)this.pdf.internal.out("h"),Jo=!1;else if(oo[Yo].begin!==!0){var jo=oo[Yo].start.x,Bo=oo[Yo].start.y;Ws.call(this,oo[Yo].deltas,jo,Bo),Jo=!0}so&&Ps.call(this,so),Bs&&Qs.call(this)}},Ts=function(js){var Bs=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,zs=Bs*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return js-zs;case"top":return js+Bs-zs;case"hanging":return js+Bs-2*zs;case"middle":return js+Bs/2-zs;case"ideographic":return js;case"alphabetic":default:return js}},$s=function(js){return js+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};hs.prototype.createLinearGradient=function(){var js=function(){};return js.colorStops=[],js.addColorStop=function(Bs,zs){this.colorStops.push([Bs,zs])},js.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},js.isCanvasGradient=!0,js},hs.prototype.createPattern=function(){return this.createLinearGradient()},hs.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Rs=function(js,Bs,zs,so,oo,Ao,Xs,lo,co){for(var So=_s.call(this,zs,so,oo,Ao),ro=0;ro<So.length;ro++){var vo=So[ro];ro===0&&(co?Fs.call(this,vo.x1+js,vo.y1+Bs):Ms.call(this,vo.x1+js,vo.y1+Bs)),Ds.call(this,js,Bs,vo.x2,vo.y2,vo.x3,vo.y3,vo.x4,vo.y4)}lo?Qs.call(this):Ps.call(this,Xs)},Ps=function(js){switch(js){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Qs=function(){this.pdf.clip(),this.pdf.discardPath()},Fs=function(js,Bs){this.pdf.internal.out(Ri(js)+" "+ts(Bs)+" m")},Is=function(js){var Bs;switch(js.align){case"right":case"end":Bs="right";break;case"center":Bs="center";break;case"left":case"start":default:Bs="left"}var zs=this.pdf.getTextDimensions(js.text),so=Ts.call(this,js.y),oo=$s.call(this,so)-zs.h,Ao=this.ctx.transform.applyToPoint(new ns(js.x,so)),Xs=this.ctx.transform.decompose(),lo=new os;lo=(lo=(lo=lo.multiply(Xs.translate)).multiply(Xs.skew)).multiply(Xs.scale);for(var co,So,ro,vo=this.ctx.transform.applyToRectangle(new ss(js.x,so,zs.w,zs.h)),Eo=lo.applyToRectangle(new ss(js.x,oo,zs.w,zs.h)),mo=Cs.call(this,Eo),yo=[],Jo=0;Jo<mo.length;Jo+=1)yo.indexOf(mo[Jo])===-1&&yo.push(mo[Jo]);if(fs(yo),this.autoPaging)for(var Yo=yo[0],Wo=yo[yo.length-1],ko=Yo;ko<Wo+1;ko++){this.pdf.setPage(ko);var Qo=ko===1?this.posY+this.margin[0]:this.margin[0],jo=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bo=this.pdf.internal.pageSize.height-this.margin[2],go=Bo-this.margin[0],_o=this.pdf.internal.pageSize.width-this.margin[1],To=_o-this.margin[3],uo=ko===1?0:jo+(ko-2)*go;if(this.ctx.clip_path.length!==0){var Co=this.path;co=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ms(co,this.posX+this.margin[3],-1*uo+Qo),ws.call(this,"fill",!0),this.path=Co}var Oo=ms([JSON.parse(JSON.stringify(Eo))],this.posX+this.margin[3],-uo+Qo+this.ctx.prevPageLastElemOffset)[0];js.scale>=.01&&(So=this.pdf.internal.getFontSize(),this.pdf.setFontSize(So*js.scale),ro=this.lineWidth,this.lineWidth=ro*js.scale);var Fo=this.autoPaging!=="text";if(Fo||Oo.y+Oo.h<=Bo){if(Fo||Oo.y>=Qo&&Oo.x<=_o){var Po=Fo?js.text:this.pdf.splitTextToSize(js.text,js.maxWidth||_o-Oo.x)[0],Zo=ms([JSON.parse(JSON.stringify(vo))],this.posX+this.margin[3],-uo+Qo+this.ctx.prevPageLastElemOffset)[0],na=Fo&&(ko>Yo||ko<Wo)&&ys.call(this);na&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],To,go,null).clip().discardPath()),this.pdf.text(Po,Zo.x,Zo.y,{angle:js.angle,align:Bs,renderingMode:js.renderingMode}),na&&this.pdf.restoreGraphicsState()}}else Oo.y<Bo&&(this.ctx.prevPageLastElemOffset+=Bo-Oo.y);js.scale>=.01&&(this.pdf.setFontSize(So),this.lineWidth=ro)}else js.scale>=.01&&(So=this.pdf.internal.getFontSize(),this.pdf.setFontSize(So*js.scale),ro=this.lineWidth,this.lineWidth=ro*js.scale),this.pdf.text(js.text,Ao.x+this.posX,Ao.y+this.posY,{angle:js.angle,align:Bs,renderingMode:js.renderingMode,maxWidth:js.maxWidth}),js.scale>=.01&&(this.pdf.setFontSize(So),this.lineWidth=ro)},Ms=function(js,Bs,zs,so){zs=zs||0,so=so||0,this.pdf.internal.out(Ri(js+zs)+" "+ts(Bs+so)+" l")},Ws=function(js,Bs,zs){return this.pdf.lines(js,Bs,zs,null,null)},Ds=function(js,Bs,zs,so,oo,Ao,Xs,lo){this.pdf.internal.out([ki(rs(zs+js)),ki(is(so+Bs)),ki(rs(oo+js)),ki(is(Ao+Bs)),ki(rs(Xs+js)),ki(is(lo+Bs)),"c"].join(" "))},_s=function(js,Bs,zs,so){for(var oo=2*Math.PI,Ao=Math.PI/2;Bs>zs;)Bs-=oo;var Xs=Math.abs(zs-Bs);Xs<oo&&so&&(Xs=oo-Xs);for(var lo=[],co=so?-1:1,So=Bs;Xs>1e-5;){var ro=So+co*Math.min(Xs,Ao);lo.push(Ns.call(this,js,So,ro)),Xs-=Math.abs(ro-So),So=ro}return lo},Ns=function(js,Bs,zs){var so=(zs-Bs)/2,oo=js*Math.cos(so),Ao=js*Math.sin(so),Xs=oo,lo=-Ao,co=Xs*Xs+lo*lo,So=co+Xs*oo+lo*Ao,ro=4/3*(Math.sqrt(2*co*So)-So)/(Xs*Ao-lo*oo),vo=Xs-ro*lo,Eo=lo+ro*Xs,mo=vo,yo=-Eo,Jo=so+Bs,Yo=Math.cos(Jo),Wo=Math.sin(Jo);return{x1:js*Math.cos(Bs),y1:js*Math.sin(Bs),x2:vo*Yo-Eo*Wo,y2:vo*Wo+Eo*Yo,x3:mo*Yo-yo*Wo,y3:mo*Wo+yo*Yo,x4:js*Math.cos(zs),y4:js*Math.sin(zs)}},Ss=function(js){return 180*js/Math.PI},Us=function(js,Bs,zs,so,oo,Ao){var Xs=js+.5*(zs-js),lo=Bs+.5*(so-Bs),co=oo+.5*(zs-oo),So=Ao+.5*(so-Ao),ro=Math.min(js,oo,Xs,co),vo=Math.max(js,oo,Xs,co),Eo=Math.min(Bs,Ao,lo,So),mo=Math.max(Bs,Ao,lo,So);return new ss(ro,Eo,vo-ro,mo-Eo)},Zs=function(js,Bs,zs,so,oo,Ao,Xs,lo){var co,So,ro,vo,Eo,mo,yo,Jo,Yo,Wo,ko,Qo,jo,Bo,go=zs-js,_o=so-Bs,To=oo-zs,uo=Ao-so,Co=Xs-oo,Oo=lo-Ao;for(So=0;So<41;So++)Yo=(yo=(ro=js+(co=So/40)*go)+co*((Eo=zs+co*To)-ro))+co*(Eo+co*(oo+co*Co-Eo)-yo),Wo=(Jo=(vo=Bs+co*_o)+co*((mo=so+co*uo)-vo))+co*(mo+co*(Ao+co*Oo-mo)-Jo),So==0?(ko=Yo,Qo=Wo,jo=Yo,Bo=Wo):(ko=Math.min(ko,Yo),Qo=Math.min(Qo,Wo),jo=Math.max(jo,Yo),Bo=Math.max(Bo,Wo));return new ss(Math.round(ko),Math.round(Qo),Math.round(jo-ko),Math.round(Bo-Qo))},ao=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var js,Bs,zs=(js=this.ctx.lineDash,Bs=this.ctx.lineDashOffset,JSON.stringify({lineDash:js,lineDashOffset:Bs}));this.prevLineDash!==zs&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=zs)}}})(E$2.API),function(es){var ki=function(is){var ns,ss,os,ls,cs,hs,us,As,bs,ys;for(ss=[],os=0,ls=(is+=ns="\0\0\0\0".slice(is.length%4||4)).length;ls>os;os+=4)(cs=(is.charCodeAt(os)<<24)+(is.charCodeAt(os+1)<<16)+(is.charCodeAt(os+2)<<8)+is.charCodeAt(os+3))!==0?(hs=(cs=((cs=((cs=((cs=(cs-(ys=cs%85))/85)-(bs=cs%85))/85)-(As=cs%85))/85)-(us=cs%85))/85)%85,ss.push(hs+33,us+33,As+33,bs+33,ys+33)):ss.push(122);return function(Cs,ps){for(var ms=ps;ms>0;ms--)Cs.pop()}(ss,ns.length),String.fromCharCode.apply(String,ss)+"~>"},Ri=function(is){var ns,ss,os,ls,cs,hs=String,us="length",As=255,bs="charCodeAt",ys="slice",Cs="replace";for(is[ys](-2),is=is[ys](0,-2)[Cs](/\s/g,"")[Cs]("z","!!!!!"),os=[],ls=0,cs=(is+=ns="uuuuu"[ys](is[us]%5||5))[us];cs>ls;ls+=5)ss=52200625*(is[bs](ls)-33)+614125*(is[bs](ls+1)-33)+7225*(is[bs](ls+2)-33)+85*(is[bs](ls+3)-33)+(is[bs](ls+4)-33),os.push(As&ss>>24,As&ss>>16,As&ss>>8,As&ss);return function(ps,ms){for(var fs=ms;fs>0;fs--)ps.pop()}(os,ns[us]),hs.fromCharCode.apply(hs,os)},ts=function(is){var ns=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((is=is.replace(/\s/g,"")).indexOf(">")!==-1&&(is=is.substr(0,is.indexOf(">"))),is.length%2&&(is+="0"),ns.test(is)===!1)return"";for(var ss="",os=0;os<is.length;os+=2)ss+=String.fromCharCode("0x"+(is[os]+is[os+1]));return ss},rs=function(is){for(var ns=new Uint8Array(is.length),ss=is.length;ss--;)ns[ss]=is.charCodeAt(ss);return is=(ns=zlibSync(ns)).reduce(function(os,ls){return os+String.fromCharCode(ls)},"")};es.processDataByFilters=function(is,ns){var ss=0,os=is||"",ls=[];for(typeof(ns=ns||[])=="string"&&(ns=[ns]),ss=0;ss<ns.length;ss+=1)switch(ns[ss]){case"ASCII85Decode":case"/ASCII85Decode":os=Ri(os),ls.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":os=ki(os),ls.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":os=ts(os),ls.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":os=os.split("").map(function(cs){return("0"+cs.charCodeAt().toString(16)).slice(-2)}).join("")+">",ls.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":os=rs(os),ls.push("/FlateDecode");break;default:throw new Error('The filter: "'+ns[ss]+'" is not implemented')}return{data:os,reverseChain:ls.reverse().join(" ")}}}(E$2.API),function(es){es.loadFile=function(ki,Ri,ts){return function(rs,is,ns){is=is!==!1,ns=typeof ns=="function"?ns:function(){};var ss=void 0;try{ss=function(os,ls,cs){var hs=new XMLHttpRequest,us=0,As=function(bs){var ys=bs.length,Cs=[],ps=String.fromCharCode;for(us=0;us<ys;us+=1)Cs.push(ps(255&bs.charCodeAt(us)));return Cs.join("")};if(hs.open("GET",os,!ls),hs.overrideMimeType("text/plain; charset=x-user-defined"),ls===!1&&(hs.onload=function(){hs.status===200?cs(As(this.responseText)):cs(void 0)}),hs.send(null),ls&&hs.status===200)return As(hs.responseText)}(rs,is,ns)}catch{}return ss}(ki,Ri,ts)},es.loadImageFile=es.loadFile}(E$2.API),function(es){function ki(){return(n$1.html2canvas?Promise.resolve(n$1.html2canvas):__vitePreload(()=>import("./html2canvas-DlFjH3Lr.js").then(ns=>ns.h),[])).catch(function(ns){return Promise.reject(new Error("Could not load html2canvas: "+ns))}).then(function(ns){return ns.default?ns.default:ns})}function Ri(){return(n$1.DOMPurify?Promise.resolve(n$1.DOMPurify):__vitePreload(()=>import("./purify.es-a-CayzAK.js"),[])).catch(function(ns){return Promise.reject(new Error("Could not load dompurify: "+ns))}).then(function(ns){return ns.default?ns.default:ns})}var ts=function(ns){var ss=_typeof(ns);return ss==="undefined"?"undefined":ss==="string"||ns instanceof String?"string":ss==="number"||ns instanceof Number?"number":ss==="function"||ns instanceof Function?"function":ns&&ns.constructor===Array?"array":ns&&ns.nodeType===1?"element":ss==="object"?"object":"unknown"},rs=function(ns,ss){var os=document.createElement(ns);for(var ls in ss.className&&(os.className=ss.className),ss.innerHTML&&ss.dompurify&&(os.innerHTML=ss.dompurify.sanitize(ss.innerHTML)),ss.style)os.style[ls]=ss.style[ls];return os},is=function ns(ss){var os=Object.assign(ns.convert(Promise.resolve()),JSON.parse(JSON.stringify(ns.template))),ls=ns.convert(Promise.resolve(),os);return ls=(ls=ls.setProgress(1,ns,1,[ns])).set(ss)};(is.prototype=Object.create(Promise.prototype)).constructor=is,is.convert=function(ns,ss){return ns.__proto__=ss||is.prototype,ns},is.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},is.prototype.from=function(ns,ss){return this.then(function(){switch(ss=ss||function(os){switch(ts(os)){case"string":return"string";case"element":return os.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(ns)){case"string":return this.then(Ri).then(function(os){return this.set({src:rs("div",{innerHTML:ns,dompurify:os})})});case"element":return this.set({src:ns});case"canvas":return this.set({canvas:ns});case"img":return this.set({img:ns});default:return this.error("Unknown source type.")}})},is.prototype.to=function(ns){switch(ns){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},is.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var ns={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},ss=function os(ls,cs){for(var hs=ls.nodeType===3?document.createTextNode(ls.nodeValue):ls.cloneNode(!1),us=ls.firstChild;us;us=us.nextSibling)cs!==!0&&us.nodeType===1&&us.nodeName==="SCRIPT"||hs.appendChild(os(us,cs));return ls.nodeType===1&&(ls.nodeName==="CANVAS"?(hs.width=ls.width,hs.height=ls.height,hs.getContext("2d").drawImage(ls,0,0)):ls.nodeName!=="TEXTAREA"&&ls.nodeName!=="SELECT"||(hs.value=ls.value),hs.addEventListener("load",function(){hs.scrollTop=ls.scrollTop,hs.scrollLeft=ls.scrollLeft},!0)),hs}(this.prop.src,this.opt.html2canvas.javascriptEnabled);ss.tagName==="BODY"&&(ns.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=rs("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=rs("div",{className:"html2pdf__container",style:ns}),this.prop.container.appendChild(ss),this.prop.container.firstChild.appendChild(rs("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},is.prototype.toCanvas=function(){var ns=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(ns).then(ki).then(function(ss){var os=Object.assign({},this.opt.html2canvas);return delete os.onrendered,ss(this.prop.container,os)}).then(function(ss){(this.opt.html2canvas.onrendered||function(){})(ss),this.prop.canvas=ss,document.body.removeChild(this.prop.overlay)})},is.prototype.toContext2d=function(){var ns=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(ns).then(ki).then(function(ss){var os=this.opt.jsPDF,ls=this.opt.fontFaces,cs=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,hs=Object.assign({async:!0,allowTaint:!0,scale:cs,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete hs.onrendered,os.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,os.context2d.posX=this.opt.x,os.context2d.posY=this.opt.y,os.context2d.margin=this.opt.margin,os.context2d.fontFaces=ls,ls)for(var us=0;us<ls.length;++us){var As=ls[us],bs=As.src.find(function(ys){return ys.format==="truetype"});bs&&os.addFont(bs.url,As.ref.name,As.ref.style)}return hs.windowHeight=hs.windowHeight||0,hs.windowHeight=hs.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):hs.windowHeight,os.context2d.save(!0),ss(this.prop.container,hs)}).then(function(ss){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(ss),this.prop.canvas=ss,document.body.removeChild(this.prop.overlay)})},is.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var ns=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=ns})},is.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},is.prototype.output=function(ns,ss,os){return(os=os||"pdf").toLowerCase()==="img"||os.toLowerCase()==="image"?this.outputImg(ns,ss):this.outputPdf(ns,ss)},is.prototype.outputPdf=function(ns,ss){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(ns,ss)})},is.prototype.outputImg=function(ns){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(ns){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+ns+'" is not supported.'}})},is.prototype.save=function(ns){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(ns?{filename:ns}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},is.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},is.prototype.set=function(ns){if(ts(ns)!=="object")return this;var ss=Object.keys(ns||{}).map(function(os){if(os in is.template.prop)return function(){this.prop[os]=ns[os]};switch(os){case"margin":return this.setMargin.bind(this,ns.margin);case"jsPDF":return function(){return this.opt.jsPDF=ns.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,ns.pageSize);default:return function(){this.opt[os]=ns[os]}}},this);return this.then(function(){return this.thenList(ss)})},is.prototype.get=function(ns,ss){return this.then(function(){var os=ns in is.template.prop?this.prop[ns]:this.opt[ns];return ss?ss(os):os})},is.prototype.setMargin=function(ns){return this.then(function(){switch(ts(ns)){case"number":ns=[ns,ns,ns,ns];case"array":if(ns.length===2&&(ns=[ns[0],ns[1],ns[0],ns[1]]),ns.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=ns}).then(this.setPageSize)},is.prototype.setPageSize=function(ns){function ss(os,ls){return Math.floor(os*ls/72*96)}return this.then(function(){(ns=ns||E$2.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(ns.inner={width:ns.width-this.opt.margin[1]-this.opt.margin[3],height:ns.height-this.opt.margin[0]-this.opt.margin[2]},ns.inner.px={width:ss(ns.inner.width,ns.k),height:ss(ns.inner.height,ns.k)},ns.inner.ratio=ns.inner.height/ns.inner.width),this.prop.pageSize=ns})},is.prototype.setProgress=function(ns,ss,os,ls){return ns!=null&&(this.progress.val=ns),ss!=null&&(this.progress.state=ss),os!=null&&(this.progress.n=os),ls!=null&&(this.progress.stack=ls),this.progress.ratio=this.progress.val/this.progress.state,this},is.prototype.updateProgress=function(ns,ss,os,ls){return this.setProgress(ns?this.progress.val+ns:null,ss||null,os?this.progress.n+os:null,ls?this.progress.stack.concat(ls):null)},is.prototype.then=function(ns,ss){var os=this;return this.thenCore(ns,ss,function(ls,cs){return os.updateProgress(null,null,1,[ls]),Promise.prototype.then.call(this,function(hs){return os.updateProgress(null,ls),hs}).then(ls,cs).then(function(hs){return os.updateProgress(1),hs})})},is.prototype.thenCore=function(ns,ss,os){os=os||Promise.prototype.then,ns&&(ns=ns.bind(this)),ss&&(ss=ss.bind(this));var ls=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:is.convert(Object.assign({},this),Promise.prototype),cs=os.call(ls,ns,ss);return is.convert(cs,this.__proto__)},is.prototype.thenExternal=function(ns,ss){return Promise.prototype.then.call(this,ns,ss)},is.prototype.thenList=function(ns){var ss=this;return ns.forEach(function(os){ss=ss.thenCore(os)}),ss},is.prototype.catch=function(ns){ns&&(ns=ns.bind(this));var ss=Promise.prototype.catch.call(this,ns);return is.convert(ss,this)},is.prototype.catchExternal=function(ns){return Promise.prototype.catch.call(this,ns)},is.prototype.error=function(ns){return this.then(function(){throw new Error(ns)})},is.prototype.using=is.prototype.set,is.prototype.saveAs=is.prototype.save,is.prototype.export=is.prototype.output,is.prototype.run=is.prototype.then,E$2.getPageSize=function(ns,ss,os){if(_typeof(ns)==="object"){var ls=ns;ns=ls.orientation,ss=ls.unit||ss,os=ls.format||os}ss=ss||"mm",os=os||"a4",ns=(""+(ns||"P")).toLowerCase();var cs,hs=(""+os).toLowerCase(),us={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(ss){case"pt":cs=1;break;case"mm":cs=72/25.4;break;case"cm":cs=72/2.54;break;case"in":cs=72;break;case"px":cs=.75;break;case"pc":case"em":cs=12;break;case"ex":cs=6;break;default:throw"Invalid unit: "+ss}var As,bs=0,ys=0;if(us.hasOwnProperty(hs))bs=us[hs][1]/cs,ys=us[hs][0]/cs;else try{bs=os[1],ys=os[0]}catch{throw new Error("Invalid format: "+os)}if(ns==="p"||ns==="portrait")ns="p",ys>bs&&(As=ys,ys=bs,bs=As);else{if(ns!=="l"&&ns!=="landscape")throw"Invalid orientation: "+ns;ns="l",bs>ys&&(As=ys,ys=bs,bs=As)}return{width:ys,height:bs,unit:ss,k:cs,orientation:ns}},es.html=function(ns,ss){(ss=ss||{}).callback=ss.callback||function(){},ss.html2canvas=ss.html2canvas||{},ss.html2canvas.canvas=ss.html2canvas.canvas||this.canvas,ss.jsPDF=ss.jsPDF||this,ss.fontFaces=ss.fontFaces?ss.fontFaces.map(jt$1):null;var os=new is(ss);return ss.worker?os:os.from(ns).doCallback()}}(E$2.API),E$2.API.addJS=function(es){return Ht$1=es,this.internal.events.subscribe("postPutResources",function(){Ut$1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut$1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt$1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht$1+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut$1!==void 0&&zt$1!==void 0&&this.internal.out("/Names <</JavaScript "+Ut$1+" 0 R>>")}),this},function(es){var ki;es.events.push(["postPutResources",function(){var Ri=this,ts=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var rs=Ri.outline.render().split(/\r\n/),is=0;is<rs.length;is++){var ns=rs[is],ss=ts.exec(ns);if(ss!=null){var os=ss[1];Ri.internal.newObjectDeferredBegin(os,!1)}Ri.internal.write(ns)}if(this.outline.createNamedDestinations){var ls=this.internal.pages.length,cs=[];for(is=0;is<ls;is++){var hs=Ri.internal.newObject();cs.push(hs);var us=Ri.internal.getPageInfo(is+1);Ri.internal.write("<< /D["+us.objId+" 0 R /XYZ null null null]>> endobj")}var As=Ri.internal.newObject();for(Ri.internal.write("<< /Names [ "),is=0;is<cs.length;is++)Ri.internal.write("(page_"+(is+1)+")"+cs[is]+" 0 R");Ri.internal.write(" ] >>","endobj"),ki=Ri.internal.newObject(),Ri.internal.write("<< /Dests "+As+" 0 R"),Ri.internal.write(">>","endobj")}}]),es.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+ki+" 0 R"))}]),es.events.push(["initialized",function(){var Ri=this;Ri.outline={createNamedDestinations:!1,root:{children:[]}},Ri.outline.add=function(ts,rs,is){var ns={title:rs,options:is,children:[]};return ts==null&&(ts=this.root),ts.children.push(ns),ns},Ri.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=Ri,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},Ri.outline.genIds_r=function(ts){ts.id=Ri.internal.newObjectDeferred();for(var rs=0;rs<ts.children.length;rs++)this.genIds_r(ts.children[rs])},Ri.outline.renderRoot=function(ts){this.objStart(ts),this.line("/Type /Outlines"),ts.children.length>0&&(this.line("/First "+this.makeRef(ts.children[0])),this.line("/Last "+this.makeRef(ts.children[ts.children.length-1]))),this.line("/Count "+this.count_r({count:0},ts)),this.objEnd()},Ri.outline.renderItems=function(ts){for(var rs=this.ctx.pdf.internal.getVerticalCoordinateString,is=0;is<ts.children.length;is++){var ns=ts.children[is];this.objStart(ns),this.line("/Title "+this.makeString(ns.title)),this.line("/Parent "+this.makeRef(ts)),is>0&&this.line("/Prev "+this.makeRef(ts.children[is-1])),is<ts.children.length-1&&this.line("/Next "+this.makeRef(ts.children[is+1])),ns.children.length>0&&(this.line("/First "+this.makeRef(ns.children[0])),this.line("/Last "+this.makeRef(ns.children[ns.children.length-1])));var ss=this.count=this.count_r({count:0},ns);if(ss>0&&this.line("/Count "+ss),ns.options&&ns.options.pageNumber){var os=Ri.internal.getPageInfo(ns.options.pageNumber);this.line("/Dest ["+os.objId+" 0 R /XYZ 0 "+rs(0)+" 0]")}this.objEnd()}for(var ls=0;ls<ts.children.length;ls++)this.renderItems(ts.children[ls])},Ri.outline.line=function(ts){this.ctx.val+=ts+`\r
`},Ri.outline.makeRef=function(ts){return ts.id+" 0 R"},Ri.outline.makeString=function(ts){return"("+Ri.internal.pdfEscape(ts)+")"},Ri.outline.objStart=function(ts){this.ctx.val+=`\r
`+ts.id+` 0 obj\r
<<\r
`},Ri.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},Ri.outline.count_r=function(ts,rs){for(var is=0;is<rs.children.length;is++)ts.count++,this.count_r(ts,rs.children[is]);return ts.count}}])}(E$2.API),function(es){var ki=[192,193,194,195,196,197,198,199];es.processJPEG=function(Ri,ts,rs,is,ns,ss){var os,ls=this.decode.DCT_DECODE,cs=null;if(typeof Ri=="string"||this.__addimage__.isArrayBuffer(Ri)||this.__addimage__.isArrayBufferView(Ri)){switch(Ri=ns||Ri,Ri=this.__addimage__.isArrayBuffer(Ri)?new Uint8Array(Ri):Ri,(os=function(hs){for(var us,As=256*hs.charCodeAt(4)+hs.charCodeAt(5),bs=hs.length,ys={width:0,height:0,numcomponents:1},Cs=4;Cs<bs;Cs+=2){if(Cs+=As,ki.indexOf(hs.charCodeAt(Cs+1))!==-1){us=256*hs.charCodeAt(Cs+5)+hs.charCodeAt(Cs+6),ys={width:256*hs.charCodeAt(Cs+7)+hs.charCodeAt(Cs+8),height:us,numcomponents:hs.charCodeAt(Cs+9)};break}As=256*hs.charCodeAt(Cs+2)+hs.charCodeAt(Cs+3)}return ys}(Ri=this.__addimage__.isArrayBufferView(Ri)?this.__addimage__.arrayBufferToBinaryString(Ri):Ri)).numcomponents){case 1:ss=this.color_spaces.DEVICE_GRAY;break;case 4:ss=this.color_spaces.DEVICE_CMYK;break;case 3:ss=this.color_spaces.DEVICE_RGB}cs={data:Ri,width:os.width,height:os.height,colorSpace:ss,bitsPerComponent:8,filter:ls,index:ts,alias:rs}}return cs}}(E$2.API);var Vt$1,Gt$1,Yt$1,Jt$1,Xt$1,Kt$1=function(){var es,ki,Ri;function ts(is){var ns,ss,os,ls,cs,hs,us,As,bs,ys,Cs,ps,ms,fs;for(this.data=is,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},hs=null;;){switch(ns=this.readUInt32(),bs=(function(){var gs,ws;for(ws=[],gs=0;gs<4;++gs)ws.push(String.fromCharCode(this.data[this.pos++]));return ws}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(ns);break;case"fcTL":hs&&this.animation.frames.push(hs),this.pos+=4,hs={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},cs=this.readUInt16(),ls=this.readUInt16()||100,hs.delay=1e3*cs/ls,hs.disposeOp=this.data[this.pos++],hs.blendOp=this.data[this.pos++],hs.data=[];break;case"IDAT":case"fdAT":for(bs==="fdAT"&&(this.pos+=4,ns-=4),is=(hs!=null?hs.data:void 0)||this.imgData,ps=0;0<=ns?ps<ns:ps>ns;0<=ns?++ps:--ps)is.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(os=this.palette.length/3,this.transparency.indexed=this.read(ns),this.transparency.indexed.length>os)throw new Error("More transparent colors than palette size");if((ys=os-this.transparency.indexed.length)>0)for(ms=0;0<=ys?ms<ys:ms>ys;0<=ys?++ms:--ms)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(ns)[0];break;case 2:this.transparency.rgb=this.read(ns)}break;case"tEXt":us=(Cs=this.read(ns)).indexOf(0),As=String.fromCharCode.apply(String,Cs.slice(0,us)),this.text[As]=String.fromCharCode.apply(String,Cs.slice(us+1));break;case"IEND":return hs&&this.animation.frames.push(hs),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(fs=this.colorType)===4||fs===6,ss=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*ss,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=ns}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}ts.prototype.read=function(is){var ns,ss;for(ss=[],ns=0;0<=is?ns<is:ns>is;0<=is?++ns:--ns)ss.push(this.data[this.pos++]);return ss},ts.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},ts.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},ts.prototype.decodePixels=function(is){var ns=this.pixelBitlength/8,ss=new Uint8Array(this.width*this.height*ns),os=0,ls=this;if(is==null&&(is=this.imgData),is.length===0)return new Uint8Array(0);function cs(hs,us,As,bs){var ys,Cs,ps,ms,fs,gs,ws,Ts,$s,Rs,Ps,Qs,Fs,Is,Ms,Ws,Ds,_s,Ns,Ss,Us,Zs=Math.ceil((ls.width-hs)/As),ao=Math.ceil((ls.height-us)/bs),js=ls.width==Zs&&ls.height==ao;for(Is=ns*Zs,Qs=js?ss:new Uint8Array(Is*ao),gs=is.length,Fs=0,Cs=0;Fs<ao&&os<gs;){switch(is[os++]){case 0:for(ms=Ds=0;Ds<Is;ms=Ds+=1)Qs[Cs++]=is[os++];break;case 1:for(ms=_s=0;_s<Is;ms=_s+=1)ys=is[os++],fs=ms<ns?0:Qs[Cs-ns],Qs[Cs++]=(ys+fs)%256;break;case 2:for(ms=Ns=0;Ns<Is;ms=Ns+=1)ys=is[os++],ps=(ms-ms%ns)/ns,Ms=Fs&&Qs[(Fs-1)*Is+ps*ns+ms%ns],Qs[Cs++]=(Ms+ys)%256;break;case 3:for(ms=Ss=0;Ss<Is;ms=Ss+=1)ys=is[os++],ps=(ms-ms%ns)/ns,fs=ms<ns?0:Qs[Cs-ns],Ms=Fs&&Qs[(Fs-1)*Is+ps*ns+ms%ns],Qs[Cs++]=(ys+Math.floor((fs+Ms)/2))%256;break;case 4:for(ms=Us=0;Us<Is;ms=Us+=1)ys=is[os++],ps=(ms-ms%ns)/ns,fs=ms<ns?0:Qs[Cs-ns],Fs===0?Ms=Ws=0:(Ms=Qs[(Fs-1)*Is+ps*ns+ms%ns],Ws=ps&&Qs[(Fs-1)*Is+(ps-1)*ns+ms%ns]),ws=fs+Ms-Ws,Ts=Math.abs(ws-fs),Rs=Math.abs(ws-Ms),Ps=Math.abs(ws-Ws),$s=Ts<=Rs&&Ts<=Ps?fs:Rs<=Ps?Ms:Ws,Qs[Cs++]=(ys+$s)%256;break;default:throw new Error("Invalid filter algorithm: "+is[os-1])}if(!js){var Bs=((us+Fs*bs)*ls.width+hs)*ns,zs=Fs*Is;for(ms=0;ms<Zs;ms+=1){for(var so=0;so<ns;so+=1)ss[Bs++]=Qs[zs++];Bs+=(As-1)*ns}}Fs++}}return is=unzlibSync(is),ls.interlaceMethod==1?(cs(0,0,8,8),cs(4,0,8,8),cs(0,4,4,8),cs(2,0,4,4),cs(0,2,2,4),cs(1,0,2,2),cs(0,1,1,2)):cs(0,0,1,1),ss},ts.prototype.decodePalette=function(){var is,ns,ss,os,ls,cs,hs,us,As;for(ss=this.palette,cs=this.transparency.indexed||[],ls=new Uint8Array((cs.length||0)+ss.length),os=0,is=0,ns=hs=0,us=ss.length;hs<us;ns=hs+=3)ls[os++]=ss[ns],ls[os++]=ss[ns+1],ls[os++]=ss[ns+2],ls[os++]=(As=cs[is++])!=null?As:255;return ls},ts.prototype.copyToImageData=function(is,ns){var ss,os,ls,cs,hs,us,As,bs,ys,Cs,ps;if(os=this.colors,ys=null,ss=this.hasAlphaChannel,this.palette.length&&(ys=(ps=this._decodedPalette)!=null?ps:this._decodedPalette=this.decodePalette(),os=4,ss=!0),bs=(ls=is.data||is).length,hs=ys||ns,cs=us=0,os===1)for(;cs<bs;)As=ys?4*ns[cs/4]:us,Cs=hs[As++],ls[cs++]=Cs,ls[cs++]=Cs,ls[cs++]=Cs,ls[cs++]=ss?hs[As++]:255,us=As;else for(;cs<bs;)As=ys?4*ns[cs/4]:us,ls[cs++]=hs[As++],ls[cs++]=hs[As++],ls[cs++]=hs[As++],ls[cs++]=ss?hs[As++]:255,us=As},ts.prototype.decode=function(){var is;return is=new Uint8Array(this.width*this.height*4),this.copyToImageData(is,this.decodePixels()),is};var rs=function(){if(Object.prototype.toString.call(n$1)==="[object Window]"){try{ki=n$1.document.createElement("canvas"),Ri=ki.getContext("2d")}catch{return!1}return!0}return!1};return rs(),es=function(is){var ns;if(rs()===!0)return Ri.width=is.width,Ri.height=is.height,Ri.clearRect(0,0,is.width,is.height),Ri.putImageData(is,0,0),(ns=new Image).src=ki.toDataURL(),ns;throw new Error("This method requires a Browser with Canvas-capability.")},ts.prototype.decodeFrames=function(is){var ns,ss,os,ls,cs,hs,us,As;if(this.animation){for(As=[],ss=cs=0,hs=(us=this.animation.frames).length;cs<hs;ss=++cs)ns=us[ss],os=is.createImageData(ns.width,ns.height),ls=this.decodePixels(new Uint8Array(ns.data)),this.copyToImageData(os,ls),ns.imageData=os,As.push(ns.image=es(os));return As}},ts.prototype.renderFrame=function(is,ns){var ss,os,ls;return ss=(os=this.animation.frames)[ns],ls=os[ns-1],ns===0&&is.clearRect(0,0,this.width,this.height),(ls!=null?ls.disposeOp:void 0)===1?is.clearRect(ls.xOffset,ls.yOffset,ls.width,ls.height):(ls!=null?ls.disposeOp:void 0)===2&&is.putImageData(ls.imageData,ls.xOffset,ls.yOffset),ss.blendOp===0&&is.clearRect(ss.xOffset,ss.yOffset,ss.width,ss.height),is.drawImage(ss.image,ss.xOffset,ss.yOffset)},ts.prototype.animate=function(is){var ns,ss,os,ls,cs,hs,us=this;return ss=0,hs=this.animation,ls=hs.numFrames,os=hs.frames,cs=hs.numPlays,(ns=function(){var As,bs;if(As=ss++%ls,bs=os[As],us.renderFrame(is,As),ls>1&&ss/ls<cs)return us.animation._timeout=setTimeout(ns,bs.delay)})()},ts.prototype.stopAnimation=function(){var is;return clearTimeout((is=this.animation)!=null?is._timeout:void 0)},ts.prototype.render=function(is){var ns,ss;return is._png&&is._png.stopAnimation(),is._png=this,is.width=this.width,is.height=this.height,ns=is.getContext("2d"),this.animation?(this.decodeFrames(ns),this.animate(ns)):(ss=ns.createImageData(this.width,this.height),this.copyToImageData(ss,this.decodePixels()),ns.putImageData(ss,0,0))},ts}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt$1(es){var ki=0;if(es[ki++]!==71||es[ki++]!==73||es[ki++]!==70||es[ki++]!==56||(es[ki++]+1&253)!=56||es[ki++]!==97)throw new Error("Invalid GIF 87a/89a header.");var Ri=es[ki++]|es[ki++]<<8,ts=es[ki++]|es[ki++]<<8,rs=es[ki++],is=rs>>7,ns=1<<(7&rs)+1;es[ki++],es[ki++];var ss=null,os=null;is&&(ss=ki,os=ns,ki+=3*ns);var ls=!0,cs=[],hs=0,us=null,As=0,bs=null;for(this.width=Ri,this.height=ts;ls&&ki<es.length;)switch(es[ki++]){case 33:switch(es[ki++]){case 255:if(es[ki]!==11||es[ki+1]==78&&es[ki+2]==69&&es[ki+3]==84&&es[ki+4]==83&&es[ki+5]==67&&es[ki+6]==65&&es[ki+7]==80&&es[ki+8]==69&&es[ki+9]==50&&es[ki+10]==46&&es[ki+11]==48&&es[ki+12]==3&&es[ki+13]==1&&es[ki+16]==0)ki+=14,bs=es[ki++]|es[ki++]<<8,ki++;else for(ki+=12;;){if(!((Fs=es[ki++])>=0))throw Error("Invalid block size");if(Fs===0)break;ki+=Fs}break;case 249:if(es[ki++]!==4||es[ki+4]!==0)throw new Error("Invalid graphics extension block.");var ys=es[ki++];hs=es[ki++]|es[ki++]<<8,us=es[ki++],!(1&ys)&&(us=null),As=ys>>2&7,ki++;break;case 254:for(;;){if(!((Fs=es[ki++])>=0))throw Error("Invalid block size");if(Fs===0)break;ki+=Fs}break;default:throw new Error("Unknown graphic control label: 0x"+es[ki-1].toString(16))}break;case 44:var Cs=es[ki++]|es[ki++]<<8,ps=es[ki++]|es[ki++]<<8,ms=es[ki++]|es[ki++]<<8,fs=es[ki++]|es[ki++]<<8,gs=es[ki++],ws=gs>>6&1,Ts=1<<(7&gs)+1,$s=ss,Rs=os,Ps=!1;gs>>7&&(Ps=!0,$s=ki,Rs=Ts,ki+=3*Ts);var Qs=ki;for(ki++;;){var Fs;if(!((Fs=es[ki++])>=0))throw Error("Invalid block size");if(Fs===0)break;ki+=Fs}cs.push({x:Cs,y:ps,width:ms,height:fs,has_local_palette:Ps,palette_offset:$s,palette_size:Rs,data_offset:Qs,data_length:ki-Qs,transparent_index:us,interlaced:!!ws,delay:hs,disposal:As});break;case 59:ls=!1;break;default:throw new Error("Unknown gif block: 0x"+es[ki-1].toString(16))}this.numFrames=function(){return cs.length},this.loopCount=function(){return bs},this.frameInfo=function(Is){if(Is<0||Is>=cs.length)throw new Error("Frame index out of range.");return cs[Is]},this.decodeAndBlitFrameBGRA=function(Is,Ms){var Ws=this.frameInfo(Is),Ds=Ws.width*Ws.height,_s=new Uint8Array(Ds);$t$1(es,Ws.data_offset,_s,Ds);var Ns=Ws.palette_offset,Ss=Ws.transparent_index;Ss===null&&(Ss=256);var Us=Ws.width,Zs=Ri-Us,ao=Us,js=4*(Ws.y*Ri+Ws.x),Bs=4*((Ws.y+Ws.height)*Ri+Ws.x),zs=js,so=4*Zs;Ws.interlaced===!0&&(so+=4*Ri*7);for(var oo=8,Ao=0,Xs=_s.length;Ao<Xs;++Ao){var lo=_s[Ao];if(ao===0&&(ao=Us,(zs+=so)>=Bs&&(so=4*Zs+4*Ri*(oo-1),zs=js+(Us+Zs)*(oo<<1),oo>>=1)),lo===Ss)zs+=4;else{var co=es[Ns+3*lo],So=es[Ns+3*lo+1],ro=es[Ns+3*lo+2];Ms[zs++]=ro,Ms[zs++]=So,Ms[zs++]=co,Ms[zs++]=255}--ao}},this.decodeAndBlitFrameRGBA=function(Is,Ms){var Ws=this.frameInfo(Is),Ds=Ws.width*Ws.height,_s=new Uint8Array(Ds);$t$1(es,Ws.data_offset,_s,Ds);var Ns=Ws.palette_offset,Ss=Ws.transparent_index;Ss===null&&(Ss=256);var Us=Ws.width,Zs=Ri-Us,ao=Us,js=4*(Ws.y*Ri+Ws.x),Bs=4*((Ws.y+Ws.height)*Ri+Ws.x),zs=js,so=4*Zs;Ws.interlaced===!0&&(so+=4*Ri*7);for(var oo=8,Ao=0,Xs=_s.length;Ao<Xs;++Ao){var lo=_s[Ao];if(ao===0&&(ao=Us,(zs+=so)>=Bs&&(so=4*Zs+4*Ri*(oo-1),zs=js+(Us+Zs)*(oo<<1),oo>>=1)),lo===Ss)zs+=4;else{var co=es[Ns+3*lo],So=es[Ns+3*lo+1],ro=es[Ns+3*lo+2];Ms[zs++]=co,Ms[zs++]=So,Ms[zs++]=ro,Ms[zs++]=255}--ao}}}function $t$1(es,ki,Ri,ts){for(var rs=es[ki++],is=1<<rs,ns=is+1,ss=ns+1,os=rs+1,ls=(1<<os)-1,cs=0,hs=0,us=0,As=es[ki++],bs=new Int32Array(4096),ys=null;;){for(;cs<16&&As!==0;)hs|=es[ki++]<<cs,cs+=8,As===1?As=es[ki++]:--As;if(cs<os)break;var Cs=hs&ls;if(hs>>=os,cs-=os,Cs!==is){if(Cs===ns)break;for(var ps=Cs<ss?Cs:ys,ms=0,fs=ps;fs>is;)fs=bs[fs]>>8,++ms;var gs=fs;if(us+ms+(ps!==Cs?1:0)>ts)return void a$1.log("Warning, gif stream longer than expected.");Ri[us++]=gs;var ws=us+=ms;for(ps!==Cs&&(Ri[us++]=gs),fs=ps;ms--;)fs=bs[fs],Ri[--ws]=255&fs,fs>>=8;ys!==null&&ss<4096&&(bs[ss++]=ys<<8|gs,ss>=ls+1&&os<12&&(++os,ls=ls<<1|1)),ys=Cs}else ss=ns+1,ls=(1<<(os=rs+1))-1,ys=null}return us!==ts&&a$1.log("Warning, gif stream shorter than expected."),Ri}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt$1(es){var ki,Ri,ts,rs,is,ns=Math.floor,ss=new Array(64),os=new Array(64),ls=new Array(64),cs=new Array(64),hs=new Array(65535),us=new Array(65535),As=new Array(64),bs=new Array(64),ys=[],Cs=0,ps=7,ms=new Array(64),fs=new Array(64),gs=new Array(64),ws=new Array(256),Ts=new Array(2048),$s=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Rs=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Ps=[0,1,2,3,4,5,6,7,8,9,10,11],Qs=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Fs=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Is=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ms=[0,1,2,3,4,5,6,7,8,9,10,11],Ws=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ds=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function _s(js,Bs){for(var zs=0,so=0,oo=new Array,Ao=1;Ao<=16;Ao++){for(var Xs=1;Xs<=js[Ao];Xs++)oo[Bs[so]]=[],oo[Bs[so]][0]=zs,oo[Bs[so]][1]=Ao,so++,zs++;zs*=2}return oo}function Ns(js){for(var Bs=js[0],zs=js[1]-1;zs>=0;)Bs&1<<zs&&(Cs|=1<<ps),zs--,--ps<0&&(Cs==255?(Ss(255),Ss(0)):Ss(Cs),ps=7,Cs=0)}function Ss(js){ys.push(js)}function Us(js){Ss(js>>8&255),Ss(255&js)}function Zs(js,Bs,zs,so,oo){for(var Ao,Xs=oo[0],lo=oo[240],co=function(Wo,ko){var Qo,jo,Bo,go,_o,To,uo,Co,Oo,Fo,Po=0;for(Oo=0;Oo<8;++Oo){Qo=Wo[Po],jo=Wo[Po+1],Bo=Wo[Po+2],go=Wo[Po+3],_o=Wo[Po+4],To=Wo[Po+5],uo=Wo[Po+6];var Zo=Qo+(Co=Wo[Po+7]),na=Qo-Co,ma=jo+uo,ua=jo-uo,ka=Bo+To,Ba=Bo-To,Va=go+_o,Ea=go-_o,il=Zo+Va,kl=Zo-Va,Ja=ma+ka,Ua=ma-ka;Wo[Po]=il+Ja,Wo[Po+4]=il-Ja;var Na=.707106781*(Ua+kl);Wo[Po+2]=kl+Na,Wo[Po+6]=kl-Na;var nl=.382683433*((il=Ea+Ba)-(Ua=ua+na)),Wl=.5411961*il+nl,El=1.306562965*Ua+nl,$c=.707106781*(Ja=Ba+ua),ou=na+$c,wl=na-$c;Wo[Po+5]=wl+Wl,Wo[Po+3]=wl-Wl,Wo[Po+1]=ou+El,Wo[Po+7]=ou-El,Po+=8}for(Po=0,Oo=0;Oo<8;++Oo){Qo=Wo[Po],jo=Wo[Po+8],Bo=Wo[Po+16],go=Wo[Po+24],_o=Wo[Po+32],To=Wo[Po+40],uo=Wo[Po+48];var dc=Qo+(Co=Wo[Po+56]),_u=Qo-Co,kc=jo+uo,Dl=jo-uo,Yc=Bo+To,Pu=Bo-To,au=go+_o,dh=go-_o,Mu=dc+au,Ah=dc-au,Wu=kc+Yc,Th=kc-Yc;Wo[Po]=Mu+Wu,Wo[Po+32]=Mu-Wu;var ca=.707106781*(Th+Ah);Wo[Po+16]=Ah+ca,Wo[Po+48]=Ah-ca;var gl=.382683433*((Mu=dh+Pu)-(Th=Dl+_u)),cl=.5411961*Mu+gl,Zl=1.306562965*Th+gl,oc=.707106781*(Wu=Pu+Dl),Yl=_u+oc,Sc=_u-oc;Wo[Po+40]=Sc+cl,Wo[Po+24]=Sc-cl,Wo[Po+8]=Yl+Zl,Wo[Po+56]=Yl-Zl,Po++}for(Oo=0;Oo<64;++Oo)Fo=Wo[Oo]*ko[Oo],As[Oo]=Fo>0?Fo+.5|0:Fo-.5|0;return As}(js,Bs),So=0;So<64;++So)bs[$s[So]]=co[So];var ro=bs[0]-zs;zs=bs[0],ro==0?Ns(so[0]):(Ns(so[us[Ao=32767+ro]]),Ns(hs[Ao]));for(var vo=63;vo>0&&bs[vo]==0;)vo--;if(vo==0)return Ns(Xs),zs;for(var Eo,mo=1;mo<=vo;){for(var yo=mo;bs[mo]==0&&mo<=vo;)++mo;var Jo=mo-yo;if(Jo>=16){Eo=Jo>>4;for(var Yo=1;Yo<=Eo;++Yo)Ns(lo);Jo&=15}Ao=32767+bs[mo],Ns(oo[(Jo<<4)+us[Ao]]),Ns(hs[Ao]),mo++}return vo!=63&&Ns(Xs),zs}function ao(js){js=Math.min(Math.max(js,1),100),is!=js&&(function(Bs){for(var zs=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],so=0;so<64;so++){var oo=ns((zs[so]*Bs+50)/100);oo=Math.min(Math.max(oo,1),255),ss[$s[so]]=oo}for(var Ao=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Xs=0;Xs<64;Xs++){var lo=ns((Ao[Xs]*Bs+50)/100);lo=Math.min(Math.max(lo,1),255),os[$s[Xs]]=lo}for(var co=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],So=0,ro=0;ro<8;ro++)for(var vo=0;vo<8;vo++)ls[So]=1/(ss[$s[So]]*co[ro]*co[vo]*8),cs[So]=1/(os[$s[So]]*co[ro]*co[vo]*8),So++}(js<50?Math.floor(5e3/js):Math.floor(200-2*js)),is=js)}this.encode=function(js,Bs){Bs&&ao(Bs),ys=new Array,Cs=0,ps=7,Us(65496),Us(65504),Us(16),Ss(74),Ss(70),Ss(73),Ss(70),Ss(0),Ss(1),Ss(1),Ss(0),Us(1),Us(1),Ss(0),Ss(0),function(){Us(65499),Us(132),Ss(0);for(var jo=0;jo<64;jo++)Ss(ss[jo]);Ss(1);for(var Bo=0;Bo<64;Bo++)Ss(os[Bo])}(),function(jo,Bo){Us(65472),Us(17),Ss(8),Us(Bo),Us(jo),Ss(3),Ss(1),Ss(17),Ss(0),Ss(2),Ss(17),Ss(1),Ss(3),Ss(17),Ss(1)}(js.width,js.height),function(){Us(65476),Us(418),Ss(0);for(var jo=0;jo<16;jo++)Ss(Rs[jo+1]);for(var Bo=0;Bo<=11;Bo++)Ss(Ps[Bo]);Ss(16);for(var go=0;go<16;go++)Ss(Qs[go+1]);for(var _o=0;_o<=161;_o++)Ss(Fs[_o]);Ss(1);for(var To=0;To<16;To++)Ss(Is[To+1]);for(var uo=0;uo<=11;uo++)Ss(Ms[uo]);Ss(17);for(var Co=0;Co<16;Co++)Ss(Ws[Co+1]);for(var Oo=0;Oo<=161;Oo++)Ss(Ds[Oo])}(),Us(65498),Us(12),Ss(3),Ss(1),Ss(0),Ss(2),Ss(17),Ss(3),Ss(17),Ss(0),Ss(63),Ss(0);var zs=0,so=0,oo=0;Cs=0,ps=7,this.encode.displayName="_encode_";for(var Ao,Xs,lo,co,So,ro,vo,Eo,mo,yo=js.data,Jo=js.width,Yo=js.height,Wo=4*Jo,ko=0;ko<Yo;){for(Ao=0;Ao<Wo;){for(So=Wo*ko+Ao,vo=-1,Eo=0,mo=0;mo<64;mo++)ro=So+(Eo=mo>>3)*Wo+(vo=4*(7&mo)),ko+Eo>=Yo&&(ro-=Wo*(ko+1+Eo-Yo)),Ao+vo>=Wo&&(ro-=Ao+vo-Wo+4),Xs=yo[ro++],lo=yo[ro++],co=yo[ro++],ms[mo]=(Ts[Xs]+Ts[lo+256>>0]+Ts[co+512>>0]>>16)-128,fs[mo]=(Ts[Xs+768>>0]+Ts[lo+1024>>0]+Ts[co+1280>>0]>>16)-128,gs[mo]=(Ts[Xs+1280>>0]+Ts[lo+1536>>0]+Ts[co+1792>>0]>>16)-128;zs=Zs(ms,ls,zs,ki,ts),so=Zs(fs,cs,so,Ri,rs),oo=Zs(gs,cs,oo,Ri,rs),Ao+=32}ko+=8}if(ps>=0){var Qo=[];Qo[1]=ps+1,Qo[0]=(1<<ps+1)-1,Ns(Qo)}return Us(65497),new Uint8Array(ys)},es=es||50,function(){for(var js=String.fromCharCode,Bs=0;Bs<256;Bs++)ws[Bs]=js(Bs)}(),ki=_s(Rs,Ps),Ri=_s(Is,Ms),ts=_s(Qs,Fs),rs=_s(Ws,Ds),function(){for(var js=1,Bs=2,zs=1;zs<=15;zs++){for(var so=js;so<Bs;so++)us[32767+so]=zs,hs[32767+so]=[],hs[32767+so][1]=zs,hs[32767+so][0]=so;for(var oo=-(Bs-1);oo<=-js;oo++)us[32767+oo]=zs,hs[32767+oo]=[],hs[32767+oo][1]=zs,hs[32767+oo][0]=Bs-1+oo;js<<=1,Bs<<=1}}(),function(){for(var js=0;js<256;js++)Ts[js]=19595*js,Ts[js+256>>0]=38470*js,Ts[js+512>>0]=7471*js+32768,Ts[js+768>>0]=-11059*js,Ts[js+1024>>0]=-21709*js,Ts[js+1280>>0]=32768*js+8421375,Ts[js+1536>>0]=-27439*js,Ts[js+1792>>0]=-5329*js}(),ao(es)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te$2(es,ki){if(this.pos=0,this.buffer=es,this.datav=new DataView(es.buffer),this.is_with_alpha=!!ki,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee$2(es){function ki(Rs){if(!Rs)throw Error("assert :P")}function Ri(Rs,Ps,Qs){for(var Fs=0;4>Fs;Fs++)if(Rs[Ps+Fs]!=Qs.charCodeAt(Fs))return!0;return!1}function ts(Rs,Ps,Qs,Fs,Is){for(var Ms=0;Ms<Is;Ms++)Rs[Ps+Ms]=Qs[Fs+Ms]}function rs(Rs,Ps,Qs,Fs){for(var Is=0;Is<Fs;Is++)Rs[Ps+Is]=Qs}function is(Rs){return new Int32Array(Rs)}function ns(Rs,Ps){for(var Qs=[],Fs=0;Fs<Rs;Fs++)Qs.push(new Ps);return Qs}function ss(Rs,Ps){var Qs=[];return function Fs(Is,Ms,Ws){for(var Ds=Ws[Ms],_s=0;_s<Ds&&(Is.push(Ws.length>Ms+1?[]:new Ps),!(Ws.length<Ms+1));_s++)Fs(Is[_s],Ms+1,Ws)}(Qs,0,Rs),Qs}var os=function(){var Rs=this;function Ps(Os,Ks){for(var ho=1<<Ks-1>>>0;Os&ho;)ho>>>=1;return ho?(Os&ho-1)+ho:Os}function Qs(Os,Ks,ho,xo,Mo){ki(!(xo%ho));do Os[Ks+(xo-=ho)]=Mo;while(0<xo)}function Fs(Os,Ks,ho,xo,Mo){if(ki(2328>=Mo),512>=Mo)var Ro=is(512);else if((Ro=is(Mo))==null)return 0;return function($o,zo,Ko,ia,fa,Pa){var Ma,pa,Ga=zo,Ha=1<<Ko,da=is(16),wa=is(16);for(ki(fa!=0),ki(ia!=null),ki($o!=null),ki(0<Ko),pa=0;pa<fa;++pa){if(15<ia[pa])return 0;++da[ia[pa]]}if(da[0]==fa)return 0;for(wa[1]=0,Ma=1;15>Ma;++Ma){if(da[Ma]>1<<Ma)return 0;wa[Ma+1]=wa[Ma]+da[Ma]}for(pa=0;pa<fa;++pa)Ma=ia[pa],0<ia[pa]&&(Pa[wa[Ma]++]=pa);if(wa[15]==1)return(ia=new Is).g=0,ia.value=Pa[0],Qs($o,Ga,1,Ha,ia),Ha;var Ka,el=-1,qa=Ha-1,bl=0,hl=1,Ol=1,vl=1<<Ko;for(pa=0,Ma=1,fa=2;Ma<=Ko;++Ma,fa<<=1){if(hl+=Ol<<=1,0>(Ol-=da[Ma]))return 0;for(;0<da[Ma];--da[Ma])(ia=new Is).g=Ma,ia.value=Pa[pa++],Qs($o,Ga+bl,fa,vl,ia),bl=Ps(bl,Ma)}for(Ma=Ko+1,fa=2;15>=Ma;++Ma,fa<<=1){if(hl+=Ol<<=1,0>(Ol-=da[Ma]))return 0;for(;0<da[Ma];--da[Ma]){if(ia=new Is,(bl&qa)!=el){for(Ga+=vl,Ka=1<<(el=Ma)-Ko;15>el&&!(0>=(Ka-=da[el]));)++el,Ka<<=1;Ha+=vl=1<<(Ka=el-Ko),$o[zo+(el=bl&qa)].g=Ka+Ko,$o[zo+el].value=Ga-zo-el}ia.g=Ma-Ko,ia.value=Pa[pa++],Qs($o,Ga+(bl>>Ko),fa,vl,ia),bl=Ps(bl,Ma)}}return hl!=2*wa[15]-1?0:Ha}(Os,Ks,ho,xo,Mo,Ro)}function Is(){this.value=this.g=0}function Ms(){this.value=this.g=0}function Ws(){this.G=ns(5,Is),this.H=is(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=ns(Gu,Ms)}function Ds(Os,Ks,ho,xo){ki(Os!=null),ki(Ks!=null),ki(2147483648>xo),Os.Ca=254,Os.I=0,Os.b=-8,Os.Ka=0,Os.oa=Ks,Os.pa=ho,Os.Jd=Ks,Os.Yc=ho+xo,Os.Zc=4<=xo?ho+xo-4+1:ho,Ao(Os)}function _s(Os,Ks){for(var ho=0;0<Ks--;)ho|=lo(Os,128)<<Ks;return ho}function Ns(Os,Ks){var ho=_s(Os,Ks);return Xs(Os)?-ho:ho}function Ss(Os,Ks,ho,xo){var Mo,Ro=0;for(ki(Os!=null),ki(Ks!=null),ki(4294967288>xo),Os.Sb=xo,Os.Ra=0,Os.u=0,Os.h=0,4<xo&&(xo=4),Mo=0;Mo<xo;++Mo)Ro+=Ks[ho+Mo]<<8*Mo;Os.Ra=Ro,Os.bb=xo,Os.oa=Ks,Os.pa=ho}function Us(Os){for(;8<=Os.u&&Os.bb<Os.Sb;)Os.Ra>>>=8,Os.Ra+=Os.oa[Os.pa+Os.bb]<<mf-8>>>0,++Os.bb,Os.u-=8;zs(Os)&&(Os.h=1,Os.u=0)}function Zs(Os,Ks){if(ki(0<=Ks),!Os.h&&Ks<=XA){var ho=Bs(Os)&Dc[Ks];return Os.u+=Ks,Us(Os),ho}return Os.h=1,Os.u=0}function ao(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function js(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Bs(Os){return Os.Ra>>>(Os.u&mf-1)>>>0}function zs(Os){return ki(Os.bb<=Os.Sb),Os.h||Os.bb==Os.Sb&&Os.u>mf}function so(Os,Ks){Os.u=Ks,Os.h=zs(Os)}function oo(Os){Os.u>=PA&&(ki(Os.u>=PA),Us(Os))}function Ao(Os){ki(Os!=null&&Os.oa!=null),Os.pa<Os.Zc?(Os.I=(Os.oa[Os.pa++]|Os.I<<8)>>>0,Os.b+=8):(ki(Os!=null&&Os.oa!=null),Os.pa<Os.Yc?(Os.b+=8,Os.I=Os.oa[Os.pa++]|Os.I<<8):Os.Ka?Os.b=0:(Os.I<<=8,Os.b+=8,Os.Ka=1))}function Xs(Os){return _s(Os,1)}function lo(Os,Ks){var ho=Os.Ca;0>Os.b&&Ao(Os);var xo=Os.b,Mo=ho*Ks>>>8,Ro=(Os.I>>>xo>Mo)+0;for(Ro?(ho-=Mo,Os.I-=Mo+1<<xo>>>0):ho=Mo+1,xo=ho,Mo=0;256<=xo;)Mo+=8,xo>>=8;return xo=7^Mo+Dh[xo],Os.b-=xo,Os.Ca=(ho<<xo)-1,Ro}function co(Os,Ks,ho){Os[Ks+0]=ho>>24&255,Os[Ks+1]=ho>>16&255,Os[Ks+2]=ho>>8&255,Os[Ks+3]=ho>>0&255}function So(Os,Ks){return Os[Ks+0]<<0|Os[Ks+1]<<8}function ro(Os,Ks){return So(Os,Ks)|Os[Ks+2]<<16}function vo(Os,Ks){return So(Os,Ks)|So(Os,Ks+2)<<16}function Eo(Os,Ks){var ho=1<<Ks;return ki(Os!=null),ki(0<Ks),Os.X=is(ho),Os.X==null?0:(Os.Mb=32-Ks,Os.Xa=Ks,1)}function mo(Os,Ks){ki(Os!=null),ki(Ks!=null),ki(Os.Xa==Ks.Xa),ts(Ks.X,0,Os.X,0,1<<Ks.Xa)}function yo(){this.X=[],this.Xa=this.Mb=0}function Jo(Os,Ks,ho,xo){ki(ho!=null),ki(xo!=null);var Mo=ho[0],Ro=xo[0];return Mo==0&&(Mo=(Os*Ro+Ks/2)/Ks),Ro==0&&(Ro=(Ks*Mo+Os/2)/Os),0>=Mo||0>=Ro?0:(ho[0]=Mo,xo[0]=Ro,1)}function Yo(Os,Ks){return Os+(1<<Ks)-1>>>Ks}function Wo(Os,Ks){return((4278255360&Os)+(4278255360&Ks)>>>0&4278255360)+((16711935&Os)+(16711935&Ks)>>>0&16711935)>>>0}function ko(Os,Ks){Rs[Ks]=function(ho,xo,Mo,Ro,$o,zo,Ko){var ia;for(ia=0;ia<$o;++ia){var fa=Rs[Os](zo[Ko+ia-1],Mo,Ro+ia);zo[Ko+ia]=Wo(ho[xo+ia],fa)}}}function Qo(){this.ud=this.hd=this.jd=0}function jo(Os,Ks){return((4278124286&(Os^Ks))>>>1)+(Os&Ks)>>>0}function Bo(Os){return 0<=Os&&256>Os?Os:0>Os?0:255<Os?255:void 0}function go(Os,Ks){return Bo(Os+(Os-Ks+.5>>1))}function _o(Os,Ks,ho){return Math.abs(Ks-ho)-Math.abs(Os-ho)}function To(Os,Ks,ho,xo,Mo,Ro,$o){for(xo=Ro[$o-1],ho=0;ho<Mo;++ho)Ro[$o+ho]=xo=Wo(Os[Ks+ho],xo)}function uo(Os,Ks,ho,xo,Mo){var Ro;for(Ro=0;Ro<ho;++Ro){var $o=Os[Ks+Ro],zo=$o>>8&255,Ko=16711935&(Ko=(Ko=16711935&$o)+((zo<<16)+zo));xo[Mo+Ro]=(4278255360&$o)+Ko>>>0}}function Co(Os,Ks){Ks.jd=Os>>0&255,Ks.hd=Os>>8&255,Ks.ud=Os>>16&255}function Oo(Os,Ks,ho,xo,Mo,Ro){var $o;for($o=0;$o<xo;++$o){var zo=Ks[ho+$o],Ko=zo>>>8,ia=zo,fa=255&(fa=(fa=zo>>>16)+((Os.jd<<24>>24)*(Ko<<24>>24)>>>5));ia=255&(ia=(ia=ia+((Os.hd<<24>>24)*(Ko<<24>>24)>>>5))+((Os.ud<<24>>24)*(fa<<24>>24)>>>5)),Mo[Ro+$o]=(4278255360&zo)+(fa<<16)+ia}}function Fo(Os,Ks,ho,xo,Mo){Rs[Ks]=function(Ro,$o,zo,Ko,ia,fa,Pa,Ma,pa){for(Ko=Pa;Ko<Ma;++Ko)for(Pa=0;Pa<pa;++Pa)ia[fa++]=Mo(zo[xo(Ro[$o++])])},Rs[Os]=function(Ro,$o,zo,Ko,ia,fa,Pa){var Ma=8>>Ro.b,pa=Ro.Ea,Ga=Ro.K[0],Ha=Ro.w;if(8>Ma)for(Ro=(1<<Ro.b)-1,Ha=(1<<Ma)-1;$o<zo;++$o){var da,wa=0;for(da=0;da<pa;++da)da&Ro||(wa=xo(Ko[ia++])),fa[Pa++]=Mo(Ga[wa&Ha]),wa>>=Ma}else Rs["VP8LMapColor"+ho](Ko,ia,Ga,Ha,fa,Pa,$o,zo,pa)}}function Po(Os,Ks,ho,xo,Mo){for(ho=Ks+ho;Ks<ho;){var Ro=Os[Ks++];xo[Mo++]=Ro>>16&255,xo[Mo++]=Ro>>8&255,xo[Mo++]=Ro>>0&255}}function Zo(Os,Ks,ho,xo,Mo){for(ho=Ks+ho;Ks<ho;){var Ro=Os[Ks++];xo[Mo++]=Ro>>16&255,xo[Mo++]=Ro>>8&255,xo[Mo++]=Ro>>0&255,xo[Mo++]=Ro>>24&255}}function na(Os,Ks,ho,xo,Mo){for(ho=Ks+ho;Ks<ho;){var Ro=($o=Os[Ks++])>>16&240|$o>>12&15,$o=$o>>0&240|$o>>28&15;xo[Mo++]=Ro,xo[Mo++]=$o}}function ma(Os,Ks,ho,xo,Mo){for(ho=Ks+ho;Ks<ho;){var Ro=($o=Os[Ks++])>>16&248|$o>>13&7,$o=$o>>5&224|$o>>3&31;xo[Mo++]=Ro,xo[Mo++]=$o}}function ua(Os,Ks,ho,xo,Mo){for(ho=Ks+ho;Ks<ho;){var Ro=Os[Ks++];xo[Mo++]=Ro>>0&255,xo[Mo++]=Ro>>8&255,xo[Mo++]=Ro>>16&255}}function ka(Os,Ks,ho,xo,Mo,Ro){if(Ro==0)for(ho=Ks+ho;Ks<ho;)co(xo,((Ro=Os[Ks++])[0]>>24|Ro[1]>>8&65280|Ro[2]<<8&16711680|Ro[3]<<24)>>>0),Mo+=32;else ts(xo,Mo,Os,Ks,ho)}function Ba(Os,Ks){Rs[Ks][0]=Rs[Os+"0"],Rs[Ks][1]=Rs[Os+"1"],Rs[Ks][2]=Rs[Os+"2"],Rs[Ks][3]=Rs[Os+"3"],Rs[Ks][4]=Rs[Os+"4"],Rs[Ks][5]=Rs[Os+"5"],Rs[Ks][6]=Rs[Os+"6"],Rs[Ks][7]=Rs[Os+"7"],Rs[Ks][8]=Rs[Os+"8"],Rs[Ks][9]=Rs[Os+"9"],Rs[Ks][10]=Rs[Os+"10"],Rs[Ks][11]=Rs[Os+"11"],Rs[Ks][12]=Rs[Os+"12"],Rs[Ks][13]=Rs[Os+"13"],Rs[Ks][14]=Rs[Os+"0"],Rs[Ks][15]=Rs[Os+"0"]}function Va(Os){return Os==yf||Os==NA||Os==Vf||Os==Wf}function Ea(){this.eb=[],this.size=this.A=this.fb=0}function il(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function kl(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ea,this.f.kb=new il,this.sd=null}function Ja(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ua(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Na(Os){return alert("todo:WebPSamplerProcessPlane"),Os.T}function nl(Os,Ks){var ho=Os.T,xo=Ks.ba.f.RGBA,Mo=xo.eb,Ro=xo.fb+Os.ka*xo.A,$o=Ud[Ks.ba.S],zo=Os.y,Ko=Os.O,ia=Os.f,fa=Os.N,Pa=Os.ea,Ma=Os.W,pa=Ks.cc,Ga=Ks.dc,Ha=Ks.Mc,da=Ks.Nc,wa=Os.ka,Ka=Os.ka+Os.T,el=Os.U,qa=el+1>>1;for(wa==0?$o(zo,Ko,null,null,ia,fa,Pa,Ma,ia,fa,Pa,Ma,Mo,Ro,null,null,el):($o(Ks.ec,Ks.fc,zo,Ko,pa,Ga,Ha,da,ia,fa,Pa,Ma,Mo,Ro-xo.A,Mo,Ro,el),++ho);wa+2<Ka;wa+=2)pa=ia,Ga=fa,Ha=Pa,da=Ma,fa+=Os.Rc,Ma+=Os.Rc,Ro+=2*xo.A,$o(zo,(Ko+=2*Os.fa)-Os.fa,zo,Ko,pa,Ga,Ha,da,ia,fa,Pa,Ma,Mo,Ro-xo.A,Mo,Ro,el);return Ko+=Os.fa,Os.j+Ka<Os.o?(ts(Ks.ec,Ks.fc,zo,Ko,el),ts(Ks.cc,Ks.dc,ia,fa,qa),ts(Ks.Mc,Ks.Nc,Pa,Ma,qa),ho--):1&Ka||$o(zo,Ko,null,null,ia,fa,Pa,Ma,ia,fa,Pa,Ma,Mo,Ro+xo.A,null,null,el),ho}function Wl(Os,Ks,ho){var xo=Os.F,Mo=[Os.J];if(xo!=null){var Ro=Os.U,$o=Ks.ba.S,zo=$o==Qf||$o==Vf;Ks=Ks.ba.f.RGBA;var Ko=[0],ia=Os.ka;Ko[0]=Os.T,Os.Kb&&(ia==0?--Ko[0]:(--ia,Mo[0]-=Os.width),Os.j+Os.ka+Os.T==Os.o&&(Ko[0]=Os.o-Os.j-ia));var fa=Ks.eb;ia=Ks.fb+ia*Ks.A,Os=qc(xo,Mo[0],Os.width,Ro,Ko,fa,ia+(zo?0:3),Ks.A),ki(ho==Ko),Os&&Va($o)&&sd(fa,ia,zo,Ro,Ko,Ks.A)}return 0}function El(Os){var Ks=Os.ma,ho=Ks.ba.S,xo=11>ho,Mo=ho==bA||ho==OA||ho==Qf||ho==lA||ho==12||Va(ho);if(Ks.memory=null,Ks.Ib=null,Ks.Jb=null,Ks.Nd=null,!Zu(Ks.Oa,Os,Mo?11:12))return 0;if(Mo&&Va(ho)&&za(),Os.da)alert("todo:use_scaling");else{if(xo){if(Ks.Ib=Na,Os.Kb){if(ho=Os.U+1>>1,Ks.memory=is(Os.U+2*ho),Ks.memory==null)return 0;Ks.ec=Ks.memory,Ks.fc=0,Ks.cc=Ks.ec,Ks.dc=Ks.fc+Os.U,Ks.Mc=Ks.cc,Ks.Nc=Ks.dc+ho,Ks.Ib=nl,za()}}else alert("todo:EmitYUV");Mo&&(Ks.Jb=Wl,xo&&La())}if(xo&&!Xp){for(Os=0;256>Os;++Os)cA[Os]=89858*(Os-128)+Hd>>kp,Zp[Os]=-22014*(Os-128)+Hd,Jp[Os]=-45773*(Os-128),zg[Os]=113618*(Os-128)+Hd>>kp;for(Os=ef;Os<Kp;++Os)Ks=76283*(Os-16)+Hd>>kp,Sg[Os-ef]=eu(Ks,255),Tg[Os-ef]=eu(Ks+8>>4,15);Xp=1}return 1}function $c(Os){var Ks=Os.ma,ho=Os.U,xo=Os.T;return ki(!(1&Os.ka)),0>=ho||0>=xo?0:(ho=Ks.Ib(Os,Ks),Ks.Jb!=null&&Ks.Jb(Os,Ks,ho),Ks.Dc+=ho,1)}function ou(Os){Os.ma.memory=null}function wl(Os,Ks,ho,xo){return Zs(Os,8)!=47?0:(Ks[0]=Zs(Os,14)+1,ho[0]=Zs(Os,14)+1,xo[0]=Zs(Os,1),Zs(Os,3)!=0?0:!Os.h)}function dc(Os,Ks){if(4>Os)return Os+1;var ho=Os-2>>1;return(2+(1&Os)<<ho)+Zs(Ks,ho)+1}function _u(Os,Ks){return 120<Ks?Ks-120:1<=(ho=((ho=Vg[Ks-1])>>4)*Os+(8-(15&ho)))?ho:1;var ho}function kc(Os,Ks,ho){var xo=Bs(ho),Mo=Os[Ks+=255&xo].g-8;return 0<Mo&&(so(ho,ho.u+8),xo=Bs(ho),Ks+=Os[Ks].value,Ks+=xo&(1<<Mo)-1),so(ho,ho.u+Os[Ks].g),Os[Ks].value}function Dl(Os,Ks,ho){return ho.g+=Os.g,ho.value+=Os.value<<Ks>>>0,ki(8>=ho.g),Os.g}function Yc(Os,Ks,ho){var xo=Os.xc;return ki((Ks=xo==0?0:Os.vc[Os.md*(ho>>xo)+(Ks>>xo)])<Os.Wb),Os.Ya[Ks]}function Pu(Os,Ks,ho,xo){var Mo=Os.ab,Ro=Os.c*Ks,$o=Os.C;Ks=$o+Ks;var zo=ho,Ko=xo;for(xo=Os.Ta,ho=Os.Ua;0<Mo--;){var ia=Os.gc[Mo],fa=$o,Pa=Ks,Ma=zo,pa=Ko,Ga=(Ko=xo,zo=ho,ia.Ea);switch(ki(fa<Pa),ki(Pa<=ia.nc),ia.hc){case 2:Hf(Ma,pa,(Pa-fa)*Ga,Ko,zo);break;case 0:var Ha=fa,da=Pa,wa=Ko,Ka=zo,el=(vl=ia).Ea;Ha==0&&(Ph(Ma,pa,null,null,1,wa,Ka),To(Ma,pa+1,0,0,el-1,wa,Ka+1),pa+=el,Ka+=el,++Ha);for(var qa=1<<vl.b,bl=qa-1,hl=Yo(el,vl.b),Ol=vl.K,vl=vl.w+(Ha>>vl.b)*hl;Ha<da;){var Gc=Ol,iu=vl,rl=1;for(Mh(Ma,pa,wa,Ka-el,1,wa,Ka);rl<el;){var sc=(rl&~bl)+qa;sc>el&&(sc=el),(0,qh[Gc[iu++]>>8&15])(Ma,pa+ +rl,wa,Ka+rl-el,sc-rl,wa,Ka+rl),rl=sc}pa+=el,Ka+=el,++Ha&bl||(vl+=hl)}Pa!=ia.nc&&ts(Ko,zo-Ga,Ko,zo+(Pa-fa-1)*Ga,Ga);break;case 1:for(Ga=Ma,da=pa,el=(Ma=ia.Ea)-(Ka=Ma&~(wa=(pa=1<<ia.b)-1)),Ha=Yo(Ma,ia.b),qa=ia.K,ia=ia.w+(fa>>ia.b)*Ha;fa<Pa;){for(bl=qa,hl=ia,Ol=new Qo,vl=da+Ka,Gc=da+Ma;da<vl;)Co(bl[hl++],Ol),MA(Ol,Ga,da,pa,Ko,zo),da+=pa,zo+=pa;da<Gc&&(Co(bl[hl++],Ol),MA(Ol,Ga,da,el,Ko,zo),da+=el,zo+=el),++fa&wa||(ia+=Ha)}break;case 3:if(Ma==Ko&&pa==zo&&0<ia.b){for(da=Ko,Ma=Ga=zo+(Pa-fa)*Ga-(Ka=(Pa-fa)*Yo(ia.Ea,ia.b)),pa=Ko,wa=zo,Ha=[],Ka=(el=Ka)-1;0<=Ka;--Ka)Ha[Ka]=pa[wa+Ka];for(Ka=el-1;0<=Ka;--Ka)da[Ma+Ka]=Ha[Ka];Ru(ia,fa,Pa,Ko,Ga,Ko,zo)}else Ru(ia,fa,Pa,Ma,pa,Ko,zo)}zo=xo,Ko=ho}Ko!=ho&&ts(xo,ho,zo,Ko,Ro)}function au(Os,Ks){var ho=Os.V,xo=Os.Ba+Os.c*Os.C,Mo=Ks-Os.C;if(ki(Ks<=Os.l.o),ki(16>=Mo),0<Mo){var Ro=Os.l,$o=Os.Ta,zo=Os.Ua,Ko=Ro.width;if(Pu(Os,Mo,ho,xo),Mo=zo=[zo],ki((ho=Os.C)<(xo=Ks)),ki(Ro.v<Ro.va),xo>Ro.o&&(xo=Ro.o),ho<Ro.j){var ia=Ro.j-ho;ho=Ro.j,Mo[0]+=ia*Ko}if(ho>=xo?ho=0:(Mo[0]+=4*Ro.v,Ro.ka=ho-Ro.j,Ro.U=Ro.va-Ro.v,Ro.T=xo-ho,ho=1),ho){if(zo=zo[0],11>(ho=Os.ca).S){var fa=ho.f.RGBA,Pa=(xo=ho.S,Mo=Ro.U,Ro=Ro.T,ia=fa.eb,fa.A),Ma=Ro;for(fa=fa.fb+Os.Ma*fa.A;0<Ma--;){var pa=$o,Ga=zo,Ha=Mo,da=ia,wa=fa;switch(xo){case np:Ch(pa,Ga,Ha,da,wa);break;case bA:Oh(pa,Ga,Ha,da,wa);break;case yf:Oh(pa,Ga,Ha,da,wa),sd(da,wa,0,Ha,1,0);break;case Fd:ah(pa,Ga,Ha,da,wa);break;case OA:ka(pa,Ga,Ha,da,wa,1);break;case NA:ka(pa,Ga,Ha,da,wa,1),sd(da,wa,0,Ha,1,0);break;case Qf:ka(pa,Ga,Ha,da,wa,0);break;case Vf:ka(pa,Ga,Ha,da,wa,0),sd(da,wa,1,Ha,1,0);break;case lA:vA(pa,Ga,Ha,da,wa);break;case Wf:vA(pa,Ga,Ha,da,wa),Mc(da,wa,Ha,1,0);break;case sp:sA(pa,Ga,Ha,da,wa);break;default:ki(0)}zo+=Ko,fa+=Pa}Os.Ma+=Ro}else alert("todo:EmitRescaledRowsYUVA");ki(Os.Ma<=ho.height)}}Os.C=Ks,ki(Os.C<=Os.i)}function dh(Os){var Ks;if(0<Os.ua)return 0;for(Ks=0;Ks<Os.Wb;++Ks){var ho=Os.Ya[Ks].G,xo=Os.Ya[Ks].H;if(0<ho[1][xo[1]+0].g||0<ho[2][xo[2]+0].g||0<ho[3][xo[3]+0].g)return 0}return 1}function Mu(Os,Ks,ho,xo,Mo,Ro){if(Os.Z!=0){var $o=Os.qd,zo=Os.rd;for(ki(Rd[Os.Z]!=null);Ks<ho;++Ks)Rd[Os.Z]($o,zo,xo,Mo,xo,Mo,Ro),$o=xo,zo=Mo,Mo+=Ro;Os.qd=$o,Os.rd=zo}}function Ah(Os,Ks){var ho=Os.l.ma,xo=ho.Z==0||ho.Z==1?Os.l.j:Os.C;if(xo=Os.C<xo?xo:Os.C,ki(Ks<=Os.l.o),Ks>xo){var Mo=Os.l.width,Ro=ho.ca,$o=ho.tb+Mo*xo,zo=Os.V,Ko=Os.Ba+Os.c*xo,ia=Os.gc;ki(Os.ab==1),ki(ia[0].hc==3),rd(ia[0],xo,Ks,zo,Ko,Ro,$o),Mu(ho,xo,Ks,Ro,$o,Mo)}Os.C=Os.Ma=Ks}function Wu(Os,Ks,ho,xo,Mo,Ro,$o){var zo=Os.$/xo,Ko=Os.$%xo,ia=Os.m,fa=Os.s,Pa=ho+Os.$,Ma=Pa;Mo=ho+xo*Mo;var pa=ho+xo*Ro,Ga=280+fa.ua,Ha=Os.Pb?zo:16777216,da=0<fa.ua?fa.Wa:null,wa=fa.wc,Ka=Pa<pa?Yc(fa,Ko,zo):null;ki(Os.C<Ro),ki(pa<=Mo);var el=!1;e:for(;;){for(;el||Pa<pa;){var qa=0;if(zo>=Ha){var bl=Pa-ho;ki((Ha=Os).Pb),Ha.wd=Ha.m,Ha.xd=bl,0<Ha.s.ua&&mo(Ha.s.Wa,Ha.s.vb),Ha=zo+Gp}if(Ko&wa||(Ka=Yc(fa,Ko,zo)),ki(Ka!=null),Ka.Qb&&(Ks[Pa]=Ka.qb,el=!0),!el)if(oo(ia),Ka.jc){qa=ia,bl=Ks;var hl=Pa,Ol=Ka.pd[Bs(qa)&Gu-1];ki(Ka.jc),256>Ol.g?(so(qa,qa.u+Ol.g),bl[hl]=Ol.value,qa=0):(so(qa,qa.u+Ol.g-256),ki(256<=Ol.value),qa=Ol.value),qa==0&&(el=!0)}else qa=kc(Ka.G[0],Ka.H[0],ia);if(ia.h)break;if(el||256>qa){if(!el)if(Ka.nd)Ks[Pa]=(Ka.qb|qa<<8)>>>0;else{if(oo(ia),el=kc(Ka.G[1],Ka.H[1],ia),oo(ia),bl=kc(Ka.G[2],Ka.H[2],ia),hl=kc(Ka.G[3],Ka.H[3],ia),ia.h)break;Ks[Pa]=(hl<<24|el<<16|qa<<8|bl)>>>0}if(el=!1,++Pa,++Ko>=xo&&(Ko=0,++zo,$o!=null&&zo<=Ro&&!(zo%16)&&$o(Os,zo),da!=null))for(;Ma<Pa;)qa=Ks[Ma++],da.X[(506832829*qa&4294967295)>>>da.Mb]=qa}else if(280>qa){if(qa=dc(qa-256,ia),bl=kc(Ka.G[4],Ka.H[4],ia),oo(ia),bl=_u(xo,bl=dc(bl,ia)),ia.h)break;if(Pa-ho<bl||Mo-Pa<qa)break e;for(hl=0;hl<qa;++hl)Ks[Pa+hl]=Ks[Pa+hl-bl];for(Pa+=qa,Ko+=qa;Ko>=xo;)Ko-=xo,++zo,$o!=null&&zo<=Ro&&!(zo%16)&&$o(Os,zo);if(ki(Pa<=Mo),Ko&wa&&(Ka=Yc(fa,Ko,zo)),da!=null)for(;Ma<Pa;)qa=Ks[Ma++],da.X[(506832829*qa&4294967295)>>>da.Mb]=qa}else{if(!(qa<Ga))break e;for(el=qa-280,ki(da!=null);Ma<Pa;)qa=Ks[Ma++],da.X[(506832829*qa&4294967295)>>>da.Mb]=qa;qa=Pa,ki(!(el>>>(bl=da).Xa)),Ks[qa]=bl.X[el],el=!0}el||ki(ia.h==zs(ia))}if(Os.Pb&&ia.h&&Pa<Mo)ki(Os.m.h),Os.a=5,Os.m=Os.wd,Os.$=Os.xd,0<Os.s.ua&&mo(Os.s.vb,Os.s.Wa);else{if(ia.h)break e;$o!=null&&$o(Os,zo>Ro?Ro:zo),Os.a=0,Os.$=Pa-ho}return 1}return Os.a=3,0}function Th(Os){ki(Os!=null),Os.vc=null,Os.yc=null,Os.Ya=null;var Ks=Os.Wa;Ks!=null&&(Ks.X=null),Os.vb=null,ki(Os!=null)}function ca(){var Os=new Rf;return Os==null?null:(Os.a=0,Os.xb=ap,Ba("Predictor","VP8LPredictors"),Ba("Predictor","VP8LPredictors_C"),Ba("PredictorAdd","VP8LPredictorsAdd"),Ba("PredictorAdd","VP8LPredictorsAdd_C"),Hf=uo,MA=Oo,Ch=Po,Oh=Zo,vA=na,sA=ma,ah=ua,Rs.VP8LMapColor32b=Od,Rs.VP8LMapColor8b=tu,Os)}function gl(Os,Ks,ho,xo,Mo){var Ro=1,$o=[Os],zo=[Ks],Ko=xo.m,ia=xo.s,fa=null,Pa=0;e:for(;;){if(ho)for(;Ro&&Zs(Ko,1);){var Ma=$o,pa=zo,Ga=xo,Ha=1,da=Ga.m,wa=Ga.gc[Ga.ab],Ka=Zs(da,2);if(Ga.Oc&1<<Ka)Ro=0;else{switch(Ga.Oc|=1<<Ka,wa.hc=Ka,wa.Ea=Ma[0],wa.nc=pa[0],wa.K=[null],++Ga.ab,ki(4>=Ga.ab),Ka){case 0:case 1:wa.b=Zs(da,3)+2,Ha=gl(Yo(wa.Ea,wa.b),Yo(wa.nc,wa.b),0,Ga,wa.K),wa.K=wa.K[0];break;case 3:var el,qa=Zs(da,8)+1,bl=16<qa?0:4<qa?1:2<qa?2:3;if(Ma[0]=Yo(wa.Ea,bl),wa.b=bl,el=Ha=gl(qa,1,0,Ga,wa.K)){var hl,Ol=qa,vl=wa,Gc=1<<(8>>vl.b),iu=is(Gc);if(iu==null)el=0;else{var rl=vl.K[0],sc=vl.w;for(iu[0]=vl.K[0][0],hl=1;hl<1*Ol;++hl)iu[hl]=Wo(rl[sc+hl],iu[hl-1]);for(;hl<4*Gc;++hl)iu[hl]=0;vl.K[0]=null,vl.K[0]=iu,el=1}}Ha=el;break;case 2:break;default:ki(0)}Ro=Ha}}if($o=$o[0],zo=zo[0],Ro&&Zs(Ko,1)&&!(Ro=1<=(Pa=Zs(Ko,4))&&11>=Pa)){xo.a=3;break e}var gu;if(gu=Ro)t:{var hu,ql,ch,uh=xo,yc=$o,eh=zo,nu=Pa,Hu=ho,ad=uh.m,Su=uh.s,Fu=[null],Vc=1,mu=0,Id=Ip[nu];r:for(;;){if(Hu&&Zs(ad,1)){var xh=Zs(ad,3)+2,Gd=Yo(yc,xh),Kd=Yo(eh,xh),uA=Gd*Kd;if(!gl(Gd,Kd,0,uh,Fu))break r;for(Fu=Fu[0],Su.xc=xh,hu=0;hu<uA;++hu){var UA=Fu[hu]>>8&65535;Fu[hu]=UA,UA>=Vc&&(Vc=UA+1)}}if(ad.h)break r;for(ql=0;5>ql;++ql){var Tu=Fp[ql];!ql&&0<nu&&(Tu+=1<<nu),mu<Tu&&(mu=Tu)}var hp=ns(Vc*Id,Is),Ef=Vc,eg=ns(Ef,Ws);if(eg==null)var hA=null;else ki(65536>=Ef),hA=eg;var xf=is(mu);if(hA==null||xf==null||hp==null){uh.a=1;break r}var tf=hp;for(hu=ch=0;hu<Vc;++hu){var jd=hA[hu],Yd=jd.G,rf=jd.H,tg=0,nf=1,Sf=0;for(ql=0;5>ql;++ql){Tu=Fp[ql],Yd[ql]=tf,rf[ql]=ch,!ql&&0<nu&&(Tu+=1<<nu);n:{var Xd,HA=Tu,dA=uh,sf=xf,Bg=tf,Dp=ch,vd=0,yd=dA.m,Tf=Zs(yd,1);if(rs(sf,0,0,HA),Tf){var rg=Zs(yd,1)+1,ig=Zs(yd,1),Pp=Zs(yd,ig==0?1:8);sf[Pp]=1,rg==2&&(sf[Pp=Zs(yd,8)]=1);var qf=1}else{var Mp=is(19),Yh=Zs(yd,4)+4;if(19<Yh){dA.a=3;var Bf=0;break n}for(Xd=0;Xd<Yh;++Xd)Mp[Ku[Xd]]=Zs(yd,3);var kd=void 0,jA=void 0,xc=dA,_g=Mp,dp=HA,_f=sf,Op=0,of=xc.m,Lg=8,bh=ns(128,Is);i:for(;Fs(bh,0,7,_g,19);){if(Zs(of,1)){var Ap=2+2*Zs(of,3);if((kd=2+Zs(of,Ap))>dp)break i}else kd=dp;for(jA=0;jA<dp&&kd--;){oo(of);var $A=bh[0+(127&Bs(of))];so(of,of.u+$A.g);var Jd=$A.value;if(16>Jd)_f[jA++]=Jd,Jd!=0&&(Lg=Jd);else{var Zd=Jd==16,Np=Jd-16,vu=qp[Np],Hh=Zs(of,Cg[Np])+vu;if(jA+Hh>dp)break i;for(var Rp=Zd?Lg:0;0<Hh--;)_f[jA++]=Rp}}Op=1;break i}Op||(xc.a=3),qf=Op}(qf=qf&&!yd.h)&&(vd=Fs(Bg,Dp,8,sf,HA)),qf&&vd!=0?Bf=vd:(dA.a=3,Bf=0)}if(Bf==0)break r;if(nf&&Uu[ql]==1&&(nf=tf[ch].g==0),tg+=tf[ch].g,ch+=Bf,3>=ql){var Lf,af=xf[0];for(Lf=1;Lf<Tu;++Lf)xf[Lf]>af&&(af=xf[Lf]);Sf+=af}}if(jd.nd=nf,jd.Qb=0,nf&&(jd.qb=(Yd[3][rf[3]+0].value<<24|Yd[1][rf[1]+0].value<<16|Yd[2][rf[2]+0].value)>>>0,tg==0&&256>Yd[0][rf[0]+0].value&&(jd.Qb=1,jd.qb+=Yd[0][rf[0]+0].value<<8)),jd.jc=!jd.Qb&&6>Sf,jd.jc){var EA,ld=jd;for(EA=0;EA<Gu;++EA){var AA=EA,eA=ld.pd[AA],lf=ld.G[0][ld.H[0]+AA];256<=lf.value?(eA.g=lf.g+256,eA.value=lf.value):(eA.g=0,eA.value=0,AA>>=Dl(lf,8,eA),AA>>=Dl(ld.G[1][ld.H[1]+AA],16,eA),AA>>=Dl(ld.G[2][ld.H[2]+AA],0,eA),Dl(ld.G[3][ld.H[3]+AA],24,eA))}}}Su.vc=Fu,Su.Wb=Vc,Su.Ya=hA,Su.yc=hp,gu=1;break t}gu=0}if(!(Ro=gu)){xo.a=3;break e}if(0<Pa){if(ia.ua=1<<Pa,!Eo(ia.Wa,Pa)){xo.a=1,Ro=0;break e}}else ia.ua=0;var xA=xo,Gf=$o,QA=zo,Up=xA.s,Kf=Up.xc;if(xA.c=Gf,xA.i=QA,Up.md=Yo(Gf,Kf),Up.wc=Kf==0?-1:(1<<Kf)-1,ho){xo.xb=Wg;break e}if((fa=is($o*zo))==null){xo.a=1,Ro=0;break e}Ro=(Ro=Wu(xo,fa,0,$o,zo,zo,null))&&!Ko.h;break e}return Ro?(Mo!=null?Mo[0]=fa:(ki(fa==null),ki(ho)),xo.$=0,ho||Th(ia)):Th(ia),Ro}function cl(Os,Ks){var ho=Os.c*Os.i,xo=ho+Ks+16*Ks;return ki(Os.c<=Ks),Os.V=is(xo),Os.V==null?(Os.Ta=null,Os.Ua=0,Os.a=1,0):(Os.Ta=Os.V,Os.Ua=Os.Ba+ho+Ks,1)}function Zl(Os,Ks){var ho=Os.C,xo=Ks-ho,Mo=Os.V,Ro=Os.Ba+Os.c*ho;for(ki(Ks<=Os.l.o);0<xo;){var $o=16<xo?16:xo,zo=Os.l.ma,Ko=Os.l.width,ia=Ko*$o,fa=zo.ca,Pa=zo.tb+Ko*ho,Ma=Os.Ta,pa=Os.Ua;Pu(Os,$o,Mo,Ro),Uc(Ma,pa,fa,Pa,ia),Mu(zo,ho,ho+$o,fa,Pa,Ko),xo-=$o,Mo+=$o*Os.c,ho+=$o}ki(ho==Ks),Os.C=Os.Ma=Ks}function oc(){this.ub=this.yd=this.td=this.Rb=0}function Yl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Sc(){this.Fb=this.Bb=this.Cb=0,this.Zb=is(4),this.Lb=is(4)}function Bh(){this.Yb=function(){var Os=[];return function Ks(ho,xo,Mo){for(var Ro=Mo[xo],$o=0;$o<Ro&&(ho.push(Mo.length>xo+1?[]:0),!(Mo.length<xo+1));$o++)Ks(ho[$o],xo+1,Mo)}(Os,0,[3,11]),Os}()}function Eu(){this.jb=is(3),this.Wc=ss([4,8],Bh),this.Xc=ss([4,17],Bh)}function xu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new is(4),this.od=new is(4)}function _h(){this.ld=this.La=this.dd=this.tc=0}function Nc(){this.Na=this.la=0}function Cl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Lh(){this.ad=is(384),this.Za=0,this.Ob=is(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Qh(){this.uc=this.M=this.Nb=0,this.wa=Array(new _h),this.Y=0,this.ya=Array(new Lh),this.aa=0,this.l=new ih}function Fh(){this.y=is(16),this.f=is(8),this.ea=is(8)}function nc(){this.cb=this.a=0,this.sc="",this.m=new ao,this.Od=new oc,this.Kc=new Yl,this.ed=new xu,this.Qa=new Sc,this.Ic=this.$c=this.Aa=0,this.D=new Qh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=ns(8,ao),this.ia=0,this.pb=ns(4,Cl),this.Pa=new Eu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Fh),this.Hd=0,this.rb=Array(new Nc),this.sb=0,this.wa=Array(new _h),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Lh),this.L=this.aa=0,this.gd=ss([4,2],_h),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ih(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function dd(){var Os=new nc;return Os!=null&&(Os.a=0,Os.sc="OK",Os.cb=0,Os.Xb=0,md||(md=Ou)),Os}function Xc(Os,Ks,ho){return Os.a==0&&(Os.a=Ks,Os.sc=ho,Os.cb=0),0}function Xa(Os,Ks,ho){return 3<=ho&&Os[Ks+0]==157&&Os[Ks+1]==1&&Os[Ks+2]==42}function zl(Os,Ks){if(Os==null)return 0;if(Os.a=0,Os.sc="OK",Ks==null)return Xc(Os,2,"null VP8Io passed to VP8GetHeaders()");var ho=Ks.data,xo=Ks.w,Mo=Ks.ha;if(4>Mo)return Xc(Os,7,"Truncated header.");var Ro=ho[xo+0]|ho[xo+1]<<8|ho[xo+2]<<16,$o=Os.Od;if($o.Rb=!(1&Ro),$o.td=Ro>>1&7,$o.yd=Ro>>4&1,$o.ub=Ro>>5,3<$o.td)return Xc(Os,3,"Incorrect keyframe parameters.");if(!$o.yd)return Xc(Os,4,"Frame not displayable.");xo+=3,Mo-=3;var zo=Os.Kc;if($o.Rb){if(7>Mo)return Xc(Os,7,"cannot parse picture header");if(!Xa(ho,xo,Mo))return Xc(Os,3,"Bad code word");zo.c=16383&(ho[xo+4]<<8|ho[xo+3]),zo.Td=ho[xo+4]>>6,zo.i=16383&(ho[xo+6]<<8|ho[xo+5]),zo.Ud=ho[xo+6]>>6,xo+=7,Mo-=7,Os.za=zo.c+15>>4,Os.Ub=zo.i+15>>4,Ks.width=zo.c,Ks.height=zo.i,Ks.Da=0,Ks.j=0,Ks.v=0,Ks.va=Ks.width,Ks.o=Ks.height,Ks.da=0,Ks.ib=Ks.width,Ks.hb=Ks.height,Ks.U=Ks.width,Ks.T=Ks.height,rs((Ro=Os.Pa).jb,0,255,Ro.jb.length),ki((Ro=Os.Qa)!=null),Ro.Cb=0,Ro.Bb=0,Ro.Fb=1,rs(Ro.Zb,0,0,Ro.Zb.length),rs(Ro.Lb,0,0,Ro.Lb)}if($o.ub>Mo)return Xc(Os,7,"bad partition length");Ds(Ro=Os.m,ho,xo,$o.ub),xo+=$o.ub,Mo-=$o.ub,$o.Rb&&(zo.Ld=Xs(Ro),zo.Kd=Xs(Ro)),zo=Os.Qa;var Ko,ia=Os.Pa;if(ki(Ro!=null),ki(zo!=null),zo.Cb=Xs(Ro),zo.Cb){if(zo.Bb=Xs(Ro),Xs(Ro)){for(zo.Fb=Xs(Ro),Ko=0;4>Ko;++Ko)zo.Zb[Ko]=Xs(Ro)?Ns(Ro,7):0;for(Ko=0;4>Ko;++Ko)zo.Lb[Ko]=Xs(Ro)?Ns(Ro,6):0}if(zo.Bb)for(Ko=0;3>Ko;++Ko)ia.jb[Ko]=Xs(Ro)?_s(Ro,8):255}else zo.Bb=0;if(Ro.Ka)return Xc(Os,3,"cannot parse segment header");if((zo=Os.ed).zd=Xs(Ro),zo.Tb=_s(Ro,6),zo.wb=_s(Ro,3),zo.Pc=Xs(Ro),zo.Pc&&Xs(Ro)){for(ia=0;4>ia;++ia)Xs(Ro)&&(zo.vd[ia]=Ns(Ro,6));for(ia=0;4>ia;++ia)Xs(Ro)&&(zo.od[ia]=Ns(Ro,6))}if(Os.L=zo.Tb==0?0:zo.zd?1:2,Ro.Ka)return Xc(Os,3,"cannot parse filter header");var fa=Mo;if(Mo=Ko=xo,xo=Ko+fa,zo=fa,Os.Xb=(1<<_s(Os.m,2))-1,fa<3*(ia=Os.Xb))ho=7;else{for(Ko+=3*ia,zo-=3*ia,fa=0;fa<ia;++fa){var Pa=ho[Mo+0]|ho[Mo+1]<<8|ho[Mo+2]<<16;Pa>zo&&(Pa=zo),Ds(Os.Jc[+fa],ho,Ko,Pa),Ko+=Pa,zo-=Pa,Mo+=3}Ds(Os.Jc[+ia],ho,Ko,zo),ho=Ko<xo?0:5}if(ho!=0)return Xc(Os,ho,"cannot parse partitions");for(ho=_s(Ko=Os.m,7),Mo=Xs(Ko)?Ns(Ko,4):0,xo=Xs(Ko)?Ns(Ko,4):0,zo=Xs(Ko)?Ns(Ko,4):0,ia=Xs(Ko)?Ns(Ko,4):0,Ko=Xs(Ko)?Ns(Ko,4):0,fa=Os.Qa,Pa=0;4>Pa;++Pa){if(fa.Cb){var Ma=fa.Zb[Pa];fa.Fb||(Ma+=ho)}else{if(0<Pa){Os.pb[Pa]=Os.pb[0];continue}Ma=ho}var pa=Os.pb[Pa];pa.Sc[0]=bf[eu(Ma+Mo,127)],pa.Sc[1]=RA[eu(Ma+0,127)],pa.Eb[0]=2*bf[eu(Ma+xo,127)],pa.Eb[1]=101581*RA[eu(Ma+zo,127)]>>16,8>pa.Eb[1]&&(pa.Eb[1]=8),pa.Qc[0]=bf[eu(Ma+ia,117)],pa.Qc[1]=RA[eu(Ma+Ko,127)],pa.lc=Ma+Ko}if(!$o.Rb)return Xc(Os,4,"Not a key frame.");for(Xs(Ro),$o=Os.Pa,ho=0;4>ho;++ho){for(Mo=0;8>Mo;++Mo)for(xo=0;3>xo;++xo)for(zo=0;11>zo;++zo)ia=lo(Ro,Cf[ho][Mo][xo][zo])?_s(Ro,8):CA[ho][Mo][xo][zo],$o.Wc[ho][Mo].Yb[xo][zo]=ia;for(Mo=0;17>Mo;++Mo)$o.Xc[ho][Mo]=$o.Wc[ho][Eg[Mo]]}return Os.kc=Xs(Ro),Os.kc&&(Os.Bd=_s(Ro,8)),Os.cb=1}function Ou(Os,Ks,ho,xo,Mo,Ro,$o){var zo=Ks[Mo].Yb[ho];for(ho=0;16>Mo;++Mo){if(!lo(Os,zo[ho+0]))return Mo;for(;!lo(Os,zo[ho+1]);)if(zo=Ks[++Mo].Yb[0],ho=0,Mo==16)return 16;var Ko=Ks[Mo+1].Yb;if(lo(Os,zo[ho+2])){var ia=Os,fa=0;if(lo(ia,(Ma=zo)[(Pa=ho)+3]))if(lo(ia,Ma[Pa+6])){for(zo=0,Pa=2*(fa=lo(ia,Ma[Pa+8]))+(Ma=lo(ia,Ma[Pa+9+fa])),fa=0,Ma=wf[Pa];Ma[zo];++zo)fa+=fa+lo(ia,Ma[zo]);fa+=3+(8<<Pa)}else lo(ia,Ma[Pa+7])?(fa=7+2*lo(ia,165),fa+=lo(ia,145)):fa=5+lo(ia,159);else fa=lo(ia,Ma[Pa+4])?3+lo(ia,Ma[Pa+5]):2;zo=Ko[2]}else fa=1,zo=Ko[1];Ko=$o+zd[Mo],0>(ia=Os).b&&Ao(ia);var Pa,Ma=ia.b,pa=(Pa=ia.Ca>>1)-(ia.I>>Ma)>>31;--ia.b,ia.Ca+=pa,ia.Ca|=1,ia.I-=(Pa+1&pa)<<Ma,Ro[Ko]=((fa^pa)-pa)*xo[(0<Mo)+0]}return 16}function Nu(Os){var Ks=Os.rb[Os.sb-1];Ks.la=0,Ks.Na=0,rs(Os.zc,0,0,Os.zc.length),Os.ja=0}function Ad(Os,Ks){if(Os==null)return 0;if(Ks==null)return Xc(Os,2,"NULL VP8Io parameter in VP8Decode().");if(!Os.cb&&!zl(Os,Ks))return 0;if(ki(Os.cb),Ks.ac==null||Ks.ac(Ks)){Ks.ob&&(Os.L=0);var ho=cp[Os.L];if(Os.L==2?(Os.yb=0,Os.zb=0):(Os.yb=Ks.v-ho>>4,Os.zb=Ks.j-ho>>4,0>Os.yb&&(Os.yb=0),0>Os.zb&&(Os.zb=0)),Os.Va=Ks.o+15+ho>>4,Os.Hb=Ks.va+15+ho>>4,Os.Hb>Os.za&&(Os.Hb=Os.za),Os.Va>Os.Ub&&(Os.Va=Os.Ub),0<Os.L){var xo=Os.ed;for(ho=0;4>ho;++ho){var Mo;if(Os.Qa.Cb){var Ro=Os.Qa.Lb[ho];Os.Qa.Fb||(Ro+=xo.Tb)}else Ro=xo.Tb;for(Mo=0;1>=Mo;++Mo){var $o=Os.gd[ho][Mo],zo=Ro;if(xo.Pc&&(zo+=xo.vd[0],Mo&&(zo+=xo.od[0])),0<(zo=0>zo?0:63<zo?63:zo)){var Ko=zo;0<xo.wb&&(Ko=4<xo.wb?Ko>>2:Ko>>1)>9-xo.wb&&(Ko=9-xo.wb),1>Ko&&(Ko=1),$o.dd=Ko,$o.tc=2*zo+Ko,$o.ld=40<=zo?2:15<=zo?1:0}else $o.tc=0;$o.La=Mo}}}ho=0}else Xc(Os,6,"Frame setup failed"),ho=Os.a;if(ho=ho==0){if(ho){Os.$c=0,0<Os.Aa||(Os.Ic=qg);e:{ho=Os.Ic,xo=4*(Ko=Os.za);var ia=32*Ko,fa=Ko+1,Pa=0<Os.L?Ko*(0<Os.Aa?2:1):0,Ma=(Os.Aa==2?2:1)*Ko;if(($o=xo+832+(Mo=3*(16*ho+cp[Os.L])/2*ia)+(Ro=Os.Fa!=null&&0<Os.Fa.length?Os.Kc.c*Os.Kc.i:0))!=$o)ho=0;else{if($o>Os.Vb){if(Os.Vb=0,Os.Ec=is($o),Os.Fc=0,Os.Ec==null){ho=Xc(Os,1,"no memory during frame initialization.");break e}Os.Vb=$o}$o=Os.Ec,zo=Os.Fc,Os.Ac=$o,Os.Bc=zo,zo+=xo,Os.Gd=ns(ia,Fh),Os.Hd=0,Os.rb=ns(fa+1,Nc),Os.sb=1,Os.wa=Pa?ns(Pa,_h):null,Os.Y=0,Os.D.Nb=0,Os.D.wa=Os.wa,Os.D.Y=Os.Y,0<Os.Aa&&(Os.D.Y+=Ko),ki(!0),Os.oc=$o,Os.pc=zo,zo+=832,Os.ya=ns(Ma,Lh),Os.aa=0,Os.D.ya=Os.ya,Os.D.aa=Os.aa,Os.Aa==2&&(Os.D.aa+=Ko),Os.R=16*Ko,Os.B=8*Ko,Ko=(ia=cp[Os.L])*Os.R,ia=ia/2*Os.B,Os.sa=$o,Os.ta=zo+Ko,Os.qa=Os.sa,Os.ra=Os.ta+16*ho*Os.R+ia,Os.Ha=Os.qa,Os.Ia=Os.ra+8*ho*Os.B+ia,Os.$c=0,zo+=Mo,Os.mb=Ro?$o:null,Os.nb=Ro?zo:null,ki(zo+Ro<=Os.Fc+Os.Vb),Nu(Os),rs(Os.Ac,Os.Bc,0,xo),ho=1}}if(ho){if(Ks.ka=0,Ks.y=Os.sa,Ks.O=Os.ta,Ks.f=Os.qa,Ks.N=Os.ra,Ks.ea=Os.Ha,Ks.Vd=Os.Ia,Ks.fa=Os.R,Ks.Rc=Os.B,Ks.F=null,Ks.J=0,!jf){for(ho=-255;255>=ho;++ho)pu[255+ho]=0>ho?-ho:ho;for(ho=-1020;1020>=ho;++ho)Eh[1020+ho]=-128>ho?-128:127<ho?127:ho;for(ho=-112;112>=ho;++ho)gd[112+ho]=-16>ho?-16:15<ho?15:ho;for(ho=-255;510>=ho;++ho)oA[255+ho]=0>ho?0:255<ho?255:ho;jf=1}Ca=Qc,Qa=Ml,yl=Pl,Nl=Ac,ac=Tc,Fa=sl,ku=qu,Ec=Zc,yA=Zh,vf=iA,Nh=Pd,Bd=mh,Nd=Wh,Gh=Lp,nd=ll,_d=tc,Pc=fc,Ld=Jc,Kh[0]=Lu,Kh[1]=lu,Kh[2]=Ih,Kh[3]=gh,Kh[4]=LA,Kh[5]=pA,Kh[6]=FA,Kh[7]=Vh,Kh[8]=rA,Kh[9]=xd,JA[0]=Cc,JA[1]=zu,JA[2]=fh,JA[3]=ph,JA[4]=Iu,JA[5]=pd,JA[6]=Ju,Uh[0]=Sd,Uh[1]=cu,Uh[2]=Of,Uh[3]=zc,Uh[4]=Vd,Uh[5]=IA,Uh[6]=gA,ho=1}else ho=0}ho&&(ho=function(pa,Ga){for(pa.M=0;pa.M<pa.Va;++pa.M){var Ha,da=pa.Jc[pa.M&pa.Xb],wa=pa.m,Ka=pa;for(Ha=0;Ha<Ka.za;++Ha){var el=wa,qa=Ka,bl=qa.Ac,hl=qa.Bc+4*Ha,Ol=qa.zc,vl=qa.ya[qa.aa+Ha];if(qa.Qa.Bb?vl.$b=lo(el,qa.Pa.jb[0])?2+lo(el,qa.Pa.jb[2]):lo(el,qa.Pa.jb[1]):vl.$b=0,qa.kc&&(vl.Ad=lo(el,qa.Bd)),vl.Za=!lo(el,145)+0,vl.Za){var Gc=vl.Ob,iu=0;for(qa=0;4>qa;++qa){var rl,sc=Ol[0+qa];for(rl=0;4>rl;++rl){sc=op[bl[hl+rl]][sc];for(var gu=wA[lo(el,sc[0])];0<gu;)gu=wA[2*gu+lo(el,sc[gu])];sc=-gu,bl[hl+rl]=sc}ts(Gc,iu,bl,hl,4),iu+=4,Ol[0+qa]=sc}}else sc=lo(el,156)?lo(el,128)?1:3:lo(el,163)?2:0,vl.Ob[0]=sc,rs(bl,hl,sc,4),rs(Ol,0,sc,4);vl.Dd=lo(el,142)?lo(el,114)?lo(el,183)?1:3:2:0}if(Ka.m.Ka)return Xc(pa,7,"Premature end-of-partition0 encountered.");for(;pa.ja<pa.za;++pa.ja){if(Ka=da,el=(wa=pa).rb[wa.sb-1],bl=wa.rb[wa.sb+wa.ja],Ha=wa.ya[wa.aa+wa.ja],hl=wa.kc?Ha.Ad:0)el.la=bl.la=0,Ha.Za||(el.Na=bl.Na=0),Ha.Hc=0,Ha.Gc=0,Ha.ia=0;else{var hu,ql;if(el=bl,bl=Ka,hl=wa.Pa.Xc,Ol=wa.ya[wa.aa+wa.ja],vl=wa.pb[Ol.$b],qa=Ol.ad,Gc=0,iu=wa.rb[wa.sb-1],sc=rl=0,rs(qa,Gc,0,384),Ol.Za)var ch=0,uh=hl[3];else{gu=is(16);var yc=el.Na+iu.Na;if(yc=md(bl,hl[1],yc,vl.Eb,0,gu,0),el.Na=iu.Na=(0<yc)+0,1<yc)Ca(gu,0,qa,Gc);else{var eh=gu[0]+3>>3;for(gu=0;256>gu;gu+=16)qa[Gc+gu]=eh}ch=1,uh=hl[0]}var nu=15&el.la,Hu=15&iu.la;for(gu=0;4>gu;++gu){var ad=1&Hu;for(eh=ql=0;4>eh;++eh)nu=nu>>1|(ad=(yc=md(bl,uh,yc=ad+(1&nu),vl.Sc,ch,qa,Gc))>ch)<<7,ql=ql<<2|(3<yc?3:1<yc?2:qa[Gc+0]!=0),Gc+=16;nu>>=4,Hu=Hu>>1|ad<<7,rl=(rl<<8|ql)>>>0}for(uh=nu,ch=Hu>>4,hu=0;4>hu;hu+=2){for(ql=0,nu=el.la>>4+hu,Hu=iu.la>>4+hu,gu=0;2>gu;++gu){for(ad=1&Hu,eh=0;2>eh;++eh)yc=ad+(1&nu),nu=nu>>1|(ad=0<(yc=md(bl,hl[2],yc,vl.Qc,0,qa,Gc)))<<3,ql=ql<<2|(3<yc?3:1<yc?2:qa[Gc+0]!=0),Gc+=16;nu>>=2,Hu=Hu>>1|ad<<5}sc|=ql<<4*hu,uh|=nu<<4<<hu,ch|=(240&Hu)<<hu}el.la=uh,iu.la=ch,Ol.Hc=rl,Ol.Gc=sc,Ol.ia=43690&sc?0:vl.ia,hl=!(rl|sc)}if(0<wa.L&&(wa.wa[wa.Y+wa.ja]=wa.gd[Ha.$b][Ha.Za],wa.wa[wa.Y+wa.ja].La|=!hl),Ka.Ka)return Xc(pa,7,"Premature end-of-file encountered.")}if(Nu(pa),wa=Ga,Ka=1,Ha=(da=pa).D,el=0<da.L&&da.M>=da.zb&&da.M<=da.Va,da.Aa==0)e:{if(Ha.M=da.M,Ha.uc=el,wu(da,Ha),Ka=1,Ha=(ql=da.D).Nb,el=(sc=cp[da.L])*da.R,bl=sc/2*da.B,gu=16*Ha*da.R,eh=8*Ha*da.B,hl=da.sa,Ol=da.ta-el+gu,vl=da.qa,qa=da.ra-bl+eh,Gc=da.Ha,iu=da.Ia-bl+eh,Hu=(nu=ql.M)==0,rl=nu>=da.Va-1,da.Aa==2&&wu(da,ql),ql.uc)for(ad=(yc=da).D.M,ki(yc.D.uc),ql=yc.yb;ql<yc.Hb;++ql){ch=ql,uh=ad;var Su=(Fu=(Tu=yc).D).Nb;hu=Tu.R;var Fu=Fu.wa[Fu.Y+ch],Vc=Tu.sa,mu=Tu.ta+16*Su*hu+16*ch,Id=Fu.dd,xh=Fu.tc;if(xh!=0)if(ki(3<=xh),Tu.L==1)0<ch&&_d(Vc,mu,hu,xh+4),Fu.La&&Ld(Vc,mu,hu,xh),0<uh&&nd(Vc,mu,hu,xh+4),Fu.La&&Pc(Vc,mu,hu,xh);else{var Gd=Tu.B,Kd=Tu.qa,uA=Tu.ra+8*Su*Gd+8*ch,UA=Tu.Ha,Tu=Tu.Ia+8*Su*Gd+8*ch;Su=Fu.ld,0<ch&&(Ec(Vc,mu,hu,xh+4,Id,Su),vf(Kd,uA,UA,Tu,Gd,xh+4,Id,Su)),Fu.La&&(Bd(Vc,mu,hu,xh,Id,Su),Gh(Kd,uA,UA,Tu,Gd,xh,Id,Su)),0<uh&&(ku(Vc,mu,hu,xh+4,Id,Su),yA(Kd,uA,UA,Tu,Gd,xh+4,Id,Su)),Fu.La&&(Nh(Vc,mu,hu,xh,Id,Su),Nd(Kd,uA,UA,Tu,Gd,xh,Id,Su))}}if(da.ia&&alert("todo:DitherRow"),wa.put!=null){if(ql=16*nu,nu=16*(nu+1),Hu?(wa.y=da.sa,wa.O=da.ta+gu,wa.f=da.qa,wa.N=da.ra+eh,wa.ea=da.Ha,wa.W=da.Ia+eh):(ql-=sc,wa.y=hl,wa.O=Ol,wa.f=vl,wa.N=qa,wa.ea=Gc,wa.W=iu),rl||(nu-=sc),nu>wa.o&&(nu=wa.o),wa.F=null,wa.J=null,da.Fa!=null&&0<da.Fa.length&&ql<nu&&(wa.J=Uf(da,wa,ql,nu-ql),wa.F=da.mb,wa.F==null&&wa.F.length==0)){Ka=Xc(da,3,"Could not decode alpha data.");break e}ql<wa.j&&(sc=wa.j-ql,ql=wa.j,ki(!(1&sc)),wa.O+=da.R*sc,wa.N+=da.B*(sc>>1),wa.W+=da.B*(sc>>1),wa.F!=null&&(wa.J+=wa.width*sc)),ql<nu&&(wa.O+=wa.v,wa.N+=wa.v>>1,wa.W+=wa.v>>1,wa.F!=null&&(wa.J+=wa.v),wa.ka=ql-wa.j,wa.U=wa.va-wa.v,wa.T=nu-ql,Ka=wa.put(wa))}Ha+1!=da.Ic||rl||(ts(da.sa,da.ta-el,hl,Ol+16*da.R,el),ts(da.qa,da.ra-bl,vl,qa+8*da.B,bl),ts(da.Ha,da.Ia-bl,Gc,iu+8*da.B,bl))}if(!Ka)return Xc(pa,6,"Output aborted.")}return 1}(Os,Ks)),Ks.bc!=null&&Ks.bc(Ks),ho&=1}return ho?(Os.cb=0,ho):0}function Go(Os,Ks,ho,xo,Mo){Mo=Os[Ks+ho+32*xo]+(Mo>>3),Os[Ks+ho+32*xo]=-256&Mo?0>Mo?0:255:Mo}function ba(Os,Ks,ho,xo,Mo,Ro){Go(Os,Ks,0,ho,xo+Mo),Go(Os,Ks,1,ho,xo+Ro),Go(Os,Ks,2,ho,xo-Ro),Go(Os,Ks,3,ho,xo-Mo)}function Ta(Os){return(20091*Os>>16)+Os}function Oa(Os,Ks,ho,xo){var Mo,Ro=0,$o=is(16);for(Mo=0;4>Mo;++Mo){var zo=Os[Ks+0]+Os[Ks+8],Ko=Os[Ks+0]-Os[Ks+8],ia=(35468*Os[Ks+4]>>16)-Ta(Os[Ks+12]),fa=Ta(Os[Ks+4])+(35468*Os[Ks+12]>>16);$o[Ro+0]=zo+fa,$o[Ro+1]=Ko+ia,$o[Ro+2]=Ko-ia,$o[Ro+3]=zo-fa,Ro+=4,Ks++}for(Mo=Ro=0;4>Mo;++Mo)zo=(Os=$o[Ro+0]+4)+$o[Ro+8],Ko=Os-$o[Ro+8],ia=(35468*$o[Ro+4]>>16)-Ta($o[Ro+12]),Go(ho,xo,0,0,zo+(fa=Ta($o[Ro+4])+(35468*$o[Ro+12]>>16))),Go(ho,xo,1,0,Ko+ia),Go(ho,xo,2,0,Ko-ia),Go(ho,xo,3,0,zo-fa),Ro++,xo+=32}function sl(Os,Ks,ho,xo){var Mo=Os[Ks+0]+4,Ro=35468*Os[Ks+4]>>16,$o=Ta(Os[Ks+4]),zo=35468*Os[Ks+1]>>16;ba(ho,xo,0,Mo+$o,Os=Ta(Os[Ks+1]),zo),ba(ho,xo,1,Mo+Ro,Os,zo),ba(ho,xo,2,Mo-Ro,Os,zo),ba(ho,xo,3,Mo-$o,Os,zo)}function Ml(Os,Ks,ho,xo,Mo){Oa(Os,Ks,ho,xo),Mo&&Oa(Os,Ks+16,ho,xo+4)}function Pl(Os,Ks,ho,xo){Qa(Os,Ks+0,ho,xo,1),Qa(Os,Ks+32,ho,xo+128,1)}function Ac(Os,Ks,ho,xo){var Mo;for(Os=Os[Ks+0]+4,Mo=0;4>Mo;++Mo)for(Ks=0;4>Ks;++Ks)Go(ho,xo,Ks,Mo,Os)}function Tc(Os,Ks,ho,xo){Os[Ks+0]&&Nl(Os,Ks+0,ho,xo),Os[Ks+16]&&Nl(Os,Ks+16,ho,xo+4),Os[Ks+32]&&Nl(Os,Ks+32,ho,xo+128),Os[Ks+48]&&Nl(Os,Ks+48,ho,xo+128+4)}function Qc(Os,Ks,ho,xo){var Mo,Ro=is(16);for(Mo=0;4>Mo;++Mo){var $o=Os[Ks+0+Mo]+Os[Ks+12+Mo],zo=Os[Ks+4+Mo]+Os[Ks+8+Mo],Ko=Os[Ks+4+Mo]-Os[Ks+8+Mo],ia=Os[Ks+0+Mo]-Os[Ks+12+Mo];Ro[0+Mo]=$o+zo,Ro[8+Mo]=$o-zo,Ro[4+Mo]=ia+Ko,Ro[12+Mo]=ia-Ko}for(Mo=0;4>Mo;++Mo)$o=(Os=Ro[0+4*Mo]+3)+Ro[3+4*Mo],zo=Ro[1+4*Mo]+Ro[2+4*Mo],Ko=Ro[1+4*Mo]-Ro[2+4*Mo],ia=Os-Ro[3+4*Mo],ho[xo+0]=$o+zo>>3,ho[xo+16]=ia+Ko>>3,ho[xo+32]=$o-zo>>3,ho[xo+48]=ia-Ko>>3,xo+=64}function vc(Os,Ks,ho){var xo,Mo=Ks-32,Ro=od,$o=255-Os[Mo-1];for(xo=0;xo<ho;++xo){var zo,Ko=Ro,ia=$o+Os[Ks-1];for(zo=0;zo<ho;++zo)Os[Ks+zo]=Ko[ia+Os[Mo+zo]];Ks+=32}}function lu(Os,Ks){vc(Os,Ks,4)}function cu(Os,Ks){vc(Os,Ks,8)}function zu(Os,Ks){vc(Os,Ks,16)}function fh(Os,Ks){var ho;for(ho=0;16>ho;++ho)ts(Os,Ks+32*ho,Os,Ks-32,16)}function ph(Os,Ks){var ho;for(ho=16;0<ho;--ho)rs(Os,Ks,Os[Ks-1],16),Ks+=32}function nh(Os,Ks,ho){var xo;for(xo=0;16>xo;++xo)rs(Ks,ho+32*xo,Os,16)}function Cc(Os,Ks){var ho,xo=16;for(ho=0;16>ho;++ho)xo+=Os[Ks-1+32*ho]+Os[Ks+ho-32];nh(xo>>5,Os,Ks)}function Iu(Os,Ks){var ho,xo=8;for(ho=0;16>ho;++ho)xo+=Os[Ks-1+32*ho];nh(xo>>4,Os,Ks)}function pd(Os,Ks){var ho,xo=8;for(ho=0;16>ho;++ho)xo+=Os[Ks+ho-32];nh(xo>>4,Os,Ks)}function Ju(Os,Ks){nh(128,Os,Ks)}function xl(Os,Ks,ho){return Os+2*Ks+ho+2>>2}function Ih(Os,Ks){var ho,xo=Ks-32;for(xo=new Uint8Array([xl(Os[xo-1],Os[xo+0],Os[xo+1]),xl(Os[xo+0],Os[xo+1],Os[xo+2]),xl(Os[xo+1],Os[xo+2],Os[xo+3]),xl(Os[xo+2],Os[xo+3],Os[xo+4])]),ho=0;4>ho;++ho)ts(Os,Ks+32*ho,xo,0,xo.length)}function gh(Os,Ks){var ho=Os[Ks-1],xo=Os[Ks-1+32],Mo=Os[Ks-1+64],Ro=Os[Ks-1+96];co(Os,Ks+0,16843009*xl(Os[Ks-1-32],ho,xo)),co(Os,Ks+32,16843009*xl(ho,xo,Mo)),co(Os,Ks+64,16843009*xl(xo,Mo,Ro)),co(Os,Ks+96,16843009*xl(Mo,Ro,Ro))}function Lu(Os,Ks){var ho,xo=4;for(ho=0;4>ho;++ho)xo+=Os[Ks+ho-32]+Os[Ks-1+32*ho];for(xo>>=3,ho=0;4>ho;++ho)rs(Os,Ks+32*ho,xo,4)}function LA(Os,Ks){var ho=Os[Ks-1+0],xo=Os[Ks-1+32],Mo=Os[Ks-1+64],Ro=Os[Ks-1-32],$o=Os[Ks+0-32],zo=Os[Ks+1-32],Ko=Os[Ks+2-32],ia=Os[Ks+3-32];Os[Ks+0+96]=xl(xo,Mo,Os[Ks-1+96]),Os[Ks+1+96]=Os[Ks+0+64]=xl(ho,xo,Mo),Os[Ks+2+96]=Os[Ks+1+64]=Os[Ks+0+32]=xl(Ro,ho,xo),Os[Ks+3+96]=Os[Ks+2+64]=Os[Ks+1+32]=Os[Ks+0+0]=xl($o,Ro,ho),Os[Ks+3+64]=Os[Ks+2+32]=Os[Ks+1+0]=xl(zo,$o,Ro),Os[Ks+3+32]=Os[Ks+2+0]=xl(Ko,zo,$o),Os[Ks+3+0]=xl(ia,Ko,zo)}function FA(Os,Ks){var ho=Os[Ks+1-32],xo=Os[Ks+2-32],Mo=Os[Ks+3-32],Ro=Os[Ks+4-32],$o=Os[Ks+5-32],zo=Os[Ks+6-32],Ko=Os[Ks+7-32];Os[Ks+0+0]=xl(Os[Ks+0-32],ho,xo),Os[Ks+1+0]=Os[Ks+0+32]=xl(ho,xo,Mo),Os[Ks+2+0]=Os[Ks+1+32]=Os[Ks+0+64]=xl(xo,Mo,Ro),Os[Ks+3+0]=Os[Ks+2+32]=Os[Ks+1+64]=Os[Ks+0+96]=xl(Mo,Ro,$o),Os[Ks+3+32]=Os[Ks+2+64]=Os[Ks+1+96]=xl(Ro,$o,zo),Os[Ks+3+64]=Os[Ks+2+96]=xl($o,zo,Ko),Os[Ks+3+96]=xl(zo,Ko,Ko)}function pA(Os,Ks){var ho=Os[Ks-1+0],xo=Os[Ks-1+32],Mo=Os[Ks-1+64],Ro=Os[Ks-1-32],$o=Os[Ks+0-32],zo=Os[Ks+1-32],Ko=Os[Ks+2-32],ia=Os[Ks+3-32];Os[Ks+0+0]=Os[Ks+1+64]=Ro+$o+1>>1,Os[Ks+1+0]=Os[Ks+2+64]=$o+zo+1>>1,Os[Ks+2+0]=Os[Ks+3+64]=zo+Ko+1>>1,Os[Ks+3+0]=Ko+ia+1>>1,Os[Ks+0+96]=xl(Mo,xo,ho),Os[Ks+0+64]=xl(xo,ho,Ro),Os[Ks+0+32]=Os[Ks+1+96]=xl(ho,Ro,$o),Os[Ks+1+32]=Os[Ks+2+96]=xl(Ro,$o,zo),Os[Ks+2+32]=Os[Ks+3+96]=xl($o,zo,Ko),Os[Ks+3+32]=xl(zo,Ko,ia)}function Vh(Os,Ks){var ho=Os[Ks+0-32],xo=Os[Ks+1-32],Mo=Os[Ks+2-32],Ro=Os[Ks+3-32],$o=Os[Ks+4-32],zo=Os[Ks+5-32],Ko=Os[Ks+6-32],ia=Os[Ks+7-32];Os[Ks+0+0]=ho+xo+1>>1,Os[Ks+1+0]=Os[Ks+0+64]=xo+Mo+1>>1,Os[Ks+2+0]=Os[Ks+1+64]=Mo+Ro+1>>1,Os[Ks+3+0]=Os[Ks+2+64]=Ro+$o+1>>1,Os[Ks+0+32]=xl(ho,xo,Mo),Os[Ks+1+32]=Os[Ks+0+96]=xl(xo,Mo,Ro),Os[Ks+2+32]=Os[Ks+1+96]=xl(Mo,Ro,$o),Os[Ks+3+32]=Os[Ks+2+96]=xl(Ro,$o,zo),Os[Ks+3+64]=xl($o,zo,Ko),Os[Ks+3+96]=xl(zo,Ko,ia)}function xd(Os,Ks){var ho=Os[Ks-1+0],xo=Os[Ks-1+32],Mo=Os[Ks-1+64],Ro=Os[Ks-1+96];Os[Ks+0+0]=ho+xo+1>>1,Os[Ks+2+0]=Os[Ks+0+32]=xo+Mo+1>>1,Os[Ks+2+32]=Os[Ks+0+64]=Mo+Ro+1>>1,Os[Ks+1+0]=xl(ho,xo,Mo),Os[Ks+3+0]=Os[Ks+1+32]=xl(xo,Mo,Ro),Os[Ks+3+32]=Os[Ks+1+64]=xl(Mo,Ro,Ro),Os[Ks+3+64]=Os[Ks+2+64]=Os[Ks+0+96]=Os[Ks+1+96]=Os[Ks+2+96]=Os[Ks+3+96]=Ro}function rA(Os,Ks){var ho=Os[Ks-1+0],xo=Os[Ks-1+32],Mo=Os[Ks-1+64],Ro=Os[Ks-1+96],$o=Os[Ks-1-32],zo=Os[Ks+0-32],Ko=Os[Ks+1-32],ia=Os[Ks+2-32];Os[Ks+0+0]=Os[Ks+2+32]=ho+$o+1>>1,Os[Ks+0+32]=Os[Ks+2+64]=xo+ho+1>>1,Os[Ks+0+64]=Os[Ks+2+96]=Mo+xo+1>>1,Os[Ks+0+96]=Ro+Mo+1>>1,Os[Ks+3+0]=xl(zo,Ko,ia),Os[Ks+2+0]=xl($o,zo,Ko),Os[Ks+1+0]=Os[Ks+3+32]=xl(ho,$o,zo),Os[Ks+1+32]=Os[Ks+3+64]=xl(xo,ho,$o),Os[Ks+1+64]=Os[Ks+3+96]=xl(Mo,xo,ho),Os[Ks+1+96]=xl(Ro,Mo,xo)}function Of(Os,Ks){var ho;for(ho=0;8>ho;++ho)ts(Os,Ks+32*ho,Os,Ks-32,8)}function zc(Os,Ks){var ho;for(ho=0;8>ho;++ho)rs(Os,Ks,Os[Ks-1],8),Ks+=32}function Rc(Os,Ks,ho){var xo;for(xo=0;8>xo;++xo)rs(Ks,ho+32*xo,Os,8)}function Sd(Os,Ks){var ho,xo=8;for(ho=0;8>ho;++ho)xo+=Os[Ks+ho-32]+Os[Ks-1+32*ho];Rc(xo>>4,Os,Ks)}function IA(Os,Ks){var ho,xo=4;for(ho=0;8>ho;++ho)xo+=Os[Ks+ho-32];Rc(xo>>3,Os,Ks)}function Vd(Os,Ks){var ho,xo=4;for(ho=0;8>ho;++ho)xo+=Os[Ks-1+32*ho];Rc(xo>>3,Os,Ks)}function gA(Os,Ks){Rc(128,Os,Ks)}function kA(Os,Ks,ho){var xo=Os[Ks-ho],Mo=Os[Ks+0],Ro=3*(Mo-xo)+aA[1020+Os[Ks-2*ho]-Os[Ks+ho]],$o=$f[112+(Ro+4>>3)];Os[Ks-ho]=od[255+xo+$f[112+(Ro+3>>3)]],Os[Ks+0]=od[255+Mo-$o]}function sa(Os,Ks,ho,xo){var Mo=Os[Ks+0],Ro=Os[Ks+ho];return Rh[255+Os[Ks-2*ho]-Os[Ks-ho]]>xo||Rh[255+Ro-Mo]>xo}function Aa(Os,Ks,ho,xo){return 4*Rh[255+Os[Ks-ho]-Os[Ks+0]]+Rh[255+Os[Ks-2*ho]-Os[Ks+ho]]<=xo}function Ra(Os,Ks,ho,xo,Mo){var Ro=Os[Ks-3*ho],$o=Os[Ks-2*ho],zo=Os[Ks-ho],Ko=Os[Ks+0],ia=Os[Ks+ho],fa=Os[Ks+2*ho],Pa=Os[Ks+3*ho];return 4*Rh[255+zo-Ko]+Rh[255+$o-ia]>xo?0:Rh[255+Os[Ks-4*ho]-Ro]<=Mo&&Rh[255+Ro-$o]<=Mo&&Rh[255+$o-zo]<=Mo&&Rh[255+Pa-fa]<=Mo&&Rh[255+fa-ia]<=Mo&&Rh[255+ia-Ko]<=Mo}function ll(Os,Ks,ho,xo){var Mo=2*xo+1;for(xo=0;16>xo;++xo)Aa(Os,Ks+xo,ho,Mo)&&kA(Os,Ks+xo,ho)}function tc(Os,Ks,ho,xo){var Mo=2*xo+1;for(xo=0;16>xo;++xo)Aa(Os,Ks+xo*ho,1,Mo)&&kA(Os,Ks+xo*ho,1)}function fc(Os,Ks,ho,xo){var Mo;for(Mo=3;0<Mo;--Mo)ll(Os,Ks+=4*ho,ho,xo)}function Jc(Os,Ks,ho,xo){var Mo;for(Mo=3;0<Mo;--Mo)tc(Os,Ks+=4,ho,xo)}function pc(Os,Ks,ho,xo,Mo,Ro,$o,zo){for(Ro=2*Ro+1;0<Mo--;){if(Ra(Os,Ks,ho,Ro,$o))if(sa(Os,Ks,ho,zo))kA(Os,Ks,ho);else{var Ko=Os,ia=Ks,fa=ho,Pa=Ko[ia-2*fa],Ma=Ko[ia-fa],pa=Ko[ia+0],Ga=Ko[ia+fa],Ha=Ko[ia+2*fa],da=27*(Ka=aA[1020+3*(pa-Ma)+aA[1020+Pa-Ga]])+63>>7,wa=18*Ka+63>>7,Ka=9*Ka+63>>7;Ko[ia-3*fa]=od[255+Ko[ia-3*fa]+Ka],Ko[ia-2*fa]=od[255+Pa+wa],Ko[ia-fa]=od[255+Ma+da],Ko[ia+0]=od[255+pa-da],Ko[ia+fa]=od[255+Ga-wa],Ko[ia+2*fa]=od[255+Ha-Ka]}Ks+=xo}}function $l(Os,Ks,ho,xo,Mo,Ro,$o,zo){for(Ro=2*Ro+1;0<Mo--;){if(Ra(Os,Ks,ho,Ro,$o))if(sa(Os,Ks,ho,zo))kA(Os,Ks,ho);else{var Ko=Os,ia=Ks,fa=ho,Pa=Ko[ia-fa],Ma=Ko[ia+0],pa=Ko[ia+fa],Ga=$f[112+((Ha=3*(Ma-Pa))+4>>3)],Ha=$f[112+(Ha+3>>3)],da=Ga+1>>1;Ko[ia-2*fa]=od[255+Ko[ia-2*fa]+da],Ko[ia-fa]=od[255+Pa+Ha],Ko[ia+0]=od[255+Ma-Ga],Ko[ia+fa]=od[255+pa-da]}Ks+=xo}}function qu(Os,Ks,ho,xo,Mo,Ro){pc(Os,Ks,ho,1,16,xo,Mo,Ro)}function Zc(Os,Ks,ho,xo,Mo,Ro){pc(Os,Ks,1,ho,16,xo,Mo,Ro)}function Pd(Os,Ks,ho,xo,Mo,Ro){var $o;for($o=3;0<$o;--$o)$l(Os,Ks+=4*ho,ho,1,16,xo,Mo,Ro)}function mh(Os,Ks,ho,xo,Mo,Ro){var $o;for($o=3;0<$o;--$o)$l(Os,Ks+=4,1,ho,16,xo,Mo,Ro)}function Zh(Os,Ks,ho,xo,Mo,Ro,$o,zo){pc(Os,Ks,Mo,1,8,Ro,$o,zo),pc(ho,xo,Mo,1,8,Ro,$o,zo)}function iA(Os,Ks,ho,xo,Mo,Ro,$o,zo){pc(Os,Ks,1,Mo,8,Ro,$o,zo),pc(ho,xo,1,Mo,8,Ro,$o,zo)}function Wh(Os,Ks,ho,xo,Mo,Ro,$o,zo){$l(Os,Ks+4*Mo,Mo,1,8,Ro,$o,zo),$l(ho,xo+4*Mo,Mo,1,8,Ro,$o,zo)}function Lp(Os,Ks,ho,xo,Mo,Ro,$o,zo){$l(Os,Ks+4,1,Mo,8,Ro,$o,zo),$l(ho,xo+4,1,Mo,8,Ro,$o,zo)}function zh(){this.ba=new kl,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ua,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Nf(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function gf(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function nA(){this.ua=0,this.Wa=new yo,this.vb=new yo,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ws,this.yc=new Is}function Rf(){this.xb=this.a=0,this.l=new ih,this.ca=new kl,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new js,this.Pb=0,this.wd=new js,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new nA,this.ab=0,this.gc=ns(4,gf),this.Oc=0}function YA(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ih,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function uu(Os,Ks,ho,xo,Mo,Ro,$o){for(Os=Os==null?0:Os[Ks+0],Ks=0;Ks<$o;++Ks)Mo[Ro+Ks]=Os+ho[xo+Ks]&255,Os=Mo[Ro+Ks]}function Md(Os,Ks,ho,xo,Mo,Ro,$o){var zo;if(Os==null)uu(null,null,ho,xo,Mo,Ro,$o);else for(zo=0;zo<$o;++zo)Mo[Ro+zo]=Os[Ks+zo]+ho[xo+zo]&255}function mA(Os,Ks,ho,xo,Mo,Ro,$o){if(Os==null)uu(null,null,ho,xo,Mo,Ro,$o);else{var zo,Ko=Os[Ks+0],ia=Ko,fa=Ko;for(zo=0;zo<$o;++zo)ia=fa+(Ko=Os[Ks+zo])-ia,fa=ho[xo+zo]+(-256&ia?0>ia?0:255:ia)&255,ia=Ko,Mo[Ro+zo]=fa}}function Uf(Os,Ks,ho,xo){var Mo=Ks.width,Ro=Ks.o;if(ki(Os!=null&&Ks!=null),0>ho||0>=xo||ho+xo>Ro)return null;if(!Os.Cc){if(Os.ga==null){var $o;if(Os.ga=new YA,($o=Os.ga==null)||($o=Ks.width*Ks.o,ki(Os.Gb.length==0),Os.Gb=is($o),Os.Uc=0,Os.Gb==null?$o=0:(Os.mb=Os.Gb,Os.nb=Os.Uc,Os.rc=null,$o=1),$o=!$o),!$o){$o=Os.ga;var zo=Os.Fa,Ko=Os.P,ia=Os.qc,fa=Os.mb,Pa=Os.nb,Ma=Ko+1,pa=ia-1,Ga=$o.l;if(ki(zo!=null&&fa!=null&&Ks!=null),Rd[0]=null,Rd[1]=uu,Rd[2]=Md,Rd[3]=mA,$o.ca=fa,$o.tb=Pa,$o.c=Ks.width,$o.i=Ks.height,ki(0<$o.c&&0<$o.i),1>=ia)Ks=0;else if($o.$a=zo[Ko+0]>>0&3,$o.Z=zo[Ko+0]>>2&3,$o.Lc=zo[Ko+0]>>4&3,Ko=zo[Ko+0]>>6&3,0>$o.$a||1<$o.$a||4<=$o.Z||1<$o.Lc||Ko)Ks=0;else if(Ga.put=$c,Ga.ac=El,Ga.bc=ou,Ga.ma=$o,Ga.width=Ks.width,Ga.height=Ks.height,Ga.Da=Ks.Da,Ga.v=Ks.v,Ga.va=Ks.va,Ga.j=Ks.j,Ga.o=Ks.o,$o.$a)e:{ki($o.$a==1),Ks=ca();t:for(;;){if(Ks==null){Ks=0;break e}if(ki($o!=null),$o.mc=Ks,Ks.c=$o.c,Ks.i=$o.i,Ks.l=$o.l,Ks.l.ma=$o,Ks.l.width=$o.c,Ks.l.height=$o.i,Ks.a=0,Ss(Ks.m,zo,Ma,pa),!gl($o.c,$o.i,1,Ks,null)||(Ks.ab==1&&Ks.gc[0].hc==3&&dh(Ks.s)?($o.ic=1,zo=Ks.c*Ks.i,Ks.Ta=null,Ks.Ua=0,Ks.V=is(zo),Ks.Ba=0,Ks.V==null?(Ks.a=1,Ks=0):Ks=1):($o.ic=0,Ks=cl(Ks,$o.c)),!Ks))break t;Ks=1;break e}$o.mc=null,Ks=0}else Ks=pa>=$o.c*$o.i;$o=!Ks}if($o)return null;Os.ga.Lc!=1?Os.Ga=0:xo=Ro-ho}ki(Os.ga!=null),ki(ho+xo<=Ro);e:{if(Ks=(zo=Os.ga).c,Ro=zo.l.o,zo.$a==0){if(Ma=Os.rc,pa=Os.Vc,Ga=Os.Fa,Ko=Os.P+1+ho*Ks,ia=Os.mb,fa=Os.nb+ho*Ks,ki(Ko<=Os.P+Os.qc),zo.Z!=0)for(ki(Rd[zo.Z]!=null),$o=0;$o<xo;++$o)Rd[zo.Z](Ma,pa,Ga,Ko,ia,fa,Ks),Ma=ia,pa=fa,fa+=Ks,Ko+=Ks;else for($o=0;$o<xo;++$o)ts(ia,fa,Ga,Ko,Ks),Ma=ia,pa=fa,fa+=Ks,Ko+=Ks;Os.rc=Ma,Os.Vc=pa}else{if(ki(zo.mc!=null),Ks=ho+xo,ki(($o=zo.mc)!=null),ki(Ks<=$o.i),$o.C>=Ks)Ks=1;else if(zo.ic||La(),zo.ic){zo=$o.V,Ma=$o.Ba,pa=$o.c;var Ha=$o.i,da=(Ga=1,Ko=$o.$/pa,ia=$o.$%pa,fa=$o.m,Pa=$o.s,$o.$),wa=pa*Ha,Ka=pa*Ks,el=Pa.wc,qa=da<Ka?Yc(Pa,ia,Ko):null;ki(da<=wa),ki(Ks<=Ha),ki(dh(Pa));t:for(;;){for(;!fa.h&&da<Ka;){if(ia&el||(qa=Yc(Pa,ia,Ko)),ki(qa!=null),oo(fa),256>(Ha=kc(qa.G[0],qa.H[0],fa)))zo[Ma+da]=Ha,++da,++ia>=pa&&(ia=0,++Ko<=Ks&&!(Ko%16)&&Ah($o,Ko));else{if(!(280>Ha)){Ga=0;break t}Ha=dc(Ha-256,fa);var bl,hl=kc(qa.G[4],qa.H[4],fa);if(oo(fa),!(da>=(hl=_u(pa,hl=dc(hl,fa)))&&wa-da>=Ha)){Ga=0;break t}for(bl=0;bl<Ha;++bl)zo[Ma+da+bl]=zo[Ma+da+bl-hl];for(da+=Ha,ia+=Ha;ia>=pa;)ia-=pa,++Ko<=Ks&&!(Ko%16)&&Ah($o,Ko);da<Ka&&ia&el&&(qa=Yc(Pa,ia,Ko))}ki(fa.h==zs(fa))}Ah($o,Ko>Ks?Ks:Ko);break t}!Ga||fa.h&&da<wa?(Ga=0,$o.a=fa.h?5:3):$o.$=da,Ks=Ga}else Ks=Wu($o,$o.V,$o.Ba,$o.c,$o.i,Ks,Zl);if(!Ks){xo=0;break e}}ho+xo>=Ro&&(Os.Cc=1),xo=1}if(!xo)return null;if(Os.Cc&&((xo=Os.ga)!=null&&(xo.mc=null),Os.ga=null,0<Os.Ga))return alert("todo:WebPDequantizeLevels"),null}return Os.nb+ho*Mo}function no(Os,Ks,ho,xo,Mo,Ro){for(;0<Mo--;){var $o,zo=Os,Ko=Ks+(ho?1:0),ia=Os,fa=Ks+(ho?0:3);for($o=0;$o<xo;++$o){var Pa=ia[fa+4*$o];Pa!=255&&(Pa*=32897,zo[Ko+4*$o+0]=zo[Ko+4*$o+0]*Pa>>23,zo[Ko+4*$o+1]=zo[Ko+4*$o+1]*Pa>>23,zo[Ko+4*$o+2]=zo[Ko+4*$o+2]*Pa>>23)}Ks+=Ro}}function No(Os,Ks,ho,xo,Mo){for(;0<xo--;){var Ro;for(Ro=0;Ro<ho;++Ro){var $o=Os[Ks+2*Ro+0],zo=15&(ia=Os[Ks+2*Ro+1]),Ko=4369*zo,ia=(240&ia|ia>>4)*Ko>>16;Os[Ks+2*Ro+0]=(240&$o|$o>>4)*Ko>>16&240|(15&$o|$o<<4)*Ko>>16>>4&15,Os[Ks+2*Ro+1]=240&ia|zo}Ks+=Mo}}function oa(Os,Ks,ho,xo,Mo,Ro,$o,zo){var Ko,ia,fa=255;for(ia=0;ia<Mo;++ia){for(Ko=0;Ko<xo;++Ko){var Pa=Os[Ks+Ko];Ro[$o+4*Ko]=Pa,fa&=Pa}Ks+=ho,$o+=zo}return fa!=255}function ha(Os,Ks,ho,xo,Mo){var Ro;for(Ro=0;Ro<Mo;++Ro)ho[xo+Ro]=Os[Ks+Ro]>>8}function La(){sd=no,Mc=No,qc=oa,Uc=ha}function $a(Os,Ks,ho){Rs[Os]=function(xo,Mo,Ro,$o,zo,Ko,ia,fa,Pa,Ma,pa,Ga,Ha,da,wa,Ka,el){var qa,bl=el-1>>1,hl=zo[Ko+0]|ia[fa+0]<<16,Ol=Pa[Ma+0]|pa[Ga+0]<<16;ki(xo!=null);var vl=3*hl+Ol+131074>>2;for(Ks(xo[Mo+0],255&vl,vl>>16,Ha,da),Ro!=null&&(vl=3*Ol+hl+131074>>2,Ks(Ro[$o+0],255&vl,vl>>16,wa,Ka)),qa=1;qa<=bl;++qa){var Gc=zo[Ko+qa]|ia[fa+qa]<<16,iu=Pa[Ma+qa]|pa[Ga+qa]<<16,rl=hl+Gc+Ol+iu+524296,sc=rl+2*(Gc+Ol)>>3;vl=sc+hl>>1,hl=(rl=rl+2*(hl+iu)>>3)+Gc>>1,Ks(xo[Mo+2*qa-1],255&vl,vl>>16,Ha,da+(2*qa-1)*ho),Ks(xo[Mo+2*qa-0],255&hl,hl>>16,Ha,da+(2*qa-0)*ho),Ro!=null&&(vl=rl+Ol>>1,hl=sc+iu>>1,Ks(Ro[$o+2*qa-1],255&vl,vl>>16,wa,Ka+(2*qa-1)*ho),Ks(Ro[$o+2*qa+0],255&hl,hl>>16,wa,Ka+(2*qa+0)*ho)),hl=Gc,Ol=iu}1&el||(vl=3*hl+Ol+131074>>2,Ks(xo[Mo+el-1],255&vl,vl>>16,Ha,da+(el-1)*ho),Ro!=null&&(vl=3*Ol+hl+131074>>2,Ks(Ro[$o+el-1],255&vl,vl>>16,wa,Ka+(el-1)*ho)))}}function za(){Ud[np]=qo,Ud[bA]=lh,Ud[Fd]=ZA,Ud[OA]=ru,Ud[Qf]=Kl,Ud[lA]=yh,Ud[sp]=lp,Ud[yf]=lh,Ud[NA]=ru,Ud[Vf]=Kl,Ud[Wf]=yh}function Tl(Os){return Os&~Yp?0>Os?0:255:Os>>xg}function Ql(Os,Ks){return Tl((19077*Os>>8)+(26149*Ks>>8)-14234)}function Xl(Os,Ks,ho){return Tl((19077*Os>>8)-(6419*Ks>>8)-(13320*ho>>8)+8708)}function rc(Os,Ks){return Tl((19077*Os>>8)+(33050*Ks>>8)-17685)}function Bc(Os,Ks,ho,xo,Mo){xo[Mo+0]=Ql(Os,ho),xo[Mo+1]=Xl(Os,Ks,ho),xo[Mo+2]=rc(Os,Ks)}function bu(Os,Ks,ho,xo,Mo){xo[Mo+0]=rc(Os,Ks),xo[Mo+1]=Xl(Os,Ks,ho),xo[Mo+2]=Ql(Os,ho)}function fu(Os,Ks,ho,xo,Mo){var Ro=Xl(Os,Ks,ho);Ks=Ro<<3&224|rc(Os,Ks)>>3,xo[Mo+0]=248&Ql(Os,ho)|Ro>>5,xo[Mo+1]=Ks}function Jl(Os,Ks,ho,xo,Mo){var Ro=240&rc(Os,Ks)|15;xo[Mo+0]=240&Ql(Os,ho)|Xl(Os,Ks,ho)>>4,xo[Mo+1]=Ro}function kh(Os,Ks,ho,xo,Mo){xo[Mo+0]=255,Bc(Os,Ks,ho,xo,Mo+1)}function vh(Os,Ks,ho,xo,Mo){bu(Os,Ks,ho,xo,Mo),xo[Mo+3]=255}function Td(Os,Ks,ho,xo,Mo){Bc(Os,Ks,ho,xo,Mo),xo[Mo+3]=255}function eu(Os,Ks){return 0>Os?0:Os>Ks?Ks:Os}function sh(Os,Ks,ho){Rs[Os]=function(xo,Mo,Ro,$o,zo,Ko,ia,fa,Pa){for(var Ma=fa+(-2&Pa)*ho;fa!=Ma;)Ks(xo[Mo+0],Ro[$o+0],zo[Ko+0],ia,fa),Ks(xo[Mo+1],Ro[$o+0],zo[Ko+0],ia,fa+ho),Mo+=2,++$o,++Ko,fa+=2*ho;1&Pa&&Ks(xo[Mo+0],Ro[$o+0],zo[Ko+0],ia,fa)}}function Wd(Os,Ks,ho){return ho==0?Os==0?Ks==0?6:5:Ks==0?4:0:ho}function oh(Os,Ks,ho,xo,Mo){switch(Os>>>30){case 3:Qa(Ks,ho,xo,Mo,0);break;case 2:Fa(Ks,ho,xo,Mo);break;case 1:Nl(Ks,ho,xo,Mo)}}function wu(Os,Ks){var ho,xo,Mo=Ks.M,Ro=Ks.Nb,$o=Os.oc,zo=Os.pc+40,Ko=Os.oc,ia=Os.pc+584,fa=Os.oc,Pa=Os.pc+600;for(ho=0;16>ho;++ho)$o[zo+32*ho-1]=129;for(ho=0;8>ho;++ho)Ko[ia+32*ho-1]=129,fa[Pa+32*ho-1]=129;for(0<Mo?$o[zo-1-32]=Ko[ia-1-32]=fa[Pa-1-32]=129:(rs($o,zo-32-1,127,21),rs(Ko,ia-32-1,127,9),rs(fa,Pa-32-1,127,9)),xo=0;xo<Os.za;++xo){var Ma=Ks.ya[Ks.aa+xo];if(0<xo){for(ho=-1;16>ho;++ho)ts($o,zo+32*ho-4,$o,zo+32*ho+12,4);for(ho=-1;8>ho;++ho)ts(Ko,ia+32*ho-4,Ko,ia+32*ho+4,4),ts(fa,Pa+32*ho-4,fa,Pa+32*ho+4,4)}var pa=Os.Gd,Ga=Os.Hd+xo,Ha=Ma.ad,da=Ma.Hc;if(0<Mo&&(ts($o,zo-32,pa[Ga].y,0,16),ts(Ko,ia-32,pa[Ga].f,0,8),ts(fa,Pa-32,pa[Ga].ea,0,8)),Ma.Za){var wa=$o,Ka=zo-32+16;for(0<Mo&&(xo>=Os.za-1?rs(wa,Ka,pa[Ga].y[15],4):ts(wa,Ka,pa[Ga+1].y,0,4)),ho=0;4>ho;ho++)wa[Ka+128+ho]=wa[Ka+256+ho]=wa[Ka+384+ho]=wa[Ka+0+ho];for(ho=0;16>ho;++ho,da<<=2)wa=$o,Ka=zo+qd[ho],Kh[Ma.Ob[ho]](wa,Ka),oh(da,Ha,16*+ho,wa,Ka)}else if(wa=Wd(xo,Mo,Ma.Ob[0]),JA[wa]($o,zo),da!=0)for(ho=0;16>ho;++ho,da<<=2)oh(da,Ha,16*+ho,$o,zo+qd[ho]);for(ho=Ma.Gc,wa=Wd(xo,Mo,Ma.Dd),Uh[wa](Ko,ia),Uh[wa](fa,Pa),da=Ha,wa=Ko,Ka=ia,255&(Ma=ho>>0)&&(170&Ma?yl(da,256,wa,Ka):ac(da,256,wa,Ka)),Ma=fa,da=Pa,255&(ho>>=8)&&(170&ho?yl(Ha,320,Ma,da):ac(Ha,320,Ma,da)),Mo<Os.Ub-1&&(ts(pa[Ga].y,0,$o,zo+480,16),ts(pa[Ga].f,0,Ko,ia+224,8),ts(pa[Ga].ea,0,fa,Pa+224,8)),ho=8*Ro*Os.B,pa=Os.sa,Ga=Os.ta+16*xo+16*Ro*Os.R,Ha=Os.qa,Ma=Os.ra+8*xo+ho,da=Os.Ha,wa=Os.Ia+8*xo+ho,ho=0;16>ho;++ho)ts(pa,Ga+ho*Os.R,$o,zo+32*ho,16);for(ho=0;8>ho;++ho)ts(Ha,Ma+ho*Os.B,Ko,ia+32*ho,8),ts(da,wa+ho*Os.B,fa,Pa+32*ho,8)}}function DA(Os,Ks,ho,xo,Mo,Ro,$o,zo,Ko){var ia=[0],fa=[0],Pa=0,Ma=Ko!=null?Ko.kd:0,pa=Ko??new Nf;if(Os==null||12>ho)return 7;pa.data=Os,pa.w=Ks,pa.ha=ho,Ks=[Ks],ho=[ho],pa.gb=[pa.gb];e:{var Ga=Ks,Ha=ho,da=pa.gb;if(ki(Os!=null),ki(Ha!=null),ki(da!=null),da[0]=0,12<=Ha[0]&&!Ri(Os,Ga[0],"RIFF")){if(Ri(Os,Ga[0]+8,"WEBP")){da=3;break e}var wa=vo(Os,Ga[0]+4);if(12>wa||4294967286<wa){da=3;break e}if(Ma&&wa>Ha[0]-8){da=7;break e}da[0]=wa,Ga[0]+=12,Ha[0]-=12}da=0}if(da!=0)return da;for(wa=0<pa.gb[0],ho=ho[0];;){e:{var Ka=Os;Ha=Ks,da=ho;var el=ia,qa=fa,bl=Ga=[0];if((vl=Pa=[Pa])[0]=0,8>da[0])da=7;else{if(!Ri(Ka,Ha[0],"VP8X")){if(vo(Ka,Ha[0]+4)!=10){da=3;break e}if(18>da[0]){da=7;break e}var hl=vo(Ka,Ha[0]+8),Ol=1+ro(Ka,Ha[0]+12);if(2147483648<=Ol*(Ka=1+ro(Ka,Ha[0]+15))){da=3;break e}bl!=null&&(bl[0]=hl),el!=null&&(el[0]=Ol),qa!=null&&(qa[0]=Ka),Ha[0]+=18,da[0]-=18,vl[0]=1}da=0}}if(Pa=Pa[0],Ga=Ga[0],da!=0)return da;if(Ha=!!(2&Ga),!wa&&Pa)return 3;if(Ro!=null&&(Ro[0]=!!(16&Ga)),$o!=null&&($o[0]=Ha),zo!=null&&(zo[0]=0),$o=ia[0],Ga=fa[0],Pa&&Ha&&Ko==null){da=0;break}if(4>ho){da=7;break}if(wa&&Pa||!wa&&!Pa&&!Ri(Os,Ks[0],"ALPH")){ho=[ho],pa.na=[pa.na],pa.P=[pa.P],pa.Sa=[pa.Sa];e:{hl=Os,da=Ks,wa=ho;var vl=pa.gb;el=pa.na,qa=pa.P,bl=pa.Sa,Ol=22,ki(hl!=null),ki(wa!=null),Ka=da[0];var Gc=wa[0];for(ki(el!=null),ki(bl!=null),el[0]=null,qa[0]=null,bl[0]=0;;){if(da[0]=Ka,wa[0]=Gc,8>Gc){da=7;break e}var iu=vo(hl,Ka+4);if(4294967286<iu){da=3;break e}var rl=8+iu+1&-2;if(Ol+=rl,0<vl&&Ol>vl){da=3;break e}if(!Ri(hl,Ka,"VP8 ")||!Ri(hl,Ka,"VP8L")){da=0;break e}if(Gc[0]<rl){da=7;break e}Ri(hl,Ka,"ALPH")||(el[0]=hl,qa[0]=Ka+8,bl[0]=iu),Ka+=rl,Gc-=rl}}if(ho=ho[0],pa.na=pa.na[0],pa.P=pa.P[0],pa.Sa=pa.Sa[0],da!=0)break}ho=[ho],pa.Ja=[pa.Ja],pa.xa=[pa.xa];e:if(vl=Os,da=Ks,wa=ho,el=pa.gb[0],qa=pa.Ja,bl=pa.xa,hl=da[0],Ka=!Ri(vl,hl,"VP8 "),Ol=!Ri(vl,hl,"VP8L"),ki(vl!=null),ki(wa!=null),ki(qa!=null),ki(bl!=null),8>wa[0])da=7;else{if(Ka||Ol){if(vl=vo(vl,hl+4),12<=el&&vl>el-12){da=3;break e}if(Ma&&vl>wa[0]-8){da=7;break e}qa[0]=vl,da[0]+=8,wa[0]-=8,bl[0]=Ol}else bl[0]=5<=wa[0]&&vl[hl+0]==47&&!(vl[hl+4]>>5),qa[0]=wa[0];da=0}if(ho=ho[0],pa.Ja=pa.Ja[0],pa.xa=pa.xa[0],Ks=Ks[0],da!=0)break;if(4294967286<pa.Ja)return 3;if(zo==null||Ha||(zo[0]=pa.xa?2:1),$o=[$o],Ga=[Ga],pa.xa){if(5>ho){da=7;break}zo=$o,Ma=Ga,Ha=Ro,Os==null||5>ho?Os=0:5<=ho&&Os[Ks+0]==47&&!(Os[Ks+4]>>5)?(wa=[0],vl=[0],el=[0],Ss(qa=new js,Os,Ks,ho),wl(qa,wa,vl,el)?(zo!=null&&(zo[0]=wa[0]),Ma!=null&&(Ma[0]=vl[0]),Ha!=null&&(Ha[0]=el[0]),Os=1):Os=0):Os=0}else{if(10>ho){da=7;break}zo=Ga,Os==null||10>ho||!Xa(Os,Ks+3,ho-3)?Os=0:(Ma=Os[Ks+0]|Os[Ks+1]<<8|Os[Ks+2]<<16,Ha=16383&(Os[Ks+7]<<8|Os[Ks+6]),Os=16383&(Os[Ks+9]<<8|Os[Ks+8]),1&Ma||3<(Ma>>1&7)||!(Ma>>4&1)||Ma>>5>=pa.Ja||!Ha||!Os?Os=0:($o&&($o[0]=Ha),zo&&(zo[0]=Os),Os=1))}if(!Os||($o=$o[0],Ga=Ga[0],Pa&&(ia[0]!=$o||fa[0]!=Ga)))return 3;Ko!=null&&(Ko[0]=pa,Ko.offset=Ks-Ko.w,ki(4294967286>Ks-Ko.w),ki(Ko.offset==Ko.ha-ho));break}return da==0||da==7&&Pa&&Ko==null?(Ro!=null&&(Ro[0]|=pa.na!=null&&0<pa.na.length),xo!=null&&(xo[0]=$o),Mo!=null&&(Mo[0]=Ga),0):da}function Zu(Os,Ks,ho){var xo=Ks.width,Mo=Ks.height,Ro=0,$o=0,zo=xo,Ko=Mo;if(Ks.Da=Os!=null&&0<Os.Da,Ks.Da&&(zo=Os.cd,Ko=Os.bd,Ro=Os.v,$o=Os.j,11>ho||(Ro&=-2,$o&=-2),0>Ro||0>$o||0>=zo||0>=Ko||Ro+zo>xo||$o+Ko>Mo))return 0;if(Ks.v=Ro,Ks.j=$o,Ks.va=Ro+zo,Ks.o=$o+Ko,Ks.U=zo,Ks.T=Ko,Ks.da=Os!=null&&0<Os.da,Ks.da){if(!Jo(zo,Ko,ho=[Os.ib],Ro=[Os.hb]))return 0;Ks.ib=ho[0],Ks.hb=Ro[0]}return Ks.ob=Os!=null&&Os.ob,Ks.Kb=Os==null||!Os.Sd,Ks.da&&(Ks.ob=Ks.ib<3*xo/4&&Ks.hb<3*Mo/4,Ks.Kb=0),1}function ed(Os){if(Os==null)return 2;if(11>Os.S){var Ks=Os.f.RGBA;Ks.fb+=(Os.height-1)*Ks.A,Ks.A=-Ks.A}else Ks=Os.f.kb,Os=Os.height,Ks.O+=(Os-1)*Ks.fa,Ks.fa=-Ks.fa,Ks.N+=(Os-1>>1)*Ks.Ab,Ks.Ab=-Ks.Ab,Ks.W+=(Os-1>>1)*Ks.Db,Ks.Db=-Ks.Db,Ks.F!=null&&(Ks.J+=(Os-1)*Ks.lb,Ks.lb=-Ks.lb);return 0}function wh(Os,Ks,ho,xo){if(xo==null||0>=Os||0>=Ks)return 2;if(ho!=null){if(ho.Da){var Mo=ho.cd,Ro=ho.bd,$o=-2&ho.v,zo=-2&ho.j;if(0>$o||0>zo||0>=Mo||0>=Ro||$o+Mo>Os||zo+Ro>Ks)return 2;Os=Mo,Ks=Ro}if(ho.da){if(!Jo(Os,Ks,Mo=[ho.ib],Ro=[ho.hb]))return 2;Os=Mo[0],Ks=Ro[0]}}xo.width=Os,xo.height=Ks;e:{var Ko=xo.width,ia=xo.height;if(Os=xo.S,0>=Ko||0>=ia||!(Os>=np&&13>Os))Os=2;else{if(0>=xo.Rd&&xo.sd==null){$o=Ro=Mo=Ks=0;var fa=(zo=Ko*up[Os])*ia;if(11>Os||(Ro=(ia+1)/2*(Ks=(Ko+1)/2),Os==12&&($o=(Mo=Ko)*ia)),(ia=is(fa+2*Ro+$o))==null){Os=1;break e}xo.sd=ia,11>Os?((Ko=xo.f.RGBA).eb=ia,Ko.fb=0,Ko.A=zo,Ko.size=fa):((Ko=xo.f.kb).y=ia,Ko.O=0,Ko.fa=zo,Ko.Fd=fa,Ko.f=ia,Ko.N=0+fa,Ko.Ab=Ks,Ko.Cd=Ro,Ko.ea=ia,Ko.W=0+fa+Ro,Ko.Db=Ks,Ko.Ed=Ro,Os==12&&(Ko.F=ia,Ko.J=0+fa+2*Ro),Ko.Tc=$o,Ko.lb=Mo)}if(Ks=1,Mo=xo.S,Ro=xo.width,$o=xo.height,Mo>=np&&13>Mo)if(11>Mo)Os=xo.f.RGBA,Ks&=(zo=Math.abs(Os.A))*($o-1)+Ro<=Os.size,Ks&=zo>=Ro*up[Mo],Ks&=Os.eb!=null;else{Os=xo.f.kb,zo=(Ro+1)/2,fa=($o+1)/2,Ko=Math.abs(Os.fa),ia=Math.abs(Os.Ab);var Pa=Math.abs(Os.Db),Ma=Math.abs(Os.lb),pa=Ma*($o-1)+Ro;Ks&=Ko*($o-1)+Ro<=Os.Fd,Ks&=ia*(fa-1)+zo<=Os.Cd,Ks=(Ks&=Pa*(fa-1)+zo<=Os.Ed)&Ko>=Ro&ia>=zo&Pa>=zo,Ks&=Os.y!=null,Ks&=Os.f!=null,Ks&=Os.ea!=null,Mo==12&&(Ks&=Ma>=Ro,Ks&=pa<=Os.Tc,Ks&=Os.F!=null)}else Ks=0;Os=Ks?0:2}}return Os!=0||ho!=null&&ho.fd&&(Os=ed(xo)),Os}var Gu=64,Dc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],XA=24,mf=32,PA=8,Dh=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ko("Predictor0","PredictorAdd0"),Rs.Predictor0=function(){return 4278190080},Rs.Predictor1=function(Os){return Os},Rs.Predictor2=function(Os,Ks,ho){return Ks[ho+0]},Rs.Predictor3=function(Os,Ks,ho){return Ks[ho+1]},Rs.Predictor4=function(Os,Ks,ho){return Ks[ho-1]},Rs.Predictor5=function(Os,Ks,ho){return jo(jo(Os,Ks[ho+1]),Ks[ho+0])},Rs.Predictor6=function(Os,Ks,ho){return jo(Os,Ks[ho-1])},Rs.Predictor7=function(Os,Ks,ho){return jo(Os,Ks[ho+0])},Rs.Predictor8=function(Os,Ks,ho){return jo(Ks[ho-1],Ks[ho+0])},Rs.Predictor9=function(Os,Ks,ho){return jo(Ks[ho+0],Ks[ho+1])},Rs.Predictor10=function(Os,Ks,ho){return jo(jo(Os,Ks[ho-1]),jo(Ks[ho+0],Ks[ho+1]))},Rs.Predictor11=function(Os,Ks,ho){var xo=Ks[ho+0];return 0>=_o(xo>>24&255,Os>>24&255,(Ks=Ks[ho-1])>>24&255)+_o(xo>>16&255,Os>>16&255,Ks>>16&255)+_o(xo>>8&255,Os>>8&255,Ks>>8&255)+_o(255&xo,255&Os,255&Ks)?xo:Os},Rs.Predictor12=function(Os,Ks,ho){var xo=Ks[ho+0];return(Bo((Os>>24&255)+(xo>>24&255)-((Ks=Ks[ho-1])>>24&255))<<24|Bo((Os>>16&255)+(xo>>16&255)-(Ks>>16&255))<<16|Bo((Os>>8&255)+(xo>>8&255)-(Ks>>8&255))<<8|Bo((255&Os)+(255&xo)-(255&Ks)))>>>0},Rs.Predictor13=function(Os,Ks,ho){var xo=Ks[ho-1];return(go((Os=jo(Os,Ks[ho+0]))>>24&255,xo>>24&255)<<24|go(Os>>16&255,xo>>16&255)<<16|go(Os>>8&255,xo>>8&255)<<8|go(Os>>0&255,xo>>0&255))>>>0};var Ph=Rs.PredictorAdd0;Rs.PredictorAdd1=To,ko("Predictor2","PredictorAdd2"),ko("Predictor3","PredictorAdd3"),ko("Predictor4","PredictorAdd4"),ko("Predictor5","PredictorAdd5"),ko("Predictor6","PredictorAdd6"),ko("Predictor7","PredictorAdd7"),ko("Predictor8","PredictorAdd8"),ko("Predictor9","PredictorAdd9"),ko("Predictor10","PredictorAdd10"),ko("Predictor11","PredictorAdd11"),ko("Predictor12","PredictorAdd12"),ko("Predictor13","PredictorAdd13");var Mh=Rs.PredictorAdd2;Fo("ColorIndexInverseTransform","MapARGB","32b",function(Os){return Os>>8&255},function(Os){return Os}),Fo("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(Os){return Os},function(Os){return Os>>8&255});var Hf,Ru=Rs.ColorIndexInverseTransform,Od=Rs.MapARGB,rd=Rs.VP8LColorIndexInverseTransformAlpha,tu=Rs.MapAlpha,qh=Rs.VP8LPredictorsAdd=[];qh.length=16,(Rs.VP8LPredictors=[]).length=16,(Rs.VP8LPredictorsAdd_C=[]).length=16,(Rs.VP8LPredictors_C=[]).length=16;var MA,Ch,Oh,vA,sA,ah,Ca,Qa,Fa,yl,Nl,ac,ku,Ec,yA,vf,Nh,Bd,Nd,Gh,nd,_d,Pc,Ld,sd,Mc,qc,Uc,pu=is(511),Eh=is(2041),gd=is(225),oA=is(767),jf=0,aA=Eh,$f=gd,od=oA,Rh=pu,np=0,bA=1,Fd=2,OA=3,Qf=4,lA=5,sp=6,yf=7,NA=8,Vf=9,Wf=10,Cg=[2,3,7],qp=[3,3,11],Fp=[280,256,256,256,40],Uu=[0,1,1,1,0],Ku=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Vg=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ip=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Gp=8,bf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],RA=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],md=null,wf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],zd=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],wA=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],CA=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],op=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Cf=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Eg=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],JA=[],Kh=[],Uh=[],Wg=1,ap=2,Rd=[],Ud=[];$a("UpsampleRgbLinePair",Bc,3),$a("UpsampleBgrLinePair",bu,3),$a("UpsampleRgbaLinePair",Td,4),$a("UpsampleBgraLinePair",vh,4),$a("UpsampleArgbLinePair",kh,4),$a("UpsampleRgba4444LinePair",Jl,2),$a("UpsampleRgb565LinePair",fu,2);var qo=Rs.UpsampleRgbLinePair,ZA=Rs.UpsampleBgrLinePair,lh=Rs.UpsampleRgbaLinePair,ru=Rs.UpsampleBgraLinePair,Kl=Rs.UpsampleArgbLinePair,yh=Rs.UpsampleRgba4444LinePair,lp=Rs.UpsampleRgb565LinePair,kp=16,Hd=1<<kp-1,ef=-227,Kp=482,xg=6,Yp=(256<<xg)-1,Xp=0,cA=is(256),zg=is(256),Jp=is(256),Zp=is(256),Sg=is(Kp-ef),Tg=is(Kp-ef);sh("YuvToRgbRow",Bc,3),sh("YuvToBgrRow",bu,3),sh("YuvToRgbaRow",Td,4),sh("YuvToBgraRow",vh,4),sh("YuvToArgbRow",kh,4),sh("YuvToRgba4444Row",Jl,2),sh("YuvToRgb565Row",fu,2);var qd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],cp=[0,2,8],zf=[8,7,6,4,4,2,2,2,1,1,1,1],qg=1;this.WebPDecodeRGBA=function(Os,Ks,ho,xo,Mo){var Ro=bA,$o=new zh,zo=new kl;$o.ba=zo,zo.S=Ro,zo.width=[zo.width],zo.height=[zo.height];var Ko=zo.width,ia=zo.height,fa=new Ja;if(fa==null||Os==null)var Pa=2;else ki(fa!=null),Pa=DA(Os,Ks,ho,fa.width,fa.height,fa.Pd,fa.Qd,fa.format,null);if(Pa!=0?Ko=0:(Ko!=null&&(Ko[0]=fa.width[0]),ia!=null&&(ia[0]=fa.height[0]),Ko=1),Ko){zo.width=zo.width[0],zo.height=zo.height[0],xo!=null&&(xo[0]=zo.width),Mo!=null&&(Mo[0]=zo.height);e:{if(xo=new ih,(Mo=new Nf).data=Os,Mo.w=Ks,Mo.ha=ho,Mo.kd=1,Ks=[0],ki(Mo!=null),((Os=DA(Mo.data,Mo.w,Mo.ha,null,null,null,Ks,null,Mo))==0||Os==7)&&Ks[0]&&(Os=4),(Ks=Os)==0){if(ki($o!=null),xo.data=Mo.data,xo.w=Mo.w+Mo.offset,xo.ha=Mo.ha-Mo.offset,xo.put=$c,xo.ac=El,xo.bc=ou,xo.ma=$o,Mo.xa){if((Os=ca())==null){$o=1;break e}if(function(Ma,pa){var Ga=[0],Ha=[0],da=[0];t:for(;;){if(Ma==null)return 0;if(pa==null)return Ma.a=2,0;if(Ma.l=pa,Ma.a=0,Ss(Ma.m,pa.data,pa.w,pa.ha),!wl(Ma.m,Ga,Ha,da)){Ma.a=3;break t}if(Ma.xb=ap,pa.width=Ga[0],pa.height=Ha[0],!gl(Ga[0],Ha[0],1,Ma,null))break t;return 1}return ki(Ma.a!=0),0}(Os,xo)){if(xo=(Ks=wh(xo.width,xo.height,$o.Oa,$o.ba))==0){t:{xo=Os;r:for(;;){if(xo==null){xo=0;break t}if(ki(xo.s.yc!=null),ki(xo.s.Ya!=null),ki(0<xo.s.Wb),ki((ho=xo.l)!=null),ki((Mo=ho.ma)!=null),xo.xb!=0){if(xo.ca=Mo.ba,xo.tb=Mo.tb,ki(xo.ca!=null),!Zu(Mo.Oa,ho,OA)){xo.a=2;break r}if(!cl(xo,ho.width)||ho.da)break r;if((ho.da||Va(xo.ca.S))&&La(),11>xo.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),xo.ca.f.kb.F!=null&&La()),xo.Pb&&0<xo.s.ua&&xo.s.vb.X==null&&!Eo(xo.s.vb,xo.s.Wa.Xa)){xo.a=1;break r}xo.xb=0}if(!Wu(xo,xo.V,xo.Ba,xo.c,xo.i,ho.o,au))break r;Mo.Dc=xo.Ma,xo=1;break t}ki(xo.a!=0),xo=0}xo=!xo}xo&&(Ks=Os.a)}else Ks=Os.a}else{if((Os=new dd)==null){$o=1;break e}if(Os.Fa=Mo.na,Os.P=Mo.P,Os.qc=Mo.Sa,zl(Os,xo)){if((Ks=wh(xo.width,xo.height,$o.Oa,$o.ba))==0){if(Os.Aa=0,ho=$o.Oa,ki((Mo=Os)!=null),ho!=null){if(0<(Ko=0>(Ko=ho.Md)?0:100<Ko?255:255*Ko/100)){for(ia=fa=0;4>ia;++ia)12>(Pa=Mo.pb[ia]).lc&&(Pa.ia=Ko*zf[0>Pa.lc?0:Pa.lc]>>3),fa|=Pa.ia;fa&&(alert("todo:VP8InitRandom"),Mo.ia=1)}Mo.Ga=ho.Id,100<Mo.Ga?Mo.Ga=100:0>Mo.Ga&&(Mo.Ga=0)}Ad(Os,xo)||(Ks=Os.a)}}else Ks=Os.a}Ks==0&&$o.Oa!=null&&$o.Oa.fd&&(Ks=ed($o.ba))}$o=Ks}Ro=$o!=0?null:11>Ro?zo.f.RGBA.eb:zo.f.kb.y}else Ro=null;return Ro};var up=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function ls(Rs,Ps){for(var Qs="",Fs=0;Fs<4;Fs++)Qs+=String.fromCharCode(Rs[Ps++]);return Qs}function cs(Rs,Ps){return(Rs[Ps+0]<<0|Rs[Ps+1]<<8|Rs[Ps+2]<<16)>>>0}function hs(Rs,Ps){return(Rs[Ps+0]<<0|Rs[Ps+1]<<8|Rs[Ps+2]<<16|Rs[Ps+3]<<24)>>>0}new os;var us=[0],As=[0],bs=[],ys=new os,Cs=es,ps=function(Rs,Ps){var Qs={},Fs=0,Is=!1,Ms=0,Ws=0;if(Qs.frames=[],!function(Bs,zs,so,oo){for(var Ao=0;Ao<oo;Ao++)if(Bs[zs+Ao]!=so.charCodeAt(Ao))return!0;return!1}(Rs,Ps,"RIFF",4)){var Ds,_s;for(hs(Rs,Ps+=4),Ps+=8;Ps<Rs.length;){var Ns=ls(Rs,Ps),Ss=hs(Rs,Ps+=4);Ps+=4;var Us=Ss+(1&Ss);switch(Ns){case"VP8 ":case"VP8L":Qs.frames[Fs]===void 0&&(Qs.frames[Fs]={}),(js=Qs.frames[Fs]).src_off=Is?Ws:Ps-8,js.src_size=Ms+Ss+8,Fs++,Is&&(Is=!1,Ms=0,Ws=0);break;case"VP8X":(js=Qs.header={}).feature_flags=Rs[Ps];var Zs=Ps+4;js.canvas_width=1+cs(Rs,Zs),Zs+=3,js.canvas_height=1+cs(Rs,Zs),Zs+=3;break;case"ALPH":Is=!0,Ms=Us+8,Ws=Ps-8;break;case"ANIM":(js=Qs.header).bgcolor=hs(Rs,Ps),Zs=Ps+4,js.loop_count=(Ds=Rs)[(_s=Zs)+0]<<0|Ds[_s+1]<<8,Zs+=2;break;case"ANMF":var ao,js;(js=Qs.frames[Fs]={}).offset_x=2*cs(Rs,Ps),Ps+=3,js.offset_y=2*cs(Rs,Ps),Ps+=3,js.width=1+cs(Rs,Ps),Ps+=3,js.height=1+cs(Rs,Ps),Ps+=3,js.duration=cs(Rs,Ps),Ps+=3,ao=Rs[Ps++],js.dispose=1&ao,js.blend=ao>>1&1}Ns!="ANMF"&&(Ps+=Us)}return Qs}}(Cs,0);ps.response=Cs,ps.rgbaoutput=!0,ps.dataurl=!1;var ms=ps.header?ps.header:null,fs=ps.frames?ps.frames:null;if(ms){ms.loop_counter=ms.loop_count,us=[ms.canvas_height],As=[ms.canvas_width];for(var gs=0;gs<fs.length&&fs[gs].blend!=0;gs++);}var ws=fs[0],Ts=ys.WebPDecodeRGBA(Cs,ws.src_off,ws.src_size,As,us);ws.rgba=Ts,ws.imgwidth=As[0],ws.imgheight=us[0];for(var $s=0;$s<As[0]*us[0]*4;$s++)bs[$s]=Ts[$s];return this.width=As,this.height=us,this.data=bs,this}(function(es){var ki=function(){return typeof zlibSync=="function"},Ri=function(us,As,bs,ys){var Cs=4,ps=ns;switch(ys){case es.image_compression.FAST:Cs=1,ps=is;break;case es.image_compression.MEDIUM:Cs=6,ps=ss;break;case es.image_compression.SLOW:Cs=9,ps=os}us=ts(us,As,bs,ps);var ms=zlibSync(us,{level:Cs});return es.__addimage__.arrayBufferToBinaryString(ms)},ts=function(us,As,bs,ys){for(var Cs,ps,ms,fs=us.length/As,gs=new Uint8Array(us.length+fs),ws=cs(),Ts=0;Ts<fs;Ts+=1){if(ms=Ts*As,Cs=us.subarray(ms,ms+As),ys)gs.set(ys(Cs,bs,ps),ms+Ts);else{for(var $s,Rs=ws.length,Ps=[];$s<Rs;$s+=1)Ps[$s]=ws[$s](Cs,bs,ps);var Qs=hs(Ps.concat());gs.set(Ps[Qs],ms+Ts)}ps=Cs}return gs},rs=function(us){var As=Array.apply([],us);return As.unshift(0),As},is=function(us,As){var bs,ys=[],Cs=us.length;ys[0]=1;for(var ps=0;ps<Cs;ps+=1)bs=us[ps-As]||0,ys[ps+1]=us[ps]-bs+256&255;return ys},ns=function(us,As,bs){var ys,Cs=[],ps=us.length;Cs[0]=2;for(var ms=0;ms<ps;ms+=1)ys=bs&&bs[ms]||0,Cs[ms+1]=us[ms]-ys+256&255;return Cs},ss=function(us,As,bs){var ys,Cs,ps=[],ms=us.length;ps[0]=3;for(var fs=0;fs<ms;fs+=1)ys=us[fs-As]||0,Cs=bs&&bs[fs]||0,ps[fs+1]=us[fs]+256-(ys+Cs>>>1)&255;return ps},os=function(us,As,bs){var ys,Cs,ps,ms,fs=[],gs=us.length;fs[0]=4;for(var ws=0;ws<gs;ws+=1)ys=us[ws-As]||0,Cs=bs&&bs[ws]||0,ps=bs&&bs[ws-As]||0,ms=ls(ys,Cs,ps),fs[ws+1]=us[ws]-ms+256&255;return fs},ls=function(us,As,bs){if(us===As&&As===bs)return us;var ys=Math.abs(As-bs),Cs=Math.abs(us-bs),ps=Math.abs(us+As-bs-bs);return ys<=Cs&&ys<=ps?us:Cs<=ps?As:bs},cs=function(){return[rs,is,ns,ss,os]},hs=function(us){var As=us.map(function(bs){return bs.reduce(function(ys,Cs){return ys+Math.abs(Cs)},0)});return As.indexOf(Math.min.apply(null,As))};es.processPNG=function(us,As,bs,ys){var Cs,ps,ms,fs,gs,ws,Ts,$s,Rs,Ps,Qs,Fs,Is,Ms,Ws,Ds=this.decode.FLATE_DECODE,_s="";if(this.__addimage__.isArrayBuffer(us)&&(us=new Uint8Array(us)),this.__addimage__.isArrayBufferView(us)){if(us=(ms=new Kt$1(us)).imgData,ps=ms.bits,Cs=ms.colorSpace,gs=ms.colors,[4,6].indexOf(ms.colorType)!==-1){if(ms.bits===8){Rs=($s=ms.pixelBitlength==32?new Uint32Array(ms.decodePixels().buffer):ms.pixelBitlength==16?new Uint16Array(ms.decodePixels().buffer):new Uint8Array(ms.decodePixels().buffer)).length,Qs=new Uint8Array(Rs*ms.colors),Ps=new Uint8Array(Rs);var Ns,Ss=ms.pixelBitlength-ms.bits;for(Ms=0,Ws=0;Ms<Rs;Ms++){for(Is=$s[Ms],Ns=0;Ns<Ss;)Qs[Ws++]=Is>>>Ns&255,Ns+=ms.bits;Ps[Ms]=Is>>>Ns&255}}if(ms.bits===16){Rs=($s=new Uint32Array(ms.decodePixels().buffer)).length,Qs=new Uint8Array(Rs*(32/ms.pixelBitlength)*ms.colors),Ps=new Uint8Array(Rs*(32/ms.pixelBitlength)),Fs=ms.colors>1,Ms=0,Ws=0;for(var Us=0;Ms<Rs;)Is=$s[Ms++],Qs[Ws++]=Is>>>0&255,Fs&&(Qs[Ws++]=Is>>>16&255,Is=$s[Ms++],Qs[Ws++]=Is>>>0&255),Ps[Us++]=Is>>>16&255;ps=8}ys!==es.image_compression.NONE&&ki()?(us=Ri(Qs,ms.width*ms.colors,ms.colors,ys),Ts=Ri(Ps,ms.width,1,ys)):(us=Qs,Ts=Ps,Ds=void 0)}if(ms.colorType===3&&(Cs=this.color_spaces.INDEXED,ws=ms.palette,ms.transparency.indexed)){var Zs=ms.transparency.indexed,ao=0;for(Ms=0,Rs=Zs.length;Ms<Rs;++Ms)ao+=Zs[Ms];if((ao/=255)===Rs-1&&Zs.indexOf(0)!==-1)fs=[Zs.indexOf(0)];else if(ao!==Rs){for($s=ms.decodePixels(),Ps=new Uint8Array($s.length),Ms=0,Rs=$s.length;Ms<Rs;Ms++)Ps[Ms]=Zs[$s[Ms]];Ts=Ri(Ps,ms.width,1)}}var js=function(Bs){var zs;switch(Bs){case es.image_compression.FAST:zs=11;break;case es.image_compression.MEDIUM:zs=13;break;case es.image_compression.SLOW:zs=14;break;default:zs=12}return zs}(ys);return Ds===this.decode.FLATE_DECODE&&(_s="/Predictor "+js+" "),_s+="/Colors "+gs+" /BitsPerComponent "+ps+" /Columns "+ms.width,(this.__addimage__.isArrayBuffer(us)||this.__addimage__.isArrayBufferView(us))&&(us=this.__addimage__.arrayBufferToBinaryString(us)),(Ts&&this.__addimage__.isArrayBuffer(Ts)||this.__addimage__.isArrayBufferView(Ts))&&(Ts=this.__addimage__.arrayBufferToBinaryString(Ts)),{alias:bs,data:us,index:As,filter:Ds,decodeParameters:_s,transparency:fs,palette:ws,sMask:Ts,predictor:js,width:ms.width,height:ms.height,bitsPerComponent:ps,colorSpace:Cs}}}})(E$2.API),function(es){es.processGIF89A=function(ki,Ri,ts,rs){var is=new Zt$1(ki),ns=is.width,ss=is.height,os=[];is.decodeAndBlitFrameRGBA(0,os);var ls={data:os,width:ns,height:ss},cs=new Qt$1(100).encode(ls,100);return es.processJPEG.call(this,cs,Ri,ts,rs)},es.processGIF87A=es.processGIF89A}(E$2.API),te$2.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var es=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(es);for(var ki=0;ki<es;ki++){var Ri=this.datav.getUint8(this.pos++,!0),ts=this.datav.getUint8(this.pos++,!0),rs=this.datav.getUint8(this.pos++,!0),is=this.datav.getUint8(this.pos++,!0);this.palette[ki]={red:rs,green:ts,blue:Ri,quad:is}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te$2.prototype.parseBGR=function(){this.pos=this.offset;try{var es="bit"+this.bitPP,ki=this.width*this.height*4;this.data=new Uint8Array(ki),this[es]()}catch(Ri){a$1.log("bit decode error:"+Ri)}},te$2.prototype.bit1=function(){var es,ki=Math.ceil(this.width/8),Ri=ki%4;for(es=this.height-1;es>=0;es--){for(var ts=this.bottom_up?es:this.height-1-es,rs=0;rs<ki;rs++)for(var is=this.datav.getUint8(this.pos++,!0),ns=ts*this.width*4+8*rs*4,ss=0;ss<8&&8*rs+ss<this.width;ss++){var os=this.palette[is>>7-ss&1];this.data[ns+4*ss]=os.blue,this.data[ns+4*ss+1]=os.green,this.data[ns+4*ss+2]=os.red,this.data[ns+4*ss+3]=255}Ri!==0&&(this.pos+=4-Ri)}},te$2.prototype.bit4=function(){for(var es=Math.ceil(this.width/2),ki=es%4,Ri=this.height-1;Ri>=0;Ri--){for(var ts=this.bottom_up?Ri:this.height-1-Ri,rs=0;rs<es;rs++){var is=this.datav.getUint8(this.pos++,!0),ns=ts*this.width*4+2*rs*4,ss=is>>4,os=15&is,ls=this.palette[ss];if(this.data[ns]=ls.blue,this.data[ns+1]=ls.green,this.data[ns+2]=ls.red,this.data[ns+3]=255,2*rs+1>=this.width)break;ls=this.palette[os],this.data[ns+4]=ls.blue,this.data[ns+4+1]=ls.green,this.data[ns+4+2]=ls.red,this.data[ns+4+3]=255}ki!==0&&(this.pos+=4-ki)}},te$2.prototype.bit8=function(){for(var es=this.width%4,ki=this.height-1;ki>=0;ki--){for(var Ri=this.bottom_up?ki:this.height-1-ki,ts=0;ts<this.width;ts++){var rs=this.datav.getUint8(this.pos++,!0),is=Ri*this.width*4+4*ts;if(rs<this.palette.length){var ns=this.palette[rs];this.data[is]=ns.red,this.data[is+1]=ns.green,this.data[is+2]=ns.blue,this.data[is+3]=255}else this.data[is]=255,this.data[is+1]=255,this.data[is+2]=255,this.data[is+3]=255}es!==0&&(this.pos+=4-es)}},te$2.prototype.bit15=function(){for(var es=this.width%3,ki=parseInt("11111",2),Ri=this.height-1;Ri>=0;Ri--){for(var ts=this.bottom_up?Ri:this.height-1-Ri,rs=0;rs<this.width;rs++){var is=this.datav.getUint16(this.pos,!0);this.pos+=2;var ns=(is&ki)/ki*255|0,ss=(is>>5&ki)/ki*255|0,os=(is>>10&ki)/ki*255|0,ls=is>>15?255:0,cs=ts*this.width*4+4*rs;this.data[cs]=os,this.data[cs+1]=ss,this.data[cs+2]=ns,this.data[cs+3]=ls}this.pos+=es}},te$2.prototype.bit16=function(){for(var es=this.width%3,ki=parseInt("11111",2),Ri=parseInt("111111",2),ts=this.height-1;ts>=0;ts--){for(var rs=this.bottom_up?ts:this.height-1-ts,is=0;is<this.width;is++){var ns=this.datav.getUint16(this.pos,!0);this.pos+=2;var ss=(ns&ki)/ki*255|0,os=(ns>>5&Ri)/Ri*255|0,ls=(ns>>11)/ki*255|0,cs=rs*this.width*4+4*is;this.data[cs]=ls,this.data[cs+1]=os,this.data[cs+2]=ss,this.data[cs+3]=255}this.pos+=es}},te$2.prototype.bit24=function(){for(var es=this.height-1;es>=0;es--){for(var ki=this.bottom_up?es:this.height-1-es,Ri=0;Ri<this.width;Ri++){var ts=this.datav.getUint8(this.pos++,!0),rs=this.datav.getUint8(this.pos++,!0),is=this.datav.getUint8(this.pos++,!0),ns=ki*this.width*4+4*Ri;this.data[ns]=is,this.data[ns+1]=rs,this.data[ns+2]=ts,this.data[ns+3]=255}this.pos+=this.width%4}},te$2.prototype.bit32=function(){for(var es=this.height-1;es>=0;es--)for(var ki=this.bottom_up?es:this.height-1-es,Ri=0;Ri<this.width;Ri++){var ts=this.datav.getUint8(this.pos++,!0),rs=this.datav.getUint8(this.pos++,!0),is=this.datav.getUint8(this.pos++,!0),ns=this.datav.getUint8(this.pos++,!0),ss=ki*this.width*4+4*Ri;this.data[ss]=is,this.data[ss+1]=rs,this.data[ss+2]=ts,this.data[ss+3]=ns}},te$2.prototype.getData=function(){return this.data},function(es){es.processBMP=function(ki,Ri,ts,rs){var is=new te$2(ki,!1),ns=is.width,ss=is.height,os={data:is.getData(),width:ns,height:ss},ls=new Qt$1(100).encode(os,100);return es.processJPEG.call(this,ls,Ri,ts,rs)}}(E$2.API),ee$2.prototype.getData=function(){return this.data},function(es){es.processWEBP=function(ki,Ri,ts,rs){var is=new ee$2(ki),ns=is.width,ss=is.height,os={data:is.getData(),width:ns,height:ss},ls=new Qt$1(100).encode(os,100);return es.processJPEG.call(this,ls,Ri,ts,rs)}}(E$2.API),E$2.API.processRGBA=function(es,ki,Ri){for(var ts=es.data,rs=ts.length,is=new Uint8Array(rs/4*3),ns=new Uint8Array(rs/4),ss=0,os=0,ls=0;ls<rs;ls+=4){var cs=ts[ls],hs=ts[ls+1],us=ts[ls+2],As=ts[ls+3];is[ss++]=cs,is[ss++]=hs,is[ss++]=us,ns[os++]=As}var bs=this.__addimage__.arrayBufferToBinaryString(is);return{alpha:this.__addimage__.arrayBufferToBinaryString(ns),data:bs,index:ki,alias:Ri,colorSpace:"DeviceRGB",bitsPerComponent:8,width:es.width,height:es.height}},E$2.API.setLanguage=function(es){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[es]!==void 0&&(this.internal.languageSettings.languageCode=es,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt$1=E$2.API,Gt$1=Vt$1.getCharWidthsArray=function(es,ki){var Ri,ts,rs=(ki=ki||{}).font||this.internal.getFont(),is=ki.fontSize||this.internal.getFontSize(),ns=ki.charSpace||this.internal.getCharSpace(),ss=ki.widths?ki.widths:rs.metadata.Unicode.widths,os=ss.fof?ss.fof:1,ls=ki.kerning?ki.kerning:rs.metadata.Unicode.kerning,cs=ls.fof?ls.fof:1,hs=ki.doKerning!==!1,us=0,As=es.length,bs=0,ys=ss[0]||os,Cs=[];for(Ri=0;Ri<As;Ri++)ts=es.charCodeAt(Ri),typeof rs.metadata.widthOfString=="function"?Cs.push((rs.metadata.widthOfGlyph(rs.metadata.characterToGlyph(ts))+ns*(1e3/is)||0)/1e3):(us=hs&&_typeof(ls[ts])==="object"&&!isNaN(parseInt(ls[ts][bs],10))?ls[ts][bs]/cs:0,Cs.push((ss[ts]||ys)/os+us)),bs=ts;return Cs},Yt$1=Vt$1.getStringUnitWidth=function(es,ki){var Ri=(ki=ki||{}).fontSize||this.internal.getFontSize(),ts=ki.font||this.internal.getFont(),rs=ki.charSpace||this.internal.getCharSpace();return Vt$1.processArabic&&(es=Vt$1.processArabic(es)),typeof ts.metadata.widthOfString=="function"?ts.metadata.widthOfString(es,Ri,rs)/Ri:Gt$1.apply(this,arguments).reduce(function(is,ns){return is+ns},0)},Jt$1=function(es,ki,Ri,ts){for(var rs=[],is=0,ns=es.length,ss=0;is!==ns&&ss+ki[is]<Ri;)ss+=ki[is],is++;rs.push(es.slice(0,is));var os=is;for(ss=0;is!==ns;)ss+ki[is]>ts&&(rs.push(es.slice(os,is)),ss=0,os=is),ss+=ki[is],is++;return os!==is&&rs.push(es.slice(os,is)),rs},Xt$1=function(es,ki,Ri){Ri||(Ri={});var ts,rs,is,ns,ss,os,ls,cs=[],hs=[cs],us=Ri.textIndent||0,As=0,bs=0,ys=es.split(" "),Cs=Gt$1.apply(this,[" ",Ri])[0];if(os=Ri.lineIndent===-1?ys[0].length+2:Ri.lineIndent||0){var ps=Array(os).join(" "),ms=[];ys.map(function(gs){(gs=gs.split(/\s*\n/)).length>1?ms=ms.concat(gs.map(function(ws,Ts){return(Ts&&ws.length?`
`:"")+ws})):ms.push(gs[0])}),ys=ms,os=Yt$1.apply(this,[ps,Ri])}for(is=0,ns=ys.length;is<ns;is++){var fs=0;if(ts=ys[is],os&&ts[0]==`
`&&(ts=ts.substr(1),fs=1),us+As+(bs=(rs=Gt$1.apply(this,[ts,Ri])).reduce(function(gs,ws){return gs+ws},0))>ki||fs){if(bs>ki){for(ss=Jt$1.apply(this,[ts,rs,ki-(us+As),ki]),cs.push(ss.shift()),cs=[ss.pop()];ss.length;)hs.push([ss.shift()]);bs=rs.slice(ts.length-(cs[0]?cs[0].length:0)).reduce(function(gs,ws){return gs+ws},0)}else cs=[ts];hs.push(cs),us=bs+os,As=Cs}else cs.push(ts),us+=As+bs,As=Cs}return ls=os?function(gs,ws){return(ws?ps:"")+gs.join(" ")}:function(gs){return gs.join(" ")},hs.map(ls)},Vt$1.splitTextToSize=function(es,ki,Ri){var ts,rs=(Ri=Ri||{}).fontSize||this.internal.getFontSize(),is=(function(cs){if(cs.widths&&cs.kerning)return{widths:cs.widths,kerning:cs.kerning};var hs=this.internal.getFont(cs.fontName,cs.fontStyle);return hs.metadata.Unicode?{widths:hs.metadata.Unicode.widths||{0:1},kerning:hs.metadata.Unicode.kerning||{}}:{font:hs.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,Ri);ts=Array.isArray(es)?es:String(es).split(/\r?\n/);var ns=1*this.internal.scaleFactor*ki/rs;is.textIndent=Ri.textIndent?1*Ri.textIndent*this.internal.scaleFactor/rs:0,is.lineIndent=Ri.lineIndent;var ss,os,ls=[];for(ss=0,os=ts.length;ss<os;ss++)ls=ls.concat(Xt$1.apply(this,[ts[ss],ns,is]));return ls},function(es){es.__fontmetrics__=es.__fontmetrics__||{};for(var ki="klmnopqrstuvwxyz",Ri={},ts={},rs=0;rs<ki.length;rs++)Ri[ki[rs]]="0123456789abcdef"[rs],ts["0123456789abcdef"[rs]]=ki[rs];var is=function(hs){return"0x"+parseInt(hs,10).toString(16)},ns=es.__fontmetrics__.compress=function(hs){var us,As,bs,ys,Cs=["{"];for(var ps in hs){if(us=hs[ps],isNaN(parseInt(ps,10))?As="'"+ps+"'":(ps=parseInt(ps,10),As=(As=is(ps).slice(2)).slice(0,-1)+ts[As.slice(-1)]),typeof us=="number")us<0?(bs=is(us).slice(3),ys="-"):(bs=is(us).slice(2),ys=""),bs=ys+bs.slice(0,-1)+ts[bs.slice(-1)];else{if(_typeof(us)!=="object")throw new Error("Don't know what to do with value type "+_typeof(us)+".");bs=ns(us)}Cs.push(As+bs)}return Cs.push("}"),Cs.join("")},ss=es.__fontmetrics__.uncompress=function(hs){if(typeof hs!="string")throw new Error("Invalid argument passed to uncompress.");for(var us,As,bs,ys,Cs={},ps=1,ms=Cs,fs=[],gs="",ws="",Ts=hs.length-1,$s=1;$s<Ts;$s+=1)(ys=hs[$s])=="'"?us?(bs=us.join(""),us=void 0):us=[]:us?us.push(ys):ys=="{"?(fs.push([ms,bs]),ms={},bs=void 0):ys=="}"?((As=fs.pop())[0][As[1]]=ms,bs=void 0,ms=As[0]):ys=="-"?ps=-1:bs===void 0?Ri.hasOwnProperty(ys)?(gs+=Ri[ys],bs=parseInt(gs,16)*ps,ps=1,gs=""):gs+=ys:Ri.hasOwnProperty(ys)?(ws+=Ri[ys],ms[bs]=parseInt(ws,16)*ps,ps=1,bs=void 0,ws=""):ws+=ys;return Cs},os={codePages:["WinAnsiEncoding"],WinAnsiEncoding:ss("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},ls={Unicode:{Courier:os,"Courier-Bold":os,"Courier-BoldOblique":os,"Courier-Oblique":os,Helvetica:os,"Helvetica-Bold":os,"Helvetica-BoldOblique":os,"Helvetica-Oblique":os,"Times-Roman":os,"Times-Bold":os,"Times-BoldItalic":os,"Times-Italic":os}},cs={Unicode:{"Courier-Oblique":ss("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":ss("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":ss("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:ss("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":ss("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":ss("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:ss("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:ss("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":ss("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:ss("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":ss("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":ss("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":ss("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":ss("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};es.events.push(["addFont",function(hs){var us=hs.font,As=cs.Unicode[us.postScriptName];As&&(us.metadata.Unicode={},us.metadata.Unicode.widths=As.widths,us.metadata.Unicode.kerning=As.kerning);var bs=ls.Unicode[us.postScriptName];bs&&(us.metadata.Unicode.encoding=bs,us.encoding=bs.codePages[0])}])}(E$2.API),function(es){var ki=function(Ri){for(var ts=Ri.length,rs=new Uint8Array(ts),is=0;is<ts;is++)rs[is]=Ri.charCodeAt(is);return rs};es.API.events.push(["addFont",function(Ri){var ts=void 0,rs=Ri.font,is=Ri.instance;if(!rs.isStandardFont){if(is===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+rs.postScriptName+"').");if(typeof(ts=is.existsFileInVFS(rs.postScriptName)===!1?is.loadFile(rs.postScriptName):is.getFileFromVFS(rs.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+rs.postScriptName+"').");(function(ns,ss){ss=/^\x00\x01\x00\x00/.test(ss)?ki(ss):ki(u$2(ss)),ns.metadata=es.API.TTFFont.open(ss),ns.metadata.Unicode=ns.metadata.Unicode||{encoding:{},kerning:{},widths:[]},ns.metadata.glyIdsUsed=[0]})(rs,ts)}}])}(E$2),function(es){function ki(){return(n$1.canvg?Promise.resolve(n$1.canvg):__vitePreload(()=>import("./index.es-C7NtYNOb.js"),[])).catch(function(Ri){return Promise.reject(new Error("Could not load canvg: "+Ri))}).then(function(Ri){return Ri.default?Ri.default:Ri})}E$2.API.addSvgAsImage=function(Ri,ts,rs,is,ns,ss,os,ls){if(isNaN(ts)||isNaN(rs))throw a$1.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(is)||isNaN(ns))throw a$1.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var cs=document.createElement("canvas");cs.width=is,cs.height=ns;var hs=cs.getContext("2d");hs.fillStyle="#fff",hs.fillRect(0,0,cs.width,cs.height);var us={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},As=this;return ki().then(function(bs){return bs.fromString(hs,Ri,us)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(bs){return bs.render(us)}).then(function(){As.addImage(cs.toDataURL("image/jpeg",1),ts,rs,is,ns,os,ls)})}}(),E$2.API.putTotalPages=function(es){var ki,Ri=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(ki=new RegExp(es,"g"),Ri=this.internal.getNumberOfPages()):(ki=new RegExp(this.pdfEscape16(es,this.internal.getFont()),"g"),Ri=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var ts=1;ts<=this.internal.getNumberOfPages();ts++)for(var rs=0;rs<this.internal.pages[ts].length;rs++)this.internal.pages[ts][rs]=this.internal.pages[ts][rs].replace(ki,Ri);return this},E$2.API.viewerPreferences=function(es,ki){var Ri;es=es||{},ki=ki||!1;var ts,rs,is,ns={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},ss=Object.keys(ns),os=[],ls=0,cs=0,hs=0;function us(bs,ys){var Cs,ps=!1;for(Cs=0;Cs<bs.length;Cs+=1)bs[Cs]===ys&&(ps=!0);return ps}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(ns)),this.internal.viewerpreferences.isSubscribed=!1),Ri=this.internal.viewerpreferences.configuration,es==="reset"||ki===!0){var As=ss.length;for(hs=0;hs<As;hs+=1)Ri[ss[hs]].value=Ri[ss[hs]].defaultValue,Ri[ss[hs]].explicitSet=!1}if(_typeof(es)==="object"){for(rs in es)if(is=es[rs],us(ss,rs)&&is!==void 0){if(Ri[rs].type==="boolean"&&typeof is=="boolean")Ri[rs].value=is;else if(Ri[rs].type==="name"&&us(Ri[rs].valueSet,is))Ri[rs].value=is;else if(Ri[rs].type==="integer"&&Number.isInteger(is))Ri[rs].value=is;else if(Ri[rs].type==="array"){for(ls=0;ls<is.length;ls+=1)if(ts=!0,is[ls].length===1&&typeof is[ls][0]=="number")os.push(String(is[ls]-1));else if(is[ls].length>1){for(cs=0;cs<is[ls].length;cs+=1)typeof is[ls][cs]!="number"&&(ts=!1);ts===!0&&os.push([is[ls][0]-1,is[ls][1]-1].join(" "))}Ri[rs].value="["+os.join(" ")+"]"}else Ri[rs].value=Ri[rs].defaultValue;Ri[rs].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var bs,ys=[];for(bs in Ri)Ri[bs].explicitSet===!0&&(Ri[bs].type==="name"?ys.push("/"+bs+" /"+Ri[bs].value):ys.push("/"+bs+" "+Ri[bs].value));ys.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+ys.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=Ri,this},function(es){var ki=function(){var ts='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',rs=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),is=unescape(encodeURIComponent(ts)),ns=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),ss=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),os=unescape(encodeURIComponent("</x:xmpmeta>")),ls=is.length+ns.length+ss.length+rs.length+os.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+ls+" >>"),this.internal.write("stream"),this.internal.write(rs+is+ns+ss+os),this.internal.write("endstream"),this.internal.write("endobj")},Ri=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};es.addMetadata=function(ts,rs){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:ts,namespaceuri:rs||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",Ri),this.internal.events.subscribe("postPutResources",ki)),this}}(E$2.API),function(es){var ki=es.API,Ri=ki.pdfEscape16=function(is,ns){for(var ss,os=ns.metadata.Unicode.widths,ls=["","0","00","000","0000"],cs=[""],hs=0,us=is.length;hs<us;++hs){if(ss=ns.metadata.characterToGlyph(is.charCodeAt(hs)),ns.metadata.glyIdsUsed.push(ss),ns.metadata.toUnicode[ss]=is.charCodeAt(hs),os.indexOf(ss)==-1&&(os.push(ss),os.push([parseInt(ns.metadata.widthOfGlyph(ss),10)])),ss=="0")return cs.join("");ss=ss.toString(16),cs.push(ls[4-ss.length],ss)}return cs.join("")},ts=function(is){var ns,ss,os,ls,cs,hs,us;for(cs=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,os=[],hs=0,us=(ss=Object.keys(is).sort(function(As,bs){return As-bs})).length;hs<us;hs++)ns=ss[hs],os.length>=100&&(cs+=`
`+os.length+` beginbfchar
`+os.join(`
`)+`
endbfchar`,os=[]),is[ns]!==void 0&&is[ns]!==null&&typeof is[ns].toString=="function"&&(ls=("0000"+is[ns].toString(16)).slice(-4),ns=("0000"+(+ns).toString(16)).slice(-4),os.push("<"+ns+"><"+ls+">"));return os.length&&(cs+=`
`+os.length+` beginbfchar
`+os.join(`
`)+`
endbfchar
`),cs+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};ki.events.push(["putFont",function(is){(function(ns){var ss=ns.font,os=ns.out,ls=ns.newObject,cs=ns.putStream;if(ss.metadata instanceof es.API.TTFFont&&ss.encoding==="Identity-H"){for(var hs=ss.metadata.Unicode.widths,us=ss.metadata.subset.encode(ss.metadata.glyIdsUsed,1),As="",bs=0;bs<us.length;bs++)As+=String.fromCharCode(us[bs]);var ys=ls();cs({data:As,addLength1:!0,objectId:ys}),os("endobj");var Cs=ls();cs({data:ts(ss.metadata.toUnicode),addLength1:!0,objectId:Cs}),os("endobj");var ps=ls();os("<<"),os("/Type /FontDescriptor"),os("/FontName /"+F$1(ss.fontName)),os("/FontFile2 "+ys+" 0 R"),os("/FontBBox "+es.API.PDFObject.convert(ss.metadata.bbox)),os("/Flags "+ss.metadata.flags),os("/StemV "+ss.metadata.stemV),os("/ItalicAngle "+ss.metadata.italicAngle),os("/Ascent "+ss.metadata.ascender),os("/Descent "+ss.metadata.decender),os("/CapHeight "+ss.metadata.capHeight),os(">>"),os("endobj");var ms=ls();os("<<"),os("/Type /Font"),os("/BaseFont /"+F$1(ss.fontName)),os("/FontDescriptor "+ps+" 0 R"),os("/W "+es.API.PDFObject.convert(hs)),os("/CIDToGIDMap /Identity"),os("/DW 1000"),os("/Subtype /CIDFontType2"),os("/CIDSystemInfo"),os("<<"),os("/Supplement 0"),os("/Registry (Adobe)"),os("/Ordering ("+ss.encoding+")"),os(">>"),os(">>"),os("endobj"),ss.objectNumber=ls(),os("<<"),os("/Type /Font"),os("/Subtype /Type0"),os("/ToUnicode "+Cs+" 0 R"),os("/BaseFont /"+F$1(ss.fontName)),os("/Encoding /"+ss.encoding),os("/DescendantFonts ["+ms+" 0 R]"),os(">>"),os("endobj"),ss.isAlreadyPutted=!0}})(is)}]),ki.events.push(["putFont",function(is){(function(ns){var ss=ns.font,os=ns.out,ls=ns.newObject,cs=ns.putStream;if(ss.metadata instanceof es.API.TTFFont&&ss.encoding==="WinAnsiEncoding"){for(var hs=ss.metadata.rawData,us="",As=0;As<hs.length;As++)us+=String.fromCharCode(hs[As]);var bs=ls();cs({data:us,addLength1:!0,objectId:bs}),os("endobj");var ys=ls();cs({data:ts(ss.metadata.toUnicode),addLength1:!0,objectId:ys}),os("endobj");var Cs=ls();os("<<"),os("/Descent "+ss.metadata.decender),os("/CapHeight "+ss.metadata.capHeight),os("/StemV "+ss.metadata.stemV),os("/Type /FontDescriptor"),os("/FontFile2 "+bs+" 0 R"),os("/Flags 96"),os("/FontBBox "+es.API.PDFObject.convert(ss.metadata.bbox)),os("/FontName /"+F$1(ss.fontName)),os("/ItalicAngle "+ss.metadata.italicAngle),os("/Ascent "+ss.metadata.ascender),os(">>"),os("endobj"),ss.objectNumber=ls();for(var ps=0;ps<ss.metadata.hmtx.widths.length;ps++)ss.metadata.hmtx.widths[ps]=parseInt(ss.metadata.hmtx.widths[ps]*(1e3/ss.metadata.head.unitsPerEm));os("<</Subtype/TrueType/Type/Font/ToUnicode "+ys+" 0 R/BaseFont/"+F$1(ss.fontName)+"/FontDescriptor "+Cs+" 0 R/Encoding/"+ss.encoding+" /FirstChar 29 /LastChar 255 /Widths "+es.API.PDFObject.convert(ss.metadata.hmtx.widths)+">>"),os("endobj"),ss.isAlreadyPutted=!0}})(is)}]);var rs=function(is){var ns,ss=is.text||"",os=is.x,ls=is.y,cs=is.options||{},hs=is.mutex||{},us=hs.pdfEscape,As=hs.activeFontKey,bs=hs.fonts,ys=As,Cs="",ps=0,ms="",fs=bs[ys].encoding;if(bs[ys].encoding!=="Identity-H")return{text:ss,x:os,y:ls,options:cs,mutex:hs};for(ms=ss,ys=As,Array.isArray(ss)&&(ms=ss[0]),ps=0;ps<ms.length;ps+=1)bs[ys].metadata.hasOwnProperty("cmap")&&(ns=bs[ys].metadata.cmap.unicode.codeMap[ms[ps].charCodeAt(0)]),ns||ms[ps].charCodeAt(0)<256&&bs[ys].metadata.hasOwnProperty("Unicode")?Cs+=ms[ps]:Cs+="";var gs="";return parseInt(ys.slice(1))<14||fs==="WinAnsiEncoding"?gs=us(Cs,ys).split("").map(function(ws){return ws.charCodeAt(0).toString(16)}).join(""):fs==="Identity-H"&&(gs=Ri(Cs,bs[ys])),hs.isHex=!0,{text:gs,x:os,y:ls,options:cs,mutex:hs}};ki.events.push(["postProcessText",function(is){var ns=is.text||"",ss=[],os={text:ns,x:is.x,y:is.y,options:is.options,mutex:is.mutex};if(Array.isArray(ns)){var ls=0;for(ls=0;ls<ns.length;ls+=1)Array.isArray(ns[ls])&&ns[ls].length===3?ss.push([rs(Object.assign({},os,{text:ns[ls][0]})).text,ns[ls][1],ns[ls][2]]):ss.push(rs(Object.assign({},os,{text:ns[ls]})).text);is.text=ss}else is.text=rs(Object.assign({},os,{text:ns})).text}])}(E$2),function(es){var ki=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};es.existsFileInVFS=function(Ri){return ki.call(this),this.internal.vFS[Ri]!==void 0},es.addFileToVFS=function(Ri,ts){return ki.call(this),this.internal.vFS[Ri]=ts,this},es.getFileFromVFS=function(Ri){return ki.call(this),this.internal.vFS[Ri]!==void 0?this.internal.vFS[Ri]:null}}(E$2.API),function(es){es.__bidiEngine__=es.prototype.__bidiEngine__=function(ts){var rs,is,ns,ss,os,ls,cs,hs=ki,us=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],As=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],bs={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},ys={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Cs=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],ps=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),ms=!1,fs=0;this.__bidiEngine__={};var gs=function(Fs){var Is=Fs.charCodeAt(),Ms=Is>>8,Ws=ys[Ms];return Ws!==void 0?hs[256*Ws+(255&Is)]:Ms===252||Ms===253?"AL":ps.test(Ms)?"L":Ms===8?"R":"N"},ws=function(Fs){for(var Is,Ms=0;Ms<Fs.length;Ms++){if((Is=gs(Fs.charAt(Ms)))==="L")return!1;if(Is==="R")return!0}return!1},Ts=function(Fs,Is,Ms,Ws){var Ds,_s,Ns,Ss,Us=Is[Ws];switch(Us){case"L":case"R":ms=!1;break;case"N":case"AN":break;case"EN":ms&&(Us="AN");break;case"AL":ms=!0,Us="R";break;case"WS":Us="N";break;case"CS":Ws<1||Ws+1>=Is.length||(Ds=Ms[Ws-1])!=="EN"&&Ds!=="AN"||(_s=Is[Ws+1])!=="EN"&&_s!=="AN"?Us="N":ms&&(_s="AN"),Us=_s===Ds?_s:"N";break;case"ES":Us=(Ds=Ws>0?Ms[Ws-1]:"B")==="EN"&&Ws+1<Is.length&&Is[Ws+1]==="EN"?"EN":"N";break;case"ET":if(Ws>0&&Ms[Ws-1]==="EN"){Us="EN";break}if(ms){Us="N";break}for(Ns=Ws+1,Ss=Is.length;Ns<Ss&&Is[Ns]==="ET";)Ns++;Us=Ns<Ss&&Is[Ns]==="EN"?"EN":"N";break;case"NSM":if(ns&&!ss){for(Ss=Is.length,Ns=Ws+1;Ns<Ss&&Is[Ns]==="NSM";)Ns++;if(Ns<Ss){var Zs=Fs[Ws],ao=Zs>=1425&&Zs<=2303||Zs===64286;if(Ds=Is[Ns],ao&&(Ds==="R"||Ds==="AL")){Us="R";break}}}Us=Ws<1||(Ds=Is[Ws-1])==="B"?"N":Ms[Ws-1];break;case"B":ms=!1,rs=!0,Us=fs;break;case"S":is=!0,Us="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":ms=!1;break;case"BN":Us="N"}return Us},$s=function(Fs,Is,Ms){var Ws=Fs.split("");return Ms&&Rs(Ws,Ms,{hiLevel:fs}),Ws.reverse(),Is&&Is.reverse(),Ws.join("")},Rs=function(Fs,Is,Ms){var Ws,Ds,_s,Ns,Ss,Us=-1,Zs=Fs.length,ao=0,js=[],Bs=fs?As:us,zs=[];for(ms=!1,rs=!1,is=!1,Ds=0;Ds<Zs;Ds++)zs[Ds]=gs(Fs[Ds]);for(_s=0;_s<Zs;_s++){if(Ss=ao,js[_s]=Ts(Fs,zs,js,_s),Ws=240&(ao=Bs[Ss][bs[js[_s]]]),ao&=15,Is[_s]=Ns=Bs[ao][5],Ws>0)if(Ws===16){for(Ds=Us;Ds<_s;Ds++)Is[Ds]=1;Us=-1}else Us=-1;if(Bs[ao][6])Us===-1&&(Us=_s);else if(Us>-1){for(Ds=Us;Ds<_s;Ds++)Is[Ds]=Ns;Us=-1}zs[_s]==="B"&&(Is[_s]=0),Ms.hiLevel|=Ns}is&&function(so,oo,Ao){for(var Xs=0;Xs<Ao;Xs++)if(so[Xs]==="S"){oo[Xs]=fs;for(var lo=Xs-1;lo>=0&&so[lo]==="WS";lo--)oo[lo]=fs}}(zs,Is,Zs)},Ps=function(Fs,Is,Ms,Ws,Ds){if(!(Ds.hiLevel<Fs)){if(Fs===1&&fs===1&&!rs)return Is.reverse(),void(Ms&&Ms.reverse());for(var _s,Ns,Ss,Us,Zs=Is.length,ao=0;ao<Zs;){if(Ws[ao]>=Fs){for(Ss=ao+1;Ss<Zs&&Ws[Ss]>=Fs;)Ss++;for(Us=ao,Ns=Ss-1;Us<Ns;Us++,Ns--)_s=Is[Us],Is[Us]=Is[Ns],Is[Ns]=_s,Ms&&(_s=Ms[Us],Ms[Us]=Ms[Ns],Ms[Ns]=_s);ao=Ss}ao++}}},Qs=function(Fs,Is,Ms){var Ws=Fs.split(""),Ds={hiLevel:fs};return Ms||(Ms=[]),Rs(Ws,Ms,Ds),function(_s,Ns,Ss){if(Ss.hiLevel!==0&&cs)for(var Us,Zs=0;Zs<_s.length;Zs++)Ns[Zs]===1&&(Us=Cs.indexOf(_s[Zs]))>=0&&(_s[Zs]=Cs[Us+1])}(Ws,Ms,Ds),Ps(2,Ws,Is,Ms,Ds),Ps(1,Ws,Is,Ms,Ds),Ws.join("")};return this.__bidiEngine__.doBidiReorder=function(Fs,Is,Ms){if(function(Ds,_s){if(_s)for(var Ns=0;Ns<Ds.length;Ns++)_s[Ns]=Ns;ss===void 0&&(ss=ws(Ds)),ls===void 0&&(ls=ws(Ds))}(Fs,Is),ns||!os||ls)if(ns&&os&&ss^ls)fs=ss?1:0,Fs=$s(Fs,Is,Ms);else if(!ns&&os&&ls)fs=ss?1:0,Fs=Qs(Fs,Is,Ms),Fs=$s(Fs,Is);else if(!ns||ss||os||ls){if(ns&&!os&&ss^ls)Fs=$s(Fs,Is),ss?(fs=0,Fs=Qs(Fs,Is,Ms)):(fs=1,Fs=Qs(Fs,Is,Ms),Fs=$s(Fs,Is));else if(ns&&ss&&!os&&ls)fs=1,Fs=Qs(Fs,Is,Ms),Fs=$s(Fs,Is);else if(!ns&&!os&&ss^ls){var Ws=cs;ss?(fs=1,Fs=Qs(Fs,Is,Ms),fs=0,cs=!1,Fs=Qs(Fs,Is,Ms),cs=Ws):(fs=0,Fs=Qs(Fs,Is,Ms),Fs=$s(Fs,Is),fs=1,cs=!1,Fs=Qs(Fs,Is,Ms),cs=Ws,Fs=$s(Fs,Is))}}else fs=0,Fs=Qs(Fs,Is,Ms);else fs=ss?1:0,Fs=Qs(Fs,Is,Ms);return Fs},this.__bidiEngine__.setOptions=function(Fs){Fs&&(ns=Fs.isInputVisual,os=Fs.isOutputVisual,ss=Fs.isInputRtl,ls=Fs.isOutputRtl,cs=Fs.isSymmetricSwapping)},this.__bidiEngine__.setOptions(ts),this.__bidiEngine__};var ki=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],Ri=new es.__bidiEngine__({isInputVisual:!0});es.API.events.push(["postProcessText",function(ts){var rs=ts.text,is=(ts.x,ts.y,ts.options||{}),ns=(ts.mutex,is.lang,[]);if(is.isInputVisual=typeof is.isInputVisual!="boolean"||is.isInputVisual,Ri.setOptions(is),Object.prototype.toString.call(rs)==="[object Array]"){var ss=0;for(ns=[],ss=0;ss<rs.length;ss+=1)Object.prototype.toString.call(rs[ss])==="[object Array]"?ns.push([Ri.doBidiReorder(rs[ss][0]),rs[ss][1],rs[ss][2]]):ns.push([Ri.doBidiReorder(rs[ss])]);ts.text=ns}else ts.text=Ri.doBidiReorder(rs);Ri.setOptions({isInputVisual:!0})}])}(E$2),E$2.API.TTFFont=function(){function es(ki){var Ri;if(this.rawData=ki,Ri=this.contents=new ne$2(ki),this.contents.pos=4,Ri.readString(4)==="ttcf")throw new Error("TTCF not supported.");Ri.pos=0,this.parse(),this.subset=new Le$1(this),this.registerTTF()}return es.open=function(ki){return new es(ki)},es.prototype.parse=function(){return this.directory=new ie$1(this.contents),this.head=new se$1(this),this.name=new pe$1(this),this.cmap=new ue$1(this),this.toUnicode={},this.hhea=new he$1(this),this.maxp=new ge$1(this),this.hmtx=new me$1(this),this.post=new fe$2(this),this.os2=new le$1(this),this.loca=new Ne$1(this),this.glyf=new be$1(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},es.prototype.registerTTF=function(){var ki,Ri,ts,rs,is;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var ns,ss,os,ls;for(ls=[],ns=0,ss=(os=this.bbox).length;ns<ss;ns++)ki=os[ns],ls.push(Math.round(ki*this.scaleFactor));return ls}).call(this),this.stemV=0,this.post.exists?(ts=255&(rs=this.post.italic_angle),32768&(Ri=rs>>16)&&(Ri=-(1+(65535^Ri))),this.italicAngle=+(Ri+"."+ts)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(is=this.familyClass)===1||is===2||is===3||is===4||is===5||is===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},es.prototype.characterToGlyph=function(ki){var Ri;return((Ri=this.cmap.unicode)!=null?Ri.codeMap[ki]:void 0)||0},es.prototype.widthOfGlyph=function(ki){var Ri;return Ri=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(ki).advance*Ri},es.prototype.widthOfString=function(ki,Ri,ts){var rs,is,ns,ss;for(ns=0,is=0,ss=(ki=""+ki).length;0<=ss?is<ss:is>ss;is=0<=ss?++is:--is)rs=ki.charCodeAt(is),ns+=this.widthOfGlyph(this.characterToGlyph(rs))+ts*(1e3/Ri)||0;return ns*(Ri/1e3)},es.prototype.lineHeight=function(ki,Ri){var ts;return Ri==null&&(Ri=!1),ts=Ri?this.lineGap:0,(this.ascender+ts-this.decender)/1e3*ki},es}();var re$1,ne$2=function(){function es(ki){this.data=ki??[],this.pos=0,this.length=this.data.length}return es.prototype.readByte=function(){return this.data[this.pos++]},es.prototype.writeByte=function(ki){return this.data[this.pos++]=ki},es.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},es.prototype.writeUInt32=function(ki){return this.writeByte(ki>>>24&255),this.writeByte(ki>>16&255),this.writeByte(ki>>8&255),this.writeByte(255&ki)},es.prototype.readInt32=function(){var ki;return(ki=this.readUInt32())>=2147483648?ki-4294967296:ki},es.prototype.writeInt32=function(ki){return ki<0&&(ki+=4294967296),this.writeUInt32(ki)},es.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},es.prototype.writeUInt16=function(ki){return this.writeByte(ki>>8&255),this.writeByte(255&ki)},es.prototype.readInt16=function(){var ki;return(ki=this.readUInt16())>=32768?ki-65536:ki},es.prototype.writeInt16=function(ki){return ki<0&&(ki+=65536),this.writeUInt16(ki)},es.prototype.readString=function(ki){var Ri,ts;for(ts=[],Ri=0;0<=ki?Ri<ki:Ri>ki;Ri=0<=ki?++Ri:--Ri)ts[Ri]=String.fromCharCode(this.readByte());return ts.join("")},es.prototype.writeString=function(ki){var Ri,ts,rs;for(rs=[],Ri=0,ts=ki.length;0<=ts?Ri<ts:Ri>ts;Ri=0<=ts?++Ri:--Ri)rs.push(this.writeByte(ki.charCodeAt(Ri)));return rs},es.prototype.readShort=function(){return this.readInt16()},es.prototype.writeShort=function(ki){return this.writeInt16(ki)},es.prototype.readLongLong=function(){var ki,Ri,ts,rs,is,ns,ss,os;return ki=this.readByte(),Ri=this.readByte(),ts=this.readByte(),rs=this.readByte(),is=this.readByte(),ns=this.readByte(),ss=this.readByte(),os=this.readByte(),128&ki?-1*(72057594037927940*(255^ki)+281474976710656*(255^Ri)+1099511627776*(255^ts)+4294967296*(255^rs)+16777216*(255^is)+65536*(255^ns)+256*(255^ss)+(255^os)+1):72057594037927940*ki+281474976710656*Ri+1099511627776*ts+4294967296*rs+16777216*is+65536*ns+256*ss+os},es.prototype.writeLongLong=function(ki){var Ri,ts;return Ri=Math.floor(ki/4294967296),ts=4294967295&ki,this.writeByte(Ri>>24&255),this.writeByte(Ri>>16&255),this.writeByte(Ri>>8&255),this.writeByte(255&Ri),this.writeByte(ts>>24&255),this.writeByte(ts>>16&255),this.writeByte(ts>>8&255),this.writeByte(255&ts)},es.prototype.readInt=function(){return this.readInt32()},es.prototype.writeInt=function(ki){return this.writeInt32(ki)},es.prototype.read=function(ki){var Ri,ts;for(Ri=[],ts=0;0<=ki?ts<ki:ts>ki;ts=0<=ki?++ts:--ts)Ri.push(this.readByte());return Ri},es.prototype.write=function(ki){var Ri,ts,rs,is;for(is=[],ts=0,rs=ki.length;ts<rs;ts++)Ri=ki[ts],is.push(this.writeByte(Ri));return is},es}(),ie$1=function(){var es;function ki(Ri){var ts,rs,is;for(this.scalarType=Ri.readInt(),this.tableCount=Ri.readShort(),this.searchRange=Ri.readShort(),this.entrySelector=Ri.readShort(),this.rangeShift=Ri.readShort(),this.tables={},rs=0,is=this.tableCount;0<=is?rs<is:rs>is;rs=0<=is?++rs:--rs)ts={tag:Ri.readString(4),checksum:Ri.readInt(),offset:Ri.readInt(),length:Ri.readInt()},this.tables[ts.tag]=ts}return ki.prototype.encode=function(Ri){var ts,rs,is,ns,ss,os,ls,cs,hs,us,As,bs,ys;for(ys in As=Object.keys(Ri).length,os=Math.log(2),hs=16*Math.floor(Math.log(As)/os),ns=Math.floor(hs/os),cs=16*As-hs,(rs=new ne$2).writeInt(this.scalarType),rs.writeShort(As),rs.writeShort(hs),rs.writeShort(ns),rs.writeShort(cs),is=16*As,ls=rs.pos+is,ss=null,bs=[],Ri)for(us=Ri[ys],rs.writeString(ys),rs.writeInt(es(us)),rs.writeInt(ls),rs.writeInt(us.length),bs=bs.concat(us),ys==="head"&&(ss=ls),ls+=us.length;ls%4;)bs.push(0),ls++;return rs.write(bs),ts=2981146554-es(rs.data),rs.pos=ss+8,rs.writeUInt32(ts),rs.data},es=function(Ri){var ts,rs,is,ns;for(Ri=ve$1.call(Ri);Ri.length%4;)Ri.push(0);for(is=new ne$2(Ri),rs=0,ts=0,ns=Ri.length;ts<ns;ts=ts+=4)rs+=is.readUInt32();return 4294967295&rs},ki}(),ae$2={}.hasOwnProperty,oe$1=function(es,ki){for(var Ri in ki)ae$2.call(ki,Ri)&&(es[Ri]=ki[Ri]);function ts(){this.constructor=es}return ts.prototype=ki.prototype,es.prototype=new ts,es.__super__=ki.prototype,es};re$1=function(){function es(ki){var Ri;this.file=ki,Ri=this.file.directory.tables[this.tag],this.exists=!!Ri,Ri&&(this.offset=Ri.offset,this.length=Ri.length,this.parse(this.file.contents))}return es.prototype.parse=function(){},es.prototype.encode=function(){},es.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},es}();var se$1=function(es){function ki(){return ki.__super__.constructor.apply(this,arguments)}return oe$1(ki,re$1),ki.prototype.tag="head",ki.prototype.parse=function(Ri){return Ri.pos=this.offset,this.version=Ri.readInt(),this.revision=Ri.readInt(),this.checkSumAdjustment=Ri.readInt(),this.magicNumber=Ri.readInt(),this.flags=Ri.readShort(),this.unitsPerEm=Ri.readShort(),this.created=Ri.readLongLong(),this.modified=Ri.readLongLong(),this.xMin=Ri.readShort(),this.yMin=Ri.readShort(),this.xMax=Ri.readShort(),this.yMax=Ri.readShort(),this.macStyle=Ri.readShort(),this.lowestRecPPEM=Ri.readShort(),this.fontDirectionHint=Ri.readShort(),this.indexToLocFormat=Ri.readShort(),this.glyphDataFormat=Ri.readShort()},ki.prototype.encode=function(Ri){var ts;return(ts=new ne$2).writeInt(this.version),ts.writeInt(this.revision),ts.writeInt(this.checkSumAdjustment),ts.writeInt(this.magicNumber),ts.writeShort(this.flags),ts.writeShort(this.unitsPerEm),ts.writeLongLong(this.created),ts.writeLongLong(this.modified),ts.writeShort(this.xMin),ts.writeShort(this.yMin),ts.writeShort(this.xMax),ts.writeShort(this.yMax),ts.writeShort(this.macStyle),ts.writeShort(this.lowestRecPPEM),ts.writeShort(this.fontDirectionHint),ts.writeShort(Ri),ts.writeShort(this.glyphDataFormat),ts.data},ki}(),ce$1=function(){function es(ki,Ri){var ts,rs,is,ns,ss,os,ls,cs,hs,us,As,bs,ys,Cs,ps,ms,fs;switch(this.platformID=ki.readUInt16(),this.encodingID=ki.readShort(),this.offset=Ri+ki.readInt(),hs=ki.pos,ki.pos=this.offset,this.format=ki.readUInt16(),this.length=ki.readUInt16(),this.language=ki.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(os=0;os<256;++os)this.codeMap[os]=ki.readByte();break;case 4:for(As=ki.readUInt16(),us=As/2,ki.pos+=6,is=function(){var gs,ws;for(ws=[],os=gs=0;0<=us?gs<us:gs>us;os=0<=us?++gs:--gs)ws.push(ki.readUInt16());return ws}(),ki.pos+=2,ys=function(){var gs,ws;for(ws=[],os=gs=0;0<=us?gs<us:gs>us;os=0<=us?++gs:--gs)ws.push(ki.readUInt16());return ws}(),ls=function(){var gs,ws;for(ws=[],os=gs=0;0<=us?gs<us:gs>us;os=0<=us?++gs:--gs)ws.push(ki.readUInt16());return ws}(),cs=function(){var gs,ws;for(ws=[],os=gs=0;0<=us?gs<us:gs>us;os=0<=us?++gs:--gs)ws.push(ki.readUInt16());return ws}(),rs=(this.length-ki.pos+this.offset)/2,ss=function(){var gs,ws;for(ws=[],os=gs=0;0<=rs?gs<rs:gs>rs;os=0<=rs?++gs:--gs)ws.push(ki.readUInt16());return ws}(),os=ps=0,fs=is.length;ps<fs;os=++ps)for(Cs=is[os],ts=ms=bs=ys[os];bs<=Cs?ms<=Cs:ms>=Cs;ts=bs<=Cs?++ms:--ms)cs[os]===0?ns=ts+ls[os]:(ns=ss[cs[os]/2+(ts-bs)-(us-os)]||0)!==0&&(ns+=ls[os]),this.codeMap[ts]=65535&ns}ki.pos=hs}return es.encode=function(ki,Ri){var ts,rs,is,ns,ss,os,ls,cs,hs,us,As,bs,ys,Cs,ps,ms,fs,gs,ws,Ts,$s,Rs,Ps,Qs,Fs,Is,Ms,Ws,Ds,_s,Ns,Ss,Us,Zs,ao,js,Bs,zs,so,oo,Ao,Xs,lo,co,So,ro;switch(Ws=new ne$2,ns=Object.keys(ki).sort(function(vo,Eo){return vo-Eo}),Ri){case"macroman":for(ys=0,Cs=function(){var vo=[];for(bs=0;bs<256;++bs)vo.push(0);return vo}(),ms={0:0},is={},Ds=0,Us=ns.length;Ds<Us;Ds++)ms[lo=ki[rs=ns[Ds]]]==null&&(ms[lo]=++ys),is[rs]={old:ki[rs],new:ms[ki[rs]]},Cs[rs]=ms[ki[rs]];return Ws.writeUInt16(1),Ws.writeUInt16(0),Ws.writeUInt32(12),Ws.writeUInt16(0),Ws.writeUInt16(262),Ws.writeUInt16(0),Ws.write(Cs),{charMap:is,subtable:Ws.data,maxGlyphID:ys+1};case"unicode":for(Is=[],hs=[],fs=0,ms={},ts={},ps=ls=null,_s=0,Zs=ns.length;_s<Zs;_s++)ms[ws=ki[rs=ns[_s]]]==null&&(ms[ws]=++fs),ts[rs]={old:ws,new:ms[ws]},ss=ms[ws]-rs,ps!=null&&ss===ls||(ps&&hs.push(ps),Is.push(rs),ls=ss),ps=rs;for(ps&&hs.push(ps),hs.push(65535),Is.push(65535),Qs=2*(Ps=Is.length),Rs=2*Math.pow(Math.log(Ps)/Math.LN2,2),us=Math.log(Rs/2)/Math.LN2,$s=2*Ps-Rs,os=[],Ts=[],As=[],bs=Ns=0,ao=Is.length;Ns<ao;bs=++Ns){if(Fs=Is[bs],cs=hs[bs],Fs===65535){os.push(0),Ts.push(0);break}if(Fs-(Ms=ts[Fs].new)>=32768)for(os.push(0),Ts.push(2*(As.length+Ps-bs)),rs=Ss=Fs;Fs<=cs?Ss<=cs:Ss>=cs;rs=Fs<=cs?++Ss:--Ss)As.push(ts[rs].new);else os.push(Ms-Fs),Ts.push(0)}for(Ws.writeUInt16(3),Ws.writeUInt16(1),Ws.writeUInt32(12),Ws.writeUInt16(4),Ws.writeUInt16(16+8*Ps+2*As.length),Ws.writeUInt16(0),Ws.writeUInt16(Qs),Ws.writeUInt16(Rs),Ws.writeUInt16(us),Ws.writeUInt16($s),Ao=0,js=hs.length;Ao<js;Ao++)rs=hs[Ao],Ws.writeUInt16(rs);for(Ws.writeUInt16(0),Xs=0,Bs=Is.length;Xs<Bs;Xs++)rs=Is[Xs],Ws.writeUInt16(rs);for(co=0,zs=os.length;co<zs;co++)ss=os[co],Ws.writeUInt16(ss);for(So=0,so=Ts.length;So<so;So++)gs=Ts[So],Ws.writeUInt16(gs);for(ro=0,oo=As.length;ro<oo;ro++)ys=As[ro],Ws.writeUInt16(ys);return{charMap:ts,subtable:Ws.data,maxGlyphID:fs+1}}},es}(),ue$1=function(es){function ki(){return ki.__super__.constructor.apply(this,arguments)}return oe$1(ki,re$1),ki.prototype.tag="cmap",ki.prototype.parse=function(Ri){var ts,rs,is;for(Ri.pos=this.offset,this.version=Ri.readUInt16(),is=Ri.readUInt16(),this.tables=[],this.unicode=null,rs=0;0<=is?rs<is:rs>is;rs=0<=is?++rs:--rs)ts=new ce$1(Ri,this.offset),this.tables.push(ts),ts.isUnicode&&this.unicode==null&&(this.unicode=ts);return!0},ki.encode=function(Ri,ts){var rs,is;return ts==null&&(ts="macroman"),rs=ce$1.encode(Ri,ts),(is=new ne$2).writeUInt16(0),is.writeUInt16(1),rs.table=is.data.concat(rs.subtable),rs},ki}(),he$1=function(es){function ki(){return ki.__super__.constructor.apply(this,arguments)}return oe$1(ki,re$1),ki.prototype.tag="hhea",ki.prototype.parse=function(Ri){return Ri.pos=this.offset,this.version=Ri.readInt(),this.ascender=Ri.readShort(),this.decender=Ri.readShort(),this.lineGap=Ri.readShort(),this.advanceWidthMax=Ri.readShort(),this.minLeftSideBearing=Ri.readShort(),this.minRightSideBearing=Ri.readShort(),this.xMaxExtent=Ri.readShort(),this.caretSlopeRise=Ri.readShort(),this.caretSlopeRun=Ri.readShort(),this.caretOffset=Ri.readShort(),Ri.pos+=8,this.metricDataFormat=Ri.readShort(),this.numberOfMetrics=Ri.readUInt16()},ki}(),le$1=function(es){function ki(){return ki.__super__.constructor.apply(this,arguments)}return oe$1(ki,re$1),ki.prototype.tag="OS/2",ki.prototype.parse=function(Ri){if(Ri.pos=this.offset,this.version=Ri.readUInt16(),this.averageCharWidth=Ri.readShort(),this.weightClass=Ri.readUInt16(),this.widthClass=Ri.readUInt16(),this.type=Ri.readShort(),this.ySubscriptXSize=Ri.readShort(),this.ySubscriptYSize=Ri.readShort(),this.ySubscriptXOffset=Ri.readShort(),this.ySubscriptYOffset=Ri.readShort(),this.ySuperscriptXSize=Ri.readShort(),this.ySuperscriptYSize=Ri.readShort(),this.ySuperscriptXOffset=Ri.readShort(),this.ySuperscriptYOffset=Ri.readShort(),this.yStrikeoutSize=Ri.readShort(),this.yStrikeoutPosition=Ri.readShort(),this.familyClass=Ri.readShort(),this.panose=function(){var ts,rs;for(rs=[],ts=0;ts<10;++ts)rs.push(Ri.readByte());return rs}(),this.charRange=function(){var ts,rs;for(rs=[],ts=0;ts<4;++ts)rs.push(Ri.readInt());return rs}(),this.vendorID=Ri.readString(4),this.selection=Ri.readShort(),this.firstCharIndex=Ri.readShort(),this.lastCharIndex=Ri.readShort(),this.version>0&&(this.ascent=Ri.readShort(),this.descent=Ri.readShort(),this.lineGap=Ri.readShort(),this.winAscent=Ri.readShort(),this.winDescent=Ri.readShort(),this.codePageRange=function(){var ts,rs;for(rs=[],ts=0;ts<2;ts=++ts)rs.push(Ri.readInt());return rs}(),this.version>1))return this.xHeight=Ri.readShort(),this.capHeight=Ri.readShort(),this.defaultChar=Ri.readShort(),this.breakChar=Ri.readShort(),this.maxContext=Ri.readShort()},ki}(),fe$2=function(es){function ki(){return ki.__super__.constructor.apply(this,arguments)}return oe$1(ki,re$1),ki.prototype.tag="post",ki.prototype.parse=function(Ri){var ts,rs,is;switch(Ri.pos=this.offset,this.format=Ri.readInt(),this.italicAngle=Ri.readInt(),this.underlinePosition=Ri.readShort(),this.underlineThickness=Ri.readShort(),this.isFixedPitch=Ri.readInt(),this.minMemType42=Ri.readInt(),this.maxMemType42=Ri.readInt(),this.minMemType1=Ri.readInt(),this.maxMemType1=Ri.readInt(),this.format){case 65536:break;case 131072:var ns;for(rs=Ri.readUInt16(),this.glyphNameIndex=[],ns=0;0<=rs?ns<rs:ns>rs;ns=0<=rs?++ns:--ns)this.glyphNameIndex.push(Ri.readUInt16());for(this.names=[],is=[];Ri.pos<this.offset+this.length;)ts=Ri.readByte(),is.push(this.names.push(Ri.readString(ts)));return is;case 151552:return rs=Ri.readUInt16(),this.offsets=Ri.read(rs);case 196608:break;case 262144:return this.map=(function(){var ss,os,ls;for(ls=[],ns=ss=0,os=this.file.maxp.numGlyphs;0<=os?ss<os:ss>os;ns=0<=os?++ss:--ss)ls.push(Ri.readUInt32());return ls}).call(this)}},ki}(),de$1=function(es,ki){this.raw=es,this.length=es.length,this.platformID=ki.platformID,this.encodingID=ki.encodingID,this.languageID=ki.languageID},pe$1=function(es){function ki(){return ki.__super__.constructor.apply(this,arguments)}return oe$1(ki,re$1),ki.prototype.tag="name",ki.prototype.parse=function(Ri){var ts,rs,is,ns,ss,os,ls,cs,hs,us,As;for(Ri.pos=this.offset,Ri.readShort(),ts=Ri.readShort(),os=Ri.readShort(),rs=[],ns=0;0<=ts?ns<ts:ns>ts;ns=0<=ts?++ns:--ns)rs.push({platformID:Ri.readShort(),encodingID:Ri.readShort(),languageID:Ri.readShort(),nameID:Ri.readShort(),length:Ri.readShort(),offset:this.offset+os+Ri.readShort()});for(ls={},ns=hs=0,us=rs.length;hs<us;ns=++hs)is=rs[ns],Ri.pos=is.offset,cs=Ri.readString(is.length),ss=new de$1(cs,is),ls[As=is.nameID]==null&&(ls[As]=[]),ls[is.nameID].push(ss);this.strings=ls,this.copyright=ls[0],this.fontFamily=ls[1],this.fontSubfamily=ls[2],this.uniqueSubfamily=ls[3],this.fontName=ls[4],this.version=ls[5];try{this.postscriptName=ls[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=ls[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=ls[7],this.manufacturer=ls[8],this.designer=ls[9],this.description=ls[10],this.vendorUrl=ls[11],this.designerUrl=ls[12],this.license=ls[13],this.licenseUrl=ls[14],this.preferredFamily=ls[15],this.preferredSubfamily=ls[17],this.compatibleFull=ls[18],this.sampleText=ls[19]},ki}(),ge$1=function(es){function ki(){return ki.__super__.constructor.apply(this,arguments)}return oe$1(ki,re$1),ki.prototype.tag="maxp",ki.prototype.parse=function(Ri){return Ri.pos=this.offset,this.version=Ri.readInt(),this.numGlyphs=Ri.readUInt16(),this.maxPoints=Ri.readUInt16(),this.maxContours=Ri.readUInt16(),this.maxCompositePoints=Ri.readUInt16(),this.maxComponentContours=Ri.readUInt16(),this.maxZones=Ri.readUInt16(),this.maxTwilightPoints=Ri.readUInt16(),this.maxStorage=Ri.readUInt16(),this.maxFunctionDefs=Ri.readUInt16(),this.maxInstructionDefs=Ri.readUInt16(),this.maxStackElements=Ri.readUInt16(),this.maxSizeOfInstructions=Ri.readUInt16(),this.maxComponentElements=Ri.readUInt16(),this.maxComponentDepth=Ri.readUInt16()},ki}(),me$1=function(es){function ki(){return ki.__super__.constructor.apply(this,arguments)}return oe$1(ki,re$1),ki.prototype.tag="hmtx",ki.prototype.parse=function(Ri){var ts,rs,is,ns,ss,os,ls;for(Ri.pos=this.offset,this.metrics=[],ts=0,os=this.file.hhea.numberOfMetrics;0<=os?ts<os:ts>os;ts=0<=os?++ts:--ts)this.metrics.push({advance:Ri.readUInt16(),lsb:Ri.readInt16()});for(is=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var cs,hs;for(hs=[],ts=cs=0;0<=is?cs<is:cs>is;ts=0<=is?++cs:--cs)hs.push(Ri.readInt16());return hs}(),this.widths=(function(){var cs,hs,us,As;for(As=[],cs=0,hs=(us=this.metrics).length;cs<hs;cs++)ns=us[cs],As.push(ns.advance);return As}).call(this),rs=this.widths[this.widths.length-1],ls=[],ts=ss=0;0<=is?ss<is:ss>is;ts=0<=is?++ss:--ss)ls.push(this.widths.push(rs));return ls},ki.prototype.forGlyph=function(Ri){return Ri in this.metrics?this.metrics[Ri]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[Ri-this.metrics.length]}},ki}(),ve$1=[].slice,be$1=function(es){function ki(){return ki.__super__.constructor.apply(this,arguments)}return oe$1(ki,re$1),ki.prototype.tag="glyf",ki.prototype.parse=function(){return this.cache={}},ki.prototype.glyphFor=function(Ri){var ts,rs,is,ns,ss,os,ls,cs,hs,us;return Ri in this.cache?this.cache[Ri]:(ns=this.file.loca,ts=this.file.contents,rs=ns.indexOf(Ri),(is=ns.lengthOf(Ri))===0?this.cache[Ri]=null:(ts.pos=this.offset+rs,ss=(os=new ne$2(ts.read(is))).readShort(),cs=os.readShort(),us=os.readShort(),ls=os.readShort(),hs=os.readShort(),this.cache[Ri]=ss===-1?new we$1(os,cs,us,ls,hs):new ye$1(os,ss,cs,us,ls,hs),this.cache[Ri]))},ki.prototype.encode=function(Ri,ts,rs){var is,ns,ss,os,ls;for(ss=[],ns=[],os=0,ls=ts.length;os<ls;os++)is=Ri[ts[os]],ns.push(ss.length),is&&(ss=ss.concat(is.encode(rs)));return ns.push(ss.length),{table:ss,offsets:ns}},ki}(),ye$1=function(){function es(ki,Ri,ts,rs,is,ns){this.raw=ki,this.numberOfContours=Ri,this.xMin=ts,this.yMin=rs,this.xMax=is,this.yMax=ns,this.compound=!1}return es.prototype.encode=function(){return this.raw.data},es}(),we$1=function(){function es(ki,Ri,ts,rs,is){var ns,ss;for(this.raw=ki,this.xMin=Ri,this.yMin=ts,this.xMax=rs,this.yMax=is,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],ns=this.raw;ss=ns.readShort(),this.glyphOffsets.push(ns.pos),this.glyphIDs.push(ns.readUInt16()),32&ss;)ns.pos+=1&ss?4:2,128&ss?ns.pos+=8:64&ss?ns.pos+=4:8&ss&&(ns.pos+=2)}return es.prototype.encode=function(){var ki,Ri,ts;for(Ri=new ne$2(ve$1.call(this.raw.data)),ki=0,ts=this.glyphIDs.length;ki<ts;++ki)Ri.pos=this.glyphOffsets[ki];return Ri.data},es}(),Ne$1=function(es){function ki(){return ki.__super__.constructor.apply(this,arguments)}return oe$1(ki,re$1),ki.prototype.tag="loca",ki.prototype.parse=function(Ri){var ts,rs;return Ri.pos=this.offset,ts=this.file.head.indexToLocFormat,this.offsets=ts===0?(function(){var is,ns;for(ns=[],rs=0,is=this.length;rs<is;rs+=2)ns.push(2*Ri.readUInt16());return ns}).call(this):(function(){var is,ns;for(ns=[],rs=0,is=this.length;rs<is;rs+=4)ns.push(Ri.readUInt32());return ns}).call(this)},ki.prototype.indexOf=function(Ri){return this.offsets[Ri]},ki.prototype.lengthOf=function(Ri){return this.offsets[Ri+1]-this.offsets[Ri]},ki.prototype.encode=function(Ri,ts){for(var rs=new Uint32Array(this.offsets.length),is=0,ns=0,ss=0;ss<rs.length;++ss)if(rs[ss]=is,ns<ts.length&&ts[ns]==ss){++ns,rs[ss]=is;var os=this.offsets[ss],ls=this.offsets[ss+1]-os;ls>0&&(is+=ls)}for(var cs=new Array(4*rs.length),hs=0;hs<rs.length;++hs)cs[4*hs+3]=255&rs[hs],cs[4*hs+2]=(65280&rs[hs])>>8,cs[4*hs+1]=(16711680&rs[hs])>>16,cs[4*hs]=(4278190080&rs[hs])>>24;return cs},ki}(),Le$1=function(){function es(ki){this.font=ki,this.subset={},this.unicodes={},this.next=33}return es.prototype.generateCmap=function(){var ki,Ri,ts,rs,is;for(Ri in rs=this.font.cmap.tables[0].codeMap,ki={},is=this.subset)ts=is[Ri],ki[Ri]=rs[ts];return ki},es.prototype.glyphsFor=function(ki){var Ri,ts,rs,is,ns,ss,os;for(rs={},ns=0,ss=ki.length;ns<ss;ns++)rs[is=ki[ns]]=this.font.glyf.glyphFor(is);for(is in Ri=[],rs)(ts=rs[is])!=null&&ts.compound&&Ri.push.apply(Ri,ts.glyphIDs);if(Ri.length>0)for(is in os=this.glyphsFor(Ri))ts=os[is],rs[is]=ts;return rs},es.prototype.encode=function(ki,Ri){var ts,rs,is,ns,ss,os,ls,cs,hs,us,As,bs,ys,Cs,ps;for(rs in ts=ue$1.encode(this.generateCmap(),"unicode"),ns=this.glyphsFor(ki),As={0:0},ps=ts.charMap)As[(os=ps[rs]).old]=os.new;for(bs in us=ts.maxGlyphID,ns)bs in As||(As[bs]=us++);return cs=function(ms){var fs,gs;for(fs in gs={},ms)gs[ms[fs]]=fs;return gs}(As),hs=Object.keys(cs).sort(function(ms,fs){return ms-fs}),ys=function(){var ms,fs,gs;for(gs=[],ms=0,fs=hs.length;ms<fs;ms++)ss=hs[ms],gs.push(cs[ss]);return gs}(),is=this.font.glyf.encode(ns,ys,As),ls=this.font.loca.encode(is.offsets,ys),Cs={cmap:this.font.cmap.raw(),glyf:is.table,loca:ls,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(Ri)},this.font.os2.exists&&(Cs["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Cs)},es}();E$2.API.PDFObject=function(){var es;function ki(){}return es=function(Ri,ts){return(Array(ts+1).join("0")+Ri).slice(-ts)},ki.convert=function(Ri){var ts,rs,is,ns;if(Array.isArray(Ri))return"["+function(){var ss,os,ls;for(ls=[],ss=0,os=Ri.length;ss<os;ss++)ts=Ri[ss],ls.push(ki.convert(ts));return ls}().join(" ")+"]";if(typeof Ri=="string")return"/"+Ri;if(Ri!=null&&Ri.isString)return"("+Ri+")";if(Ri instanceof Date)return"(D:"+es(Ri.getUTCFullYear(),4)+es(Ri.getUTCMonth(),2)+es(Ri.getUTCDate(),2)+es(Ri.getUTCHours(),2)+es(Ri.getUTCMinutes(),2)+es(Ri.getUTCSeconds(),2)+"Z)";if({}.toString.call(Ri)==="[object Object]"){for(rs in is=["<<"],Ri)ns=Ri[rs],is.push("/"+rs+" "+ki.convert(ns));return is.push(">>"),is.join(`
`)}return""+Ri},ki}();const jspdf_es_min=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:St$1,AcroFormAppearance:At$1,AcroFormButton:mt$1,AcroFormCheckBox:wt$1,AcroFormChoiceField:ft$1,AcroFormComboBox:pt$1,AcroFormEditBox:gt$1,AcroFormListBox:dt$1,AcroFormPasswordField:Lt$1,AcroFormPushButton:vt$1,AcroFormRadioButton:bt$1,AcroFormTextField:Nt$1,GState:j$2,ShadingPattern:B$1,TilingPattern:M$1,default:E$2,jsPDF:E$2},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(jspdf_es_min);var html2canvas={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var hasRequiredHtml2canvas;function requireHtml2canvas(){return hasRequiredHtml2canvas||(hasRequiredHtml2canvas=1,function(es,ki){(function(Ri,ts){es.exports=ts()})(commonjsGlobal,function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var Ri=function(Vs,Hs){return Ri=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Gs,qs){Gs.__proto__=qs}||function(Gs,qs){for(var po in qs)Object.prototype.hasOwnProperty.call(qs,po)&&(Gs[po]=qs[po])},Ri(Vs,Hs)};function ts(Vs,Hs){if(typeof Hs!="function"&&Hs!==null)throw new TypeError("Class extends value "+String(Hs)+" is not a constructor or null");Ri(Vs,Hs);function Gs(){this.constructor=Vs}Vs.prototype=Hs===null?Object.create(Hs):(Gs.prototype=Hs.prototype,new Gs)}var rs=function(){return rs=Object.assign||function(Hs){for(var Gs,qs=1,po=arguments.length;qs<po;qs++){Gs=arguments[qs];for(var Io in Gs)Object.prototype.hasOwnProperty.call(Gs,Io)&&(Hs[Io]=Gs[Io])}return Hs},rs.apply(this,arguments)};function is(Vs,Hs,Gs,qs){function po(Io){return Io instanceof Gs?Io:new Gs(function(Vo){Vo(Io)})}return new(Gs||(Gs=Promise))(function(Io,Vo){function ta(Sa){try{ya(qs.next(Sa))}catch(Da){Vo(Da)}}function ea(Sa){try{ya(qs.throw(Sa))}catch(Da){Vo(Da)}}function ya(Sa){Sa.done?Io(Sa.value):po(Sa.value).then(ta,ea)}ya((qs=qs.apply(Vs,[])).next())})}function ns(Vs,Hs){var Gs={label:0,sent:function(){if(Io[0]&1)throw Io[1];return Io[1]},trys:[],ops:[]},qs,po,Io,Vo;return Vo={next:ta(0),throw:ta(1),return:ta(2)},typeof Symbol=="function"&&(Vo[Symbol.iterator]=function(){return this}),Vo;function ta(ya){return function(Sa){return ea([ya,Sa])}}function ea(ya){if(qs)throw new TypeError("Generator is already executing.");for(;Gs;)try{if(qs=1,po&&(Io=ya[0]&2?po.return:ya[0]?po.throw||((Io=po.return)&&Io.call(po),0):po.next)&&!(Io=Io.call(po,ya[1])).done)return Io;switch(po=0,Io&&(ya=[ya[0]&2,Io.value]),ya[0]){case 0:case 1:Io=ya;break;case 4:return Gs.label++,{value:ya[1],done:!1};case 5:Gs.label++,po=ya[1],ya=[0];continue;case 7:ya=Gs.ops.pop(),Gs.trys.pop();continue;default:if(Io=Gs.trys,!(Io=Io.length>0&&Io[Io.length-1])&&(ya[0]===6||ya[0]===2)){Gs=0;continue}if(ya[0]===3&&(!Io||ya[1]>Io[0]&&ya[1]<Io[3])){Gs.label=ya[1];break}if(ya[0]===6&&Gs.label<Io[1]){Gs.label=Io[1],Io=ya;break}if(Io&&Gs.label<Io[2]){Gs.label=Io[2],Gs.ops.push(ya);break}Io[2]&&Gs.ops.pop(),Gs.trys.pop();continue}ya=Hs.call(Vs,Gs)}catch(Sa){ya=[6,Sa],po=0}finally{qs=Io=0}if(ya[0]&5)throw ya[1];return{value:ya[0]?ya[1]:void 0,done:!0}}}function ss(Vs,Hs,Gs){if(arguments.length===2)for(var qs=0,po=Hs.length,Io;qs<po;qs++)(Io||!(qs in Hs))&&(Io||(Io=Array.prototype.slice.call(Hs,0,qs)),Io[qs]=Hs[qs]);return Vs.concat(Io||Hs)}for(var os=function(){function Vs(Hs,Gs,qs,po){this.left=Hs,this.top=Gs,this.width=qs,this.height=po}return Vs.prototype.add=function(Hs,Gs,qs,po){return new Vs(this.left+Hs,this.top+Gs,this.width+qs,this.height+po)},Vs.fromClientRect=function(Hs,Gs){return new Vs(Gs.left+Hs.windowBounds.left,Gs.top+Hs.windowBounds.top,Gs.width,Gs.height)},Vs.fromDOMRectList=function(Hs,Gs){var qs=Array.from(Gs).find(function(po){return po.width!==0});return qs?new Vs(qs.left+Hs.windowBounds.left,qs.top+Hs.windowBounds.top,qs.width,qs.height):Vs.EMPTY},Vs.EMPTY=new Vs(0,0,0,0),Vs}(),ls=function(Vs,Hs){return os.fromClientRect(Vs,Hs.getBoundingClientRect())},cs=function(Vs){var Hs=Vs.body,Gs=Vs.documentElement;if(!Hs||!Gs)throw new Error("Unable to get document size");var qs=Math.max(Math.max(Hs.scrollWidth,Gs.scrollWidth),Math.max(Hs.offsetWidth,Gs.offsetWidth),Math.max(Hs.clientWidth,Gs.clientWidth)),po=Math.max(Math.max(Hs.scrollHeight,Gs.scrollHeight),Math.max(Hs.offsetHeight,Gs.offsetHeight),Math.max(Hs.clientHeight,Gs.clientHeight));return new os(0,0,qs,po)},hs=function(Vs){for(var Hs=[],Gs=0,qs=Vs.length;Gs<qs;){var po=Vs.charCodeAt(Gs++);if(po>=55296&&po<=56319&&Gs<qs){var Io=Vs.charCodeAt(Gs++);(Io&64512)===56320?Hs.push(((po&1023)<<10)+(Io&1023)+65536):(Hs.push(po),Gs--)}else Hs.push(po)}return Hs},us=function(){for(var Vs=[],Hs=0;Hs<arguments.length;Hs++)Vs[Hs]=arguments[Hs];if(String.fromCodePoint)return String.fromCodePoint.apply(String,Vs);var Gs=Vs.length;if(!Gs)return"";for(var qs=[],po=-1,Io="";++po<Gs;){var Vo=Vs[po];Vo<=65535?qs.push(Vo):(Vo-=65536,qs.push((Vo>>10)+55296,Vo%1024+56320)),(po+1===Gs||qs.length>16384)&&(Io+=String.fromCharCode.apply(String,qs),qs.length=0)}return Io},As="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bs=typeof Uint8Array>"u"?[]:new Uint8Array(256),ys=0;ys<As.length;ys++)bs[As.charCodeAt(ys)]=ys;for(var Cs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ps=typeof Uint8Array>"u"?[]:new Uint8Array(256),ms=0;ms<Cs.length;ms++)ps[Cs.charCodeAt(ms)]=ms;for(var fs=function(Vs){var Hs=Vs.length*.75,Gs=Vs.length,qs,po=0,Io,Vo,ta,ea;Vs[Vs.length-1]==="="&&(Hs--,Vs[Vs.length-2]==="="&&Hs--);var ya=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(Hs):new Array(Hs),Sa=Array.isArray(ya)?ya:new Uint8Array(ya);for(qs=0;qs<Gs;qs+=4)Io=ps[Vs.charCodeAt(qs)],Vo=ps[Vs.charCodeAt(qs+1)],ta=ps[Vs.charCodeAt(qs+2)],ea=ps[Vs.charCodeAt(qs+3)],Sa[po++]=Io<<2|Vo>>4,Sa[po++]=(Vo&15)<<4|ta>>2,Sa[po++]=(ta&3)<<6|ea&63;return ya},gs=function(Vs){for(var Hs=Vs.length,Gs=[],qs=0;qs<Hs;qs+=2)Gs.push(Vs[qs+1]<<8|Vs[qs]);return Gs},ws=function(Vs){for(var Hs=Vs.length,Gs=[],qs=0;qs<Hs;qs+=4)Gs.push(Vs[qs+3]<<24|Vs[qs+2]<<16|Vs[qs+1]<<8|Vs[qs]);return Gs},Ts=5,$s=11,Rs=2,Ps=$s-Ts,Qs=65536>>Ts,Fs=1<<Ts,Is=Fs-1,Ms=1024>>Ts,Ws=Qs+Ms,Ds=Ws,_s=32,Ns=Ds+_s,Ss=65536>>$s,Us=1<<Ps,Zs=Us-1,ao=function(Vs,Hs,Gs){return Vs.slice?Vs.slice(Hs,Gs):new Uint16Array(Array.prototype.slice.call(Vs,Hs,Gs))},js=function(Vs,Hs,Gs){return Vs.slice?Vs.slice(Hs,Gs):new Uint32Array(Array.prototype.slice.call(Vs,Hs,Gs))},Bs=function(Vs,Hs){var Gs=fs(Vs),qs=Array.isArray(Gs)?ws(Gs):new Uint32Array(Gs),po=Array.isArray(Gs)?gs(Gs):new Uint16Array(Gs),Io=24,Vo=ao(po,Io/2,qs[4]/2),ta=qs[5]===2?ao(po,(Io+qs[4])/2):js(qs,Math.ceil((Io+qs[4])/4));return new zs(qs[0],qs[1],qs[2],qs[3],Vo,ta)},zs=function(){function Vs(Hs,Gs,qs,po,Io,Vo){this.initialValue=Hs,this.errorValue=Gs,this.highStart=qs,this.highValueIndex=po,this.index=Io,this.data=Vo}return Vs.prototype.get=function(Hs){var Gs;if(Hs>=0){if(Hs<55296||Hs>56319&&Hs<=65535)return Gs=this.index[Hs>>Ts],Gs=(Gs<<Rs)+(Hs&Is),this.data[Gs];if(Hs<=65535)return Gs=this.index[Qs+(Hs-55296>>Ts)],Gs=(Gs<<Rs)+(Hs&Is),this.data[Gs];if(Hs<this.highStart)return Gs=Ns-Ss+(Hs>>$s),Gs=this.index[Gs],Gs+=Hs>>Ts&Zs,Gs=this.index[Gs],Gs=(Gs<<Rs)+(Hs&Is),this.data[Gs];if(Hs<=1114111)return this.data[this.highValueIndex]}return this.errorValue},Vs}(),so="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oo=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ao=0;Ao<so.length;Ao++)oo[so.charCodeAt(Ao)]=Ao;var Xs="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",lo=50,co=1,So=2,ro=3,vo=4,Eo=5,mo=7,yo=8,Jo=9,Yo=10,Wo=11,ko=12,Qo=13,jo=14,Bo=15,go=16,_o=17,To=18,uo=19,Co=20,Oo=21,Fo=22,Po=23,Zo=24,na=25,ma=26,ua=27,ka=28,Ba=29,Va=30,Ea=31,il=32,kl=33,Ja=34,Ua=35,Na=36,nl=37,Wl=38,El=39,$c=40,ou=41,wl=42,dc=43,_u=[9001,65288],kc="!",Dl="×",Yc="÷",Pu=Bs(Xs),au=[Va,Na],dh=[co,So,ro,Eo],Mu=[Yo,yo],Ah=[ua,ma],Wu=dh.concat(Mu),Th=[Wl,El,$c,Ja,Ua],ca=[Bo,Qo],gl=function(Vs,Hs){Hs===void 0&&(Hs="strict");var Gs=[],qs=[],po=[];return Vs.forEach(function(Io,Vo){var ta=Pu.get(Io);if(ta>lo?(po.push(!0),ta-=lo):po.push(!1),["normal","auto","loose"].indexOf(Hs)!==-1&&[8208,8211,12316,12448].indexOf(Io)!==-1)return qs.push(Vo),Gs.push(go);if(ta===vo||ta===Wo){if(Vo===0)return qs.push(Vo),Gs.push(Va);var ea=Gs[Vo-1];return Wu.indexOf(ea)===-1?(qs.push(qs[Vo-1]),Gs.push(ea)):(qs.push(Vo),Gs.push(Va))}if(qs.push(Vo),ta===Ea)return Gs.push(Hs==="strict"?Oo:nl);if(ta===wl||ta===Ba)return Gs.push(Va);if(ta===dc)return Io>=131072&&Io<=196605||Io>=196608&&Io<=262141?Gs.push(nl):Gs.push(Va);Gs.push(ta)}),[qs,Gs,po]},cl=function(Vs,Hs,Gs,qs){var po=qs[Gs];if(Array.isArray(Vs)?Vs.indexOf(po)!==-1:Vs===po)for(var Io=Gs;Io<=qs.length;){Io++;var Vo=qs[Io];if(Vo===Hs)return!0;if(Vo!==Yo)break}if(po===Yo)for(var Io=Gs;Io>0;){Io--;var ta=qs[Io];if(Array.isArray(Vs)?Vs.indexOf(ta)!==-1:Vs===ta)for(var ea=Gs;ea<=qs.length;){ea++;var Vo=qs[ea];if(Vo===Hs)return!0;if(Vo!==Yo)break}if(ta!==Yo)break}return!1},Zl=function(Vs,Hs){for(var Gs=Vs;Gs>=0;){var qs=Hs[Gs];if(qs===Yo)Gs--;else return qs}return 0},oc=function(Vs,Hs,Gs,qs,po){if(Gs[qs]===0)return Dl;var Io=qs-1;if(Array.isArray(po)&&po[Io]===!0)return Dl;var Vo=Io-1,ta=Io+1,ea=Hs[Io],ya=Vo>=0?Hs[Vo]:0,Sa=Hs[ta];if(ea===So&&Sa===ro)return Dl;if(dh.indexOf(ea)!==-1)return kc;if(dh.indexOf(Sa)!==-1||Mu.indexOf(Sa)!==-1)return Dl;if(Zl(Io,Hs)===yo)return Yc;if(Pu.get(Vs[Io])===Wo||(ea===il||ea===kl)&&Pu.get(Vs[ta])===Wo||ea===mo||Sa===mo||ea===Jo||[Yo,Qo,Bo].indexOf(ea)===-1&&Sa===Jo||[_o,To,uo,Zo,ka].indexOf(Sa)!==-1||Zl(Io,Hs)===Fo||cl(Po,Fo,Io,Hs)||cl([_o,To],Oo,Io,Hs)||cl(ko,ko,Io,Hs))return Dl;if(ea===Yo)return Yc;if(ea===Po||Sa===Po)return Dl;if(Sa===go||ea===go)return Yc;if([Qo,Bo,Oo].indexOf(Sa)!==-1||ea===jo||ya===Na&&ca.indexOf(ea)!==-1||ea===ka&&Sa===Na||Sa===Co||au.indexOf(Sa)!==-1&&ea===na||au.indexOf(ea)!==-1&&Sa===na||ea===ua&&[nl,il,kl].indexOf(Sa)!==-1||[nl,il,kl].indexOf(ea)!==-1&&Sa===ma||au.indexOf(ea)!==-1&&Ah.indexOf(Sa)!==-1||Ah.indexOf(ea)!==-1&&au.indexOf(Sa)!==-1||[ua,ma].indexOf(ea)!==-1&&(Sa===na||[Fo,Bo].indexOf(Sa)!==-1&&Hs[ta+1]===na)||[Fo,Bo].indexOf(ea)!==-1&&Sa===na||ea===na&&[na,ka,Zo].indexOf(Sa)!==-1)return Dl;if([na,ka,Zo,_o,To].indexOf(Sa)!==-1)for(var Da=Io;Da>=0;){var Wa=Hs[Da];if(Wa===na)return Dl;if([ka,Zo].indexOf(Wa)!==-1)Da--;else break}if([ua,ma].indexOf(Sa)!==-1)for(var Da=[_o,To].indexOf(ea)!==-1?Vo:Io;Da>=0;){var Wa=Hs[Da];if(Wa===na)return Dl;if([ka,Zo].indexOf(Wa)!==-1)Da--;else break}if(Wl===ea&&[Wl,El,Ja,Ua].indexOf(Sa)!==-1||[El,Ja].indexOf(ea)!==-1&&[El,$c].indexOf(Sa)!==-1||[$c,Ua].indexOf(ea)!==-1&&Sa===$c||Th.indexOf(ea)!==-1&&[Co,ma].indexOf(Sa)!==-1||Th.indexOf(Sa)!==-1&&ea===ua||au.indexOf(ea)!==-1&&au.indexOf(Sa)!==-1||ea===Zo&&au.indexOf(Sa)!==-1||au.concat(na).indexOf(ea)!==-1&&Sa===Fo&&_u.indexOf(Vs[ta])===-1||au.concat(na).indexOf(Sa)!==-1&&ea===To)return Dl;if(ea===ou&&Sa===ou){for(var Ll=Gs[Io],pl=1;Ll>0&&(Ll--,Hs[Ll]===ou);)pl++;if(pl%2!==0)return Dl}return ea===il&&Sa===kl?Dl:Yc},Yl=function(Vs,Hs){Hs||(Hs={lineBreak:"normal",wordBreak:"normal"});var Gs=gl(Vs,Hs.lineBreak),qs=Gs[0],po=Gs[1],Io=Gs[2];(Hs.wordBreak==="break-all"||Hs.wordBreak==="break-word")&&(po=po.map(function(ta){return[na,Va,wl].indexOf(ta)!==-1?nl:ta}));var Vo=Hs.wordBreak==="keep-all"?Io.map(function(ta,ea){return ta&&Vs[ea]>=19968&&Vs[ea]<=40959}):void 0;return[qs,po,Vo]},Sc=function(){function Vs(Hs,Gs,qs,po){this.codePoints=Hs,this.required=Gs===kc,this.start=qs,this.end=po}return Vs.prototype.slice=function(){return us.apply(void 0,this.codePoints.slice(this.start,this.end))},Vs}(),Bh=function(Vs,Hs){var Gs=hs(Vs),qs=Yl(Gs,Hs),po=qs[0],Io=qs[1],Vo=qs[2],ta=Gs.length,ea=0,ya=0;return{next:function(){if(ya>=ta)return{done:!0,value:null};for(var Sa=Dl;ya<ta&&(Sa=oc(Gs,Io,po,++ya,Vo))===Dl;);if(Sa!==Dl||ya===ta){var Da=new Sc(Gs,Sa,ea,ya);return ea=ya,{value:Da,done:!1}}return{done:!0,value:null}}}},Eu=1,xu=2,_h=4,Nc=8,Cl=10,Lh=47,Qh=92,Fh=9,nc=32,ih=34,dd=61,Xc=35,Xa=36,zl=37,Ou=39,Nu=40,Ad=41,Go=95,ba=45,Ta=33,Oa=60,sl=62,Ml=64,Pl=91,Ac=93,Tc=61,Qc=123,vc=63,lu=125,cu=124,zu=126,fh=128,ph=65533,nh=42,Cc=43,Iu=44,pd=58,Ju=59,xl=46,Ih=0,gh=8,Lu=11,LA=14,FA=31,pA=127,Vh=-1,xd=48,rA=97,Of=101,zc=102,Rc=117,Sd=122,IA=65,Vd=69,gA=70,kA=85,sa=90,Aa=function(Vs){return Vs>=xd&&Vs<=57},Ra=function(Vs){return Vs>=55296&&Vs<=57343},ll=function(Vs){return Aa(Vs)||Vs>=IA&&Vs<=gA||Vs>=rA&&Vs<=zc},tc=function(Vs){return Vs>=rA&&Vs<=Sd},fc=function(Vs){return Vs>=IA&&Vs<=sa},Jc=function(Vs){return tc(Vs)||fc(Vs)},pc=function(Vs){return Vs>=fh},$l=function(Vs){return Vs===Cl||Vs===Fh||Vs===nc},qu=function(Vs){return Jc(Vs)||pc(Vs)||Vs===Go},Zc=function(Vs){return qu(Vs)||Aa(Vs)||Vs===ba},Pd=function(Vs){return Vs>=Ih&&Vs<=gh||Vs===Lu||Vs>=LA&&Vs<=FA||Vs===pA},mh=function(Vs,Hs){return Vs!==Qh?!1:Hs!==Cl},Zh=function(Vs,Hs,Gs){return Vs===ba?qu(Hs)||mh(Hs,Gs):qu(Vs)?!0:!!(Vs===Qh&&mh(Vs,Hs))},iA=function(Vs,Hs,Gs){return Vs===Cc||Vs===ba?Aa(Hs)?!0:Hs===xl&&Aa(Gs):Aa(Vs===xl?Hs:Vs)},Wh=function(Vs){var Hs=0,Gs=1;(Vs[Hs]===Cc||Vs[Hs]===ba)&&(Vs[Hs]===ba&&(Gs=-1),Hs++);for(var qs=[];Aa(Vs[Hs]);)qs.push(Vs[Hs++]);var po=qs.length?parseInt(us.apply(void 0,qs),10):0;Vs[Hs]===xl&&Hs++;for(var Io=[];Aa(Vs[Hs]);)Io.push(Vs[Hs++]);var Vo=Io.length,ta=Vo?parseInt(us.apply(void 0,Io),10):0;(Vs[Hs]===Vd||Vs[Hs]===Of)&&Hs++;var ea=1;(Vs[Hs]===Cc||Vs[Hs]===ba)&&(Vs[Hs]===ba&&(ea=-1),Hs++);for(var ya=[];Aa(Vs[Hs]);)ya.push(Vs[Hs++]);var Sa=ya.length?parseInt(us.apply(void 0,ya),10):0;return Gs*(po+ta*Math.pow(10,-Vo))*Math.pow(10,ea*Sa)},Lp={type:2},zh={type:3},Nf={type:4},gf={type:13},nA={type:8},Rf={type:21},YA={type:9},uu={type:10},Md={type:11},mA={type:12},Uf={type:14},no={type:23},No={type:1},oa={type:25},ha={type:24},La={type:26},$a={type:27},za={type:28},Tl={type:29},Ql={type:31},Xl={type:32},rc=function(){function Vs(){this._value=[]}return Vs.prototype.write=function(Hs){this._value=this._value.concat(hs(Hs))},Vs.prototype.read=function(){for(var Hs=[],Gs=this.consumeToken();Gs!==Xl;)Hs.push(Gs),Gs=this.consumeToken();return Hs},Vs.prototype.consumeToken=function(){var Hs=this.consumeCodePoint();switch(Hs){case ih:return this.consumeStringToken(ih);case Xc:var Gs=this.peekCodePoint(0),qs=this.peekCodePoint(1),po=this.peekCodePoint(2);if(Zc(Gs)||mh(qs,po)){var Io=Zh(Gs,qs,po)?xu:Eu,Vo=this.consumeName();return{type:5,value:Vo,flags:Io}}break;case Xa:if(this.peekCodePoint(0)===dd)return this.consumeCodePoint(),gf;break;case Ou:return this.consumeStringToken(Ou);case Nu:return Lp;case Ad:return zh;case nh:if(this.peekCodePoint(0)===dd)return this.consumeCodePoint(),Uf;break;case Cc:if(iA(Hs,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(Hs),this.consumeNumericToken();break;case Iu:return Nf;case ba:var ta=Hs,ea=this.peekCodePoint(0),ya=this.peekCodePoint(1);if(iA(ta,ea,ya))return this.reconsumeCodePoint(Hs),this.consumeNumericToken();if(Zh(ta,ea,ya))return this.reconsumeCodePoint(Hs),this.consumeIdentLikeToken();if(ea===ba&&ya===sl)return this.consumeCodePoint(),this.consumeCodePoint(),ha;break;case xl:if(iA(Hs,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(Hs),this.consumeNumericToken();break;case Lh:if(this.peekCodePoint(0)===nh)for(this.consumeCodePoint();;){var Sa=this.consumeCodePoint();if(Sa===nh&&(Sa=this.consumeCodePoint(),Sa===Lh))return this.consumeToken();if(Sa===Vh)return this.consumeToken()}break;case pd:return La;case Ju:return $a;case Oa:if(this.peekCodePoint(0)===Ta&&this.peekCodePoint(1)===ba&&this.peekCodePoint(2)===ba)return this.consumeCodePoint(),this.consumeCodePoint(),oa;break;case Ml:var Da=this.peekCodePoint(0),Wa=this.peekCodePoint(1),Ll=this.peekCodePoint(2);if(Zh(Da,Wa,Ll)){var Vo=this.consumeName();return{type:7,value:Vo}}break;case Pl:return za;case Qh:if(mh(Hs,this.peekCodePoint(0)))return this.reconsumeCodePoint(Hs),this.consumeIdentLikeToken();break;case Ac:return Tl;case Tc:if(this.peekCodePoint(0)===dd)return this.consumeCodePoint(),nA;break;case Qc:return Md;case lu:return mA;case Rc:case kA:var pl=this.peekCodePoint(0),_l=this.peekCodePoint(1);return pl===Cc&&(ll(_l)||_l===vc)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(Hs),this.consumeIdentLikeToken();case cu:if(this.peekCodePoint(0)===dd)return this.consumeCodePoint(),YA;if(this.peekCodePoint(0)===cu)return this.consumeCodePoint(),Rf;break;case zu:if(this.peekCodePoint(0)===dd)return this.consumeCodePoint(),uu;break;case Vh:return Xl}return $l(Hs)?(this.consumeWhiteSpace(),Ql):Aa(Hs)?(this.reconsumeCodePoint(Hs),this.consumeNumericToken()):qu(Hs)?(this.reconsumeCodePoint(Hs),this.consumeIdentLikeToken()):{type:6,value:us(Hs)}},Vs.prototype.consumeCodePoint=function(){var Hs=this._value.shift();return typeof Hs>"u"?-1:Hs},Vs.prototype.reconsumeCodePoint=function(Hs){this._value.unshift(Hs)},Vs.prototype.peekCodePoint=function(Hs){return Hs>=this._value.length?-1:this._value[Hs]},Vs.prototype.consumeUnicodeRangeToken=function(){for(var Hs=[],Gs=this.consumeCodePoint();ll(Gs)&&Hs.length<6;)Hs.push(Gs),Gs=this.consumeCodePoint();for(var qs=!1;Gs===vc&&Hs.length<6;)Hs.push(Gs),Gs=this.consumeCodePoint(),qs=!0;if(qs){var po=parseInt(us.apply(void 0,Hs.map(function(ea){return ea===vc?xd:ea})),16),Io=parseInt(us.apply(void 0,Hs.map(function(ea){return ea===vc?gA:ea})),16);return{type:30,start:po,end:Io}}var Vo=parseInt(us.apply(void 0,Hs),16);if(this.peekCodePoint(0)===ba&&ll(this.peekCodePoint(1))){this.consumeCodePoint(),Gs=this.consumeCodePoint();for(var ta=[];ll(Gs)&&ta.length<6;)ta.push(Gs),Gs=this.consumeCodePoint();var Io=parseInt(us.apply(void 0,ta),16);return{type:30,start:Vo,end:Io}}else return{type:30,start:Vo,end:Vo}},Vs.prototype.consumeIdentLikeToken=function(){var Hs=this.consumeName();return Hs.toLowerCase()==="url"&&this.peekCodePoint(0)===Nu?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Nu?(this.consumeCodePoint(),{type:19,value:Hs}):{type:20,value:Hs}},Vs.prototype.consumeUrlToken=function(){var Hs=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Vh)return{type:22,value:""};var Gs=this.peekCodePoint(0);if(Gs===Ou||Gs===ih){var qs=this.consumeStringToken(this.consumeCodePoint());return qs.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Vh||this.peekCodePoint(0)===Ad)?(this.consumeCodePoint(),{type:22,value:qs.value}):(this.consumeBadUrlRemnants(),no)}for(;;){var po=this.consumeCodePoint();if(po===Vh||po===Ad)return{type:22,value:us.apply(void 0,Hs)};if($l(po))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Vh||this.peekCodePoint(0)===Ad?(this.consumeCodePoint(),{type:22,value:us.apply(void 0,Hs)}):(this.consumeBadUrlRemnants(),no);if(po===ih||po===Ou||po===Nu||Pd(po))return this.consumeBadUrlRemnants(),no;if(po===Qh)if(mh(po,this.peekCodePoint(0)))Hs.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),no;else Hs.push(po)}},Vs.prototype.consumeWhiteSpace=function(){for(;$l(this.peekCodePoint(0));)this.consumeCodePoint()},Vs.prototype.consumeBadUrlRemnants=function(){for(;;){var Hs=this.consumeCodePoint();if(Hs===Ad||Hs===Vh)return;mh(Hs,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},Vs.prototype.consumeStringSlice=function(Hs){for(var Gs=5e4,qs="";Hs>0;){var po=Math.min(Gs,Hs);qs+=us.apply(void 0,this._value.splice(0,po)),Hs-=po}return this._value.shift(),qs},Vs.prototype.consumeStringToken=function(Hs){var Gs="",qs=0;do{var po=this._value[qs];if(po===Vh||po===void 0||po===Hs)return Gs+=this.consumeStringSlice(qs),{type:0,value:Gs};if(po===Cl)return this._value.splice(0,qs),No;if(po===Qh){var Io=this._value[qs+1];Io!==Vh&&Io!==void 0&&(Io===Cl?(Gs+=this.consumeStringSlice(qs),qs=-1,this._value.shift()):mh(po,Io)&&(Gs+=this.consumeStringSlice(qs),Gs+=us(this.consumeEscapedCodePoint()),qs=-1))}qs++}while(!0)},Vs.prototype.consumeNumber=function(){var Hs=[],Gs=_h,qs=this.peekCodePoint(0);for((qs===Cc||qs===ba)&&Hs.push(this.consumeCodePoint());Aa(this.peekCodePoint(0));)Hs.push(this.consumeCodePoint());qs=this.peekCodePoint(0);var po=this.peekCodePoint(1);if(qs===xl&&Aa(po))for(Hs.push(this.consumeCodePoint(),this.consumeCodePoint()),Gs=Nc;Aa(this.peekCodePoint(0));)Hs.push(this.consumeCodePoint());qs=this.peekCodePoint(0),po=this.peekCodePoint(1);var Io=this.peekCodePoint(2);if((qs===Vd||qs===Of)&&((po===Cc||po===ba)&&Aa(Io)||Aa(po)))for(Hs.push(this.consumeCodePoint(),this.consumeCodePoint()),Gs=Nc;Aa(this.peekCodePoint(0));)Hs.push(this.consumeCodePoint());return[Wh(Hs),Gs]},Vs.prototype.consumeNumericToken=function(){var Hs=this.consumeNumber(),Gs=Hs[0],qs=Hs[1],po=this.peekCodePoint(0),Io=this.peekCodePoint(1),Vo=this.peekCodePoint(2);if(Zh(po,Io,Vo)){var ta=this.consumeName();return{type:15,number:Gs,flags:qs,unit:ta}}return po===zl?(this.consumeCodePoint(),{type:16,number:Gs,flags:qs}):{type:17,number:Gs,flags:qs}},Vs.prototype.consumeEscapedCodePoint=function(){var Hs=this.consumeCodePoint();if(ll(Hs)){for(var Gs=us(Hs);ll(this.peekCodePoint(0))&&Gs.length<6;)Gs+=us(this.consumeCodePoint());$l(this.peekCodePoint(0))&&this.consumeCodePoint();var qs=parseInt(Gs,16);return qs===0||Ra(qs)||qs>1114111?ph:qs}return Hs===Vh?ph:Hs},Vs.prototype.consumeName=function(){for(var Hs="";;){var Gs=this.consumeCodePoint();if(Zc(Gs))Hs+=us(Gs);else if(mh(Gs,this.peekCodePoint(0)))Hs+=us(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(Gs),Hs}},Vs}(),Bc=function(){function Vs(Hs){this._tokens=Hs}return Vs.create=function(Hs){var Gs=new rc;return Gs.write(Hs),new Vs(Gs.read())},Vs.parseValue=function(Hs){return Vs.create(Hs).parseComponentValue()},Vs.parseValues=function(Hs){return Vs.create(Hs).parseComponentValues()},Vs.prototype.parseComponentValue=function(){for(var Hs=this.consumeToken();Hs.type===31;)Hs=this.consumeToken();if(Hs.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(Hs);var Gs=this.consumeComponentValue();do Hs=this.consumeToken();while(Hs.type===31);if(Hs.type===32)return Gs;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},Vs.prototype.parseComponentValues=function(){for(var Hs=[];;){var Gs=this.consumeComponentValue();if(Gs.type===32)return Hs;Hs.push(Gs),Hs.push()}},Vs.prototype.consumeComponentValue=function(){var Hs=this.consumeToken();switch(Hs.type){case 11:case 28:case 2:return this.consumeSimpleBlock(Hs.type);case 19:return this.consumeFunction(Hs)}return Hs},Vs.prototype.consumeSimpleBlock=function(Hs){for(var Gs={type:Hs,values:[]},qs=this.consumeToken();;){if(qs.type===32||Wd(qs,Hs))return Gs;this.reconsumeToken(qs),Gs.values.push(this.consumeComponentValue()),qs=this.consumeToken()}},Vs.prototype.consumeFunction=function(Hs){for(var Gs={name:Hs.value,values:[],type:18};;){var qs=this.consumeToken();if(qs.type===32||qs.type===3)return Gs;this.reconsumeToken(qs),Gs.values.push(this.consumeComponentValue())}},Vs.prototype.consumeToken=function(){var Hs=this._tokens.shift();return typeof Hs>"u"?Xl:Hs},Vs.prototype.reconsumeToken=function(Hs){this._tokens.unshift(Hs)},Vs}(),bu=function(Vs){return Vs.type===15},fu=function(Vs){return Vs.type===17},Jl=function(Vs){return Vs.type===20},kh=function(Vs){return Vs.type===0},vh=function(Vs,Hs){return Jl(Vs)&&Vs.value===Hs},Td=function(Vs){return Vs.type!==31},eu=function(Vs){return Vs.type!==31&&Vs.type!==4},sh=function(Vs){var Hs=[],Gs=[];return Vs.forEach(function(qs){if(qs.type===4){if(Gs.length===0)throw new Error("Error parsing function args, zero tokens for arg");Hs.push(Gs),Gs=[];return}qs.type!==31&&Gs.push(qs)}),Gs.length&&Hs.push(Gs),Hs},Wd=function(Vs,Hs){return Hs===11&&Vs.type===12||Hs===28&&Vs.type===29?!0:Hs===2&&Vs.type===3},oh=function(Vs){return Vs.type===17||Vs.type===15},wu=function(Vs){return Vs.type===16||oh(Vs)},DA=function(Vs){return Vs.length>1?[Vs[0],Vs[1]]:[Vs[0]]},Zu={type:17,number:0,flags:_h},ed={type:16,number:50,flags:_h},wh={type:16,number:100,flags:_h},Gu=function(Vs,Hs,Gs){var qs=Vs[0],po=Vs[1];return[Dc(qs,Hs),Dc(typeof po<"u"?po:qs,Gs)]},Dc=function(Vs,Hs){if(Vs.type===16)return Vs.number/100*Hs;if(bu(Vs))switch(Vs.unit){case"rem":case"em":return 16*Vs.number;case"px":default:return Vs.number}return Vs.number},XA="deg",mf="grad",PA="rad",Dh="turn",Ph={name:"angle",parse:function(Vs,Hs){if(Hs.type===15)switch(Hs.unit){case XA:return Math.PI*Hs.number/180;case mf:return Math.PI/200*Hs.number;case PA:return Hs.number;case Dh:return Math.PI*2*Hs.number}throw new Error("Unsupported angle type")}},Mh=function(Vs){return Vs.type===15&&(Vs.unit===XA||Vs.unit===mf||Vs.unit===PA||Vs.unit===Dh)},Hf=function(Vs){var Hs=Vs.filter(Jl).map(function(Gs){return Gs.value}).join(" ");switch(Hs){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Zu,Zu];case"to top":case"bottom":return Ru(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Zu,wh];case"to right":case"left":return Ru(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[wh,wh];case"to bottom":case"top":return Ru(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[wh,Zu];case"to left":case"right":return Ru(270)}return 0},Ru=function(Vs){return Math.PI*Vs/180},Od={name:"color",parse:function(Vs,Hs){if(Hs.type===18){var Gs=sA[Hs.name];if(typeof Gs>"u")throw new Error('Attempting to parse an unsupported color function "'+Hs.name+'"');return Gs(Vs,Hs.values)}if(Hs.type===5){if(Hs.value.length===3){var qs=Hs.value.substring(0,1),po=Hs.value.substring(1,2),Io=Hs.value.substring(2,3);return qh(parseInt(qs+qs,16),parseInt(po+po,16),parseInt(Io+Io,16),1)}if(Hs.value.length===4){var qs=Hs.value.substring(0,1),po=Hs.value.substring(1,2),Io=Hs.value.substring(2,3),Vo=Hs.value.substring(3,4);return qh(parseInt(qs+qs,16),parseInt(po+po,16),parseInt(Io+Io,16),parseInt(Vo+Vo,16)/255)}if(Hs.value.length===6){var qs=Hs.value.substring(0,2),po=Hs.value.substring(2,4),Io=Hs.value.substring(4,6);return qh(parseInt(qs,16),parseInt(po,16),parseInt(Io,16),1)}if(Hs.value.length===8){var qs=Hs.value.substring(0,2),po=Hs.value.substring(2,4),Io=Hs.value.substring(4,6),Vo=Hs.value.substring(6,8);return qh(parseInt(qs,16),parseInt(po,16),parseInt(Io,16),parseInt(Vo,16)/255)}}if(Hs.type===20){var ta=Ca[Hs.value.toUpperCase()];if(typeof ta<"u")return ta}return Ca.TRANSPARENT}},rd=function(Vs){return(255&Vs)===0},tu=function(Vs){var Hs=255&Vs,Gs=255&Vs>>8,qs=255&Vs>>16,po=255&Vs>>24;return Hs<255?"rgba("+po+","+qs+","+Gs+","+Hs/255+")":"rgb("+po+","+qs+","+Gs+")"},qh=function(Vs,Hs,Gs,qs){return(Vs<<24|Hs<<16|Gs<<8|Math.round(qs*255)<<0)>>>0},MA=function(Vs,Hs){if(Vs.type===17)return Vs.number;if(Vs.type===16){var Gs=Hs===3?1:255;return Hs===3?Vs.number/100*Gs:Math.round(Vs.number/100*Gs)}return 0},Ch=function(Vs,Hs){var Gs=Hs.filter(eu);if(Gs.length===3){var qs=Gs.map(MA),po=qs[0],Io=qs[1],Vo=qs[2];return qh(po,Io,Vo,1)}if(Gs.length===4){var ta=Gs.map(MA),po=ta[0],Io=ta[1],Vo=ta[2],ea=ta[3];return qh(po,Io,Vo,ea)}return 0};function Oh(Vs,Hs,Gs){return Gs<0&&(Gs+=1),Gs>=1&&(Gs-=1),Gs<1/6?(Hs-Vs)*Gs*6+Vs:Gs<1/2?Hs:Gs<2/3?(Hs-Vs)*6*(2/3-Gs)+Vs:Vs}var vA=function(Vs,Hs){var Gs=Hs.filter(eu),qs=Gs[0],po=Gs[1],Io=Gs[2],Vo=Gs[3],ta=(qs.type===17?Ru(qs.number):Ph.parse(Vs,qs))/(Math.PI*2),ea=wu(po)?po.number/100:0,ya=wu(Io)?Io.number/100:0,Sa=typeof Vo<"u"&&wu(Vo)?Dc(Vo,1):1;if(ea===0)return qh(ya*255,ya*255,ya*255,1);var Da=ya<=.5?ya*(ea+1):ya+ea-ya*ea,Wa=ya*2-Da,Ll=Oh(Wa,Da,ta+1/3),pl=Oh(Wa,Da,ta),_l=Oh(Wa,Da,ta-1/3);return qh(Ll*255,pl*255,_l*255,Sa)},sA={hsl:vA,hsla:vA,rgb:Ch,rgba:Ch},ah=function(Vs,Hs){return Od.parse(Vs,Bc.create(Hs).parseComponentValue())},Ca={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Qa={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(Vs,Hs){return Hs.map(function(Gs){if(Jl(Gs))switch(Gs.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Fa={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yl=function(Vs,Hs){var Gs=Od.parse(Vs,Hs[0]),qs=Hs[1];return qs&&wu(qs)?{color:Gs,stop:qs}:{color:Gs,stop:null}},Nl=function(Vs,Hs){var Gs=Vs[0],qs=Vs[Vs.length-1];Gs.stop===null&&(Gs.stop=Zu),qs.stop===null&&(qs.stop=wh);for(var po=[],Io=0,Vo=0;Vo<Vs.length;Vo++){var ta=Vs[Vo].stop;if(ta!==null){var ea=Dc(ta,Hs);ea>Io?po.push(ea):po.push(Io),Io=ea}else po.push(null)}for(var ya=null,Vo=0;Vo<po.length;Vo++){var Sa=po[Vo];if(Sa===null)ya===null&&(ya=Vo);else if(ya!==null){for(var Da=Vo-ya,Wa=po[ya-1],Ll=(Sa-Wa)/(Da+1),pl=1;pl<=Da;pl++)po[ya+pl-1]=Ll*pl;ya=null}}return Vs.map(function(_l,Lc){var Vl=_l.color;return{color:Vl,stop:Math.max(Math.min(1,po[Lc]/Hs),0)}})},ac=function(Vs,Hs,Gs){var qs=Hs/2,po=Gs/2,Io=Dc(Vs[0],Hs)-qs,Vo=po-Dc(Vs[1],Gs);return(Math.atan2(Vo,Io)+Math.PI*2)%(Math.PI*2)},ku=function(Vs,Hs,Gs){var qs=typeof Vs=="number"?Vs:ac(Vs,Hs,Gs),po=Math.abs(Hs*Math.sin(qs))+Math.abs(Gs*Math.cos(qs)),Io=Hs/2,Vo=Gs/2,ta=po/2,ea=Math.sin(qs-Math.PI/2)*ta,ya=Math.cos(qs-Math.PI/2)*ta;return[po,Io-ya,Io+ya,Vo-ea,Vo+ea]},Ec=function(Vs,Hs){return Math.sqrt(Vs*Vs+Hs*Hs)},yA=function(Vs,Hs,Gs,qs,po){var Io=[[0,0],[0,Hs],[Vs,0],[Vs,Hs]];return Io.reduce(function(Vo,ta){var ea=ta[0],ya=ta[1],Sa=Ec(Gs-ea,qs-ya);return(po?Sa<Vo.optimumDistance:Sa>Vo.optimumDistance)?{optimumCorner:ta,optimumDistance:Sa}:Vo},{optimumDistance:po?1/0:-1/0,optimumCorner:null}).optimumCorner},vf=function(Vs,Hs,Gs,qs,po){var Io=0,Vo=0;switch(Vs.size){case 0:Vs.shape===0?Io=Vo=Math.min(Math.abs(Hs),Math.abs(Hs-qs),Math.abs(Gs),Math.abs(Gs-po)):Vs.shape===1&&(Io=Math.min(Math.abs(Hs),Math.abs(Hs-qs)),Vo=Math.min(Math.abs(Gs),Math.abs(Gs-po)));break;case 2:if(Vs.shape===0)Io=Vo=Math.min(Ec(Hs,Gs),Ec(Hs,Gs-po),Ec(Hs-qs,Gs),Ec(Hs-qs,Gs-po));else if(Vs.shape===1){var ta=Math.min(Math.abs(Gs),Math.abs(Gs-po))/Math.min(Math.abs(Hs),Math.abs(Hs-qs)),ea=yA(qs,po,Hs,Gs,!0),ya=ea[0],Sa=ea[1];Io=Ec(ya-Hs,(Sa-Gs)/ta),Vo=ta*Io}break;case 1:Vs.shape===0?Io=Vo=Math.max(Math.abs(Hs),Math.abs(Hs-qs),Math.abs(Gs),Math.abs(Gs-po)):Vs.shape===1&&(Io=Math.max(Math.abs(Hs),Math.abs(Hs-qs)),Vo=Math.max(Math.abs(Gs),Math.abs(Gs-po)));break;case 3:if(Vs.shape===0)Io=Vo=Math.max(Ec(Hs,Gs),Ec(Hs,Gs-po),Ec(Hs-qs,Gs),Ec(Hs-qs,Gs-po));else if(Vs.shape===1){var ta=Math.max(Math.abs(Gs),Math.abs(Gs-po))/Math.max(Math.abs(Hs),Math.abs(Hs-qs)),Da=yA(qs,po,Hs,Gs,!1),ya=Da[0],Sa=Da[1];Io=Ec(ya-Hs,(Sa-Gs)/ta),Vo=ta*Io}break}return Array.isArray(Vs.size)&&(Io=Dc(Vs.size[0],qs),Vo=Vs.size.length===2?Dc(Vs.size[1],po):Io),[Io,Vo]},Nh=function(Vs,Hs){var Gs=Ru(180),qs=[];return sh(Hs).forEach(function(po,Io){if(Io===0){var Vo=po[0];if(Vo.type===20&&Vo.value==="to"){Gs=Hf(po);return}else if(Mh(Vo)){Gs=Ph.parse(Vs,Vo);return}}var ta=yl(Vs,po);qs.push(ta)}),{angle:Gs,stops:qs,type:1}},Bd=function(Vs,Hs){var Gs=Ru(180),qs=[];return sh(Hs).forEach(function(po,Io){if(Io===0){var Vo=po[0];if(Vo.type===20&&["top","left","right","bottom"].indexOf(Vo.value)!==-1){Gs=Hf(po);return}else if(Mh(Vo)){Gs=(Ph.parse(Vs,Vo)+Ru(270))%Ru(360);return}}var ta=yl(Vs,po);qs.push(ta)}),{angle:Gs,stops:qs,type:1}},Nd=function(Vs,Hs){var Gs=Ru(180),qs=[],po=1,Io=0,Vo=3,ta=[];return sh(Hs).forEach(function(ea,ya){var Sa=ea[0];if(ya===0){if(Jl(Sa)&&Sa.value==="linear"){po=1;return}else if(Jl(Sa)&&Sa.value==="radial"){po=2;return}}if(Sa.type===18){if(Sa.name==="from"){var Da=Od.parse(Vs,Sa.values[0]);qs.push({stop:Zu,color:Da})}else if(Sa.name==="to"){var Da=Od.parse(Vs,Sa.values[0]);qs.push({stop:wh,color:Da})}else if(Sa.name==="color-stop"){var Wa=Sa.values.filter(eu);if(Wa.length===2){var Da=Od.parse(Vs,Wa[1]),Ll=Wa[0];fu(Ll)&&qs.push({stop:{type:16,number:Ll.number*100,flags:Ll.flags},color:Da})}}}}),po===1?{angle:(Gs+Ru(180))%Ru(360),stops:qs,type:po}:{size:Vo,shape:Io,stops:qs,position:ta,type:po}},Gh="closest-side",nd="farthest-side",_d="closest-corner",Pc="farthest-corner",Ld="circle",sd="ellipse",Mc="cover",qc="contain",Uc=function(Vs,Hs){var Gs=0,qs=3,po=[],Io=[];return sh(Hs).forEach(function(Vo,ta){var ea=!0;if(ta===0){var ya=!1;ea=Vo.reduce(function(Da,Wa){if(ya)if(Jl(Wa))switch(Wa.value){case"center":return Io.push(ed),Da;case"top":case"left":return Io.push(Zu),Da;case"right":case"bottom":return Io.push(wh),Da}else(wu(Wa)||oh(Wa))&&Io.push(Wa);else if(Jl(Wa))switch(Wa.value){case Ld:return Gs=0,!1;case sd:return Gs=1,!1;case"at":return ya=!0,!1;case Gh:return qs=0,!1;case Mc:case nd:return qs=1,!1;case qc:case _d:return qs=2,!1;case Pc:return qs=3,!1}else if(oh(Wa)||wu(Wa))return Array.isArray(qs)||(qs=[]),qs.push(Wa),!1;return Da},ea)}if(ea){var Sa=yl(Vs,Vo);po.push(Sa)}}),{size:qs,shape:Gs,stops:po,position:Io,type:2}},pu=function(Vs,Hs){var Gs=0,qs=3,po=[],Io=[];return sh(Hs).forEach(function(Vo,ta){var ea=!0;if(ta===0?ea=Vo.reduce(function(Sa,Da){if(Jl(Da))switch(Da.value){case"center":return Io.push(ed),!1;case"top":case"left":return Io.push(Zu),!1;case"right":case"bottom":return Io.push(wh),!1}else if(wu(Da)||oh(Da))return Io.push(Da),!1;return Sa},ea):ta===1&&(ea=Vo.reduce(function(Sa,Da){if(Jl(Da))switch(Da.value){case Ld:return Gs=0,!1;case sd:return Gs=1,!1;case qc:case Gh:return qs=0,!1;case nd:return qs=1,!1;case _d:return qs=2,!1;case Mc:case Pc:return qs=3,!1}else if(oh(Da)||wu(Da))return Array.isArray(qs)||(qs=[]),qs.push(Da),!1;return Sa},ea)),ea){var ya=yl(Vs,Vo);po.push(ya)}}),{size:qs,shape:Gs,stops:po,position:Io,type:2}},Eh=function(Vs){return Vs.type===1},gd=function(Vs){return Vs.type===2},oA={name:"image",parse:function(Vs,Hs){if(Hs.type===22){var Gs={url:Hs.value,type:0};return Vs.cache.addImage(Hs.value),Gs}if(Hs.type===18){var qs=aA[Hs.name];if(typeof qs>"u")throw new Error('Attempting to parse an unsupported image function "'+Hs.name+'"');return qs(Vs,Hs.values)}throw new Error("Unsupported image type "+Hs.type)}};function jf(Vs){return!(Vs.type===20&&Vs.value==="none")&&(Vs.type!==18||!!aA[Vs.name])}var aA={"linear-gradient":Nh,"-moz-linear-gradient":Bd,"-ms-linear-gradient":Bd,"-o-linear-gradient":Bd,"-webkit-linear-gradient":Bd,"radial-gradient":Uc,"-moz-radial-gradient":pu,"-ms-radial-gradient":pu,"-o-radial-gradient":pu,"-webkit-radial-gradient":pu,"-webkit-gradient":Nd},$f={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(Vs,Hs){if(Hs.length===0)return[];var Gs=Hs[0];return Gs.type===20&&Gs.value==="none"?[]:Hs.filter(function(qs){return eu(qs)&&jf(qs)}).map(function(qs){return oA.parse(Vs,qs)})}},od={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(Vs,Hs){return Hs.map(function(Gs){if(Jl(Gs))switch(Gs.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Rh={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(Vs,Hs){return sh(Hs).map(function(Gs){return Gs.filter(wu)}).map(DA)}},np={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(Vs,Hs){return sh(Hs).map(function(Gs){return Gs.filter(Jl).map(function(qs){return qs.value}).join(" ")}).map(bA)}},bA=function(Vs){switch(Vs){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Fd;(function(Vs){Vs.AUTO="auto",Vs.CONTAIN="contain",Vs.COVER="cover"})(Fd||(Fd={}));var OA={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(Vs,Hs){return sh(Hs).map(function(Gs){return Gs.filter(Qf)})}},Qf=function(Vs){return Jl(Vs)||wu(Vs)},lA=function(Vs){return{name:"border-"+Vs+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},sp=lA("top"),yf=lA("right"),NA=lA("bottom"),Vf=lA("left"),Wf=function(Vs){return{name:"border-radius-"+Vs,initialValue:"0 0",prefix:!1,type:1,parse:function(Hs,Gs){return DA(Gs.filter(wu))}}},Cg=Wf("top-left"),qp=Wf("top-right"),Fp=Wf("bottom-right"),Uu=Wf("bottom-left"),Ku=function(Vs){return{name:"border-"+Vs+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(Hs,Gs){switch(Gs){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Vg=Ku("top"),Ip=Ku("right"),Gp=Ku("bottom"),bf=Ku("left"),RA=function(Vs){return{name:"border-"+Vs+"-width",initialValue:"0",type:0,prefix:!1,parse:function(Hs,Gs){return bu(Gs)?Gs.number:0}}},md=RA("top"),wf=RA("right"),zd=RA("bottom"),wA=RA("left"),CA={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},op={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(Vs,Hs){switch(Hs){case"rtl":return 1;case"ltr":default:return 0}}},Cf={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(Vs,Hs){return Hs.filter(Jl).reduce(function(Gs,qs){return Gs|Eg(qs.value)},0)}},Eg=function(Vs){switch(Vs){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},JA={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(Vs,Hs){switch(Hs){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Kh={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(Vs,Hs){return Hs.type===20&&Hs.value==="normal"?0:Hs.type===17||Hs.type===15?Hs.number:0}},Uh;(function(Vs){Vs.NORMAL="normal",Vs.STRICT="strict"})(Uh||(Uh={}));var Wg={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(Vs,Hs){switch(Hs){case"strict":return Uh.STRICT;case"normal":default:return Uh.NORMAL}}},ap={name:"line-height",initialValue:"normal",prefix:!1,type:4},Rd=function(Vs,Hs){return Jl(Vs)&&Vs.value==="normal"?1.2*Hs:Vs.type===17?Hs*Vs.number:wu(Vs)?Dc(Vs,Hs):Hs},Ud={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(Vs,Hs){return Hs.type===20&&Hs.value==="none"?null:oA.parse(Vs,Hs)}},qo={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(Vs,Hs){switch(Hs){case"inside":return 0;case"outside":default:return 1}}},ZA={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(Vs,Hs){switch(Hs){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},lh=function(Vs){return{name:"margin-"+Vs,initialValue:"0",prefix:!1,type:4}},ru=lh("top"),Kl=lh("right"),yh=lh("bottom"),lp=lh("left"),kp={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(Vs,Hs){return Hs.filter(Jl).map(function(Gs){switch(Gs.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Hd={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(Vs,Hs){switch(Hs){case"break-word":return"break-word";case"normal":default:return"normal"}}},ef=function(Vs){return{name:"padding-"+Vs,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Kp=ef("top"),xg=ef("right"),Yp=ef("bottom"),Xp=ef("left"),cA={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(Vs,Hs){switch(Hs){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},zg={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(Vs,Hs){switch(Hs){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Jp={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(Vs,Hs){return Hs.length===1&&vh(Hs[0],"none")?[]:sh(Hs).map(function(Gs){for(var qs={color:Ca.TRANSPARENT,offsetX:Zu,offsetY:Zu,blur:Zu},po=0,Io=0;Io<Gs.length;Io++){var Vo=Gs[Io];oh(Vo)?(po===0?qs.offsetX=Vo:po===1?qs.offsetY=Vo:qs.blur=Vo,po++):qs.color=Od.parse(Vs,Vo)}return qs})}},Zp={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(Vs,Hs){switch(Hs){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Sg={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(Vs,Hs){if(Hs.type===20&&Hs.value==="none")return null;if(Hs.type===18){var Gs=cp[Hs.name];if(typeof Gs>"u")throw new Error('Attempting to parse an unsupported transform function "'+Hs.name+'"');return Gs(Hs.values)}return null}},Tg=function(Vs){var Hs=Vs.filter(function(Gs){return Gs.type===17}).map(function(Gs){return Gs.number});return Hs.length===6?Hs:null},qd=function(Vs){var Hs=Vs.filter(function(ea){return ea.type===17}).map(function(ea){return ea.number}),Gs=Hs[0],qs=Hs[1];Hs[2],Hs[3];var po=Hs[4],Io=Hs[5];Hs[6],Hs[7],Hs[8],Hs[9],Hs[10],Hs[11];var Vo=Hs[12],ta=Hs[13];return Hs[14],Hs[15],Hs.length===16?[Gs,qs,po,Io,Vo,ta]:null},cp={matrix:Tg,matrix3d:qd},zf={type:16,number:50,flags:_h},qg=[zf,zf],up={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(Vs,Hs){var Gs=Hs.filter(wu);return Gs.length!==2?qg:[Gs[0],Gs[1]]}},Os={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(Vs,Hs){switch(Hs){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Ks;(function(Vs){Vs.NORMAL="normal",Vs.BREAK_ALL="break-all",Vs.KEEP_ALL="keep-all"})(Ks||(Ks={}));for(var ho={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(Vs,Hs){switch(Hs){case"break-all":return Ks.BREAK_ALL;case"keep-all":return Ks.KEEP_ALL;case"normal":default:return Ks.NORMAL}}},xo={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(Vs,Hs){if(Hs.type===20)return{auto:!0,order:0};if(fu(Hs))return{auto:!1,order:Hs.number};throw new Error("Invalid z-index number parsed")}},Mo={name:"time",parse:function(Vs,Hs){if(Hs.type===15)switch(Hs.unit.toLowerCase()){case"s":return 1e3*Hs.number;case"ms":return Hs.number}throw new Error("Unsupported time type")}},Ro={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(Vs,Hs){return fu(Hs)?Hs.number:1}},$o={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zo={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(Vs,Hs){return Hs.filter(Jl).map(function(Gs){switch(Gs.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(Gs){return Gs!==0})}},Ko={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(Vs,Hs){var Gs=[],qs=[];return Hs.forEach(function(po){switch(po.type){case 20:case 0:Gs.push(po.value);break;case 17:Gs.push(po.number.toString());break;case 4:qs.push(Gs.join(" ")),Gs.length=0;break}}),Gs.length&&qs.push(Gs.join(" ")),qs.map(function(po){return po.indexOf(" ")===-1?po:"'"+po+"'"})}},ia={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},fa={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(Vs,Hs){if(fu(Hs))return Hs.number;if(Jl(Hs))switch(Hs.value){case"bold":return 700;case"normal":default:return 400}return 400}},Pa={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(Vs,Hs){return Hs.filter(Jl).map(function(Gs){return Gs.value})}},Ma={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(Vs,Hs){switch(Hs){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},pa=function(Vs,Hs){return(Vs&Hs)!==0},Ga={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(Vs,Hs){if(Hs.length===0)return[];var Gs=Hs[0];return Gs.type===20&&Gs.value==="none"?[]:Hs}},Ha={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(Vs,Hs){if(Hs.length===0)return null;var Gs=Hs[0];if(Gs.type===20&&Gs.value==="none")return null;for(var qs=[],po=Hs.filter(Td),Io=0;Io<po.length;Io++){var Vo=po[Io],ta=po[Io+1];if(Vo.type===20){var ea=ta&&fu(ta)?ta.number:1;qs.push({counter:Vo.value,increment:ea})}}return qs}},da={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(Vs,Hs){if(Hs.length===0)return[];for(var Gs=[],qs=Hs.filter(Td),po=0;po<qs.length;po++){var Io=qs[po],Vo=qs[po+1];if(Jl(Io)&&Io.value!=="none"){var ta=Vo&&fu(Vo)?Vo.number:0;Gs.push({counter:Io.value,reset:ta})}}return Gs}},wa={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(Vs,Hs){return Hs.filter(bu).map(function(Gs){return Mo.parse(Vs,Gs)})}},Ka={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(Vs,Hs){if(Hs.length===0)return null;var Gs=Hs[0];if(Gs.type===20&&Gs.value==="none")return null;var qs=[],po=Hs.filter(kh);if(po.length%2!==0)return null;for(var Io=0;Io<po.length;Io+=2){var Vo=po[Io].value,ta=po[Io+1].value;qs.push({open:Vo,close:ta})}return qs}},el=function(Vs,Hs,Gs){if(!Vs)return"";var qs=Vs[Math.min(Hs,Vs.length-1)];return qs?Gs?qs.open:qs.close:""},qa={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(Vs,Hs){return Hs.length===1&&vh(Hs[0],"none")?[]:sh(Hs).map(function(Gs){for(var qs={color:255,offsetX:Zu,offsetY:Zu,blur:Zu,spread:Zu,inset:!1},po=0,Io=0;Io<Gs.length;Io++){var Vo=Gs[Io];vh(Vo,"inset")?qs.inset=!0:oh(Vo)?(po===0?qs.offsetX=Vo:po===1?qs.offsetY=Vo:po===2?qs.blur=Vo:qs.spread=Vo,po++):qs.color=Od.parse(Vs,Vo)}return qs})}},bl={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(Vs,Hs){var Gs=[0,1,2],qs=[];return Hs.filter(Jl).forEach(function(po){switch(po.value){case"stroke":qs.push(1);break;case"fill":qs.push(0);break;case"markers":qs.push(2);break}}),Gs.forEach(function(po){qs.indexOf(po)===-1&&qs.push(po)}),qs}},hl={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Ol={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(Vs,Hs){return bu(Hs)?Hs.number:0}},vl=function(){function Vs(Hs,Gs){var qs,po;this.animationDuration=rl(Hs,wa,Gs.animationDuration),this.backgroundClip=rl(Hs,Qa,Gs.backgroundClip),this.backgroundColor=rl(Hs,Fa,Gs.backgroundColor),this.backgroundImage=rl(Hs,$f,Gs.backgroundImage),this.backgroundOrigin=rl(Hs,od,Gs.backgroundOrigin),this.backgroundPosition=rl(Hs,Rh,Gs.backgroundPosition),this.backgroundRepeat=rl(Hs,np,Gs.backgroundRepeat),this.backgroundSize=rl(Hs,OA,Gs.backgroundSize),this.borderTopColor=rl(Hs,sp,Gs.borderTopColor),this.borderRightColor=rl(Hs,yf,Gs.borderRightColor),this.borderBottomColor=rl(Hs,NA,Gs.borderBottomColor),this.borderLeftColor=rl(Hs,Vf,Gs.borderLeftColor),this.borderTopLeftRadius=rl(Hs,Cg,Gs.borderTopLeftRadius),this.borderTopRightRadius=rl(Hs,qp,Gs.borderTopRightRadius),this.borderBottomRightRadius=rl(Hs,Fp,Gs.borderBottomRightRadius),this.borderBottomLeftRadius=rl(Hs,Uu,Gs.borderBottomLeftRadius),this.borderTopStyle=rl(Hs,Vg,Gs.borderTopStyle),this.borderRightStyle=rl(Hs,Ip,Gs.borderRightStyle),this.borderBottomStyle=rl(Hs,Gp,Gs.borderBottomStyle),this.borderLeftStyle=rl(Hs,bf,Gs.borderLeftStyle),this.borderTopWidth=rl(Hs,md,Gs.borderTopWidth),this.borderRightWidth=rl(Hs,wf,Gs.borderRightWidth),this.borderBottomWidth=rl(Hs,zd,Gs.borderBottomWidth),this.borderLeftWidth=rl(Hs,wA,Gs.borderLeftWidth),this.boxShadow=rl(Hs,qa,Gs.boxShadow),this.color=rl(Hs,CA,Gs.color),this.direction=rl(Hs,op,Gs.direction),this.display=rl(Hs,Cf,Gs.display),this.float=rl(Hs,JA,Gs.cssFloat),this.fontFamily=rl(Hs,Ko,Gs.fontFamily),this.fontSize=rl(Hs,ia,Gs.fontSize),this.fontStyle=rl(Hs,Ma,Gs.fontStyle),this.fontVariant=rl(Hs,Pa,Gs.fontVariant),this.fontWeight=rl(Hs,fa,Gs.fontWeight),this.letterSpacing=rl(Hs,Kh,Gs.letterSpacing),this.lineBreak=rl(Hs,Wg,Gs.lineBreak),this.lineHeight=rl(Hs,ap,Gs.lineHeight),this.listStyleImage=rl(Hs,Ud,Gs.listStyleImage),this.listStylePosition=rl(Hs,qo,Gs.listStylePosition),this.listStyleType=rl(Hs,ZA,Gs.listStyleType),this.marginTop=rl(Hs,ru,Gs.marginTop),this.marginRight=rl(Hs,Kl,Gs.marginRight),this.marginBottom=rl(Hs,yh,Gs.marginBottom),this.marginLeft=rl(Hs,lp,Gs.marginLeft),this.opacity=rl(Hs,Ro,Gs.opacity);var Io=rl(Hs,kp,Gs.overflow);this.overflowX=Io[0],this.overflowY=Io[Io.length>1?1:0],this.overflowWrap=rl(Hs,Hd,Gs.overflowWrap),this.paddingTop=rl(Hs,Kp,Gs.paddingTop),this.paddingRight=rl(Hs,xg,Gs.paddingRight),this.paddingBottom=rl(Hs,Yp,Gs.paddingBottom),this.paddingLeft=rl(Hs,Xp,Gs.paddingLeft),this.paintOrder=rl(Hs,bl,Gs.paintOrder),this.position=rl(Hs,zg,Gs.position),this.textAlign=rl(Hs,cA,Gs.textAlign),this.textDecorationColor=rl(Hs,$o,(qs=Gs.textDecorationColor)!==null&&qs!==void 0?qs:Gs.color),this.textDecorationLine=rl(Hs,zo,(po=Gs.textDecorationLine)!==null&&po!==void 0?po:Gs.textDecoration),this.textShadow=rl(Hs,Jp,Gs.textShadow),this.textTransform=rl(Hs,Zp,Gs.textTransform),this.transform=rl(Hs,Sg,Gs.transform),this.transformOrigin=rl(Hs,up,Gs.transformOrigin),this.visibility=rl(Hs,Os,Gs.visibility),this.webkitTextStrokeColor=rl(Hs,hl,Gs.webkitTextStrokeColor),this.webkitTextStrokeWidth=rl(Hs,Ol,Gs.webkitTextStrokeWidth),this.wordBreak=rl(Hs,ho,Gs.wordBreak),this.zIndex=rl(Hs,xo,Gs.zIndex)}return Vs.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},Vs.prototype.isTransparent=function(){return rd(this.backgroundColor)},Vs.prototype.isTransformed=function(){return this.transform!==null},Vs.prototype.isPositioned=function(){return this.position!==0},Vs.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},Vs.prototype.isFloating=function(){return this.float!==0},Vs.prototype.isInlineLevel=function(){return pa(this.display,4)||pa(this.display,33554432)||pa(this.display,268435456)||pa(this.display,536870912)||pa(this.display,67108864)||pa(this.display,134217728)},Vs}(),Gc=function(){function Vs(Hs,Gs){this.content=rl(Hs,Ga,Gs.content),this.quotes=rl(Hs,Ka,Gs.quotes)}return Vs}(),iu=function(){function Vs(Hs,Gs){this.counterIncrement=rl(Hs,Ha,Gs.counterIncrement),this.counterReset=rl(Hs,da,Gs.counterReset)}return Vs}(),rl=function(Vs,Hs,Gs){var qs=new rc,po=Gs!==null&&typeof Gs<"u"?Gs.toString():Hs.initialValue;qs.write(po);var Io=new Bc(qs.read());switch(Hs.type){case 2:var Vo=Io.parseComponentValue();return Hs.parse(Vs,Jl(Vo)?Vo.value:Hs.initialValue);case 0:return Hs.parse(Vs,Io.parseComponentValue());case 1:return Hs.parse(Vs,Io.parseComponentValues());case 4:return Io.parseComponentValue();case 3:switch(Hs.format){case"angle":return Ph.parse(Vs,Io.parseComponentValue());case"color":return Od.parse(Vs,Io.parseComponentValue());case"image":return oA.parse(Vs,Io.parseComponentValue());case"length":var ta=Io.parseComponentValue();return oh(ta)?ta:Zu;case"length-percentage":var ea=Io.parseComponentValue();return wu(ea)?ea:Zu;case"time":return Mo.parse(Vs,Io.parseComponentValue())}break}},sc="data-html2canvas-debug",gu=function(Vs){var Hs=Vs.getAttribute(sc);switch(Hs){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},hu=function(Vs,Hs){var Gs=gu(Vs);return Gs===1||Hs===Gs},ql=function(){function Vs(Hs,Gs){if(this.context=Hs,this.textNodes=[],this.elements=[],this.flags=0,hu(Gs,3))debugger;this.styles=new vl(Hs,window.getComputedStyle(Gs,null)),jp(Gs)&&(this.styles.animationDuration.some(function(qs){return qs>0})&&(Gs.style.animationDuration="0s"),this.styles.transform!==null&&(Gs.style.transform="none")),this.bounds=ls(this.context,Gs),hu(Gs,4)&&(this.flags|=16)}return Vs}(),ch="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",uh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yc=typeof Uint8Array>"u"?[]:new Uint8Array(256),eh=0;eh<uh.length;eh++)yc[uh.charCodeAt(eh)]=eh;for(var nu=function(Vs){var Hs=Vs.length*.75,Gs=Vs.length,qs,po=0,Io,Vo,ta,ea;Vs[Vs.length-1]==="="&&(Hs--,Vs[Vs.length-2]==="="&&Hs--);var ya=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(Hs):new Array(Hs),Sa=Array.isArray(ya)?ya:new Uint8Array(ya);for(qs=0;qs<Gs;qs+=4)Io=yc[Vs.charCodeAt(qs)],Vo=yc[Vs.charCodeAt(qs+1)],ta=yc[Vs.charCodeAt(qs+2)],ea=yc[Vs.charCodeAt(qs+3)],Sa[po++]=Io<<2|Vo>>4,Sa[po++]=(Vo&15)<<4|ta>>2,Sa[po++]=(ta&3)<<6|ea&63;return ya},Hu=function(Vs){for(var Hs=Vs.length,Gs=[],qs=0;qs<Hs;qs+=2)Gs.push(Vs[qs+1]<<8|Vs[qs]);return Gs},ad=function(Vs){for(var Hs=Vs.length,Gs=[],qs=0;qs<Hs;qs+=4)Gs.push(Vs[qs+3]<<24|Vs[qs+2]<<16|Vs[qs+1]<<8|Vs[qs]);return Gs},Su=5,Fu=11,Vc=2,mu=Fu-Su,Id=65536>>Su,xh=1<<Su,Gd=xh-1,Kd=1024>>Su,uA=Id+Kd,UA=uA,Tu=32,hp=UA+Tu,Ef=65536>>Fu,eg=1<<mu,hA=eg-1,xf=function(Vs,Hs,Gs){return Vs.slice?Vs.slice(Hs,Gs):new Uint16Array(Array.prototype.slice.call(Vs,Hs,Gs))},tf=function(Vs,Hs,Gs){return Vs.slice?Vs.slice(Hs,Gs):new Uint32Array(Array.prototype.slice.call(Vs,Hs,Gs))},jd=function(Vs,Hs){var Gs=nu(Vs),qs=Array.isArray(Gs)?ad(Gs):new Uint32Array(Gs),po=Array.isArray(Gs)?Hu(Gs):new Uint16Array(Gs),Io=24,Vo=xf(po,Io/2,qs[4]/2),ta=qs[5]===2?xf(po,(Io+qs[4])/2):tf(qs,Math.ceil((Io+qs[4])/4));return new Yd(qs[0],qs[1],qs[2],qs[3],Vo,ta)},Yd=function(){function Vs(Hs,Gs,qs,po,Io,Vo){this.initialValue=Hs,this.errorValue=Gs,this.highStart=qs,this.highValueIndex=po,this.index=Io,this.data=Vo}return Vs.prototype.get=function(Hs){var Gs;if(Hs>=0){if(Hs<55296||Hs>56319&&Hs<=65535)return Gs=this.index[Hs>>Su],Gs=(Gs<<Vc)+(Hs&Gd),this.data[Gs];if(Hs<=65535)return Gs=this.index[Id+(Hs-55296>>Su)],Gs=(Gs<<Vc)+(Hs&Gd),this.data[Gs];if(Hs<this.highStart)return Gs=hp-Ef+(Hs>>Fu),Gs=this.index[Gs],Gs+=Hs>>Su&hA,Gs=this.index[Gs],Gs=(Gs<<Vc)+(Hs&Gd),this.data[Gs];if(Hs<=1114111)return this.data[this.highValueIndex]}return this.errorValue},Vs}(),rf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tg=typeof Uint8Array>"u"?[]:new Uint8Array(256),nf=0;nf<rf.length;nf++)tg[rf.charCodeAt(nf)]=nf;var Sf=1,Xd=2,HA=3,dA=4,sf=5,Bg=7,Dp=8,vd=9,yd=10,Tf=11,rg=12,ig=13,Pp=14,qf=15,Mp=function(Vs){for(var Hs=[],Gs=0,qs=Vs.length;Gs<qs;){var po=Vs.charCodeAt(Gs++);if(po>=55296&&po<=56319&&Gs<qs){var Io=Vs.charCodeAt(Gs++);(Io&64512)===56320?Hs.push(((po&1023)<<10)+(Io&1023)+65536):(Hs.push(po),Gs--)}else Hs.push(po)}return Hs},Yh=function(){for(var Vs=[],Hs=0;Hs<arguments.length;Hs++)Vs[Hs]=arguments[Hs];if(String.fromCodePoint)return String.fromCodePoint.apply(String,Vs);var Gs=Vs.length;if(!Gs)return"";for(var qs=[],po=-1,Io="";++po<Gs;){var Vo=Vs[po];Vo<=65535?qs.push(Vo):(Vo-=65536,qs.push((Vo>>10)+55296,Vo%1024+56320)),(po+1===Gs||qs.length>16384)&&(Io+=String.fromCharCode.apply(String,qs),qs.length=0)}return Io},Bf=jd(ch),kd="×",jA="÷",xc=function(Vs){return Bf.get(Vs)},_g=function(Vs,Hs,Gs){var qs=Gs-2,po=Hs[qs],Io=Hs[Gs-1],Vo=Hs[Gs];if(Io===Xd&&Vo===HA)return kd;if(Io===Xd||Io===HA||Io===dA||Vo===Xd||Vo===HA||Vo===dA)return jA;if(Io===Dp&&[Dp,vd,Tf,rg].indexOf(Vo)!==-1||(Io===Tf||Io===vd)&&(Vo===vd||Vo===yd)||(Io===rg||Io===yd)&&Vo===yd||Vo===ig||Vo===sf||Vo===Bg||Io===Sf)return kd;if(Io===ig&&Vo===Pp){for(;po===sf;)po=Hs[--qs];if(po===Pp)return kd}if(Io===qf&&Vo===qf){for(var ta=0;po===qf;)ta++,po=Hs[--qs];if(ta%2===0)return kd}return jA},dp=function(Vs){var Hs=Mp(Vs),Gs=Hs.length,qs=0,po=0,Io=Hs.map(xc);return{next:function(){if(qs>=Gs)return{done:!0,value:null};for(var Vo=kd;qs<Gs&&(Vo=_g(Hs,Io,++qs))===kd;);if(Vo!==kd||qs===Gs){var ta=Yh.apply(null,Hs.slice(po,qs));return po=qs,{value:ta,done:!1}}return{done:!0,value:null}}}},_f=function(Vs){for(var Hs=dp(Vs),Gs=[],qs;!(qs=Hs.next()).done;)qs.value&&Gs.push(qs.value.slice());return Gs},Op=function(Vs){var Hs=123;if(Vs.createRange){var Gs=Vs.createRange();if(Gs.getBoundingClientRect){var qs=Vs.createElement("boundtest");qs.style.height=Hs+"px",qs.style.display="block",Vs.body.appendChild(qs),Gs.selectNode(qs);var po=Gs.getBoundingClientRect(),Io=Math.round(po.height);if(Vs.body.removeChild(qs),Io===Hs)return!0}}return!1},of=function(Vs){var Hs=Vs.createElement("boundtest");Hs.style.width="50px",Hs.style.display="block",Hs.style.fontSize="12px",Hs.style.letterSpacing="0px",Hs.style.wordSpacing="0px",Vs.body.appendChild(Hs);var Gs=Vs.createRange();Hs.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var qs=Hs.firstChild,po=hs(qs.data).map(function(ea){return us(ea)}),Io=0,Vo={},ta=po.every(function(ea,ya){Gs.setStart(qs,Io),Gs.setEnd(qs,Io+ea.length);var Sa=Gs.getBoundingClientRect();Io+=ea.length;var Da=Sa.x>Vo.x||Sa.y>Vo.y;return Vo=Sa,ya===0?!0:Da});return Vs.body.removeChild(Hs),ta},Lg=function(){return typeof new Image().crossOrigin<"u"},bh=function(){return typeof new XMLHttpRequest().responseType=="string"},Ap=function(Vs){var Hs=new Image,Gs=Vs.createElement("canvas"),qs=Gs.getContext("2d");if(!qs)return!1;Hs.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{qs.drawImage(Hs,0,0),Gs.toDataURL()}catch{return!1}return!0},$A=function(Vs){return Vs[0]===0&&Vs[1]===255&&Vs[2]===0&&Vs[3]===255},Jd=function(Vs){var Hs=Vs.createElement("canvas"),Gs=100;Hs.width=Gs,Hs.height=Gs;var qs=Hs.getContext("2d");if(!qs)return Promise.reject(!1);qs.fillStyle="rgb(0, 255, 0)",qs.fillRect(0,0,Gs,Gs);var po=new Image,Io=Hs.toDataURL();po.src=Io;var Vo=Zd(Gs,Gs,0,0,po);return qs.fillStyle="red",qs.fillRect(0,0,Gs,Gs),Np(Vo).then(function(ta){qs.drawImage(ta,0,0);var ea=qs.getImageData(0,0,Gs,Gs).data;qs.fillStyle="red",qs.fillRect(0,0,Gs,Gs);var ya=Vs.createElement("div");return ya.style.backgroundImage="url("+Io+")",ya.style.height=Gs+"px",$A(ea)?Np(Zd(Gs,Gs,0,0,ya)):Promise.reject(!1)}).then(function(ta){return qs.drawImage(ta,0,0),$A(qs.getImageData(0,0,Gs,Gs).data)}).catch(function(){return!1})},Zd=function(Vs,Hs,Gs,qs,po){var Io="http://www.w3.org/2000/svg",Vo=document.createElementNS(Io,"svg"),ta=document.createElementNS(Io,"foreignObject");return Vo.setAttributeNS(null,"width",Vs.toString()),Vo.setAttributeNS(null,"height",Hs.toString()),ta.setAttributeNS(null,"width","100%"),ta.setAttributeNS(null,"height","100%"),ta.setAttributeNS(null,"x",Gs.toString()),ta.setAttributeNS(null,"y",qs.toString()),ta.setAttributeNS(null,"externalResourcesRequired","true"),Vo.appendChild(ta),ta.appendChild(po),Vo},Np=function(Vs){return new Promise(function(Hs,Gs){var qs=new Image;qs.onload=function(){return Hs(qs)},qs.onerror=Gs,qs.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(Vs))})},vu={get SUPPORT_RANGE_BOUNDS(){var Vs=Op(document);return Object.defineProperty(vu,"SUPPORT_RANGE_BOUNDS",{value:Vs}),Vs},get SUPPORT_WORD_BREAKING(){var Vs=vu.SUPPORT_RANGE_BOUNDS&&of(document);return Object.defineProperty(vu,"SUPPORT_WORD_BREAKING",{value:Vs}),Vs},get SUPPORT_SVG_DRAWING(){var Vs=Ap(document);return Object.defineProperty(vu,"SUPPORT_SVG_DRAWING",{value:Vs}),Vs},get SUPPORT_FOREIGNOBJECT_DRAWING(){var Vs=typeof Array.from=="function"&&typeof window.fetch=="function"?Jd(document):Promise.resolve(!1);return Object.defineProperty(vu,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:Vs}),Vs},get SUPPORT_CORS_IMAGES(){var Vs=Lg();return Object.defineProperty(vu,"SUPPORT_CORS_IMAGES",{value:Vs}),Vs},get SUPPORT_RESPONSE_TYPE(){var Vs=bh();return Object.defineProperty(vu,"SUPPORT_RESPONSE_TYPE",{value:Vs}),Vs},get SUPPORT_CORS_XHR(){var Vs="withCredentials"in new XMLHttpRequest;return Object.defineProperty(vu,"SUPPORT_CORS_XHR",{value:Vs}),Vs},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var Vs=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(vu,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:Vs}),Vs}},Hh=function(){function Vs(Hs,Gs){this.text=Hs,this.bounds=Gs}return Vs}(),Rp=function(Vs,Hs,Gs,qs){var po=AA(Hs,Gs),Io=[],Vo=0;return po.forEach(function(ta){if(Gs.textDecorationLine.length||ta.trim().length>0)if(vu.SUPPORT_RANGE_BOUNDS){var ea=af(qs,Vo,ta.length).getClientRects();if(ea.length>1){var ya=EA(ta),Sa=0;ya.forEach(function(Wa){Io.push(new Hh(Wa,os.fromDOMRectList(Vs,af(qs,Sa+Vo,Wa.length).getClientRects()))),Sa+=Wa.length})}else Io.push(new Hh(ta,os.fromDOMRectList(Vs,ea)))}else{var Da=qs.splitText(ta.length);Io.push(new Hh(ta,Lf(Vs,qs))),qs=Da}else vu.SUPPORT_RANGE_BOUNDS||(qs=qs.splitText(ta.length));Vo+=ta.length}),Io},Lf=function(Vs,Hs){var Gs=Hs.ownerDocument;if(Gs){var qs=Gs.createElement("html2canvaswrapper");qs.appendChild(Hs.cloneNode(!0));var po=Hs.parentNode;if(po){po.replaceChild(qs,Hs);var Io=ls(Vs,qs);return qs.firstChild&&po.replaceChild(qs.firstChild,qs),Io}}return os.EMPTY},af=function(Vs,Hs,Gs){var qs=Vs.ownerDocument;if(!qs)throw new Error("Node has no owner document");var po=qs.createRange();return po.setStart(Vs,Hs),po.setEnd(Vs,Hs+Gs),po},EA=function(Vs){if(vu.SUPPORT_NATIVE_TEXT_SEGMENTATION){var Hs=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(Hs.segment(Vs)).map(function(Gs){return Gs.segment})}return _f(Vs)},ld=function(Vs,Hs){if(vu.SUPPORT_NATIVE_TEXT_SEGMENTATION){var Gs=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(Gs.segment(Vs)).map(function(qs){return qs.segment})}return lf(Vs,Hs)},AA=function(Vs,Hs){return Hs.letterSpacing!==0?EA(Vs):ld(Vs,Hs)},eA=[32,160,4961,65792,65793,4153,4241],lf=function(Vs,Hs){for(var Gs=Bh(Vs,{lineBreak:Hs.lineBreak,wordBreak:Hs.overflowWrap==="break-word"?"break-word":Hs.wordBreak}),qs=[],po,Io=function(){if(po.value){var Vo=po.value.slice(),ta=hs(Vo),ea="";ta.forEach(function(ya){eA.indexOf(ya)===-1?ea+=us(ya):(ea.length&&qs.push(ea),qs.push(us(ya)),ea="")}),ea.length&&qs.push(ea)}};!(po=Gs.next()).done;)Io();return qs},xA=function(){function Vs(Hs,Gs,qs){this.text=Gf(Gs.data,qs.textTransform),this.textBounds=Rp(Hs,this.text,qs,Gs)}return Vs}(),Gf=function(Vs,Hs){switch(Hs){case 1:return Vs.toLowerCase();case 3:return Vs.replace(QA,Up);case 2:return Vs.toUpperCase();default:return Vs}},QA=/(^|\s|:|-|\(|\))([a-z])/g,Up=function(Vs,Hs,Gs){return Vs.length>0?Hs+Gs.toUpperCase():Vs},Kf=function(Vs){ts(Hs,Vs);function Hs(Gs,qs){var po=Vs.call(this,Gs,qs)||this;return po.src=qs.currentSrc||qs.src,po.intrinsicWidth=qs.naturalWidth,po.intrinsicHeight=qs.naturalHeight,po.context.cache.addImage(po.src),po}return Hs}(ql),fp=function(Vs){ts(Hs,Vs);function Hs(Gs,qs){var po=Vs.call(this,Gs,qs)||this;return po.canvas=qs,po.intrinsicWidth=qs.width,po.intrinsicHeight=qs.height,po}return Hs}(ql),lm=function(Vs){ts(Hs,Vs);function Hs(Gs,qs){var po=Vs.call(this,Gs,qs)||this,Io=new XMLSerializer,Vo=ls(Gs,qs);return qs.setAttribute("width",Vo.width+"px"),qs.setAttribute("height",Vo.height+"px"),po.svg="data:image/svg+xml,"+encodeURIComponent(Io.serializeToString(qs)),po.intrinsicWidth=qs.width.baseVal.value,po.intrinsicHeight=qs.height.baseVal.value,po.context.cache.addImage(po.svg),po}return Hs}(ql),cm=function(Vs){ts(Hs,Vs);function Hs(Gs,qs){var po=Vs.call(this,Gs,qs)||this;return po.value=qs.value,po}return Hs}(ql),pp=function(Vs){ts(Hs,Vs);function Hs(Gs,qs){var po=Vs.call(this,Gs,qs)||this;return po.start=qs.start,po.reversed=typeof qs.reversed=="boolean"&&qs.reversed===!0,po}return Hs}(ql),Gg=[{type:15,flags:0,unit:"px",number:3}],Kg=[{type:16,flags:0,number:50}],Lm=function(Vs){return Vs.width>Vs.height?new os(Vs.left+(Vs.width-Vs.height)/2,Vs.top,Vs.height,Vs.height):Vs.width<Vs.height?new os(Vs.left,Vs.top+(Vs.height-Vs.width)/2,Vs.width,Vs.width):Vs},Fg=function(Vs){var Hs=Vs.type===VA?new Array(Vs.value.length+1).join("•"):Vs.value;return Hs.length===0?Vs.placeholder||"":Hs},Hp="checkbox",bd="radio",VA="password",Yg=707406591,Xg=function(Vs){ts(Hs,Vs);function Hs(Gs,qs){var po=Vs.call(this,Gs,qs)||this;switch(po.type=qs.type.toLowerCase(),po.checked=qs.checked,po.value=Fg(qs),(po.type===Hp||po.type===bd)&&(po.styles.backgroundColor=3739148031,po.styles.borderTopColor=po.styles.borderRightColor=po.styles.borderBottomColor=po.styles.borderLeftColor=2779096575,po.styles.borderTopWidth=po.styles.borderRightWidth=po.styles.borderBottomWidth=po.styles.borderLeftWidth=1,po.styles.borderTopStyle=po.styles.borderRightStyle=po.styles.borderBottomStyle=po.styles.borderLeftStyle=1,po.styles.backgroundClip=[0],po.styles.backgroundOrigin=[0],po.bounds=Lm(po.bounds)),po.type){case Hp:po.styles.borderTopRightRadius=po.styles.borderTopLeftRadius=po.styles.borderBottomRightRadius=po.styles.borderBottomLeftRadius=Gg;break;case bd:po.styles.borderTopRightRadius=po.styles.borderTopLeftRadius=po.styles.borderBottomRightRadius=po.styles.borderBottomLeftRadius=Kg;break}return po}return Hs}(ql),gp=function(Vs){ts(Hs,Vs);function Hs(Gs,qs){var po=Vs.call(this,Gs,qs)||this,Io=qs.options[qs.selectedIndex||0];return po.value=Io&&Io.text||"",po}return Hs}(ql),WA=function(Vs){ts(Hs,Vs);function Hs(Gs,qs){var po=Vs.call(this,Gs,qs)||this;return po.value=qs.value,po}return Hs}(ql),mp=function(Vs){ts(Hs,Vs);function Hs(Gs,qs){var po=Vs.call(this,Gs,qs)||this;po.src=qs.src,po.width=parseInt(qs.width,10)||0,po.height=parseInt(qs.height,10)||0,po.backgroundColor=po.styles.backgroundColor;try{if(qs.contentWindow&&qs.contentWindow.document&&qs.contentWindow.document.documentElement){po.tree=vp(Gs,qs.contentWindow.document.documentElement);var Io=qs.contentWindow.document.documentElement?ah(Gs,getComputedStyle(qs.contentWindow.document.documentElement).backgroundColor):Ca.TRANSPARENT,Vo=qs.contentWindow.document.body?ah(Gs,getComputedStyle(qs.contentWindow.document.body).backgroundColor):Ca.TRANSPARENT;po.backgroundColor=rd(Io)?rd(Vo)?po.styles.backgroundColor:Vo:Io}}catch{}return po}return Hs}(ql),um=["OL","UL","MENU"],ng=function(Vs,Hs,Gs,qs){for(var po=Hs.firstChild,Io=void 0;po;po=Io)if(Io=po.nextSibling,Ig(po)&&po.data.trim().length>0)Gs.textNodes.push(new xA(Vs,po,Gs.styles));else if(yp(po))if(fA(po)&&po.assignedNodes)po.assignedNodes().forEach(function(ta){return ng(Vs,ta,Gs,qs)});else{var Vo=Jg(Vs,po);Vo.styles.isVisible()&&(sg(po,Vo,qs)?Vo.flags|=4:Fm(Vo.styles)&&(Vo.flags|=2),um.indexOf(po.tagName)!==-1&&(Vo.flags|=8),Gs.elements.push(Vo),po.slot,po.shadowRoot?ng(Vs,po.shadowRoot,Vo,qs):!wp(po)&&!Yf(po)&&!Xf(po)&&ng(Vs,po,Vo,qs))}},Jg=function(Vs,Hs){return Zg(Hs)?new Kf(Vs,Hs):Vp(Hs)?new fp(Vs,Hs):Yf(Hs)?new lm(Vs,Hs):Qp(Hs)?new cm(Vs,Hs):kg(Hs)?new pp(Vs,Hs):Dg(Hs)?new Xg(Vs,Hs):Xf(Hs)?new gp(Vs,Hs):wp(Hs)?new WA(Vs,Hs):em(Hs)?new mp(Vs,Hs):new ql(Vs,Hs)},vp=function(Vs,Hs){var Gs=Jg(Vs,Hs);return Gs.flags|=4,ng(Vs,Hs,Gs,Gs),Gs},sg=function(Vs,Hs,Gs){return Hs.styles.isPositionedWithZIndex()||Hs.styles.opacity<1||Hs.styles.isTransformed()||bp(Vs)&&Gs.styles.isTransparent()},Fm=function(Vs){return Vs.isPositioned()||Vs.isFloating()},Ig=function(Vs){return Vs.nodeType===Node.TEXT_NODE},yp=function(Vs){return Vs.nodeType===Node.ELEMENT_NODE},jp=function(Vs){return yp(Vs)&&typeof Vs.style<"u"&&!$p(Vs)},$p=function(Vs){return typeof Vs.className=="object"},Qp=function(Vs){return Vs.tagName==="LI"},kg=function(Vs){return Vs.tagName==="OL"},Dg=function(Vs){return Vs.tagName==="INPUT"},hm=function(Vs){return Vs.tagName==="HTML"},Yf=function(Vs){return Vs.tagName==="svg"},bp=function(Vs){return Vs.tagName==="BODY"},Vp=function(Vs){return Vs.tagName==="CANVAS"},Pg=function(Vs){return Vs.tagName==="VIDEO"},Zg=function(Vs){return Vs.tagName==="IMG"},em=function(Vs){return Vs.tagName==="IFRAME"},Kc=function(Vs){return Vs.tagName==="STYLE"},dm=function(Vs){return Vs.tagName==="SCRIPT"},wp=function(Vs){return Vs.tagName==="TEXTAREA"},Xf=function(Vs){return Vs.tagName==="SELECT"},fA=function(Vs){return Vs.tagName==="SLOT"},og=function(Vs){return Vs.tagName.indexOf("-")>0},tm=function(){function Vs(){this.counters={}}return Vs.prototype.getCounterValue=function(Hs){var Gs=this.counters[Hs];return Gs&&Gs.length?Gs[Gs.length-1]:1},Vs.prototype.getCounterValues=function(Hs){var Gs=this.counters[Hs];return Gs||[]},Vs.prototype.pop=function(Hs){var Gs=this;Hs.forEach(function(qs){return Gs.counters[qs].pop()})},Vs.prototype.parse=function(Hs){var Gs=this,qs=Hs.counterIncrement,po=Hs.counterReset,Io=!0;qs!==null&&qs.forEach(function(ta){var ea=Gs.counters[ta.counter];ea&&ta.increment!==0&&(Io=!1,ea.length||ea.push(1),ea[Math.max(0,ea.length-1)]+=ta.increment)});var Vo=[];return Io&&po.forEach(function(ta){var ea=Gs.counters[ta.counter];Vo.push(ta.counter),ea||(ea=Gs.counters[ta.counter]=[]),ea.push(ta.reset)}),Vo},Vs}(),zA={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ag={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Mg={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},lg={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},cf=function(Vs,Hs,Gs,qs,po,Io){return Vs<Hs||Vs>Gs?cg(Vs,po,Io.length>0):qs.integers.reduce(function(Vo,ta,ea){for(;Vs>=ta;)Vs-=ta,Vo+=qs.values[ea];return Vo},"")+Io},Cp=function(Vs,Hs,Gs,qs){var po="";do Gs||Vs--,po=qs(Vs)+po,Vs/=Hs;while(Vs*Hs>=Hs);return po},Bl=function(Vs,Hs,Gs,qs,po){var Io=Gs-Hs+1;return(Vs<0?"-":"")+(Cp(Math.abs(Vs),Io,qs,function(Vo){return us(Math.floor(Vo%Io)+Hs)})+po)},qA=function(Vs,Hs,Gs){Gs===void 0&&(Gs=". ");var qs=Hs.length;return Cp(Math.abs(Vs),qs,!1,function(po){return Hs[Math.floor(po%qs)]})+Gs},Hc=1,$d=2,Jf=4,SA=8,uf=function(Vs,Hs,Gs,qs,po,Io){if(Vs<-9999||Vs>9999)return cg(Vs,4,po.length>0);var Vo=Math.abs(Vs),ta=po;if(Vo===0)return Hs[0]+ta;for(var ea=0;Vo>0&&ea<=4;ea++){var ya=Vo%10;ya===0&&pa(Io,Hc)&&ta!==""?ta=Hs[ya]+ta:ya>1||ya===1&&ea===0||ya===1&&ea===1&&pa(Io,$d)||ya===1&&ea===1&&pa(Io,Jf)&&Vs>100||ya===1&&ea>1&&pa(Io,SA)?ta=Hs[ya]+(ea>0?Gs[ea-1]:"")+ta:ya===1&&ea>0&&(ta=Gs[ea-1]+ta),Vo=Math.floor(Vo/10)}return(Vs<0?qs:"")+ta},jh="十百千萬",Am="拾佰仟萬",hh="マイナス",Og="마이너스",cg=function(Vs,Hs,Gs){var qs=Gs?". ":"",po=Gs?"、":"",Io=Gs?", ":"",Vo=Gs?" ":"";switch(Hs){case 0:return"•"+Vo;case 1:return"◦"+Vo;case 2:return"◾"+Vo;case 5:var ta=Bl(Vs,48,57,!0,qs);return ta.length<4?"0"+ta:ta;case 4:return qA(Vs,"〇一二三四五六七八九",po);case 6:return cf(Vs,1,3999,zA,3,qs).toLowerCase();case 7:return cf(Vs,1,3999,zA,3,qs);case 8:return Bl(Vs,945,969,!1,qs);case 9:return Bl(Vs,97,122,!1,qs);case 10:return Bl(Vs,65,90,!1,qs);case 11:return Bl(Vs,1632,1641,!0,qs);case 12:case 49:return cf(Vs,1,9999,ag,3,qs);case 35:return cf(Vs,1,9999,ag,3,qs).toLowerCase();case 13:return Bl(Vs,2534,2543,!0,qs);case 14:case 30:return Bl(Vs,6112,6121,!0,qs);case 15:return qA(Vs,"子丑寅卯辰巳午未申酉戌亥",po);case 16:return qA(Vs,"甲乙丙丁戊己庚辛壬癸",po);case 17:case 48:return uf(Vs,"零一二三四五六七八九",jh,"負",po,$d|Jf|SA);case 47:return uf(Vs,"零壹貳參肆伍陸柒捌玖",Am,"負",po,Hc|$d|Jf|SA);case 42:return uf(Vs,"零一二三四五六七八九",jh,"负",po,$d|Jf|SA);case 41:return uf(Vs,"零壹贰叁肆伍陆柒捌玖",Am,"负",po,Hc|$d|Jf|SA);case 26:return uf(Vs,"〇一二三四五六七八九","十百千万",hh,po,0);case 25:return uf(Vs,"零壱弐参四伍六七八九","拾百千万",hh,po,Hc|$d|Jf);case 31:return uf(Vs,"영일이삼사오육칠팔구","십백천만",Og,Io,Hc|$d|Jf);case 33:return uf(Vs,"零一二三四五六七八九","十百千萬",Og,Io,0);case 32:return uf(Vs,"零壹貳參四五六七八九","拾百千",Og,Io,Hc|$d|Jf);case 18:return Bl(Vs,2406,2415,!0,qs);case 20:return cf(Vs,1,19999,lg,3,qs);case 21:return Bl(Vs,2790,2799,!0,qs);case 22:return Bl(Vs,2662,2671,!0,qs);case 22:return cf(Vs,1,10999,Mg,3,qs);case 23:return qA(Vs,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return qA(Vs,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Bl(Vs,3302,3311,!0,qs);case 28:return qA(Vs,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",po);case 29:return qA(Vs,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",po);case 34:return Bl(Vs,3792,3801,!0,qs);case 37:return Bl(Vs,6160,6169,!0,qs);case 38:return Bl(Vs,4160,4169,!0,qs);case 39:return Bl(Vs,2918,2927,!0,qs);case 40:return Bl(Vs,1776,1785,!0,qs);case 43:return Bl(Vs,3046,3055,!0,qs);case 44:return Bl(Vs,3174,3183,!0,qs);case 45:return Bl(Vs,3664,3673,!0,qs);case 46:return Bl(Vs,3872,3881,!0,qs);case 3:default:return Bl(Vs,48,57,!0,qs)}},rm="data-html2canvas-ignore",ug=function(){function Vs(Hs,Gs,qs){if(this.context=Hs,this.options=qs,this.scrolledElements=[],this.referenceElement=Gs,this.counters=new tm,this.quoteDepth=0,!Gs.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(Gs.ownerDocument.documentElement,!1)}return Vs.prototype.toIFrame=function(Hs,Gs){var qs=this,po=ds(Hs,Gs);if(!po.contentWindow)return Promise.reject("Unable to find iframe window");var Io=Hs.defaultView.pageXOffset,Vo=Hs.defaultView.pageYOffset,ta=po.contentWindow,ea=ta.document,ya=ks(po).then(function(){return is(qs,void 0,void 0,function(){var Sa,Da;return ns(this,function(Wa){switch(Wa.label){case 0:return this.scrolledElements.forEach(Do),ta&&(ta.scrollTo(Gs.left,Gs.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(ta.scrollY!==Gs.top||ta.scrollX!==Gs.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(ta.scrollX-Gs.left,ta.scrollY-Gs.top,0,0))),Sa=this.options.onclone,Da=this.clonedReferenceElement,typeof Da>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:ea.fonts&&ea.fonts.ready?[4,ea.fonts.ready]:[3,2];case 1:Wa.sent(),Wa.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Es(ea)]:[3,4];case 3:Wa.sent(),Wa.label=4;case 4:return typeof Sa=="function"?[2,Promise.resolve().then(function(){return Sa(ea,Da)}).then(function(){return po})]:[2,po]}})})});return ea.open(),ea.write(wo(document.doctype)+"<html></html>"),Lo(this.referenceElement.ownerDocument,Io,Vo),ea.replaceChild(ea.adoptNode(this.documentElement),ea.documentElement),ea.close(),ya},Vs.prototype.createElementClone=function(Hs){if(hu(Hs,2))debugger;if(Vp(Hs))return this.createCanvasClone(Hs);if(Pg(Hs))return this.createVideoClone(Hs);if(Kc(Hs))return this.createStyleClone(Hs);var Gs=Hs.cloneNode(!1);return Zg(Gs)&&(Zg(Hs)&&Hs.currentSrc&&Hs.currentSrc!==Hs.src&&(Gs.src=Hs.currentSrc,Gs.srcset=""),Gs.loading==="lazy"&&(Gs.loading="eager")),og(Gs)?this.createCustomElementClone(Gs):Gs},Vs.prototype.createCustomElementClone=function(Hs){var Gs=document.createElement("html2canvascustomelement");return fo(Hs.style,Gs),Gs},Vs.prototype.createStyleClone=function(Hs){try{var Gs=Hs.sheet;if(Gs&&Gs.cssRules){var qs=[].slice.call(Gs.cssRules,0).reduce(function(Io,Vo){return Vo&&typeof Vo.cssText=="string"?Io+Vo.cssText:Io},""),po=Hs.cloneNode(!1);return po.textContent=qs,po}}catch(Io){if(this.context.logger.error("Unable to access cssRules property",Io),Io.name!=="SecurityError")throw Io}return Hs.cloneNode(!1)},Vs.prototype.createCanvasClone=function(Hs){var Gs;if(this.options.inlineImages&&Hs.ownerDocument){var qs=Hs.ownerDocument.createElement("img");try{return qs.src=Hs.toDataURL(),qs}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",Hs)}}var po=Hs.cloneNode(!1);try{po.width=Hs.width,po.height=Hs.height;var Io=Hs.getContext("2d"),Vo=po.getContext("2d");if(Vo)if(!this.options.allowTaint&&Io)Vo.putImageData(Io.getImageData(0,0,Hs.width,Hs.height),0,0);else{var ta=(Gs=Hs.getContext("webgl2"))!==null&&Gs!==void 0?Gs:Hs.getContext("webgl");if(ta){var ea=ta.getContextAttributes();(ea==null?void 0:ea.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",Hs)}Vo.drawImage(Hs,0,0)}return po}catch{this.context.logger.info("Unable to clone canvas as it is tainted",Hs)}return po},Vs.prototype.createVideoClone=function(Hs){var Gs=Hs.ownerDocument.createElement("canvas");Gs.width=Hs.offsetWidth,Gs.height=Hs.offsetHeight;var qs=Gs.getContext("2d");try{return qs&&(qs.drawImage(Hs,0,0,Gs.width,Gs.height),this.options.allowTaint||qs.getImageData(0,0,Gs.width,Gs.height)),Gs}catch{this.context.logger.info("Unable to clone video as it is tainted",Hs)}var po=Hs.ownerDocument.createElement("canvas");return po.width=Hs.offsetWidth,po.height=Hs.offsetHeight,po},Vs.prototype.appendChildNode=function(Hs,Gs,qs){(!yp(Gs)||!dm(Gs)&&!Gs.hasAttribute(rm)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(Gs)))&&(!this.options.copyStyles||!yp(Gs)||!Kc(Gs))&&Hs.appendChild(this.cloneNode(Gs,qs))},Vs.prototype.cloneChildNodes=function(Hs,Gs,qs){for(var po=this,Io=Hs.shadowRoot?Hs.shadowRoot.firstChild:Hs.firstChild;Io;Io=Io.nextSibling)if(yp(Io)&&fA(Io)&&typeof Io.assignedNodes=="function"){var Vo=Io.assignedNodes();Vo.length&&Vo.forEach(function(ta){return po.appendChildNode(Gs,ta,qs)})}else this.appendChildNode(Gs,Io,qs)},Vs.prototype.cloneNode=function(Hs,Gs){if(Ig(Hs))return document.createTextNode(Hs.data);if(!Hs.ownerDocument)return Hs.cloneNode(!1);var qs=Hs.ownerDocument.defaultView;if(qs&&yp(Hs)&&(jp(Hs)||$p(Hs))){var po=this.createElementClone(Hs);po.style.transitionProperty="none";var Io=qs.getComputedStyle(Hs),Vo=qs.getComputedStyle(Hs,":before"),ta=qs.getComputedStyle(Hs,":after");this.referenceElement===Hs&&jp(po)&&(this.clonedReferenceElement=po),bp(po)&&Ya(po);var ea=this.counters.parse(new iu(this.context,Io)),ya=this.resolvePseudoContent(Hs,po,Vo,as.BEFORE);og(Hs)&&(Gs=!0),Pg(Hs)||this.cloneChildNodes(Hs,po,Gs),ya&&po.insertBefore(ya,po.firstChild);var Sa=this.resolvePseudoContent(Hs,po,ta,as.AFTER);return Sa&&po.appendChild(Sa),this.counters.pop(ea),(Io&&(this.options.copyStyles||$p(Hs))&&!em(Hs)||Gs)&&fo(Io,po),(Hs.scrollTop!==0||Hs.scrollLeft!==0)&&this.scrolledElements.push([po,Hs.scrollLeft,Hs.scrollTop]),(wp(Hs)||Xf(Hs))&&(wp(po)||Xf(po))&&(po.value=Hs.value),po}return Hs.cloneNode(!1)},Vs.prototype.resolvePseudoContent=function(Hs,Gs,qs,po){var Io=this;if(qs){var Vo=qs.content,ta=Gs.ownerDocument;if(!(!ta||!Vo||Vo==="none"||Vo==="-moz-alt-content"||qs.display==="none")){this.counters.parse(new iu(this.context,qs));var ea=new Gc(this.context,qs),ya=ta.createElement("html2canvaspseudoelement");fo(qs,ya),ea.content.forEach(function(Da){if(Da.type===0)ya.appendChild(ta.createTextNode(Da.value));else if(Da.type===22){var Wa=ta.createElement("img");Wa.src=Da.value,Wa.style.opacity="1",ya.appendChild(Wa)}else if(Da.type===18){if(Da.name==="attr"){var Ll=Da.values.filter(Jl);Ll.length&&ya.appendChild(ta.createTextNode(Hs.getAttribute(Ll[0].value)||""))}else if(Da.name==="counter"){var pl=Da.values.filter(eu),_l=pl[0],Lc=pl[1];if(_l&&Jl(_l)){var Vl=Io.counters.getCounterValue(_l.value),Ul=Lc&&Jl(Lc)?ZA.parse(Io.context,Lc.value):3;ya.appendChild(ta.createTextNode(cg(Vl,Ul,!1)))}}else if(Da.name==="counters"){var Cu=Da.values.filter(eu),_l=Cu[0],Oc=Cu[1],Lc=Cu[2];if(_l&&Jl(_l)){var mc=Io.counters.getCounterValues(_l.value),Il=Lc&&Jl(Lc)?ZA.parse(Io.context,Lc.value):3,du=Oc&&Oc.type===0?Oc.value:"",Au=mc.map(function(TA){return cg(TA,Il,!1)}).join(du);ya.appendChild(ta.createTextNode(Au))}}}else if(Da.type===20)switch(Da.value){case"open-quote":ya.appendChild(ta.createTextNode(el(ea.quotes,Io.quoteDepth++,!0)));break;case"close-quote":ya.appendChild(ta.createTextNode(el(ea.quotes,--Io.quoteDepth,!1)));break;default:ya.appendChild(ta.createTextNode(Da.value))}}),ya.className=xa+" "+va;var Sa=po===as.BEFORE?" "+xa:" "+va;return $p(Gs)?Gs.className.baseValue+=Sa:Gs.className+=Sa,ya}}},Vs.destroy=function(Hs){return Hs.parentNode?(Hs.parentNode.removeChild(Hs),!0):!1},Vs}(),as;(function(Vs){Vs[Vs.BEFORE=0]="BEFORE",Vs[Vs.AFTER=1]="AFTER"})(as||(as={}));var ds=function(Vs,Hs){var Gs=Vs.createElement("iframe");return Gs.className="html2canvas-container",Gs.style.visibility="hidden",Gs.style.position="fixed",Gs.style.left="-10000px",Gs.style.top="0px",Gs.style.border="0",Gs.width=Hs.width.toString(),Gs.height=Hs.height.toString(),Gs.scrolling="no",Gs.setAttribute(rm,"true"),Vs.body.appendChild(Gs),Gs},xs=function(Vs){return new Promise(function(Hs){if(Vs.complete){Hs();return}if(!Vs.src){Hs();return}Vs.onload=Hs,Vs.onerror=Hs})},Es=function(Vs){return Promise.all([].slice.call(Vs.images,0).map(xs))},ks=function(Vs){return new Promise(function(Hs,Gs){var qs=Vs.contentWindow;if(!qs)return Gs("No window assigned for iframe");var po=qs.document;qs.onload=Vs.onload=function(){qs.onload=Vs.onload=null;var Io=setInterval(function(){po.body.childNodes.length>0&&po.readyState==="complete"&&(clearInterval(Io),Hs(Vs))},50)}})},Js=["all","d","content"],fo=function(Vs,Hs){for(var Gs=Vs.length-1;Gs>=0;Gs--){var qs=Vs.item(Gs);Js.indexOf(qs)===-1&&Hs.style.setProperty(qs,Vs.getPropertyValue(qs))}return Hs},wo=function(Vs){var Hs="";return Vs&&(Hs+="<!DOCTYPE ",Vs.name&&(Hs+=Vs.name),Vs.internalSubset&&(Hs+=Vs.internalSubset),Vs.publicId&&(Hs+='"'+Vs.publicId+'"'),Vs.systemId&&(Hs+='"'+Vs.systemId+'"'),Hs+=">"),Hs},Lo=function(Vs,Hs,Gs){Vs&&Vs.defaultView&&(Hs!==Vs.defaultView.pageXOffset||Gs!==Vs.defaultView.pageYOffset)&&Vs.defaultView.scrollTo(Hs,Gs)},Do=function(Vs){var Hs=Vs[0],Gs=Vs[1],qs=Vs[2];Hs.scrollLeft=Gs,Hs.scrollTop=qs},ra=":before",aa=":after",xa="___html2canvas___pseudoelement_before",va="___html2canvas___pseudoelement_after",ja=`{
    content: "" !important;
    display: none !important;
}`,Ya=function(Vs){ol(Vs,"."+xa+ra+ja+`
         .`+va+aa+ja)},ol=function(Vs,Hs){var Gs=Vs.ownerDocument;if(Gs){var qs=Gs.createElement("style");qs.textContent=Hs,Vs.appendChild(qs)}},dl=function(){function Vs(){}return Vs.getOrigin=function(Hs){var Gs=Vs._link;return Gs?(Gs.href=Hs,Gs.href=Gs.href,Gs.protocol+Gs.hostname+Gs.port):"about:blank"},Vs.isSameOrigin=function(Hs){return Vs.getOrigin(Hs)===Vs._origin},Vs.setContext=function(Hs){Vs._link=Hs.document.createElement("a"),Vs._origin=Vs.getOrigin(Hs.location.href)},Vs._origin="about:blank",Vs}(),ml=function(){function Vs(Hs,Gs){this.context=Hs,this._options=Gs,this._cache={}}return Vs.prototype.addImage=function(Hs){var Gs=Promise.resolve();return this.has(Hs)||(th(Hs)||Rl(Hs))&&(this._cache[Hs]=this.loadImage(Hs)).catch(function(){}),Gs},Vs.prototype.match=function(Hs){return this._cache[Hs]},Vs.prototype.loadImage=function(Hs){return is(this,void 0,void 0,function(){var Gs,qs,po,Io,Vo=this;return ns(this,function(ta){switch(ta.label){case 0:return Gs=dl.isSameOrigin(Hs),qs=!gc(Hs)&&this._options.useCORS===!0&&vu.SUPPORT_CORS_IMAGES&&!Gs,po=!gc(Hs)&&!Gs&&!th(Hs)&&typeof this._options.proxy=="string"&&vu.SUPPORT_CORS_XHR&&!qs,!Gs&&this._options.allowTaint===!1&&!gc(Hs)&&!th(Hs)&&!po&&!qs?[2]:(Io=Hs,po?[4,this.proxy(Io)]:[3,2]);case 1:Io=ta.sent(),ta.label=2;case 2:return this.context.logger.debug("Added image "+Hs.substring(0,256)),[4,new Promise(function(ea,ya){var Sa=new Image;Sa.onload=function(){return ea(Sa)},Sa.onerror=ya,(Bu(Io)||qs)&&(Sa.crossOrigin="anonymous"),Sa.src=Io,Sa.complete===!0&&setTimeout(function(){return ea(Sa)},500),Vo._options.imageTimeout>0&&setTimeout(function(){return ya("Timed out ("+Vo._options.imageTimeout+"ms) loading image")},Vo._options.imageTimeout)})];case 3:return[2,ta.sent()]}})})},Vs.prototype.has=function(Hs){return typeof this._cache[Hs]<"u"},Vs.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},Vs.prototype.proxy=function(Hs){var Gs=this,qs=this._options.proxy;if(!qs)throw new Error("No proxy defined");var po=Hs.substring(0,256);return new Promise(function(Io,Vo){var ta=vu.SUPPORT_RESPONSE_TYPE?"blob":"text",ea=new XMLHttpRequest;ea.onload=function(){if(ea.status===200)if(ta==="text")Io(ea.response);else{var Da=new FileReader;Da.addEventListener("load",function(){return Io(Da.result)},!1),Da.addEventListener("error",function(Wa){return Vo(Wa)},!1),Da.readAsDataURL(ea.response)}else Vo("Failed to proxy resource "+po+" with status code "+ea.status)},ea.onerror=Vo;var ya=qs.indexOf("?")>-1?"&":"?";if(ea.open("GET",""+qs+ya+"url="+encodeURIComponent(Hs)+"&responseType="+ta),ta!=="text"&&ea instanceof XMLHttpRequest&&(ea.responseType=ta),Gs._options.imageTimeout){var Sa=Gs._options.imageTimeout;ea.timeout=Sa,ea.ontimeout=function(){return Vo("Timed out ("+Sa+"ms) proxying "+po)}}ea.send()})},Vs}(),Al=/^data:image\/svg\+xml/i,Sl=/^data:image\/.*;base64,/i,Hl=/^data:image\/.*/i,Rl=function(Vs){return vu.SUPPORT_SVG_DRAWING||!Yu(Vs)},gc=function(Vs){return Hl.test(Vs)},Bu=function(Vs){return Sl.test(Vs)},th=function(Vs){return Vs.substr(0,4)==="blob"},Yu=function(Vs){return Vs.substr(-3).toLowerCase()==="svg"||Al.test(Vs)},ul=function(){function Vs(Hs,Gs){this.type=0,this.x=Hs,this.y=Gs}return Vs.prototype.add=function(Hs,Gs){return new Vs(this.x+Hs,this.y+Gs)},Vs}(),ju=function(Vs,Hs,Gs){return new ul(Vs.x+(Hs.x-Vs.x)*Gs,Vs.y+(Hs.y-Vs.y)*Gs)},rh=function(){function Vs(Hs,Gs,qs,po){this.type=1,this.start=Hs,this.startControl=Gs,this.endControl=qs,this.end=po}return Vs.prototype.subdivide=function(Hs,Gs){var qs=ju(this.start,this.startControl,Hs),po=ju(this.startControl,this.endControl,Hs),Io=ju(this.endControl,this.end,Hs),Vo=ju(qs,po,Hs),ta=ju(po,Io,Hs),ea=ju(Vo,ta,Hs);return Gs?new Vs(this.start,qs,Vo,ea):new Vs(ea,ta,Io,this.end)},Vs.prototype.add=function(Hs,Gs){return new Vs(this.start.add(Hs,Gs),this.startControl.add(Hs,Gs),this.endControl.add(Hs,Gs),this.end.add(Hs,Gs))},Vs.prototype.reverse=function(){return new Vs(this.end,this.endControl,this.startControl,this.start)},Vs}(),Du=function(Vs){return Vs.type===1},cd=function(){function Vs(Hs){var Gs=Hs.styles,qs=Hs.bounds,po=Gu(Gs.borderTopLeftRadius,qs.width,qs.height),Io=po[0],Vo=po[1],ta=Gu(Gs.borderTopRightRadius,qs.width,qs.height),ea=ta[0],ya=ta[1],Sa=Gu(Gs.borderBottomRightRadius,qs.width,qs.height),Da=Sa[0],Wa=Sa[1],Ll=Gu(Gs.borderBottomLeftRadius,qs.width,qs.height),pl=Ll[0],_l=Ll[1],Lc=[];Lc.push((Io+ea)/qs.width),Lc.push((pl+Da)/qs.width),Lc.push((Vo+_l)/qs.height),Lc.push((ya+Wa)/qs.height);var Vl=Math.max.apply(Math,Lc);Vl>1&&(Io/=Vl,Vo/=Vl,ea/=Vl,ya/=Vl,Da/=Vl,Wa/=Vl,pl/=Vl,_l/=Vl);var Ul=qs.width-ea,Cu=qs.height-Wa,Oc=qs.width-Da,mc=qs.height-_l,Il=Gs.borderTopWidth,du=Gs.borderRightWidth,Au=Gs.borderBottomWidth,wc=Gs.borderLeftWidth,ud=Dc(Gs.paddingTop,Hs.bounds.width),TA=Dc(Gs.paddingRight,Hs.bounds.width),GA=Dc(Gs.paddingBottom,Hs.bounds.width),Qu=Dc(Gs.paddingLeft,Hs.bounds.width);this.topLeftBorderDoubleOuterBox=Io>0||Vo>0?bc(qs.left+wc/3,qs.top+Il/3,Io-wc/3,Vo-Il/3,ic.TOP_LEFT):new ul(qs.left+wc/3,qs.top+Il/3),this.topRightBorderDoubleOuterBox=Io>0||Vo>0?bc(qs.left+Ul,qs.top+Il/3,ea-du/3,ya-Il/3,ic.TOP_RIGHT):new ul(qs.left+qs.width-du/3,qs.top+Il/3),this.bottomRightBorderDoubleOuterBox=Da>0||Wa>0?bc(qs.left+Oc,qs.top+Cu,Da-du/3,Wa-Au/3,ic.BOTTOM_RIGHT):new ul(qs.left+qs.width-du/3,qs.top+qs.height-Au/3),this.bottomLeftBorderDoubleOuterBox=pl>0||_l>0?bc(qs.left+wc/3,qs.top+mc,pl-wc/3,_l-Au/3,ic.BOTTOM_LEFT):new ul(qs.left+wc/3,qs.top+qs.height-Au/3),this.topLeftBorderDoubleInnerBox=Io>0||Vo>0?bc(qs.left+wc*2/3,qs.top+Il*2/3,Io-wc*2/3,Vo-Il*2/3,ic.TOP_LEFT):new ul(qs.left+wc*2/3,qs.top+Il*2/3),this.topRightBorderDoubleInnerBox=Io>0||Vo>0?bc(qs.left+Ul,qs.top+Il*2/3,ea-du*2/3,ya-Il*2/3,ic.TOP_RIGHT):new ul(qs.left+qs.width-du*2/3,qs.top+Il*2/3),this.bottomRightBorderDoubleInnerBox=Da>0||Wa>0?bc(qs.left+Oc,qs.top+Cu,Da-du*2/3,Wa-Au*2/3,ic.BOTTOM_RIGHT):new ul(qs.left+qs.width-du*2/3,qs.top+qs.height-Au*2/3),this.bottomLeftBorderDoubleInnerBox=pl>0||_l>0?bc(qs.left+wc*2/3,qs.top+mc,pl-wc*2/3,_l-Au*2/3,ic.BOTTOM_LEFT):new ul(qs.left+wc*2/3,qs.top+qs.height-Au*2/3),this.topLeftBorderStroke=Io>0||Vo>0?bc(qs.left+wc/2,qs.top+Il/2,Io-wc/2,Vo-Il/2,ic.TOP_LEFT):new ul(qs.left+wc/2,qs.top+Il/2),this.topRightBorderStroke=Io>0||Vo>0?bc(qs.left+Ul,qs.top+Il/2,ea-du/2,ya-Il/2,ic.TOP_RIGHT):new ul(qs.left+qs.width-du/2,qs.top+Il/2),this.bottomRightBorderStroke=Da>0||Wa>0?bc(qs.left+Oc,qs.top+Cu,Da-du/2,Wa-Au/2,ic.BOTTOM_RIGHT):new ul(qs.left+qs.width-du/2,qs.top+qs.height-Au/2),this.bottomLeftBorderStroke=pl>0||_l>0?bc(qs.left+wc/2,qs.top+mc,pl-wc/2,_l-Au/2,ic.BOTTOM_LEFT):new ul(qs.left+wc/2,qs.top+qs.height-Au/2),this.topLeftBorderBox=Io>0||Vo>0?bc(qs.left,qs.top,Io,Vo,ic.TOP_LEFT):new ul(qs.left,qs.top),this.topRightBorderBox=ea>0||ya>0?bc(qs.left+Ul,qs.top,ea,ya,ic.TOP_RIGHT):new ul(qs.left+qs.width,qs.top),this.bottomRightBorderBox=Da>0||Wa>0?bc(qs.left+Oc,qs.top+Cu,Da,Wa,ic.BOTTOM_RIGHT):new ul(qs.left+qs.width,qs.top+qs.height),this.bottomLeftBorderBox=pl>0||_l>0?bc(qs.left,qs.top+mc,pl,_l,ic.BOTTOM_LEFT):new ul(qs.left,qs.top+qs.height),this.topLeftPaddingBox=Io>0||Vo>0?bc(qs.left+wc,qs.top+Il,Math.max(0,Io-wc),Math.max(0,Vo-Il),ic.TOP_LEFT):new ul(qs.left+wc,qs.top+Il),this.topRightPaddingBox=ea>0||ya>0?bc(qs.left+Math.min(Ul,qs.width-du),qs.top+Il,Ul>qs.width+du?0:Math.max(0,ea-du),Math.max(0,ya-Il),ic.TOP_RIGHT):new ul(qs.left+qs.width-du,qs.top+Il),this.bottomRightPaddingBox=Da>0||Wa>0?bc(qs.left+Math.min(Oc,qs.width-wc),qs.top+Math.min(Cu,qs.height-Au),Math.max(0,Da-du),Math.max(0,Wa-Au),ic.BOTTOM_RIGHT):new ul(qs.left+qs.width-du,qs.top+qs.height-Au),this.bottomLeftPaddingBox=pl>0||_l>0?bc(qs.left+wc,qs.top+Math.min(mc,qs.height-Au),Math.max(0,pl-wc),Math.max(0,_l-Au),ic.BOTTOM_LEFT):new ul(qs.left+wc,qs.top+qs.height-Au),this.topLeftContentBox=Io>0||Vo>0?bc(qs.left+wc+Qu,qs.top+Il+ud,Math.max(0,Io-(wc+Qu)),Math.max(0,Vo-(Il+ud)),ic.TOP_LEFT):new ul(qs.left+wc+Qu,qs.top+Il+ud),this.topRightContentBox=ea>0||ya>0?bc(qs.left+Math.min(Ul,qs.width+wc+Qu),qs.top+Il+ud,Ul>qs.width+wc+Qu?0:ea-wc+Qu,ya-(Il+ud),ic.TOP_RIGHT):new ul(qs.left+qs.width-(du+TA),qs.top+Il+ud),this.bottomRightContentBox=Da>0||Wa>0?bc(qs.left+Math.min(Oc,qs.width-(wc+Qu)),qs.top+Math.min(Cu,qs.height+Il+ud),Math.max(0,Da-(du+TA)),Wa-(Au+GA),ic.BOTTOM_RIGHT):new ul(qs.left+qs.width-(du+TA),qs.top+qs.height-(Au+GA)),this.bottomLeftContentBox=pl>0||_l>0?bc(qs.left+wc+Qu,qs.top+mc,Math.max(0,pl-(wc+Qu)),_l-(Au+GA),ic.BOTTOM_LEFT):new ul(qs.left+wc+Qu,qs.top+qs.height-(Au+GA))}return Vs}(),ic;(function(Vs){Vs[Vs.TOP_LEFT=0]="TOP_LEFT",Vs[Vs.TOP_RIGHT=1]="TOP_RIGHT",Vs[Vs.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",Vs[Vs.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ic||(ic={}));var bc=function(Vs,Hs,Gs,qs,po){var Io=4*((Math.sqrt(2)-1)/3),Vo=Gs*Io,ta=qs*Io,ea=Vs+Gs,ya=Hs+qs;switch(po){case ic.TOP_LEFT:return new rh(new ul(Vs,ya),new ul(Vs,ya-ta),new ul(ea-Vo,Hs),new ul(ea,Hs));case ic.TOP_RIGHT:return new rh(new ul(Vs,Hs),new ul(Vs+Vo,Hs),new ul(ea,ya-ta),new ul(ea,ya));case ic.BOTTOM_RIGHT:return new rh(new ul(ea,Hs),new ul(ea,Hs+ta),new ul(Vs+Vo,ya),new ul(Vs,ya));case ic.BOTTOM_LEFT:default:return new rh(new ul(ea,ya),new ul(ea-Vo,ya),new ul(Vs,Hs+ta),new ul(Vs,Hs))}},$u=function(Vs){return[Vs.topLeftBorderBox,Vs.topRightBorderBox,Vs.bottomRightBorderBox,Vs.bottomLeftBorderBox]},Qd=function(Vs){return[Vs.topLeftContentBox,Vs.topRightContentBox,Vs.bottomRightContentBox,Vs.bottomLeftContentBox]},Ff=function(Vs){return[Vs.topLeftPaddingBox,Vs.topRightPaddingBox,Vs.bottomRightPaddingBox,Vs.bottomLeftPaddingBox]},Zf=function(){function Vs(Hs,Gs,qs){this.offsetX=Hs,this.offsetY=Gs,this.matrix=qs,this.type=0,this.target=6}return Vs}(),$h=function(){function Vs(Hs,Gs){this.path=Hs,this.target=Gs,this.type=1}return Vs}(),hf=function(){function Vs(Hs){this.opacity=Hs,this.type=2,this.target=6}return Vs}(),Xh=function(Vs){return Vs.type===0},Ng=function(Vs){return Vs.type===1},df=function(Vs){return Vs.type===2},If=function(Vs,Hs){return Vs.length===Hs.length?Vs.some(function(Gs,qs){return Gs===Hs[qs]}):!1},ep=function(Vs,Hs,Gs,qs,po){return Vs.map(function(Io,Vo){switch(Vo){case 0:return Io.add(Hs,Gs);case 1:return Io.add(Hs+qs,Gs);case 2:return Io.add(Hs+qs,Gs+po);case 3:return Io.add(Hs,Gs+po)}return Io})},wd=function(){function Vs(Hs){this.element=Hs,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return Vs}(),Ep=function(){function Vs(Hs,Gs){if(this.container=Hs,this.parent=Gs,this.effects=[],this.curves=new cd(this.container),this.container.styles.opacity<1&&this.effects.push(new hf(this.container.styles.opacity)),this.container.styles.transform!==null){var qs=this.container.bounds.left+this.container.styles.transformOrigin[0].number,po=this.container.bounds.top+this.container.styles.transformOrigin[1].number,Io=this.container.styles.transform;this.effects.push(new Zf(qs,po,Io))}if(this.container.styles.overflowX!==0){var Vo=$u(this.curves),ta=Ff(this.curves);If(Vo,ta)?this.effects.push(new $h(Vo,6)):(this.effects.push(new $h(Vo,2)),this.effects.push(new $h(ta,4)))}}return Vs.prototype.getEffects=function(Hs){for(var Gs=[2,3].indexOf(this.container.styles.position)===-1,qs=this.parent,po=this.effects.slice(0);qs;){var Io=qs.effects.filter(function(ea){return!Ng(ea)});if(Gs||qs.container.styles.position!==0||!qs.parent){if(po.unshift.apply(po,Io),Gs=[2,3].indexOf(qs.container.styles.position)===-1,qs.container.styles.overflowX!==0){var Vo=$u(qs.curves),ta=Ff(qs.curves);If(Vo,ta)||po.unshift(new $h(ta,6))}}else po.unshift.apply(po,Io);qs=qs.parent}return po.filter(function(ea){return pa(ea.target,Hs)})},Vs}(),hg=function(Vs,Hs,Gs,qs){Vs.container.elements.forEach(function(po){var Io=pa(po.flags,4),Vo=pa(po.flags,2),ta=new Ep(po,Vs);pa(po.styles.display,2048)&&qs.push(ta);var ea=pa(po.flags,8)?[]:qs;if(Io||Vo){var ya=Io||po.styles.isPositioned()?Gs:Hs,Sa=new wd(ta);if(po.styles.isPositioned()||po.styles.opacity<1||po.styles.isTransformed()){var Da=po.styles.zIndex.order;if(Da<0){var Wa=0;ya.negativeZIndex.some(function(pl,_l){return Da>pl.element.container.styles.zIndex.order?(Wa=_l,!1):Wa>0}),ya.negativeZIndex.splice(Wa,0,Sa)}else if(Da>0){var Ll=0;ya.positiveZIndex.some(function(pl,_l){return Da>=pl.element.container.styles.zIndex.order?(Ll=_l+1,!1):Ll>0}),ya.positiveZIndex.splice(Ll,0,Sa)}else ya.zeroOrAutoZIndexOrTransformedOrOpacity.push(Sa)}else po.styles.isFloating()?ya.nonPositionedFloats.push(Sa):ya.nonPositionedInlineLevel.push(Sa);hg(ta,Sa,Io?Sa:Gs,ea)}else po.styles.isInlineLevel()?Hs.inlineLevel.push(ta):Hs.nonInlineLevel.push(ta),hg(ta,Hs,Gs,ea);pa(po.flags,8)&&Im(po,ea)})},Im=function(Vs,Hs){for(var Gs=Vs instanceof pp?Vs.start:1,qs=Vs instanceof pp?Vs.reversed:!1,po=0;po<Hs.length;po++){var Io=Hs[po];Io.container instanceof cm&&typeof Io.container.value=="number"&&Io.container.value!==0&&(Gs=Io.container.value),Io.listValue=cg(Gs,Io.container.styles.listStyleType,!0),Gs+=qs?-1:1}},wv=function(Vs){var Hs=new Ep(Vs,null),Gs=new wd(Hs),qs=[];return hg(Hs,Gs,Gs,qs),Im(Hs.container,qs),Gs},Zm=function(Vs,Hs){switch(Hs){case 0:return Sh(Vs.topLeftBorderBox,Vs.topLeftPaddingBox,Vs.topRightBorderBox,Vs.topRightPaddingBox);case 1:return Sh(Vs.topRightBorderBox,Vs.topRightPaddingBox,Vs.bottomRightBorderBox,Vs.bottomRightPaddingBox);case 2:return Sh(Vs.bottomRightBorderBox,Vs.bottomRightPaddingBox,Vs.bottomLeftBorderBox,Vs.bottomLeftPaddingBox);case 3:default:return Sh(Vs.bottomLeftBorderBox,Vs.bottomLeftPaddingBox,Vs.topLeftBorderBox,Vs.topLeftPaddingBox)}},Cv=function(Vs,Hs){switch(Hs){case 0:return Sh(Vs.topLeftBorderBox,Vs.topLeftBorderDoubleOuterBox,Vs.topRightBorderBox,Vs.topRightBorderDoubleOuterBox);case 1:return Sh(Vs.topRightBorderBox,Vs.topRightBorderDoubleOuterBox,Vs.bottomRightBorderBox,Vs.bottomRightBorderDoubleOuterBox);case 2:return Sh(Vs.bottomRightBorderBox,Vs.bottomRightBorderDoubleOuterBox,Vs.bottomLeftBorderBox,Vs.bottomLeftBorderDoubleOuterBox);case 3:default:return Sh(Vs.bottomLeftBorderBox,Vs.bottomLeftBorderDoubleOuterBox,Vs.topLeftBorderBox,Vs.topLeftBorderDoubleOuterBox)}},Ev=function(Vs,Hs){switch(Hs){case 0:return Sh(Vs.topLeftBorderDoubleInnerBox,Vs.topLeftPaddingBox,Vs.topRightBorderDoubleInnerBox,Vs.topRightPaddingBox);case 1:return Sh(Vs.topRightBorderDoubleInnerBox,Vs.topRightPaddingBox,Vs.bottomRightBorderDoubleInnerBox,Vs.bottomRightPaddingBox);case 2:return Sh(Vs.bottomRightBorderDoubleInnerBox,Vs.bottomRightPaddingBox,Vs.bottomLeftBorderDoubleInnerBox,Vs.bottomLeftPaddingBox);case 3:default:return Sh(Vs.bottomLeftBorderDoubleInnerBox,Vs.bottomLeftPaddingBox,Vs.topLeftBorderDoubleInnerBox,Vs.topLeftPaddingBox)}},xv=function(Vs,Hs){switch(Hs){case 0:return fm(Vs.topLeftBorderStroke,Vs.topRightBorderStroke);case 1:return fm(Vs.topRightBorderStroke,Vs.bottomRightBorderStroke);case 2:return fm(Vs.bottomRightBorderStroke,Vs.bottomLeftBorderStroke);case 3:default:return fm(Vs.bottomLeftBorderStroke,Vs.topLeftBorderStroke)}},fm=function(Vs,Hs){var Gs=[];return Du(Vs)?Gs.push(Vs.subdivide(.5,!1)):Gs.push(Vs),Du(Hs)?Gs.push(Hs.subdivide(.5,!0)):Gs.push(Hs),Gs},Sh=function(Vs,Hs,Gs,qs){var po=[];return Du(Vs)?po.push(Vs.subdivide(.5,!1)):po.push(Vs),Du(Gs)?po.push(Gs.subdivide(.5,!0)):po.push(Gs),Du(qs)?po.push(qs.subdivide(.5,!0).reverse()):po.push(qs),Du(Hs)?po.push(Hs.subdivide(.5,!1).reverse()):po.push(Hs),po},ev=function(Vs){var Hs=Vs.bounds,Gs=Vs.styles;return Hs.add(Gs.borderLeftWidth,Gs.borderTopWidth,-(Gs.borderRightWidth+Gs.borderLeftWidth),-(Gs.borderTopWidth+Gs.borderBottomWidth))},pm=function(Vs){var Hs=Vs.styles,Gs=Vs.bounds,qs=Dc(Hs.paddingLeft,Gs.width),po=Dc(Hs.paddingRight,Gs.width),Io=Dc(Hs.paddingTop,Gs.width),Vo=Dc(Hs.paddingBottom,Gs.width);return Gs.add(qs+Hs.borderLeftWidth,Io+Hs.borderTopWidth,-(Hs.borderRightWidth+Hs.borderLeftWidth+qs+po),-(Hs.borderTopWidth+Hs.borderBottomWidth+Io+Vo))},Sv=function(Vs,Hs){return Vs===0?Hs.bounds:Vs===2?pm(Hs):ev(Hs)},tv=function(Vs,Hs){return Vs===0?Hs.bounds:Vs===2?pm(Hs):ev(Hs)},km=function(Vs,Hs,Gs){var qs=Sv(Wp(Vs.styles.backgroundOrigin,Hs),Vs),po=tv(Wp(Vs.styles.backgroundClip,Hs),Vs),Io=Tv(Wp(Vs.styles.backgroundSize,Hs),Gs,qs),Vo=Io[0],ta=Io[1],ea=Gu(Wp(Vs.styles.backgroundPosition,Hs),qs.width-Vo,qs.height-ta),ya=Bv(Wp(Vs.styles.backgroundRepeat,Hs),ea,Io,qs,po),Sa=Math.round(qs.left+ea[0]),Da=Math.round(qs.top+ea[1]);return[ya,Sa,Da,Vo,ta]},Rg=function(Vs){return Jl(Vs)&&Vs.value===Fd.AUTO},gm=function(Vs){return typeof Vs=="number"},Tv=function(Vs,Hs,Gs){var qs=Hs[0],po=Hs[1],Io=Hs[2],Vo=Vs[0],ta=Vs[1];if(!Vo)return[0,0];if(wu(Vo)&&ta&&wu(ta))return[Dc(Vo,Gs.width),Dc(ta,Gs.height)];var ea=gm(Io);if(Jl(Vo)&&(Vo.value===Fd.CONTAIN||Vo.value===Fd.COVER)){if(gm(Io)){var ya=Gs.width/Gs.height;return ya<Io!=(Vo.value===Fd.COVER)?[Gs.width,Gs.width/Io]:[Gs.height*Io,Gs.height]}return[Gs.width,Gs.height]}var Sa=gm(qs),Da=gm(po),Wa=Sa||Da;if(Rg(Vo)&&(!ta||Rg(ta))){if(Sa&&Da)return[qs,po];if(!ea&&!Wa)return[Gs.width,Gs.height];if(Wa&&ea){var Ll=Sa?qs:po*Io,pl=Da?po:qs/Io;return[Ll,pl]}var _l=Sa?qs:Gs.width,Lc=Da?po:Gs.height;return[_l,Lc]}if(ea){var Vl=0,Ul=0;return wu(Vo)?Vl=Dc(Vo,Gs.width):wu(ta)&&(Ul=Dc(ta,Gs.height)),Rg(Vo)?Vl=Ul*Io:(!ta||Rg(ta))&&(Ul=Vl/Io),[Vl,Ul]}var Cu=null,Oc=null;if(wu(Vo)?Cu=Dc(Vo,Gs.width):ta&&wu(ta)&&(Oc=Dc(ta,Gs.height)),Cu!==null&&(!ta||Rg(ta))&&(Oc=Sa&&Da?Cu/qs*po:Gs.height),Oc!==null&&Rg(Vo)&&(Cu=Sa&&Da?Oc/po*qs:Gs.width),Cu!==null&&Oc!==null)return[Cu,Oc];throw new Error("Unable to calculate background-size for element")},Wp=function(Vs,Hs){var Gs=Vs[Hs];return typeof Gs>"u"?Vs[0]:Gs},Bv=function(Vs,Hs,Gs,qs,po){var Io=Hs[0],Vo=Hs[1],ta=Gs[0],ea=Gs[1];switch(Vs){case 2:return[new ul(Math.round(qs.left),Math.round(qs.top+Vo)),new ul(Math.round(qs.left+qs.width),Math.round(qs.top+Vo)),new ul(Math.round(qs.left+qs.width),Math.round(ea+qs.top+Vo)),new ul(Math.round(qs.left),Math.round(ea+qs.top+Vo))];case 3:return[new ul(Math.round(qs.left+Io),Math.round(qs.top)),new ul(Math.round(qs.left+Io+ta),Math.round(qs.top)),new ul(Math.round(qs.left+Io+ta),Math.round(qs.height+qs.top)),new ul(Math.round(qs.left+Io),Math.round(qs.height+qs.top))];case 1:return[new ul(Math.round(qs.left+Io),Math.round(qs.top+Vo)),new ul(Math.round(qs.left+Io+ta),Math.round(qs.top+Vo)),new ul(Math.round(qs.left+Io+ta),Math.round(qs.top+Vo+ea)),new ul(Math.round(qs.left+Io),Math.round(qs.top+Vo+ea))];default:return[new ul(Math.round(po.left),Math.round(po.top)),new ul(Math.round(po.left+po.width),Math.round(po.top)),new ul(Math.round(po.left+po.width),Math.round(po.height+po.top)),new ul(Math.round(po.left),Math.round(po.height+po.top))]}},_v="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",rv="Hidden Text",Lv=function(){function Vs(Hs){this._data={},this._document=Hs}return Vs.prototype.parseMetrics=function(Hs,Gs){var qs=this._document.createElement("div"),po=this._document.createElement("img"),Io=this._document.createElement("span"),Vo=this._document.body;qs.style.visibility="hidden",qs.style.fontFamily=Hs,qs.style.fontSize=Gs,qs.style.margin="0",qs.style.padding="0",qs.style.whiteSpace="nowrap",Vo.appendChild(qs),po.src=_v,po.width=1,po.height=1,po.style.margin="0",po.style.padding="0",po.style.verticalAlign="baseline",Io.style.fontFamily=Hs,Io.style.fontSize=Gs,Io.style.margin="0",Io.style.padding="0",Io.appendChild(this._document.createTextNode(rv)),qs.appendChild(Io),qs.appendChild(po);var ta=po.offsetTop-Io.offsetTop+2;qs.removeChild(Io),qs.appendChild(this._document.createTextNode(rv)),qs.style.lineHeight="normal",po.style.verticalAlign="super";var ea=po.offsetTop-qs.offsetTop+2;return Vo.removeChild(qs),{baseline:ta,middle:ea}},Vs.prototype.getMetrics=function(Hs,Gs){var qs=Hs+" "+Gs;return typeof this._data[qs]>"u"&&(this._data[qs]=this.parseMetrics(Hs,Gs)),this._data[qs]},Vs}(),iv=function(){function Vs(Hs,Gs){this.context=Hs,this.options=Gs}return Vs}(),Fv=1e4,Iv=function(Vs){ts(Hs,Vs);function Hs(Gs,qs){var po=Vs.call(this,Gs,qs)||this;return po._activeEffects=[],po.canvas=qs.canvas?qs.canvas:document.createElement("canvas"),po.ctx=po.canvas.getContext("2d"),qs.canvas||(po.canvas.width=Math.floor(qs.width*qs.scale),po.canvas.height=Math.floor(qs.height*qs.scale),po.canvas.style.width=qs.width+"px",po.canvas.style.height=qs.height+"px"),po.fontMetrics=new Lv(document),po.ctx.scale(po.options.scale,po.options.scale),po.ctx.translate(-qs.x,-qs.y),po.ctx.textBaseline="bottom",po._activeEffects=[],po.context.logger.debug("Canvas renderer initialized ("+qs.width+"x"+qs.height+") with scale "+qs.scale),po}return Hs.prototype.applyEffects=function(Gs){for(var qs=this;this._activeEffects.length;)this.popEffect();Gs.forEach(function(po){return qs.applyEffect(po)})},Hs.prototype.applyEffect=function(Gs){this.ctx.save(),df(Gs)&&(this.ctx.globalAlpha=Gs.opacity),Xh(Gs)&&(this.ctx.translate(Gs.offsetX,Gs.offsetY),this.ctx.transform(Gs.matrix[0],Gs.matrix[1],Gs.matrix[2],Gs.matrix[3],Gs.matrix[4],Gs.matrix[5]),this.ctx.translate(-Gs.offsetX,-Gs.offsetY)),Ng(Gs)&&(this.path(Gs.path),this.ctx.clip()),this._activeEffects.push(Gs)},Hs.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},Hs.prototype.renderStack=function(Gs){return is(this,void 0,void 0,function(){var qs;return ns(this,function(po){switch(po.label){case 0:return qs=Gs.element.container.styles,qs.isVisible()?[4,this.renderStackContent(Gs)]:[3,2];case 1:po.sent(),po.label=2;case 2:return[2]}})})},Hs.prototype.renderNode=function(Gs){return is(this,void 0,void 0,function(){return ns(this,function(qs){switch(qs.label){case 0:if(pa(Gs.container.flags,16))debugger;return Gs.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(Gs)]:[3,3];case 1:return qs.sent(),[4,this.renderNodeContent(Gs)];case 2:qs.sent(),qs.label=3;case 3:return[2]}})})},Hs.prototype.renderTextWithLetterSpacing=function(Gs,qs,po){var Io=this;if(qs===0)this.ctx.fillText(Gs.text,Gs.bounds.left,Gs.bounds.top+po);else{var Vo=EA(Gs.text);Vo.reduce(function(ta,ea){return Io.ctx.fillText(ea,ta,Gs.bounds.top+po),ta+Io.ctx.measureText(ea).width},Gs.bounds.left)}},Hs.prototype.createFontStyle=function(Gs){var qs=Gs.fontVariant.filter(function(Vo){return Vo==="normal"||Vo==="small-caps"}).join(""),po=Ov(Gs.fontFamily).join(", "),Io=bu(Gs.fontSize)?""+Gs.fontSize.number+Gs.fontSize.unit:Gs.fontSize.number+"px";return[[Gs.fontStyle,qs,Gs.fontWeight,Io,po].join(" "),po,Io]},Hs.prototype.renderTextNode=function(Gs,qs){return is(this,void 0,void 0,function(){var po,Io,Vo,ta,ea,ya,Sa,Da,Wa=this;return ns(this,function(Ll){return po=this.createFontStyle(qs),Io=po[0],Vo=po[1],ta=po[2],this.ctx.font=Io,this.ctx.direction=qs.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",ea=this.fontMetrics.getMetrics(Vo,ta),ya=ea.baseline,Sa=ea.middle,Da=qs.paintOrder,Gs.textBounds.forEach(function(pl){Da.forEach(function(_l){switch(_l){case 0:Wa.ctx.fillStyle=tu(qs.color),Wa.renderTextWithLetterSpacing(pl,qs.letterSpacing,ya);var Lc=qs.textShadow;Lc.length&&pl.text.trim().length&&(Lc.slice(0).reverse().forEach(function(Vl){Wa.ctx.shadowColor=tu(Vl.color),Wa.ctx.shadowOffsetX=Vl.offsetX.number*Wa.options.scale,Wa.ctx.shadowOffsetY=Vl.offsetY.number*Wa.options.scale,Wa.ctx.shadowBlur=Vl.blur.number,Wa.renderTextWithLetterSpacing(pl,qs.letterSpacing,ya)}),Wa.ctx.shadowColor="",Wa.ctx.shadowOffsetX=0,Wa.ctx.shadowOffsetY=0,Wa.ctx.shadowBlur=0),qs.textDecorationLine.length&&(Wa.ctx.fillStyle=tu(qs.textDecorationColor||qs.color),qs.textDecorationLine.forEach(function(Vl){switch(Vl){case 1:Wa.ctx.fillRect(pl.bounds.left,Math.round(pl.bounds.top+ya),pl.bounds.width,1);break;case 2:Wa.ctx.fillRect(pl.bounds.left,Math.round(pl.bounds.top),pl.bounds.width,1);break;case 3:Wa.ctx.fillRect(pl.bounds.left,Math.ceil(pl.bounds.top+Sa),pl.bounds.width,1);break}}));break;case 1:qs.webkitTextStrokeWidth&&pl.text.trim().length&&(Wa.ctx.strokeStyle=tu(qs.webkitTextStrokeColor),Wa.ctx.lineWidth=qs.webkitTextStrokeWidth,Wa.ctx.lineJoin=window.chrome?"miter":"round",Wa.ctx.strokeText(pl.text,pl.bounds.left,pl.bounds.top+ya)),Wa.ctx.strokeStyle="",Wa.ctx.lineWidth=0,Wa.ctx.lineJoin="miter";break}})}),[2]})})},Hs.prototype.renderReplacedElement=function(Gs,qs,po){if(po&&Gs.intrinsicWidth>0&&Gs.intrinsicHeight>0){var Io=pm(Gs),Vo=Ff(qs);this.path(Vo),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(po,0,0,Gs.intrinsicWidth,Gs.intrinsicHeight,Io.left,Io.top,Io.width,Io.height),this.ctx.restore()}},Hs.prototype.renderNodeContent=function(Gs){return is(this,void 0,void 0,function(){var qs,po,Io,Vo,ta,ea,Ul,Ul,ya,Sa,Da,Wa,Oc,Ll,pl,mc,_l,Lc,Vl,Ul,Cu,Oc,mc;return ns(this,function(Il){switch(Il.label){case 0:this.applyEffects(Gs.getEffects(4)),qs=Gs.container,po=Gs.curves,Io=qs.styles,Vo=0,ta=qs.textNodes,Il.label=1;case 1:return Vo<ta.length?(ea=ta[Vo],[4,this.renderTextNode(ea,Io)]):[3,4];case 2:Il.sent(),Il.label=3;case 3:return Vo++,[3,1];case 4:if(!(qs instanceof Kf))return[3,8];Il.label=5;case 5:return Il.trys.push([5,7,,8]),[4,this.context.cache.match(qs.src)];case 6:return Ul=Il.sent(),this.renderReplacedElement(qs,po,Ul),[3,8];case 7:return Il.sent(),this.context.logger.error("Error loading image "+qs.src),[3,8];case 8:if(qs instanceof fp&&this.renderReplacedElement(qs,po,qs.canvas),!(qs instanceof lm))return[3,12];Il.label=9;case 9:return Il.trys.push([9,11,,12]),[4,this.context.cache.match(qs.svg)];case 10:return Ul=Il.sent(),this.renderReplacedElement(qs,po,Ul),[3,12];case 11:return Il.sent(),this.context.logger.error("Error loading svg "+qs.svg.substring(0,255)),[3,12];case 12:return qs instanceof mp&&qs.tree?(ya=new Hs(this.context,{scale:this.options.scale,backgroundColor:qs.backgroundColor,x:0,y:0,width:qs.width,height:qs.height}),[4,ya.render(qs.tree)]):[3,14];case 13:Sa=Il.sent(),qs.width&&qs.height&&this.ctx.drawImage(Sa,0,0,qs.width,qs.height,qs.bounds.left,qs.bounds.top,qs.bounds.width,qs.bounds.height),Il.label=14;case 14:if(qs instanceof Xg&&(Da=Math.min(qs.bounds.width,qs.bounds.height),qs.type===Hp?qs.checked&&(this.ctx.save(),this.path([new ul(qs.bounds.left+Da*.39363,qs.bounds.top+Da*.79),new ul(qs.bounds.left+Da*.16,qs.bounds.top+Da*.5549),new ul(qs.bounds.left+Da*.27347,qs.bounds.top+Da*.44071),new ul(qs.bounds.left+Da*.39694,qs.bounds.top+Da*.5649),new ul(qs.bounds.left+Da*.72983,qs.bounds.top+Da*.23),new ul(qs.bounds.left+Da*.84,qs.bounds.top+Da*.34085),new ul(qs.bounds.left+Da*.39363,qs.bounds.top+Da*.79)]),this.ctx.fillStyle=tu(Yg),this.ctx.fill(),this.ctx.restore()):qs.type===bd&&qs.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(qs.bounds.left+Da/2,qs.bounds.top+Da/2,Da/4,0,Math.PI*2,!0),this.ctx.fillStyle=tu(Yg),this.ctx.fill(),this.ctx.restore())),kv(qs)&&qs.value.length){switch(Wa=this.createFontStyle(Io),Oc=Wa[0],Ll=Wa[1],pl=this.fontMetrics.getMetrics(Oc,Ll).baseline,this.ctx.font=Oc,this.ctx.fillStyle=tu(Io.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Pv(qs.styles.textAlign),mc=pm(qs),_l=0,qs.styles.textAlign){case 1:_l+=mc.width/2;break;case 2:_l+=mc.width;break}Lc=mc.add(_l,0,0,-mc.height/2+1),this.ctx.save(),this.path([new ul(mc.left,mc.top),new ul(mc.left+mc.width,mc.top),new ul(mc.left+mc.width,mc.top+mc.height),new ul(mc.left,mc.top+mc.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Hh(qs.value,Lc),Io.letterSpacing,pl),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!pa(qs.styles.display,2048))return[3,20];if(qs.styles.listStyleImage===null)return[3,19];if(Vl=qs.styles.listStyleImage,Vl.type!==0)return[3,18];Ul=void 0,Cu=Vl.url,Il.label=15;case 15:return Il.trys.push([15,17,,18]),[4,this.context.cache.match(Cu)];case 16:return Ul=Il.sent(),this.ctx.drawImage(Ul,qs.bounds.left-(Ul.width+10),qs.bounds.top),[3,18];case 17:return Il.sent(),this.context.logger.error("Error loading list-style-image "+Cu),[3,18];case 18:return[3,20];case 19:Gs.listValue&&qs.styles.listStyleType!==-1&&(Oc=this.createFontStyle(Io)[0],this.ctx.font=Oc,this.ctx.fillStyle=tu(Io.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",mc=new os(qs.bounds.left,qs.bounds.top+Dc(qs.styles.paddingTop,qs.bounds.width),qs.bounds.width,Rd(Io.lineHeight,Io.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Hh(Gs.listValue,mc),Io.letterSpacing,Rd(Io.lineHeight,Io.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Il.label=20;case 20:return[2]}})})},Hs.prototype.renderStackContent=function(Gs){return is(this,void 0,void 0,function(){var qs,po,Vl,Io,Vo,Vl,ta,ea,Vl,ya,Sa,Vl,Da,Wa,Vl,Ll,pl,Vl,_l,Lc,Vl;return ns(this,function(Ul){switch(Ul.label){case 0:if(pa(Gs.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(Gs.element)];case 1:Ul.sent(),qs=0,po=Gs.negativeZIndex,Ul.label=2;case 2:return qs<po.length?(Vl=po[qs],[4,this.renderStack(Vl)]):[3,5];case 3:Ul.sent(),Ul.label=4;case 4:return qs++,[3,2];case 5:return[4,this.renderNodeContent(Gs.element)];case 6:Ul.sent(),Io=0,Vo=Gs.nonInlineLevel,Ul.label=7;case 7:return Io<Vo.length?(Vl=Vo[Io],[4,this.renderNode(Vl)]):[3,10];case 8:Ul.sent(),Ul.label=9;case 9:return Io++,[3,7];case 10:ta=0,ea=Gs.nonPositionedFloats,Ul.label=11;case 11:return ta<ea.length?(Vl=ea[ta],[4,this.renderStack(Vl)]):[3,14];case 12:Ul.sent(),Ul.label=13;case 13:return ta++,[3,11];case 14:ya=0,Sa=Gs.nonPositionedInlineLevel,Ul.label=15;case 15:return ya<Sa.length?(Vl=Sa[ya],[4,this.renderStack(Vl)]):[3,18];case 16:Ul.sent(),Ul.label=17;case 17:return ya++,[3,15];case 18:Da=0,Wa=Gs.inlineLevel,Ul.label=19;case 19:return Da<Wa.length?(Vl=Wa[Da],[4,this.renderNode(Vl)]):[3,22];case 20:Ul.sent(),Ul.label=21;case 21:return Da++,[3,19];case 22:Ll=0,pl=Gs.zeroOrAutoZIndexOrTransformedOrOpacity,Ul.label=23;case 23:return Ll<pl.length?(Vl=pl[Ll],[4,this.renderStack(Vl)]):[3,26];case 24:Ul.sent(),Ul.label=25;case 25:return Ll++,[3,23];case 26:_l=0,Lc=Gs.positiveZIndex,Ul.label=27;case 27:return _l<Lc.length?(Vl=Lc[_l],[4,this.renderStack(Vl)]):[3,30];case 28:Ul.sent(),Ul.label=29;case 29:return _l++,[3,27];case 30:return[2]}})})},Hs.prototype.mask=function(Gs){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(Gs.slice(0).reverse()),this.ctx.closePath()},Hs.prototype.path=function(Gs){this.ctx.beginPath(),this.formatPath(Gs),this.ctx.closePath()},Hs.prototype.formatPath=function(Gs){var qs=this;Gs.forEach(function(po,Io){var Vo=Du(po)?po.start:po;Io===0?qs.ctx.moveTo(Vo.x,Vo.y):qs.ctx.lineTo(Vo.x,Vo.y),Du(po)&&qs.ctx.bezierCurveTo(po.startControl.x,po.startControl.y,po.endControl.x,po.endControl.y,po.end.x,po.end.y)})},Hs.prototype.renderRepeat=function(Gs,qs,po,Io){this.path(Gs),this.ctx.fillStyle=qs,this.ctx.translate(po,Io),this.ctx.fill(),this.ctx.translate(-po,-Io)},Hs.prototype.resizeImage=function(Gs,qs,po){var Io;if(Gs.width===qs&&Gs.height===po)return Gs;var Vo=(Io=this.canvas.ownerDocument)!==null&&Io!==void 0?Io:document,ta=Vo.createElement("canvas");ta.width=Math.max(1,qs),ta.height=Math.max(1,po);var ea=ta.getContext("2d");return ea.drawImage(Gs,0,0,Gs.width,Gs.height,0,0,qs,po),ta},Hs.prototype.renderBackgroundImage=function(Gs){return is(this,void 0,void 0,function(){var qs,po,Io,Vo,ta,ea;return ns(this,function(ya){switch(ya.label){case 0:qs=Gs.styles.backgroundImage.length-1,po=function(Sa){var Da,Wa,Ll,ud,BA,_A,Qu,Dd,Au,pl,ud,BA,_A,Qu,Dd,_l,Lc,Vl,Ul,Cu,Oc,mc,Il,du,Au,wc,ud,TA,GA,Qu,Dd,xp,BA,_A,dg,tp,kf,Ag,fg,Sp,pg,Tp;return ns(this,function(Ug){switch(Ug.label){case 0:if(Sa.type!==0)return[3,5];Da=void 0,Wa=Sa.url,Ug.label=1;case 1:return Ug.trys.push([1,3,,4]),[4,Io.context.cache.match(Wa)];case 2:return Da=Ug.sent(),[3,4];case 3:return Ug.sent(),Io.context.logger.error("Error loading background-image "+Wa),[3,4];case 4:return Da&&(Ll=km(Gs,qs,[Da.width,Da.height,Da.width/Da.height]),ud=Ll[0],BA=Ll[1],_A=Ll[2],Qu=Ll[3],Dd=Ll[4],Au=Io.ctx.createPattern(Io.resizeImage(Da,Qu,Dd),"repeat"),Io.renderRepeat(ud,Au,BA,_A)),[3,6];case 5:Eh(Sa)?(pl=km(Gs,qs,[null,null,null]),ud=pl[0],BA=pl[1],_A=pl[2],Qu=pl[3],Dd=pl[4],_l=ku(Sa.angle,Qu,Dd),Lc=_l[0],Vl=_l[1],Ul=_l[2],Cu=_l[3],Oc=_l[4],mc=document.createElement("canvas"),mc.width=Qu,mc.height=Dd,Il=mc.getContext("2d"),du=Il.createLinearGradient(Vl,Cu,Ul,Oc),Nl(Sa.stops,Lc).forEach(function(im){return du.addColorStop(im.stop,tu(im.color))}),Il.fillStyle=du,Il.fillRect(0,0,Qu,Dd),Qu>0&&Dd>0&&(Au=Io.ctx.createPattern(mc,"repeat"),Io.renderRepeat(ud,Au,BA,_A))):gd(Sa)&&(wc=km(Gs,qs,[null,null,null]),ud=wc[0],TA=wc[1],GA=wc[2],Qu=wc[3],Dd=wc[4],xp=Sa.position.length===0?[ed]:Sa.position,BA=Dc(xp[0],Qu),_A=Dc(xp[xp.length-1],Dd),dg=vf(Sa,BA,_A,Qu,Dd),tp=dg[0],kf=dg[1],tp>0&&kf>0&&(Ag=Io.ctx.createRadialGradient(TA+BA,GA+_A,0,TA+BA,GA+_A,tp),Nl(Sa.stops,tp*2).forEach(function(im){return Ag.addColorStop(im.stop,tu(im.color))}),Io.path(ud),Io.ctx.fillStyle=Ag,tp!==kf?(fg=Gs.bounds.left+.5*Gs.bounds.width,Sp=Gs.bounds.top+.5*Gs.bounds.height,pg=kf/tp,Tp=1/pg,Io.ctx.save(),Io.ctx.translate(fg,Sp),Io.ctx.transform(1,0,0,pg,0,0),Io.ctx.translate(-fg,-Sp),Io.ctx.fillRect(TA,Tp*(GA-Sp)+Sp,Qu,Dd*Tp),Io.ctx.restore()):Io.ctx.fill())),Ug.label=6;case 6:return qs--,[2]}})},Io=this,Vo=0,ta=Gs.styles.backgroundImage.slice(0).reverse(),ya.label=1;case 1:return Vo<ta.length?(ea=ta[Vo],[5,po(ea)]):[3,4];case 2:ya.sent(),ya.label=3;case 3:return Vo++,[3,1];case 4:return[2]}})})},Hs.prototype.renderSolidBorder=function(Gs,qs,po){return is(this,void 0,void 0,function(){return ns(this,function(Io){return this.path(Zm(po,qs)),this.ctx.fillStyle=tu(Gs),this.ctx.fill(),[2]})})},Hs.prototype.renderDoubleBorder=function(Gs,qs,po,Io){return is(this,void 0,void 0,function(){var Vo,ta;return ns(this,function(ea){switch(ea.label){case 0:return qs<3?[4,this.renderSolidBorder(Gs,po,Io)]:[3,2];case 1:return ea.sent(),[2];case 2:return Vo=Cv(Io,po),this.path(Vo),this.ctx.fillStyle=tu(Gs),this.ctx.fill(),ta=Ev(Io,po),this.path(ta),this.ctx.fill(),[2]}})})},Hs.prototype.renderNodeBackgroundAndBorders=function(Gs){return is(this,void 0,void 0,function(){var qs,po,Io,Vo,ta,ea,ya,Sa,Da=this;return ns(this,function(Wa){switch(Wa.label){case 0:return this.applyEffects(Gs.getEffects(2)),qs=Gs.container.styles,po=!rd(qs.backgroundColor)||qs.backgroundImage.length,Io=[{style:qs.borderTopStyle,color:qs.borderTopColor,width:qs.borderTopWidth},{style:qs.borderRightStyle,color:qs.borderRightColor,width:qs.borderRightWidth},{style:qs.borderBottomStyle,color:qs.borderBottomColor,width:qs.borderBottomWidth},{style:qs.borderLeftStyle,color:qs.borderLeftColor,width:qs.borderLeftWidth}],Vo=Dv(Wp(qs.backgroundClip,0),Gs.curves),po||qs.boxShadow.length?(this.ctx.save(),this.path(Vo),this.ctx.clip(),rd(qs.backgroundColor)||(this.ctx.fillStyle=tu(qs.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(Gs.container)]):[3,2];case 1:Wa.sent(),this.ctx.restore(),qs.boxShadow.slice(0).reverse().forEach(function(Ll){Da.ctx.save();var pl=$u(Gs.curves),_l=Ll.inset?0:Fv,Lc=ep(pl,-_l+(Ll.inset?1:-1)*Ll.spread.number,(Ll.inset?1:-1)*Ll.spread.number,Ll.spread.number*(Ll.inset?-2:2),Ll.spread.number*(Ll.inset?-2:2));Ll.inset?(Da.path(pl),Da.ctx.clip(),Da.mask(Lc)):(Da.mask(pl),Da.ctx.clip(),Da.path(Lc)),Da.ctx.shadowOffsetX=Ll.offsetX.number+_l,Da.ctx.shadowOffsetY=Ll.offsetY.number,Da.ctx.shadowColor=tu(Ll.color),Da.ctx.shadowBlur=Ll.blur.number,Da.ctx.fillStyle=Ll.inset?tu(Ll.color):"rgba(0,0,0,1)",Da.ctx.fill(),Da.ctx.restore()}),Wa.label=2;case 2:ta=0,ea=0,ya=Io,Wa.label=3;case 3:return ea<ya.length?(Sa=ya[ea],Sa.style!==0&&!rd(Sa.color)&&Sa.width>0?Sa.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Sa.color,Sa.width,ta,Gs.curves,2)]:[3,11]):[3,13];case 4:return Wa.sent(),[3,11];case 5:return Sa.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Sa.color,Sa.width,ta,Gs.curves,3)];case 6:return Wa.sent(),[3,11];case 7:return Sa.style!==4?[3,9]:[4,this.renderDoubleBorder(Sa.color,Sa.width,ta,Gs.curves)];case 8:return Wa.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Sa.color,ta,Gs.curves)];case 10:Wa.sent(),Wa.label=11;case 11:ta++,Wa.label=12;case 12:return ea++,[3,3];case 13:return[2]}})})},Hs.prototype.renderDashedDottedBorder=function(Gs,qs,po,Io,Vo){return is(this,void 0,void 0,function(){var ta,ea,ya,Sa,Da,Wa,Ll,pl,_l,Lc,Vl,Ul,Cu,Oc,mc,Il,mc,Il;return ns(this,function(du){return this.ctx.save(),ta=xv(Io,po),ea=Zm(Io,po),Vo===2&&(this.path(ea),this.ctx.clip()),Du(ea[0])?(ya=ea[0].start.x,Sa=ea[0].start.y):(ya=ea[0].x,Sa=ea[0].y),Du(ea[1])?(Da=ea[1].end.x,Wa=ea[1].end.y):(Da=ea[1].x,Wa=ea[1].y),po===0||po===2?Ll=Math.abs(ya-Da):Ll=Math.abs(Sa-Wa),this.ctx.beginPath(),Vo===3?this.formatPath(ta):this.formatPath(ea.slice(0,2)),pl=qs<3?qs*3:qs*2,_l=qs<3?qs*2:qs,Vo===3&&(pl=qs,_l=qs),Lc=!0,Ll<=pl*2?Lc=!1:Ll<=pl*2+_l?(Vl=Ll/(2*pl+_l),pl*=Vl,_l*=Vl):(Ul=Math.floor((Ll+_l)/(pl+_l)),Cu=(Ll-Ul*pl)/(Ul-1),Oc=(Ll-(Ul+1)*pl)/Ul,_l=Oc<=0||Math.abs(_l-Cu)<Math.abs(_l-Oc)?Cu:Oc),Lc&&(Vo===3?this.ctx.setLineDash([0,pl+_l]):this.ctx.setLineDash([pl,_l])),Vo===3?(this.ctx.lineCap="round",this.ctx.lineWidth=qs):this.ctx.lineWidth=qs*2+1.1,this.ctx.strokeStyle=tu(Gs),this.ctx.stroke(),this.ctx.setLineDash([]),Vo===2&&(Du(ea[0])&&(mc=ea[3],Il=ea[0],this.ctx.beginPath(),this.formatPath([new ul(mc.end.x,mc.end.y),new ul(Il.start.x,Il.start.y)]),this.ctx.stroke()),Du(ea[1])&&(mc=ea[1],Il=ea[2],this.ctx.beginPath(),this.formatPath([new ul(mc.end.x,mc.end.y),new ul(Il.start.x,Il.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},Hs.prototype.render=function(Gs){return is(this,void 0,void 0,function(){var qs;return ns(this,function(po){switch(po.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=tu(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),qs=wv(Gs),[4,this.renderStack(qs)];case 1:return po.sent(),this.applyEffects([]),[2,this.canvas]}})})},Hs}(iv),kv=function(Vs){return Vs instanceof WA||Vs instanceof gp?!0:Vs instanceof Xg&&Vs.type!==bd&&Vs.type!==Hp},Dv=function(Vs,Hs){switch(Vs){case 0:return $u(Hs);case 2:return Qd(Hs);case 1:default:return Ff(Hs)}},Pv=function(Vs){switch(Vs){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Mv=["-apple-system","system-ui"],Ov=function(Vs){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?Vs.filter(function(Hs){return Mv.indexOf(Hs)===-1}):Vs},Nv=function(Vs){ts(Hs,Vs);function Hs(Gs,qs){var po=Vs.call(this,Gs,qs)||this;return po.canvas=qs.canvas?qs.canvas:document.createElement("canvas"),po.ctx=po.canvas.getContext("2d"),po.options=qs,po.canvas.width=Math.floor(qs.width*qs.scale),po.canvas.height=Math.floor(qs.height*qs.scale),po.canvas.style.width=qs.width+"px",po.canvas.style.height=qs.height+"px",po.ctx.scale(po.options.scale,po.options.scale),po.ctx.translate(-qs.x,-qs.y),po.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+qs.width+"x"+qs.height+" at "+qs.x+","+qs.y+") with scale "+qs.scale),po}return Hs.prototype.render=function(Gs){return is(this,void 0,void 0,function(){var qs,po;return ns(this,function(Io){switch(Io.label){case 0:return qs=Zd(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,Gs),[4,Rv(qs)];case 1:return po=Io.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=tu(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(po,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},Hs}(iv),Rv=function(Vs){return new Promise(function(Hs,Gs){var qs=new Image;qs.onload=function(){Hs(qs)},qs.onerror=Gs,qs.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(Vs))})},Uv=function(){function Vs(Hs){var Gs=Hs.id,qs=Hs.enabled;this.id=Gs,this.enabled=qs,this.start=Date.now()}return Vs.prototype.debug=function(){for(var Hs=[],Gs=0;Gs<arguments.length;Gs++)Hs[Gs]=arguments[Gs];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,ss([this.id,this.getTime()+"ms"],Hs)):this.info.apply(this,Hs))},Vs.prototype.getTime=function(){return Date.now()-this.start},Vs.prototype.info=function(){for(var Hs=[],Gs=0;Gs<arguments.length;Gs++)Hs[Gs]=arguments[Gs];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,ss([this.id,this.getTime()+"ms"],Hs))},Vs.prototype.warn=function(){for(var Hs=[],Gs=0;Gs<arguments.length;Gs++)Hs[Gs]=arguments[Gs];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,ss([this.id,this.getTime()+"ms"],Hs)):this.info.apply(this,Hs))},Vs.prototype.error=function(){for(var Hs=[],Gs=0;Gs<arguments.length;Gs++)Hs[Gs]=arguments[Gs];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,ss([this.id,this.getTime()+"ms"],Hs)):this.info.apply(this,Hs))},Vs.instances={},Vs}(),Hv=function(){function Vs(Hs,Gs){var qs;this.windowBounds=Gs,this.instanceName="#"+Vs.instanceCount++,this.logger=new Uv({id:this.instanceName,enabled:Hs.logging}),this.cache=(qs=Hs.cache)!==null&&qs!==void 0?qs:new ml(this,Hs)}return Vs.instanceCount=1,Vs}(),jv=function(Vs,Hs){return Hs===void 0&&(Hs={}),$v(Vs,Hs)};typeof window<"u"&&dl.setContext(window);var $v=function(Vs,Hs){return is(void 0,void 0,void 0,function(){var Gs,qs,po,Io,Vo,ta,ea,ya,Sa,Da,Wa,Ll,pl,_l,Lc,Vl,Ul,Cu,Oc,mc,du,Il,du,Au,wc,ud,TA,GA,Qu,Dd,xp,BA,_A,dg,tp,kf,Ag,fg,Sp,pg;return ns(this,function(Tp){switch(Tp.label){case 0:if(!Vs||typeof Vs!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(Gs=Vs.ownerDocument,!Gs)throw new Error("Element is not attached to a Document");if(qs=Gs.defaultView,!qs)throw new Error("Document is not attached to a Window");return po={allowTaint:(Au=Hs.allowTaint)!==null&&Au!==void 0?Au:!1,imageTimeout:(wc=Hs.imageTimeout)!==null&&wc!==void 0?wc:15e3,proxy:Hs.proxy,useCORS:(ud=Hs.useCORS)!==null&&ud!==void 0?ud:!1},Io=rs({logging:(TA=Hs.logging)!==null&&TA!==void 0?TA:!0,cache:Hs.cache},po),Vo={windowWidth:(GA=Hs.windowWidth)!==null&&GA!==void 0?GA:qs.innerWidth,windowHeight:(Qu=Hs.windowHeight)!==null&&Qu!==void 0?Qu:qs.innerHeight,scrollX:(Dd=Hs.scrollX)!==null&&Dd!==void 0?Dd:qs.pageXOffset,scrollY:(xp=Hs.scrollY)!==null&&xp!==void 0?xp:qs.pageYOffset},ta=new os(Vo.scrollX,Vo.scrollY,Vo.windowWidth,Vo.windowHeight),ea=new Hv(Io,ta),ya=(BA=Hs.foreignObjectRendering)!==null&&BA!==void 0?BA:!1,Sa={allowTaint:(_A=Hs.allowTaint)!==null&&_A!==void 0?_A:!1,onclone:Hs.onclone,ignoreElements:Hs.ignoreElements,inlineImages:ya,copyStyles:ya},ea.logger.debug("Starting document clone with size "+ta.width+"x"+ta.height+" scrolled to "+-ta.left+","+-ta.top),Da=new ug(ea,Vs,Sa),Wa=Da.clonedReferenceElement,Wa?[4,Da.toIFrame(Gs,ta)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Ll=Tp.sent(),pl=bp(Wa)||hm(Wa)?cs(Wa.ownerDocument):ls(ea,Wa),_l=pl.width,Lc=pl.height,Vl=pl.left,Ul=pl.top,Cu=Qv(ea,Wa,Hs.backgroundColor),Oc={canvas:Hs.canvas,backgroundColor:Cu,scale:(tp=(dg=Hs.scale)!==null&&dg!==void 0?dg:qs.devicePixelRatio)!==null&&tp!==void 0?tp:1,x:((kf=Hs.x)!==null&&kf!==void 0?kf:0)+Vl,y:((Ag=Hs.y)!==null&&Ag!==void 0?Ag:0)+Ul,width:(fg=Hs.width)!==null&&fg!==void 0?fg:Math.ceil(_l),height:(Sp=Hs.height)!==null&&Sp!==void 0?Sp:Math.ceil(Lc)},ya?(ea.logger.debug("Document cloned, using foreign object rendering"),du=new Nv(ea,Oc),[4,du.render(Wa)]):[3,3];case 2:return mc=Tp.sent(),[3,5];case 3:return ea.logger.debug("Document cloned, element located at "+Vl+","+Ul+" with size "+_l+"x"+Lc+" using computed rendering"),ea.logger.debug("Starting DOM parsing"),Il=vp(ea,Wa),Cu===Il.styles.backgroundColor&&(Il.styles.backgroundColor=Ca.TRANSPARENT),ea.logger.debug("Starting renderer for element at "+Oc.x+","+Oc.y+" with size "+Oc.width+"x"+Oc.height),du=new Iv(ea,Oc),[4,du.render(Il)];case 4:mc=Tp.sent(),Tp.label=5;case 5:return(!((pg=Hs.removeContainer)!==null&&pg!==void 0)||pg)&&(ug.destroy(Ll)||ea.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),ea.logger.debug("Finished rendering"),[2,mc]}})})},Qv=function(Vs,Hs,Gs){var qs=Hs.ownerDocument,po=qs.documentElement?ah(Vs,getComputedStyle(qs.documentElement).backgroundColor):Ca.TRANSPARENT,Io=qs.body?ah(Vs,getComputedStyle(qs.body).backgroundColor):Ca.TRANSPARENT,Vo=typeof Gs=="string"?ah(Vs,Gs):Gs===null?Ca.TRANSPARENT:4294967295;return Hs===qs.documentElement?rd(po)?rd(Io)?Vo:Io:po:Vo};return jv})}(html2canvas)),html2canvas.exports}/*!
 * html2pdf.js v0.10.2
 * Copyright (c) 2024 Erik Koopmans
 * Released under the MIT License.
 */(function(es,ki){(function(ts,rs){es.exports=rs(require$$0,requireHtml2canvas())})(self,function(Ri,ts){return function(){var rs={"./src/plugin/hyperlinks.js":function(os,ls,cs){cs.r(ls),cs("./node_modules/core-js/modules/web.dom-collections.for-each.js"),cs("./node_modules/core-js/modules/es.string.link.js");var hs=cs("./src/worker.js"),us=cs("./src/utils.js"),As=[],bs={toContainer:hs.default.prototype.toContainer,toPdf:hs.default.prototype.toPdf};hs.default.prototype.toContainer=function(){return bs.toContainer.call(this).then(function(){if(this.opt.enableLinks){var ps=this.prop.container,ms=ps.querySelectorAll("a"),fs=(0,us.unitConvert)(ps.getBoundingClientRect(),this.prop.pageSize.k);As=[],Array.prototype.forEach.call(ms,function(gs){for(var ws=gs.getClientRects(),Ts=0;Ts<ws.length;Ts++){var $s=(0,us.unitConvert)(ws[Ts],this.prop.pageSize.k);$s.left-=fs.left,$s.top-=fs.top;var Rs=Math.floor($s.top/this.prop.pageSize.inner.height)+1,Ps=this.opt.margin[0]+$s.top%this.prop.pageSize.inner.height,Qs=this.opt.margin[1]+$s.left;As.push({page:Rs,top:Ps,left:Qs,clientRect:$s,link:gs})}},this)}})},hs.default.prototype.toPdf=function(){return bs.toPdf.call(this).then(function(){if(this.opt.enableLinks){As.forEach(function(ms){this.prop.pdf.setPage(ms.page),this.prop.pdf.link(ms.left,ms.top,ms.clientRect.width,ms.clientRect.height,{url:ms.link.href})},this);var ps=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(ps)}})}},"./src/plugin/jspdf-plugin.js":function(os,ls,cs){cs.r(ls),cs("./node_modules/core-js/modules/es.symbol.js"),cs("./node_modules/core-js/modules/es.symbol.description.js"),cs("./node_modules/core-js/modules/es.object.to-string.js"),cs("./node_modules/core-js/modules/es.symbol.iterator.js"),cs("./node_modules/core-js/modules/es.array.iterator.js"),cs("./node_modules/core-js/modules/es.string.iterator.js"),cs("./node_modules/core-js/modules/web.dom-collections.iterator.js");var hs=cs("jspdf");function us(As){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?us=function(ys){return typeof ys}:us=function(ys){return ys&&typeof Symbol=="function"&&ys.constructor===Symbol&&ys!==Symbol.prototype?"symbol":typeof ys},us(As)}hs.jsPDF.getPageSize=function(As,bs,ys){if(us(As)==="object"){var Cs=As;As=Cs.orientation,bs=Cs.unit||bs,ys=Cs.format||ys}bs=bs||"mm",ys=ys||"a4",As=(""+(As||"P")).toLowerCase();var ps=(""+ys).toLowerCase(),ms={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(bs){case"pt":var fs=1;break;case"mm":var fs=72/25.4;break;case"cm":var fs=72/2.54;break;case"in":var fs=72;break;case"px":var fs=72/96;break;case"pc":var fs=12;break;case"em":var fs=12;break;case"ex":var fs=6;break;default:throw"Invalid unit: "+bs}if(ms.hasOwnProperty(ps))var gs=ms[ps][1]/fs,ws=ms[ps][0]/fs;else try{var gs=ys[1],ws=ys[0]}catch{throw new Error("Invalid format: "+ys)}if(As==="p"||As==="portrait"){if(As="p",ws>gs){var Ts=ws;ws=gs,gs=Ts}}else if(As==="l"||As==="landscape"){if(As="l",gs>ws){var Ts=ws;ws=gs,gs=Ts}}else throw"Invalid orientation: "+As;var $s={width:ws,height:gs,unit:bs,k:fs};return $s},ls.default=hs.jsPDF},"./src/plugin/pagebreaks.js":function(os,ls,cs){cs.r(ls),cs("./node_modules/core-js/modules/es.array.concat.js"),cs("./node_modules/core-js/modules/es.array.slice.js"),cs("./node_modules/core-js/modules/es.array.join.js"),cs("./node_modules/core-js/modules/web.dom-collections.for-each.js"),cs("./node_modules/core-js/modules/es.object.keys.js");var hs=cs("./src/worker.js"),us=cs("./src/utils.js"),As={toContainer:hs.default.prototype.toContainer};hs.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},hs.default.prototype.toContainer=function(){return As.toContainer.call(this).then(function(){var Cs=this.prop.container,ps=this.prop.pageSize.inner.px.height,ms=[].concat(this.opt.pagebreak.mode),fs={avoidAll:ms.indexOf("avoid-all")!==-1,css:ms.indexOf("css")!==-1,legacy:ms.indexOf("legacy")!==-1},gs={},ws=this;["before","after","avoid"].forEach(function(Rs){var Ps=fs.avoidAll&&Rs==="avoid";gs[Rs]=Ps?[]:[].concat(ws.opt.pagebreak[Rs]||[]),gs[Rs].length>0&&(gs[Rs]=Array.prototype.slice.call(Cs.querySelectorAll(gs[Rs].join(", "))))});var Ts=Cs.querySelectorAll(".html2pdf__page-break");Ts=Array.prototype.slice.call(Ts);var $s=Cs.querySelectorAll("*");Array.prototype.forEach.call($s,function(Ps){var Qs={before:!1,after:fs.legacy&&Ts.indexOf(Ps)!==-1,avoid:fs.avoidAll};if(fs.css){var Fs=window.getComputedStyle(Ps),Is=["always","page","left","right"],Ms=["avoid","avoid-page"];Qs={before:Qs.before||Is.indexOf(Fs.breakBefore||Fs.pageBreakBefore)!==-1,after:Qs.after||Is.indexOf(Fs.breakAfter||Fs.pageBreakAfter)!==-1,avoid:Qs.avoid||Ms.indexOf(Fs.breakInside||Fs.pageBreakInside)!==-1}}Object.keys(Qs).forEach(function(Us){Qs[Us]=Qs[Us]||gs[Us].indexOf(Ps)!==-1});var Ws=Ps.getBoundingClientRect();if(Qs.avoid&&!Qs.before){var Ds=Math.floor(Ws.top/ps),_s=Math.floor(Ws.bottom/ps),Ns=Math.abs(Ws.bottom-Ws.top)/ps;_s!==Ds&&Ns<=1&&(Qs.before=!0)}if(Qs.before){var Ss=(0,us.createElement)("div",{style:{display:"block",height:ps-Ws.top%ps+"px"}});Ps.parentNode.insertBefore(Ss,Ps)}if(Qs.after){var Ss=(0,us.createElement)("div",{style:{display:"block",height:ps-Ws.bottom%ps+"px"}});Ps.parentNode.insertBefore(Ss,Ps.nextSibling)}})})}},"./src/utils.js":function(os,ls,cs){cs.r(ls),cs.d(ls,{objType:function(){return us},createElement:function(){return As},cloneNode:function(){return bs},unitConvert:function(){return ys},toPx:function(){return Cs}}),cs("./node_modules/core-js/modules/es.number.constructor.js"),cs("./node_modules/core-js/modules/es.symbol.js"),cs("./node_modules/core-js/modules/es.symbol.description.js"),cs("./node_modules/core-js/modules/es.object.to-string.js"),cs("./node_modules/core-js/modules/es.symbol.iterator.js"),cs("./node_modules/core-js/modules/es.array.iterator.js"),cs("./node_modules/core-js/modules/es.string.iterator.js"),cs("./node_modules/core-js/modules/web.dom-collections.iterator.js");function hs(ps){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hs=function(fs){return typeof fs}:hs=function(fs){return fs&&typeof Symbol=="function"&&fs.constructor===Symbol&&fs!==Symbol.prototype?"symbol":typeof fs},hs(ps)}var us=function(ms){var fs=hs(ms);return fs==="undefined"?"undefined":fs==="string"||ms instanceof String?"string":fs==="number"||ms instanceof Number?"number":fs==="function"||ms instanceof Function?"function":ms&&ms.constructor===Array?"array":ms&&ms.nodeType===1?"element":fs==="object"?"object":"unknown"},As=function(ms,fs){var gs=document.createElement(ms);if(fs.className&&(gs.className=fs.className),fs.innerHTML){gs.innerHTML=fs.innerHTML;for(var ws=gs.getElementsByTagName("script"),Ts=ws.length;Ts-- >0;null)ws[Ts].parentNode.removeChild(ws[Ts])}for(var $s in fs.style)gs.style[$s]=fs.style[$s];return gs},bs=function ps(ms,fs){for(var gs=ms.nodeType===3?document.createTextNode(ms.nodeValue):ms.cloneNode(!1),ws=ms.firstChild;ws;ws=ws.nextSibling)(fs===!0||ws.nodeType!==1||ws.nodeName!=="SCRIPT")&&gs.appendChild(ps(ws,fs));return ms.nodeType===1&&(ms.nodeName==="CANVAS"?(gs.width=ms.width,gs.height=ms.height,gs.getContext("2d").drawImage(ms,0,0)):(ms.nodeName==="TEXTAREA"||ms.nodeName==="SELECT")&&(gs.value=ms.value),gs.addEventListener("load",function(){gs.scrollTop=ms.scrollTop,gs.scrollLeft=ms.scrollLeft},!0)),gs},ys=function(ms,fs){if(us(ms)==="number")return ms*72/96/fs;var gs={};for(var ws in ms)gs[ws]=ms[ws]*72/96/fs;return gs},Cs=function(ms,fs){return Math.floor(ms*fs/72*96)}},"./src/worker.js":function(os,ls,cs){cs.r(ls),cs("./node_modules/core-js/modules/es.object.assign.js"),cs("./node_modules/core-js/modules/es.array.map.js"),cs("./node_modules/core-js/modules/es.object.keys.js"),cs("./node_modules/core-js/modules/es.array.concat.js"),cs("./node_modules/core-js/modules/es.object.to-string.js"),cs("./node_modules/core-js/modules/es.regexp.to-string.js"),cs("./node_modules/core-js/modules/es.function.name.js"),cs("./node_modules/core-js/modules/web.dom-collections.for-each.js");var hs=cs("jspdf"),us=cs("html2canvas"),As=cs("./src/utils.js"),bs=cs("./node_modules/es6-promise/dist/es6-promise.js"),ys=cs.n(bs),Cs=ys().Promise,ps=function ms(fs){var gs=Object.assign(ms.convert(Cs.resolve()),JSON.parse(JSON.stringify(ms.template))),ws=ms.convert(Cs.resolve(),gs);return ws=ws.setProgress(1,ms,1,[ms]),ws=ws.set(fs),ws};ps.prototype=Object.create(Cs.prototype),ps.prototype.constructor=ps,ps.convert=function(fs,gs){return fs.__proto__=gs||ps.prototype,fs},ps.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},ps.prototype.from=function(fs,gs){function ws(Ts){switch((0,As.objType)(Ts)){case"string":return"string";case"element":return Ts.nodeName.toLowerCase&&Ts.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(gs=gs||ws(fs),gs){case"string":return this.set({src:(0,As.createElement)("div",{innerHTML:fs})});case"element":return this.set({src:fs});case"canvas":return this.set({canvas:fs});case"img":return this.set({img:fs});default:return this.error("Unknown source type.")}})},ps.prototype.to=function(fs){switch(fs){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},ps.prototype.toContainer=function(){var fs=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(fs).then(function(){var ws={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},Ts={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};ws.opacity=0;var $s=(0,As.cloneNode)(this.prop.src,this.opt.html2canvas.javascriptEnabled);this.prop.overlay=(0,As.createElement)("div",{className:"html2pdf__overlay",style:ws}),this.prop.container=(0,As.createElement)("div",{className:"html2pdf__container",style:Ts}),this.prop.container.appendChild($s),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay)})},ps.prototype.toCanvas=function(){var fs=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(fs).then(function(){var ws=Object.assign({},this.opt.html2canvas);return delete ws.onrendered,us(this.prop.container,ws)}).then(function(ws){var Ts=this.opt.html2canvas.onrendered||function(){};Ts(ws),this.prop.canvas=ws,document.body.removeChild(this.prop.overlay)})},ps.prototype.toImg=function(){var fs=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(fs).then(function(){var ws=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=ws})},ps.prototype.toPdf=function(){var fs=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(fs).then(function(){var ws=this.prop.canvas,Ts=this.opt,$s=ws.height,Rs=Math.floor(ws.width*this.prop.pageSize.inner.ratio),Ps=Math.ceil($s/Rs),Qs=this.prop.pageSize.inner.height,Fs=document.createElement("canvas"),Is=Fs.getContext("2d");Fs.width=ws.width,Fs.height=Rs,this.prop.pdf=this.prop.pdf||new hs.jsPDF(Ts.jsPDF);for(var Ms=0;Ms<Ps;Ms++){Ms===Ps-1&&$s%Rs!==0&&(Fs.height=$s%Rs,Qs=Fs.height*this.prop.pageSize.inner.width/Fs.width);var Ws=Fs.width,Ds=Fs.height;Is.fillStyle="white",Is.fillRect(0,0,Ws,Ds),Is.drawImage(ws,0,Ms*Rs,Ws,Ds,0,0,Ws,Ds),Ms&&this.prop.pdf.addPage();var _s=Fs.toDataURL("image/"+Ts.image.type,Ts.image.quality);this.prop.pdf.addImage(_s,Ts.image.type,Ts.margin[1],Ts.margin[0],this.prop.pageSize.inner.width,Qs)}})},ps.prototype.output=function(fs,gs,ws){return ws=ws||"pdf",ws.toLowerCase()==="img"||ws.toLowerCase()==="image"?this.outputImg(fs,gs):this.outputPdf(fs,gs)},ps.prototype.outputPdf=function(fs,gs){var ws=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(ws).then(function(){return this.prop.pdf.output(fs,gs)})},ps.prototype.outputImg=function(fs,gs){var ws=[function(){return this.prop.img||this.toImg()}];return this.thenList(ws).then(function(){switch(fs){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+fs+'" is not supported.'}})},ps.prototype.save=function(fs){var gs=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(gs).set(fs?{filename:fs}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},ps.prototype.set=function(fs){if((0,As.objType)(fs)!=="object")return this;var gs=Object.keys(fs||{}).map(function(ws){switch(ws){case"margin":return this.setMargin.bind(this,fs.margin);case"jsPDF":return function(){return this.opt.jsPDF=fs.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,fs.pageSize);default:return ws in ps.template.prop?function(){this.prop[ws]=fs[ws]}:function(){this.opt[ws]=fs[ws]}}},this);return this.then(function(){return this.thenList(gs)})},ps.prototype.get=function(fs,gs){return this.then(function(){var Ts=fs in ps.template.prop?this.prop[fs]:this.opt[fs];return gs?gs(Ts):Ts})},ps.prototype.setMargin=function(fs){return this.then(function(){switch((0,As.objType)(fs)){case"number":fs=[fs,fs,fs,fs];case"array":if(fs.length===2&&(fs=[fs[0],fs[1],fs[0],fs[1]]),fs.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=fs}).then(this.setPageSize)},ps.prototype.setPageSize=function(fs){return this.then(function(){fs=fs||hs.jsPDF.getPageSize(this.opt.jsPDF),fs.hasOwnProperty("inner")||(fs.inner={width:fs.width-this.opt.margin[1]-this.opt.margin[3],height:fs.height-this.opt.margin[0]-this.opt.margin[2]},fs.inner.px={width:(0,As.toPx)(fs.inner.width,fs.k),height:(0,As.toPx)(fs.inner.height,fs.k)},fs.inner.ratio=fs.inner.height/fs.inner.width),this.prop.pageSize=fs})},ps.prototype.setProgress=function(fs,gs,ws,Ts){return fs!=null&&(this.progress.val=fs),gs!=null&&(this.progress.state=gs),ws!=null&&(this.progress.n=ws),Ts!=null&&(this.progress.stack=Ts),this.progress.ratio=this.progress.val/this.progress.state,this},ps.prototype.updateProgress=function(fs,gs,ws,Ts){return this.setProgress(fs?this.progress.val+fs:null,gs||null,ws?this.progress.n+ws:null,Ts?this.progress.stack.concat(Ts):null)},ps.prototype.then=function(fs,gs){var ws=this;return this.thenCore(fs,gs,function($s,Rs){return ws.updateProgress(null,null,1,[$s]),Cs.prototype.then.call(this,function(Qs){return ws.updateProgress(null,$s),Qs}).then($s,Rs).then(function(Qs){return ws.updateProgress(1),Qs})})},ps.prototype.thenCore=function(fs,gs,ws){ws=ws||Cs.prototype.then;var Ts=this;fs&&(fs=fs.bind(Ts)),gs&&(gs=gs.bind(Ts));var $s=Cs.toString().indexOf("[native code]")!==-1&&Cs.name==="Promise",Rs=$s?Ts:ps.convert(Object.assign({},Ts),Cs.prototype),Ps=ws.call(Rs,fs,gs);return ps.convert(Ps,Ts.__proto__)},ps.prototype.thenExternal=function(fs,gs){return Cs.prototype.then.call(this,fs,gs)},ps.prototype.thenList=function(fs){var gs=this;return fs.forEach(function(Ts){gs=gs.thenCore(Ts)}),gs},ps.prototype.catch=function(ms){ms&&(ms=ms.bind(this));var fs=Cs.prototype.catch.call(this,ms);return ps.convert(fs,this)},ps.prototype.catchExternal=function(fs){return Cs.prototype.catch.call(this,fs)},ps.prototype.error=function(fs){return this.then(function(){throw new Error(fs)})},ps.prototype.using=ps.prototype.set,ps.prototype.saveAs=ps.prototype.save,ps.prototype.export=ps.prototype.output,ps.prototype.run=ps.prototype.then,ls.default=ps},"./node_modules/core-js/internals/a-function.js":function(os){os.exports=function(ls){if(typeof ls!="function")throw TypeError(String(ls)+" is not a function");return ls}},"./node_modules/core-js/internals/a-possible-prototype.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/is-object.js");os.exports=function(us){if(!hs(us)&&us!==null)throw TypeError("Can't set "+String(us)+" as a prototype");return us}},"./node_modules/core-js/internals/add-to-unscopables.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/well-known-symbol.js"),us=cs("./node_modules/core-js/internals/object-create.js"),As=cs("./node_modules/core-js/internals/object-define-property.js"),bs=hs("unscopables"),ys=Array.prototype;ys[bs]==null&&As.f(ys,bs,{configurable:!0,value:us(null)}),os.exports=function(Cs){ys[bs][Cs]=!0}},"./node_modules/core-js/internals/an-object.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/is-object.js");os.exports=function(us){if(!hs(us))throw TypeError(String(us)+" is not an object");return us}},"./node_modules/core-js/internals/array-for-each.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/array-iteration.js").forEach,us=cs("./node_modules/core-js/internals/array-method-is-strict.js"),As=us("forEach");os.exports=As?[].forEach:function(ys){return hs(this,ys,arguments.length>1?arguments[1]:void 0)}},"./node_modules/core-js/internals/array-includes.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/to-indexed-object.js"),us=cs("./node_modules/core-js/internals/to-length.js"),As=cs("./node_modules/core-js/internals/to-absolute-index.js"),bs=function(ys){return function(Cs,ps,ms){var fs=hs(Cs),gs=us(fs.length),ws=As(ms,gs),Ts;if(ys&&ps!=ps){for(;gs>ws;)if(Ts=fs[ws++],Ts!=Ts)return!0}else for(;gs>ws;ws++)if((ys||ws in fs)&&fs[ws]===ps)return ys||ws||0;return!ys&&-1}};os.exports={includes:bs(!0),indexOf:bs(!1)}},"./node_modules/core-js/internals/array-iteration.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/function-bind-context.js"),us=cs("./node_modules/core-js/internals/indexed-object.js"),As=cs("./node_modules/core-js/internals/to-object.js"),bs=cs("./node_modules/core-js/internals/to-length.js"),ys=cs("./node_modules/core-js/internals/array-species-create.js"),Cs=[].push,ps=function(ms){var fs=ms==1,gs=ms==2,ws=ms==3,Ts=ms==4,$s=ms==6,Rs=ms==7,Ps=ms==5||$s;return function(Qs,Fs,Is,Ms){for(var Ws=As(Qs),Ds=us(Ws),_s=hs(Fs,Is,3),Ns=bs(Ds.length),Ss=0,Us=Ms||ys,Zs=fs?Us(Qs,Ns):gs||Rs?Us(Qs,0):void 0,ao,js;Ns>Ss;Ss++)if((Ps||Ss in Ds)&&(ao=Ds[Ss],js=_s(ao,Ss,Ws),ms))if(fs)Zs[Ss]=js;else if(js)switch(ms){case 3:return!0;case 5:return ao;case 6:return Ss;case 2:Cs.call(Zs,ao)}else switch(ms){case 4:return!1;case 7:Cs.call(Zs,ao)}return $s?-1:ws||Ts?Ts:Zs}};os.exports={forEach:ps(0),map:ps(1),filter:ps(2),some:ps(3),every:ps(4),find:ps(5),findIndex:ps(6),filterReject:ps(7)}},"./node_modules/core-js/internals/array-method-has-species-support.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/fails.js"),us=cs("./node_modules/core-js/internals/well-known-symbol.js"),As=cs("./node_modules/core-js/internals/engine-v8-version.js"),bs=us("species");os.exports=function(ys){return As>=51||!hs(function(){var Cs=[],ps=Cs.constructor={};return ps[bs]=function(){return{foo:1}},Cs[ys](Boolean).foo!==1})}},"./node_modules/core-js/internals/array-method-is-strict.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/fails.js");os.exports=function(us,As){var bs=[][us];return!!bs&&hs(function(){bs.call(null,As||function(){throw 1},1)})}},"./node_modules/core-js/internals/array-species-constructor.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/is-object.js"),us=cs("./node_modules/core-js/internals/is-array.js"),As=cs("./node_modules/core-js/internals/well-known-symbol.js"),bs=As("species");os.exports=function(ys){var Cs;return us(ys)&&(Cs=ys.constructor,typeof Cs=="function"&&(Cs===Array||us(Cs.prototype))?Cs=void 0:hs(Cs)&&(Cs=Cs[bs],Cs===null&&(Cs=void 0))),Cs===void 0?Array:Cs}},"./node_modules/core-js/internals/array-species-create.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/array-species-constructor.js");os.exports=function(us,As){return new(hs(us))(As===0?0:As)}},"./node_modules/core-js/internals/classof-raw.js":function(os){var ls={}.toString;os.exports=function(cs){return ls.call(cs).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/to-string-tag-support.js"),us=cs("./node_modules/core-js/internals/classof-raw.js"),As=cs("./node_modules/core-js/internals/well-known-symbol.js"),bs=As("toStringTag"),ys=us(function(){return arguments}())=="Arguments",Cs=function(ps,ms){try{return ps[ms]}catch{}};os.exports=hs?us:function(ps){var ms,fs,gs;return ps===void 0?"Undefined":ps===null?"Null":typeof(fs=Cs(ms=Object(ps),bs))=="string"?fs:ys?us(ms):(gs=us(ms))=="Object"&&typeof ms.callee=="function"?"Arguments":gs}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/has.js"),us=cs("./node_modules/core-js/internals/own-keys.js"),As=cs("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),bs=cs("./node_modules/core-js/internals/object-define-property.js");os.exports=function(ys,Cs){for(var ps=us(Cs),ms=bs.f,fs=As.f,gs=0;gs<ps.length;gs++){var ws=ps[gs];hs(ys,ws)||ms(ys,ws,fs(Cs,ws))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/fails.js");os.exports=!hs(function(){function us(){}return us.prototype.constructor=null,Object.getPrototypeOf(new us)!==us.prototype})},"./node_modules/core-js/internals/create-html.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/require-object-coercible.js"),us=cs("./node_modules/core-js/internals/to-string.js"),As=/"/g;os.exports=function(bs,ys,Cs,ps){var ms=us(hs(bs)),fs="<"+ys;return Cs!==""&&(fs+=" "+Cs+'="'+us(ps).replace(As,"&quot;")+'"'),fs+">"+ms+"</"+ys+">"}},"./node_modules/core-js/internals/create-iterator-constructor.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,us=cs("./node_modules/core-js/internals/object-create.js"),As=cs("./node_modules/core-js/internals/create-property-descriptor.js"),bs=cs("./node_modules/core-js/internals/set-to-string-tag.js"),ys=cs("./node_modules/core-js/internals/iterators.js"),Cs=function(){return this};os.exports=function(ps,ms,fs){var gs=ms+" Iterator";return ps.prototype=us(hs,{next:As(1,fs)}),bs(ps,gs,!1,!0),ys[gs]=Cs,ps}},"./node_modules/core-js/internals/create-non-enumerable-property.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/descriptors.js"),us=cs("./node_modules/core-js/internals/object-define-property.js"),As=cs("./node_modules/core-js/internals/create-property-descriptor.js");os.exports=hs?function(bs,ys,Cs){return us.f(bs,ys,As(1,Cs))}:function(bs,ys,Cs){return bs[ys]=Cs,bs}},"./node_modules/core-js/internals/create-property-descriptor.js":function(os){os.exports=function(ls,cs){return{enumerable:!(ls&1),configurable:!(ls&2),writable:!(ls&4),value:cs}}},"./node_modules/core-js/internals/create-property.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/to-property-key.js"),us=cs("./node_modules/core-js/internals/object-define-property.js"),As=cs("./node_modules/core-js/internals/create-property-descriptor.js");os.exports=function(bs,ys,Cs){var ps=hs(ys);ps in bs?us.f(bs,ps,As(0,Cs)):bs[ps]=Cs}},"./node_modules/core-js/internals/define-iterator.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/export.js"),us=cs("./node_modules/core-js/internals/create-iterator-constructor.js"),As=cs("./node_modules/core-js/internals/object-get-prototype-of.js"),bs=cs("./node_modules/core-js/internals/object-set-prototype-of.js"),ys=cs("./node_modules/core-js/internals/set-to-string-tag.js"),Cs=cs("./node_modules/core-js/internals/create-non-enumerable-property.js"),ps=cs("./node_modules/core-js/internals/redefine.js"),ms=cs("./node_modules/core-js/internals/well-known-symbol.js"),fs=cs("./node_modules/core-js/internals/is-pure.js"),gs=cs("./node_modules/core-js/internals/iterators.js"),ws=cs("./node_modules/core-js/internals/iterators-core.js"),Ts=ws.IteratorPrototype,$s=ws.BUGGY_SAFARI_ITERATORS,Rs=ms("iterator"),Ps="keys",Qs="values",Fs="entries",Is=function(){return this};os.exports=function(Ms,Ws,Ds,_s,Ns,Ss,Us){us(Ds,Ws,_s);var Zs=function(co){if(co===Ns&&so)return so;if(!$s&&co in Bs)return Bs[co];switch(co){case Ps:return function(){return new Ds(this,co)};case Qs:return function(){return new Ds(this,co)};case Fs:return function(){return new Ds(this,co)}}return function(){return new Ds(this)}},ao=Ws+" Iterator",js=!1,Bs=Ms.prototype,zs=Bs[Rs]||Bs["@@iterator"]||Ns&&Bs[Ns],so=!$s&&zs||Zs(Ns),oo=Ws=="Array"&&Bs.entries||zs,Ao,Xs,lo;if(oo&&(Ao=As(oo.call(new Ms)),Ts!==Object.prototype&&Ao.next&&(!fs&&As(Ao)!==Ts&&(bs?bs(Ao,Ts):typeof Ao[Rs]!="function"&&Cs(Ao,Rs,Is)),ys(Ao,ao,!0,!0),fs&&(gs[ao]=Is))),Ns==Qs&&zs&&zs.name!==Qs&&(js=!0,so=function(){return zs.call(this)}),(!fs||Us)&&Bs[Rs]!==so&&Cs(Bs,Rs,so),gs[Ws]=so,Ns)if(Xs={values:Zs(Qs),keys:Ss?so:Zs(Ps),entries:Zs(Fs)},Us)for(lo in Xs)($s||js||!(lo in Bs))&&ps(Bs,lo,Xs[lo]);else hs({target:Ws,proto:!0,forced:$s||js},Xs);return Xs}},"./node_modules/core-js/internals/define-well-known-symbol.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/path.js"),us=cs("./node_modules/core-js/internals/has.js"),As=cs("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),bs=cs("./node_modules/core-js/internals/object-define-property.js").f;os.exports=function(ys){var Cs=hs.Symbol||(hs.Symbol={});us(Cs,ys)||bs(Cs,ys,{value:As.f(ys)})}},"./node_modules/core-js/internals/descriptors.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/fails.js");os.exports=!hs(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"./node_modules/core-js/internals/document-create-element.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/global.js"),us=cs("./node_modules/core-js/internals/is-object.js"),As=hs.document,bs=us(As)&&us(As.createElement);os.exports=function(ys){return bs?As.createElement(ys):{}}},"./node_modules/core-js/internals/dom-iterables.js":function(os){os.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js/internals/engine-user-agent.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/get-built-in.js");os.exports=hs("navigator","userAgent")||""},"./node_modules/core-js/internals/engine-v8-version.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/global.js"),us=cs("./node_modules/core-js/internals/engine-user-agent.js"),As=hs.process,bs=hs.Deno,ys=As&&As.versions||bs&&bs.version,Cs=ys&&ys.v8,ps,ms;Cs?(ps=Cs.split("."),ms=ps[0]<4?1:ps[0]+ps[1]):us&&(ps=us.match(/Edge\/(\d+)/),(!ps||ps[1]>=74)&&(ps=us.match(/Chrome\/(\d+)/),ps&&(ms=ps[1]))),os.exports=ms&&+ms},"./node_modules/core-js/internals/enum-bug-keys.js":function(os){os.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/global.js"),us=cs("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,As=cs("./node_modules/core-js/internals/create-non-enumerable-property.js"),bs=cs("./node_modules/core-js/internals/redefine.js"),ys=cs("./node_modules/core-js/internals/set-global.js"),Cs=cs("./node_modules/core-js/internals/copy-constructor-properties.js"),ps=cs("./node_modules/core-js/internals/is-forced.js");os.exports=function(ms,fs){var gs=ms.target,ws=ms.global,Ts=ms.stat,$s,Rs,Ps,Qs,Fs,Is;if(ws?Rs=hs:Ts?Rs=hs[gs]||ys(gs,{}):Rs=(hs[gs]||{}).prototype,Rs)for(Ps in fs){if(Fs=fs[Ps],ms.noTargetGet?(Is=us(Rs,Ps),Qs=Is&&Is.value):Qs=Rs[Ps],$s=ps(ws?Ps:gs+(Ts?".":"#")+Ps,ms.forced),!$s&&Qs!==void 0){if(typeof Fs==typeof Qs)continue;Cs(Fs,Qs)}(ms.sham||Qs&&Qs.sham)&&As(Fs,"sham",!0),bs(Rs,Ps,Fs,ms)}}},"./node_modules/core-js/internals/fails.js":function(os){os.exports=function(ls){try{return!!ls()}catch{return!0}}},"./node_modules/core-js/internals/function-bind-context.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/a-function.js");os.exports=function(us,As,bs){if(hs(us),As===void 0)return us;switch(bs){case 0:return function(){return us.call(As)};case 1:return function(ys){return us.call(As,ys)};case 2:return function(ys,Cs){return us.call(As,ys,Cs)};case 3:return function(ys,Cs,ps){return us.call(As,ys,Cs,ps)}}return function(){return us.apply(As,arguments)}}},"./node_modules/core-js/internals/get-built-in.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/global.js"),us=function(As){return typeof As=="function"?As:void 0};os.exports=function(As,bs){return arguments.length<2?us(hs[As]):hs[As]&&hs[As][bs]}},"./node_modules/core-js/internals/global.js":function(os){var ls=function(cs){return cs&&cs.Math==Math&&cs};os.exports=ls(typeof globalThis=="object"&&globalThis)||ls(typeof window=="object"&&window)||ls(typeof self=="object"&&self)||ls(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")()},"./node_modules/core-js/internals/has.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/to-object.js"),us={}.hasOwnProperty;os.exports=Object.hasOwn||function(bs,ys){return us.call(hs(bs),ys)}},"./node_modules/core-js/internals/hidden-keys.js":function(os){os.exports={}},"./node_modules/core-js/internals/html.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/get-built-in.js");os.exports=hs("document","documentElement")},"./node_modules/core-js/internals/ie8-dom-define.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/descriptors.js"),us=cs("./node_modules/core-js/internals/fails.js"),As=cs("./node_modules/core-js/internals/document-create-element.js");os.exports=!hs&&!us(function(){return Object.defineProperty(As("div"),"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/indexed-object.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/fails.js"),us=cs("./node_modules/core-js/internals/classof-raw.js"),As="".split;os.exports=hs(function(){return!Object("z").propertyIsEnumerable(0)})?function(bs){return us(bs)=="String"?As.call(bs,""):Object(bs)}:Object},"./node_modules/core-js/internals/inherit-if-required.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/is-object.js"),us=cs("./node_modules/core-js/internals/object-set-prototype-of.js");os.exports=function(As,bs,ys){var Cs,ps;return us&&typeof(Cs=bs.constructor)=="function"&&Cs!==ys&&hs(ps=Cs.prototype)&&ps!==ys.prototype&&us(As,ps),As}},"./node_modules/core-js/internals/inspect-source.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/shared-store.js"),us=Function.toString;typeof hs.inspectSource!="function"&&(hs.inspectSource=function(As){return us.call(As)}),os.exports=hs.inspectSource},"./node_modules/core-js/internals/internal-state.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/native-weak-map.js"),us=cs("./node_modules/core-js/internals/global.js"),As=cs("./node_modules/core-js/internals/is-object.js"),bs=cs("./node_modules/core-js/internals/create-non-enumerable-property.js"),ys=cs("./node_modules/core-js/internals/has.js"),Cs=cs("./node_modules/core-js/internals/shared-store.js"),ps=cs("./node_modules/core-js/internals/shared-key.js"),ms=cs("./node_modules/core-js/internals/hidden-keys.js"),fs="Object already initialized",gs=us.WeakMap,ws,Ts,$s,Rs=function(Ds){return $s(Ds)?Ts(Ds):ws(Ds,{})},Ps=function(Ds){return function(_s){var Ns;if(!As(_s)||(Ns=Ts(_s)).type!==Ds)throw TypeError("Incompatible receiver, "+Ds+" required");return Ns}};if(hs||Cs.state){var Qs=Cs.state||(Cs.state=new gs),Fs=Qs.get,Is=Qs.has,Ms=Qs.set;ws=function(Ds,_s){if(Is.call(Qs,Ds))throw new TypeError(fs);return _s.facade=Ds,Ms.call(Qs,Ds,_s),_s},Ts=function(Ds){return Fs.call(Qs,Ds)||{}},$s=function(Ds){return Is.call(Qs,Ds)}}else{var Ws=ps("state");ms[Ws]=!0,ws=function(Ds,_s){if(ys(Ds,Ws))throw new TypeError(fs);return _s.facade=Ds,bs(Ds,Ws,_s),_s},Ts=function(Ds){return ys(Ds,Ws)?Ds[Ws]:{}},$s=function(Ds){return ys(Ds,Ws)}}os.exports={set:ws,get:Ts,has:$s,enforce:Rs,getterFor:Ps}},"./node_modules/core-js/internals/is-array.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/classof-raw.js");os.exports=Array.isArray||function(As){return hs(As)=="Array"}},"./node_modules/core-js/internals/is-forced.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/fails.js"),us=/#|\.prototype\./,As=function(ms,fs){var gs=ys[bs(ms)];return gs==ps?!0:gs==Cs?!1:typeof fs=="function"?hs(fs):!!fs},bs=As.normalize=function(ms){return String(ms).replace(us,".").toLowerCase()},ys=As.data={},Cs=As.NATIVE="N",ps=As.POLYFILL="P";os.exports=As},"./node_modules/core-js/internals/is-object.js":function(os){os.exports=function(ls){return typeof ls=="object"?ls!==null:typeof ls=="function"}},"./node_modules/core-js/internals/is-pure.js":function(os){os.exports=!1},"./node_modules/core-js/internals/is-symbol.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/get-built-in.js"),us=cs("./node_modules/core-js/internals/use-symbol-as-uid.js");os.exports=us?function(As){return typeof As=="symbol"}:function(As){var bs=hs("Symbol");return typeof bs=="function"&&Object(As)instanceof bs}},"./node_modules/core-js/internals/iterators-core.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/fails.js"),us=cs("./node_modules/core-js/internals/object-get-prototype-of.js"),As=cs("./node_modules/core-js/internals/create-non-enumerable-property.js"),bs=cs("./node_modules/core-js/internals/has.js"),ys=cs("./node_modules/core-js/internals/well-known-symbol.js"),Cs=cs("./node_modules/core-js/internals/is-pure.js"),ps=ys("iterator"),ms=!1,fs=function(){return this},gs,ws,Ts;[].keys&&(Ts=[].keys(),"next"in Ts?(ws=us(us(Ts)),ws!==Object.prototype&&(gs=ws)):ms=!0);var $s=gs==null||hs(function(){var Rs={};return gs[ps].call(Rs)!==Rs});$s&&(gs={}),(!Cs||$s)&&!bs(gs,ps)&&As(gs,ps,fs),os.exports={IteratorPrototype:gs,BUGGY_SAFARI_ITERATORS:ms}},"./node_modules/core-js/internals/iterators.js":function(os){os.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/engine-v8-version.js"),us=cs("./node_modules/core-js/internals/fails.js");os.exports=!!Object.getOwnPropertySymbols&&!us(function(){var As=Symbol();return!String(As)||!(Object(As)instanceof Symbol)||!Symbol.sham&&hs&&hs<41})},"./node_modules/core-js/internals/native-weak-map.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/global.js"),us=cs("./node_modules/core-js/internals/inspect-source.js"),As=hs.WeakMap;os.exports=typeof As=="function"&&/native code/.test(us(As))},"./node_modules/core-js/internals/object-assign.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/descriptors.js"),us=cs("./node_modules/core-js/internals/fails.js"),As=cs("./node_modules/core-js/internals/object-keys.js"),bs=cs("./node_modules/core-js/internals/object-get-own-property-symbols.js"),ys=cs("./node_modules/core-js/internals/object-property-is-enumerable.js"),Cs=cs("./node_modules/core-js/internals/to-object.js"),ps=cs("./node_modules/core-js/internals/indexed-object.js"),ms=Object.assign,fs=Object.defineProperty;os.exports=!ms||us(function(){if(hs&&ms({b:1},ms(fs({},"a",{enumerable:!0,get:function(){fs(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var gs={},ws={},Ts=Symbol(),$s="abcdefghijklmnopqrst";return gs[Ts]=7,$s.split("").forEach(function(Rs){ws[Rs]=Rs}),ms({},gs)[Ts]!=7||As(ms({},ws)).join("")!=$s})?function(ws,Ts){for(var $s=Cs(ws),Rs=arguments.length,Ps=1,Qs=bs.f,Fs=ys.f;Rs>Ps;)for(var Is=ps(arguments[Ps++]),Ms=Qs?As(Is).concat(Qs(Is)):As(Is),Ws=Ms.length,Ds=0,_s;Ws>Ds;)_s=Ms[Ds++],(!hs||Fs.call(Is,_s))&&($s[_s]=Is[_s]);return $s}:ms},"./node_modules/core-js/internals/object-create.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/an-object.js"),us=cs("./node_modules/core-js/internals/object-define-properties.js"),As=cs("./node_modules/core-js/internals/enum-bug-keys.js"),bs=cs("./node_modules/core-js/internals/hidden-keys.js"),ys=cs("./node_modules/core-js/internals/html.js"),Cs=cs("./node_modules/core-js/internals/document-create-element.js"),ps=cs("./node_modules/core-js/internals/shared-key.js"),ms=">",fs="<",gs="prototype",ws="script",Ts=ps("IE_PROTO"),$s=function(){},Rs=function(Ms){return fs+ws+ms+Ms+fs+"/"+ws+ms},Ps=function(Ms){Ms.write(Rs("")),Ms.close();var Ws=Ms.parentWindow.Object;return Ms=null,Ws},Qs=function(){var Ms=Cs("iframe"),Ws="java"+ws+":",Ds;if(Ms.style)return Ms.style.display="none",ys.appendChild(Ms),Ms.src=String(Ws),Ds=Ms.contentWindow.document,Ds.open(),Ds.write(Rs("document.F=Object")),Ds.close(),Ds.F},Fs,Is=function(){try{Fs=new ActiveXObject("htmlfile")}catch{}Is=document.domain&&Fs?Ps(Fs):Qs()||Ps(Fs);for(var Ms=As.length;Ms--;)delete Is[gs][As[Ms]];return Is()};bs[Ts]=!0,os.exports=Object.create||function(Ws,Ds){var _s;return Ws!==null?($s[gs]=hs(Ws),_s=new $s,$s[gs]=null,_s[Ts]=Ws):_s=Is(),Ds===void 0?_s:us(_s,Ds)}},"./node_modules/core-js/internals/object-define-properties.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/descriptors.js"),us=cs("./node_modules/core-js/internals/object-define-property.js"),As=cs("./node_modules/core-js/internals/an-object.js"),bs=cs("./node_modules/core-js/internals/object-keys.js");os.exports=hs?Object.defineProperties:function(Cs,ps){As(Cs);for(var ms=bs(ps),fs=ms.length,gs=0,ws;fs>gs;)us.f(Cs,ws=ms[gs++],ps[ws]);return Cs}},"./node_modules/core-js/internals/object-define-property.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/descriptors.js"),us=cs("./node_modules/core-js/internals/ie8-dom-define.js"),As=cs("./node_modules/core-js/internals/an-object.js"),bs=cs("./node_modules/core-js/internals/to-property-key.js"),ys=Object.defineProperty;ls.f=hs?ys:function(ps,ms,fs){if(As(ps),ms=bs(ms),As(fs),us)try{return ys(ps,ms,fs)}catch{}if("get"in fs||"set"in fs)throw TypeError("Accessors not supported");return"value"in fs&&(ps[ms]=fs.value),ps}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/descriptors.js"),us=cs("./node_modules/core-js/internals/object-property-is-enumerable.js"),As=cs("./node_modules/core-js/internals/create-property-descriptor.js"),bs=cs("./node_modules/core-js/internals/to-indexed-object.js"),ys=cs("./node_modules/core-js/internals/to-property-key.js"),Cs=cs("./node_modules/core-js/internals/has.js"),ps=cs("./node_modules/core-js/internals/ie8-dom-define.js"),ms=Object.getOwnPropertyDescriptor;ls.f=hs?ms:function(gs,ws){if(gs=bs(gs),ws=ys(ws),ps)try{return ms(gs,ws)}catch{}if(Cs(gs,ws))return As(!us.f.call(gs,ws),gs[ws])}},"./node_modules/core-js/internals/object-get-own-property-names-external.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/to-indexed-object.js"),us=cs("./node_modules/core-js/internals/object-get-own-property-names.js").f,As={}.toString,bs=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ys=function(Cs){try{return us(Cs)}catch{return bs.slice()}};os.exports.f=function(ps){return bs&&As.call(ps)=="[object Window]"?ys(ps):us(hs(ps))}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/object-keys-internal.js"),us=cs("./node_modules/core-js/internals/enum-bug-keys.js"),As=us.concat("length","prototype");ls.f=Object.getOwnPropertyNames||function(ys){return hs(ys,As)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(os,ls){ls.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/has.js"),us=cs("./node_modules/core-js/internals/to-object.js"),As=cs("./node_modules/core-js/internals/shared-key.js"),bs=cs("./node_modules/core-js/internals/correct-prototype-getter.js"),ys=As("IE_PROTO"),Cs=Object.prototype;os.exports=bs?Object.getPrototypeOf:function(ps){return ps=us(ps),hs(ps,ys)?ps[ys]:typeof ps.constructor=="function"&&ps instanceof ps.constructor?ps.constructor.prototype:ps instanceof Object?Cs:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/has.js"),us=cs("./node_modules/core-js/internals/to-indexed-object.js"),As=cs("./node_modules/core-js/internals/array-includes.js").indexOf,bs=cs("./node_modules/core-js/internals/hidden-keys.js");os.exports=function(ys,Cs){var ps=us(ys),ms=0,fs=[],gs;for(gs in ps)!hs(bs,gs)&&hs(ps,gs)&&fs.push(gs);for(;Cs.length>ms;)hs(ps,gs=Cs[ms++])&&(~As(fs,gs)||fs.push(gs));return fs}},"./node_modules/core-js/internals/object-keys.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/object-keys-internal.js"),us=cs("./node_modules/core-js/internals/enum-bug-keys.js");os.exports=Object.keys||function(bs){return hs(bs,us)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(os,ls){var cs={}.propertyIsEnumerable,hs=Object.getOwnPropertyDescriptor,us=hs&&!cs.call({1:2},1);ls.f=us?function(bs){var ys=hs(this,bs);return!!ys&&ys.enumerable}:cs},"./node_modules/core-js/internals/object-set-prototype-of.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/an-object.js"),us=cs("./node_modules/core-js/internals/a-possible-prototype.js");os.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var As=!1,bs={},ys;try{ys=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,ys.call(bs,[]),As=bs instanceof Array}catch{}return function(ps,ms){return hs(ps),us(ms),As?ys.call(ps,ms):ps.__proto__=ms,ps}}():void 0)},"./node_modules/core-js/internals/object-to-string.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/to-string-tag-support.js"),us=cs("./node_modules/core-js/internals/classof.js");os.exports=hs?{}.toString:function(){return"[object "+us(this)+"]"}},"./node_modules/core-js/internals/ordinary-to-primitive.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/is-object.js");os.exports=function(us,As){var bs,ys;if(As==="string"&&typeof(bs=us.toString)=="function"&&!hs(ys=bs.call(us))||typeof(bs=us.valueOf)=="function"&&!hs(ys=bs.call(us))||As!=="string"&&typeof(bs=us.toString)=="function"&&!hs(ys=bs.call(us)))return ys;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/own-keys.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/get-built-in.js"),us=cs("./node_modules/core-js/internals/object-get-own-property-names.js"),As=cs("./node_modules/core-js/internals/object-get-own-property-symbols.js"),bs=cs("./node_modules/core-js/internals/an-object.js");os.exports=hs("Reflect","ownKeys")||function(Cs){var ps=us.f(bs(Cs)),ms=As.f;return ms?ps.concat(ms(Cs)):ps}},"./node_modules/core-js/internals/path.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/global.js");os.exports=hs},"./node_modules/core-js/internals/redefine.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/global.js"),us=cs("./node_modules/core-js/internals/create-non-enumerable-property.js"),As=cs("./node_modules/core-js/internals/has.js"),bs=cs("./node_modules/core-js/internals/set-global.js"),ys=cs("./node_modules/core-js/internals/inspect-source.js"),Cs=cs("./node_modules/core-js/internals/internal-state.js"),ps=Cs.get,ms=Cs.enforce,fs=String(String).split("String");(os.exports=function(gs,ws,Ts,$s){var Rs=$s?!!$s.unsafe:!1,Ps=$s?!!$s.enumerable:!1,Qs=$s?!!$s.noTargetGet:!1,Fs;if(typeof Ts=="function"&&(typeof ws=="string"&&!As(Ts,"name")&&us(Ts,"name",ws),Fs=ms(Ts),Fs.source||(Fs.source=fs.join(typeof ws=="string"?ws:""))),gs===hs){Ps?gs[ws]=Ts:bs(ws,Ts);return}else Rs?!Qs&&gs[ws]&&(Ps=!0):delete gs[ws];Ps?gs[ws]=Ts:us(gs,ws,Ts)})(Function.prototype,"toString",function(){return typeof this=="function"&&ps(this).source||ys(this)})},"./node_modules/core-js/internals/regexp-flags.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/an-object.js");os.exports=function(){var us=hs(this),As="";return us.global&&(As+="g"),us.ignoreCase&&(As+="i"),us.multiline&&(As+="m"),us.dotAll&&(As+="s"),us.unicode&&(As+="u"),us.sticky&&(As+="y"),As}},"./node_modules/core-js/internals/require-object-coercible.js":function(os){os.exports=function(ls){if(ls==null)throw TypeError("Can't call method on "+ls);return ls}},"./node_modules/core-js/internals/set-global.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/global.js");os.exports=function(us,As){try{Object.defineProperty(hs,us,{value:As,configurable:!0,writable:!0})}catch{hs[us]=As}return As}},"./node_modules/core-js/internals/set-to-string-tag.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/object-define-property.js").f,us=cs("./node_modules/core-js/internals/has.js"),As=cs("./node_modules/core-js/internals/well-known-symbol.js"),bs=As("toStringTag");os.exports=function(ys,Cs,ps){ys&&!us(ys=ps?ys:ys.prototype,bs)&&hs(ys,bs,{configurable:!0,value:Cs})}},"./node_modules/core-js/internals/shared-key.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/shared.js"),us=cs("./node_modules/core-js/internals/uid.js"),As=hs("keys");os.exports=function(bs){return As[bs]||(As[bs]=us(bs))}},"./node_modules/core-js/internals/shared-store.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/global.js"),us=cs("./node_modules/core-js/internals/set-global.js"),As="__core-js_shared__",bs=hs[As]||us(As,{});os.exports=bs},"./node_modules/core-js/internals/shared.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/is-pure.js"),us=cs("./node_modules/core-js/internals/shared-store.js");(os.exports=function(As,bs){return us[As]||(us[As]=bs!==void 0?bs:{})})("versions",[]).push({version:"3.16.0",mode:hs?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-html-forced.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/fails.js");os.exports=function(us){return hs(function(){var As=""[us]('"');return As!==As.toLowerCase()||As.split('"').length>3})}},"./node_modules/core-js/internals/string-multibyte.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/to-integer.js"),us=cs("./node_modules/core-js/internals/to-string.js"),As=cs("./node_modules/core-js/internals/require-object-coercible.js"),bs=function(ys){return function(Cs,ps){var ms=us(As(Cs)),fs=hs(ps),gs=ms.length,ws,Ts;return fs<0||fs>=gs?ys?"":void 0:(ws=ms.charCodeAt(fs),ws<55296||ws>56319||fs+1===gs||(Ts=ms.charCodeAt(fs+1))<56320||Ts>57343?ys?ms.charAt(fs):ws:ys?ms.slice(fs,fs+2):(ws-55296<<10)+(Ts-56320)+65536)}};os.exports={codeAt:bs(!1),charAt:bs(!0)}},"./node_modules/core-js/internals/string-trim.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/require-object-coercible.js"),us=cs("./node_modules/core-js/internals/to-string.js"),As=cs("./node_modules/core-js/internals/whitespaces.js"),bs="["+As+"]",ys=RegExp("^"+bs+bs+"*"),Cs=RegExp(bs+bs+"*$"),ps=function(ms){return function(fs){var gs=us(hs(fs));return ms&1&&(gs=gs.replace(ys,"")),ms&2&&(gs=gs.replace(Cs,"")),gs}};os.exports={start:ps(1),end:ps(2),trim:ps(3)}},"./node_modules/core-js/internals/to-absolute-index.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/to-integer.js"),us=Math.max,As=Math.min;os.exports=function(bs,ys){var Cs=hs(bs);return Cs<0?us(Cs+ys,0):As(Cs,ys)}},"./node_modules/core-js/internals/to-indexed-object.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/indexed-object.js"),us=cs("./node_modules/core-js/internals/require-object-coercible.js");os.exports=function(As){return hs(us(As))}},"./node_modules/core-js/internals/to-integer.js":function(os){var ls=Math.ceil,cs=Math.floor;os.exports=function(hs){return isNaN(hs=+hs)?0:(hs>0?cs:ls)(hs)}},"./node_modules/core-js/internals/to-length.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/to-integer.js"),us=Math.min;os.exports=function(As){return As>0?us(hs(As),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/require-object-coercible.js");os.exports=function(us){return Object(hs(us))}},"./node_modules/core-js/internals/to-primitive.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/is-object.js"),us=cs("./node_modules/core-js/internals/is-symbol.js"),As=cs("./node_modules/core-js/internals/ordinary-to-primitive.js"),bs=cs("./node_modules/core-js/internals/well-known-symbol.js"),ys=bs("toPrimitive");os.exports=function(Cs,ps){if(!hs(Cs)||us(Cs))return Cs;var ms=Cs[ys],fs;if(ms!==void 0){if(ps===void 0&&(ps="default"),fs=ms.call(Cs,ps),!hs(fs)||us(fs))return fs;throw TypeError("Can't convert object to primitive value")}return ps===void 0&&(ps="number"),As(Cs,ps)}},"./node_modules/core-js/internals/to-property-key.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/to-primitive.js"),us=cs("./node_modules/core-js/internals/is-symbol.js");os.exports=function(As){var bs=hs(As,"string");return us(bs)?bs:String(bs)}},"./node_modules/core-js/internals/to-string-tag-support.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/well-known-symbol.js"),us=hs("toStringTag"),As={};As[us]="z",os.exports=String(As)==="[object z]"},"./node_modules/core-js/internals/to-string.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/is-symbol.js");os.exports=function(us){if(hs(us))throw TypeError("Cannot convert a Symbol value to a string");return String(us)}},"./node_modules/core-js/internals/uid.js":function(os){var ls=0,cs=Math.random();os.exports=function(hs){return"Symbol("+String(hs===void 0?"":hs)+")_"+(++ls+cs).toString(36)}},"./node_modules/core-js/internals/use-symbol-as-uid.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/native-symbol.js");os.exports=hs&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},"./node_modules/core-js/internals/well-known-symbol-wrapped.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/well-known-symbol.js");ls.f=hs},"./node_modules/core-js/internals/well-known-symbol.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/global.js"),us=cs("./node_modules/core-js/internals/shared.js"),As=cs("./node_modules/core-js/internals/has.js"),bs=cs("./node_modules/core-js/internals/uid.js"),ys=cs("./node_modules/core-js/internals/native-symbol.js"),Cs=cs("./node_modules/core-js/internals/use-symbol-as-uid.js"),ps=us("wks"),ms=hs.Symbol,fs=Cs?ms:ms&&ms.withoutSetter||bs;os.exports=function(gs){return(!As(ps,gs)||!(ys||typeof ps[gs]=="string"))&&(ys&&As(ms,gs)?ps[gs]=ms[gs]:ps[gs]=fs("Symbol."+gs)),ps[gs]}},"./node_modules/core-js/internals/whitespaces.js":function(os){os.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},"./node_modules/core-js/modules/es.array.concat.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/export.js"),us=cs("./node_modules/core-js/internals/fails.js"),As=cs("./node_modules/core-js/internals/is-array.js"),bs=cs("./node_modules/core-js/internals/is-object.js"),ys=cs("./node_modules/core-js/internals/to-object.js"),Cs=cs("./node_modules/core-js/internals/to-length.js"),ps=cs("./node_modules/core-js/internals/create-property.js"),ms=cs("./node_modules/core-js/internals/array-species-create.js"),fs=cs("./node_modules/core-js/internals/array-method-has-species-support.js"),gs=cs("./node_modules/core-js/internals/well-known-symbol.js"),ws=cs("./node_modules/core-js/internals/engine-v8-version.js"),Ts=gs("isConcatSpreadable"),$s=9007199254740991,Rs="Maximum allowed index exceeded",Ps=ws>=51||!us(function(){var Ms=[];return Ms[Ts]=!1,Ms.concat()[0]!==Ms}),Qs=fs("concat"),Fs=function(Ms){if(!bs(Ms))return!1;var Ws=Ms[Ts];return Ws!==void 0?!!Ws:As(Ms)},Is=!Ps||!Qs;hs({target:"Array",proto:!0,forced:Is},{concat:function(Ws){var Ds=ys(this),_s=ms(Ds,0),Ns=0,Ss,Us,Zs,ao,js;for(Ss=-1,Zs=arguments.length;Ss<Zs;Ss++)if(js=Ss===-1?Ds:arguments[Ss],Fs(js)){if(ao=Cs(js.length),Ns+ao>$s)throw TypeError(Rs);for(Us=0;Us<ao;Us++,Ns++)Us in js&&ps(_s,Ns,js[Us])}else{if(Ns>=$s)throw TypeError(Rs);ps(_s,Ns++,js)}return _s.length=Ns,_s}})},"./node_modules/core-js/modules/es.array.iterator.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/to-indexed-object.js"),us=cs("./node_modules/core-js/internals/add-to-unscopables.js"),As=cs("./node_modules/core-js/internals/iterators.js"),bs=cs("./node_modules/core-js/internals/internal-state.js"),ys=cs("./node_modules/core-js/internals/define-iterator.js"),Cs="Array Iterator",ps=bs.set,ms=bs.getterFor(Cs);os.exports=ys(Array,"Array",function(fs,gs){ps(this,{type:Cs,target:hs(fs),index:0,kind:gs})},function(){var fs=ms(this),gs=fs.target,ws=fs.kind,Ts=fs.index++;return!gs||Ts>=gs.length?(fs.target=void 0,{value:void 0,done:!0}):ws=="keys"?{value:Ts,done:!1}:ws=="values"?{value:gs[Ts],done:!1}:{value:[Ts,gs[Ts]],done:!1}},"values"),As.Arguments=As.Array,us("keys"),us("values"),us("entries")},"./node_modules/core-js/modules/es.array.join.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/export.js"),us=cs("./node_modules/core-js/internals/indexed-object.js"),As=cs("./node_modules/core-js/internals/to-indexed-object.js"),bs=cs("./node_modules/core-js/internals/array-method-is-strict.js"),ys=[].join,Cs=us!=Object,ps=bs("join",",");hs({target:"Array",proto:!0,forced:Cs||!ps},{join:function(fs){return ys.call(As(this),fs===void 0?",":fs)}})},"./node_modules/core-js/modules/es.array.map.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/export.js"),us=cs("./node_modules/core-js/internals/array-iteration.js").map,As=cs("./node_modules/core-js/internals/array-method-has-species-support.js"),bs=As("map");hs({target:"Array",proto:!0,forced:!bs},{map:function(Cs){return us(this,Cs,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.array.slice.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/export.js"),us=cs("./node_modules/core-js/internals/is-object.js"),As=cs("./node_modules/core-js/internals/is-array.js"),bs=cs("./node_modules/core-js/internals/to-absolute-index.js"),ys=cs("./node_modules/core-js/internals/to-length.js"),Cs=cs("./node_modules/core-js/internals/to-indexed-object.js"),ps=cs("./node_modules/core-js/internals/create-property.js"),ms=cs("./node_modules/core-js/internals/well-known-symbol.js"),fs=cs("./node_modules/core-js/internals/array-method-has-species-support.js"),gs=fs("slice"),ws=ms("species"),Ts=[].slice,$s=Math.max;hs({target:"Array",proto:!0,forced:!gs},{slice:function(Ps,Qs){var Fs=Cs(this),Is=ys(Fs.length),Ms=bs(Ps,Is),Ws=bs(Qs===void 0?Is:Qs,Is),Ds,_s,Ns;if(As(Fs)&&(Ds=Fs.constructor,typeof Ds=="function"&&(Ds===Array||As(Ds.prototype))?Ds=void 0:us(Ds)&&(Ds=Ds[ws],Ds===null&&(Ds=void 0)),Ds===Array||Ds===void 0))return Ts.call(Fs,Ms,Ws);for(_s=new(Ds===void 0?Array:Ds)($s(Ws-Ms,0)),Ns=0;Ms<Ws;Ms++,Ns++)Ms in Fs&&ps(_s,Ns,Fs[Ms]);return _s.length=Ns,_s}})},"./node_modules/core-js/modules/es.function.name.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/descriptors.js"),us=cs("./node_modules/core-js/internals/object-define-property.js").f,As=Function.prototype,bs=As.toString,ys=/^\s*function ([^ (]*)/,Cs="name";hs&&!(Cs in As)&&us(As,Cs,{configurable:!0,get:function(){try{return bs.call(this).match(ys)[1]}catch{return""}}})},"./node_modules/core-js/modules/es.number.constructor.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/descriptors.js"),us=cs("./node_modules/core-js/internals/global.js"),As=cs("./node_modules/core-js/internals/is-forced.js"),bs=cs("./node_modules/core-js/internals/redefine.js"),ys=cs("./node_modules/core-js/internals/has.js"),Cs=cs("./node_modules/core-js/internals/classof-raw.js"),ps=cs("./node_modules/core-js/internals/inherit-if-required.js"),ms=cs("./node_modules/core-js/internals/is-symbol.js"),fs=cs("./node_modules/core-js/internals/to-primitive.js"),gs=cs("./node_modules/core-js/internals/fails.js"),ws=cs("./node_modules/core-js/internals/object-create.js"),Ts=cs("./node_modules/core-js/internals/object-get-own-property-names.js").f,$s=cs("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,Rs=cs("./node_modules/core-js/internals/object-define-property.js").f,Ps=cs("./node_modules/core-js/internals/string-trim.js").trim,Qs="Number",Fs=us[Qs],Is=Fs.prototype,Ms=Cs(ws(Is))==Qs,Ws=function(Us){if(ms(Us))throw TypeError("Cannot convert a Symbol value to a number");var Zs=fs(Us,"number"),ao,js,Bs,zs,so,oo,Ao,Xs;if(typeof Zs=="string"&&Zs.length>2){if(Zs=Ps(Zs),ao=Zs.charCodeAt(0),ao===43||ao===45){if(js=Zs.charCodeAt(2),js===88||js===120)return NaN}else if(ao===48){switch(Zs.charCodeAt(1)){case 66:case 98:Bs=2,zs=49;break;case 79:case 111:Bs=8,zs=55;break;default:return+Zs}for(so=Zs.slice(2),oo=so.length,Ao=0;Ao<oo;Ao++)if(Xs=so.charCodeAt(Ao),Xs<48||Xs>zs)return NaN;return parseInt(so,Bs)}}return+Zs};if(As(Qs,!Fs(" 0o1")||!Fs("0b1")||Fs("+0x1"))){for(var Ds=function(Zs){var ao=arguments.length<1?0:Zs,js=this;return js instanceof Ds&&(Ms?gs(function(){Is.valueOf.call(js)}):Cs(js)!=Qs)?ps(new Fs(Ws(ao)),js,Ds):Ws(ao)},_s=hs?Ts(Fs):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),Ns=0,Ss;_s.length>Ns;Ns++)ys(Fs,Ss=_s[Ns])&&!ys(Ds,Ss)&&Rs(Ds,Ss,$s(Fs,Ss));Ds.prototype=Is,Is.constructor=Ds,bs(us,Qs,Ds)}},"./node_modules/core-js/modules/es.object.assign.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/export.js"),us=cs("./node_modules/core-js/internals/object-assign.js");hs({target:"Object",stat:!0,forced:Object.assign!==us},{assign:us})},"./node_modules/core-js/modules/es.object.keys.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/export.js"),us=cs("./node_modules/core-js/internals/to-object.js"),As=cs("./node_modules/core-js/internals/object-keys.js"),bs=cs("./node_modules/core-js/internals/fails.js"),ys=bs(function(){As(1)});hs({target:"Object",stat:!0,forced:ys},{keys:function(ps){return As(us(ps))}})},"./node_modules/core-js/modules/es.object.to-string.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/to-string-tag-support.js"),us=cs("./node_modules/core-js/internals/redefine.js"),As=cs("./node_modules/core-js/internals/object-to-string.js");hs||us(Object.prototype,"toString",As,{unsafe:!0})},"./node_modules/core-js/modules/es.regexp.to-string.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/redefine.js"),us=cs("./node_modules/core-js/internals/an-object.js"),As=cs("./node_modules/core-js/internals/to-string.js"),bs=cs("./node_modules/core-js/internals/fails.js"),ys=cs("./node_modules/core-js/internals/regexp-flags.js"),Cs="toString",ps=RegExp.prototype,ms=ps[Cs],fs=bs(function(){return ms.call({source:"a",flags:"b"})!="/a/b"}),gs=ms.name!=Cs;(fs||gs)&&hs(RegExp.prototype,Cs,function(){var Ts=us(this),$s=As(Ts.source),Rs=Ts.flags,Ps=As(Rs===void 0&&Ts instanceof RegExp&&!("flags"in ps)?ys.call(Ts):Rs);return"/"+$s+"/"+Ps},{unsafe:!0})},"./node_modules/core-js/modules/es.string.iterator.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/string-multibyte.js").charAt,us=cs("./node_modules/core-js/internals/to-string.js"),As=cs("./node_modules/core-js/internals/internal-state.js"),bs=cs("./node_modules/core-js/internals/define-iterator.js"),ys="String Iterator",Cs=As.set,ps=As.getterFor(ys);bs(String,"String",function(ms){Cs(this,{type:ys,string:us(ms),index:0})},function(){var fs=ps(this),gs=fs.string,ws=fs.index,Ts;return ws>=gs.length?{value:void 0,done:!0}:(Ts=hs(gs,ws),fs.index+=Ts.length,{value:Ts,done:!1})})},"./node_modules/core-js/modules/es.string.link.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/export.js"),us=cs("./node_modules/core-js/internals/create-html.js"),As=cs("./node_modules/core-js/internals/string-html-forced.js");hs({target:"String",proto:!0,forced:As("link")},{link:function(ys){return us(this,"a","href",ys)}})},"./node_modules/core-js/modules/es.symbol.description.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/export.js"),us=cs("./node_modules/core-js/internals/descriptors.js"),As=cs("./node_modules/core-js/internals/global.js"),bs=cs("./node_modules/core-js/internals/has.js"),ys=cs("./node_modules/core-js/internals/is-object.js"),Cs=cs("./node_modules/core-js/internals/object-define-property.js").f,ps=cs("./node_modules/core-js/internals/copy-constructor-properties.js"),ms=As.Symbol;if(us&&typeof ms=="function"&&(!("description"in ms.prototype)||ms().description!==void 0)){var fs={},gs=function(){var Qs=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),Fs=this instanceof gs?new ms(Qs):Qs===void 0?ms():ms(Qs);return Qs===""&&(fs[Fs]=!0),Fs};ps(gs,ms);var ws=gs.prototype=ms.prototype;ws.constructor=gs;var Ts=ws.toString,$s=String(ms("test"))=="Symbol(test)",Rs=/^Symbol\((.*)\)[^)]+$/;Cs(ws,"description",{configurable:!0,get:function(){var Qs=ys(this)?this.valueOf():this,Fs=Ts.call(Qs);if(bs(fs,Qs))return"";var Is=$s?Fs.slice(7,-1):Fs.replace(Rs,"$1");return Is===""?void 0:Is}}),hs({global:!0,forced:!0},{Symbol:gs})}},"./node_modules/core-js/modules/es.symbol.iterator.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/define-well-known-symbol.js");hs("iterator")},"./node_modules/core-js/modules/es.symbol.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/export.js"),us=cs("./node_modules/core-js/internals/global.js"),As=cs("./node_modules/core-js/internals/get-built-in.js"),bs=cs("./node_modules/core-js/internals/is-pure.js"),ys=cs("./node_modules/core-js/internals/descriptors.js"),Cs=cs("./node_modules/core-js/internals/native-symbol.js"),ps=cs("./node_modules/core-js/internals/fails.js"),ms=cs("./node_modules/core-js/internals/has.js"),fs=cs("./node_modules/core-js/internals/is-array.js"),gs=cs("./node_modules/core-js/internals/is-object.js"),ws=cs("./node_modules/core-js/internals/is-symbol.js"),Ts=cs("./node_modules/core-js/internals/an-object.js"),$s=cs("./node_modules/core-js/internals/to-object.js"),Rs=cs("./node_modules/core-js/internals/to-indexed-object.js"),Ps=cs("./node_modules/core-js/internals/to-property-key.js"),Qs=cs("./node_modules/core-js/internals/to-string.js"),Fs=cs("./node_modules/core-js/internals/create-property-descriptor.js"),Is=cs("./node_modules/core-js/internals/object-create.js"),Ms=cs("./node_modules/core-js/internals/object-keys.js"),Ws=cs("./node_modules/core-js/internals/object-get-own-property-names.js"),Ds=cs("./node_modules/core-js/internals/object-get-own-property-names-external.js"),_s=cs("./node_modules/core-js/internals/object-get-own-property-symbols.js"),Ns=cs("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),Ss=cs("./node_modules/core-js/internals/object-define-property.js"),Us=cs("./node_modules/core-js/internals/object-property-is-enumerable.js"),Zs=cs("./node_modules/core-js/internals/create-non-enumerable-property.js"),ao=cs("./node_modules/core-js/internals/redefine.js"),js=cs("./node_modules/core-js/internals/shared.js"),Bs=cs("./node_modules/core-js/internals/shared-key.js"),zs=cs("./node_modules/core-js/internals/hidden-keys.js"),so=cs("./node_modules/core-js/internals/uid.js"),oo=cs("./node_modules/core-js/internals/well-known-symbol.js"),Ao=cs("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),Xs=cs("./node_modules/core-js/internals/define-well-known-symbol.js"),lo=cs("./node_modules/core-js/internals/set-to-string-tag.js"),co=cs("./node_modules/core-js/internals/internal-state.js"),So=cs("./node_modules/core-js/internals/array-iteration.js").forEach,ro=Bs("hidden"),vo="Symbol",Eo="prototype",mo=oo("toPrimitive"),yo=co.set,Jo=co.getterFor(vo),Yo=Object[Eo],Wo=us.Symbol,ko=As("JSON","stringify"),Qo=Ns.f,jo=Ss.f,Bo=Ds.f,go=Us.f,_o=js("symbols"),To=js("op-symbols"),uo=js("string-to-symbol-registry"),Co=js("symbol-to-string-registry"),Oo=js("wks"),Fo=us.QObject,Po=!Fo||!Fo[Eo]||!Fo[Eo].findChild,Zo=ys&&ps(function(){return Is(jo({},"a",{get:function(){return jo(this,"a",{value:7}).a}})).a!=7})?function(Ja,Ua,Na){var nl=Qo(Yo,Ua);nl&&delete Yo[Ua],jo(Ja,Ua,Na),nl&&Ja!==Yo&&jo(Yo,Ua,nl)}:jo,na=function(Ja,Ua){var Na=_o[Ja]=Is(Wo[Eo]);return yo(Na,{type:vo,tag:Ja,description:Ua}),ys||(Na.description=Ua),Na},ma=function(Ua,Na,nl){Ua===Yo&&ma(To,Na,nl),Ts(Ua);var Wl=Ps(Na);return Ts(nl),ms(_o,Wl)?(nl.enumerable?(ms(Ua,ro)&&Ua[ro][Wl]&&(Ua[ro][Wl]=!1),nl=Is(nl,{enumerable:Fs(0,!1)})):(ms(Ua,ro)||jo(Ua,ro,Fs(1,{})),Ua[ro][Wl]=!0),Zo(Ua,Wl,nl)):jo(Ua,Wl,nl)},ua=function(Ua,Na){Ts(Ua);var nl=Rs(Na),Wl=Ms(nl).concat(il(nl));return So(Wl,function(El){(!ys||Ba.call(nl,El))&&ma(Ua,El,nl[El])}),Ua},ka=function(Ua,Na){return Na===void 0?Is(Ua):ua(Is(Ua),Na)},Ba=function(Ua){var Na=Ps(Ua),nl=go.call(this,Na);return this===Yo&&ms(_o,Na)&&!ms(To,Na)?!1:nl||!ms(this,Na)||!ms(_o,Na)||ms(this,ro)&&this[ro][Na]?nl:!0},Va=function(Ua,Na){var nl=Rs(Ua),Wl=Ps(Na);if(!(nl===Yo&&ms(_o,Wl)&&!ms(To,Wl))){var El=Qo(nl,Wl);return El&&ms(_o,Wl)&&!(ms(nl,ro)&&nl[ro][Wl])&&(El.enumerable=!0),El}},Ea=function(Ua){var Na=Bo(Rs(Ua)),nl=[];return So(Na,function(Wl){!ms(_o,Wl)&&!ms(zs,Wl)&&nl.push(Wl)}),nl},il=function(Ua){var Na=Ua===Yo,nl=Bo(Na?To:Rs(Ua)),Wl=[];return So(nl,function(El){ms(_o,El)&&(!Na||ms(Yo,El))&&Wl.push(_o[El])}),Wl};if(Cs||(Wo=function(){if(this instanceof Wo)throw TypeError("Symbol is not a constructor");var Ua=!arguments.length||arguments[0]===void 0?void 0:Qs(arguments[0]),Na=so(Ua),nl=function(Wl){this===Yo&&nl.call(To,Wl),ms(this,ro)&&ms(this[ro],Na)&&(this[ro][Na]=!1),Zo(this,Na,Fs(1,Wl))};return ys&&Po&&Zo(Yo,Na,{configurable:!0,set:nl}),na(Na,Ua)},ao(Wo[Eo],"toString",function(){return Jo(this).tag}),ao(Wo,"withoutSetter",function(Ja){return na(so(Ja),Ja)}),Us.f=Ba,Ss.f=ma,Ns.f=Va,Ws.f=Ds.f=Ea,_s.f=il,Ao.f=function(Ja){return na(oo(Ja),Ja)},ys&&(jo(Wo[Eo],"description",{configurable:!0,get:function(){return Jo(this).description}}),bs||ao(Yo,"propertyIsEnumerable",Ba,{unsafe:!0}))),hs({global:!0,wrap:!0,forced:!Cs,sham:!Cs},{Symbol:Wo}),So(Ms(Oo),function(Ja){Xs(Ja)}),hs({target:vo,stat:!0,forced:!Cs},{for:function(Ja){var Ua=Qs(Ja);if(ms(uo,Ua))return uo[Ua];var Na=Wo(Ua);return uo[Ua]=Na,Co[Na]=Ua,Na},keyFor:function(Ua){if(!ws(Ua))throw TypeError(Ua+" is not a symbol");if(ms(Co,Ua))return Co[Ua]},useSetter:function(){Po=!0},useSimple:function(){Po=!1}}),hs({target:"Object",stat:!0,forced:!Cs,sham:!ys},{create:ka,defineProperty:ma,defineProperties:ua,getOwnPropertyDescriptor:Va}),hs({target:"Object",stat:!0,forced:!Cs},{getOwnPropertyNames:Ea,getOwnPropertySymbols:il}),hs({target:"Object",stat:!0,forced:ps(function(){_s.f(1)})},{getOwnPropertySymbols:function(Ua){return _s.f($s(Ua))}}),ko){var kl=!Cs||ps(function(){var Ja=Wo();return ko([Ja])!="[null]"||ko({a:Ja})!="{}"||ko(Object(Ja))!="{}"});hs({target:"JSON",stat:!0,forced:kl},{stringify:function(Ua,Na,nl){for(var Wl=[Ua],El=1,$c;arguments.length>El;)Wl.push(arguments[El++]);if($c=Na,!(!gs(Na)&&Ua===void 0||ws(Ua)))return fs(Na)||(Na=function(ou,wl){if(typeof $c=="function"&&(wl=$c.call(this,ou,wl)),!ws(wl))return wl}),Wl[1]=Na,ko.apply(null,Wl)}})}Wo[Eo][mo]||Zs(Wo[Eo],mo,Wo[Eo].valueOf),lo(Wo,vo),zs[ro]=!0},"./node_modules/core-js/modules/web.dom-collections.for-each.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/global.js"),us=cs("./node_modules/core-js/internals/dom-iterables.js"),As=cs("./node_modules/core-js/internals/array-for-each.js"),bs=cs("./node_modules/core-js/internals/create-non-enumerable-property.js");for(var ys in us){var Cs=hs[ys],ps=Cs&&Cs.prototype;if(ps&&ps.forEach!==As)try{bs(ps,"forEach",As)}catch{ps.forEach=As}}},"./node_modules/core-js/modules/web.dom-collections.iterator.js":function(os,ls,cs){var hs=cs("./node_modules/core-js/internals/global.js"),us=cs("./node_modules/core-js/internals/dom-iterables.js"),As=cs("./node_modules/core-js/modules/es.array.iterator.js"),bs=cs("./node_modules/core-js/internals/create-non-enumerable-property.js"),ys=cs("./node_modules/core-js/internals/well-known-symbol.js"),Cs=ys("iterator"),ps=ys("toStringTag"),ms=As.values;for(var fs in us){var gs=hs[fs],ws=gs&&gs.prototype;if(ws){if(ws[Cs]!==ms)try{bs(ws,Cs,ms)}catch{ws[Cs]=ms}if(ws[ps]||bs(ws,ps,fs),us[fs]){for(var Ts in As)if(ws[Ts]!==As[Ts])try{bs(ws,Ts,As[Ts])}catch{ws[Ts]=As[Ts]}}}}},"./node_modules/es6-promise/dist/es6-promise.js":function(os){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(ls,cs){os.exports=cs()})(this,function(){function ls(Fo){var Po=typeof Fo;return Fo!==null&&(Po==="object"||Po==="function")}function cs(Fo){return typeof Fo=="function"}var hs=void 0;Array.isArray?hs=Array.isArray:hs=function(Fo){return Object.prototype.toString.call(Fo)==="[object Array]"};var us=hs,As=0,bs=void 0,ys=void 0,Cs=function(Po,Zo){Ms[As]=Po,Ms[As+1]=Zo,As+=2,As===2&&(ys?ys(Ws):_s())};function ps(Fo){ys=Fo}function ms(Fo){Cs=Fo}var fs=typeof window<"u"?window:void 0,gs=fs||{},ws=gs.MutationObserver||gs.WebKitMutationObserver,Ts=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",$s=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function Rs(){return function(){return process.nextTick(Ws)}}function Ps(){return typeof bs<"u"?function(){bs(Ws)}:Is()}function Qs(){var Fo=0,Po=new ws(Ws),Zo=document.createTextNode("");return Po.observe(Zo,{characterData:!0}),function(){Zo.data=Fo=++Fo%2}}function Fs(){var Fo=new MessageChannel;return Fo.port1.onmessage=Ws,function(){return Fo.port2.postMessage(0)}}function Is(){var Fo=setTimeout;return function(){return Fo(Ws,1)}}var Ms=new Array(1e3);function Ws(){for(var Fo=0;Fo<As;Fo+=2){var Po=Ms[Fo],Zo=Ms[Fo+1];Po(Zo),Ms[Fo]=void 0,Ms[Fo+1]=void 0}As=0}function Ds(){try{var Fo=Function("return this")().require("vertx");return bs=Fo.runOnLoop||Fo.runOnContext,Ps()}catch{return Is()}}var _s=void 0;Ts?_s=Rs():ws?_s=Qs():$s?_s=Fs():fs===void 0?_s=Ds():_s=Is();function Ns(Fo,Po){var Zo=this,na=new this.constructor(Zs);na[Us]===void 0&&ko(na);var ma=Zo._state;if(ma){var ua=arguments[ma-1];Cs(function(){return yo(ma,na,ua,Zo._result)})}else Eo(Zo,na,Fo,Po);return na}function Ss(Fo){var Po=this;if(Fo&&typeof Fo=="object"&&Fo.constructor===Po)return Fo;var Zo=new Po(Zs);return co(Zo,Fo),Zo}var Us=Math.random().toString(36).substring(2);function Zs(){}var ao=void 0,js=1,Bs=2;function zs(){return new TypeError("You cannot resolve a promise with itself")}function so(){return new TypeError("A promises callback cannot return that same promise.")}function oo(Fo,Po,Zo,na){try{Fo.call(Po,Zo,na)}catch(ma){return ma}}function Ao(Fo,Po,Zo){Cs(function(na){var ma=!1,ua=oo(Zo,Po,function(ka){ma||(ma=!0,Po!==ka?co(na,ka):ro(na,ka))},function(ka){ma||(ma=!0,vo(na,ka))},"Settle: "+(na._label||" unknown promise"));!ma&&ua&&(ma=!0,vo(na,ua))},Fo)}function Xs(Fo,Po){Po._state===js?ro(Fo,Po._result):Po._state===Bs?vo(Fo,Po._result):Eo(Po,void 0,function(Zo){return co(Fo,Zo)},function(Zo){return vo(Fo,Zo)})}function lo(Fo,Po,Zo){Po.constructor===Fo.constructor&&Zo===Ns&&Po.constructor.resolve===Ss?Xs(Fo,Po):Zo===void 0?ro(Fo,Po):cs(Zo)?Ao(Fo,Po,Zo):ro(Fo,Po)}function co(Fo,Po){if(Fo===Po)vo(Fo,zs());else if(ls(Po)){var Zo=void 0;try{Zo=Po.then}catch(na){vo(Fo,na);return}lo(Fo,Po,Zo)}else ro(Fo,Po)}function So(Fo){Fo._onerror&&Fo._onerror(Fo._result),mo(Fo)}function ro(Fo,Po){Fo._state===ao&&(Fo._result=Po,Fo._state=js,Fo._subscribers.length!==0&&Cs(mo,Fo))}function vo(Fo,Po){Fo._state===ao&&(Fo._state=Bs,Fo._result=Po,Cs(So,Fo))}function Eo(Fo,Po,Zo,na){var ma=Fo._subscribers,ua=ma.length;Fo._onerror=null,ma[ua]=Po,ma[ua+js]=Zo,ma[ua+Bs]=na,ua===0&&Fo._state&&Cs(mo,Fo)}function mo(Fo){var Po=Fo._subscribers,Zo=Fo._state;if(Po.length!==0){for(var na=void 0,ma=void 0,ua=Fo._result,ka=0;ka<Po.length;ka+=3)na=Po[ka],ma=Po[ka+Zo],na?yo(Zo,na,ma,ua):ma(ua);Fo._subscribers.length=0}}function yo(Fo,Po,Zo,na){var ma=cs(Zo),ua=void 0,ka=void 0,Ba=!0;if(ma){try{ua=Zo(na)}catch(Va){Ba=!1,ka=Va}if(Po===ua){vo(Po,so());return}}else ua=na;Po._state!==ao||(ma&&Ba?co(Po,ua):Ba===!1?vo(Po,ka):Fo===js?ro(Po,ua):Fo===Bs&&vo(Po,ua))}function Jo(Fo,Po){try{Po(function(na){co(Fo,na)},function(na){vo(Fo,na)})}catch(Zo){vo(Fo,Zo)}}var Yo=0;function Wo(){return Yo++}function ko(Fo){Fo[Us]=Yo++,Fo._state=void 0,Fo._result=void 0,Fo._subscribers=[]}function Qo(){return new Error("Array Methods must be provided an Array")}var jo=function(){function Fo(Po,Zo){this._instanceConstructor=Po,this.promise=new Po(Zs),this.promise[Us]||ko(this.promise),us(Zo)?(this.length=Zo.length,this._remaining=Zo.length,this._result=new Array(this.length),this.length===0?ro(this.promise,this._result):(this.length=this.length||0,this._enumerate(Zo),this._remaining===0&&ro(this.promise,this._result))):vo(this.promise,Qo())}return Fo.prototype._enumerate=function(Zo){for(var na=0;this._state===ao&&na<Zo.length;na++)this._eachEntry(Zo[na],na)},Fo.prototype._eachEntry=function(Zo,na){var ma=this._instanceConstructor,ua=ma.resolve;if(ua===Ss){var ka=void 0,Ba=void 0,Va=!1;try{ka=Zo.then}catch(il){Va=!0,Ba=il}if(ka===Ns&&Zo._state!==ao)this._settledAt(Zo._state,na,Zo._result);else if(typeof ka!="function")this._remaining--,this._result[na]=Zo;else if(ma===Co){var Ea=new ma(Zs);Va?vo(Ea,Ba):lo(Ea,Zo,ka),this._willSettleAt(Ea,na)}else this._willSettleAt(new ma(function(il){return il(Zo)}),na)}else this._willSettleAt(ua(Zo),na)},Fo.prototype._settledAt=function(Zo,na,ma){var ua=this.promise;ua._state===ao&&(this._remaining--,Zo===Bs?vo(ua,ma):this._result[na]=ma),this._remaining===0&&ro(ua,this._result)},Fo.prototype._willSettleAt=function(Zo,na){var ma=this;Eo(Zo,void 0,function(ua){return ma._settledAt(js,na,ua)},function(ua){return ma._settledAt(Bs,na,ua)})},Fo}();function Bo(Fo){return new jo(this,Fo).promise}function go(Fo){var Po=this;return us(Fo)?new Po(function(Zo,na){for(var ma=Fo.length,ua=0;ua<ma;ua++)Po.resolve(Fo[ua]).then(Zo,na)}):new Po(function(Zo,na){return na(new TypeError("You must pass an array to race."))})}function _o(Fo){var Po=this,Zo=new Po(Zs);return vo(Zo,Fo),Zo}function To(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function uo(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Co=function(){function Fo(Po){this[Us]=Wo(),this._result=this._state=void 0,this._subscribers=[],Zs!==Po&&(typeof Po!="function"&&To(),this instanceof Fo?Jo(this,Po):uo())}return Fo.prototype.catch=function(Zo){return this.then(null,Zo)},Fo.prototype.finally=function(Zo){var na=this,ma=na.constructor;return cs(Zo)?na.then(function(ua){return ma.resolve(Zo()).then(function(){return ua})},function(ua){return ma.resolve(Zo()).then(function(){throw ua})}):na.then(Zo,Zo)},Fo}();Co.prototype.then=Ns,Co.all=Bo,Co.race=go,Co.resolve=Ss,Co.reject=_o,Co._setScheduler=ps,Co._setAsap=ms,Co._asap=Cs;function Oo(){var Fo=void 0;if(typeof commonjsGlobal<"u")Fo=commonjsGlobal;else if(typeof self<"u")Fo=self;else try{Fo=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Po=Fo.Promise;if(Po){var Zo=null;try{Zo=Object.prototype.toString.call(Po.resolve())}catch{}if(Zo==="[object Promise]"&&!Po.cast)return}Fo.Promise=Co}return Co.polyfill=Oo,Co.Promise=Co,Co})},html2canvas:function(os){os.exports=ts},jspdf:function(os){os.exports=Ri}},is={};function ns(os){var ls=is[os];if(ls!==void 0)return ls.exports;var cs=is[os]={exports:{}};return rs[os].call(cs.exports,cs,cs.exports,ns),cs.exports}(function(){ns.n=function(os){var ls=os&&os.__esModule?function(){return os.default}:function(){return os};return ns.d(ls,{a:ls}),ls}})(),function(){ns.d=function(os,ls){for(var cs in ls)ns.o(ls,cs)&&!ns.o(os,cs)&&Object.defineProperty(os,cs,{enumerable:!0,get:ls[cs]})}}(),function(){ns.o=function(os,ls){return Object.prototype.hasOwnProperty.call(os,ls)}}(),function(){ns.r=function(os){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(os,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(os,"__esModule",{value:!0})}}();var ss={};return function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/ns.r(ss);var os=ns("./src/worker.js");ns("./src/plugin/jspdf-plugin.js"),ns("./src/plugin/pagebreaks.js"),ns("./src/plugin/hyperlinks.js");var ls=function cs(hs,us){var As=new cs.Worker(us);return hs?As.from(hs).save():As};ls.Worker=os.default,ss.default=ls}(),ss=ss.default,ss}()})})(html2pdf);var html2pdfExports=html2pdf.exports;class DocExportController extends Controller{async export(){this.extensionValue==="pdf"&&await this.pdfExport()}wrapText(ki){return ki.replace(/(?![^\n]{1,128}$)([^\n]{1,128})\s/g,`$1
`)}unwrapText(ki){return ki.replace(/\n/g," ")}async pdfExport(){var is;this.buttonTarget.disabled=!0,this.buttonTarget.querySelector("span").innerText="Creating PDF Document",this.buttonTarget.classList.add("shimmer"),(document.documentElement.classList.contains("device-ios")||document.documentElement.classList.contains("browser-safari"))&&((is=document.querySelector("link[href*='https://cloud.typography.com']"))==null||is.remove());const ki=document.getElementById(this.htmlTargetIdValue),Ri=ki.querySelectorAll("img");if(Ri.length){let ns=Array.from(Ri).map(async ss=>{let{blob:os,error:ls}=await this.convertImageSrcToBase64(ss);ls||(ss.src="data:image/png;base64,"+os)});await Promise.all(ns)}const ts=ki.querySelectorAll(".table-wrap");ts&&ts.forEach(ns=>ns.querySelectorAll("td").forEach(ss=>{ss.firstChild&&ss.firstChild.nodeName==="#text"&&(ss.innerText=this.wrapText(ss.innerText))}));let rs={unit:"in",format:"a4",orientation:"landscape"};if(ts.length||ki.clientHeight>800){let ns=Math.max(ki.scrollHeight,ki.offsetHeight,ki.clientHeight),ss=ns>1400?"portrait":"landscape",os=1400/35.35,ls=ns/35.35;rs.orientation=ss,rs.format=ns>1400?[ls,os]:[os,ls],rs.unit="cm"}setTimeout(()=>{html2pdfExports.Worker().from(ki).set({margin:ts.length||ki.clientHeight>800?1.3:.5,filename:this.filenameValue,jsPDF:rs}).save().then(()=>{this.buttonTarget.disabled=!1,this.buttonTarget.querySelector("span").innerText="PDF Document",this.buttonTarget.classList.remove("shimmer"),ts&&ts.forEach(ns=>ns.querySelectorAll("td").forEach(ss=>{ss.firstChild&&ss.firstChild.nodeName==="#text"&&(ss.innerText=this.unwrapText(ss.innerText))}))})},500)}async convertImageSrcToBase64(ki){if(ki.src.includes("data:image"))return{blob:null,error:"Already a base64 image"};try{return await(await post("/image-blob-from-url",{body:{image_blob:{url:ki.src}}})).json}catch(Ri){return console.error(Ri),{blob:null,error:Ri}}}}Ho(DocExportController,"targets",["button"]),Ho(DocExportController,"values",{filename:String,extension:String,htmlTargetId:String});let createNanoEvents=()=>({events:{},emit(es,...ki){let Ri=this.events[es]||[];for(let ts=0,rs=Ri.length;ts<rs;ts++)Ri[ts](...ki)},on(es,ki){var Ri;return(Ri=this.events[es])!=null&&Ri.push(ki)||(this.events[es]=[ki]),()=>{var ts;this.events[es]=(ts=this.events[es])==null?void 0:ts.filter(rs=>ki!==rs)}}});class ReasonError extends Error{constructor(ki,Ri){ki instanceof Error?(super(ki.message),this.cause=ki):super(ki),this.reason=Ri,this.name="ReasonError"}}class SubscriptionRejectedError extends ReasonError{constructor(ki){super("Rejected",ki),this.name="SubscriptionRejectedError"}}class SubscriptionTimeoutError extends ReasonError{constructor(ki){super(ki||"Timed out to receive subscription ack"),this.name="SubscriptionTimeoutError"}}class DisconnectedError extends ReasonError{constructor(ki,Ri){Ri?super(ki,Ri):super("Disconnected",ki),this.name="DisconnectedError"}}class StaleConnectionError extends DisconnectedError{constructor(ki){super(ki,"stale_connection"),this.name="StaleConnectionError"}}function stringifyParams(es){return es?`{${Object.keys(es).sort().filter(Ri=>es[Ri]!==void 0).map(Ri=>{let ts=JSON.stringify(es[Ri]);return`${JSON.stringify(Ri)}:${ts}`}).join(",")}}`:""}const STATE$1=Symbol("state");class Channel{constructor(ki={}){this.emitter=createNanoEvents(),this.params=Object.freeze(ki),this.initialConnect=!0,this[STATE$1]="idle"}get identifier(){return this._identifier?this._identifier:(this._identifier=stringifyParams({channel:this.channelId,...this.params}),this._identifier)}get channelId(){return this.constructor.identifier}get state(){return this[STATE$1]}attached(ki){if(this.receiver){if(this.receiver!==ki)throw Error("Already connected to a different receiver");return!1}return this.receiver=ki,!0}connecting(){this[STATE$1]="connecting"}connected(){if(this.state==="connected"||this.state==="closed")return;this[STATE$1]="connected";let ki=!1;this.initialConnect?(this.initialConnect=!1,this.emit("connect",{reconnect:!1,restored:ki})):this.emit("connect",{reconnect:!0,restored:ki})}restored(){if(this.state==="connected")throw Error("Already connected");this[STATE$1]="connected";let ki=!0,Ri=!0;this.initialConnect=!1,this.emit("connect",{reconnect:Ri,restored:ki})}disconnected(ki){this.state==="disconnected"||this.state==="closed"||(this[STATE$1]="disconnected",this.emit("disconnect",ki))}closed(ki){this.state!=="closed"&&(this[STATE$1]="closed",delete this.receiver,this.initialConnect=!0,this.emit("close",ki))}disconnect(){this.state==="idle"||this.state==="closed"||this.receiver.unsubscribe(this)}async perform(ki,Ri){if(this.state==="idle"||this.state==="closed")throw Error("Channel is not subscribed");return this.receiver.perform(this.identifier,ki,Ri)}async send(ki){return this.perform(void 0,ki)}async whisper(ki){try{await this.perform("$whisper",ki)}catch(Ri){let ts=this.receiver?this.receiver.logger:null;ts&&ts.warn("whisper failed: ",Ri)}}receive(ki,Ri){this.emit("message",ki,Ri)}on(ki,Ri){return this.emitter.on(ki,Ri)}once(ki,Ri){let ts=this.emitter.on(ki,(...rs)=>{ts(),Ri(...rs)});return ts}emit(ki,...Ri){return this.emitter.emit(ki,...Ri)}ensureSubscribed(){return this.state==="connected"?Promise.resolve():this.state==="closed"?Promise.reject(Error("Channel is unsubscribed")):this.pendingSubscribe()}pendingSubscribe(){return this._pendingSubscribe?this._pendingSubscribe:(this._pendingSubscribe=new Promise((ki,Ri)=>{let ts=[()=>delete this._pendingSubscribe];ts.push(this.on("connect",()=>{ts.forEach(rs=>rs()),ki()})),ts.push(this.on("close",rs=>{ts.forEach(is=>is()),Ri(rs||new ReasonError("Channel was disconnected before subscribing","canceled"))}))}),this._pendingSubscribe)}}class Subscription{constructor(ki){this.id=ki,this.intent="unsubscribed",this.state="idle",this.channels=[],this.disposed=!1,this._pendings=[]}add(ki){this.channels.includes(ki)||this.channels.push(ki)}remove(ki){let Ri=this.channels.indexOf(ki);Ri>-1&&this.channels.splice(Ri,1)}notify(ki,...Ri){this.state=ki==="restored"?"connected":ki,Ri.length===1?this.channels.forEach(ts=>ts[ki](Ri[0])):this.channels.forEach(ts=>ts[ki]())}pending(ki){this._checkIntent(ki);let Ri=this._pendings[0];return!Ri||Ri.intent!==ki?Promise.resolve():Ri.promise}ensureResubscribed(){this.disposed||(this.intent=void 0,this.ensureSubscribed())}ensureSubscribed(){if(this.intent==="subscribed")return;if(this.disposed)throw Error("Subscription is disposed");this.intent="subscribed",!this._mergeWithPending("unsubscribed")&&this.subscriber(this)}maybeUnsubscribe(){this.disposed||this.intent==="unsubscribed"||this.channels.length>0||(this.intent="unsubscribed",this._mergeWithPending("subscribed"))||this.unsubscriber(this)}async acquire(ki){this._checkIntent(ki);let Ri,rs={promise:new Promise(ns=>{Ri=ns}),intent:ki,release:()=>{this._pendings.splice(this._pendings.indexOf(rs),1),Ri(rs)},canceled:!1,acquired:!1},is=this._pendingTop;return this._pendings.push(rs),is&&await is.promise,this.gvl&&await this.gvl.acquire(rs,ki),rs.acquired=!0,rs}close(ki){this.disposed=!0,this.intent=void 0,this.notify("closed",ki)}_checkIntent(ki){if(!(ki==="unsubscribed"||ki==="subscribed"))throw Error(`Unknown subscription intent: ${ki}`)}get _pendingTop(){return this._pendings.length?this._pendings[this._pendings.length-1]:void 0}_mergeWithPending(ki){let Ri=this._pendingTop;return!Ri||Ri.acquired||Ri.intent!==ki?!1:(this._pendings.pop(),Ri.canceled=!0,!0)}}class GlobalLock{constructor(){this.queue=[]}async acquire(ki,Ri){Ri==="subscribed"&&(this.queue.push(ki.promise.then(()=>{this.queue.splice(this.queue.indexOf(ki),1)})),this.queue.length>1&&await this.queue[this.queue.length-2])}}class Subscriptions{constructor(ki){ki.concurrentSubscribes===!1&&(this.glv=new GlobalLock),this._subscriptions={},this._localToRemote={}}all(){return Object.values(this._subscriptions)}get(ki){return this._subscriptions[ki]}create(ki,{subscribe:Ri,unsubscribe:ts}){let rs=this._subscriptions[ki]=new Subscription(ki);return rs.remoteId=this._localToRemote[ki],rs.subscriber=Ri,rs.unsubscriber=ts,rs.gvl=this.glv,rs}remove(ki){delete this._subscriptions[ki],delete this._localToRemote[ki]}storeRemoteId(ki,Ri){this._localToRemote[ki]=Ri;let ts=this.get(ki);ts&&(ts.remoteId=Ri)}}class Hub{constructor(ki={}){this.subscriptions=new Subscriptions(ki),this._pendingMessages=[],this._remoteToLocal={}}subscribe(ki,Ri){this._remoteToLocal[Ri]=ki,this.subscriptions.storeRemoteId(ki,Ri),this.flush(Ri)}unsubscribe(ki){let Ri=this.subscriptions.get(ki);if(!Ri)return;let ts=Ri.remoteId;ts&&delete this._remoteToLocal[ts],this.subscriptions.remove(ki)}transmit(ki,Ri,ts){let rs=this._remoteToLocal[ki];if(!rs){this._pendingMessages.push([ki,Ri,ts]);return}let is=this.subscriptions.get(rs);is&&is.channels.forEach(ns=>{ns.receive(Ri,ts)})}close(){this._pendingMessages.length=0}get size(){return this.channels.length}get channels(){return this.subscriptions.all().flatMap(ki=>ki.channels)}flush(ki){let Ri=[];for(let ts of this._pendingMessages)ts[0]===ki?this.transmit(ts[0],ts[1],ts[2]):Ri.push(ts);this._pendingMessages=Ri}}const LEVEL_TO_NAME={debug:0,info:1,warn:2,error:3};class BaseLogger{constructor(ki){this.level=ki||"warn"}log(ki,Ri,ts){LEVEL_TO_NAME[ki]<LEVEL_TO_NAME[this.level]||this.writeLogEntry(ki,Ri,ts)}writeLogEntry(){throw Error("Not implemented")}debug(ki,Ri){this.log("debug",ki,Ri)}info(ki,Ri){this.log("info",ki,Ri)}warn(ki,Ri){this.log("warn",ki,Ri)}error(ki,Ri){this.log("error",ki,Ri)}}class NoopLogger extends BaseLogger{writeLogEntry(){}}class JSONEncoder{encode(ki){return JSON.stringify(ki)}decode(ki){try{return JSON.parse(ki)}catch{}}}let commandID=0;class ActionCableProtocol{constructor(ki={}){let{logger:Ri}=ki;this.logger=Ri||new NoopLogger,this.pendingSubscriptions={},this.pendingUnsubscriptions={},this.subscribeCooldownInterval=ki.subscribeCooldownInterval||250,this.subscribeRetryInterval=ki.subscribeRetryInterval||5e3}attached(ki){this.cable=ki}subscribe(ki,Ri){let ts={channel:ki};Ri&&Object.assign(ts,Ri);let rs=stringifyParams(ts);if(this.pendingUnsubscriptions[rs]){let ns=this.subscribeCooldownInterval*1.5;return this.logger.debug(`unsubscribed recently, cooldown for ${ns}`,rs),new Promise(ss=>{setTimeout(()=>{ss(this.subscribe(ki,Ri))},ns)})}if(this.pendingSubscriptions[rs])return this.logger.warn("subscription is already pending, skipping",rs),Promise.reject(Error("Already subscribing"));let is=this.subscribeRetryInterval;return new Promise((ns,ss)=>{let os=++commandID;this.pendingSubscriptions[rs]={resolve:ns,reject:ss,id:os},this.cable.send(this.buildSubscribeRequest(rs)),this.maybeRetrySubscribe(os,rs,is)})}buildSubscribeRequest(ki){return{command:"subscribe",identifier:ki}}maybeRetrySubscribe(ki,Ri,ts){setTimeout(()=>{let rs=this.pendingSubscriptions[Ri];rs&&rs.id===ki&&(this.logger.warn(`no subscription ack received in ${ts}ms, retrying subscribe`,Ri),this.cable.send(this.buildSubscribeRequest(Ri)),this.maybeExpireSubscribe(ki,Ri,ts))},ts)}maybeExpireSubscribe(ki,Ri,ts){setTimeout(()=>{let rs=this.pendingSubscriptions[Ri];rs&&rs.id===ki&&(delete this.pendingSubscriptions[Ri],rs.reject(new SubscriptionTimeoutError(`Haven't received subscription ack in ${ts*2}ms for ${Ri}`)))},ts)}unsubscribe(ki){return this.cable.send({command:"unsubscribe",identifier:ki}),this.pendingUnsubscriptions[ki]=!0,setTimeout(()=>{delete this.pendingUnsubscriptions[ki]},this.subscribeCooldownInterval),Promise.resolve()}perform(ki,Ri,ts){return Ri==="$whisper"?this.whisper(ki,ts):(ts||(ts={}),ts.action=Ri,this.cable.send({command:"message",identifier:ki,data:JSON.stringify(ts)}),Promise.resolve())}whisper(ki,Ri){return this.cable.send({command:"whisper",identifier:ki,data:Ri}),Promise.resolve()}receive(ki){if(typeof ki!="object"){this.logger.error("unsupported message format",{message:ki});return}let{type:Ri,identifier:ts,message:rs,reason:is,reconnect:ns}=ki;if(Ri==="ping")return this.cable.keepalive(ki.message);if(this.cable.keepalive(),Ri==="welcome"){let ss=ki.sid;return ss&&this.cable.setSessionId(ss),this.cable.connected()}if(Ri==="disconnect"){let ss=new DisconnectedError(is);this.reset(ss),ns===!1?this.cable.closed(ss):this.cable.disconnected(ss);return}if(Ri==="confirm_subscription"){let ss=this.pendingSubscriptions[ts];if(!ss){this.logger.error("subscription not found, unsubscribing",{type:Ri,identifier:ts}),this.unsubscribe(ts);return}return delete this.pendingSubscriptions[ts],ss.resolve(ts)}if(Ri==="reject_subscription"){let ss=this.pendingSubscriptions[ts];return ss?(delete this.pendingSubscriptions[ts],ss.reject(new SubscriptionRejectedError)):this.logger.error("subscription not found",{type:Ri,identifier:ts})}if(rs)return{identifier:ts,message:rs};this.logger.warn(`unknown message type: ${Ri}`,{message:ki})}reset(ki){for(let Ri in this.pendingSubscriptions)this.pendingSubscriptions[Ri].reject(ki);this.pendingSubscriptions={}}recoverableClosure(){return!1}}const now$1=()=>Date.now()/1e3|0;class ActionCableExtendedProtocol extends ActionCableProtocol{constructor(ki={}){super(ki),this.streamsPositions={},this.subscriptionStreams={},this.pendingHistory={},this.restoreSince=ki.historyTimestamp,this.restoreSince===void 0&&(this.restoreSince=now$1()),this.sessionId=void 0,this.sendPongs=ki.pongs}receive(ki){if(typeof ki!="object"){this.logger.error("unsupported message format",{message:ki});return}let{type:Ri,identifier:ts,message:rs}=ki;if(Ri==="disconnect"||Ri==="reject_subscription")return super.receive(ki);if(Ri==="confirm_subscription")return this.subscriptionStreams[ts]||(this.subscriptionStreams[ts]=new Set),super.receive(ki);if(Ri==="ping")return this.restoreSince&&(this.restoreSince=now$1()),this.sendPongs&&this.sendPong(),this.cable.keepalive(ki.message);if(this.cable.keepalive(),Ri==="confirm_history"){this.logger.debug("history result received",ki),this.cable.notify("history_received",ts);return}if(Ri==="reject_history"){this.logger.warn("failed to retrieve history",ki),this.cable.notify("history_not_found",ts);return}if(Ri==="welcome"){if(this.sessionId=ki.sid,this.sessionId&&this.cable.setSessionId(this.sessionId),ki.restored){let is=ki.restored_ids||Object.keys(this.subscriptionStreams);for(let ns of is)this.cable.send({identifier:ns,command:"history",history:this.historyRequestFor(ns)});return this.cable.restored(is)}return this.cable.connected(this.sessionId)}if(rs){let is=this.trackStreamPosition(ts,ki.stream_id,ki.epoch,ki.offset);return{identifier:ts,message:rs,meta:is}}this.logger.warn(`unknown message type: ${Ri}`,{message:ki})}buildSubscribeRequest(ki){let Ri=super.buildSubscribeRequest(ki),ts=this.historyRequestFor(ki);return ts&&(Ri.history=ts,this.pendingHistory[ki]=!0),Ri}recoverableClosure(){return!!this.sessionId}historyRequestFor(ki){let Ri={},ts=!1;if(this.subscriptionStreams[ki])for(let rs of this.subscriptionStreams[ki]){let is=this.streamsPositions[rs];is&&(ts=!0,Ri[rs]=is)}if(!(!ts&&!this.restoreSince))return{since:this.restoreSince,streams:Ri}}trackStreamPosition(ki,Ri,ts,rs){if(!(!Ri||!ts))return this.subscriptionStreams[ki]||(this.subscriptionStreams[ki]=new Set),this.subscriptionStreams[ki].add(Ri),this.streamsPositions[Ri]={epoch:ts,offset:rs},{stream:Ri,epoch:ts,offset:rs}}async sendPong(){await new Promise(ki=>setTimeout(ki,0)),this.cable.state==="connected"&&this.cable.send({command:"pong"})}}class NoConnectionError extends ReasonError{constructor(){super("No connection","closed"),this.name="NoConnectionError"}}class GhostChannel extends Channel{constructor(ki,Ri){super(Ri),this.channelId=ki}set channelId(ki){this._channelId=ki}get channelId(){return this._channelId}}Ho(GhostChannel,"identifier","__ghost__");const PUBSUB_CHANNEL="$pubsub";class PubSubChannel extends Channel{async perform(ki,Ri){if(ki==="$whisper")return super.perform(ki,Ri);throw Error("not implemented")}}Ho(PubSubChannel,"identifier",PUBSUB_CHANNEL);const STATE=Symbol("state");class Cable{constructor({transport:ki,protocol:Ri,encoder:ts,logger:rs,lazy:is,hubOptions:ns}){this.emitter=createNanoEvents(),this.transport=ki,this.encoder=ts,this.logger=rs||new NoopLogger,this.protocol=Ri,this.protocol.attached(this),this.hub=new Hub(ns||{}),this[STATE]="idle",this.handleClose=this.handleClose.bind(this),this.handleIncoming=this.handleIncoming.bind(this),this.transport.on("close",this.handleClose),this.transport.on("data",this.handleIncoming),this.initialConnect=!0,this.recovering=!1,is===!1&&this.connect().catch(()=>{})}get state(){return this[STATE]}async connect(){if(this.state==="connected")return Promise.resolve();if(this.state==="connecting")return this.pendingConnect();this[STATE]="connecting";let ki=this.pendingConnect();this.logger.debug("connecting");try{await this.transport.open()}catch(Ri){this.handleClose(Ri)}return ki}setSessionId(ki){this.sessionId=ki,this.transport.setParam("sid",ki)}connected(){if(this.state==="connected")return;this.logger.info("connected"),this[STATE]="connected",this.recovering&&this.hub.subscriptions.all().forEach(Ri=>Ri.notify("disconnected",new DisconnectedError("recovery_failed"))),this.hub.subscriptions.all().forEach(Ri=>this._resubscribe(Ri));let ki=!1;this.recovering=!1,this.initialConnect?(this.initialConnect=!1,this.emit("connect",{reconnect:!1,restored:ki})):this.emit("connect",{reconnect:!0,restored:ki})}restored(ki){this.logger.info("connection recovered",{remoteIds:ki}),this[STATE]="connected",this.hub.subscriptions.all().forEach(rs=>{ki&&rs.remoteId&&ki.includes(rs.remoteId)?rs.notify("restored"):(rs.notify("disconnected",new DisconnectedError("recovery_failed")),this._resubscribe(rs))});let Ri=!this.initialConnect,ts=!0;this.recovering=!1,this.initialConnect=!1,this.emit("connect",{reconnect:Ri,restored:ts})}notify(ki,Ri,ts){if(Ri&&typeof Ri!="string"&&(ts=Ri,Ri=void 0),!Ri)this.emit("info",{type:ki,data:ts});else{let rs=this.hub.subscriptions.get(Ri);rs&&rs.channels.forEach(is=>is.emit("info",{type:ki,data:ts}))}}handleClose(ki){this.logger.debug("transport closed",{error:ki}),this.disconnected(new DisconnectedError(ki,"transport_closed"))}disconnected(ki){(this.state==="connected"||this.state==="connecting")&&(this.logger.info("disconnected",{reason:ki}),this[STATE]="disconnected",this.recovering=this.protocol.recoverableClosure(ki),this.recovering?this.hub.subscriptions.all().forEach(Ri=>Ri.notify("connecting")):this.hub.subscriptions.all().forEach(Ri=>{Ri.notify("disconnected",ki)}),this.protocol.reset(ki),this.hub.close(),this.transport.close(),this.emit("disconnect",ki))}closed(ki){if(this.state==="closed"||this.state==="idle")return;let Ri;ki&&(Ri=ki instanceof DisconnectedError?ki:new DisconnectedError(ki,void 0)),this.logger.info("closed",{reason:ki||"user"}),this[STATE]="closed";let ts=Ri||new DisconnectedError("cable_closed");this.hub.subscriptions.all().forEach(rs=>rs.notify("disconnected",ts)),this.hub.close(),this.protocol.reset(),this.transport.close(),this.initialConnect=!0,this.emit("close",Ri)}disconnect(){this.closed()}handleIncoming(ki){if(this.state==="closed"||this.state==="idle")return;let Ri=this.encoder.decode(ki);if(Ri===void 0){this.logger.error("failed to decode message",{message:ki});return}this.logger.debug("incoming data",Ri);let ts=this.protocol.receive(Ri);if(ts){this.logger.debug("processed incoming message",ts);let{identifier:rs,message:is,meta:ns}=ts;this.hub.transmit(rs,is,ns)}}send(ki){if(this.state==="closed")throw Error("Cable is closed");let Ri=this.encoder.encode(ki);if(Ri===void 0){this.logger.error("failed to encode message",{message:ki});return}this.logger.debug("outgoing message",ki),this.transport.send(Ri)}keepalive(ki){this.emit("keepalive",ki)}streamFrom(ki){let Ri=new PubSubChannel({stream_name:ki});return this.subscribe(Ri)}streamFromSigned(ki){let Ri=new PubSubChannel({signed_stream_name:ki});return this.subscribe(Ri)}subscribeTo(ki,Ri){let ts,rs;return typeof ki=="string"&&(rs=ki,ki=GhostChannel),ts=rs?new ki(rs,Ri):new ki(Ri),this.subscribe(ts)}subscribe(ki){if(!ki.attached(this))return ki;let Ri=ki.identifier;ki.connecting();let ts=this.hub.subscriptions.get(Ri)||this.hub.subscriptions.create(Ri,{subscribe:rs=>this._subscribe(rs,ki.channelId,ki.params),unsubscribe:rs=>this._unsubscribe(rs)});return ts.add(ki),ts.intent==="subscribed"&&ts.state==="connected"&&ki.connected(),ts.ensureSubscribed(),ki}async _resubscribe(ki){ki.intent!=="subscribed"||!ki.channels[0]||(ki.notify("connecting"),ki.ensureResubscribed())}async _subscribe(ki,Ri,ts){let rs=ki.id;if(this.state==="idle"&&this.connect().catch(()=>{}),this.state!=="connected"){this.logger.debug("cancel subscribe, no connection",{identifier:rs});return}this.logger.debug("acquiring subscribe lock",{identifier:rs});let is=await ki.acquire("subscribed");if(is.canceled){this.logger.debug("subscribe lock has been canceled",{identifier:rs}),is.release();return}if(this.logger.debug("subscribe lock has been acquired",{identifier:rs}),ki.intent!=="subscribed"){this.logger.debug("cancel subscribe request, already unsubscribed"),is.release();return}if(this.state!=="connected"){this.logger.debug("cancel subscribe, no connection",{identifier:rs}),is.release();return}if(ki.state==="connected"){this.logger.debug("already connected, skip subscribe command",{identifier:rs}),ki.notify("connected"),is.release();return}let ns={identifier:Ri,params:ts};this.logger.debug("subscribing",ns);try{let ss=await this.protocol.subscribe(Ri,ts);this.hub.subscribe(rs,ss),this.logger.debug("subscribed",{...ns,remoteId:ss}),ki.notify("connected")}catch(ss){if(ss){if(ss instanceof SubscriptionRejectedError&&this.logger.warn("rejected",ns),ss instanceof DisconnectedError){this.logger.debug("disconnected during subscription; will retry on connect",ns),is.release();return}this.logger.error("failed to subscribe",{error:ss,...ns})}ki.close(ss),this.hub.unsubscribe(rs)}is.release()}unsubscribe(ki){let Ri=ki.identifier,ts=this.hub.subscriptions.get(Ri);if(!ts)throw Error(`Subscription not found: ${Ri}`);ts.remove(ki),ki.closed(),ts.maybeUnsubscribe()}async _unsubscribe(ki){let Ri=ki.id;this.logger.debug("acquiring unsubscribe lock",{identifier:Ri});let ts=await ki.acquire("unsubscribed");if(ts.canceled){this.logger.debug("unsubscribe lock has been canceled",{identifier:Ri}),ts.release();return}if(this.logger.debug("unsubscribe lock has been acquired",{identifier:Ri}),ki.intent!=="unsubscribed"){this.logger.debug("cancel unsubscribe, no longer needed",{identifier:Ri,intent:ki.intent}),ts.release();return}if(ki.state==="disconnected"||ki.state==="closed"){this.logger.debug(`already ${ki.state} connected, skip unsubscribe command`,{identifier:Ri}),ts.release();return}let rs=ki.remoteId;if(this.logger.debug("unsubscribing...",{remoteId:rs}),this.state!=="connected"){this.logger.debug("unsubscribe skipped (cable is not connected)",{id:Ri}),ki.close(),this.hub.unsubscribe(Ri),ts.release();return}try{await this.protocol.unsubscribe(rs),this.logger.debug("unsubscribed remotely",{id:Ri})}catch(is){is&&(is instanceof DisconnectedError?this.logger.debug("cable disconnected during the unsubscribe command execution",{id:Ri,error:is}):this.logger.error("unsubscribe failed",{id:Ri,error:is}))}ki.intent==="unsubscribed"?(ki.close(),this.hub.unsubscribe(Ri)):ki.state="closed",ts.release()}async perform(ki,Ri,ts){if(this.state==="connecting"&&await this.pendingConnect(),this.state==="closed"||this.state==="disconnected")throw new NoConnectionError;let rs=this.hub.subscriptions.get(ki);if(!rs)throw Error(`Subscription not found: ${ki}`);if(await rs.pending("subscribed"),rs.intent!=="subscribed")throw Error(`Subscription is closed: ${ki}`);let is=rs.remoteId,ns={id:is,action:Ri,payload:ts};this.logger.debug("perform",ns);try{let ss=await this.protocol.perform(is,Ri,ts);return ss&&this.logger.debug("perform result",{message:ss,request:ns}),ss}catch(ss){throw this.logger.error("perform failed",{error:ss,request:ns}),ss}}on(ki,Ri){return this.emitter.on(ki,Ri)}once(ki,Ri){let ts=this.emitter.on(ki,(...rs)=>{ts(),Ri(...rs)});return ts}emit(ki,...Ri){return this.emitter.emit(ki,...Ri)}pendingConnect(){return this._pendingConnect?this._pendingConnect:(this._pendingConnect=new Promise((ki,Ri)=>{let ts=[()=>delete this._pendingConnect];ts.push(this.on("connect",()=>{ts.forEach(rs=>rs()),ki()})),ts.push(this.on("close",rs=>{ts.forEach(is=>is()),Ri(rs)})),ts.push(this.on("disconnect",rs=>{ts.forEach(is=>is()),Ri(rs)}))}),this._pendingConnect)}}const defaults={maxMissingPings:2,maxReconnectAttempts:1/0},now=()=>Date.now(),backoffWithJitter=(es,ki)=>{ki=ki||{};let{backoffRate:Ri,jitterRatio:ts,maxInterval:rs}=ki;return Ri=Ri||2,ts===void 0&&(ts=.5),is=>{let ns=es*Ri**is,ss=ns*Ri,os=ns+(ss-ns)*Math.random(),ls=2*(Math.random()-.5)*ts;return os=os*(1+ls),rs&&rs<os&&(os=rs),os}};let Monitor$1=class{constructor({pingInterval:ki,...Ri}){if(this.pingInterval=ki,!this.pingInterval)throw Error(`Incorrect pingInterval is provided: ${ki}`);if(Ri=Object.assign({},defaults,Ri),this.strategy=Ri.reconnectStrategy,!this.strategy)throw Error("Reconnect strategy must be provided");this.maxMissingPings=Ri.maxMissingPings,this.maxReconnectAttempts=Ri.maxReconnectAttempts,this.logger=Ri.logger||new NoopLogger,this.state="pending_connect",this.attempts=0,this.disconnectedAt=now()}watch(ki){this.target=ki,this.initListeners()}reconnectNow(){return this.state==="connected"||this.state==="pending_connect"||this.state==="closed"?!1:(this.cancelReconnect(),this.state="pending_connect",this.target.connect().catch(ki=>{this.logger.info("Failed at reconnecting: "+ki)}),!0)}initListeners(){this.unbind=[],this.unbind.push(this.target.on("connect",()=>{this.attempts=0,this.pingedAt=now(),this.state="connected",this.cancelReconnect(),this.startPolling()})),this.unbind.push(this.target.on("disconnect",()=>{this.disconnectedAt=now(),this.state="disconnected",this.stopPolling(),this.scheduleReconnect()})),this.unbind.push(this.target.on("close",()=>{this.disconnectedAt=now(),this.state="closed",this.cancelReconnect(),this.stopPolling()})),this.unbind.push(this.target.on("keepalive",()=>{this.pingedAt=now()})),this.unbind.push(()=>{this.cancelReconnect(),this.stopPolling()})}dispose(){delete this.target,this.unbind&&this.unbind.forEach(ki=>ki()),delete this.unbind}startPolling(){this.pollId&&clearTimeout(this.pollId);let ki=this.pingInterval+(Math.random()-.5)*this.pingInterval*.5;this.pollId=setTimeout(()=>{this.checkStale(),this.state==="connected"&&this.startPolling()},ki)}stopPolling(){this.pollId&&clearTimeout(this.pollId)}checkStale(){let ki=now()-this.pingedAt;ki>this.maxMissingPings*this.pingInterval&&(this.logger.warn(`Stale connection: ${ki}ms without pings`),this.state="pending_disconnect",this.target.disconnected(new StaleConnectionError))}scheduleReconnect(){if(this.attempts>=this.maxReconnectAttempts){this.target.close();return}let ki=this.strategy(this.attempts);this.attempts++,this.logger.info(`Reconnecting in ${ki}ms (${this.attempts} attempt)`),this.state="pending_reconnect",this.reconnnectId=setTimeout(()=>this.reconnectNow(),ki)}cancelReconnect(){this.reconnnectId&&(clearTimeout(this.reconnnectId),delete this.reconnnectId)}};class FallbackTransport{constructor(ki,Ri={}){this.transports=ki,this.transport=null,this.emitter=createNanoEvents(),this.unbind=[],this.logger=Ri.logger||new NoopLogger}displayName(){return"fallbacked transport"}async open(){for(let ki=0;ki<this.transports.length;ki++){let Ri=this.transports[ki];try{this.transport=Ri,this.resetListeners(),this.logger.debug(`Trying to connect via ${Ri.displayName()}`),await Ri.open(),this.logger.debug(`Connected via ${Ri.displayName()}`);return}catch(ts){this.logger.debug(`Failed to connect via ${Ri.displayName()}: ${ts.message}`)}}throw this.transport=null,this.resetListeners(),new Error("Couldn't connect via any available transport")}send(ki){if(!this.transport)throw new Error("No transport is open");this.transport.send(ki)}async close(){if(!this.transport)throw new Error("No transport is open");await this.transport.close(),this.transport=null}setURL(){throw new Error("Not implemented. Set URL for each transport separately")}setParam(ki,Ri){this.transports.forEach(ts=>{ts.setParam(ki,Ri)})}on(ki,Ri){return this.emitter.on(ki,Ri)}once(ki,Ri){let ts=this.emitter.on(ki,(...rs)=>{ts(),Ri(...rs)});return ts}get url(){return this.transport?this.transport.url:""}resetListeners(){this.unbind.forEach(ki=>ki()),this.unbind.length=0,this.transport&&this.unbind.push(this.transport.on("open",()=>{this.emitter.emit("open")}),this.transport.on("data",ki=>{this.emitter.emit("data",ki)}),this.transport.on("close",ki=>{this.emitter.emit("close",ki)}),this.transport.on("error",ki=>{this.emitter.emit("error",ki)}))}}class WebSocketTransport{constructor(ki,Ri={}){this.url=ki;let ts=Ri.websocketImplementation;if(ts)this.Impl=ts;else if(typeof WebSocket<"u")this.Impl=WebSocket;else throw new Error("No WebSocket support");this.connected=!1,this.emitter=createNanoEvents();let{format:rs,subprotocol:is}=Ri;this.format=rs||"text",this.connectionOptions=Ri.websocketOptions,this.subprotocol=is}displayName(){return"WebSocket("+this.url+")"}open(){return this.connectionOptions?this.ws=new this.Impl(this.url,this.subprotocol,this.connectionOptions):this.ws=new this.Impl(this.url,this.subprotocol),this.ws.binaryType="arraybuffer",this.initListeners(),new Promise((ki,Ri)=>{let ts=[];ts.push(this.once("open",()=>{ts.forEach(rs=>rs()),ki()})),ts.push(this.once("close",()=>{ts.forEach(rs=>rs()),Ri(Error("WS connection closed"))}))})}setURL(ki){this.url=ki}setParam(ki,Ri){let ts=new URL(this.url);ts.searchParams.set(ki,Ri);let rs=`${ts.protocol}//${ts.host}${ts.pathname}?${ts.searchParams}`;this.setURL(rs)}send(ki){if(!this.ws||!this.connected)throw Error("WebSocket is not connected");this.ws.send(ki)}close(){this.ws?this.onclose():this.connected=!1}on(ki,Ri){return this.emitter.on(ki,Ri)}once(ki,Ri){let ts=this.emitter.on(ki,(...rs)=>{ts(),Ri(...rs)});return ts}initListeners(){this.ws.onerror=ki=>{this.connected&&this.emitter.emit("error",ki.error||new Error("WS Error"))},this.ws.onclose=()=>{this.onclose()},this.ws.onmessage=ki=>{let Ri=ki.data;this.format==="binary"&&(Ri=new Uint8Array(Ri)),this.emitter.emit("data",Ri)},this.ws.onopen=()=>{this.connected=!0,this.emitter.emit("open")}}onclose(){this.ws.onclose=void 0,this.ws.onmessage=void 0,this.ws.onopen=void 0,this.ws.close(),delete this.ws,this.connected=!1,this.emitter.emit("close")}}const DEFAULT_OPTIONS={protocol:"actioncable-v1-json",pingInterval:3e3,maxReconnectAttempts:1/0,maxMissingPings:2,logLevel:"warn",lazy:!0};function createCable$1(es,ki){if(typeof es=="object"&&typeof ki>"u"&&(ki=es,es=void 0),ki=ki||{},!es&&!ki.transport)throw Error("URL or transport must be specified");ki=Object.assign({},DEFAULT_OPTIONS,ki);let{protocol:Ri,websocketImplementation:ts,websocketFormat:rs,websocketOptions:is,fallbacks:ns,logLevel:ss,logger:os,transport:ls,encoder:cs,lazy:hs,monitor:us,pingInterval:As,reconnectStrategy:bs,maxMissingPings:ys,maxReconnectAttempts:Cs,subprotocol:ps,tokenRefresher:ms,historyTimestamp:fs,protocolOptions:gs,concurrentSubscribes:ws}=ki;if(os=os||new NoopLogger(ss),typeof Ri=="string"){ps=ps||Ri;let Rs=Ri.substring(0,Ri.lastIndexOf("-")),Ps=Ri.substring(Ri.lastIndexOf("-")+1);if(gs=gs||{},Rs==="actioncable-v1")Ri=new ActionCableProtocol({logger:os,...gs});else if(Rs==="actioncable-v1-ext")Ri=new ActionCableExtendedProtocol({logger:os,historyTimestamp:fs,...gs});else throw Error(`Protocol is not supported yet: ${Ri}`);if(Ps==="json")cs=cs||new JSONEncoder,rs=rs||"text";else if(Ps==="msgpack"){if(rs="binary",!cs)throw Error("Msgpack encoder must be specified explicitly. Use `@anycable/msgpack-encoder` package or build your own")}else if(Ps==="protobuf"){if(rs=rs||"binary",!cs)throw Error("Protobuf encoder must be specified explicitly. Use `@anycable/protobuf-encoder` package or build your own")}else throw Error(`Protocol is not supported yet: ${Ri}`)}if(!Ri)throw Error("Protocol must be specified");ls=ls||new WebSocketTransport(es,{websocketImplementation:ts,websocketOptions:is,subprotocol:ps,format:rs}),ns&&(ls=new FallbackTransport([ls,...ns],{logger:os})),bs=bs||backoffWithJitter(As),us!==!1&&(us=us||new Monitor$1({pingInterval:As,reconnectStrategy:bs,maxMissingPings:ys,maxReconnectAttempts:Cs,logger:os}));let Ts={concurrentSubscribes:ws},$s=new Cable({protocol:Ri,transport:ls,encoder:cs,logger:os,lazy:hs,hubOptions:Ts});return us&&(us.watch($s),$s.monitor=us),ms&&watchForExpiredToken($s,async()=>{try{await ms(ls)}catch(Rs){return os.error("Failed to refresh authentication token: "+Rs),!1}return $s.connect().catch(()=>{}),!0}),$s}function watchForExpiredToken(es,ki){let Ri=!1;es.on("connect",()=>Ri=!1),es.on("close",async ts=>{if(ts){if(Ri){es.logger.warn("Token auto-refresh is disabled",ts);return}ts.reason==="token_expired"&&(Ri=!0,await ki())}})}class ActionCableSubscription{constructor(ki){this.channel=ki}notify(ki,...Ri){typeof this[ki]=="function"&&this[ki](...Ri)}perform(ki,Ri={}){this.channel.perform(ki,Ri)}send(ki){this.channel.send(ki)}get identifier(){return this.channel.identifier}unsubscribe(){return this.channel.disconnect()}}class ActionCableChannel extends GhostChannel{constructor(ki,Ri,ts){super(ki,Ri),this.subscription=new ActionCableSubscription(this),Object.assign(this.subscription,ts),this.on("connect",()=>this.subscription.notify("connected")),this.on("disconnect",()=>this.subscription.notify("disconnected",{allowReconnect:!0})),this.on("message",rs=>this.subscription.notify("received",rs)),this.on("close",rs=>{rs&&rs instanceof SubscriptionRejectedError?this.subscription.notify("rejected"):this.subscription.notify("disconnected",{allowReconnect:!1})})}}class ActionCableSubscriptions{constructor(ki){this.cable=ki}create(ki,Ri){let ts,rs;typeof ki=="object"?(ts=ki.channel,delete ki.channel,rs=ki):(ts=ki,rs={});let is=new ActionCableChannel(ts,rs,Ri);return is.subscription.notify("initialized"),this.cable.subscribe(is),is.subscription}findAll(ki){return this.cable.hub.channels.filter(Ri=>Ri.identifier===ki).map(Ri=>Ri.subscription)}}class ActionCableConsumer{constructor(ki){this.cable=ki,this.subscriptions=new ActionCableSubscriptions(ki)}}class Logger extends BaseLogger{writeLogEntry(ki,Ri,ts){ts?console[ki](Ri,ts):console[ki](Ri)}}class Monitor extends Monitor$1{watch(ki){super.watch(ki),this.initActivityListeners()}initActivityListeners(){if(typeof document<"u"&&typeof window<"u"&&document.addEventListener&&window.addEventListener){let ki=()=>{document.hidden||this.reconnectNow()&&this.logger.debug("Trigger reconnect due to visibility change")},Ri=rs=>{this.reconnectNow()&&this.logger.debug("Trigger reconnect",{event:rs})},ts=()=>this.disconnect(new DisconnectedError("page_frozen"));document.addEventListener("visibilitychange",ki,!1),window.addEventListener("focus",Ri,!1),window.addEventListener("online",Ri,!1),window.addEventListener("resume",Ri,!1),window.addEventListener("freeze",ts,!1),this.unbind.push(()=>{document.removeEventListener("visibilitychange",ki,!1),window.removeEventListener("focus",Ri,!1),window.removeEventListener("online",Ri,!1),window.removeEventListener("resume",Ri,!1),window.removeEventListener("freeze",ts,!1)})}}disconnect(ki){this.state==="disconnected"||this.state==="closed"||(this.logger.info("Disconnecting",{reason:ki.message}),this.cancelReconnect(),this.stopPolling(),this.state="pending_disconnect",this.target.disconnected(ki))}}const metaPrefixes=["cable","action-cable"],defaultUrl="/cable",fetchMeta=(es,ki)=>{for(let Ri of metaPrefixes){let ts=es.head.querySelector(`meta[name='${Ri}-${ki}']`);if(ts)return ts.getAttribute("content")}},absoluteWSUrl=es=>es.match(/wss?:\/\//)?es:typeof window<"u"?`${window.location.protocol.replace("http","ws")}//${window.location.host}${es}`:es,generateUrlFromDOM=()=>{if(typeof document<"u"&&document.head){let es=fetchMeta(document,"url");if(es)return absoluteWSUrl(es)}return absoluteWSUrl(defaultUrl)},historyTimestampFromMeta=()=>{if(typeof document<"u"&&document.head){let es=fetchMeta(document,"history-timestamp");if(es)return es|0}};function createCable(es,ki){typeof es=="object"&&typeof ki>"u"&&(ki=es,es=void 0),es=es||generateUrlFromDOM(),ki=ki||{},ki.historyTimestamp||(ki.historyTimestamp=historyTimestampFromMeta()),ki=Object.assign({},DEFAULT_OPTIONS,ki);let{logLevel:Ri,logger:ts,pingInterval:rs,reconnectStrategy:is,maxMissingPings:ns,maxReconnectAttempts:ss}=ki;return ts=ki.logger=ki.logger||new Logger(Ri),is=ki.reconnectStrategy=ki.reconnectStrategy||backoffWithJitter(rs),ki.monitor!==!1&&(ki.monitor=ki.monitor||new Monitor({pingInterval:rs,reconnectStrategy:is,maxMissingPings:ns,maxReconnectAttempts:ss,logger:ts})),createCable$1(es,ki)}function createConsumer(es,ki){let Ri=createCable(es,ki);return new ActionCableConsumer(Ri)}const consumer=createConsumer();class DownloadFileController extends Controller{connect(){}subscribeToDownloadChannel(){let Ri=this.element.dataset.historyId;consumer.download=consumer.subscriptions.create({channel:"DownloadFileChannel",history_id:Ri},{connected(){},disconnected(){},received(ts){let rs=ts.file,is="";if(rs.content){let ss=new Blob([ts.file.content]);is=window.URL.createObjectURL(ss)}else is=rs.src;let ns=document.createElement("a");ns.href=is,ns.download=rs.name,ns.click(),consumer.download.unsubscribe(),delete consumer.download}})}}class DreamscaleController extends Controller{connect(){}onCreativitySelected(ki){const Ri=ki.currentTarget.value;post("/ai/image/creativity_selected",{query:{creativity_option:Ri},responseKind:"turbo-stream"})}}class DropdownController extends Controller{connect(){this.element&&(this.element.dataset.buttonText?this.setButtonInnerText(this.element.dataset.buttonText):this.element.dataset.buttonHtml&&this.setButtonInnerHTML(this.element.dataset.buttonHtml))}dropDownItemSelectedForHiddenInput(ki){var ns;let Ri=ki.currentTarget.dataset.value,ts=ki.currentTarget.dataset.buttonText,rs=ki.currentTarget.dataset.buttonHtml,is=(ns=ki.currentTarget.dataset)==null?void 0:ns.savedCustomPrompt;if(this.hasHiddenInputTargetingValue){let os=ki.currentTarget.closest(".dropdown-parent").querySelector(`#${this.hiddenInputTargetingValue}`);console.log("value"),os.value=Ri}rs?this.setButtonInnerHTML(rs):ts&&this.setButtonInnerText(ts),is=="true"&&localStorage.setItem("custom_prompts",!0)}setButtonInnerText(ki){let Ri=this.element.querySelector('button[data-bs-toggle="dropdown"]');Ri.innerText=ki}setButtonInnerHTML(ki){let Ri=this.element.querySelector('button[data-bs-toggle="dropdown"]');Ri.innerHTML=ki}}Ho(DropdownController,"values",{hiddenInputTargeting:String});const IMAGES_BASE=["image/jpg","image/jpeg","image/png"],ACCEPTED_FILES_BY_CATEGORY={images:IMAGES_BASE,images_ai:IMAGES_BASE.concat(["image/x-adobe-dng"]),images_ai_mixer:IMAGES_BASE.concat(["image/x-adobe-dng","image/heic","image/heif"]),videos:["video/mp4","video/webm","video/quicktime"],audios:["audio/mp4","audio/mp3","audio/mpeg","audio/wav","audio/x-m4a","audio/aac"],images_dreamscale:["image/jpeg","image/png","image/webp"],assistants:IMAGES_BASE.concat(["image/gif","application/pdf","text/plain","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]),documents:["application/pdf","text/plain","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],others:["image/gif","image/tiff","audio/aac","audio/x-m4a","video/x-msvideo","text/csv","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","audio/mpeg","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.text","application/pdf","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/rtf","application/x-rtf","text/rtf","text/richtext","text/plain","audio/wav","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","image/vnd.microsoft.icon","image/svg+xml","application/vnd.oasis.opendocument.presentation","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.text","video/x-ms-wmv"]},ACCEPTED_CATEGORIES_BY_FEATURE={casting_call_cover:["images"],casting_call_attachments:["images","videos","others"],listings_samples:["images","videos"],pitch_video:["videos"],pitch_attachments:["images","videos","others"],order_content_deliver:["images","videos","others"],order_file_upload:["images"],user_cover:["images"],ai_assistant:["assistants"],assistant_persona:["documents"],ai_image:["images_ai"],ai_init_audio:["videos","others"],ai_mixer_image:["images_ai_mixer"],ai_audio:["audios"],ai_dreamscale:["images_dreamscale"],ai_remove_background:["images"],ai_replace_background:["images"],ai_voice_training:["audios"],ai_talking_portrait:["images"],avatar:["images"]};function getAcceptedFilesFromFeature(es){let ki=ACCEPTED_CATEGORIES_BY_FEATURE[es];if(!ki)throw Error(`AcceptedFiles: Unknown feature: ${es}`);return lodashExports.flatMap(ki,function(ts){let rs=ACCEPTED_FILES_BY_CATEGORY[ts];if(!rs)throw Error(`AcceptedFiles: Unknown category: ${ts}`);return rs}).join(",")}function showToast(es,ki){let Ri=document.querySelector("#flash"),ts=document.createElement("div");ts.innerHTML=`
      <div data-controller="toast" data-toast-target="toast" class="bg-${es} hide">
        <div class="d-flex">
          <div class="toast-body">${ki}</div>
        </div>
      </div>
`,Ri.appendChild(ts)}var objectExtend=extend;function extend(){var es=[].slice.call(arguments),ki=!1;typeof es[0]=="boolean"&&(ki=es.shift());var Ri=es[0];if(isUnextendable(Ri))throw new Error("extendee must be an object");for(var ts=es.slice(1),rs=ts.length,is=0;is<rs;is++){var ns=ts[is];for(var ss in ns)if(Object.prototype.hasOwnProperty.call(ns,ss)){var os=ns[ss];if(ki&&isCloneable(os)){var ls=Array.isArray(os)?[]:{};Ri[ss]=extend(!0,Object.prototype.hasOwnProperty.call(Ri,ss)&&!isUnextendable(Ri[ss])?Ri[ss]:ls,os)}else Ri[ss]=os}}return Ri}function isCloneable(es){return Array.isArray(es)||{}.toString.call(es)=="[object Object]"}function isUnextendable(es){return!es||typeof es!="object"&&typeof es!="function"}function $parcel$interopDefault(es){return es&&es.__esModule?es.default:es}class $4040acfd8584338d$export$2e2bcd8739ae039{on(ki,Ri){return this._callbacks=this._callbacks||{},this._callbacks[ki]||(this._callbacks[ki]=[]),this._callbacks[ki].push(Ri),this}emit(ki,...Ri){this._callbacks=this._callbacks||{};let ts=this._callbacks[ki];if(ts)for(let rs of ts)rs.apply(this,Ri);return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+ki,{args:Ri})),this}makeEvent(ki,Ri){let ts={bubbles:!0,cancelable:!0,detail:Ri};if(typeof window.CustomEvent=="function")return new CustomEvent(ki,ts);var rs=document.createEvent("CustomEvent");return rs.initCustomEvent(ki,ts.bubbles,ts.cancelable,ts.detail),rs}off(ki,Ri){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;let ts=this._callbacks[ki];if(!ts)return this;if(arguments.length===1)return delete this._callbacks[ki],this;for(let rs=0;rs<ts.length;rs++)if(ts[rs]===Ri){ts.splice(rs,1);break}return this}}var $fd6031f88dce2e32$exports={};$fd6031f88dce2e32$exports=`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail=""></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size=""></span></div>
    <div class="dz-filename"><span data-dz-name=""></span></div>
  </div>
  <div class="dz-progress">
    <span class="dz-upload" data-dz-uploadprogress=""></span>
  </div>
  <div class="dz-error-message"><span data-dz-errormessage=""></span></div>
  <div class="dz-success-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M10.2071 29.7929L14.2929 25.7071C14.6834 25.3166 15.3166 25.3166 15.7071 25.7071L21.2929 31.2929C21.6834 31.6834 22.3166 31.6834 22.7071 31.2929L38.2929 15.7071C38.6834 15.3166 39.3166 15.3166 39.7071 15.7071L43.7929 19.7929C44.1834 20.1834 44.1834 20.8166 43.7929 21.2071L22.7071 42.2929C22.3166 42.6834 21.6834 42.6834 21.2929 42.2929L10.2071 31.2071C9.81658 30.8166 9.81658 30.1834 10.2071 29.7929Z"></path>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M26.2929 20.2929L19.2071 13.2071C18.8166 12.8166 18.1834 12.8166 17.7929 13.2071L13.2071 17.7929C12.8166 18.1834 12.8166 18.8166 13.2071 19.2071L20.2929 26.2929C20.6834 26.6834 20.6834 27.3166 20.2929 27.7071L13.2071 34.7929C12.8166 35.1834 12.8166 35.8166 13.2071 36.2071L17.7929 40.7929C18.1834 41.1834 18.8166 41.1834 19.2071 40.7929L26.2929 33.7071C26.6834 33.3166 27.3166 33.3166 27.7071 33.7071L34.7929 40.7929C35.1834 41.1834 35.8166 41.1834 36.2071 40.7929L40.7929 36.2071C41.1834 35.8166 41.1834 35.1834 40.7929 34.7929L33.7071 27.7071C33.3166 27.3166 33.3166 26.6834 33.7071 26.2929L40.7929 19.2071C41.1834 18.8166 41.1834 18.1834 40.7929 17.7929L36.2071 13.2071C35.8166 12.8166 35.1834 12.8166 34.7929 13.2071L27.7071 20.2929C27.3166 20.6834 26.6834 20.6834 26.2929 20.2929Z"></path>
    </svg>
  </div>
</div>
`;let $4ca367182776f80b$var$defaultOptions={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,defaultHeaders:!0,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init(){},params(es,ki,Ri){if(Ri)return{dzuuid:Ri.file.upload.uuid,dzchunkindex:Ri.index,dztotalfilesize:Ri.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:Ri.file.upload.totalChunkCount,dzchunkbyteoffset:Ri.index*this.options.chunkSize}},accept(es,ki){return ki()},chunksUploaded:function(es,ki){ki()},binaryBody:!1,fallback(){let es;this.element.className=`${this.element.className} dz-browser-not-supported`;for(let Ri of this.element.getElementsByTagName("div"))if(/(^| )dz-message($| )/.test(Ri.className)){es=Ri,Ri.className="dz-message";break}es||(es=$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(es));let ki=es.getElementsByTagName("span")[0];return ki&&(ki.textContent!=null?ki.textContent=this.options.dictFallbackMessage:ki.innerText!=null&&(ki.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize(es,ki,Ri,ts){let rs={srcX:0,srcY:0,srcWidth:es.width,srcHeight:es.height},is=es.width/es.height;ki==null&&Ri==null?(ki=rs.srcWidth,Ri=rs.srcHeight):ki==null?ki=Ri*is:Ri==null&&(Ri=ki/is),ki=Math.min(ki,rs.srcWidth),Ri=Math.min(Ri,rs.srcHeight);let ns=ki/Ri;if(rs.srcWidth>ki||rs.srcHeight>Ri)if(ts==="crop")is>ns?(rs.srcHeight=es.height,rs.srcWidth=rs.srcHeight*ns):(rs.srcWidth=es.width,rs.srcHeight=rs.srcWidth/ns);else if(ts==="contain")is>ns?Ri=ki/is:ki=Ri*is;else throw new Error(`Unknown resizeMethod '${ts}'`);return rs.srcX=(es.width-rs.srcWidth)/2,rs.srcY=(es.height-rs.srcHeight)/2,rs.trgWidth=ki,rs.trgHeight=Ri,rs},transformFile(es,ki){return(this.options.resizeWidth||this.options.resizeHeight)&&es.type.match(/image.*/)?this.resizeImage(es,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,ki):ki(es)},previewTemplate:$parcel$interopDefault($fd6031f88dce2e32$exports),drop(es){return this.element.classList.remove("dz-drag-hover")},dragstart(es){},dragend(es){return this.element.classList.remove("dz-drag-hover")},dragenter(es){return this.element.classList.add("dz-drag-hover")},dragover(es){return this.element.classList.add("dz-drag-hover")},dragleave(es){return this.element.classList.remove("dz-drag-hover")},paste(es){},reset(){return this.element.classList.remove("dz-started")},addedfile(es){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){es.previewElement=$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement(this.options.previewTemplate.trim()),es.previewTemplate=es.previewElement,this.previewsContainer.appendChild(es.previewElement);for(var ki of es.previewElement.querySelectorAll("[data-dz-name]"))ki.textContent=es.name;for(ki of es.previewElement.querySelectorAll("[data-dz-size]"))ki.innerHTML=this.filesize(es.size);this.options.addRemoveLinks&&(es._removeLink=$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement(`<a class="dz-remove" href="javascript:undefined;" data-dz-remove>${this.options.dictRemoveFile}</a>`),es.previewElement.appendChild(es._removeLink));let Ri=ts=>(ts.preventDefault(),ts.stopPropagation(),es.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING?$3ed269f2f0fb224b$export$2e2bcd8739ae039.confirm(this.options.dictCancelUploadConfirmation,()=>this.removeFile(es)):this.options.dictRemoveFileConfirmation?$3ed269f2f0fb224b$export$2e2bcd8739ae039.confirm(this.options.dictRemoveFileConfirmation,()=>this.removeFile(es)):this.removeFile(es));for(let ts of es.previewElement.querySelectorAll("[data-dz-remove]"))ts.addEventListener("click",Ri)}},removedfile(es){return es.previewElement!=null&&es.previewElement.parentNode!=null&&es.previewElement.parentNode.removeChild(es.previewElement),this._updateMaxFilesReachedClass()},thumbnail(es,ki){if(es.previewElement){es.previewElement.classList.remove("dz-file-preview");for(let Ri of es.previewElement.querySelectorAll("[data-dz-thumbnail]"))Ri.alt=es.name,Ri.src=ki;return setTimeout(()=>es.previewElement.classList.add("dz-image-preview"),1)}},error(es,ki){if(es.previewElement){es.previewElement.classList.add("dz-error"),typeof ki!="string"&&ki.error&&(ki=ki.error);for(let Ri of es.previewElement.querySelectorAll("[data-dz-errormessage]"))Ri.textContent=ki}},errormultiple(){},processing(es){if(es.previewElement&&(es.previewElement.classList.add("dz-processing"),es._removeLink))return es._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple(){},uploadprogress(es,ki,Ri){if(es.previewElement)for(let ts of es.previewElement.querySelectorAll("[data-dz-uploadprogress]"))ts.nodeName==="PROGRESS"?ts.value=ki:ts.style.width=`${ki}%`},totaluploadprogress(){},sending(){},sendingmultiple(){},success(es){if(es.previewElement)return es.previewElement.classList.add("dz-success")},successmultiple(){},canceled(es){return this.emit("error",es,this.options.dictUploadCanceled)},canceledmultiple(){},complete(es){if(es._removeLink&&(es._removeLink.innerHTML=this.options.dictRemoveFile),es.previewElement)return es.previewElement.classList.add("dz-complete")},completemultiple(){},maxfilesexceeded(){},maxfilesreached(){},queuecomplete(){},addedfiles(){}};var $4ca367182776f80b$export$2e2bcd8739ae039=$4ca367182776f80b$var$defaultOptions;class $3ed269f2f0fb224b$export$2e2bcd8739ae039 extends $4040acfd8584338d$export$2e2bcd8739ae039{static initClass(){this.prototype.Emitter=$4040acfd8584338d$export$2e2bcd8739ae039,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}getAcceptedFiles(){return this.files.filter(ki=>ki.accepted).map(ki=>ki)}getRejectedFiles(){return this.files.filter(ki=>!ki.accepted).map(ki=>ki)}getFilesWithStatus(ki){return this.files.filter(Ri=>Ri.status===ki).map(Ri=>Ri)}getQueuedFiles(){return this.getFilesWithStatus($3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED)}getUploadingFiles(){return this.getFilesWithStatus($3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING)}getAddedFiles(){return this.getFilesWithStatus($3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED)}getActiveFiles(){return this.files.filter(ki=>ki.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING||ki.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED).map(ki=>ki)}init(){if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild($3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement(`<div class="dz-default dz-message"><button class="dz-button" type="button">${this.options.dictDefaultMessage}</button></div>`)),this.clickableElements.length){let ts=()=>{this.hiddenFileInput&&this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=document.createElement("input"),this.hiddenFileInput.setAttribute("type","file"),(this.options.maxFiles===null||this.options.maxFiles>1)&&this.hiddenFileInput.setAttribute("multiple","multiple"),this.hiddenFileInput.className="dz-hidden-input",this.options.acceptedFiles!==null&&this.hiddenFileInput.setAttribute("accept",this.options.acceptedFiles),this.options.capture!==null&&this.hiddenFileInput.setAttribute("capture",this.options.capture),this.hiddenFileInput.setAttribute("tabindex","-1"),this.hiddenFileInput.style.visibility="hidden",this.hiddenFileInput.style.position="absolute",this.hiddenFileInput.style.top="0",this.hiddenFileInput.style.left="0",this.hiddenFileInput.style.height="0",this.hiddenFileInput.style.width="0",$3ed269f2f0fb224b$export$2e2bcd8739ae039.getElement(this.options.hiddenInputContainer,"hiddenInputContainer").appendChild(this.hiddenFileInput),this.hiddenFileInput.addEventListener("change",()=>{let{files:rs}=this.hiddenFileInput;if(rs.length)for(let is of rs)this.addFile(is);this.emit("addedfiles",rs),ts()})};ts()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(let ts of this.events)this.on(ts,this.options[ts]);this.on("uploadprogress",()=>this.updateTotalUploadProgress()),this.on("removedfile",()=>this.updateTotalUploadProgress()),this.on("canceled",ts=>this.emit("complete",ts)),this.on("complete",ts=>{if(this.getAddedFiles().length===0&&this.getUploadingFiles().length===0&&this.getQueuedFiles().length===0)return setTimeout(()=>this.emit("queuecomplete"),0)});const ki=function(ts){if(ts.dataTransfer.types){for(var rs=0;rs<ts.dataTransfer.types.length;rs++)if(ts.dataTransfer.types[rs]==="Files")return!0}return!1};let Ri=function(ts){if(ki(ts))return ts.stopPropagation(),ts.preventDefault?ts.preventDefault():ts.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:ts=>this.emit("dragstart",ts),dragenter:ts=>(Ri(ts),this.emit("dragenter",ts)),dragover:ts=>{let rs;try{rs=ts.dataTransfer.effectAllowed}catch{}return ts.dataTransfer.dropEffect=rs==="move"||rs==="linkMove"?"move":"copy",Ri(ts),this.emit("dragover",ts)},dragleave:ts=>this.emit("dragleave",ts),drop:ts=>(Ri(ts),this.drop(ts)),dragend:ts=>this.emit("dragend",ts)}}],this.clickableElements.forEach(ts=>this.listeners.push({element:ts,events:{click:rs=>((ts!==this.element||rs.target===this.element||$3ed269f2f0fb224b$export$2e2bcd8739ae039.elementInside(rs.target,this.element.querySelector(".dz-message")))&&this.hiddenFileInput.click(),!0)}})),this.enable(),this.options.init.call(this)}destroy(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,$3ed269f2f0fb224b$export$2e2bcd8739ae039.instances.splice($3ed269f2f0fb224b$export$2e2bcd8739ae039.instances.indexOf(this),1)}updateTotalUploadProgress(){let ki,Ri=0,ts=0;if(this.getActiveFiles().length){for(let is of this.getActiveFiles())Ri+=is.upload.bytesSent,ts+=is.upload.total;ki=100*Ri/ts}else ki=100;return this.emit("totaluploadprogress",ki,ts,Ri)}_getParamName(ki){return typeof this.options.paramName=="function"?this.options.paramName(ki):`${this.options.paramName}${this.options.uploadMultiple?`[${ki}]`:""}`}_renameFile(ki){return typeof this.options.renameFile!="function"?ki.name:this.options.renameFile(ki)}getFallbackForm(){let ki,Ri;if(ki=this.getExistingFallback())return ki;let ts='<div class="dz-fallback">';this.options.dictFallbackText&&(ts+=`<p>${this.options.dictFallbackText}</p>`),ts+=`<input type="file" name="${this._getParamName(0)}" ${this.options.uploadMultiple?'multiple="multiple"':void 0} /><input type="submit" value="Upload!"></div>`;let rs=$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement(ts);return this.element.tagName!=="FORM"?(Ri=$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement(`<form action="${this.options.url}" enctype="multipart/form-data" method="${this.options.method}"></form>`),Ri.appendChild(rs)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),Ri??rs}getExistingFallback(){let ki=function(ts){for(let rs of ts)if(/(^| )fallback($| )/.test(rs.className))return rs};for(let ts of["div","form"]){var Ri;if(Ri=ki(this.element.getElementsByTagName(ts)))return Ri}}setupEventListeners(){return this.listeners.map(ki=>(()=>{let Ri=[];for(let ts in ki.events){let rs=ki.events[ts];Ri.push(ki.element.addEventListener(ts,rs,!1))}return Ri})())}removeEventListeners(){return this.listeners.map(ki=>(()=>{let Ri=[];for(let ts in ki.events){let rs=ki.events[ts];Ri.push(ki.element.removeEventListener(ts,rs,!1))}return Ri})())}disable(){return this.clickableElements.forEach(ki=>ki.classList.remove("dz-clickable")),this.removeEventListeners(),this.disabled=!0,this.files.map(ki=>this.cancelUpload(ki))}enable(){return delete this.disabled,this.clickableElements.forEach(ki=>ki.classList.add("dz-clickable")),this.setupEventListeners()}filesize(ki){let Ri=0,ts="b";if(ki>0){let rs=["tb","gb","mb","kb","b"];for(let is=0;is<rs.length;is++){let ns=rs[is],ss=Math.pow(this.options.filesizeBase,4-is)/10;if(ki>=ss){Ri=ki/Math.pow(this.options.filesizeBase,4-is),ts=ns;break}}Ri=Math.round(10*Ri)/10}return`<strong>${Ri}</strong> ${this.options.dictFileSizeUnits[ts]}`}_updateMaxFilesReachedClass(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}drop(ki){if(!ki.dataTransfer)return;this.emit("drop",ki);let Ri=[];for(let ts=0;ts<ki.dataTransfer.files.length;ts++)Ri[ts]=ki.dataTransfer.files[ts];if(Ri.length){let{items:ts}=ki.dataTransfer;ts&&ts.length&&ts[0].webkitGetAsEntry!=null?this._addFilesFromItems(ts):this.handleFiles(Ri)}this.emit("addedfiles",Ri)}paste(ki){if($3ed269f2f0fb224b$var$__guard__(ki!=null?ki.clipboardData:void 0,ts=>ts.items)==null)return;this.emit("paste",ki);let{items:Ri}=ki.clipboardData;if(Ri.length)return this._addFilesFromItems(Ri)}handleFiles(ki){for(let Ri of ki)this.addFile(Ri)}_addFilesFromItems(ki){return(()=>{let Ri=[];for(let rs of ki){var ts;rs.webkitGetAsEntry!=null&&(ts=rs.webkitGetAsEntry())?ts.isFile?Ri.push(this.addFile(rs.getAsFile())):ts.isDirectory?Ri.push(this._addFilesFromDirectory(ts,ts.name)):Ri.push(void 0):rs.getAsFile!=null&&(rs.kind==null||rs.kind==="file")?Ri.push(this.addFile(rs.getAsFile())):Ri.push(void 0)}return Ri})()}_addFilesFromDirectory(ki,Ri){let ts=ki.createReader(),rs=ns=>$3ed269f2f0fb224b$var$__guardMethod__(console,"log",ss=>ss.log(ns));var is=()=>ts.readEntries(ns=>{if(ns.length>0){for(let ss of ns)ss.isFile?ss.file(os=>{if(!(this.options.ignoreHiddenFiles&&os.name.substring(0,1)==="."))return os.fullPath=`${Ri}/${os.name}`,this.addFile(os)}):ss.isDirectory&&this._addFilesFromDirectory(ss,`${Ri}/${ss.name}`);is()}return null},rs);return is()}accept(ki,Ri){this.options.maxFilesize&&ki.size>this.options.maxFilesize*1048576?Ri(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(ki.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):$3ed269f2f0fb224b$export$2e2bcd8739ae039.isValidFile(ki,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(Ri(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",ki)):this.options.accept.call(this,ki,Ri):Ri(this.options.dictInvalidFileType)}addFile(ki){ki.upload={uuid:$3ed269f2f0fb224b$export$2e2bcd8739ae039.uuidv4(),progress:0,total:ki.size,bytesSent:0,filename:this._renameFile(ki)},this.files.push(ki),ki.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED,this.emit("addedfile",ki),this._enqueueThumbnail(ki),this.accept(ki,Ri=>{Ri?(ki.accepted=!1,this._errorProcessing([ki],Ri)):(ki.accepted=!0,this.options.autoQueue&&this.enqueueFile(ki)),this._updateMaxFilesReachedClass()})}enqueueFiles(ki){for(let Ri of ki)this.enqueueFile(Ri);return null}enqueueFile(ki){if(ki.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED&&ki.accepted===!0){if(ki.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED,this.options.autoProcessQueue)return setTimeout(()=>this.processQueue(),0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}_enqueueThumbnail(ki){if(this.options.createImageThumbnails&&ki.type.match(/image.*/)&&ki.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(ki),setTimeout(()=>this._processThumbnailQueue(),0)}_processThumbnailQueue(){if(this._processingThumbnail||this._thumbnailQueue.length===0)return;this._processingThumbnail=!0;let ki=this._thumbnailQueue.shift();return this.createThumbnail(ki,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,Ri=>(this.emit("thumbnail",ki,Ri),this._processingThumbnail=!1,this._processThumbnailQueue()))}removeFile(ki){if(ki.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING&&this.cancelUpload(ki),this.files=$3ed269f2f0fb224b$var$without(this.files,ki),this.emit("removedfile",ki),this.files.length===0)return this.emit("reset")}removeAllFiles(ki){ki==null&&(ki=!1);for(let Ri of this.files.slice())(Ri.status!==$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING||ki)&&this.removeFile(Ri);return null}resizeImage(ki,Ri,ts,rs,is){return this.createThumbnail(ki,Ri,ts,rs,!0,(ns,ss)=>{if(ss==null)return is(ki);{let{resizeMimeType:os}=this.options;os==null&&(os=ki.type);let ls=ss.toDataURL(os,this.options.resizeQuality);return(os==="image/jpeg"||os==="image/jpg")&&(ls=$3ed269f2f0fb224b$var$ExifRestore.restore(ki.dataURL,ls)),is($3ed269f2f0fb224b$export$2e2bcd8739ae039.dataURItoBlob(ls))}})}createThumbnail(ki,Ri,ts,rs,is,ns){let ss=new FileReader;ss.onload=()=>{if(ki.dataURL=ss.result,ki.type==="image/svg+xml"){ns!=null&&ns(ss.result);return}this.createThumbnailFromUrl(ki,Ri,ts,rs,is,ns)},ss.readAsDataURL(ki)}displayExistingFile(ki,Ri,ts,rs,is=!0){if(this.emit("addedfile",ki),this.emit("complete",ki),!is)this.emit("thumbnail",ki,Ri),ts&&ts();else{let ns=ss=>{this.emit("thumbnail",ki,ss),ts&&ts()};ki.dataURL=Ri,this.createThumbnailFromUrl(ki,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,ns,rs)}}createThumbnailFromUrl(ki,Ri,ts,rs,is,ns,ss){let os=document.createElement("img");return ss&&(os.crossOrigin=ss),is=getComputedStyle(document.body).imageOrientation=="from-image"?!1:is,os.onload=()=>{let ls=cs=>cs(1);return typeof EXIF<"u"&&EXIF!==null&&is&&(ls=cs=>EXIF.getData(os,function(){return cs(EXIF.getTag(this,"Orientation"))})),ls(cs=>{ki.width=os.width,ki.height=os.height;let hs=this.options.resize.call(this,ki,Ri,ts,rs),us=document.createElement("canvas"),As=us.getContext("2d");switch(us.width=hs.trgWidth,us.height=hs.trgHeight,cs>4&&(us.width=hs.trgHeight,us.height=hs.trgWidth),cs){case 2:As.translate(us.width,0),As.scale(-1,1);break;case 3:As.translate(us.width,us.height),As.rotate(Math.PI);break;case 4:As.translate(0,us.height),As.scale(1,-1);break;case 5:As.rotate(.5*Math.PI),As.scale(1,-1);break;case 6:As.rotate(.5*Math.PI),As.translate(0,-us.width);break;case 7:As.rotate(.5*Math.PI),As.translate(us.height,-us.width),As.scale(-1,1);break;case 8:As.rotate(-.5*Math.PI),As.translate(-us.height,0);break}$3ed269f2f0fb224b$var$drawImageIOSFix(As,os,hs.srcX!=null?hs.srcX:0,hs.srcY!=null?hs.srcY:0,hs.srcWidth,hs.srcHeight,hs.trgX!=null?hs.trgX:0,hs.trgY!=null?hs.trgY:0,hs.trgWidth,hs.trgHeight);let bs=us.toDataURL("image/png");if(ns!=null)return ns(bs,us)})},ns!=null&&(os.onerror=ns),os.src=ki.dataURL}processQueue(){let{parallelUploads:ki}=this.options,Ri=this.getUploadingFiles().length,ts=Ri;if(Ri>=ki)return;let rs=this.getQueuedFiles();if(rs.length>0){if(this.options.uploadMultiple)return this.processFiles(rs.slice(0,ki-Ri));for(;ts<ki;){if(!rs.length)return;this.processFile(rs.shift()),ts++}}}processFile(ki){return this.processFiles([ki])}processFiles(ki){for(let Ri of ki)Ri.processing=!0,Ri.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING,this.emit("processing",Ri);return this.options.uploadMultiple&&this.emit("processingmultiple",ki),this.uploadFiles(ki)}_getFilesWithXhr(ki){return this.files.filter(Ri=>Ri.xhr===ki).map(Ri=>Ri)}cancelUpload(ki){if(ki.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING){let Ri=this._getFilesWithXhr(ki.xhr);for(let ts of Ri)ts.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.CANCELED;typeof ki.xhr<"u"&&ki.xhr.abort();for(let ts of Ri)this.emit("canceled",ts);this.options.uploadMultiple&&this.emit("canceledmultiple",Ri)}else(ki.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED||ki.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED)&&(ki.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.CANCELED,this.emit("canceled",ki),this.options.uploadMultiple&&this.emit("canceledmultiple",[ki]));if(this.options.autoProcessQueue)return this.processQueue()}resolveOption(ki,...Ri){return typeof ki=="function"?ki.apply(this,Ri):ki}uploadFile(ki){return this.uploadFiles([ki])}uploadFiles(ki){this._transformFiles(ki,Ri=>{if(this.options.chunking){let ts=Ri[0];ki[0].upload.chunked=this.options.chunking&&(this.options.forceChunking||ts.size>this.options.chunkSize),ki[0].upload.totalChunkCount=Math.ceil(ts.size/this.options.chunkSize)}if(ki[0].upload.chunked){let ts=ki[0],rs=Ri[0];ts.upload.chunks=[];let is=()=>{let ns=0;for(;ts.upload.chunks[ns]!==void 0;)ns++;if(ns>=ts.upload.totalChunkCount)return;let ss=ns*this.options.chunkSize,os=Math.min(ss+this.options.chunkSize,rs.size),ls={name:this._getParamName(0),data:rs.webkitSlice?rs.webkitSlice(ss,os):rs.slice(ss,os),filename:ts.upload.filename,chunkIndex:ns};ts.upload.chunks[ns]={file:ts,index:ns,dataBlock:ls,status:$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING,progress:0,retries:0},this._uploadData(ki,[ls])};if(ts.upload.finishedChunkUpload=(ns,ss)=>{let os=!0;ns.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.SUCCESS,ns.dataBlock=null,ns.response=ns.xhr.responseText,ns.responseHeaders=ns.xhr.getAllResponseHeaders(),ns.xhr=null;for(let ls=0;ls<ts.upload.totalChunkCount;ls++){if(ts.upload.chunks[ls]===void 0)return is();ts.upload.chunks[ls].status!==$3ed269f2f0fb224b$export$2e2bcd8739ae039.SUCCESS&&(os=!1)}os&&this.options.chunksUploaded(ts,()=>{this._finished(ki,ss,null)})},this.options.parallelChunkUploads)for(let ns=0;ns<ts.upload.totalChunkCount;ns++)is();else is()}else{let ts=[];for(let rs=0;rs<ki.length;rs++)ts[rs]={name:this._getParamName(rs),data:Ri[rs],filename:ki[rs].upload.filename};this._uploadData(ki,ts)}})}_getChunk(ki,Ri){for(let ts=0;ts<ki.upload.totalChunkCount;ts++)if(ki.upload.chunks[ts]!==void 0&&ki.upload.chunks[ts].xhr===Ri)return ki.upload.chunks[ts]}_uploadData(ki,Ri){let ts=new XMLHttpRequest;for(let ls of ki)ls.xhr=ts;ki[0].upload.chunked&&(ki[0].upload.chunks[Ri[0].chunkIndex].xhr=ts);let rs=this.resolveOption(this.options.method,ki,Ri),is=this.resolveOption(this.options.url,ki,Ri);ts.open(rs,is,!0),this.resolveOption(this.options.timeout,ki)&&(ts.timeout=this.resolveOption(this.options.timeout,ki)),ts.withCredentials=!!this.options.withCredentials,ts.onload=ls=>{this._finishedUploading(ki,ts,ls)},ts.ontimeout=()=>{this._handleUploadError(ki,ts,`Request timedout after ${this.options.timeout/1e3} seconds`)},ts.onerror=()=>{this._handleUploadError(ki,ts)};let ss=ts.upload!=null?ts.upload:ts;ss.onprogress=ls=>this._updateFilesUploadProgress(ki,ts,ls);let os=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};this.options.binaryBody&&(os["Content-Type"]=ki[0].type),this.options.headers&&objectExtend(os,this.options.headers);for(let ls in os){let cs=os[ls];cs&&ts.setRequestHeader(ls,cs)}if(this.options.binaryBody){for(let ls of ki)this.emit("sending",ls,ts);this.options.uploadMultiple&&this.emit("sendingmultiple",ki,ts),this.submitRequest(ts,null,ki)}else{let ls=new FormData;if(this.options.params){let cs=this.options.params;typeof cs=="function"&&(cs=cs.call(this,ki,ts,ki[0].upload.chunked?this._getChunk(ki[0],ts):null));for(let hs in cs){let us=cs[hs];if(Array.isArray(us))for(let As=0;As<us.length;As++)ls.append(hs,us[As]);else ls.append(hs,us)}}for(let cs of ki)this.emit("sending",cs,ts,ls);this.options.uploadMultiple&&this.emit("sendingmultiple",ki,ts,ls),this._addFormElementData(ls);for(let cs=0;cs<Ri.length;cs++){let hs=Ri[cs];ls.append(hs.name,hs.data,hs.filename)}this.submitRequest(ts,ls,ki)}}_transformFiles(ki,Ri){let ts=[],rs=0;for(let is=0;is<ki.length;is++)this.options.transformFile.call(this,ki[is],ns=>{ts[is]=ns,++rs===ki.length&&Ri(ts)})}_addFormElementData(ki){if(this.element.tagName==="FORM")for(let Ri of this.element.querySelectorAll("input, textarea, select, button")){let ts=Ri.getAttribute("name"),rs=Ri.getAttribute("type");if(rs&&(rs=rs.toLowerCase()),!(typeof ts>"u"||ts===null))if(Ri.tagName==="SELECT"&&Ri.hasAttribute("multiple"))for(let is of Ri.options)is.selected&&ki.append(ts,is.value);else(!rs||rs!=="checkbox"&&rs!=="radio"||Ri.checked)&&ki.append(ts,Ri.value)}}_updateFilesUploadProgress(ki,Ri,ts){if(ki[0].upload.chunked){let rs=ki[0],is=this._getChunk(rs,Ri);ts?(is.progress=100*ts.loaded/ts.total,is.total=ts.total,is.bytesSent=ts.loaded):(is.progress=100,is.bytesSent=is.total),rs.upload.progress=0,rs.upload.total=0,rs.upload.bytesSent=0;for(let ns=0;ns<rs.upload.totalChunkCount;ns++)rs.upload.chunks[ns]&&typeof rs.upload.chunks[ns].progress<"u"&&(rs.upload.progress+=rs.upload.chunks[ns].progress,rs.upload.total+=rs.upload.chunks[ns].total,rs.upload.bytesSent+=rs.upload.chunks[ns].bytesSent);rs.upload.progress=rs.upload.progress/rs.upload.totalChunkCount,this.emit("uploadprogress",rs,rs.upload.progress,rs.upload.bytesSent)}else for(let rs of ki)rs.upload.total&&rs.upload.bytesSent&&rs.upload.bytesSent==rs.upload.total||(ts?(rs.upload.progress=100*ts.loaded/ts.total,rs.upload.total=ts.total,rs.upload.bytesSent=ts.loaded):(rs.upload.progress=100,rs.upload.bytesSent=rs.upload.total),this.emit("uploadprogress",rs,rs.upload.progress,rs.upload.bytesSent))}_finishedUploading(ki,Ri,ts){let rs;if(ki[0].status!==$3ed269f2f0fb224b$export$2e2bcd8739ae039.CANCELED&&Ri.readyState===4){if(Ri.responseType!=="arraybuffer"&&Ri.responseType!=="blob"&&(rs=Ri.responseText,Ri.getResponseHeader("content-type")&&~Ri.getResponseHeader("content-type").indexOf("application/json")))try{rs=JSON.parse(rs)}catch(is){ts=is,rs="Invalid JSON response from server."}this._updateFilesUploadProgress(ki,Ri),200<=Ri.status&&Ri.status<300?ki[0].upload.chunked?ki[0].upload.finishedChunkUpload(this._getChunk(ki[0],Ri),rs):this._finished(ki,rs,ts):this._handleUploadError(ki,Ri,rs)}}_handleUploadError(ki,Ri,ts){if(ki[0].status!==$3ed269f2f0fb224b$export$2e2bcd8739ae039.CANCELED){if(ki[0].upload.chunked&&this.options.retryChunks){let rs=this._getChunk(ki[0],Ri);if(rs.retries++<this.options.retryChunksLimit){this._uploadData(ki,[rs.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(ki,ts||this.options.dictResponseError.replace("{{statusCode}}",Ri.status),Ri)}}submitRequest(ki,Ri,ts){if(ki.readyState!=1){console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.");return}if(this.options.binaryBody)if(ts[0].upload.chunked){const rs=this._getChunk(ts[0],ki);ki.send(rs.dataBlock.data)}else ki.send(ts[0]);else ki.send(Ri)}_finished(ki,Ri,ts){for(let rs of ki)rs.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.SUCCESS,this.emit("success",rs,Ri,ts),this.emit("complete",rs);if(this.options.uploadMultiple&&(this.emit("successmultiple",ki,Ri,ts),this.emit("completemultiple",ki)),this.options.autoProcessQueue)return this.processQueue()}_errorProcessing(ki,Ri,ts){for(let rs of ki)rs.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.ERROR,this.emit("error",rs,Ri,ts),this.emit("complete",rs);if(this.options.uploadMultiple&&(this.emit("errormultiple",ki,Ri,ts),this.emit("completemultiple",ki)),this.options.autoProcessQueue)return this.processQueue()}static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ki){let Ri=Math.random()*16|0;return(ki==="x"?Ri:Ri&3|8).toString(16)})}constructor(ki,Ri){super();let ts,rs;if(this.element=ki,this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element)),!this.element||this.element.nodeType==null)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");$3ed269f2f0fb224b$export$2e2bcd8739ae039.instances.push(this),this.element.dropzone=this;let is=(rs=$3ed269f2f0fb224b$export$2e2bcd8739ae039.optionsForElement(this.element))!=null?rs:{};if(this.options=objectExtend(!0,{},$4ca367182776f80b$export$2e2bcd8739ae039,is,Ri??{}),this.options.previewTemplate=this.options.previewTemplate.replace(/\n*/g,""),this.options.forceFallback||!$3ed269f2f0fb224b$export$2e2bcd8739ae039.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(this.options.uploadMultiple&&this.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(this.options.binaryBody&&this.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.renameFilename!=null&&(this.options.renameFile=ns=>this.options.renameFilename.call(this,ns.name,ns)),typeof this.options.method=="string"&&(this.options.method=this.options.method.toUpperCase()),(ts=this.getExistingFallback())&&ts.parentNode&&ts.parentNode.removeChild(ts),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=$3ed269f2f0fb224b$export$2e2bcd8739ae039.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=$3ed269f2f0fb224b$export$2e2bcd8739ae039.getElements(this.options.clickable,"clickable")),this.init()}}$3ed269f2f0fb224b$export$2e2bcd8739ae039.initClass();$3ed269f2f0fb224b$export$2e2bcd8739ae039.options={};$3ed269f2f0fb224b$export$2e2bcd8739ae039.optionsForElement=function(es){if(es.getAttribute("id"))return $3ed269f2f0fb224b$export$2e2bcd8739ae039.options[$3ed269f2f0fb224b$var$camelize(es.getAttribute("id"))]};$3ed269f2f0fb224b$export$2e2bcd8739ae039.instances=[];$3ed269f2f0fb224b$export$2e2bcd8739ae039.forElement=function(es){if(typeof es=="string"&&(es=document.querySelector(es)),(es!=null?es.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return es.dropzone};$3ed269f2f0fb224b$export$2e2bcd8739ae039.discover=function(){let es;if(document.querySelectorAll)es=document.querySelectorAll(".dropzone");else{es=[];let ki=Ri=>(()=>{let ts=[];for(let rs of Ri)/(^| )dropzone($| )/.test(rs.className)?ts.push(es.push(rs)):ts.push(void 0);return ts})();ki(document.getElementsByTagName("div")),ki(document.getElementsByTagName("form"))}return(()=>{let ki=[];for(let Ri of es)$3ed269f2f0fb224b$export$2e2bcd8739ae039.optionsForElement(Ri)!==!1?ki.push(new $3ed269f2f0fb224b$export$2e2bcd8739ae039(Ri)):ki.push(void 0);return ki})()};$3ed269f2f0fb224b$export$2e2bcd8739ae039.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];$3ed269f2f0fb224b$export$2e2bcd8739ae039.isBrowserSupported=function(){let es=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))es=!1;else{$3ed269f2f0fb224b$export$2e2bcd8739ae039.blacklistedBrowsers!==void 0&&($3ed269f2f0fb224b$export$2e2bcd8739ae039.blockedBrowsers=$3ed269f2f0fb224b$export$2e2bcd8739ae039.blacklistedBrowsers);for(let ki of $3ed269f2f0fb224b$export$2e2bcd8739ae039.blockedBrowsers)if(ki.test(navigator.userAgent)){es=!1;continue}}else es=!1;return es};$3ed269f2f0fb224b$export$2e2bcd8739ae039.dataURItoBlob=function(es){let ki=atob(es.split(",")[1]),Ri=es.split(",")[0].split(":")[1].split(";")[0],ts=new ArrayBuffer(ki.length),rs=new Uint8Array(ts);for(let is=0,ns=ki.length,ss=0<=ns;ss?is<=ns:is>=ns;ss?is++:is--)rs[is]=ki.charCodeAt(is);return new Blob([ts],{type:Ri})};const $3ed269f2f0fb224b$var$without=(es,ki)=>es.filter(Ri=>Ri!==ki).map(Ri=>Ri),$3ed269f2f0fb224b$var$camelize=es=>es.replace(/[\-_](\w)/g,ki=>ki.charAt(1).toUpperCase());$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement=function(es){let ki=document.createElement("div");return ki.innerHTML=es,ki.childNodes[0]};$3ed269f2f0fb224b$export$2e2bcd8739ae039.elementInside=function(es,ki){if(es===ki)return!0;for(;es=es.parentNode;)if(es===ki)return!0;return!1};$3ed269f2f0fb224b$export$2e2bcd8739ae039.getElement=function(es,ki){let Ri;if(typeof es=="string"?Ri=document.querySelector(es):es.nodeType!=null&&(Ri=es),Ri==null)throw new Error(`Invalid \`${ki}\` option provided. Please provide a CSS selector or a plain HTML element.`);return Ri};$3ed269f2f0fb224b$export$2e2bcd8739ae039.getElements=function(es,ki){let Ri,ts;if(es instanceof Array){ts=[];try{for(Ri of es)ts.push(this.getElement(Ri,ki))}catch{ts=null}}else if(typeof es=="string"){ts=[];for(Ri of document.querySelectorAll(es))ts.push(Ri)}else es.nodeType!=null&&(ts=[es]);if(ts==null||!ts.length)throw new Error(`Invalid \`${ki}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return ts};$3ed269f2f0fb224b$export$2e2bcd8739ae039.confirm=function(es,ki,Ri){if(window.confirm(es))return ki();if(Ri!=null)return Ri()};$3ed269f2f0fb224b$export$2e2bcd8739ae039.isValidFile=function(es,ki){if(!ki)return!0;ki=ki.split(",");let Ri=es.type,ts=Ri.replace(/\/.*$/,"");for(let rs of ki)if(rs=rs.trim(),rs.charAt(0)==="."){if(es.name.toLowerCase().indexOf(rs.toLowerCase(),es.name.length-rs.length)!==-1)return!0}else if(/\/\*$/.test(rs)){if(ts===rs.replace(/\/.*$/,""))return!0}else if(Ri===rs)return!0;return!1};typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(es){return this.each(function(){return new $3ed269f2f0fb224b$export$2e2bcd8739ae039(this,es)})});$3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED="added";$3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED="queued";$3ed269f2f0fb224b$export$2e2bcd8739ae039.ACCEPTED=$3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED;$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING="uploading";$3ed269f2f0fb224b$export$2e2bcd8739ae039.PROCESSING=$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING;$3ed269f2f0fb224b$export$2e2bcd8739ae039.CANCELED="canceled";$3ed269f2f0fb224b$export$2e2bcd8739ae039.ERROR="error";$3ed269f2f0fb224b$export$2e2bcd8739ae039.SUCCESS="success";let $3ed269f2f0fb224b$var$detectVerticalSquash=function(es){es.naturalWidth;let ki=es.naturalHeight,Ri=document.createElement("canvas");Ri.width=1,Ri.height=ki;let ts=Ri.getContext("2d");ts.drawImage(es,0,0);let{data:rs}=ts.getImageData(1,0,1,ki),is=0,ns=ki,ss=ki;for(;ss>is;)rs[(ss-1)*4+3]===0?ns=ss:is=ss,ss=ns+is>>1;let os=ss/ki;return os===0?1:os};var $3ed269f2f0fb224b$var$drawImageIOSFix=function(es,ki,Ri,ts,rs,is,ns,ss,os,ls){let cs=$3ed269f2f0fb224b$var$detectVerticalSquash(ki);return es.drawImage(ki,Ri,ts,rs,is,ns,ss,os,ls/cs)};class $3ed269f2f0fb224b$var$ExifRestore{static initClass(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static encode64(ki){let Ri="",ts,rs,is="",ns,ss,os,ls="",cs=0;for(;ts=ki[cs++],rs=ki[cs++],is=ki[cs++],ns=ts>>2,ss=(ts&3)<<4|rs>>4,os=(rs&15)<<2|is>>6,ls=is&63,isNaN(rs)?os=ls=64:isNaN(is)&&(ls=64),Ri=Ri+this.KEY_STR.charAt(ns)+this.KEY_STR.charAt(ss)+this.KEY_STR.charAt(os)+this.KEY_STR.charAt(ls),ts=rs=is="",ns=ss=os=ls="",cs<ki.length;);return Ri}static restore(ki,Ri){if(!ki.match("data:image/jpeg;base64,"))return Ri;let ts=this.decode64(ki.replace("data:image/jpeg;base64,","")),rs=this.slice2Segments(ts),is=this.exifManipulation(Ri,rs);return`data:image/jpeg;base64,${this.encode64(is)}`}static exifManipulation(ki,Ri){let ts=this.getExifArray(Ri),rs=this.insertExif(ki,ts);return new Uint8Array(rs)}static getExifArray(ki){let Ri,ts=0;for(;ts<ki.length;){if(Ri=ki[ts],Ri[0]===255&Ri[1]===225)return Ri;ts++}return[]}static insertExif(ki,Ri){let ts=ki.replace("data:image/jpeg;base64,",""),rs=this.decode64(ts),is=rs.indexOf(255,3),ns=rs.slice(0,is),ss=rs.slice(is),os=ns;return os=os.concat(Ri),os=os.concat(ss),os}static slice2Segments(ki){let Ri=0,ts=[];for(;;){var rs;if(ki[Ri]===255&ki[Ri+1]===218)break;if(ki[Ri]===255&ki[Ri+1]===216)Ri+=2;else{rs=ki[Ri+2]*256+ki[Ri+3];let is=Ri+rs+2,ns=ki.slice(Ri,is);ts.push(ns),Ri=is}if(Ri>ki.length)break}return ts}static decode64(ki){let Ri,ts,rs="",is,ns,ss,os="",ls=0,cs=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(ki)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),ki=ki.replace(/[^A-Za-z0-9\+\/\=]/g,"");is=this.KEY_STR.indexOf(ki.charAt(ls++)),ns=this.KEY_STR.indexOf(ki.charAt(ls++)),ss=this.KEY_STR.indexOf(ki.charAt(ls++)),os=this.KEY_STR.indexOf(ki.charAt(ls++)),Ri=is<<2|ns>>4,ts=(ns&15)<<4|ss>>2,rs=(ss&3)<<6|os,cs.push(Ri),ss!==64&&cs.push(ts),os!==64&&cs.push(rs),Ri=ts=rs="",is=ns=ss=os="",ls<ki.length;);return cs}}$3ed269f2f0fb224b$var$ExifRestore.initClass();function $3ed269f2f0fb224b$var$__guard__(es,ki){return typeof es<"u"&&es!==null?ki(es):void 0}function $3ed269f2f0fb224b$var$__guardMethod__(es,ki,Ri){if(typeof es<"u"&&es!==null&&typeof es[ki]=="function")return Ri(es,ki)}class DropzoneController extends Controller{constructor(){super(...arguments);Ho(this,"remainingFiles",[]);Ho(this,"totalFiles",0);Ho(this,"processedFiles",0);Ho(this,"progressByFileUUID",{})}connect(){this.dropZoneConfig=JSON.parse(this.configValue),this.dropZoneConfig.initSort&&this.setSortable(),this.dropZone=this.createDropZone(),this.hideFileInput(),this.bindEvents(),this.previewElement&&this.previewElement.querySelector(".avatar-dropzone")&&this.hideAvatarUpload()}setSortable(){let Ri=findElement$1(this.element,"#dropzone-sortable-list"),rs=HSCore.components.HSSortable.collection.find(is=>is.$el===Ri);rs||(HSCore.components.HSSortable.init(Ri),rs=HSCore.components.HSSortable.collection.find(is=>is.$el===Ri)),this.sortable=rs.$initializedEl}triggerInput(){var Ri,ts;(ts=(Ri=this.dropZone)==null?void 0:Ri.element)==null||ts.click()}removeEffectFromPreviousUpload(){let Ri=findElement$1(this.element,`.${this.disableClassValue}`);Ri&&Ri.classList.remove(this.disableClassValue),this.dropZone.options.maxFiles++,this.emitFileRemovedEvent(),this.dispatch("file-removed"),this.showAvatarUpload()}deleteWithTurboRequest(Ri){Ri.preventDefault();let ts=Ri.currentTarget.getAttribute("href");destroy(ts,{responseKind:"turbo-stream"}),this.showAvatarUpload()}emitFileRemovedEvent(){emit("dropzone-removedfile",{fileHiddenInputName:this.fileHiddenInputNameValue})}hideFileInput(){this.inputTarget.disabled=!0,this.inputTarget.style.display="none"}trainingUploadFileAdded(Ri){Ri.status==$3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED&&(this.totalFiles+=1,createDirectUploadController(this,Ri).trainingDirectUploadStart())}voiceTrainingUploadFileAdded(Ri){Ri.status==$3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED&&(this.totalFiles+=1,createDirectUploadController(this,Ri).voiceTrainingDirectUploadStart())}bindEvents(){this.isModelTrainingValue?this.dropZone.on("addedfile",Ri=>{setTimeout(()=>{this.trainingUploadFileAdded(Ri)},500)}):this.isVoiceTrainingValue?this.dropZone.on("addedfile",Ri=>{setTimeout(()=>{this.voiceTrainingUploadFileAdded(Ri)},500)}):this.dropZone.on("addedfile",Ri=>{this.submitButton&&(this.submitButton.disabled=!0),this.onFileAdded(Ri),this.dispatch("file-added",{detail:{enable:!1}}),setTimeout(()=>{Ri.status==$3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED&&createDirectUploadController(this,Ri).start()},500),emit("dropzone-addedfile",{fileHiddenInputName:this.fileHiddenInputNameValue})}),this.dropZone.on("removedfile",Ri=>{Ri.controller&&removeElement(Ri.controller.hiddenInput),this.emitFileRemovedEvent(),this.dispatch("file-removed"),this.showAvatarUpload()}),this.dropZone.on("error",(Ri,ts)=>{showToast("danger",`${ts} ${Ri.name}`);let rs=findElement$1(Ri.previewTemplate,"[data-dz-errormessage]");rs&&rs.classList.add("text-danger")}),this.dropZone.on("canceled",Ri=>{Ri.controller&&Ri.controller.xhr.abort()}),this.dropZone.on("processing",()=>{this.submitButton&&(this.submitButton.disabled=!0)}),this.dropZone.on("queuecomplete",()=>{this.dispatch("addedfiles",{detail:{enable:!0}}),this.dropZone.getRejectedFiles().forEach(ts=>{this.dropZone.removeFile(ts)})}),this.dropZone.on("complete",Ri=>{if(this.updateImageOnFinishValue){let ts=window.location.pathname;if(ts.includes("/introduction"))return this.onClipImageSourceUploaded(Ri,ts);post("/ai/image/update_init_image_preview",{query:{signed_id:Ri.controller.hiddenInput.value,aspect_ratio:this.getDesiredImageAspectRatio()},responseKind:"turbo-stream"})}if(this.portraitImageUploadedValue&&post("/ai/video/portrait_image_uploaded",{query:{signed_id:Ri.controller.hiddenInput.value,aspect_ratio:this.getDesiredImageAspectRatio()||"0"},responseKind:"turbo-stream"}),this.portraitAudioUploadedValue&&(post("/ai/video/portrait_audio_uploaded",{query:{signed_id:Ri.controller.hiddenInput.value},responseKind:"turbo-stream"}),this.dispatch("voiceUploaded")),this.speechAudioUploadedValue&&(post("/ai/audio/speech_audio_uploaded",{query:{signed_id:Ri.controller.hiddenInput.value},responseKind:"turbo-stream"}),this.dispatch("speechAudioUploaded")),this.remainingFiles=lodashExports.without(this.remainingFiles,Ri),this.submitButton&&(this.submitButton.disabled=this.remainingFiles.length>0),this.isClipdropBackgroundRemovalValue&&this.remainingFiles.length==0){let ts=[];Array.from(document.querySelectorAll('[name="image[init_image][signed_id][]"]')).forEach(rs=>ts.push(rs.value)),this.submitToClipdropImageSourceUpload({signed_ids:ts,category:"remove_background"})}})}getDesiredImageAspectRatio(){var Ri,ts;return(ts=(Ri=document.querySelector('[name="image[settings][aspect_ratio]"] option[selected]'))==null?void 0:Ri.dataset)==null?void 0:ts.ratioValue}createDropZone(){let Ri=findElement$1(this.element,"#dropzone_template");Ri.id="";let ts=Ri.parentNode.innerHTML;return Ri.parentNode.removeChild(Ri),new $3ed269f2f0fb224b$export$2e2bcd8739ae039(findElement$1(this.element,".dropzone"),{url:this.url,headers:this.headers,maxFiles:this.dropZoneConfig.maxFiles,uploadMultiple:this.dropZoneConfig.uploadMultiple,maxFilesize:this.dropZoneConfig.maxFileSize,acceptedFiles:this.acceptedFiles,addRemoveLinks:!1,autoQueue:!1,previewTemplate:ts,previewsContainer:findElement$1(this.element,".dropzone-previews")})}get previewElement(){return this.dropZone.options.previewsContainer}onFileAdded(Ri){this.remainingFiles.push(Ri),this.hideAvatarUpload();let ts=findElement$1(Ri.previewTemplate,".dz-name-input");ts&&(ts.setAttribute("value",Ri.name),ts.setAttribute("disabled",""));let rs=lodashExports.last(Ri.upload.filename.toLowerCase().split("."));rs.length||(rs=lodashExports.last(Ri.type.split("/"))),findElement$1(Ri.previewTemplate,"[data-dz-thumbnail]").src=`/mimetypes/${rs}.png`}get headers(){return{"X-CSRF-Token":getMetaValue$1("csrf-token")}}get url(){return this.inputTarget.getAttribute("data-direct-upload-url")}get acceptedFiles(){return getAcceptedFilesFromFeature(this.dropZoneConfig.acceptedFilesFeature)}isFileTypeAccepted(Ri){return lodashExports.includes(this.acceptedFiles.split(","),Ri)}get form(){return this.element.closest("form")}get submitButton(){return findElement$1(this.form,"input[type=submit], button[type=submit]")||document.getElementById("update-organization-button")}onClipImageSourceUploaded(Ri,ts){const rs=["reimagine","replace_background","sketch_to_img","remove_background","dreamscale"],is=ts.split("/").filter(ns=>rs.includes(ns))[0];is&&this.submitToClipdropImageSourceUpload({signed_id:Ri.controller.hiddenInput.value,category:is,aspect_ratio:this.getDesiredImageAspectRatio()})}submitToClipdropImageSourceUpload(Ri){post("/ai/image/source_image_uploaded",{body:Ri}).then(ts=>{ts.json.then(rs=>{rs.redirect_path&&(window.location.href=rs.redirect_path)})})}showAvatarUpload(){this.element.firstElementChild.classList.contains("avatar-dropzone")&&this.element.firstElementChild.classList.remove("d-none")}hideAvatarUpload(){this.element.firstElementChild.classList.contains("avatar-dropzone")&&this.element.firstElementChild.classList.add("d-none")}submitToModelTrainingImageSourceUpload(Ri){return post("/ai/image/mixer_images_uploaded",{body:Ri,responseKind:"turbo-stream"})}submitToVoiceTrainingImageSourceUpload(Ri){return post("/ai/audio/voice_samples_uploaded",{body:Ri,responseKind:"turbo-stream"})}visualProgressRefresh(Ri){let ts=lodashExports.round(lodashExports.mean(Object.values(this.progressByFileUUID)),1).toFixed(1),rs=findElement$1(Ri.previewTemplate,".upload-progress"),is=rs.innerText.match(/(\d+.\d)/),ns=is?is[0]:0;rs&&Number(ns)<ts&&(rs.innerText=`Uploading ${ts}%`)}updateFilesProgress(Ri,ts){let rs=Ri.upload.uuid;this.progressByFileUUID[rs]=ts,this.visualProgressRefresh(Ri)}}Ho(DropzoneController,"targets",["input"]),Ho(DropzoneController,"values",{config:String,uploadIndex:Number,fileHiddenInputName:String,disableClass:String,updateImageOnFinish:Boolean,portraitAudioUploaded:Boolean,portraitImageUploaded:Boolean,isClipdropBackgroundRemoval:Boolean,isModelTraining:Boolean,isVoiceTraining:Boolean,speechAudioUploaded:Boolean});class DirectUploadControllerDropZone{constructor(ki,Ri){let ts=ki.url;ki.url.includes("service")||(Ri.type.includes("image")||Ri.type.includes("video")?ts=ki.url.concat("?service=amazon_s3_imgix"):ts=ki.url.concat("?service=amazon_s3_private")),this.directUpload=createDirectUpload(Ri,ts,this),this.source=ki,this.file=Ri}trainingDirectUploadStart(){var Ri;const ki=((Ri=document.getElementById("mixer_id"))==null?void 0:Ri.value)||"";this.directUpload.create((ts,rs)=>{var is,ns,ss,os;if(ts)return this.emitDropzoneError(ts);if(post("/ai/image/uploads/model_training/attach_and_resize",{body:{upload:{signed_id:rs.signed_id,mixer_id:ki}},responseKind:"turbo-stream"}),this.source.processedFiles+=1,this.source.processedFiles==this.source.totalFiles){const ls=((is=document.getElementById("mixer_mode"))==null?void 0:is.value)||"",cs=((ns=document.querySelector('[name="ai_mixer[name]"]'))==null?void 0:ns.value)||"",hs=((ss=document.querySelector('[name="ai_mixer[object_prompt]"]'))==null?void 0:ss.value)||"",us=((os=document.getElementById("mixer_id"))==null?void 0:os.value)||"";setTimeout(()=>{this.source.submitToModelTrainingImageSourceUpload({mixer_name:cs,mixer_mode:ls,mixer_id:us,mixer_object_prompt:hs})},300)}})}voiceTrainingDirectUploadStart(){var Ri;const ki=((Ri=document.getElementById("voice_id"))==null?void 0:Ri.value)||"";this.directUpload.create((ts,rs)=>{var is;if(ts)return this.emitDropzoneError(ts);if(post("/ai/audio/uploads/voice_training/attach_file",{body:{upload:{signed_id:rs.signed_id,voice_id:ki}},responseKind:"turbo-stream"}),this.source.processedFiles+=1,this.source.processedFiles==this.source.totalFiles){const ns=((is=document.getElementById("voice_id"))==null?void 0:is.value)||"";setTimeout(()=>{this.source.submitToVoiceTrainingImageSourceUpload({voice_id:ns})},300)}})}start(){this.file.controller=this,this.directUpload.create((ki,Ri)=>{ki?this.emitDropzoneError(ki):(this.hiddenInput=this.createHiddenInput(Ri.signed_id),this.emitDropzoneSuccess())})}createHiddenInput(ki){const Ri=document.createElement("input");if(Ri.type="hidden",this.source.fileHiddenInputNameValue.includes("UPLOAD_INDEX")?Ri.name=this.source.fileHiddenInputNameValue.replace(/UPLOAD_INDEX/,this.source.uploadIndexValue):Ri.name=this.source.fileHiddenInputNameValue,Ri.value=ki,this.source.uploadIndexValue>=0){let ts=this.file.previewElement.querySelector('[data-controller="dropdown"]');if(ts){let rs=ts.getAttribute("data-dropdown-hidden-input-targeting-value");rs.includes("UPLOAD_INDEX")&&ts.setAttribute("data-dropdown-hidden-input-targeting-value",rs.replace(/UPLOAD_INDEX/,this.source.uploadIndexValue));let is=ts.parentElement.querySelectorAll('input[type="hidden"]');if(is&&is.length)for(let ns of is)ns.name.includes("UPLOAD_INDEX")&&(ns.name=ns.name.replace(/UPLOAD_INDEX/,this.source.uploadIndexValue)),ns.id.includes("UPLOAD_INDEX")&&(ns.id=ns.id.replace(/UPLOAD_INDEX/,this.source.uploadIndexValue))}insertAfter(Ri,this.file.previewTemplate.firstChild),this.source.uploadIndexValue++}return Ri}directUploadWillStoreFileWithXHR(ki){this.bindProgressEvent(ki),this.emitDropzoneUploading()}bindProgressEvent(ki){this.xhr=ki,this.xhr.upload.addEventListener("progress",Ri=>this.uploadRequestDidProgress(Ri))}uploadRequestDidProgress(ki){const Ri=Math.floor(ki.loaded/ki.total*100);if(this.source.isModelTrainingValue)return this.source.updateFilesProgress(this.file,Ri);let ts=findElement$1(this.file.previewTemplate,".dz-upload-percentage");ts&&(ts.innerText=`Uploading ${Ri}%`)}emitDropzoneUploading(){this.file.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING,this.source.dropZone.emit("processing",this.file)}emitDropzoneError(ki){this.file.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.ERROR,this.source.dropZone.emit("error",this.file,ki),this.source.dropZone.emit("complete",this.file)}emitDropzoneSuccess(){this.file.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.SUCCESS,this.source.dropZone.emit("success",this.file),this.source.dropZone.emit("complete",this.file);let ki=this.file.previewTemplate.querySelectorAll(".dz-show-on-success");for(let rs of ki)rs.removeAttribute("hidden");let Ri=this.file.previewTemplate.querySelectorAll(".dz-hide-on-success");for(let rs of Ri)rs.setAttribute("hidden","");let ts=findElement$1(this.file.previewTemplate,".dz-name-input");ts&&ts.removeAttribute("disabled")}}function createDirectUploadController(es,ki){return new DirectUploadControllerDropZone(es,ki)}function createDirectUpload(es,ki,Ri){return new DirectUpload$1(es,ki,Ri)}class ElClickerController extends Controller{clickEl(){this.hasFormIdValue&&this.hasPathValue&&findElement$1(this.formIdValue).setAttribute("action",this.pathValue);let ki=findElement$1(this.selectorValue);ki&&ki.click()}}Ho(ElClickerController,"values",{selector:String,path:String,formId:String});class EnableButtonWhenCheckboxCheckedController extends Controller{validate(){this.checkboxTarget.checked?this.buttonTarget.removeAttribute("disabled"):this.buttonTarget.setAttribute("disabled","disabled")}}Ho(EnableButtonWhenCheckboxCheckedController,"targets",["checkbox","button"]);var rfdc_1=rfdc;function copyBuffer(es){return es instanceof Buffer?Buffer.from(es):new es.constructor(es.buffer.slice(),es.byteOffset,es.length)}function rfdc(es){if(es=es||{},es.circles)return rfdcCircles(es);const ki=new Map;if(ki.set(Date,ns=>new Date(ns)),ki.set(Map,(ns,ss)=>new Map(ts(Array.from(ns),ss))),ki.set(Set,(ns,ss)=>new Set(ts(Array.from(ns),ss))),es.constructorHandlers)for(const ns of es.constructorHandlers)ki.set(ns[0],ns[1]);let Ri=null;return es.proto?is:rs;function ts(ns,ss){const os=Object.keys(ns),ls=new Array(os.length);for(let cs=0;cs<os.length;cs++){const hs=os[cs],us=ns[hs];typeof us!="object"||us===null?ls[hs]=us:us.constructor!==Object&&(Ri=ki.get(us.constructor))?ls[hs]=Ri(us,ss):ArrayBuffer.isView(us)?ls[hs]=copyBuffer(us):ls[hs]=ss(us)}return ls}function rs(ns){if(typeof ns!="object"||ns===null)return ns;if(Array.isArray(ns))return ts(ns,rs);if(ns.constructor!==Object&&(Ri=ki.get(ns.constructor)))return Ri(ns,rs);const ss={};for(const os in ns){if(Object.hasOwnProperty.call(ns,os)===!1)continue;const ls=ns[os];typeof ls!="object"||ls===null?ss[os]=ls:ls.constructor!==Object&&(Ri=ki.get(ls.constructor))?ss[os]=Ri(ls,rs):ArrayBuffer.isView(ls)?ss[os]=copyBuffer(ls):ss[os]=rs(ls)}return ss}function is(ns){if(typeof ns!="object"||ns===null)return ns;if(Array.isArray(ns))return ts(ns,is);if(ns.constructor!==Object&&(Ri=ki.get(ns.constructor)))return Ri(ns,is);const ss={};for(const os in ns){const ls=ns[os];typeof ls!="object"||ls===null?ss[os]=ls:ls.constructor!==Object&&(Ri=ki.get(ls.constructor))?ss[os]=Ri(ls,is):ArrayBuffer.isView(ls)?ss[os]=copyBuffer(ls):ss[os]=is(ls)}return ss}}function rfdcCircles(es){const ki=[],Ri=[],ts=new Map;if(ts.set(Date,os=>new Date(os)),ts.set(Map,(os,ls)=>new Map(is(Array.from(os),ls))),ts.set(Set,(os,ls)=>new Set(is(Array.from(os),ls))),es.constructorHandlers)for(const os of es.constructorHandlers)ts.set(os[0],os[1]);let rs=null;return es.proto?ss:ns;function is(os,ls){const cs=Object.keys(os),hs=new Array(cs.length);for(let us=0;us<cs.length;us++){const As=cs[us],bs=os[As];if(typeof bs!="object"||bs===null)hs[As]=bs;else if(bs.constructor!==Object&&(rs=ts.get(bs.constructor)))hs[As]=rs(bs,ls);else if(ArrayBuffer.isView(bs))hs[As]=copyBuffer(bs);else{const ys=ki.indexOf(bs);ys!==-1?hs[As]=Ri[ys]:hs[As]=ls(bs)}}return hs}function ns(os){if(typeof os!="object"||os===null)return os;if(Array.isArray(os))return is(os,ns);if(os.constructor!==Object&&(rs=ts.get(os.constructor)))return rs(os,ns);const ls={};ki.push(os),Ri.push(ls);for(const cs in os){if(Object.hasOwnProperty.call(os,cs)===!1)continue;const hs=os[cs];if(typeof hs!="object"||hs===null)ls[cs]=hs;else if(hs.constructor!==Object&&(rs=ts.get(hs.constructor)))ls[cs]=rs(hs,ns);else if(ArrayBuffer.isView(hs))ls[cs]=copyBuffer(hs);else{const us=ki.indexOf(hs);us!==-1?ls[cs]=Ri[us]:ls[cs]=ns(hs)}}return ki.pop(),Ri.pop(),ls}function ss(os){if(typeof os!="object"||os===null)return os;if(Array.isArray(os))return is(os,ss);if(os.constructor!==Object&&(rs=ts.get(os.constructor)))return rs(os,ss);const ls={};ki.push(os),Ri.push(ls);for(const cs in os){const hs=os[cs];if(typeof hs!="object"||hs===null)ls[cs]=hs;else if(hs.constructor!==Object&&(rs=ts.get(hs.constructor)))ls[cs]=rs(hs,ss);else if(ArrayBuffer.isView(hs))ls[cs]=copyBuffer(hs);else{const us=ki.indexOf(hs);us!==-1?ls[cs]=Ri[us]:ls[cs]=ss(hs)}}return ki.pop(),Ri.pop(),ls}}const I$1=getDefaultExportFromCjs(rfdc_1);/**
 * @name codsen-utils
 * @fileoverview Various utility functions
 * @version 1.6.4
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/codsen-utils/}
 */I$1();function u$1(es){if(es==null||typeof es!="object")return!1;let ki=Object.getPrototypeOf(es);return ki!==null&&ki!==Object.prototype&&Object.getPrototypeOf(ki)!==null?!1:!(Symbol.iterator in es)&&!(Symbol.toStringTag in es)}function r$1(es){return typeof es=="string"}function q$2(es){return Number.isSafeInteger(es)&&es>=0}function G$2(es){return es!=null}function v$1(es,ki){return u$1(es)&&r$1(ki)&&ki in es}var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$3=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root$3.Symbol,objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty,nativeObjectToString$1=objectProto$4.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(es){var ki=hasOwnProperty$3.call(es,symToStringTag$1),Ri=es[symToStringTag$1];try{es[symToStringTag$1]=void 0;var ts=!0}catch{}var rs=nativeObjectToString$1.call(es);return ts&&(ki?es[symToStringTag$1]=Ri:delete es[symToStringTag$1]),rs}var objectProto$3=Object.prototype,nativeObjectToString=objectProto$3.toString;function objectToString(es){return nativeObjectToString.call(es)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(es){return es==null?es===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(es)?getRawTag(es):objectToString(es)}function isObjectLike(es){return es!=null&&typeof es=="object"}var symbolTag="[object Symbol]";function isSymbol(es){return typeof es=="symbol"||isObjectLike(es)&&baseGetTag(es)==symbolTag}function arrayMap(es,ki){for(var Ri=-1,ts=es==null?0:es.length,rs=Array(ts);++Ri<ts;)rs[Ri]=ki(es[Ri],Ri,es);return rs}var isArray=Array.isArray,INFINITY=1/0,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(es){if(typeof es=="string")return es;if(isArray(es))return arrayMap(es,baseToString)+"";if(isSymbol(es))return symbolToString?symbolToString.call(es):"";var ki=es+"";return ki=="0"&&1/es==-INFINITY?"-0":ki}var reWhitespace=/\s/;function trimmedEndIndex(es){for(var ki=es.length;ki--&&reWhitespace.test(es.charAt(ki)););return ki}var reTrimStart=/^\s+/;function baseTrim(es){return es&&es.slice(0,trimmedEndIndex(es)+1).replace(reTrimStart,"")}function isObject(es){var ki=typeof es;return es!=null&&(ki=="object"||ki=="function")}function identity(es){return es}var asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(es){if(!isObject(es))return!1;var ki=baseGetTag(es);return ki==funcTag||ki==genTag||ki==asyncTag||ki==proxyTag}var coreJsData=root$3["__core-js_shared__"],maskSrcKey=function(){var es=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return es?"Symbol(src)_1."+es:""}();function isMasked(es){return!!maskSrcKey&&maskSrcKey in es}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(es){if(es!=null){try{return funcToString$1.call(es)}catch{}try{return es+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$2=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$2=objectProto$2.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$2).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(es){if(!isObject(es)||isMasked(es))return!1;var ki=isFunction(es)?reIsNative:reIsHostCtor;return ki.test(toSource(es))}function getValue(es,ki){return es==null?void 0:es[ki]}function getNative(es,ki){var Ri=getValue(es,ki);return baseIsNative(Ri)?Ri:void 0}function apply(es,ki,Ri){switch(Ri.length){case 0:return es.call(ki);case 1:return es.call(ki,Ri[0]);case 2:return es.call(ki,Ri[0],Ri[1]);case 3:return es.call(ki,Ri[0],Ri[1],Ri[2])}return es.apply(ki,Ri)}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(es){var ki=0,Ri=0;return function(){var ts=nativeNow(),rs=HOT_SPAN-(ts-Ri);if(Ri=ts,rs>0){if(++ki>=HOT_COUNT)return arguments[0]}else ki=0;return es.apply(void 0,arguments)}}function constant(es){return function(){return es}}var defineProperty=function(){try{var es=getNative(Object,"defineProperty");return es({},"",{}),es}catch{}}(),baseSetToString=defineProperty?function(es,ki){return defineProperty(es,"toString",{configurable:!0,enumerable:!1,value:constant(ki),writable:!0})}:identity,setToString=shortOut(baseSetToString);function baseFindIndex(es,ki,Ri,ts){for(var rs=es.length,is=Ri+-1;++is<rs;)if(ki(es[is],is,es))return is;return-1}function baseIsNaN(es){return es!==es}function strictIndexOf(es,ki,Ri){for(var ts=Ri-1,rs=es.length;++ts<rs;)if(es[ts]===ki)return ts;return-1}function baseIndexOf(es,ki,Ri){return ki===ki?strictIndexOf(es,ki,Ri):baseFindIndex(es,baseIsNaN,Ri)}function arrayIncludes(es,ki){var Ri=es==null?0:es.length;return!!Ri&&baseIndexOf(es,ki,0)>-1}function eq(es,ki){return es===ki||es!==es&&ki!==ki}var nativeMax=Math.max;function overRest(es,ki,Ri){return ki=nativeMax(ki===void 0?es.length-1:ki,0),function(){for(var ts=arguments,rs=-1,is=nativeMax(ts.length-ki,0),ns=Array(is);++rs<is;)ns[rs]=ts[ki+rs];rs=-1;for(var ss=Array(ki+1);++rs<ki;)ss[rs]=ts[rs];return ss[ki]=Ri(ns),apply(es,this,ss)}}function baseRest(es,ki){return setToString(overRest(es,ki,identity),es+"")}var MAX_SAFE_INTEGER=9007199254740991;function isLength(es){return typeof es=="number"&&es>-1&&es%1==0&&es<=MAX_SAFE_INTEGER}function isArrayLike(es){return es!=null&&isLength(es.length)&&!isFunction(es)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(es){var ki=this.has(es)&&delete this.__data__[es];return this.size-=ki?1:0,ki}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function hashGet(es){var ki=this.__data__;if(nativeCreate){var Ri=ki[es];return Ri===HASH_UNDEFINED$2?void 0:Ri}return hasOwnProperty$1.call(ki,es)?ki[es]:void 0}var objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function hashHas(es){var ki=this.__data__;return nativeCreate?ki[es]!==void 0:hasOwnProperty.call(ki,es)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(es,ki){var Ri=this.__data__;return this.size+=this.has(es)?0:1,Ri[es]=nativeCreate&&ki===void 0?HASH_UNDEFINED$1:ki,this}function Hash(es){var ki=-1,Ri=es==null?0:es.length;for(this.clear();++ki<Ri;){var ts=es[ki];this.set(ts[0],ts[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(es,ki){for(var Ri=es.length;Ri--;)if(eq(es[Ri][0],ki))return Ri;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(es){var ki=this.__data__,Ri=assocIndexOf(ki,es);if(Ri<0)return!1;var ts=ki.length-1;return Ri==ts?ki.pop():splice.call(ki,Ri,1),--this.size,!0}function listCacheGet(es){var ki=this.__data__,Ri=assocIndexOf(ki,es);return Ri<0?void 0:ki[Ri][1]}function listCacheHas(es){return assocIndexOf(this.__data__,es)>-1}function listCacheSet(es,ki){var Ri=this.__data__,ts=assocIndexOf(Ri,es);return ts<0?(++this.size,Ri.push([es,ki])):Ri[ts][1]=ki,this}function ListCache(es){var ki=-1,Ri=es==null?0:es.length;for(this.clear();++ki<Ri;){var ts=es[ki];this.set(ts[0],ts[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$3,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(es){var ki=typeof es;return ki=="string"||ki=="number"||ki=="symbol"||ki=="boolean"?es!=="__proto__":es===null}function getMapData(es,ki){var Ri=es.__data__;return isKeyable(ki)?Ri[typeof ki=="string"?"string":"hash"]:Ri.map}function mapCacheDelete(es){var ki=getMapData(this,es).delete(es);return this.size-=ki?1:0,ki}function mapCacheGet(es){return getMapData(this,es).get(es)}function mapCacheHas(es){return getMapData(this,es).has(es)}function mapCacheSet(es,ki){var Ri=getMapData(this,es),ts=Ri.size;return Ri.set(es,ki),this.size+=Ri.size==ts?0:1,this}function MapCache(es){var ki=-1,Ri=es==null?0:es.length;for(this.clear();++ki<Ri;){var ts=es[ki];this.set(ts[0],ts[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function toString(es){return es==null?"":baseToString(es)}function baseSlice(es,ki,Ri){var ts=-1,rs=es.length;ki<0&&(ki=-ki>rs?0:rs+ki),Ri=Ri>rs?rs:Ri,Ri<0&&(Ri+=rs),rs=ki>Ri?0:Ri-ki>>>0,ki>>>=0;for(var is=Array(rs);++ts<rs;)is[ts]=es[ts+ki];return is}function castSlice(es,ki,Ri){var ts=es.length;return Ri=Ri===void 0?ts:Ri,!ki&&Ri>=ts?es:baseSlice(es,ki,Ri)}var rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode(es){return reHasUnicode.test(es)}function asciiToArray(es){return es.split("")}var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray(es){return es.match(reUnicode)||[]}function stringToArray(es){return hasUnicode(es)?unicodeToArray(es):asciiToArray(es)}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(es){return this.__data__.set(es,HASH_UNDEFINED),this}function setCacheHas(es){return this.__data__.has(es)}function SetCache(es){var ki=-1,Ri=es==null?0:es.length;for(this.__data__=new MapCache;++ki<Ri;)this.add(es[ki])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function cacheHas(es,ki){return es.has(ki)}function isArrayLikeObject(es){return isObjectLike(es)&&isArrayLike(es)}var LARGE_ARRAY_SIZE=200;function baseDifference(es,ki,Ri,ts){var rs=-1,is=arrayIncludes,ns=!0,ss=es.length,os=[],ls=ki.length;if(!ss)return os;ki.length>=LARGE_ARRAY_SIZE&&(is=cacheHas,ns=!1,ki=new SetCache(ki));e:for(;++rs<ss;){var cs=es[rs],hs=cs;if(cs=cs!==0?cs:0,ns&&hs===hs){for(var us=ls;us--;)if(ki[us]===hs)continue e;os.push(cs)}else is(ki,hs,ts)||os.push(cs)}return os}function charsEndIndex(es,ki){for(var Ri=es.length;Ri--&&baseIndexOf(ki,es[Ri],0)>-1;);return Ri}function charsStartIndex(es,ki){for(var Ri=-1,ts=es.length;++Ri<ts&&baseIndexOf(ki,es[Ri],0)>-1;);return Ri}function trim(es,ki,Ri){if(es=toString(es),es&&ki===void 0)return baseTrim(es);if(!es||!(ki=baseToString(ki)))return es;var ts=stringToArray(es),rs=stringToArray(ki),is=charsStartIndex(ts,rs),ns=charsEndIndex(ts,rs)+1;return castSlice(ts,is,ns).join("")}var without=baseRest(function(es,ki){return isArrayLikeObject(es)?baseDifference(es,ki):[]}),lib={},namedReferences={};Object.defineProperty(namedReferences,"__esModule",{value:!0});namedReferences.bodyRegExps={xml:/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g,html4:/&notin;|&(?:nbsp|iexcl|cent|pound|curren|yen|brvbar|sect|uml|copy|ordf|laquo|not|shy|reg|macr|deg|plusmn|sup2|sup3|acute|micro|para|middot|cedil|sup1|ordm|raquo|frac14|frac12|frac34|iquest|Agrave|Aacute|Acirc|Atilde|Auml|Aring|AElig|Ccedil|Egrave|Eacute|Ecirc|Euml|Igrave|Iacute|Icirc|Iuml|ETH|Ntilde|Ograve|Oacute|Ocirc|Otilde|Ouml|times|Oslash|Ugrave|Uacute|Ucirc|Uuml|Yacute|THORN|szlig|agrave|aacute|acirc|atilde|auml|aring|aelig|ccedil|egrave|eacute|ecirc|euml|igrave|iacute|icirc|iuml|eth|ntilde|ograve|oacute|ocirc|otilde|ouml|divide|oslash|ugrave|uacute|ucirc|uuml|yacute|thorn|yuml|quot|amp|lt|gt|#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g,html5:/&centerdot;|&copysr;|&divideontimes;|&gtcc;|&gtcir;|&gtdot;|&gtlPar;|&gtquest;|&gtrapprox;|&gtrarr;|&gtrdot;|&gtreqless;|&gtreqqless;|&gtrless;|&gtrsim;|&ltcc;|&ltcir;|&ltdot;|&lthree;|&ltimes;|&ltlarr;|&ltquest;|&ltrPar;|&ltri;|&ltrie;|&ltrif;|&notin;|&notinE;|&notindot;|&notinva;|&notinvb;|&notinvc;|&notni;|&notniva;|&notnivb;|&notnivc;|&parallel;|&timesb;|&timesbar;|&timesd;|&(?:AElig|AMP|Aacute|Acirc|Agrave|Aring|Atilde|Auml|COPY|Ccedil|ETH|Eacute|Ecirc|Egrave|Euml|GT|Iacute|Icirc|Igrave|Iuml|LT|Ntilde|Oacute|Ocirc|Ograve|Oslash|Otilde|Ouml|QUOT|REG|THORN|Uacute|Ucirc|Ugrave|Uuml|Yacute|aacute|acirc|acute|aelig|agrave|amp|aring|atilde|auml|brvbar|ccedil|cedil|cent|copy|curren|deg|divide|eacute|ecirc|egrave|eth|euml|frac12|frac14|frac34|gt|iacute|icirc|iexcl|igrave|iquest|iuml|laquo|lt|macr|micro|middot|nbsp|not|ntilde|oacute|ocirc|ograve|ordf|ordm|oslash|otilde|ouml|para|plusmn|pound|quot|raquo|reg|sect|shy|sup1|sup2|sup3|szlig|thorn|times|uacute|ucirc|ugrave|uml|uuml|yacute|yen|yuml|#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g};namedReferences.namedReferences={xml:{entities:{"&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&amp;":"&"},characters:{"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","&":"&amp;"}},html4:{entities:{"&apos;":"'","&nbsp":" ","&nbsp;":" ","&iexcl":"¡","&iexcl;":"¡","&cent":"¢","&cent;":"¢","&pound":"£","&pound;":"£","&curren":"¤","&curren;":"¤","&yen":"¥","&yen;":"¥","&brvbar":"¦","&brvbar;":"¦","&sect":"§","&sect;":"§","&uml":"¨","&uml;":"¨","&copy":"©","&copy;":"©","&ordf":"ª","&ordf;":"ª","&laquo":"«","&laquo;":"«","&not":"¬","&not;":"¬","&shy":"­","&shy;":"­","&reg":"®","&reg;":"®","&macr":"¯","&macr;":"¯","&deg":"°","&deg;":"°","&plusmn":"±","&plusmn;":"±","&sup2":"²","&sup2;":"²","&sup3":"³","&sup3;":"³","&acute":"´","&acute;":"´","&micro":"µ","&micro;":"µ","&para":"¶","&para;":"¶","&middot":"·","&middot;":"·","&cedil":"¸","&cedil;":"¸","&sup1":"¹","&sup1;":"¹","&ordm":"º","&ordm;":"º","&raquo":"»","&raquo;":"»","&frac14":"¼","&frac14;":"¼","&frac12":"½","&frac12;":"½","&frac34":"¾","&frac34;":"¾","&iquest":"¿","&iquest;":"¿","&Agrave":"À","&Agrave;":"À","&Aacute":"Á","&Aacute;":"Á","&Acirc":"Â","&Acirc;":"Â","&Atilde":"Ã","&Atilde;":"Ã","&Auml":"Ä","&Auml;":"Ä","&Aring":"Å","&Aring;":"Å","&AElig":"Æ","&AElig;":"Æ","&Ccedil":"Ç","&Ccedil;":"Ç","&Egrave":"È","&Egrave;":"È","&Eacute":"É","&Eacute;":"É","&Ecirc":"Ê","&Ecirc;":"Ê","&Euml":"Ë","&Euml;":"Ë","&Igrave":"Ì","&Igrave;":"Ì","&Iacute":"Í","&Iacute;":"Í","&Icirc":"Î","&Icirc;":"Î","&Iuml":"Ï","&Iuml;":"Ï","&ETH":"Ð","&ETH;":"Ð","&Ntilde":"Ñ","&Ntilde;":"Ñ","&Ograve":"Ò","&Ograve;":"Ò","&Oacute":"Ó","&Oacute;":"Ó","&Ocirc":"Ô","&Ocirc;":"Ô","&Otilde":"Õ","&Otilde;":"Õ","&Ouml":"Ö","&Ouml;":"Ö","&times":"×","&times;":"×","&Oslash":"Ø","&Oslash;":"Ø","&Ugrave":"Ù","&Ugrave;":"Ù","&Uacute":"Ú","&Uacute;":"Ú","&Ucirc":"Û","&Ucirc;":"Û","&Uuml":"Ü","&Uuml;":"Ü","&Yacute":"Ý","&Yacute;":"Ý","&THORN":"Þ","&THORN;":"Þ","&szlig":"ß","&szlig;":"ß","&agrave":"à","&agrave;":"à","&aacute":"á","&aacute;":"á","&acirc":"â","&acirc;":"â","&atilde":"ã","&atilde;":"ã","&auml":"ä","&auml;":"ä","&aring":"å","&aring;":"å","&aelig":"æ","&aelig;":"æ","&ccedil":"ç","&ccedil;":"ç","&egrave":"è","&egrave;":"è","&eacute":"é","&eacute;":"é","&ecirc":"ê","&ecirc;":"ê","&euml":"ë","&euml;":"ë","&igrave":"ì","&igrave;":"ì","&iacute":"í","&iacute;":"í","&icirc":"î","&icirc;":"î","&iuml":"ï","&iuml;":"ï","&eth":"ð","&eth;":"ð","&ntilde":"ñ","&ntilde;":"ñ","&ograve":"ò","&ograve;":"ò","&oacute":"ó","&oacute;":"ó","&ocirc":"ô","&ocirc;":"ô","&otilde":"õ","&otilde;":"õ","&ouml":"ö","&ouml;":"ö","&divide":"÷","&divide;":"÷","&oslash":"ø","&oslash;":"ø","&ugrave":"ù","&ugrave;":"ù","&uacute":"ú","&uacute;":"ú","&ucirc":"û","&ucirc;":"û","&uuml":"ü","&uuml;":"ü","&yacute":"ý","&yacute;":"ý","&thorn":"þ","&thorn;":"þ","&yuml":"ÿ","&yuml;":"ÿ","&quot":'"',"&quot;":'"',"&amp":"&","&amp;":"&","&lt":"<","&lt;":"<","&gt":">","&gt;":">","&OElig;":"Œ","&oelig;":"œ","&Scaron;":"Š","&scaron;":"š","&Yuml;":"Ÿ","&circ;":"ˆ","&tilde;":"˜","&ensp;":" ","&emsp;":" ","&thinsp;":" ","&zwnj;":"‌","&zwj;":"‍","&lrm;":"‎","&rlm;":"‏","&ndash;":"–","&mdash;":"—","&lsquo;":"‘","&rsquo;":"’","&sbquo;":"‚","&ldquo;":"“","&rdquo;":"”","&bdquo;":"„","&dagger;":"†","&Dagger;":"‡","&permil;":"‰","&lsaquo;":"‹","&rsaquo;":"›","&euro;":"€","&fnof;":"ƒ","&Alpha;":"Α","&Beta;":"Β","&Gamma;":"Γ","&Delta;":"Δ","&Epsilon;":"Ε","&Zeta;":"Ζ","&Eta;":"Η","&Theta;":"Θ","&Iota;":"Ι","&Kappa;":"Κ","&Lambda;":"Λ","&Mu;":"Μ","&Nu;":"Ν","&Xi;":"Ξ","&Omicron;":"Ο","&Pi;":"Π","&Rho;":"Ρ","&Sigma;":"Σ","&Tau;":"Τ","&Upsilon;":"Υ","&Phi;":"Φ","&Chi;":"Χ","&Psi;":"Ψ","&Omega;":"Ω","&alpha;":"α","&beta;":"β","&gamma;":"γ","&delta;":"δ","&epsilon;":"ε","&zeta;":"ζ","&eta;":"η","&theta;":"θ","&iota;":"ι","&kappa;":"κ","&lambda;":"λ","&mu;":"μ","&nu;":"ν","&xi;":"ξ","&omicron;":"ο","&pi;":"π","&rho;":"ρ","&sigmaf;":"ς","&sigma;":"σ","&tau;":"τ","&upsilon;":"υ","&phi;":"φ","&chi;":"χ","&psi;":"ψ","&omega;":"ω","&thetasym;":"ϑ","&upsih;":"ϒ","&piv;":"ϖ","&bull;":"•","&hellip;":"…","&prime;":"′","&Prime;":"″","&oline;":"‾","&frasl;":"⁄","&weierp;":"℘","&image;":"ℑ","&real;":"ℜ","&trade;":"™","&alefsym;":"ℵ","&larr;":"←","&uarr;":"↑","&rarr;":"→","&darr;":"↓","&harr;":"↔","&crarr;":"↵","&lArr;":"⇐","&uArr;":"⇑","&rArr;":"⇒","&dArr;":"⇓","&hArr;":"⇔","&forall;":"∀","&part;":"∂","&exist;":"∃","&empty;":"∅","&nabla;":"∇","&isin;":"∈","&notin;":"∉","&ni;":"∋","&prod;":"∏","&sum;":"∑","&minus;":"−","&lowast;":"∗","&radic;":"√","&prop;":"∝","&infin;":"∞","&ang;":"∠","&and;":"∧","&or;":"∨","&cap;":"∩","&cup;":"∪","&int;":"∫","&there4;":"∴","&sim;":"∼","&cong;":"≅","&asymp;":"≈","&ne;":"≠","&equiv;":"≡","&le;":"≤","&ge;":"≥","&sub;":"⊂","&sup;":"⊃","&nsub;":"⊄","&sube;":"⊆","&supe;":"⊇","&oplus;":"⊕","&otimes;":"⊗","&perp;":"⊥","&sdot;":"⋅","&lceil;":"⌈","&rceil;":"⌉","&lfloor;":"⌊","&rfloor;":"⌋","&lang;":"〈","&rang;":"〉","&loz;":"◊","&spades;":"♠","&clubs;":"♣","&hearts;":"♥","&diams;":"♦"},characters:{"'":"&apos;"," ":"&nbsp;","¡":"&iexcl;","¢":"&cent;","£":"&pound;","¤":"&curren;","¥":"&yen;","¦":"&brvbar;","§":"&sect;","¨":"&uml;","©":"&copy;",ª:"&ordf;","«":"&laquo;","¬":"&not;","­":"&shy;","®":"&reg;","¯":"&macr;","°":"&deg;","±":"&plusmn;","²":"&sup2;","³":"&sup3;","´":"&acute;",µ:"&micro;","¶":"&para;","·":"&middot;","¸":"&cedil;","¹":"&sup1;",º:"&ordm;","»":"&raquo;","¼":"&frac14;","½":"&frac12;","¾":"&frac34;","¿":"&iquest;",À:"&Agrave;",Á:"&Aacute;",Â:"&Acirc;",Ã:"&Atilde;",Ä:"&Auml;",Å:"&Aring;",Æ:"&AElig;",Ç:"&Ccedil;",È:"&Egrave;",É:"&Eacute;",Ê:"&Ecirc;",Ë:"&Euml;",Ì:"&Igrave;",Í:"&Iacute;",Î:"&Icirc;",Ï:"&Iuml;",Ð:"&ETH;",Ñ:"&Ntilde;",Ò:"&Ograve;",Ó:"&Oacute;",Ô:"&Ocirc;",Õ:"&Otilde;",Ö:"&Ouml;","×":"&times;",Ø:"&Oslash;",Ù:"&Ugrave;",Ú:"&Uacute;",Û:"&Ucirc;",Ü:"&Uuml;",Ý:"&Yacute;",Þ:"&THORN;",ß:"&szlig;",à:"&agrave;",á:"&aacute;",â:"&acirc;",ã:"&atilde;",ä:"&auml;",å:"&aring;",æ:"&aelig;",ç:"&ccedil;",è:"&egrave;",é:"&eacute;",ê:"&ecirc;",ë:"&euml;",ì:"&igrave;",í:"&iacute;",î:"&icirc;",ï:"&iuml;",ð:"&eth;",ñ:"&ntilde;",ò:"&ograve;",ó:"&oacute;",ô:"&ocirc;",õ:"&otilde;",ö:"&ouml;","÷":"&divide;",ø:"&oslash;",ù:"&ugrave;",ú:"&uacute;",û:"&ucirc;",ü:"&uuml;",ý:"&yacute;",þ:"&thorn;",ÿ:"&yuml;",'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;",Œ:"&OElig;",œ:"&oelig;",Š:"&Scaron;",š:"&scaron;",Ÿ:"&Yuml;","ˆ":"&circ;","˜":"&tilde;"," ":"&ensp;"," ":"&emsp;"," ":"&thinsp;","‌":"&zwnj;","‍":"&zwj;","‎":"&lrm;","‏":"&rlm;","–":"&ndash;","—":"&mdash;","‘":"&lsquo;","’":"&rsquo;","‚":"&sbquo;","“":"&ldquo;","”":"&rdquo;","„":"&bdquo;","†":"&dagger;","‡":"&Dagger;","‰":"&permil;","‹":"&lsaquo;","›":"&rsaquo;","€":"&euro;",ƒ:"&fnof;",Α:"&Alpha;",Β:"&Beta;",Γ:"&Gamma;",Δ:"&Delta;",Ε:"&Epsilon;",Ζ:"&Zeta;",Η:"&Eta;",Θ:"&Theta;",Ι:"&Iota;",Κ:"&Kappa;",Λ:"&Lambda;",Μ:"&Mu;",Ν:"&Nu;",Ξ:"&Xi;",Ο:"&Omicron;",Π:"&Pi;",Ρ:"&Rho;",Σ:"&Sigma;",Τ:"&Tau;",Υ:"&Upsilon;",Φ:"&Phi;",Χ:"&Chi;",Ψ:"&Psi;",Ω:"&Omega;",α:"&alpha;",β:"&beta;",γ:"&gamma;",δ:"&delta;",ε:"&epsilon;",ζ:"&zeta;",η:"&eta;",θ:"&theta;",ι:"&iota;",κ:"&kappa;",λ:"&lambda;",μ:"&mu;",ν:"&nu;",ξ:"&xi;",ο:"&omicron;",π:"&pi;",ρ:"&rho;",ς:"&sigmaf;",σ:"&sigma;",τ:"&tau;",υ:"&upsilon;",φ:"&phi;",χ:"&chi;",ψ:"&psi;",ω:"&omega;",ϑ:"&thetasym;",ϒ:"&upsih;",ϖ:"&piv;","•":"&bull;","…":"&hellip;","′":"&prime;","″":"&Prime;","‾":"&oline;","⁄":"&frasl;","℘":"&weierp;",ℑ:"&image;",ℜ:"&real;","™":"&trade;",ℵ:"&alefsym;","←":"&larr;","↑":"&uarr;","→":"&rarr;","↓":"&darr;","↔":"&harr;","↵":"&crarr;","⇐":"&lArr;","⇑":"&uArr;","⇒":"&rArr;","⇓":"&dArr;","⇔":"&hArr;","∀":"&forall;","∂":"&part;","∃":"&exist;","∅":"&empty;","∇":"&nabla;","∈":"&isin;","∉":"&notin;","∋":"&ni;","∏":"&prod;","∑":"&sum;","−":"&minus;","∗":"&lowast;","√":"&radic;","∝":"&prop;","∞":"&infin;","∠":"&ang;","∧":"&and;","∨":"&or;","∩":"&cap;","∪":"&cup;","∫":"&int;","∴":"&there4;","∼":"&sim;","≅":"&cong;","≈":"&asymp;","≠":"&ne;","≡":"&equiv;","≤":"&le;","≥":"&ge;","⊂":"&sub;","⊃":"&sup;","⊄":"&nsub;","⊆":"&sube;","⊇":"&supe;","⊕":"&oplus;","⊗":"&otimes;","⊥":"&perp;","⋅":"&sdot;","⌈":"&lceil;","⌉":"&rceil;","⌊":"&lfloor;","⌋":"&rfloor;","〈":"&lang;","〉":"&rang;","◊":"&loz;","♠":"&spades;","♣":"&clubs;","♥":"&hearts;","♦":"&diams;"}},html5:{entities:{"&AElig":"Æ","&AElig;":"Æ","&AMP":"&","&AMP;":"&","&Aacute":"Á","&Aacute;":"Á","&Abreve;":"Ă","&Acirc":"Â","&Acirc;":"Â","&Acy;":"А","&Afr;":"𝔄","&Agrave":"À","&Agrave;":"À","&Alpha;":"Α","&Amacr;":"Ā","&And;":"⩓","&Aogon;":"Ą","&Aopf;":"𝔸","&ApplyFunction;":"⁡","&Aring":"Å","&Aring;":"Å","&Ascr;":"𝒜","&Assign;":"≔","&Atilde":"Ã","&Atilde;":"Ã","&Auml":"Ä","&Auml;":"Ä","&Backslash;":"∖","&Barv;":"⫧","&Barwed;":"⌆","&Bcy;":"Б","&Because;":"∵","&Bernoullis;":"ℬ","&Beta;":"Β","&Bfr;":"𝔅","&Bopf;":"𝔹","&Breve;":"˘","&Bscr;":"ℬ","&Bumpeq;":"≎","&CHcy;":"Ч","&COPY":"©","&COPY;":"©","&Cacute;":"Ć","&Cap;":"⋒","&CapitalDifferentialD;":"ⅅ","&Cayleys;":"ℭ","&Ccaron;":"Č","&Ccedil":"Ç","&Ccedil;":"Ç","&Ccirc;":"Ĉ","&Cconint;":"∰","&Cdot;":"Ċ","&Cedilla;":"¸","&CenterDot;":"·","&Cfr;":"ℭ","&Chi;":"Χ","&CircleDot;":"⊙","&CircleMinus;":"⊖","&CirclePlus;":"⊕","&CircleTimes;":"⊗","&ClockwiseContourIntegral;":"∲","&CloseCurlyDoubleQuote;":"”","&CloseCurlyQuote;":"’","&Colon;":"∷","&Colone;":"⩴","&Congruent;":"≡","&Conint;":"∯","&ContourIntegral;":"∮","&Copf;":"ℂ","&Coproduct;":"∐","&CounterClockwiseContourIntegral;":"∳","&Cross;":"⨯","&Cscr;":"𝒞","&Cup;":"⋓","&CupCap;":"≍","&DD;":"ⅅ","&DDotrahd;":"⤑","&DJcy;":"Ђ","&DScy;":"Ѕ","&DZcy;":"Џ","&Dagger;":"‡","&Darr;":"↡","&Dashv;":"⫤","&Dcaron;":"Ď","&Dcy;":"Д","&Del;":"∇","&Delta;":"Δ","&Dfr;":"𝔇","&DiacriticalAcute;":"´","&DiacriticalDot;":"˙","&DiacriticalDoubleAcute;":"˝","&DiacriticalGrave;":"`","&DiacriticalTilde;":"˜","&Diamond;":"⋄","&DifferentialD;":"ⅆ","&Dopf;":"𝔻","&Dot;":"¨","&DotDot;":"⃜","&DotEqual;":"≐","&DoubleContourIntegral;":"∯","&DoubleDot;":"¨","&DoubleDownArrow;":"⇓","&DoubleLeftArrow;":"⇐","&DoubleLeftRightArrow;":"⇔","&DoubleLeftTee;":"⫤","&DoubleLongLeftArrow;":"⟸","&DoubleLongLeftRightArrow;":"⟺","&DoubleLongRightArrow;":"⟹","&DoubleRightArrow;":"⇒","&DoubleRightTee;":"⊨","&DoubleUpArrow;":"⇑","&DoubleUpDownArrow;":"⇕","&DoubleVerticalBar;":"∥","&DownArrow;":"↓","&DownArrowBar;":"⤓","&DownArrowUpArrow;":"⇵","&DownBreve;":"̑","&DownLeftRightVector;":"⥐","&DownLeftTeeVector;":"⥞","&DownLeftVector;":"↽","&DownLeftVectorBar;":"⥖","&DownRightTeeVector;":"⥟","&DownRightVector;":"⇁","&DownRightVectorBar;":"⥗","&DownTee;":"⊤","&DownTeeArrow;":"↧","&Downarrow;":"⇓","&Dscr;":"𝒟","&Dstrok;":"Đ","&ENG;":"Ŋ","&ETH":"Ð","&ETH;":"Ð","&Eacute":"É","&Eacute;":"É","&Ecaron;":"Ě","&Ecirc":"Ê","&Ecirc;":"Ê","&Ecy;":"Э","&Edot;":"Ė","&Efr;":"𝔈","&Egrave":"È","&Egrave;":"È","&Element;":"∈","&Emacr;":"Ē","&EmptySmallSquare;":"◻","&EmptyVerySmallSquare;":"▫","&Eogon;":"Ę","&Eopf;":"𝔼","&Epsilon;":"Ε","&Equal;":"⩵","&EqualTilde;":"≂","&Equilibrium;":"⇌","&Escr;":"ℰ","&Esim;":"⩳","&Eta;":"Η","&Euml":"Ë","&Euml;":"Ë","&Exists;":"∃","&ExponentialE;":"ⅇ","&Fcy;":"Ф","&Ffr;":"𝔉","&FilledSmallSquare;":"◼","&FilledVerySmallSquare;":"▪","&Fopf;":"𝔽","&ForAll;":"∀","&Fouriertrf;":"ℱ","&Fscr;":"ℱ","&GJcy;":"Ѓ","&GT":">","&GT;":">","&Gamma;":"Γ","&Gammad;":"Ϝ","&Gbreve;":"Ğ","&Gcedil;":"Ģ","&Gcirc;":"Ĝ","&Gcy;":"Г","&Gdot;":"Ġ","&Gfr;":"𝔊","&Gg;":"⋙","&Gopf;":"𝔾","&GreaterEqual;":"≥","&GreaterEqualLess;":"⋛","&GreaterFullEqual;":"≧","&GreaterGreater;":"⪢","&GreaterLess;":"≷","&GreaterSlantEqual;":"⩾","&GreaterTilde;":"≳","&Gscr;":"𝒢","&Gt;":"≫","&HARDcy;":"Ъ","&Hacek;":"ˇ","&Hat;":"^","&Hcirc;":"Ĥ","&Hfr;":"ℌ","&HilbertSpace;":"ℋ","&Hopf;":"ℍ","&HorizontalLine;":"─","&Hscr;":"ℋ","&Hstrok;":"Ħ","&HumpDownHump;":"≎","&HumpEqual;":"≏","&IEcy;":"Е","&IJlig;":"Ĳ","&IOcy;":"Ё","&Iacute":"Í","&Iacute;":"Í","&Icirc":"Î","&Icirc;":"Î","&Icy;":"И","&Idot;":"İ","&Ifr;":"ℑ","&Igrave":"Ì","&Igrave;":"Ì","&Im;":"ℑ","&Imacr;":"Ī","&ImaginaryI;":"ⅈ","&Implies;":"⇒","&Int;":"∬","&Integral;":"∫","&Intersection;":"⋂","&InvisibleComma;":"⁣","&InvisibleTimes;":"⁢","&Iogon;":"Į","&Iopf;":"𝕀","&Iota;":"Ι","&Iscr;":"ℐ","&Itilde;":"Ĩ","&Iukcy;":"І","&Iuml":"Ï","&Iuml;":"Ï","&Jcirc;":"Ĵ","&Jcy;":"Й","&Jfr;":"𝔍","&Jopf;":"𝕁","&Jscr;":"𝒥","&Jsercy;":"Ј","&Jukcy;":"Є","&KHcy;":"Х","&KJcy;":"Ќ","&Kappa;":"Κ","&Kcedil;":"Ķ","&Kcy;":"К","&Kfr;":"𝔎","&Kopf;":"𝕂","&Kscr;":"𝒦","&LJcy;":"Љ","&LT":"<","&LT;":"<","&Lacute;":"Ĺ","&Lambda;":"Λ","&Lang;":"⟪","&Laplacetrf;":"ℒ","&Larr;":"↞","&Lcaron;":"Ľ","&Lcedil;":"Ļ","&Lcy;":"Л","&LeftAngleBracket;":"⟨","&LeftArrow;":"←","&LeftArrowBar;":"⇤","&LeftArrowRightArrow;":"⇆","&LeftCeiling;":"⌈","&LeftDoubleBracket;":"⟦","&LeftDownTeeVector;":"⥡","&LeftDownVector;":"⇃","&LeftDownVectorBar;":"⥙","&LeftFloor;":"⌊","&LeftRightArrow;":"↔","&LeftRightVector;":"⥎","&LeftTee;":"⊣","&LeftTeeArrow;":"↤","&LeftTeeVector;":"⥚","&LeftTriangle;":"⊲","&LeftTriangleBar;":"⧏","&LeftTriangleEqual;":"⊴","&LeftUpDownVector;":"⥑","&LeftUpTeeVector;":"⥠","&LeftUpVector;":"↿","&LeftUpVectorBar;":"⥘","&LeftVector;":"↼","&LeftVectorBar;":"⥒","&Leftarrow;":"⇐","&Leftrightarrow;":"⇔","&LessEqualGreater;":"⋚","&LessFullEqual;":"≦","&LessGreater;":"≶","&LessLess;":"⪡","&LessSlantEqual;":"⩽","&LessTilde;":"≲","&Lfr;":"𝔏","&Ll;":"⋘","&Lleftarrow;":"⇚","&Lmidot;":"Ŀ","&LongLeftArrow;":"⟵","&LongLeftRightArrow;":"⟷","&LongRightArrow;":"⟶","&Longleftarrow;":"⟸","&Longleftrightarrow;":"⟺","&Longrightarrow;":"⟹","&Lopf;":"𝕃","&LowerLeftArrow;":"↙","&LowerRightArrow;":"↘","&Lscr;":"ℒ","&Lsh;":"↰","&Lstrok;":"Ł","&Lt;":"≪","&Map;":"⤅","&Mcy;":"М","&MediumSpace;":" ","&Mellintrf;":"ℳ","&Mfr;":"𝔐","&MinusPlus;":"∓","&Mopf;":"𝕄","&Mscr;":"ℳ","&Mu;":"Μ","&NJcy;":"Њ","&Nacute;":"Ń","&Ncaron;":"Ň","&Ncedil;":"Ņ","&Ncy;":"Н","&NegativeMediumSpace;":"​","&NegativeThickSpace;":"​","&NegativeThinSpace;":"​","&NegativeVeryThinSpace;":"​","&NestedGreaterGreater;":"≫","&NestedLessLess;":"≪","&NewLine;":`
`,"&Nfr;":"𝔑","&NoBreak;":"⁠","&NonBreakingSpace;":" ","&Nopf;":"ℕ","&Not;":"⫬","&NotCongruent;":"≢","&NotCupCap;":"≭","&NotDoubleVerticalBar;":"∦","&NotElement;":"∉","&NotEqual;":"≠","&NotEqualTilde;":"≂̸","&NotExists;":"∄","&NotGreater;":"≯","&NotGreaterEqual;":"≱","&NotGreaterFullEqual;":"≧̸","&NotGreaterGreater;":"≫̸","&NotGreaterLess;":"≹","&NotGreaterSlantEqual;":"⩾̸","&NotGreaterTilde;":"≵","&NotHumpDownHump;":"≎̸","&NotHumpEqual;":"≏̸","&NotLeftTriangle;":"⋪","&NotLeftTriangleBar;":"⧏̸","&NotLeftTriangleEqual;":"⋬","&NotLess;":"≮","&NotLessEqual;":"≰","&NotLessGreater;":"≸","&NotLessLess;":"≪̸","&NotLessSlantEqual;":"⩽̸","&NotLessTilde;":"≴","&NotNestedGreaterGreater;":"⪢̸","&NotNestedLessLess;":"⪡̸","&NotPrecedes;":"⊀","&NotPrecedesEqual;":"⪯̸","&NotPrecedesSlantEqual;":"⋠","&NotReverseElement;":"∌","&NotRightTriangle;":"⋫","&NotRightTriangleBar;":"⧐̸","&NotRightTriangleEqual;":"⋭","&NotSquareSubset;":"⊏̸","&NotSquareSubsetEqual;":"⋢","&NotSquareSuperset;":"⊐̸","&NotSquareSupersetEqual;":"⋣","&NotSubset;":"⊂⃒","&NotSubsetEqual;":"⊈","&NotSucceeds;":"⊁","&NotSucceedsEqual;":"⪰̸","&NotSucceedsSlantEqual;":"⋡","&NotSucceedsTilde;":"≿̸","&NotSuperset;":"⊃⃒","&NotSupersetEqual;":"⊉","&NotTilde;":"≁","&NotTildeEqual;":"≄","&NotTildeFullEqual;":"≇","&NotTildeTilde;":"≉","&NotVerticalBar;":"∤","&Nscr;":"𝒩","&Ntilde":"Ñ","&Ntilde;":"Ñ","&Nu;":"Ν","&OElig;":"Œ","&Oacute":"Ó","&Oacute;":"Ó","&Ocirc":"Ô","&Ocirc;":"Ô","&Ocy;":"О","&Odblac;":"Ő","&Ofr;":"𝔒","&Ograve":"Ò","&Ograve;":"Ò","&Omacr;":"Ō","&Omega;":"Ω","&Omicron;":"Ο","&Oopf;":"𝕆","&OpenCurlyDoubleQuote;":"“","&OpenCurlyQuote;":"‘","&Or;":"⩔","&Oscr;":"𝒪","&Oslash":"Ø","&Oslash;":"Ø","&Otilde":"Õ","&Otilde;":"Õ","&Otimes;":"⨷","&Ouml":"Ö","&Ouml;":"Ö","&OverBar;":"‾","&OverBrace;":"⏞","&OverBracket;":"⎴","&OverParenthesis;":"⏜","&PartialD;":"∂","&Pcy;":"П","&Pfr;":"𝔓","&Phi;":"Φ","&Pi;":"Π","&PlusMinus;":"±","&Poincareplane;":"ℌ","&Popf;":"ℙ","&Pr;":"⪻","&Precedes;":"≺","&PrecedesEqual;":"⪯","&PrecedesSlantEqual;":"≼","&PrecedesTilde;":"≾","&Prime;":"″","&Product;":"∏","&Proportion;":"∷","&Proportional;":"∝","&Pscr;":"𝒫","&Psi;":"Ψ","&QUOT":'"',"&QUOT;":'"',"&Qfr;":"𝔔","&Qopf;":"ℚ","&Qscr;":"𝒬","&RBarr;":"⤐","&REG":"®","&REG;":"®","&Racute;":"Ŕ","&Rang;":"⟫","&Rarr;":"↠","&Rarrtl;":"⤖","&Rcaron;":"Ř","&Rcedil;":"Ŗ","&Rcy;":"Р","&Re;":"ℜ","&ReverseElement;":"∋","&ReverseEquilibrium;":"⇋","&ReverseUpEquilibrium;":"⥯","&Rfr;":"ℜ","&Rho;":"Ρ","&RightAngleBracket;":"⟩","&RightArrow;":"→","&RightArrowBar;":"⇥","&RightArrowLeftArrow;":"⇄","&RightCeiling;":"⌉","&RightDoubleBracket;":"⟧","&RightDownTeeVector;":"⥝","&RightDownVector;":"⇂","&RightDownVectorBar;":"⥕","&RightFloor;":"⌋","&RightTee;":"⊢","&RightTeeArrow;":"↦","&RightTeeVector;":"⥛","&RightTriangle;":"⊳","&RightTriangleBar;":"⧐","&RightTriangleEqual;":"⊵","&RightUpDownVector;":"⥏","&RightUpTeeVector;":"⥜","&RightUpVector;":"↾","&RightUpVectorBar;":"⥔","&RightVector;":"⇀","&RightVectorBar;":"⥓","&Rightarrow;":"⇒","&Ropf;":"ℝ","&RoundImplies;":"⥰","&Rrightarrow;":"⇛","&Rscr;":"ℛ","&Rsh;":"↱","&RuleDelayed;":"⧴","&SHCHcy;":"Щ","&SHcy;":"Ш","&SOFTcy;":"Ь","&Sacute;":"Ś","&Sc;":"⪼","&Scaron;":"Š","&Scedil;":"Ş","&Scirc;":"Ŝ","&Scy;":"С","&Sfr;":"𝔖","&ShortDownArrow;":"↓","&ShortLeftArrow;":"←","&ShortRightArrow;":"→","&ShortUpArrow;":"↑","&Sigma;":"Σ","&SmallCircle;":"∘","&Sopf;":"𝕊","&Sqrt;":"√","&Square;":"□","&SquareIntersection;":"⊓","&SquareSubset;":"⊏","&SquareSubsetEqual;":"⊑","&SquareSuperset;":"⊐","&SquareSupersetEqual;":"⊒","&SquareUnion;":"⊔","&Sscr;":"𝒮","&Star;":"⋆","&Sub;":"⋐","&Subset;":"⋐","&SubsetEqual;":"⊆","&Succeeds;":"≻","&SucceedsEqual;":"⪰","&SucceedsSlantEqual;":"≽","&SucceedsTilde;":"≿","&SuchThat;":"∋","&Sum;":"∑","&Sup;":"⋑","&Superset;":"⊃","&SupersetEqual;":"⊇","&Supset;":"⋑","&THORN":"Þ","&THORN;":"Þ","&TRADE;":"™","&TSHcy;":"Ћ","&TScy;":"Ц","&Tab;":"	","&Tau;":"Τ","&Tcaron;":"Ť","&Tcedil;":"Ţ","&Tcy;":"Т","&Tfr;":"𝔗","&Therefore;":"∴","&Theta;":"Θ","&ThickSpace;":"  ","&ThinSpace;":" ","&Tilde;":"∼","&TildeEqual;":"≃","&TildeFullEqual;":"≅","&TildeTilde;":"≈","&Topf;":"𝕋","&TripleDot;":"⃛","&Tscr;":"𝒯","&Tstrok;":"Ŧ","&Uacute":"Ú","&Uacute;":"Ú","&Uarr;":"↟","&Uarrocir;":"⥉","&Ubrcy;":"Ў","&Ubreve;":"Ŭ","&Ucirc":"Û","&Ucirc;":"Û","&Ucy;":"У","&Udblac;":"Ű","&Ufr;":"𝔘","&Ugrave":"Ù","&Ugrave;":"Ù","&Umacr;":"Ū","&UnderBar;":"_","&UnderBrace;":"⏟","&UnderBracket;":"⎵","&UnderParenthesis;":"⏝","&Union;":"⋃","&UnionPlus;":"⊎","&Uogon;":"Ų","&Uopf;":"𝕌","&UpArrow;":"↑","&UpArrowBar;":"⤒","&UpArrowDownArrow;":"⇅","&UpDownArrow;":"↕","&UpEquilibrium;":"⥮","&UpTee;":"⊥","&UpTeeArrow;":"↥","&Uparrow;":"⇑","&Updownarrow;":"⇕","&UpperLeftArrow;":"↖","&UpperRightArrow;":"↗","&Upsi;":"ϒ","&Upsilon;":"Υ","&Uring;":"Ů","&Uscr;":"𝒰","&Utilde;":"Ũ","&Uuml":"Ü","&Uuml;":"Ü","&VDash;":"⊫","&Vbar;":"⫫","&Vcy;":"В","&Vdash;":"⊩","&Vdashl;":"⫦","&Vee;":"⋁","&Verbar;":"‖","&Vert;":"‖","&VerticalBar;":"∣","&VerticalLine;":"|","&VerticalSeparator;":"❘","&VerticalTilde;":"≀","&VeryThinSpace;":" ","&Vfr;":"𝔙","&Vopf;":"𝕍","&Vscr;":"𝒱","&Vvdash;":"⊪","&Wcirc;":"Ŵ","&Wedge;":"⋀","&Wfr;":"𝔚","&Wopf;":"𝕎","&Wscr;":"𝒲","&Xfr;":"𝔛","&Xi;":"Ξ","&Xopf;":"𝕏","&Xscr;":"𝒳","&YAcy;":"Я","&YIcy;":"Ї","&YUcy;":"Ю","&Yacute":"Ý","&Yacute;":"Ý","&Ycirc;":"Ŷ","&Ycy;":"Ы","&Yfr;":"𝔜","&Yopf;":"𝕐","&Yscr;":"𝒴","&Yuml;":"Ÿ","&ZHcy;":"Ж","&Zacute;":"Ź","&Zcaron;":"Ž","&Zcy;":"З","&Zdot;":"Ż","&ZeroWidthSpace;":"​","&Zeta;":"Ζ","&Zfr;":"ℨ","&Zopf;":"ℤ","&Zscr;":"𝒵","&aacute":"á","&aacute;":"á","&abreve;":"ă","&ac;":"∾","&acE;":"∾̳","&acd;":"∿","&acirc":"â","&acirc;":"â","&acute":"´","&acute;":"´","&acy;":"а","&aelig":"æ","&aelig;":"æ","&af;":"⁡","&afr;":"𝔞","&agrave":"à","&agrave;":"à","&alefsym;":"ℵ","&aleph;":"ℵ","&alpha;":"α","&amacr;":"ā","&amalg;":"⨿","&amp":"&","&amp;":"&","&and;":"∧","&andand;":"⩕","&andd;":"⩜","&andslope;":"⩘","&andv;":"⩚","&ang;":"∠","&ange;":"⦤","&angle;":"∠","&angmsd;":"∡","&angmsdaa;":"⦨","&angmsdab;":"⦩","&angmsdac;":"⦪","&angmsdad;":"⦫","&angmsdae;":"⦬","&angmsdaf;":"⦭","&angmsdag;":"⦮","&angmsdah;":"⦯","&angrt;":"∟","&angrtvb;":"⊾","&angrtvbd;":"⦝","&angsph;":"∢","&angst;":"Å","&angzarr;":"⍼","&aogon;":"ą","&aopf;":"𝕒","&ap;":"≈","&apE;":"⩰","&apacir;":"⩯","&ape;":"≊","&apid;":"≋","&apos;":"'","&approx;":"≈","&approxeq;":"≊","&aring":"å","&aring;":"å","&ascr;":"𝒶","&ast;":"*","&asymp;":"≈","&asympeq;":"≍","&atilde":"ã","&atilde;":"ã","&auml":"ä","&auml;":"ä","&awconint;":"∳","&awint;":"⨑","&bNot;":"⫭","&backcong;":"≌","&backepsilon;":"϶","&backprime;":"‵","&backsim;":"∽","&backsimeq;":"⋍","&barvee;":"⊽","&barwed;":"⌅","&barwedge;":"⌅","&bbrk;":"⎵","&bbrktbrk;":"⎶","&bcong;":"≌","&bcy;":"б","&bdquo;":"„","&becaus;":"∵","&because;":"∵","&bemptyv;":"⦰","&bepsi;":"϶","&bernou;":"ℬ","&beta;":"β","&beth;":"ℶ","&between;":"≬","&bfr;":"𝔟","&bigcap;":"⋂","&bigcirc;":"◯","&bigcup;":"⋃","&bigodot;":"⨀","&bigoplus;":"⨁","&bigotimes;":"⨂","&bigsqcup;":"⨆","&bigstar;":"★","&bigtriangledown;":"▽","&bigtriangleup;":"△","&biguplus;":"⨄","&bigvee;":"⋁","&bigwedge;":"⋀","&bkarow;":"⤍","&blacklozenge;":"⧫","&blacksquare;":"▪","&blacktriangle;":"▴","&blacktriangledown;":"▾","&blacktriangleleft;":"◂","&blacktriangleright;":"▸","&blank;":"␣","&blk12;":"▒","&blk14;":"░","&blk34;":"▓","&block;":"█","&bne;":"=⃥","&bnequiv;":"≡⃥","&bnot;":"⌐","&bopf;":"𝕓","&bot;":"⊥","&bottom;":"⊥","&bowtie;":"⋈","&boxDL;":"╗","&boxDR;":"╔","&boxDl;":"╖","&boxDr;":"╓","&boxH;":"═","&boxHD;":"╦","&boxHU;":"╩","&boxHd;":"╤","&boxHu;":"╧","&boxUL;":"╝","&boxUR;":"╚","&boxUl;":"╜","&boxUr;":"╙","&boxV;":"║","&boxVH;":"╬","&boxVL;":"╣","&boxVR;":"╠","&boxVh;":"╫","&boxVl;":"╢","&boxVr;":"╟","&boxbox;":"⧉","&boxdL;":"╕","&boxdR;":"╒","&boxdl;":"┐","&boxdr;":"┌","&boxh;":"─","&boxhD;":"╥","&boxhU;":"╨","&boxhd;":"┬","&boxhu;":"┴","&boxminus;":"⊟","&boxplus;":"⊞","&boxtimes;":"⊠","&boxuL;":"╛","&boxuR;":"╘","&boxul;":"┘","&boxur;":"└","&boxv;":"│","&boxvH;":"╪","&boxvL;":"╡","&boxvR;":"╞","&boxvh;":"┼","&boxvl;":"┤","&boxvr;":"├","&bprime;":"‵","&breve;":"˘","&brvbar":"¦","&brvbar;":"¦","&bscr;":"𝒷","&bsemi;":"⁏","&bsim;":"∽","&bsime;":"⋍","&bsol;":"\\","&bsolb;":"⧅","&bsolhsub;":"⟈","&bull;":"•","&bullet;":"•","&bump;":"≎","&bumpE;":"⪮","&bumpe;":"≏","&bumpeq;":"≏","&cacute;":"ć","&cap;":"∩","&capand;":"⩄","&capbrcup;":"⩉","&capcap;":"⩋","&capcup;":"⩇","&capdot;":"⩀","&caps;":"∩︀","&caret;":"⁁","&caron;":"ˇ","&ccaps;":"⩍","&ccaron;":"č","&ccedil":"ç","&ccedil;":"ç","&ccirc;":"ĉ","&ccups;":"⩌","&ccupssm;":"⩐","&cdot;":"ċ","&cedil":"¸","&cedil;":"¸","&cemptyv;":"⦲","&cent":"¢","&cent;":"¢","&centerdot;":"·","&cfr;":"𝔠","&chcy;":"ч","&check;":"✓","&checkmark;":"✓","&chi;":"χ","&cir;":"○","&cirE;":"⧃","&circ;":"ˆ","&circeq;":"≗","&circlearrowleft;":"↺","&circlearrowright;":"↻","&circledR;":"®","&circledS;":"Ⓢ","&circledast;":"⊛","&circledcirc;":"⊚","&circleddash;":"⊝","&cire;":"≗","&cirfnint;":"⨐","&cirmid;":"⫯","&cirscir;":"⧂","&clubs;":"♣","&clubsuit;":"♣","&colon;":":","&colone;":"≔","&coloneq;":"≔","&comma;":",","&commat;":"@","&comp;":"∁","&compfn;":"∘","&complement;":"∁","&complexes;":"ℂ","&cong;":"≅","&congdot;":"⩭","&conint;":"∮","&copf;":"𝕔","&coprod;":"∐","&copy":"©","&copy;":"©","&copysr;":"℗","&crarr;":"↵","&cross;":"✗","&cscr;":"𝒸","&csub;":"⫏","&csube;":"⫑","&csup;":"⫐","&csupe;":"⫒","&ctdot;":"⋯","&cudarrl;":"⤸","&cudarrr;":"⤵","&cuepr;":"⋞","&cuesc;":"⋟","&cularr;":"↶","&cularrp;":"⤽","&cup;":"∪","&cupbrcap;":"⩈","&cupcap;":"⩆","&cupcup;":"⩊","&cupdot;":"⊍","&cupor;":"⩅","&cups;":"∪︀","&curarr;":"↷","&curarrm;":"⤼","&curlyeqprec;":"⋞","&curlyeqsucc;":"⋟","&curlyvee;":"⋎","&curlywedge;":"⋏","&curren":"¤","&curren;":"¤","&curvearrowleft;":"↶","&curvearrowright;":"↷","&cuvee;":"⋎","&cuwed;":"⋏","&cwconint;":"∲","&cwint;":"∱","&cylcty;":"⌭","&dArr;":"⇓","&dHar;":"⥥","&dagger;":"†","&daleth;":"ℸ","&darr;":"↓","&dash;":"‐","&dashv;":"⊣","&dbkarow;":"⤏","&dblac;":"˝","&dcaron;":"ď","&dcy;":"д","&dd;":"ⅆ","&ddagger;":"‡","&ddarr;":"⇊","&ddotseq;":"⩷","&deg":"°","&deg;":"°","&delta;":"δ","&demptyv;":"⦱","&dfisht;":"⥿","&dfr;":"𝔡","&dharl;":"⇃","&dharr;":"⇂","&diam;":"⋄","&diamond;":"⋄","&diamondsuit;":"♦","&diams;":"♦","&die;":"¨","&digamma;":"ϝ","&disin;":"⋲","&div;":"÷","&divide":"÷","&divide;":"÷","&divideontimes;":"⋇","&divonx;":"⋇","&djcy;":"ђ","&dlcorn;":"⌞","&dlcrop;":"⌍","&dollar;":"$","&dopf;":"𝕕","&dot;":"˙","&doteq;":"≐","&doteqdot;":"≑","&dotminus;":"∸","&dotplus;":"∔","&dotsquare;":"⊡","&doublebarwedge;":"⌆","&downarrow;":"↓","&downdownarrows;":"⇊","&downharpoonleft;":"⇃","&downharpoonright;":"⇂","&drbkarow;":"⤐","&drcorn;":"⌟","&drcrop;":"⌌","&dscr;":"𝒹","&dscy;":"ѕ","&dsol;":"⧶","&dstrok;":"đ","&dtdot;":"⋱","&dtri;":"▿","&dtrif;":"▾","&duarr;":"⇵","&duhar;":"⥯","&dwangle;":"⦦","&dzcy;":"џ","&dzigrarr;":"⟿","&eDDot;":"⩷","&eDot;":"≑","&eacute":"é","&eacute;":"é","&easter;":"⩮","&ecaron;":"ě","&ecir;":"≖","&ecirc":"ê","&ecirc;":"ê","&ecolon;":"≕","&ecy;":"э","&edot;":"ė","&ee;":"ⅇ","&efDot;":"≒","&efr;":"𝔢","&eg;":"⪚","&egrave":"è","&egrave;":"è","&egs;":"⪖","&egsdot;":"⪘","&el;":"⪙","&elinters;":"⏧","&ell;":"ℓ","&els;":"⪕","&elsdot;":"⪗","&emacr;":"ē","&empty;":"∅","&emptyset;":"∅","&emptyv;":"∅","&emsp13;":" ","&emsp14;":" ","&emsp;":" ","&eng;":"ŋ","&ensp;":" ","&eogon;":"ę","&eopf;":"𝕖","&epar;":"⋕","&eparsl;":"⧣","&eplus;":"⩱","&epsi;":"ε","&epsilon;":"ε","&epsiv;":"ϵ","&eqcirc;":"≖","&eqcolon;":"≕","&eqsim;":"≂","&eqslantgtr;":"⪖","&eqslantless;":"⪕","&equals;":"=","&equest;":"≟","&equiv;":"≡","&equivDD;":"⩸","&eqvparsl;":"⧥","&erDot;":"≓","&erarr;":"⥱","&escr;":"ℯ","&esdot;":"≐","&esim;":"≂","&eta;":"η","&eth":"ð","&eth;":"ð","&euml":"ë","&euml;":"ë","&euro;":"€","&excl;":"!","&exist;":"∃","&expectation;":"ℰ","&exponentiale;":"ⅇ","&fallingdotseq;":"≒","&fcy;":"ф","&female;":"♀","&ffilig;":"ﬃ","&fflig;":"ﬀ","&ffllig;":"ﬄ","&ffr;":"𝔣","&filig;":"ﬁ","&fjlig;":"fj","&flat;":"♭","&fllig;":"ﬂ","&fltns;":"▱","&fnof;":"ƒ","&fopf;":"𝕗","&forall;":"∀","&fork;":"⋔","&forkv;":"⫙","&fpartint;":"⨍","&frac12":"½","&frac12;":"½","&frac13;":"⅓","&frac14":"¼","&frac14;":"¼","&frac15;":"⅕","&frac16;":"⅙","&frac18;":"⅛","&frac23;":"⅔","&frac25;":"⅖","&frac34":"¾","&frac34;":"¾","&frac35;":"⅗","&frac38;":"⅜","&frac45;":"⅘","&frac56;":"⅚","&frac58;":"⅝","&frac78;":"⅞","&frasl;":"⁄","&frown;":"⌢","&fscr;":"𝒻","&gE;":"≧","&gEl;":"⪌","&gacute;":"ǵ","&gamma;":"γ","&gammad;":"ϝ","&gap;":"⪆","&gbreve;":"ğ","&gcirc;":"ĝ","&gcy;":"г","&gdot;":"ġ","&ge;":"≥","&gel;":"⋛","&geq;":"≥","&geqq;":"≧","&geqslant;":"⩾","&ges;":"⩾","&gescc;":"⪩","&gesdot;":"⪀","&gesdoto;":"⪂","&gesdotol;":"⪄","&gesl;":"⋛︀","&gesles;":"⪔","&gfr;":"𝔤","&gg;":"≫","&ggg;":"⋙","&gimel;":"ℷ","&gjcy;":"ѓ","&gl;":"≷","&glE;":"⪒","&gla;":"⪥","&glj;":"⪤","&gnE;":"≩","&gnap;":"⪊","&gnapprox;":"⪊","&gne;":"⪈","&gneq;":"⪈","&gneqq;":"≩","&gnsim;":"⋧","&gopf;":"𝕘","&grave;":"`","&gscr;":"ℊ","&gsim;":"≳","&gsime;":"⪎","&gsiml;":"⪐","&gt":">","&gt;":">","&gtcc;":"⪧","&gtcir;":"⩺","&gtdot;":"⋗","&gtlPar;":"⦕","&gtquest;":"⩼","&gtrapprox;":"⪆","&gtrarr;":"⥸","&gtrdot;":"⋗","&gtreqless;":"⋛","&gtreqqless;":"⪌","&gtrless;":"≷","&gtrsim;":"≳","&gvertneqq;":"≩︀","&gvnE;":"≩︀","&hArr;":"⇔","&hairsp;":" ","&half;":"½","&hamilt;":"ℋ","&hardcy;":"ъ","&harr;":"↔","&harrcir;":"⥈","&harrw;":"↭","&hbar;":"ℏ","&hcirc;":"ĥ","&hearts;":"♥","&heartsuit;":"♥","&hellip;":"…","&hercon;":"⊹","&hfr;":"𝔥","&hksearow;":"⤥","&hkswarow;":"⤦","&hoarr;":"⇿","&homtht;":"∻","&hookleftarrow;":"↩","&hookrightarrow;":"↪","&hopf;":"𝕙","&horbar;":"―","&hscr;":"𝒽","&hslash;":"ℏ","&hstrok;":"ħ","&hybull;":"⁃","&hyphen;":"‐","&iacute":"í","&iacute;":"í","&ic;":"⁣","&icirc":"î","&icirc;":"î","&icy;":"и","&iecy;":"е","&iexcl":"¡","&iexcl;":"¡","&iff;":"⇔","&ifr;":"𝔦","&igrave":"ì","&igrave;":"ì","&ii;":"ⅈ","&iiiint;":"⨌","&iiint;":"∭","&iinfin;":"⧜","&iiota;":"℩","&ijlig;":"ĳ","&imacr;":"ī","&image;":"ℑ","&imagline;":"ℐ","&imagpart;":"ℑ","&imath;":"ı","&imof;":"⊷","&imped;":"Ƶ","&in;":"∈","&incare;":"℅","&infin;":"∞","&infintie;":"⧝","&inodot;":"ı","&int;":"∫","&intcal;":"⊺","&integers;":"ℤ","&intercal;":"⊺","&intlarhk;":"⨗","&intprod;":"⨼","&iocy;":"ё","&iogon;":"į","&iopf;":"𝕚","&iota;":"ι","&iprod;":"⨼","&iquest":"¿","&iquest;":"¿","&iscr;":"𝒾","&isin;":"∈","&isinE;":"⋹","&isindot;":"⋵","&isins;":"⋴","&isinsv;":"⋳","&isinv;":"∈","&it;":"⁢","&itilde;":"ĩ","&iukcy;":"і","&iuml":"ï","&iuml;":"ï","&jcirc;":"ĵ","&jcy;":"й","&jfr;":"𝔧","&jmath;":"ȷ","&jopf;":"𝕛","&jscr;":"𝒿","&jsercy;":"ј","&jukcy;":"є","&kappa;":"κ","&kappav;":"ϰ","&kcedil;":"ķ","&kcy;":"к","&kfr;":"𝔨","&kgreen;":"ĸ","&khcy;":"х","&kjcy;":"ќ","&kopf;":"𝕜","&kscr;":"𝓀","&lAarr;":"⇚","&lArr;":"⇐","&lAtail;":"⤛","&lBarr;":"⤎","&lE;":"≦","&lEg;":"⪋","&lHar;":"⥢","&lacute;":"ĺ","&laemptyv;":"⦴","&lagran;":"ℒ","&lambda;":"λ","&lang;":"⟨","&langd;":"⦑","&langle;":"⟨","&lap;":"⪅","&laquo":"«","&laquo;":"«","&larr;":"←","&larrb;":"⇤","&larrbfs;":"⤟","&larrfs;":"⤝","&larrhk;":"↩","&larrlp;":"↫","&larrpl;":"⤹","&larrsim;":"⥳","&larrtl;":"↢","&lat;":"⪫","&latail;":"⤙","&late;":"⪭","&lates;":"⪭︀","&lbarr;":"⤌","&lbbrk;":"❲","&lbrace;":"{","&lbrack;":"[","&lbrke;":"⦋","&lbrksld;":"⦏","&lbrkslu;":"⦍","&lcaron;":"ľ","&lcedil;":"ļ","&lceil;":"⌈","&lcub;":"{","&lcy;":"л","&ldca;":"⤶","&ldquo;":"“","&ldquor;":"„","&ldrdhar;":"⥧","&ldrushar;":"⥋","&ldsh;":"↲","&le;":"≤","&leftarrow;":"←","&leftarrowtail;":"↢","&leftharpoondown;":"↽","&leftharpoonup;":"↼","&leftleftarrows;":"⇇","&leftrightarrow;":"↔","&leftrightarrows;":"⇆","&leftrightharpoons;":"⇋","&leftrightsquigarrow;":"↭","&leftthreetimes;":"⋋","&leg;":"⋚","&leq;":"≤","&leqq;":"≦","&leqslant;":"⩽","&les;":"⩽","&lescc;":"⪨","&lesdot;":"⩿","&lesdoto;":"⪁","&lesdotor;":"⪃","&lesg;":"⋚︀","&lesges;":"⪓","&lessapprox;":"⪅","&lessdot;":"⋖","&lesseqgtr;":"⋚","&lesseqqgtr;":"⪋","&lessgtr;":"≶","&lesssim;":"≲","&lfisht;":"⥼","&lfloor;":"⌊","&lfr;":"𝔩","&lg;":"≶","&lgE;":"⪑","&lhard;":"↽","&lharu;":"↼","&lharul;":"⥪","&lhblk;":"▄","&ljcy;":"љ","&ll;":"≪","&llarr;":"⇇","&llcorner;":"⌞","&llhard;":"⥫","&lltri;":"◺","&lmidot;":"ŀ","&lmoust;":"⎰","&lmoustache;":"⎰","&lnE;":"≨","&lnap;":"⪉","&lnapprox;":"⪉","&lne;":"⪇","&lneq;":"⪇","&lneqq;":"≨","&lnsim;":"⋦","&loang;":"⟬","&loarr;":"⇽","&lobrk;":"⟦","&longleftarrow;":"⟵","&longleftrightarrow;":"⟷","&longmapsto;":"⟼","&longrightarrow;":"⟶","&looparrowleft;":"↫","&looparrowright;":"↬","&lopar;":"⦅","&lopf;":"𝕝","&loplus;":"⨭","&lotimes;":"⨴","&lowast;":"∗","&lowbar;":"_","&loz;":"◊","&lozenge;":"◊","&lozf;":"⧫","&lpar;":"(","&lparlt;":"⦓","&lrarr;":"⇆","&lrcorner;":"⌟","&lrhar;":"⇋","&lrhard;":"⥭","&lrm;":"‎","&lrtri;":"⊿","&lsaquo;":"‹","&lscr;":"𝓁","&lsh;":"↰","&lsim;":"≲","&lsime;":"⪍","&lsimg;":"⪏","&lsqb;":"[","&lsquo;":"‘","&lsquor;":"‚","&lstrok;":"ł","&lt":"<","&lt;":"<","&ltcc;":"⪦","&ltcir;":"⩹","&ltdot;":"⋖","&lthree;":"⋋","&ltimes;":"⋉","&ltlarr;":"⥶","&ltquest;":"⩻","&ltrPar;":"⦖","&ltri;":"◃","&ltrie;":"⊴","&ltrif;":"◂","&lurdshar;":"⥊","&luruhar;":"⥦","&lvertneqq;":"≨︀","&lvnE;":"≨︀","&mDDot;":"∺","&macr":"¯","&macr;":"¯","&male;":"♂","&malt;":"✠","&maltese;":"✠","&map;":"↦","&mapsto;":"↦","&mapstodown;":"↧","&mapstoleft;":"↤","&mapstoup;":"↥","&marker;":"▮","&mcomma;":"⨩","&mcy;":"м","&mdash;":"—","&measuredangle;":"∡","&mfr;":"𝔪","&mho;":"℧","&micro":"µ","&micro;":"µ","&mid;":"∣","&midast;":"*","&midcir;":"⫰","&middot":"·","&middot;":"·","&minus;":"−","&minusb;":"⊟","&minusd;":"∸","&minusdu;":"⨪","&mlcp;":"⫛","&mldr;":"…","&mnplus;":"∓","&models;":"⊧","&mopf;":"𝕞","&mp;":"∓","&mscr;":"𝓂","&mstpos;":"∾","&mu;":"μ","&multimap;":"⊸","&mumap;":"⊸","&nGg;":"⋙̸","&nGt;":"≫⃒","&nGtv;":"≫̸","&nLeftarrow;":"⇍","&nLeftrightarrow;":"⇎","&nLl;":"⋘̸","&nLt;":"≪⃒","&nLtv;":"≪̸","&nRightarrow;":"⇏","&nVDash;":"⊯","&nVdash;":"⊮","&nabla;":"∇","&nacute;":"ń","&nang;":"∠⃒","&nap;":"≉","&napE;":"⩰̸","&napid;":"≋̸","&napos;":"ŉ","&napprox;":"≉","&natur;":"♮","&natural;":"♮","&naturals;":"ℕ","&nbsp":" ","&nbsp;":" ","&nbump;":"≎̸","&nbumpe;":"≏̸","&ncap;":"⩃","&ncaron;":"ň","&ncedil;":"ņ","&ncong;":"≇","&ncongdot;":"⩭̸","&ncup;":"⩂","&ncy;":"н","&ndash;":"–","&ne;":"≠","&neArr;":"⇗","&nearhk;":"⤤","&nearr;":"↗","&nearrow;":"↗","&nedot;":"≐̸","&nequiv;":"≢","&nesear;":"⤨","&nesim;":"≂̸","&nexist;":"∄","&nexists;":"∄","&nfr;":"𝔫","&ngE;":"≧̸","&nge;":"≱","&ngeq;":"≱","&ngeqq;":"≧̸","&ngeqslant;":"⩾̸","&nges;":"⩾̸","&ngsim;":"≵","&ngt;":"≯","&ngtr;":"≯","&nhArr;":"⇎","&nharr;":"↮","&nhpar;":"⫲","&ni;":"∋","&nis;":"⋼","&nisd;":"⋺","&niv;":"∋","&njcy;":"њ","&nlArr;":"⇍","&nlE;":"≦̸","&nlarr;":"↚","&nldr;":"‥","&nle;":"≰","&nleftarrow;":"↚","&nleftrightarrow;":"↮","&nleq;":"≰","&nleqq;":"≦̸","&nleqslant;":"⩽̸","&nles;":"⩽̸","&nless;":"≮","&nlsim;":"≴","&nlt;":"≮","&nltri;":"⋪","&nltrie;":"⋬","&nmid;":"∤","&nopf;":"𝕟","&not":"¬","&not;":"¬","&notin;":"∉","&notinE;":"⋹̸","&notindot;":"⋵̸","&notinva;":"∉","&notinvb;":"⋷","&notinvc;":"⋶","&notni;":"∌","&notniva;":"∌","&notnivb;":"⋾","&notnivc;":"⋽","&npar;":"∦","&nparallel;":"∦","&nparsl;":"⫽⃥","&npart;":"∂̸","&npolint;":"⨔","&npr;":"⊀","&nprcue;":"⋠","&npre;":"⪯̸","&nprec;":"⊀","&npreceq;":"⪯̸","&nrArr;":"⇏","&nrarr;":"↛","&nrarrc;":"⤳̸","&nrarrw;":"↝̸","&nrightarrow;":"↛","&nrtri;":"⋫","&nrtrie;":"⋭","&nsc;":"⊁","&nsccue;":"⋡","&nsce;":"⪰̸","&nscr;":"𝓃","&nshortmid;":"∤","&nshortparallel;":"∦","&nsim;":"≁","&nsime;":"≄","&nsimeq;":"≄","&nsmid;":"∤","&nspar;":"∦","&nsqsube;":"⋢","&nsqsupe;":"⋣","&nsub;":"⊄","&nsubE;":"⫅̸","&nsube;":"⊈","&nsubset;":"⊂⃒","&nsubseteq;":"⊈","&nsubseteqq;":"⫅̸","&nsucc;":"⊁","&nsucceq;":"⪰̸","&nsup;":"⊅","&nsupE;":"⫆̸","&nsupe;":"⊉","&nsupset;":"⊃⃒","&nsupseteq;":"⊉","&nsupseteqq;":"⫆̸","&ntgl;":"≹","&ntilde":"ñ","&ntilde;":"ñ","&ntlg;":"≸","&ntriangleleft;":"⋪","&ntrianglelefteq;":"⋬","&ntriangleright;":"⋫","&ntrianglerighteq;":"⋭","&nu;":"ν","&num;":"#","&numero;":"№","&numsp;":" ","&nvDash;":"⊭","&nvHarr;":"⤄","&nvap;":"≍⃒","&nvdash;":"⊬","&nvge;":"≥⃒","&nvgt;":">⃒","&nvinfin;":"⧞","&nvlArr;":"⤂","&nvle;":"≤⃒","&nvlt;":"<⃒","&nvltrie;":"⊴⃒","&nvrArr;":"⤃","&nvrtrie;":"⊵⃒","&nvsim;":"∼⃒","&nwArr;":"⇖","&nwarhk;":"⤣","&nwarr;":"↖","&nwarrow;":"↖","&nwnear;":"⤧","&oS;":"Ⓢ","&oacute":"ó","&oacute;":"ó","&oast;":"⊛","&ocir;":"⊚","&ocirc":"ô","&ocirc;":"ô","&ocy;":"о","&odash;":"⊝","&odblac;":"ő","&odiv;":"⨸","&odot;":"⊙","&odsold;":"⦼","&oelig;":"œ","&ofcir;":"⦿","&ofr;":"𝔬","&ogon;":"˛","&ograve":"ò","&ograve;":"ò","&ogt;":"⧁","&ohbar;":"⦵","&ohm;":"Ω","&oint;":"∮","&olarr;":"↺","&olcir;":"⦾","&olcross;":"⦻","&oline;":"‾","&olt;":"⧀","&omacr;":"ō","&omega;":"ω","&omicron;":"ο","&omid;":"⦶","&ominus;":"⊖","&oopf;":"𝕠","&opar;":"⦷","&operp;":"⦹","&oplus;":"⊕","&or;":"∨","&orarr;":"↻","&ord;":"⩝","&order;":"ℴ","&orderof;":"ℴ","&ordf":"ª","&ordf;":"ª","&ordm":"º","&ordm;":"º","&origof;":"⊶","&oror;":"⩖","&orslope;":"⩗","&orv;":"⩛","&oscr;":"ℴ","&oslash":"ø","&oslash;":"ø","&osol;":"⊘","&otilde":"õ","&otilde;":"õ","&otimes;":"⊗","&otimesas;":"⨶","&ouml":"ö","&ouml;":"ö","&ovbar;":"⌽","&par;":"∥","&para":"¶","&para;":"¶","&parallel;":"∥","&parsim;":"⫳","&parsl;":"⫽","&part;":"∂","&pcy;":"п","&percnt;":"%","&period;":".","&permil;":"‰","&perp;":"⊥","&pertenk;":"‱","&pfr;":"𝔭","&phi;":"φ","&phiv;":"ϕ","&phmmat;":"ℳ","&phone;":"☎","&pi;":"π","&pitchfork;":"⋔","&piv;":"ϖ","&planck;":"ℏ","&planckh;":"ℎ","&plankv;":"ℏ","&plus;":"+","&plusacir;":"⨣","&plusb;":"⊞","&pluscir;":"⨢","&plusdo;":"∔","&plusdu;":"⨥","&pluse;":"⩲","&plusmn":"±","&plusmn;":"±","&plussim;":"⨦","&plustwo;":"⨧","&pm;":"±","&pointint;":"⨕","&popf;":"𝕡","&pound":"£","&pound;":"£","&pr;":"≺","&prE;":"⪳","&prap;":"⪷","&prcue;":"≼","&pre;":"⪯","&prec;":"≺","&precapprox;":"⪷","&preccurlyeq;":"≼","&preceq;":"⪯","&precnapprox;":"⪹","&precneqq;":"⪵","&precnsim;":"⋨","&precsim;":"≾","&prime;":"′","&primes;":"ℙ","&prnE;":"⪵","&prnap;":"⪹","&prnsim;":"⋨","&prod;":"∏","&profalar;":"⌮","&profline;":"⌒","&profsurf;":"⌓","&prop;":"∝","&propto;":"∝","&prsim;":"≾","&prurel;":"⊰","&pscr;":"𝓅","&psi;":"ψ","&puncsp;":" ","&qfr;":"𝔮","&qint;":"⨌","&qopf;":"𝕢","&qprime;":"⁗","&qscr;":"𝓆","&quaternions;":"ℍ","&quatint;":"⨖","&quest;":"?","&questeq;":"≟","&quot":'"',"&quot;":'"',"&rAarr;":"⇛","&rArr;":"⇒","&rAtail;":"⤜","&rBarr;":"⤏","&rHar;":"⥤","&race;":"∽̱","&racute;":"ŕ","&radic;":"√","&raemptyv;":"⦳","&rang;":"⟩","&rangd;":"⦒","&range;":"⦥","&rangle;":"⟩","&raquo":"»","&raquo;":"»","&rarr;":"→","&rarrap;":"⥵","&rarrb;":"⇥","&rarrbfs;":"⤠","&rarrc;":"⤳","&rarrfs;":"⤞","&rarrhk;":"↪","&rarrlp;":"↬","&rarrpl;":"⥅","&rarrsim;":"⥴","&rarrtl;":"↣","&rarrw;":"↝","&ratail;":"⤚","&ratio;":"∶","&rationals;":"ℚ","&rbarr;":"⤍","&rbbrk;":"❳","&rbrace;":"}","&rbrack;":"]","&rbrke;":"⦌","&rbrksld;":"⦎","&rbrkslu;":"⦐","&rcaron;":"ř","&rcedil;":"ŗ","&rceil;":"⌉","&rcub;":"}","&rcy;":"р","&rdca;":"⤷","&rdldhar;":"⥩","&rdquo;":"”","&rdquor;":"”","&rdsh;":"↳","&real;":"ℜ","&realine;":"ℛ","&realpart;":"ℜ","&reals;":"ℝ","&rect;":"▭","&reg":"®","&reg;":"®","&rfisht;":"⥽","&rfloor;":"⌋","&rfr;":"𝔯","&rhard;":"⇁","&rharu;":"⇀","&rharul;":"⥬","&rho;":"ρ","&rhov;":"ϱ","&rightarrow;":"→","&rightarrowtail;":"↣","&rightharpoondown;":"⇁","&rightharpoonup;":"⇀","&rightleftarrows;":"⇄","&rightleftharpoons;":"⇌","&rightrightarrows;":"⇉","&rightsquigarrow;":"↝","&rightthreetimes;":"⋌","&ring;":"˚","&risingdotseq;":"≓","&rlarr;":"⇄","&rlhar;":"⇌","&rlm;":"‏","&rmoust;":"⎱","&rmoustache;":"⎱","&rnmid;":"⫮","&roang;":"⟭","&roarr;":"⇾","&robrk;":"⟧","&ropar;":"⦆","&ropf;":"𝕣","&roplus;":"⨮","&rotimes;":"⨵","&rpar;":")","&rpargt;":"⦔","&rppolint;":"⨒","&rrarr;":"⇉","&rsaquo;":"›","&rscr;":"𝓇","&rsh;":"↱","&rsqb;":"]","&rsquo;":"’","&rsquor;":"’","&rthree;":"⋌","&rtimes;":"⋊","&rtri;":"▹","&rtrie;":"⊵","&rtrif;":"▸","&rtriltri;":"⧎","&ruluhar;":"⥨","&rx;":"℞","&sacute;":"ś","&sbquo;":"‚","&sc;":"≻","&scE;":"⪴","&scap;":"⪸","&scaron;":"š","&sccue;":"≽","&sce;":"⪰","&scedil;":"ş","&scirc;":"ŝ","&scnE;":"⪶","&scnap;":"⪺","&scnsim;":"⋩","&scpolint;":"⨓","&scsim;":"≿","&scy;":"с","&sdot;":"⋅","&sdotb;":"⊡","&sdote;":"⩦","&seArr;":"⇘","&searhk;":"⤥","&searr;":"↘","&searrow;":"↘","&sect":"§","&sect;":"§","&semi;":";","&seswar;":"⤩","&setminus;":"∖","&setmn;":"∖","&sext;":"✶","&sfr;":"𝔰","&sfrown;":"⌢","&sharp;":"♯","&shchcy;":"щ","&shcy;":"ш","&shortmid;":"∣","&shortparallel;":"∥","&shy":"­","&shy;":"­","&sigma;":"σ","&sigmaf;":"ς","&sigmav;":"ς","&sim;":"∼","&simdot;":"⩪","&sime;":"≃","&simeq;":"≃","&simg;":"⪞","&simgE;":"⪠","&siml;":"⪝","&simlE;":"⪟","&simne;":"≆","&simplus;":"⨤","&simrarr;":"⥲","&slarr;":"←","&smallsetminus;":"∖","&smashp;":"⨳","&smeparsl;":"⧤","&smid;":"∣","&smile;":"⌣","&smt;":"⪪","&smte;":"⪬","&smtes;":"⪬︀","&softcy;":"ь","&sol;":"/","&solb;":"⧄","&solbar;":"⌿","&sopf;":"𝕤","&spades;":"♠","&spadesuit;":"♠","&spar;":"∥","&sqcap;":"⊓","&sqcaps;":"⊓︀","&sqcup;":"⊔","&sqcups;":"⊔︀","&sqsub;":"⊏","&sqsube;":"⊑","&sqsubset;":"⊏","&sqsubseteq;":"⊑","&sqsup;":"⊐","&sqsupe;":"⊒","&sqsupset;":"⊐","&sqsupseteq;":"⊒","&squ;":"□","&square;":"□","&squarf;":"▪","&squf;":"▪","&srarr;":"→","&sscr;":"𝓈","&ssetmn;":"∖","&ssmile;":"⌣","&sstarf;":"⋆","&star;":"☆","&starf;":"★","&straightepsilon;":"ϵ","&straightphi;":"ϕ","&strns;":"¯","&sub;":"⊂","&subE;":"⫅","&subdot;":"⪽","&sube;":"⊆","&subedot;":"⫃","&submult;":"⫁","&subnE;":"⫋","&subne;":"⊊","&subplus;":"⪿","&subrarr;":"⥹","&subset;":"⊂","&subseteq;":"⊆","&subseteqq;":"⫅","&subsetneq;":"⊊","&subsetneqq;":"⫋","&subsim;":"⫇","&subsub;":"⫕","&subsup;":"⫓","&succ;":"≻","&succapprox;":"⪸","&succcurlyeq;":"≽","&succeq;":"⪰","&succnapprox;":"⪺","&succneqq;":"⪶","&succnsim;":"⋩","&succsim;":"≿","&sum;":"∑","&sung;":"♪","&sup1":"¹","&sup1;":"¹","&sup2":"²","&sup2;":"²","&sup3":"³","&sup3;":"³","&sup;":"⊃","&supE;":"⫆","&supdot;":"⪾","&supdsub;":"⫘","&supe;":"⊇","&supedot;":"⫄","&suphsol;":"⟉","&suphsub;":"⫗","&suplarr;":"⥻","&supmult;":"⫂","&supnE;":"⫌","&supne;":"⊋","&supplus;":"⫀","&supset;":"⊃","&supseteq;":"⊇","&supseteqq;":"⫆","&supsetneq;":"⊋","&supsetneqq;":"⫌","&supsim;":"⫈","&supsub;":"⫔","&supsup;":"⫖","&swArr;":"⇙","&swarhk;":"⤦","&swarr;":"↙","&swarrow;":"↙","&swnwar;":"⤪","&szlig":"ß","&szlig;":"ß","&target;":"⌖","&tau;":"τ","&tbrk;":"⎴","&tcaron;":"ť","&tcedil;":"ţ","&tcy;":"т","&tdot;":"⃛","&telrec;":"⌕","&tfr;":"𝔱","&there4;":"∴","&therefore;":"∴","&theta;":"θ","&thetasym;":"ϑ","&thetav;":"ϑ","&thickapprox;":"≈","&thicksim;":"∼","&thinsp;":" ","&thkap;":"≈","&thksim;":"∼","&thorn":"þ","&thorn;":"þ","&tilde;":"˜","&times":"×","&times;":"×","&timesb;":"⊠","&timesbar;":"⨱","&timesd;":"⨰","&tint;":"∭","&toea;":"⤨","&top;":"⊤","&topbot;":"⌶","&topcir;":"⫱","&topf;":"𝕥","&topfork;":"⫚","&tosa;":"⤩","&tprime;":"‴","&trade;":"™","&triangle;":"▵","&triangledown;":"▿","&triangleleft;":"◃","&trianglelefteq;":"⊴","&triangleq;":"≜","&triangleright;":"▹","&trianglerighteq;":"⊵","&tridot;":"◬","&trie;":"≜","&triminus;":"⨺","&triplus;":"⨹","&trisb;":"⧍","&tritime;":"⨻","&trpezium;":"⏢","&tscr;":"𝓉","&tscy;":"ц","&tshcy;":"ћ","&tstrok;":"ŧ","&twixt;":"≬","&twoheadleftarrow;":"↞","&twoheadrightarrow;":"↠","&uArr;":"⇑","&uHar;":"⥣","&uacute":"ú","&uacute;":"ú","&uarr;":"↑","&ubrcy;":"ў","&ubreve;":"ŭ","&ucirc":"û","&ucirc;":"û","&ucy;":"у","&udarr;":"⇅","&udblac;":"ű","&udhar;":"⥮","&ufisht;":"⥾","&ufr;":"𝔲","&ugrave":"ù","&ugrave;":"ù","&uharl;":"↿","&uharr;":"↾","&uhblk;":"▀","&ulcorn;":"⌜","&ulcorner;":"⌜","&ulcrop;":"⌏","&ultri;":"◸","&umacr;":"ū","&uml":"¨","&uml;":"¨","&uogon;":"ų","&uopf;":"𝕦","&uparrow;":"↑","&updownarrow;":"↕","&upharpoonleft;":"↿","&upharpoonright;":"↾","&uplus;":"⊎","&upsi;":"υ","&upsih;":"ϒ","&upsilon;":"υ","&upuparrows;":"⇈","&urcorn;":"⌝","&urcorner;":"⌝","&urcrop;":"⌎","&uring;":"ů","&urtri;":"◹","&uscr;":"𝓊","&utdot;":"⋰","&utilde;":"ũ","&utri;":"▵","&utrif;":"▴","&uuarr;":"⇈","&uuml":"ü","&uuml;":"ü","&uwangle;":"⦧","&vArr;":"⇕","&vBar;":"⫨","&vBarv;":"⫩","&vDash;":"⊨","&vangrt;":"⦜","&varepsilon;":"ϵ","&varkappa;":"ϰ","&varnothing;":"∅","&varphi;":"ϕ","&varpi;":"ϖ","&varpropto;":"∝","&varr;":"↕","&varrho;":"ϱ","&varsigma;":"ς","&varsubsetneq;":"⊊︀","&varsubsetneqq;":"⫋︀","&varsupsetneq;":"⊋︀","&varsupsetneqq;":"⫌︀","&vartheta;":"ϑ","&vartriangleleft;":"⊲","&vartriangleright;":"⊳","&vcy;":"в","&vdash;":"⊢","&vee;":"∨","&veebar;":"⊻","&veeeq;":"≚","&vellip;":"⋮","&verbar;":"|","&vert;":"|","&vfr;":"𝔳","&vltri;":"⊲","&vnsub;":"⊂⃒","&vnsup;":"⊃⃒","&vopf;":"𝕧","&vprop;":"∝","&vrtri;":"⊳","&vscr;":"𝓋","&vsubnE;":"⫋︀","&vsubne;":"⊊︀","&vsupnE;":"⫌︀","&vsupne;":"⊋︀","&vzigzag;":"⦚","&wcirc;":"ŵ","&wedbar;":"⩟","&wedge;":"∧","&wedgeq;":"≙","&weierp;":"℘","&wfr;":"𝔴","&wopf;":"𝕨","&wp;":"℘","&wr;":"≀","&wreath;":"≀","&wscr;":"𝓌","&xcap;":"⋂","&xcirc;":"◯","&xcup;":"⋃","&xdtri;":"▽","&xfr;":"𝔵","&xhArr;":"⟺","&xharr;":"⟷","&xi;":"ξ","&xlArr;":"⟸","&xlarr;":"⟵","&xmap;":"⟼","&xnis;":"⋻","&xodot;":"⨀","&xopf;":"𝕩","&xoplus;":"⨁","&xotime;":"⨂","&xrArr;":"⟹","&xrarr;":"⟶","&xscr;":"𝓍","&xsqcup;":"⨆","&xuplus;":"⨄","&xutri;":"△","&xvee;":"⋁","&xwedge;":"⋀","&yacute":"ý","&yacute;":"ý","&yacy;":"я","&ycirc;":"ŷ","&ycy;":"ы","&yen":"¥","&yen;":"¥","&yfr;":"𝔶","&yicy;":"ї","&yopf;":"𝕪","&yscr;":"𝓎","&yucy;":"ю","&yuml":"ÿ","&yuml;":"ÿ","&zacute;":"ź","&zcaron;":"ž","&zcy;":"з","&zdot;":"ż","&zeetrf;":"ℨ","&zeta;":"ζ","&zfr;":"𝔷","&zhcy;":"ж","&zigrarr;":"⇝","&zopf;":"𝕫","&zscr;":"𝓏","&zwj;":"‍","&zwnj;":"‌"},characters:{Æ:"&AElig;","&":"&amp;",Á:"&Aacute;",Ă:"&Abreve;",Â:"&Acirc;",А:"&Acy;","𝔄":"&Afr;",À:"&Agrave;",Α:"&Alpha;",Ā:"&Amacr;","⩓":"&And;",Ą:"&Aogon;","𝔸":"&Aopf;","⁡":"&af;",Å:"&angst;","𝒜":"&Ascr;","≔":"&coloneq;",Ã:"&Atilde;",Ä:"&Auml;","∖":"&ssetmn;","⫧":"&Barv;","⌆":"&doublebarwedge;",Б:"&Bcy;","∵":"&because;",ℬ:"&bernou;",Β:"&Beta;","𝔅":"&Bfr;","𝔹":"&Bopf;","˘":"&breve;","≎":"&bump;",Ч:"&CHcy;","©":"&copy;",Ć:"&Cacute;","⋒":"&Cap;","ⅅ":"&DD;",ℭ:"&Cfr;",Č:"&Ccaron;",Ç:"&Ccedil;",Ĉ:"&Ccirc;","∰":"&Cconint;",Ċ:"&Cdot;","¸":"&cedil;","·":"&middot;",Χ:"&Chi;","⊙":"&odot;","⊖":"&ominus;","⊕":"&oplus;","⊗":"&otimes;","∲":"&cwconint;","”":"&rdquor;","’":"&rsquor;","∷":"&Proportion;","⩴":"&Colone;","≡":"&equiv;","∯":"&DoubleContourIntegral;","∮":"&oint;",ℂ:"&complexes;","∐":"&coprod;","∳":"&awconint;","⨯":"&Cross;","𝒞":"&Cscr;","⋓":"&Cup;","≍":"&asympeq;","⤑":"&DDotrahd;",Ђ:"&DJcy;",Ѕ:"&DScy;",Џ:"&DZcy;","‡":"&ddagger;","↡":"&Darr;","⫤":"&DoubleLeftTee;",Ď:"&Dcaron;",Д:"&Dcy;","∇":"&nabla;",Δ:"&Delta;","𝔇":"&Dfr;","´":"&acute;","˙":"&dot;","˝":"&dblac;","`":"&grave;","˜":"&tilde;","⋄":"&diamond;","ⅆ":"&dd;","𝔻":"&Dopf;","¨":"&uml;","⃜":"&DotDot;","≐":"&esdot;","⇓":"&dArr;","⇐":"&lArr;","⇔":"&iff;","⟸":"&xlArr;","⟺":"&xhArr;","⟹":"&xrArr;","⇒":"&rArr;","⊨":"&vDash;","⇑":"&uArr;","⇕":"&vArr;","∥":"&spar;","↓":"&downarrow;","⤓":"&DownArrowBar;","⇵":"&duarr;","̑":"&DownBreve;","⥐":"&DownLeftRightVector;","⥞":"&DownLeftTeeVector;","↽":"&lhard;","⥖":"&DownLeftVectorBar;","⥟":"&DownRightTeeVector;","⇁":"&rightharpoondown;","⥗":"&DownRightVectorBar;","⊤":"&top;","↧":"&mapstodown;","𝒟":"&Dscr;",Đ:"&Dstrok;",Ŋ:"&ENG;",Ð:"&ETH;",É:"&Eacute;",Ě:"&Ecaron;",Ê:"&Ecirc;",Э:"&Ecy;",Ė:"&Edot;","𝔈":"&Efr;",È:"&Egrave;","∈":"&isinv;",Ē:"&Emacr;","◻":"&EmptySmallSquare;","▫":"&EmptyVerySmallSquare;",Ę:"&Eogon;","𝔼":"&Eopf;",Ε:"&Epsilon;","⩵":"&Equal;","≂":"&esim;","⇌":"&rlhar;",ℰ:"&expectation;","⩳":"&Esim;",Η:"&Eta;",Ë:"&Euml;","∃":"&exist;","ⅇ":"&exponentiale;",Ф:"&Fcy;","𝔉":"&Ffr;","◼":"&FilledSmallSquare;","▪":"&squf;","𝔽":"&Fopf;","∀":"&forall;",ℱ:"&Fscr;",Ѓ:"&GJcy;",">":"&gt;",Γ:"&Gamma;",Ϝ:"&Gammad;",Ğ:"&Gbreve;",Ģ:"&Gcedil;",Ĝ:"&Gcirc;",Г:"&Gcy;",Ġ:"&Gdot;","𝔊":"&Gfr;","⋙":"&ggg;","𝔾":"&Gopf;","≥":"&geq;","⋛":"&gtreqless;","≧":"&geqq;","⪢":"&GreaterGreater;","≷":"&gtrless;","⩾":"&ges;","≳":"&gtrsim;","𝒢":"&Gscr;","≫":"&gg;",Ъ:"&HARDcy;","ˇ":"&caron;","^":"&Hat;",Ĥ:"&Hcirc;",ℌ:"&Poincareplane;",ℋ:"&hamilt;",ℍ:"&quaternions;","─":"&boxh;",Ħ:"&Hstrok;","≏":"&bumpeq;",Е:"&IEcy;",Ĳ:"&IJlig;",Ё:"&IOcy;",Í:"&Iacute;",Î:"&Icirc;",И:"&Icy;",İ:"&Idot;",ℑ:"&imagpart;",Ì:"&Igrave;",Ī:"&Imacr;","ⅈ":"&ii;","∬":"&Int;","∫":"&int;","⋂":"&xcap;","⁣":"&ic;","⁢":"&it;",Į:"&Iogon;","𝕀":"&Iopf;",Ι:"&Iota;",ℐ:"&imagline;",Ĩ:"&Itilde;",І:"&Iukcy;",Ï:"&Iuml;",Ĵ:"&Jcirc;",Й:"&Jcy;","𝔍":"&Jfr;","𝕁":"&Jopf;","𝒥":"&Jscr;",Ј:"&Jsercy;",Є:"&Jukcy;",Х:"&KHcy;",Ќ:"&KJcy;",Κ:"&Kappa;",Ķ:"&Kcedil;",К:"&Kcy;","𝔎":"&Kfr;","𝕂":"&Kopf;","𝒦":"&Kscr;",Љ:"&LJcy;","<":"&lt;",Ĺ:"&Lacute;",Λ:"&Lambda;","⟪":"&Lang;",ℒ:"&lagran;","↞":"&twoheadleftarrow;",Ľ:"&Lcaron;",Ļ:"&Lcedil;",Л:"&Lcy;","⟨":"&langle;","←":"&slarr;","⇤":"&larrb;","⇆":"&lrarr;","⌈":"&lceil;","⟦":"&lobrk;","⥡":"&LeftDownTeeVector;","⇃":"&downharpoonleft;","⥙":"&LeftDownVectorBar;","⌊":"&lfloor;","↔":"&leftrightarrow;","⥎":"&LeftRightVector;","⊣":"&dashv;","↤":"&mapstoleft;","⥚":"&LeftTeeVector;","⊲":"&vltri;","⧏":"&LeftTriangleBar;","⊴":"&trianglelefteq;","⥑":"&LeftUpDownVector;","⥠":"&LeftUpTeeVector;","↿":"&upharpoonleft;","⥘":"&LeftUpVectorBar;","↼":"&lharu;","⥒":"&LeftVectorBar;","⋚":"&lesseqgtr;","≦":"&leqq;","≶":"&lg;","⪡":"&LessLess;","⩽":"&les;","≲":"&lsim;","𝔏":"&Lfr;","⋘":"&Ll;","⇚":"&lAarr;",Ŀ:"&Lmidot;","⟵":"&xlarr;","⟷":"&xharr;","⟶":"&xrarr;","𝕃":"&Lopf;","↙":"&swarrow;","↘":"&searrow;","↰":"&lsh;",Ł:"&Lstrok;","≪":"&ll;","⤅":"&Map;",М:"&Mcy;"," ":"&MediumSpace;",ℳ:"&phmmat;","𝔐":"&Mfr;","∓":"&mp;","𝕄":"&Mopf;",Μ:"&Mu;",Њ:"&NJcy;",Ń:"&Nacute;",Ň:"&Ncaron;",Ņ:"&Ncedil;",Н:"&Ncy;","​":"&ZeroWidthSpace;","\n":"&NewLine;","𝔑":"&Nfr;","⁠":"&NoBreak;"," ":"&nbsp;",ℕ:"&naturals;","⫬":"&Not;","≢":"&nequiv;","≭":"&NotCupCap;","∦":"&nspar;","∉":"&notinva;","≠":"&ne;","≂̸":"&nesim;","∄":"&nexists;","≯":"&ngtr;","≱":"&ngeq;","≧̸":"&ngeqq;","≫̸":"&nGtv;","≹":"&ntgl;","⩾̸":"&nges;","≵":"&ngsim;","≎̸":"&nbump;","≏̸":"&nbumpe;","⋪":"&ntriangleleft;","⧏̸":"&NotLeftTriangleBar;","⋬":"&ntrianglelefteq;","≮":"&nlt;","≰":"&nleq;","≸":"&ntlg;","≪̸":"&nLtv;","⩽̸":"&nles;","≴":"&nlsim;","⪢̸":"&NotNestedGreaterGreater;","⪡̸":"&NotNestedLessLess;","⊀":"&nprec;","⪯̸":"&npreceq;","⋠":"&nprcue;","∌":"&notniva;","⋫":"&ntriangleright;","⧐̸":"&NotRightTriangleBar;","⋭":"&ntrianglerighteq;","⊏̸":"&NotSquareSubset;","⋢":"&nsqsube;","⊐̸":"&NotSquareSuperset;","⋣":"&nsqsupe;","⊂⃒":"&vnsub;","⊈":"&nsubseteq;","⊁":"&nsucc;","⪰̸":"&nsucceq;","⋡":"&nsccue;","≿̸":"&NotSucceedsTilde;","⊃⃒":"&vnsup;","⊉":"&nsupseteq;","≁":"&nsim;","≄":"&nsimeq;","≇":"&ncong;","≉":"&napprox;","∤":"&nsmid;","𝒩":"&Nscr;",Ñ:"&Ntilde;",Ν:"&Nu;",Œ:"&OElig;",Ó:"&Oacute;",Ô:"&Ocirc;",О:"&Ocy;",Ő:"&Odblac;","𝔒":"&Ofr;",Ò:"&Ograve;",Ō:"&Omacr;",Ω:"&ohm;",Ο:"&Omicron;","𝕆":"&Oopf;","“":"&ldquo;","‘":"&lsquo;","⩔":"&Or;","𝒪":"&Oscr;",Ø:"&Oslash;",Õ:"&Otilde;","⨷":"&Otimes;",Ö:"&Ouml;","‾":"&oline;","⏞":"&OverBrace;","⎴":"&tbrk;","⏜":"&OverParenthesis;","∂":"&part;",П:"&Pcy;","𝔓":"&Pfr;",Φ:"&Phi;",Π:"&Pi;","±":"&pm;",ℙ:"&primes;","⪻":"&Pr;","≺":"&prec;","⪯":"&preceq;","≼":"&preccurlyeq;","≾":"&prsim;","″":"&Prime;","∏":"&prod;","∝":"&vprop;","𝒫":"&Pscr;",Ψ:"&Psi;",'"':"&quot;","𝔔":"&Qfr;",ℚ:"&rationals;","𝒬":"&Qscr;","⤐":"&drbkarow;","®":"&reg;",Ŕ:"&Racute;","⟫":"&Rang;","↠":"&twoheadrightarrow;","⤖":"&Rarrtl;",Ř:"&Rcaron;",Ŗ:"&Rcedil;",Р:"&Rcy;",ℜ:"&realpart;","∋":"&niv;","⇋":"&lrhar;","⥯":"&duhar;",Ρ:"&Rho;","⟩":"&rangle;","→":"&srarr;","⇥":"&rarrb;","⇄":"&rlarr;","⌉":"&rceil;","⟧":"&robrk;","⥝":"&RightDownTeeVector;","⇂":"&downharpoonright;","⥕":"&RightDownVectorBar;","⌋":"&rfloor;","⊢":"&vdash;","↦":"&mapsto;","⥛":"&RightTeeVector;","⊳":"&vrtri;","⧐":"&RightTriangleBar;","⊵":"&trianglerighteq;","⥏":"&RightUpDownVector;","⥜":"&RightUpTeeVector;","↾":"&upharpoonright;","⥔":"&RightUpVectorBar;","⇀":"&rightharpoonup;","⥓":"&RightVectorBar;",ℝ:"&reals;","⥰":"&RoundImplies;","⇛":"&rAarr;",ℛ:"&realine;","↱":"&rsh;","⧴":"&RuleDelayed;",Щ:"&SHCHcy;",Ш:"&SHcy;",Ь:"&SOFTcy;",Ś:"&Sacute;","⪼":"&Sc;",Š:"&Scaron;",Ş:"&Scedil;",Ŝ:"&Scirc;",С:"&Scy;","𝔖":"&Sfr;","↑":"&uparrow;",Σ:"&Sigma;","∘":"&compfn;","𝕊":"&Sopf;","√":"&radic;","□":"&square;","⊓":"&sqcap;","⊏":"&sqsubset;","⊑":"&sqsubseteq;","⊐":"&sqsupset;","⊒":"&sqsupseteq;","⊔":"&sqcup;","𝒮":"&Sscr;","⋆":"&sstarf;","⋐":"&Subset;","⊆":"&subseteq;","≻":"&succ;","⪰":"&succeq;","≽":"&succcurlyeq;","≿":"&succsim;","∑":"&sum;","⋑":"&Supset;","⊃":"&supset;","⊇":"&supseteq;",Þ:"&THORN;","™":"&trade;",Ћ:"&TSHcy;",Ц:"&TScy;","	":"&Tab;",Τ:"&Tau;",Ť:"&Tcaron;",Ţ:"&Tcedil;",Т:"&Tcy;","𝔗":"&Tfr;","∴":"&therefore;",Θ:"&Theta;","  ":"&ThickSpace;"," ":"&thinsp;","∼":"&thksim;","≃":"&simeq;","≅":"&cong;","≈":"&thkap;","𝕋":"&Topf;","⃛":"&tdot;","𝒯":"&Tscr;",Ŧ:"&Tstrok;",Ú:"&Uacute;","↟":"&Uarr;","⥉":"&Uarrocir;",Ў:"&Ubrcy;",Ŭ:"&Ubreve;",Û:"&Ucirc;",У:"&Ucy;",Ű:"&Udblac;","𝔘":"&Ufr;",Ù:"&Ugrave;",Ū:"&Umacr;",_:"&lowbar;","⏟":"&UnderBrace;","⎵":"&bbrk;","⏝":"&UnderParenthesis;","⋃":"&xcup;","⊎":"&uplus;",Ų:"&Uogon;","𝕌":"&Uopf;","⤒":"&UpArrowBar;","⇅":"&udarr;","↕":"&varr;","⥮":"&udhar;","⊥":"&perp;","↥":"&mapstoup;","↖":"&nwarrow;","↗":"&nearrow;",ϒ:"&upsih;",Υ:"&Upsilon;",Ů:"&Uring;","𝒰":"&Uscr;",Ũ:"&Utilde;",Ü:"&Uuml;","⊫":"&VDash;","⫫":"&Vbar;",В:"&Vcy;","⊩":"&Vdash;","⫦":"&Vdashl;","⋁":"&xvee;","‖":"&Vert;","∣":"&smid;","|":"&vert;","❘":"&VerticalSeparator;","≀":"&wreath;"," ":"&hairsp;","𝔙":"&Vfr;","𝕍":"&Vopf;","𝒱":"&Vscr;","⊪":"&Vvdash;",Ŵ:"&Wcirc;","⋀":"&xwedge;","𝔚":"&Wfr;","𝕎":"&Wopf;","𝒲":"&Wscr;","𝔛":"&Xfr;",Ξ:"&Xi;","𝕏":"&Xopf;","𝒳":"&Xscr;",Я:"&YAcy;",Ї:"&YIcy;",Ю:"&YUcy;",Ý:"&Yacute;",Ŷ:"&Ycirc;",Ы:"&Ycy;","𝔜":"&Yfr;","𝕐":"&Yopf;","𝒴":"&Yscr;",Ÿ:"&Yuml;",Ж:"&ZHcy;",Ź:"&Zacute;",Ž:"&Zcaron;",З:"&Zcy;",Ż:"&Zdot;",Ζ:"&Zeta;",ℨ:"&zeetrf;",ℤ:"&integers;","𝒵":"&Zscr;",á:"&aacute;",ă:"&abreve;","∾":"&mstpos;","∾̳":"&acE;","∿":"&acd;",â:"&acirc;",а:"&acy;",æ:"&aelig;","𝔞":"&afr;",à:"&agrave;",ℵ:"&aleph;",α:"&alpha;",ā:"&amacr;","⨿":"&amalg;","∧":"&wedge;","⩕":"&andand;","⩜":"&andd;","⩘":"&andslope;","⩚":"&andv;","∠":"&angle;","⦤":"&ange;","∡":"&measuredangle;","⦨":"&angmsdaa;","⦩":"&angmsdab;","⦪":"&angmsdac;","⦫":"&angmsdad;","⦬":"&angmsdae;","⦭":"&angmsdaf;","⦮":"&angmsdag;","⦯":"&angmsdah;","∟":"&angrt;","⊾":"&angrtvb;","⦝":"&angrtvbd;","∢":"&angsph;","⍼":"&angzarr;",ą:"&aogon;","𝕒":"&aopf;","⩰":"&apE;","⩯":"&apacir;","≊":"&approxeq;","≋":"&apid;","'":"&apos;",å:"&aring;","𝒶":"&ascr;","*":"&midast;",ã:"&atilde;",ä:"&auml;","⨑":"&awint;","⫭":"&bNot;","≌":"&bcong;","϶":"&bepsi;","‵":"&bprime;","∽":"&bsim;","⋍":"&bsime;","⊽":"&barvee;","⌅":"&barwedge;","⎶":"&bbrktbrk;",б:"&bcy;","„":"&ldquor;","⦰":"&bemptyv;",β:"&beta;",ℶ:"&beth;","≬":"&twixt;","𝔟":"&bfr;","◯":"&xcirc;","⨀":"&xodot;","⨁":"&xoplus;","⨂":"&xotime;","⨆":"&xsqcup;","★":"&starf;","▽":"&xdtri;","△":"&xutri;","⨄":"&xuplus;","⤍":"&rbarr;","⧫":"&lozf;","▴":"&utrif;","▾":"&dtrif;","◂":"&ltrif;","▸":"&rtrif;","␣":"&blank;","▒":"&blk12;","░":"&blk14;","▓":"&blk34;","█":"&block;","=⃥":"&bne;","≡⃥":"&bnequiv;","⌐":"&bnot;","𝕓":"&bopf;","⋈":"&bowtie;","╗":"&boxDL;","╔":"&boxDR;","╖":"&boxDl;","╓":"&boxDr;","═":"&boxH;","╦":"&boxHD;","╩":"&boxHU;","╤":"&boxHd;","╧":"&boxHu;","╝":"&boxUL;","╚":"&boxUR;","╜":"&boxUl;","╙":"&boxUr;","║":"&boxV;","╬":"&boxVH;","╣":"&boxVL;","╠":"&boxVR;","╫":"&boxVh;","╢":"&boxVl;","╟":"&boxVr;","⧉":"&boxbox;","╕":"&boxdL;","╒":"&boxdR;","┐":"&boxdl;","┌":"&boxdr;","╥":"&boxhD;","╨":"&boxhU;","┬":"&boxhd;","┴":"&boxhu;","⊟":"&minusb;","⊞":"&plusb;","⊠":"&timesb;","╛":"&boxuL;","╘":"&boxuR;","┘":"&boxul;","└":"&boxur;","│":"&boxv;","╪":"&boxvH;","╡":"&boxvL;","╞":"&boxvR;","┼":"&boxvh;","┤":"&boxvl;","├":"&boxvr;","¦":"&brvbar;","𝒷":"&bscr;","⁏":"&bsemi;","\\":"&bsol;","⧅":"&bsolb;","⟈":"&bsolhsub;","•":"&bullet;","⪮":"&bumpE;",ć:"&cacute;","∩":"&cap;","⩄":"&capand;","⩉":"&capbrcup;","⩋":"&capcap;","⩇":"&capcup;","⩀":"&capdot;","∩︀":"&caps;","⁁":"&caret;","⩍":"&ccaps;",č:"&ccaron;",ç:"&ccedil;",ĉ:"&ccirc;","⩌":"&ccups;","⩐":"&ccupssm;",ċ:"&cdot;","⦲":"&cemptyv;","¢":"&cent;","𝔠":"&cfr;",ч:"&chcy;","✓":"&checkmark;",χ:"&chi;","○":"&cir;","⧃":"&cirE;","ˆ":"&circ;","≗":"&cire;","↺":"&olarr;","↻":"&orarr;","Ⓢ":"&oS;","⊛":"&oast;","⊚":"&ocir;","⊝":"&odash;","⨐":"&cirfnint;","⫯":"&cirmid;","⧂":"&cirscir;","♣":"&clubsuit;",":":"&colon;",",":"&comma;","@":"&commat;","∁":"&complement;","⩭":"&congdot;","𝕔":"&copf;","℗":"&copysr;","↵":"&crarr;","✗":"&cross;","𝒸":"&cscr;","⫏":"&csub;","⫑":"&csube;","⫐":"&csup;","⫒":"&csupe;","⋯":"&ctdot;","⤸":"&cudarrl;","⤵":"&cudarrr;","⋞":"&curlyeqprec;","⋟":"&curlyeqsucc;","↶":"&curvearrowleft;","⤽":"&cularrp;","∪":"&cup;","⩈":"&cupbrcap;","⩆":"&cupcap;","⩊":"&cupcup;","⊍":"&cupdot;","⩅":"&cupor;","∪︀":"&cups;","↷":"&curvearrowright;","⤼":"&curarrm;","⋎":"&cuvee;","⋏":"&cuwed;","¤":"&curren;","∱":"&cwint;","⌭":"&cylcty;","⥥":"&dHar;","†":"&dagger;",ℸ:"&daleth;","‐":"&hyphen;","⤏":"&rBarr;",ď:"&dcaron;",д:"&dcy;","⇊":"&downdownarrows;","⩷":"&eDDot;","°":"&deg;",δ:"&delta;","⦱":"&demptyv;","⥿":"&dfisht;","𝔡":"&dfr;","♦":"&diams;",ϝ:"&gammad;","⋲":"&disin;","÷":"&divide;","⋇":"&divonx;",ђ:"&djcy;","⌞":"&llcorner;","⌍":"&dlcrop;",$:"&dollar;","𝕕":"&dopf;","≑":"&eDot;","∸":"&minusd;","∔":"&plusdo;","⊡":"&sdotb;","⌟":"&lrcorner;","⌌":"&drcrop;","𝒹":"&dscr;",ѕ:"&dscy;","⧶":"&dsol;",đ:"&dstrok;","⋱":"&dtdot;","▿":"&triangledown;","⦦":"&dwangle;",џ:"&dzcy;","⟿":"&dzigrarr;",é:"&eacute;","⩮":"&easter;",ě:"&ecaron;","≖":"&eqcirc;",ê:"&ecirc;","≕":"&eqcolon;",э:"&ecy;",ė:"&edot;","≒":"&fallingdotseq;","𝔢":"&efr;","⪚":"&eg;",è:"&egrave;","⪖":"&eqslantgtr;","⪘":"&egsdot;","⪙":"&el;","⏧":"&elinters;",ℓ:"&ell;","⪕":"&eqslantless;","⪗":"&elsdot;",ē:"&emacr;","∅":"&varnothing;"," ":"&emsp13;"," ":"&emsp14;"," ":"&emsp;",ŋ:"&eng;"," ":"&ensp;",ę:"&eogon;","𝕖":"&eopf;","⋕":"&epar;","⧣":"&eparsl;","⩱":"&eplus;",ε:"&epsilon;","ϵ":"&varepsilon;","=":"&equals;","≟":"&questeq;","⩸":"&equivDD;","⧥":"&eqvparsl;","≓":"&risingdotseq;","⥱":"&erarr;",ℯ:"&escr;",η:"&eta;",ð:"&eth;",ë:"&euml;","€":"&euro;","!":"&excl;",ф:"&fcy;","♀":"&female;",ﬃ:"&ffilig;",ﬀ:"&fflig;",ﬄ:"&ffllig;","𝔣":"&ffr;",ﬁ:"&filig;",fj:"&fjlig;","♭":"&flat;",ﬂ:"&fllig;","▱":"&fltns;",ƒ:"&fnof;","𝕗":"&fopf;","⋔":"&pitchfork;","⫙":"&forkv;","⨍":"&fpartint;","½":"&half;","⅓":"&frac13;","¼":"&frac14;","⅕":"&frac15;","⅙":"&frac16;","⅛":"&frac18;","⅔":"&frac23;","⅖":"&frac25;","¾":"&frac34;","⅗":"&frac35;","⅜":"&frac38;","⅘":"&frac45;","⅚":"&frac56;","⅝":"&frac58;","⅞":"&frac78;","⁄":"&frasl;","⌢":"&sfrown;","𝒻":"&fscr;","⪌":"&gtreqqless;",ǵ:"&gacute;",γ:"&gamma;","⪆":"&gtrapprox;",ğ:"&gbreve;",ĝ:"&gcirc;",г:"&gcy;",ġ:"&gdot;","⪩":"&gescc;","⪀":"&gesdot;","⪂":"&gesdoto;","⪄":"&gesdotol;","⋛︀":"&gesl;","⪔":"&gesles;","𝔤":"&gfr;",ℷ:"&gimel;",ѓ:"&gjcy;","⪒":"&glE;","⪥":"&gla;","⪤":"&glj;","≩":"&gneqq;","⪊":"&gnapprox;","⪈":"&gneq;","⋧":"&gnsim;","𝕘":"&gopf;",ℊ:"&gscr;","⪎":"&gsime;","⪐":"&gsiml;","⪧":"&gtcc;","⩺":"&gtcir;","⋗":"&gtrdot;","⦕":"&gtlPar;","⩼":"&gtquest;","⥸":"&gtrarr;","≩︀":"&gvnE;",ъ:"&hardcy;","⥈":"&harrcir;","↭":"&leftrightsquigarrow;",ℏ:"&plankv;",ĥ:"&hcirc;","♥":"&heartsuit;","…":"&mldr;","⊹":"&hercon;","𝔥":"&hfr;","⤥":"&searhk;","⤦":"&swarhk;","⇿":"&hoarr;","∻":"&homtht;","↩":"&larrhk;","↪":"&rarrhk;","𝕙":"&hopf;","―":"&horbar;","𝒽":"&hscr;",ħ:"&hstrok;","⁃":"&hybull;",í:"&iacute;",î:"&icirc;",и:"&icy;",е:"&iecy;","¡":"&iexcl;","𝔦":"&ifr;",ì:"&igrave;","⨌":"&qint;","∭":"&tint;","⧜":"&iinfin;","℩":"&iiota;",ĳ:"&ijlig;",ī:"&imacr;",ı:"&inodot;","⊷":"&imof;",Ƶ:"&imped;","℅":"&incare;","∞":"&infin;","⧝":"&infintie;","⊺":"&intercal;","⨗":"&intlarhk;","⨼":"&iprod;",ё:"&iocy;",į:"&iogon;","𝕚":"&iopf;",ι:"&iota;","¿":"&iquest;","𝒾":"&iscr;","⋹":"&isinE;","⋵":"&isindot;","⋴":"&isins;","⋳":"&isinsv;",ĩ:"&itilde;",і:"&iukcy;",ï:"&iuml;",ĵ:"&jcirc;",й:"&jcy;","𝔧":"&jfr;","ȷ":"&jmath;","𝕛":"&jopf;","𝒿":"&jscr;",ј:"&jsercy;",є:"&jukcy;",κ:"&kappa;",ϰ:"&varkappa;",ķ:"&kcedil;",к:"&kcy;","𝔨":"&kfr;",ĸ:"&kgreen;",х:"&khcy;",ќ:"&kjcy;","𝕜":"&kopf;","𝓀":"&kscr;","⤛":"&lAtail;","⤎":"&lBarr;","⪋":"&lesseqqgtr;","⥢":"&lHar;",ĺ:"&lacute;","⦴":"&laemptyv;",λ:"&lambda;","⦑":"&langd;","⪅":"&lessapprox;","«":"&laquo;","⤟":"&larrbfs;","⤝":"&larrfs;","↫":"&looparrowleft;","⤹":"&larrpl;","⥳":"&larrsim;","↢":"&leftarrowtail;","⪫":"&lat;","⤙":"&latail;","⪭":"&late;","⪭︀":"&lates;","⤌":"&lbarr;","❲":"&lbbrk;","{":"&lcub;","[":"&lsqb;","⦋":"&lbrke;","⦏":"&lbrksld;","⦍":"&lbrkslu;",ľ:"&lcaron;",ļ:"&lcedil;",л:"&lcy;","⤶":"&ldca;","⥧":"&ldrdhar;","⥋":"&ldrushar;","↲":"&ldsh;","≤":"&leq;","⇇":"&llarr;","⋋":"&lthree;","⪨":"&lescc;","⩿":"&lesdot;","⪁":"&lesdoto;","⪃":"&lesdotor;","⋚︀":"&lesg;","⪓":"&lesges;","⋖":"&ltdot;","⥼":"&lfisht;","𝔩":"&lfr;","⪑":"&lgE;","⥪":"&lharul;","▄":"&lhblk;",љ:"&ljcy;","⥫":"&llhard;","◺":"&lltri;",ŀ:"&lmidot;","⎰":"&lmoustache;","≨":"&lneqq;","⪉":"&lnapprox;","⪇":"&lneq;","⋦":"&lnsim;","⟬":"&loang;","⇽":"&loarr;","⟼":"&xmap;","↬":"&rarrlp;","⦅":"&lopar;","𝕝":"&lopf;","⨭":"&loplus;","⨴":"&lotimes;","∗":"&lowast;","◊":"&lozenge;","(":"&lpar;","⦓":"&lparlt;","⥭":"&lrhard;","‎":"&lrm;","⊿":"&lrtri;","‹":"&lsaquo;","𝓁":"&lscr;","⪍":"&lsime;","⪏":"&lsimg;","‚":"&sbquo;",ł:"&lstrok;","⪦":"&ltcc;","⩹":"&ltcir;","⋉":"&ltimes;","⥶":"&ltlarr;","⩻":"&ltquest;","⦖":"&ltrPar;","◃":"&triangleleft;","⥊":"&lurdshar;","⥦":"&luruhar;","≨︀":"&lvnE;","∺":"&mDDot;","¯":"&strns;","♂":"&male;","✠":"&maltese;","▮":"&marker;","⨩":"&mcomma;",м:"&mcy;","—":"&mdash;","𝔪":"&mfr;","℧":"&mho;",µ:"&micro;","⫰":"&midcir;","−":"&minus;","⨪":"&minusdu;","⫛":"&mlcp;","⊧":"&models;","𝕞":"&mopf;","𝓂":"&mscr;",μ:"&mu;","⊸":"&mumap;","⋙̸":"&nGg;","≫⃒":"&nGt;","⇍":"&nlArr;","⇎":"&nhArr;","⋘̸":"&nLl;","≪⃒":"&nLt;","⇏":"&nrArr;","⊯":"&nVDash;","⊮":"&nVdash;",ń:"&nacute;","∠⃒":"&nang;","⩰̸":"&napE;","≋̸":"&napid;",ŉ:"&napos;","♮":"&natural;","⩃":"&ncap;",ň:"&ncaron;",ņ:"&ncedil;","⩭̸":"&ncongdot;","⩂":"&ncup;",н:"&ncy;","–":"&ndash;","⇗":"&neArr;","⤤":"&nearhk;","≐̸":"&nedot;","⤨":"&toea;","𝔫":"&nfr;","↮":"&nleftrightarrow;","⫲":"&nhpar;","⋼":"&nis;","⋺":"&nisd;",њ:"&njcy;","≦̸":"&nleqq;","↚":"&nleftarrow;","‥":"&nldr;","𝕟":"&nopf;","¬":"&not;","⋹̸":"&notinE;","⋵̸":"&notindot;","⋷":"&notinvb;","⋶":"&notinvc;","⋾":"&notnivb;","⋽":"&notnivc;","⫽⃥":"&nparsl;","∂̸":"&npart;","⨔":"&npolint;","↛":"&nrightarrow;","⤳̸":"&nrarrc;","↝̸":"&nrarrw;","𝓃":"&nscr;","⊄":"&nsub;","⫅̸":"&nsubseteqq;","⊅":"&nsup;","⫆̸":"&nsupseteqq;",ñ:"&ntilde;",ν:"&nu;","#":"&num;","№":"&numero;"," ":"&numsp;","⊭":"&nvDash;","⤄":"&nvHarr;","≍⃒":"&nvap;","⊬":"&nvdash;","≥⃒":"&nvge;",">⃒":"&nvgt;","⧞":"&nvinfin;","⤂":"&nvlArr;","≤⃒":"&nvle;","<⃒":"&nvlt;","⊴⃒":"&nvltrie;","⤃":"&nvrArr;","⊵⃒":"&nvrtrie;","∼⃒":"&nvsim;","⇖":"&nwArr;","⤣":"&nwarhk;","⤧":"&nwnear;",ó:"&oacute;",ô:"&ocirc;",о:"&ocy;",ő:"&odblac;","⨸":"&odiv;","⦼":"&odsold;",œ:"&oelig;","⦿":"&ofcir;","𝔬":"&ofr;","˛":"&ogon;",ò:"&ograve;","⧁":"&ogt;","⦵":"&ohbar;","⦾":"&olcir;","⦻":"&olcross;","⧀":"&olt;",ō:"&omacr;",ω:"&omega;",ο:"&omicron;","⦶":"&omid;","𝕠":"&oopf;","⦷":"&opar;","⦹":"&operp;","∨":"&vee;","⩝":"&ord;",ℴ:"&oscr;",ª:"&ordf;",º:"&ordm;","⊶":"&origof;","⩖":"&oror;","⩗":"&orslope;","⩛":"&orv;",ø:"&oslash;","⊘":"&osol;",õ:"&otilde;","⨶":"&otimesas;",ö:"&ouml;","⌽":"&ovbar;","¶":"&para;","⫳":"&parsim;","⫽":"&parsl;",п:"&pcy;","%":"&percnt;",".":"&period;","‰":"&permil;","‱":"&pertenk;","𝔭":"&pfr;",φ:"&phi;",ϕ:"&varphi;","☎":"&phone;",π:"&pi;",ϖ:"&varpi;",ℎ:"&planckh;","+":"&plus;","⨣":"&plusacir;","⨢":"&pluscir;","⨥":"&plusdu;","⩲":"&pluse;","⨦":"&plussim;","⨧":"&plustwo;","⨕":"&pointint;","𝕡":"&popf;","£":"&pound;","⪳":"&prE;","⪷":"&precapprox;","⪹":"&prnap;","⪵":"&prnE;","⋨":"&prnsim;","′":"&prime;","⌮":"&profalar;","⌒":"&profline;","⌓":"&profsurf;","⊰":"&prurel;","𝓅":"&pscr;",ψ:"&psi;"," ":"&puncsp;","𝔮":"&qfr;","𝕢":"&qopf;","⁗":"&qprime;","𝓆":"&qscr;","⨖":"&quatint;","?":"&quest;","⤜":"&rAtail;","⥤":"&rHar;","∽̱":"&race;",ŕ:"&racute;","⦳":"&raemptyv;","⦒":"&rangd;","⦥":"&range;","»":"&raquo;","⥵":"&rarrap;","⤠":"&rarrbfs;","⤳":"&rarrc;","⤞":"&rarrfs;","⥅":"&rarrpl;","⥴":"&rarrsim;","↣":"&rightarrowtail;","↝":"&rightsquigarrow;","⤚":"&ratail;","∶":"&ratio;","❳":"&rbbrk;","}":"&rcub;","]":"&rsqb;","⦌":"&rbrke;","⦎":"&rbrksld;","⦐":"&rbrkslu;",ř:"&rcaron;",ŗ:"&rcedil;",р:"&rcy;","⤷":"&rdca;","⥩":"&rdldhar;","↳":"&rdsh;","▭":"&rect;","⥽":"&rfisht;","𝔯":"&rfr;","⥬":"&rharul;",ρ:"&rho;",ϱ:"&varrho;","⇉":"&rrarr;","⋌":"&rthree;","˚":"&ring;","‏":"&rlm;","⎱":"&rmoustache;","⫮":"&rnmid;","⟭":"&roang;","⇾":"&roarr;","⦆":"&ropar;","𝕣":"&ropf;","⨮":"&roplus;","⨵":"&rotimes;",")":"&rpar;","⦔":"&rpargt;","⨒":"&rppolint;","›":"&rsaquo;","𝓇":"&rscr;","⋊":"&rtimes;","▹":"&triangleright;","⧎":"&rtriltri;","⥨":"&ruluhar;","℞":"&rx;",ś:"&sacute;","⪴":"&scE;","⪸":"&succapprox;",š:"&scaron;",ş:"&scedil;",ŝ:"&scirc;","⪶":"&succneqq;","⪺":"&succnapprox;","⋩":"&succnsim;","⨓":"&scpolint;",с:"&scy;","⋅":"&sdot;","⩦":"&sdote;","⇘":"&seArr;","§":"&sect;",";":"&semi;","⤩":"&tosa;","✶":"&sext;","𝔰":"&sfr;","♯":"&sharp;",щ:"&shchcy;",ш:"&shcy;","­":"&shy;",σ:"&sigma;",ς:"&varsigma;","⩪":"&simdot;","⪞":"&simg;","⪠":"&simgE;","⪝":"&siml;","⪟":"&simlE;","≆":"&simne;","⨤":"&simplus;","⥲":"&simrarr;","⨳":"&smashp;","⧤":"&smeparsl;","⌣":"&ssmile;","⪪":"&smt;","⪬":"&smte;","⪬︀":"&smtes;",ь:"&softcy;","/":"&sol;","⧄":"&solb;","⌿":"&solbar;","𝕤":"&sopf;","♠":"&spadesuit;","⊓︀":"&sqcaps;","⊔︀":"&sqcups;","𝓈":"&sscr;","☆":"&star;","⊂":"&subset;","⫅":"&subseteqq;","⪽":"&subdot;","⫃":"&subedot;","⫁":"&submult;","⫋":"&subsetneqq;","⊊":"&subsetneq;","⪿":"&subplus;","⥹":"&subrarr;","⫇":"&subsim;","⫕":"&subsub;","⫓":"&subsup;","♪":"&sung;","¹":"&sup1;","²":"&sup2;","³":"&sup3;","⫆":"&supseteqq;","⪾":"&supdot;","⫘":"&supdsub;","⫄":"&supedot;","⟉":"&suphsol;","⫗":"&suphsub;","⥻":"&suplarr;","⫂":"&supmult;","⫌":"&supsetneqq;","⊋":"&supsetneq;","⫀":"&supplus;","⫈":"&supsim;","⫔":"&supsub;","⫖":"&supsup;","⇙":"&swArr;","⤪":"&swnwar;",ß:"&szlig;","⌖":"&target;",τ:"&tau;",ť:"&tcaron;",ţ:"&tcedil;",т:"&tcy;","⌕":"&telrec;","𝔱":"&tfr;",θ:"&theta;",ϑ:"&vartheta;",þ:"&thorn;","×":"&times;","⨱":"&timesbar;","⨰":"&timesd;","⌶":"&topbot;","⫱":"&topcir;","𝕥":"&topf;","⫚":"&topfork;","‴":"&tprime;","▵":"&utri;","≜":"&trie;","◬":"&tridot;","⨺":"&triminus;","⨹":"&triplus;","⧍":"&trisb;","⨻":"&tritime;","⏢":"&trpezium;","𝓉":"&tscr;",ц:"&tscy;",ћ:"&tshcy;",ŧ:"&tstrok;","⥣":"&uHar;",ú:"&uacute;",ў:"&ubrcy;",ŭ:"&ubreve;",û:"&ucirc;",у:"&ucy;",ű:"&udblac;","⥾":"&ufisht;","𝔲":"&ufr;",ù:"&ugrave;","▀":"&uhblk;","⌜":"&ulcorner;","⌏":"&ulcrop;","◸":"&ultri;",ū:"&umacr;",ų:"&uogon;","𝕦":"&uopf;",υ:"&upsilon;","⇈":"&uuarr;","⌝":"&urcorner;","⌎":"&urcrop;",ů:"&uring;","◹":"&urtri;","𝓊":"&uscr;","⋰":"&utdot;",ũ:"&utilde;",ü:"&uuml;","⦧":"&uwangle;","⫨":"&vBar;","⫩":"&vBarv;","⦜":"&vangrt;","⊊︀":"&vsubne;","⫋︀":"&vsubnE;","⊋︀":"&vsupne;","⫌︀":"&vsupnE;",в:"&vcy;","⊻":"&veebar;","≚":"&veeeq;","⋮":"&vellip;","𝔳":"&vfr;","𝕧":"&vopf;","𝓋":"&vscr;","⦚":"&vzigzag;",ŵ:"&wcirc;","⩟":"&wedbar;","≙":"&wedgeq;","℘":"&wp;","𝔴":"&wfr;","𝕨":"&wopf;","𝓌":"&wscr;","𝔵":"&xfr;",ξ:"&xi;","⋻":"&xnis;","𝕩":"&xopf;","𝓍":"&xscr;",ý:"&yacute;",я:"&yacy;",ŷ:"&ycirc;",ы:"&ycy;","¥":"&yen;","𝔶":"&yfr;",ї:"&yicy;","𝕪":"&yopf;","𝓎":"&yscr;",ю:"&yucy;",ÿ:"&yuml;",ź:"&zacute;",ž:"&zcaron;",з:"&zcy;",ż:"&zdot;",ζ:"&zeta;","𝔷":"&zfr;",ж:"&zhcy;","⇝":"&zigrarr;","𝕫":"&zopf;","𝓏":"&zscr;","‍":"&zwj;","‌":"&zwnj;"}}};var numericUnicodeMap={};Object.defineProperty(numericUnicodeMap,"__esModule",{value:!0});numericUnicodeMap.numericUnicodeMap={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376};var surrogatePairs={};Object.defineProperty(surrogatePairs,"__esModule",{value:!0});surrogatePairs.fromCodePoint=String.fromCodePoint||function(es){return String.fromCharCode(Math.floor((es-65536)/1024)+55296,(es-65536)%1024+56320)};surrogatePairs.getCodePoint=String.prototype.codePointAt?function(es,ki){return es.codePointAt(ki)}:function(es,ki){return(es.charCodeAt(ki)-55296)*1024+es.charCodeAt(ki+1)-56320+65536};surrogatePairs.highSurrogateFrom=55296;surrogatePairs.highSurrogateTo=56319;var __assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(es){for(var ki,Ri=1,ts=arguments.length;Ri<ts;Ri++){ki=arguments[Ri];for(var rs in ki)Object.prototype.hasOwnProperty.call(ki,rs)&&(es[rs]=ki[rs])}return es},__assign.apply(this,arguments)};Object.defineProperty(lib,"__esModule",{value:!0});var named_references_1=namedReferences,numeric_unicode_map_1=numericUnicodeMap,surrogate_pairs_1=surrogatePairs,allNamedReferences=__assign(__assign({},named_references_1.namedReferences),{all:named_references_1.namedReferences.html5});function replaceUsingRegExp(es,ki,Ri){ki.lastIndex=0;var ts=ki.exec(es),rs;if(ts){rs="";var is=0;do{is!==ts.index&&(rs+=es.substring(is,ts.index));var ns=ts[0];rs+=Ri(ns),is=ts.index+ns.length}while(ts=ki.exec(es));is!==es.length&&(rs+=es.substring(is))}else rs=es;return rs}var encodeRegExps={specialChars:/[<>'"&]/g,nonAscii:/[<>'"&\u0080-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g,nonAsciiPrintable:/[<>'"&\x01-\x08\x11-\x15\x17-\x1F\x7f-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g,nonAsciiPrintableOnly:/[\x01-\x08\x11-\x15\x17-\x1F\x7f-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g,extensive:/[\x01-\x0c\x0e-\x1f\x21-\x2c\x2e-\x2f\x3a-\x40\x5b-\x60\x7b-\x7d\x7f-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g},defaultEncodeOptions={mode:"specialChars",level:"all",numeric:"decimal"};function encode(es,ki){var Ri=ki===void 0?defaultEncodeOptions:ki,ts=Ri.mode,rs=ts===void 0?"specialChars":ts,is=Ri.numeric,ns=is===void 0?"decimal":is,ss=Ri.level,os=ss===void 0?"all":ss;if(!es)return"";var ls=encodeRegExps[rs],cs=allNamedReferences[os].characters,hs=ns==="hexadecimal";return replaceUsingRegExp(es,ls,function(us){var As=cs[us];if(!As){var bs=us.length>1?surrogate_pairs_1.getCodePoint(us,0):us.charCodeAt(0);As=(hs?"&#x"+bs.toString(16):"&#"+bs)+";"}return As})}lib.encode=encode;var defaultDecodeOptions={scope:"body",level:"all"},strict=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);/g,attribute=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+)[;=]?/g,baseDecodeRegExps={xml:{strict,attribute,body:named_references_1.bodyRegExps.xml},html4:{strict,attribute,body:named_references_1.bodyRegExps.html4},html5:{strict,attribute,body:named_references_1.bodyRegExps.html5}},decodeRegExps=__assign(__assign({},baseDecodeRegExps),{all:baseDecodeRegExps.html5}),fromCharCode=String.fromCharCode,outOfBoundsChar=fromCharCode(65533),defaultDecodeEntityOptions={level:"all"};function getDecodedEntity(es,ki,Ri,ts){var rs=es,is=es[es.length-1];if(Ri&&is==="=")rs=es;else if(ts&&is!==";")rs=es;else{var ns=ki[es];if(ns)rs=ns;else if(es[0]==="&"&&es[1]==="#"){var ss=es[2],os=ss=="x"||ss=="X"?parseInt(es.substr(3),16):parseInt(es.substr(2));rs=os>=1114111?outOfBoundsChar:os>65535?surrogate_pairs_1.fromCodePoint(os):fromCharCode(numeric_unicode_map_1.numericUnicodeMap[os]||os)}}return rs}function decodeEntity(es,ki){var Ri=(ki===void 0?defaultDecodeEntityOptions:ki).level,ts=Ri===void 0?"all":Ri;return es?getDecodedEntity(es,allNamedReferences[ts].entities,!1,!1):""}lib.decodeEntity=decodeEntity;function decode(es,ki){var Ri=ki===void 0?defaultDecodeOptions:ki,ts=Ri.level,rs=ts===void 0?"all":ts,is=Ri.scope,ns=is===void 0?rs==="xml"?"strict":"body":is;if(!es)return"";var ss=decodeRegExps[rs][ns],os=allNamedReferences[rs].entities,ls=ns==="attribute",cs=ns==="strict";return replaceUsingRegExp(es,ss,function(hs){return getDecodedEntity(hs,os,ls,cs)})}var decode_1=lib.decode=decode;/**
 * @name ranges-sort
 * @fileoverview Sort string index ranges
 * @version 6.0.11
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/ranges-sort/}
 */var d$2={strictlyTwoElementsInRangeArrays:!1,progressFn:null};function g$1(es,ki){if(!Array.isArray(es)||!es.length)return es;let Ri={...d$2,...ki},ts,rs;if(Ri.strictlyTwoElementsInRangeArrays&&!es.every((ss,os)=>!Array.isArray(ss)||ss.length!==2?(ts=os,rs=ss.length,!1):!0))throw new TypeError(`ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, ${ts}th range (${JSON.stringify(es[ts],null,4)}) has not two but ${rs} elements!`);if(!es.every((ss,os)=>!Array.isArray(ss)||!Number.isInteger(ss[0])||ss[0]<0||!Number.isInteger(ss[1])||ss[1]<0?(ts=os,!1):!0))throw new TypeError(`ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, ${ts}th range (${JSON.stringify(es[ts],null,4)}) does not consist of only natural numbers!`);let is=es.length**2,ns=0;return Array.from(es).sort((ss,os)=>(Ri.progressFn&&(ns+=1,Ri.progressFn(Math.floor(ns*100/is))),ss[0]===os[0]?ss[1]<os[1]?-1:ss[1]>os[1]?1:0:ss[0]<os[0]?-1:1))}/**
 * @name ranges-merge
 * @fileoverview Merge and sort string index ranges
 * @version 9.0.15
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/ranges-merge/}
 */var d$1={mergeType:1,progressFn:null,joinRangesThatTouchEdges:!0};function b$1(es,ki){function Ri(ls){return!!ls&&typeof ls=="object"&&!Array.isArray(ls)}if(!Array.isArray(es)||!es.length)return null;let ts;if(ki)if(Ri(ki)){if(ts={...d$1,...ki},ts.progressFn&&Ri(ts.progressFn)&&!Object.keys(ts.progressFn).length)ts.progressFn=null;else if(ts.progressFn&&typeof ts.progressFn!="function")throw new Error(`ranges-merge: [THROW_ID_01] opts.progressFn must be a function! It was given of a type: "${typeof ts.progressFn}", equal to ${JSON.stringify(ts.progressFn,null,4)}`);if(![1,2,"1","2"].includes(ts.mergeType))throw new Error(`ranges-merge: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "${typeof ts.mergeType}", equal to ${JSON.stringify(ts.mergeType,null,4)}`);if(typeof ts.joinRangesThatTouchEdges!="boolean")throw new Error(`ranges-merge: [THROW_ID_04] opts.joinRangesThatTouchEdges was customised to a wrong thing! It was given of a type: "${typeof ts.joinRangesThatTouchEdges}", equal to ${JSON.stringify(ts.joinRangesThatTouchEdges,null,4)}`)}else throw new Error(`emlint: [THROW_ID_03] the second input argument must be a plain object. It was given as:
${JSON.stringify(ki,null,4)} (type ${typeof ki})`);else ts={...d$1};let rs=es.filter(ls=>Array.isArray(ls)).map(ls=>[...ls]).filter(ls=>ls[2]!==void 0||ls[0]!==ls[1]),is,ns,ss;ts.progressFn?is=g$1(rs,{progressFn:ls=>{ss=Math.floor(ls/5),ss!==ns&&(ns=ss,ts.progressFn(ss))}}):is=g$1(rs);let os=is.length-1;for(let ls=os;ls>0;ls--)ts.progressFn&&(ss=Math.floor((1-ls/os)*78)+21,ss!==ns&&ss>ns&&(ns=ss,ts.progressFn(ss))),(is[ls][0]<=is[ls-1][0]||!ts.joinRangesThatTouchEdges&&is[ls][0]<is[ls-1][1]||ts.joinRangesThatTouchEdges&&is[ls][0]<=is[ls-1][1])&&(is[ls-1][0]=Math.min(is[ls][0],is[ls-1][0]),is[ls-1][1]=Math.max(is[ls][1],is[ls-1][1]),is[ls][2]!==void 0&&(is[ls-1][0]>=is[ls][0]||is[ls-1][1]<=is[ls][1])&&is[ls-1][2]!==null&&(is[ls][2]===null&&is[ls-1][2]!==null?is[ls-1][2]=null:is[ls-1][2]!=null?+ts.mergeType==2&&is[ls-1][0]===is[ls][0]?is[ls-1][2]=is[ls][2]:is[ls-1][2]+=is[ls][2]:is[ls-1][2]=is[ls][2]),is.splice(ls,1),ls=is.length);return is.length?is:null}var prefix="Invariant failed";function invariant(es,ki){if(!es)throw new Error(prefix)}/**
 * @name ranges-apply
 * @fileoverview Take an array of string index ranges, delete/replace the string according to them
 * @version 7.0.16
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/ranges-apply/}
 */function _$1(es,ki,Ri){if(arguments.length===0)throw new Error("ranges-apply: [THROW_ID_01] inputs missing!");if(typeof es!="string")throw new TypeError(`ranges-apply: [THROW_ID_02] first input argument must be a string! Currently it's: ${typeof es}, equal to: ${JSON.stringify(es,null,4)}`);if(ki&&!Array.isArray(ki))throw new TypeError(`ranges-apply: [THROW_ID_03] second input argument must be an array (or null)! Currently it's: ${typeof ki}, equal to: ${JSON.stringify(ki,null,4)}`);if(!(ki!=null&&ki.filter(ns=>ns).length))return es;let ts;Array.isArray(ki)&&Number.isInteger(ki[0])&&Number.isInteger(ki[1])?ts=[Array.from(ki)]:ts=Array.from(ki),ts.length,ts.filter(ns=>ns).forEach((ns,ss)=>{if(!Array.isArray(ns))throw new TypeError(`ranges-apply: [THROW_ID_05] ranges array, second input arg., has ${ss}th element not an array: ${JSON.stringify(ns,null,4)}, which is ${typeof ns}`);if(!Number.isInteger(ns[0])){if(!Number.isInteger(+ns[0])||+ns[0]<0)throw new TypeError(`ranges-apply: [THROW_ID_06] ranges array, second input arg. has ${ss}th element, array ${JSON.stringify(ns,null,0)}. Its first element is not an integer, string index, but ${typeof ns[0]}, equal to: ${JSON.stringify(ns[0],null,4)}.`);ts[ss][0]=+ts[ss][0]}if(!Number.isInteger(ns[1])){if(!Number.isInteger(+ns[1])||+ns[1]<0)throw new TypeError(`ranges-apply: [THROW_ID_07] ranges array, second input arg. has ${ss}th element, array ${JSON.stringify(ns,null,0)}. Its second element is not an integer, string index, but ${typeof ns[1]}, equal to: ${JSON.stringify(ns[1],null,4)}.`);ts[ss][1]=+ts[ss][1]}});let rs=b$1(ts,{progressFn:ns=>{}});invariant(rs);let is=rs.length;if(is>0){let ns=es.slice(rs[is-1][1]);es=rs.reduce((ss,os,ls,cs)=>{let hs=ls===0?0:cs[ls-1][1],us=cs[ls][0];return`${ss}${es.slice(hs,us)}${cs[ls][2]||""}`},""),es+=ns}return es}/**
 * @name string-collapse-leading-whitespace
 * @fileoverview Collapse the leading and trailing whitespace of a string
 * @version 7.0.7
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/string-collapse-leading-whitespace/}
 */function D$2(es,ki=1){let Ri=" ";function ts(is){return Array.from(is).reverse().join("")}function rs(is,ns,ss){let os=ss?`
`:"\r",ls=ss?"\r":`
`;if(!is)return is;let cs=0,hs="";for(let us=0,As=is.length;us<As;us++)(is[us]===os||is[us]===ls&&is[us-1]!==os)&&cs++,`\r
`.includes(is[us])||is[us]===Ri?is[us]===Ri?hs+=is[us]:is[us]===os?cs<=ns&&(hs+=is[us],is[us+1]===ls&&(hs+=is[us+1],us++)):is[us]===ls&&(is==null?void 0:is[us-1])!==os&&cs<=ns&&(hs+=is[us]):!is[us+1]&&!cs&&(hs+=" ");return hs}if(typeof es=="string"&&es.length){let is=1;typeof+ki=="number"&&Number.isInteger(+ki)&&+ki>=0&&(is=+ki);let ns="",ss="";if(!es.trim())ns=es;else if(!es[0].trim()){for(let os=0,ls=es.length;os<ls;os++)if(es[os].trim()){ns=es.slice(0,os);break}}if(es.trim()&&(es.slice(-1).trim()===""||es.slice(-1)===Ri)){for(let os=es.length;os--;)if(es[os].trim()){ss=es.slice(os+1);break}}return`${rs(ns,is,!1)}${es.trim()}${ts(rs(ts(ss),is,!0))}`}return es}/**
 * @name ranges-push
 * @fileoverview Gather string index ranges
 * @version 7.0.15
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/ranges-push/}
 */var f$1={mergeType:1,progressFn:null,joinRangesThatTouchEdges:!0};function $$2(es,ki){function Ri(ls){return!!ls&&typeof ls=="object"&&!Array.isArray(ls)}if(!Array.isArray(es)||!es.length)return null;let ts;if(ki)if(Ri(ki)){if(ts={...f$1,...ki},ts.progressFn&&Ri(ts.progressFn)&&!Object.keys(ts.progressFn).length)ts.progressFn=null;else if(ts.progressFn&&typeof ts.progressFn!="function")throw new Error(`ranges-merge: [THROW_ID_01] resolvedOpts.progressFn must be a function! It was given of a type: "${typeof ts.progressFn}", equal to ${JSON.stringify(ts.progressFn,null,4)}`);if(![1,2,"1","2"].includes(ts.mergeType))throw new Error(`ranges-merge: [THROW_ID_02] resolvedOpts.mergeType was customised to a wrong thing! It was given of a type: "${typeof ts.mergeType}", equal to ${JSON.stringify(ts.mergeType,null,4)}`);if(typeof ts.joinRangesThatTouchEdges!="boolean")throw new Error(`ranges-merge: [THROW_ID_04] resolvedOpts.joinRangesThatTouchEdges was customised to a wrong thing! It was given of a type: "${typeof ts.joinRangesThatTouchEdges}", equal to ${JSON.stringify(ts.joinRangesThatTouchEdges,null,4)}`)}else throw new Error(`emlint: [THROW_ID_03] the second input argument must be a plain object. It was given as:
${JSON.stringify(ki,null,4)} (type ${typeof ki})`);else ts={...f$1};let rs=es.filter(ls=>Array.isArray(ls)).map(ls=>[...ls]).filter(ls=>ls[2]!==void 0||ls[0]!==ls[1]),is,ns,ss;ts.progressFn?is=g$1(rs,{progressFn:ls=>{ss=Math.floor(ls/5),ss!==ns&&(ns=ss,ts.progressFn(ss))}}):is=g$1(rs);let os=is.length-1;for(let ls=os;ls>0;ls--)ts.progressFn&&(ss=Math.floor((1-ls/os)*78)+21,ss!==ns&&ss>ns&&(ns=ss,ts.progressFn(ss))),(is[ls][0]<=is[ls-1][0]||!ts.joinRangesThatTouchEdges&&is[ls][0]<is[ls-1][1]||ts.joinRangesThatTouchEdges&&is[ls][0]<=is[ls-1][1])&&(is[ls-1][0]=Math.min(is[ls][0],is[ls-1][0]),is[ls-1][1]=Math.max(is[ls][1],is[ls-1][1]),is[ls][2]!==void 0&&(is[ls-1][0]>=is[ls][0]||is[ls-1][1]<=is[ls][1])&&is[ls-1][2]!==null&&(is[ls][2]===null&&is[ls-1][2]!==null?is[ls-1][2]=null:is[ls-1][2]!=null?+ts.mergeType==2&&is[ls-1][0]===is[ls][0]?is[ls-1][2]=is[ls][2]:is[ls-1][2]+=is[ls][2]:is[ls-1][2]=is[ls][2]),is.splice(ls,1),ls=is.length);return is.length?is:null}var R$1={limitToBeAddedWhitespace:!1,limitLinebreaksCount:1,mergeType:1},y$1=class{constructor(ki){Ho(this,"ranges");Ho(this,"opts");let Ri={...R$1,...ki};if(Ri.mergeType&&Ri.mergeType!==1&&Ri.mergeType!==2)if(r$1(Ri.mergeType)&&Ri.mergeType.trim()==="1")Ri.mergeType=1;else if(r$1(Ri.mergeType)&&Ri.mergeType.trim()==="2")Ri.mergeType=2;else throw new Error(`ranges-push: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "${typeof Ri.mergeType}", equal to ${JSON.stringify(Ri.mergeType,null,4)}`);this.opts=Ri,this.ranges=[]}add(ki,Ri,ts){var ns;if(ki==null&&Ri==null)return;if(G$2(ki)&&!G$2(Ri)){if(Array.isArray(ki)){if(ki.length){if(ki.some(ss=>Array.isArray(ss))){ki.forEach(ss=>{Array.isArray(ss)&&this.add(...ss)});return}ki.length&&q$2(+ki[0])&&q$2(+ki[1])&&this.add(...ki)}return}throw new TypeError(`ranges-push/Ranges/add(): [THROW_ID_12] the first input argument, "from" is set (${JSON.stringify(ki,null,0)}) but second-one, "to" is not (${JSON.stringify(Ri,null,0)})`)}else if(!G$2(ki)&&G$2(Ri))throw new TypeError(`ranges-push/Ranges/add(): [THROW_ID_13] the second input argument, "to" is set (${JSON.stringify(Ri,null,0)}) but first-one, "from" is not (${JSON.stringify(ki,null,0)})`);let rs=+ki,is=+Ri;if(q$2(ts)&&(ts=String(ts)),q$2(rs)&&q$2(is)){if(G$2(ts)&&!r$1(ts)&&!q$2(ts))throw new TypeError(`ranges-push/Ranges/add(): [THROW_ID_08] The third argument, the value to add, was given not as string but ${typeof ts}, equal to:
${JSON.stringify(ts,null,4)}`);if(G$2(this.ranges)&&Array.isArray(this.last())&&rs===this.last()[1]){if(this.last()[1]=is,this.last()[2],this.last()[2]!==null&&G$2(ts)){let ss=this.last()[2]&&this.last()[2].length&&(!((ns=this.opts)!=null&&ns.mergeType)||this.opts.mergeType===1)?`${this.last()[2]}${ts}`:ts;this.opts.limitToBeAddedWhitespace&&(ss=D$2(ss,this.opts.limitLinebreaksCount)),r$1(ss)&&!ss.length||(this.last()[2]=ss)}}else{this.ranges||(this.ranges=[]);let ss=ts!==void 0&&!(r$1(ts)&&!ts.length)?[rs,is,ts&&this.opts.limitToBeAddedWhitespace?D$2(ts,this.opts.limitLinebreaksCount):ts]:[rs,is];this.ranges.push(ss)}}else throw q$2(rs)&&rs>=0?new TypeError(`ranges-push/Ranges/add(): [THROW_ID_10] "to" value, the second input argument, must be a natural number or zero! Currently it's of a type "${typeof is}" equal to: ${JSON.stringify(is,null,4)}`):new TypeError(`ranges-push/Ranges/add(): [THROW_ID_09] "from" value, the first input argument, must be a natural number or zero! Currently it's of a type "${typeof rs}" equal to: ${JSON.stringify(rs,null,4)}`)}push(ki,Ri,ts){this.add(ki,Ri,ts)}current(){return Array.isArray(this.ranges)&&this.ranges.length?(this.ranges=$$2(this.ranges,{mergeType:this.opts.mergeType}),this.ranges&&this.opts.limitToBeAddedWhitespace?this.ranges.map(ki=>G$2(ki[2])?[ki[0],ki[1],D$2(ki[2],this.opts.limitLinebreaksCount)]:ki):this.ranges):null}wipe(){this.ranges=[]}replace(ki){if(Array.isArray(ki)&&ki.length)if(Array.isArray(ki[0])&&q$2(ki[0][0]))this.ranges=Array.from(ki);else throw new Error(`ranges-push/Ranges/replace(): [THROW_ID_11] Single range was given but we expected array of arrays! The first element, ${JSON.stringify(ki[0],null,4)} should be an array and its first element should be an integer, a string index.`);else this.ranges=[]}last(){return Array.isArray(this.ranges)&&this.ranges.length?this.ranges[this.ranges.length-1]:null}};/**
 * @name string-left-right
 * @fileoverview Looks up the first non-whitespace character to the left/right of a given index
 * @version 6.0.17
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/string-left-right/}
 */I$1();var c$1=" ";function D$1({str:es,idx:ki=0,stopAtNewlines:Ri=!1,stopAtRawNbsp:ts=!1}){if(typeof es!="string"||!es.length||((!ki||typeof ki!="number")&&(ki=0),!es[ki+1]))return null;if(es[ki+1]&&(es[ki+1].trim()||Ri&&`
\r`.includes(es[ki+1])||ts&&es[ki+1]===c$1))return ki+1;if(es[ki+2]&&(es[ki+2].trim()||Ri&&`
\r`.includes(es[ki+2])||ts&&es[ki+2]===c$1))return ki+2;for(let rs=ki+1,is=es.length;rs<is;rs++)if(es[rs].trim()||Ri&&`
\r`.includes(es[rs])||ts&&es[rs]===c$1)return rs;return null}function E$1(es,ki=0){return D$1({str:es,idx:ki,stopAtNewlines:!1,stopAtRawNbsp:!1})}/**
 * @name string-strip-html
 * @fileoverview Strip HTML tags from strings. No parser, accepts mixed sources.
 * @version 13.4.8
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/string-strip-html/}
 */function ee$1(es){return/[-_A-Za-z0-9]/.test(es)}function G$1(es,ki){if(!es)return[];if(Array.isArray(es))return es.filter(Ri=>typeof Ri=="string"&&Ri.trim());if(typeof es=="string")return es.trim()?[es]:[];throw new TypeError(`string-strip-html/stripHtml(): [THROW_ID_05] ${ki} must be array containing zero or more strings or something falsey. Currently it's equal to: ${es}, that a type of ${typeof es}.`)}function j$1(es,ki,Ri,ts){for(let rs=ki,is=es.length;rs<is;rs++){if(es.startsWith(Ri,rs))return!0;if(es.startsWith(ts,rs))return!1}return!1}function Y$1(es,ki,Ri){var ts,rs,is,ns,ss,os,ls;return es!=null&&es.quotes,(ts=es==null?void 0:es.quotes)!=null&&ts.value&&j$1(ki,Ri+1,es.quotes.value,">"),(rs=es==null?void 0:es.quotes)==null||rs.next,j$1(ki,((is=es==null?void 0:es.quotes)==null?void 0:is.next)-1,(ns=es==null?void 0:es.quotes)==null?void 0:ns.value,">"),!(es!=null&&es.quotes)||!j$1(ki,Ri+1,es.quotes.value,">")&&((ss=es==null?void 0:es.quotes)==null?void 0:ss.next)!==-1&&j$1(ki,((os=es==null?void 0:es.quotes)==null?void 0:os.next)-1,(ls=es==null?void 0:es.quotes)==null?void 0:ls.value,">")}function ne$1(es,ki){return(ki.match(new RegExp(es,"g"))||[]).length}var P$1=new Set(["!doctype","abbr","address","area","article","aside","audio","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","doctype","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","param","picture","pre","progress","rb","rp","rt","rtc","ruby","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","ul","var","video","wbr","xml"]),x$1=new Set(["a","b","i","p","q","s","u"]),q$1=new Set([".",",",";","!","?"]),Q$1=new Set([".",",","?",";",")","…",'"',"»"]),te$1=new Set(["a","abbr","acronym","audio","b","bdi","bdo","big","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","input","ins","kbd","label","map","mark","meter","noscript","object","output","picture","progress","q","ruby","s","samp","select","slot","small","span","strong","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"]),ae$1={ignoreTags:[],ignoreTagsWithTheirContents:[],onlyStripTags:[],stripTogetherWithTheirContents:["script","style","xml"],skipHtmlDecoding:!1,trimOnlySpaces:!1,stripRecognisedHTMLOnly:!1,dumpLinkHrefsNearby:{enabled:!1,putOnNewLine:!1,wrapHeads:"",wrapTails:""},ignoreIndentations:!1,cb:null,reportProgressFunc:null,reportProgressFuncFrom:0,reportProgressFuncTo:100};function fe$1(es,ki){var ao,js,Bs,zs,so,oo,Ao,Xs,lo,co,So;let Ri=Date.now(),ts=[],rs=[],is=[],ns=[],ss={};function os(){ss={attributes:[]}}os();let ls=null,cs=null,hs=null,us=!1,As={},bs={tagName:"",hrefValue:"",openingTagEnds:void 0},ys="",Cs=!1,ps=null,ms=!0;function fs(ro,vo,Eo){if(Array.isArray(vo.stripTogetherWithTheirContents)&&(vo.stripTogetherWithTheirContents.includes(ss.name)||vo.stripTogetherWithTheirContents.includes("*")))if(ss.slashPresent&&Array.isArray(ts)&&ts.some(mo=>mo.name===ss.name)){for(let mo=ts.length;mo--;)if(ts[mo].name===ss.name){ns=ns.filter(([Jo,Yo])=>(Jo<ts[mo].lastOpeningBracketAt||Jo>=ro+1)&&(Yo<=ts[mo].lastOpeningBracketAt||Yo>ro+1));let yo=ro+1;ss.lastClosingBracketAt&&(yo=ss.lastClosingBracketAt+1),ns.push([ts[mo].lastOpeningBracketAt,yo]),Q$1.has(es[ro])&&vo.cb?vo.cb({tag:ss,deleteFrom:ts[mo].lastOpeningBracketAt,deleteTo:ro+1,insert:null,rangesArr:Eo,proposedReturn:[ts[mo].lastOpeningBracketAt,ro,null]}):vo.cb&&vo.cb({tag:ss,deleteFrom:ts[mo].lastOpeningBracketAt,deleteTo:ro,insert:"",rangesArr:Eo,proposedReturn:[ts[mo].lastOpeningBracketAt,ro,""]}),ts.splice(mo,1);break}}else ss.slashPresent||ts.push(ss);else Array.isArray(vo.ignoreTagsWithTheirContents)&&Rs(ro,vo,ss)&&(ms=!1)}function gs(ro,vo,Eo,mo,yo,Jo){var Bo;if(Array.isArray(Ms.current())&&typeof Eo=="number"&&Ms.current()[0][0]===0&&Ms.current()[0][1]>=Eo)return"";if(es.length===mo&&Jo&&!((Bo=Qs==null?void 0:Qs.dumpLinkHrefsNearby)!=null&&Bo.enabled))return null;let Yo="";if(Number.isInteger(Eo)&&Eo<yo&&(Yo+=ro.slice(Eo,yo)),Number.isInteger(mo)&&mo>Jo+1){let go=ro.slice(Jo+1,mo);mo&&!E$1(es,mo-1)&&(go=go.trimEnd()),go.includes(`
`)&&Ts(mo,ro)?Yo+=" ":Yo+=go}let Wo=!Q$1.has(ro[vo]),ko=ro[mo-1]!==">"||!ro[Eo].trim(),Qo=!['"',"("].includes(ro[yo-1]),jo=![";",".",":","!"].includes(ro[vo]);if((Wo||ko&&Qo&&jo)&&(ko||Qo)&&ro[vo]!=="!"&&(!te$1.has(ss.name)||typeof Eo=="number"&&Eo<yo||typeof mo=="number"&&mo>Jo+1)){let go=Yo.match(/\n/g);return Array.isArray(go)&&go.length?go.length===1?`
`:go.length===2?`

`:`


`:" "}return""}function ws(ro,vo){var Eo,mo;if((Eo=ro.dumpLinkHrefsNearby)!=null&&Eo.enabled&&bs.tagName&&bs.tagName===ss.name&&ss.lastOpeningBracketAt&&(bs.openingTagEnds&&ss.lastOpeningBracketAt>bs.openingTagEnds||!bs.openingTagEnds)&&(Cs=!0),Cs){let yo=(mo=ro.dumpLinkHrefsNearby)!=null&&mo.putOnNewLine?`

`:"";ys=`${yo}${bs.hrefValue}`,(typeof vo!="number"||E$1(es,vo-1))&&(ys+=yo)}}function Ts(ro,vo){return vo?vo[ro]==="<"&&vo[ro+1]!=="%":es[ro]==="<"&&es[ro+1]!=="%"}function $s(ro){return es[ro]===">"&&es[ro-1]!=="%"}function Rs(ro,vo,Eo){if(vo.ignoreTagsWithTheirContents.includes("*"))return!0;let mo=es.indexOf(`<${Eo.name}`,ro),yo=es.indexOf(`</${Eo.name}`,ro);return!Eo.slashPresent&&yo===-1||Eo.slashPresent&&!rs.some(Jo=>Jo.name===Eo.name)||yo>-1&&mo>-1&&mo<yo?!1:vo.ignoreTagsWithTheirContents.includes(Eo.name)}if(typeof es!="string")throw new TypeError(`string-strip-html/stripHtml(): [THROW_ID_01] Input must be string! Currently it's: ${(typeof es).toLowerCase()}, equal to:
${JSON.stringify(es,null,4)}`);if(ki)if(u$1(ki)){if(ki.reportProgressFunc&&typeof ki.reportProgressFunc!="function")throw new Error(`string-strip-html/stripHtml(): [THROW_ID_03] The Optional Options Object's key reportProgressFunc, callback function, should be a function but it was given as type ${typeof ki.reportProgressFunc}, equal to ${JSON.stringify(ki.reportProgressFunc,null,4)}`);if(typeof ki.dumpLinkHrefsNearby=="boolean"&&ki.dumpLinkHrefsNearby!=null)throw new Error(`string-strip-html/stripHtml(): [THROW_ID_04] The Optional Options Object's key should be a plain object but it was given as type ${typeof ki.dumpLinkHrefsNearby}, equal to ${JSON.stringify(ki.dumpLinkHrefsNearby,null,4)}`)}else throw new TypeError(`string-strip-html/stripHtml(): [THROW_ID_02] Optional Options Object must be a plain object! Currently it's: ${(typeof ki).toLowerCase()}, equal to:
${JSON.stringify(ki,null,4)}`);function Ps(){Cs&&(bs={tagName:"",hrefValue:"",openingTagEnds:void 0},Cs=!1)}let Qs={...ae$1,...ki,dumpLinkHrefsNearby:Object.assign({},ae$1.dumpLinkHrefsNearby,ki==null?void 0:ki.dumpLinkHrefsNearby)};if(v$1(Qs,"returnRangesOnly"))throw new TypeError("string-strip-html/stripHtml(): [THROW_ID_05] The Optional Options Object's key returnRangesOnly has been removed from the API since v.5 release.");if(Qs.reportProgressFunc){if(typeof Qs.reportProgressFuncFrom!="number")throw new Error(`string-strip-html/stripHtml(): [THROW_ID_06] The Optional Options Object's key reportProgressFuncFrom, callback function's "from" range, should be a number but it was given as type ${typeof Qs.reportProgressFuncFrom}, equal to ${JSON.stringify(Qs.reportProgressFuncFrom,null,4)}`);if(typeof Qs.reportProgressFuncTo!="number")throw new Error(`string-strip-html/stripHtml(): [THROW_ID_07] The Optional Options Object's key reportProgressFuncTo, callback function's "to" range, should be a number but it was given as type ${typeof Qs.reportProgressFuncTo}, equal to ${JSON.stringify(Qs.reportProgressFuncTo,null,4)}`)}Qs.ignoreTags=G$1(Qs.ignoreTags,"resolvedOpts.ignoreTags"),Qs.onlyStripTags=G$1(Qs.onlyStripTags,"resolvedOpts.onlyStripTags");let Fs=!!Qs.onlyStripTags.length;Qs.onlyStripTags.length&&Qs.ignoreTags.length&&(Qs.onlyStripTags=without(Qs.onlyStripTags,...Qs.ignoreTags)),Qs.stripTogetherWithTheirContents?typeof Qs.stripTogetherWithTheirContents=="string"&&Qs.stripTogetherWithTheirContents.length&&(Qs.stripTogetherWithTheirContents=[Qs.stripTogetherWithTheirContents]):Qs.stripTogetherWithTheirContents=[];let Is={};if(Qs.stripTogetherWithTheirContents&&Array.isArray(Qs.stripTogetherWithTheirContents)&&Qs.stripTogetherWithTheirContents.length&&!Qs.stripTogetherWithTheirContents.every((ro,vo)=>typeof ro!="string"?(Is.el=ro,Is.i=vo,!1):!0))throw new TypeError(`string-strip-html/stripHtml(): [THROW_ID_08] Optional Options Object's key stripTogetherWithTheirContents was set to contain not just string elements! For example, element at index ${Is.i} has a value ${Is.el} which is not string but ${(typeof Is.el).toLowerCase()}.`);Qs.cb||(Qs.cb=({rangesArr:ro,proposedReturn:vo})=>{vo&&ro.push(...vo)});let Ms=new y$1({limitToBeAddedWhitespace:!0,limitLinebreaksCount:2});if(!Qs.skipHtmlDecoding)for(;es!==decode_1(es,{scope:"strict"});)es=decode_1(es,{scope:"strict"});let Ws=!1,Ds=!1,_s=0,Ns=0,Ss=es.length,Us=Math.floor(Ss/2);for(let ro=0;ro<Ss;ro++){if(Qs.reportProgressFunc&&(Ss>1e3&&Ss<2e3?ro===Us&&Qs.reportProgressFunc(Math.floor((Qs.reportProgressFuncTo-Qs.reportProgressFuncFrom)/2)):Ss>=2e3&&(_s=Qs.reportProgressFuncFrom+Math.floor(ro/Ss*(Qs.reportProgressFuncTo-Qs.reportProgressFuncFrom)),_s!==Ns&&(Ns=_s,Qs.reportProgressFunc(_s)))),Object.keys(ss).length>1&&ss.lastClosingBracketAt&&ss.lastClosingBracketAt<ro&&es[ro]!==" "&&ps===null&&(ps=ro),!Ws&&es[ro]==="%"&&es[ro-1]==="{"&&es.includes("%}",ro+1)){hs=null;let vo=es.indexOf("%}",ro)-1;if(vo>ro){ro=vo;continue}}if(!Ws&&$s(ro)&&(!ss||Object.keys(ss).length<2)&&ro>1){for(let vo=ro;vo--;)if(es[vo-1]===void 0||$s(vo)){let Eo=es[vo-1]===void 0?vo:vo+1,mo=es.slice(Eo,ro+1)||"";if((mo.includes("/>")||mo.includes("/ >")||mo.includes('="')||mo.includes("='"))&&es!==`<${trim(mo.trim(),"/>")}>`&&[...P$1].some(yo=>trim(mo.trim().split(/\s+/).filter(Jo=>Jo.trim()).filter((Jo,Yo)=>Yo===0),"/>").toLowerCase()===yo)&&fe$1(`<${mo.trim()}>`,Qs).result===""){(!is.length||is[is.length-1][0]!==ss.lastOpeningBracketAt)&&is.push([Eo,ro+1]),(!ns.length||ns[ns.length-1][0]!==ss.lastOpeningBracketAt)&&ns.push([Eo,ro+1]);let yo=gs(es,ro,Eo,ro+1,Eo,ro+1),Jo=ro+1;if(es[Jo]&&!es[Jo].trim()){for(let Yo=Jo;Yo<Ss;Yo++)if(es[Yo].trim()){Jo=Yo;break}}Qs.cb({tag:ss,deleteFrom:Eo,deleteTo:Jo,insert:yo,rangesArr:Ms,proposedReturn:[Eo,Jo,yo]})}break}}if(!Ds&&es[ro]==="/"&&!((ao=ss.quotes)!=null&&ao.value)&&Number.isInteger(ss.lastOpeningBracketAt)&&!Number.isInteger(ss.lastClosingBracketAt)&&(ss.slashPresent=ro),es[ro]==='"'||es[ro]==="'")if(!Ds&&ss.nameStarts&&((js=ss==null?void 0:ss.quotes)==null?void 0:js.value)===es[ro])if(As.valueStarts===void 0)As={},delete ss.quotes;else{As.valueEnds=ro,As.value=es.slice(As.valueStarts,ro),ss.attributes.push(As),As={},delete ss.quotes;let vo;(Bs=Qs.dumpLinkHrefsNearby)!=null&&Bs.enabled&&!ts.length&&ss.attributes.some(Eo=>{var mo,yo;if(typeof Eo.name=="string"&&Eo.name.toLowerCase()==="href")return vo=`${((mo=Qs.dumpLinkHrefsNearby)==null?void 0:mo.wrapHeads)||""}${Eo.value}${((yo=Qs.dumpLinkHrefsNearby)==null?void 0:yo.wrapTails)||""}`,!0})&&(bs={tagName:ss.name,hrefValue:vo,openingTagEnds:void 0})}else!Ds&&!ss.quotes&&ss.nameStarts&&(ss.quotes={},ss.quotes.value=es[ro],ss.quotes.start=ro,ss.quotes.next=es.indexOf(es[ro],ro+1),As.nameStarts&&As.nameEnds&&As.nameEnds<ro&&As.nameStarts<ro&&!As.valueStarts&&(As.name=es.slice(As.nameStarts,As.nameEnds)));if(ss.nameStarts!==void 0&&ss.nameEnds===void 0&&(!es[ro].trim()||!ee$1(es[ro]))){if(ss.nameEnds=ro,ss.name=es.slice(ss.nameStarts,ss.nameEnds+(!$s(ro)&&es[ro]!=="/"&&es[ro+1]===void 0?1:0)),es[ss.nameStarts-1]!=="!"&&!ss.name.replace(/-/g,"").length||/^\d+$/.test(ss.name[0])){ss={};continue}if(typeof ss.name=="string"&&ss.name.toLowerCase()==="doctype"&&(Ds=!0),Ts(ro)){ws(Qs);let vo=gs(es,ro,ss.leftOuterWhitespace,ro,ss.lastOpeningBracketAt,ro);(Qs.stripTogetherWithTheirContents.includes(ss.name)||Qs.stripTogetherWithTheirContents.includes("*"))&&(ns=ns.filter(([Eo,mo])=>!(Eo===ss.leftOuterWhitespace&&mo===ro))),Qs.cb({tag:ss,deleteFrom:ss.leftOuterWhitespace,deleteTo:ro,insert:`${vo}${ys}${vo}`,rangesArr:Ms,proposedReturn:[ss.leftOuterWhitespace,ro,`${vo}${ys}${vo}`]}),Ps(),fs(ro,Qs,Ms)}}if((zs=ss.quotes)!=null&&zs.start&&ss.quotes.start<ro&&!ss.quotes.end&&As.nameEnds&&As.equalsAt&&!As.valueStarts&&(As.valueStarts=ro),!ss.quotes&&As.nameEnds&&es[ro]==="="&&!As.valueStarts&&!As.equalsAt&&(As.equalsAt=ro),!ss.quotes&&As.nameStarts&&As.nameEnds&&!As.valueStarts&&es[ro].trim()&&es[ro]!=="="&&(ss.attributes.push(As),As={}),!ss.quotes&&As.nameStarts&&!As.nameEnds&&(Ds&&`'"`.includes(es[As.nameStarts])?As.nameStarts<ro&&es[ro]===es[As.nameStarts]&&(As.nameEnds=ro+1,As.name=es.slice(As.nameStarts,As.nameEnds)):es[ro].trim()?es[ro]==="="?As.equalsAt||(As.nameEnds=ro,As.equalsAt=ro,As.name=es.slice(As.nameStarts,As.nameEnds)):es[ro]==="/"||$s(ro)?(As.nameEnds=ro,As.name=es.slice(As.nameStarts,As.nameEnds),ss.attributes.push(As),As={}):Ts(ro)&&(As.nameEnds=ro,As.name=es.slice(As.nameStarts,As.nameEnds),ss.attributes.push(As),As={}):(As.nameEnds=ro,As.name=es.slice(As.nameStarts,As.nameEnds))),!ss.quotes&&ss.nameEnds<ro&&!es[ro-1].trim()&&es[ro].trim()&&!"<>/!".includes(es[ro])&&!As.nameStarts&&!ss.lastClosingBracketAt&&(As.nameStarts=ro),ss.lastOpeningBracketAt!==null&&ss.lastOpeningBracketAt<ro&&es[ro]==="/"&&ss.onlyPlausible&&(ss.onlyPlausible=!1),ss.lastOpeningBracketAt!==null&&ss.lastOpeningBracketAt<ro&&es[ro]!=="/"&&(ss.onlyPlausible===void 0&&((!es[ro].trim()||Ts(ro))&&!ss.slashPresent?ss.onlyPlausible=!0:ss.onlyPlausible=!1),es[ro].trim()&&ss.nameStarts===void 0&&!Ts(ro)&&es[ro]!=="/"&&!$s(ro)&&es[ro]!=="!"&&(ss.nameStarts=ro,ss.nameContainsLetters=!1)),ss.nameStarts&&!ss.quotes&&typeof es[ro]=="string"&&es[ro].toLowerCase()!==es[ro].toUpperCase()&&(ss.nameContainsLetters=!0),$s(ro)&&(Y$1(ss,es,ro)||ss.quotes.value&&typeof ss.lastOpeningBracketAt=="number"&&ne$1(ss.quotes.value,es.slice(ss.lastOpeningBracketAt,ro))%2===1&&!es.slice(ss.lastOpeningBracketAt+1,ro).includes("<")&&!es.slice(ss.lastOpeningBracketAt+1,ro).includes(">"))&&ss.lastOpeningBracketAt!==void 0&&(ss.lastClosingBracketAt=ro,ps=null,Object.keys(As).length&&(ss.attributes.push(As),As={}),(so=Qs.dumpLinkHrefsNearby)!=null&&so.enabled&&bs.tagName&&!bs.openingTagEnds&&(bs.openingTagEnds=ro)),(!Ds||es[ro]===">")&&ss.lastOpeningBracketAt!==void 0){if(ss.lastClosingBracketAt===void 0){if(ss.lastOpeningBracketAt<ro&&!Ts(ro)&&(es[ro+1]===void 0||Ts(ro+1)&&!((oo=ss==null?void 0:ss.quotes)!=null&&oo.value))&&ss.nameContainsLetters&&typeof ss.nameStarts=="number"){if(ss.name=es.slice(ss.nameStarts,ss.nameEnds||ro+1).toLowerCase(),(!is.length||is[is.length-1][0]!==ss.lastOpeningBracketAt)&&is.push([ss.lastOpeningBracketAt,ro+1]),Qs.ignoreTags.includes(ss.name)||Rs(ro,Qs,ss)||!P$1.has(ss.name)&&(ss.onlyPlausible||Qs.stripRecognisedHTMLOnly)){ss={},As={};continue}if((P$1.has(ss.name)||x$1.has(ss.name))&&(ss.onlyPlausible===!1||ss.onlyPlausible===!0&&ss.attributes.length)||es[ro+1]===void 0){ws(Qs);let vo=gs(es,ro,ss.leftOuterWhitespace,ro+1,ss.lastOpeningBracketAt,ss.lastClosingBracketAt);Ws&&ss.name==="script"&&ss.slashPresent&&(Ws=!1);let Eo;vo===null||ys===null?Eo=null:Eo=`${vo}${ys}${vo}`,Qs.cb({tag:ss,deleteFrom:ss.leftOuterWhitespace,deleteTo:ro+1,insert:Eo,rangesArr:Ms,proposedReturn:[ss.leftOuterWhitespace,ro+1,Eo]}),Ps(),fs(ro,Qs,Ms)}if(!ns.length||ns[ns.length-1][0]!==ss.lastOpeningBracketAt&&ns[ns.length-1][1]!==ro+1)if(Qs.stripTogetherWithTheirContents.includes(ss.name)||Qs.stripTogetherWithTheirContents.includes("*")){let vo;for(let Eo=ts.length;Eo--;)ts[Eo].name===ss.name&&(vo=ts[Eo]);vo?(ns=ns.filter(([Eo])=>Eo!==vo.lastOpeningBracketAt),ns.push([vo.lastOpeningBracketAt,ro+1])):ns.push([ss.lastOpeningBracketAt,ro+1])}else ns.push([ss.lastOpeningBracketAt,ro+1])}}else if(ro>ss.lastClosingBracketAt&&es[ro].trim()||es[ro+1]===void 0||Qs.ignoreIndentations&&`\r
`.includes(es[ro])){let vo=ss.lastClosingBracketAt===ro?ro+1:ro;Qs.trimOnlySpaces&&vo===Ss-1&&ps!==null&&ps<ro&&(vo=ps),(!is.length||is[is.length-1][0]!==ss.lastOpeningBracketAt)&&is.push([ss.lastOpeningBracketAt,ss.lastClosingBracketAt+1]);let Eo=Qs.ignoreTags.includes(ss.name),mo=Rs(ro,Qs,ss);if(!ms||Qs.stripRecognisedHTMLOnly&&typeof ss.name=="string"&&!P$1.has(ss.name.toLowerCase())&&!x$1.has(ss.name.toLowerCase())||!Fs&&(Eo||mo)||Fs&&!Qs.onlyStripTags.includes(ss.name)||Qs.ignoreTagsWithTheirContents.includes(ss.name)){if(mo)if(ss.slashPresent){for(let yo=rs.length;yo--;)if(rs[yo].name===ss.name){rs.splice(yo,1);break}rs.length||(ms=!0)}else ms&&(ms=!1),rs.push(ss);Qs.cb({tag:ss,deleteFrom:null,deleteTo:null,insert:null,rangesArr:Ms,proposedReturn:null}),ss={},As={}}else if(!ss.onlyPlausible||ss.attributes.length===0&&ss.name&&(P$1.has(ss.name.toLowerCase())||x$1.has(ss.name.toLowerCase()))||(Ao=ss.attributes)!=null&&Ao.some(yo=>yo.equalsAt)){(!ns.length||ns[ns.length-1][0]!==ss.lastOpeningBracketAt)&&ns.push([ss.lastOpeningBracketAt,ss.lastClosingBracketAt+1]);let yo=gs(es,ro,ss.leftOuterWhitespace,vo,ss.lastOpeningBracketAt,ss.lastClosingBracketAt);ys="",Cs=!1,ws(Qs,vo);let Jo;typeof ys=="string"&&ys.length?(Jo=`${yo}${ys}${yo===`

`?`
`:yo}`,vo===ss.lastClosingBracketAt+1&&(!es[vo]||!q$1.has(es[vo]))&&(Jo+=" "),ss.leftOuterWhitespace===ss.lastOpeningBracketAt&&Ms.last()&&Ms.last()[1]<ss.lastOpeningBracketAt&&(!((Xs=Qs==null?void 0:Qs.dumpLinkHrefsNearby)!=null&&Xs.putOnNewLine)||!q$1.has(es[vo]))&&(Jo=" "+Jo)):Jo=yo,Jo!==null&&(ss.leftOuterWhitespace===0||!E$1(es,vo-1))&&(!((lo=Qs.dumpLinkHrefsNearby)!=null&&lo.enabled)||ss.name!=="a")&&(Jo=void 0);let Yo=0;if(Cs&&q$1.has(es[vo])){(co=Qs.dumpLinkHrefsNearby)!=null&&co.putOnNewLine&&(Jo=`${es[vo]}${Jo||""}`);let Wo=E$1(es,vo);Wo&&(Jo!=null&&Jo.endsWith(`
`))?Yo+=Wo-ro:(!Wo||Wo>ro)&&Yo++}Qs.cb({tag:ss,deleteFrom:ss.leftOuterWhitespace,deleteTo:vo+Yo,insert:Jo,rangesArr:Ms,proposedReturn:[ss.leftOuterWhitespace,vo+Yo,Jo]}),Ps(),fs(ro,Qs,Ms)}else ss={};$s(ro)||(ss={})}Ds&&(Ds=!1)}if((!Ws||es[ro]==="<"&&E$1(es,E$1(es,ro))&&es[E$1(es,ro)]==="/"&&es.startsWith("script",E$1(es,E$1(es,ro))))&&Ts(ro)&&!Ts(ro-1)&&!`'"`.includes(es[ro+1])&&(!`'"`.includes(es[ro+2])||/\w/.test(es[ro+1]))&&!(es[ro+1]==="c"&&es[ro+2]===":")&&!(es[ro+1]==="f"&&es[ro+2]==="m"&&es[ro+3]==="t"&&es[ro+4]===":")&&!(es[ro+1]==="s"&&es[ro+2]==="q"&&es[ro+3]==="l"&&es[ro+4]===":")&&!(es[ro+1]==="x"&&es[ro+2]===":")&&!(es[ro+1]==="f"&&es[ro+2]==="n"&&es[ro+3]===":")&&Y$1(ss,es,ro)){if($s(E$1(es,ro)))continue;if(ss.nameEnds&&ss.nameEnds<ro&&!ss.lastClosingBracketAt&&(ss.onlyPlausible===!0&&((So=ss.attributes)!=null&&So.length)||ss.onlyPlausible===!1)){let vo=gs(es,ro,ss.leftOuterWhitespace,ro,ss.lastOpeningBracketAt,ro);Qs.cb({tag:ss,deleteFrom:ss.leftOuterWhitespace,deleteTo:ro,insert:vo,rangesArr:Ms,proposedReturn:[ss.leftOuterWhitespace,ro,vo]}),fs(ro,Qs,Ms),ss={},As={}}if(ss.lastOpeningBracketAt!==void 0&&ss.onlyPlausible&&ss.name&&!ss.quotes&&(ss.lastOpeningBracketAt=void 0,ss.name=void 0,ss.onlyPlausible=!1),(ss.lastOpeningBracketAt===void 0||!ss.onlyPlausible)&&!ss.quotes&&(ss.lastOpeningBracketAt=ro,ss.slashPresent=!1,ss.attributes=[],ls===null?ss.leftOuterWhitespace=ro:Qs.trimOnlySpaces&&ls===0?ss.leftOuterWhitespace=cs||ro:ss.leftOuterWhitespace=ls,`${es[ro+1]}${es[ro+2]}${es[ro+3]}`=="!--"||`${es[ro+1]}${es[ro+2]}${es[ro+3]}${es[ro+4]}${es[ro+5]}${es[ro+6]}${es[ro+7]}${es[ro+8]}`=="![CDATA[")){let vo=!0;es[ro+2]==="-"&&(vo=!1);let Eo;for(let mo=ro;mo<Ss;mo++)if((!Eo&&vo&&`${es[mo-2]}${es[mo-1]}${es[mo]}`=="]]>"||!vo&&`${es[mo-2]}${es[mo-1]}${es[mo]}`=="-->")&&(Eo=mo),Eo&&(Eo<mo&&es[mo].trim()||es[mo+1]===void 0)){let yo=mo;(es[mo+1]===void 0&&!es[mo].trim()||es[mo]===">")&&(yo+=1),(!is.length||is[is.length-1][0]!==ss.lastOpeningBracketAt)&&is.push([ss.lastOpeningBracketAt,Eo+1]),(!ns.length||ns[ns.length-1][0]!==ss.lastOpeningBracketAt)&&ns.push([ss.lastOpeningBracketAt,Eo+1]);let Jo=gs(es,mo,ss.leftOuterWhitespace,yo,ss.lastOpeningBracketAt,Eo);Qs.cb({tag:ss,deleteFrom:ss.leftOuterWhitespace,deleteTo:yo,insert:Jo,rangesArr:Ms,proposedReturn:[ss.leftOuterWhitespace,yo,Jo]}),ro=mo-1,es[mo]===">"&&(ro=mo),ss={},As={};break}}}!es[ro].trim()||es[ro].charCodeAt(0)===847?(ls===null&&(ls=ro,ss.lastOpeningBracketAt!==void 0&&ss.lastOpeningBracketAt<ro&&ss.nameStarts&&ss.nameStarts<ss.lastOpeningBracketAt&&ro===ss.lastOpeningBracketAt+1&&!ts.some(vo=>vo.name===ss.name)&&(ss.onlyPlausible=!0,ss.name=void 0,ss.nameStarts=void 0)),(es[ro]===`
`||es[ro]==="\r")&&(hs=ro,us&&(us=!1))):(ls!==null&&(!ss.quotes&&As.equalsAt>ls-1&&As.nameEnds&&As.equalsAt>As.nameEnds&&es[ro]!=='"'&&es[ro]!=="'"&&(u$1(As)&&ss.attributes.push(As),As={},ss.equalsSpottedAt=void 0),ls=null),us||(us=!0,ms&&!Ws&&typeof hs=="number"&&ro&&hs<ro-1&&(es.slice(hs+1,ro).trim()?hs=null:Qs.ignoreIndentations||Ms.push([hs+1,ro])))),es[ro]===" "?cs===null&&(cs=ro):cs!==null&&(cs=null),ss.name==="script"&&(Ws=!ss.slashPresent)}if(es&&!Qs.ignoreIndentations&&(Qs.trimOnlySpaces&&es[0]===" "||!Qs.trimOnlySpaces&&!es[0].trim()))for(let ro=0;ro<Ss;ro++)if(Qs.trimOnlySpaces&&es[ro]!==" "||!Qs.trimOnlySpaces&&es[ro].trim()){Ms.push([0,ro]);break}else es[ro+1]||Ms.push([0,ro+1]);if(es&&(Qs.trimOnlySpaces&&es[~-es.length]===" "||!Qs.trimOnlySpaces&&!es[~-es.length].trim())){for(let ro=es.length;ro--;)if(Qs.trimOnlySpaces&&es[ro]!==" "||!Qs.trimOnlySpaces&&es[ro].trim()){Ms.push([ro+1,Ss]);break}}let Zs=Ms.current();if(!(ki!=null&&ki.cb)&&Zs&&(Zs[0]&&!Zs[0][0]&&(Zs[0][1],Ms.ranges[0]=[Ms.ranges[0][0],Ms.ranges[0][1]]),Zs[Zs.length-1]&&Zs[Zs.length-1][1]===es.length&&(Zs[Zs.length-1][0],Ms.ranges))){let ro=Ms.ranges[Ms.ranges.length-1][0];es[ro-1]&&(Qs.trimOnlySpaces&&es[ro-1]===" "||!Qs.trimOnlySpaces&&!es[ro-1].trim())&&(ro-=1);let vo=Ms.ranges[Ms.ranges.length-1][2];Ms.ranges[Ms.ranges.length-1]=[ro,Ms.ranges[Ms.ranges.length-1][1]],vo!=null&&vo.trim()&&Ms.ranges[Ms.ranges.length-1].push(vo.trimEnd())}return{log:{timeTakenInMilliseconds:Date.now()-Ri},result:_$1(es,Ms.current()),ranges:Ms.current(),allTagLocations:is,filteredTagLocations:ns}}class ExportCopyToClipboardController extends Controller{connect(){this.sourceTarget=document.getElementById(this.element.dataset.targetId)}text(){let ki=fe$1(this.sourceTarget.innerText).result;this.copy(ki.trim())}html(){let ki=document.implementation.createHTMLDocument("AI Generated"),Ri=document.createElement("link");Ri.setAttribute("rel","stylesheet"),Ri.href=this.cssUrlValue,Ri.type="text/css",ki.head.append(Ri),ki.body.innerHTML=this.sourceTarget.innerHTML,this.copy(`<!DOCTYPE html><html>${ki.lastChild.innerHTML}</html>`)}markdown(){this.copy(this.copyButtonTarget.dataset.content)}copy(ki){navigator.clipboard.writeText(ki).then(()=>this.copied(this.copyButtonTarget.innerText))}copied(ki){this.hasCopyButtonTarget&&(this.timeout&&clearTimeout(this.timeout),this.copyButtonTarget.children[1].innerText=this.copyButtonTarget.dataset.successContent,this.timeout=setTimeout(()=>{this.copyButtonTarget.children[1].innerText=ki},this.successDurationValue))}}Ho(ExportCopyToClipboardController,"targets",["copyButton","copySource"]),Ho(ExportCopyToClipboardController,"values",{cssUrl:String,successDuration:{type:Number,default:2e3}});class FlatpickrController extends Controller{constructor(){super(...arguments);Ho(this,"startDate",null);Ho(this,"endDate",null)}connect(){let Ri=this.hasOutputTarget?this.outputTarget.value:null,ts=JSON.parse(this.mainTarget.dataset.options);Object.assign(ts,{defaultDate:Ri?Ri*1e3:null,onChange:rs=>{rs.length&&this.hasClearTarget?this.clearTarget.classList.remove("d-none"):this.hasClearTarget&&this.clearTarget.classList.add("d-none"),this.hasOutputTarget&&(this.outputTarget.value=Math.round(+rs[0]/1e3)),this.hasMaxTarget&&this.hasMinTarget&&(this.maxTarget.value=Math.round(+rs[1]/1e3),this.minTarget.value=Math.round(+rs[0]/1e3))}}),this.defaultRangeFromSearchParams.length&&this.hasClearTarget&&this.clearTarget.classList.remove("d-none"),this.isRangeValue&&this.hasOnRangeCloseSubmitPathValue&&(ts.defaultDate=this.defaultRangeFromSearchParams,ts.onClose=rs=>{let is=filtersFromParams(),ns=document.querySelector('[name="service_provider_apple"]'),ss={filters:is,date:{to:Math.round(+rs[1]/1e3),since:Math.round(+rs[0]/1e3)}};this.startDate=ss.date.since,this.endDate=ss.date.to,ns&&(ss.service_provider_apple=ns.checked),put(this.onRangeCloseSubmitPathValue,{body:ss,responseKind:"turbo-stream"})}),this.flatpickr=window.flatpickr(this.mainTarget,ts)}get defaultRangeFromSearchParams(){let Ri=new URLSearchParams(window.location.search),ts=[];return Ri.forEach((rs,is)=>{is.includes("date")&&ts.push(new Date(Number(rs)*1e3).toISOString())}),ts.map(rs=>rs.split("T")[0])}clear(){if(this.flatpickr&&this.flatpickr.clear(),this.isRangeValue&&this.hasOnRangeCloseSubmitPathValue){let Ri=document.querySelector('[name="service_provider_apple"]');if(Ri)return Ri.checked,window.location.replace(`${this.onRangeCloseSubmitPathValue}?service_provider_apple=${Ri.checked}`);window.location.replace(this.onRangeCloseSubmitPathValue)}}}Ho(FlatpickrController,"targets",["main","output","min","max","clear"]),Ho(FlatpickrController,"values",{onRangeCloseSubmitPath:String,isRange:!1});class FlowDashboardController extends Controller{connect(){this.overviewSnippet=this.overviewTarget,this.overviewRemoved=!1}get noPlatformSelected(){return this.platformTarget.value==="all"||this.platformTarget.value==null}doTurboRequest(ki){get$1(ki,{responseKind:"turbo-stream"})}platformSelected(){if(console.log("Platform selected: ",this.platformTarget.value),this.overviewRemoved&&this.noPlatformSelected){this.chartsTarget.parentElement.insertBefore(this.overviewSnippet,this.chartsTarget),this.overviewRemoved=!1,this.doTurboRequest("/flow/dashboard?platform=all");return}!this.overviewRemoved&&!this.noPlatformSelected&&(this.overviewSnippet.remove(),this.overviewRemoved=!0),this.doTurboRequest(`/flow/dashboard?platform=${this.platformTarget.value}`)}}Ho(FlowDashboardController,"targets",["platform","overview","country","charts"]);class FlowStatusController extends Controller{connect(){}doTurboRequest(ki){get$1(ki,{responseKind:"turbo-stream"})}loadFields(ki){const Ri=JSON.parse(ki.delegateTarget.dataset.flowStatus),ts=new URLSearchParams({channel:Ri["channel-value"],provider:Ri["provider-value"]});this.doTurboRequest(`/flow/status?${ts.toString()}`)}}Ho(FlowStatusController,"values",{channel:String,provider:String});class FocusController extends Controller{connect(){let ki=localStorage.getItem(this.storgeIdentifierValue);if(ki){let Ri=document.getElementById(ki);Ri&&Ri.focus(),localStorage.removeItem(this.storgeIdentifierValue)}}storeElementToFoucsId(ki){localStorage.setItem(this.storgeIdentifierValue,ki.currentTarget.id)}}Ho(FocusController,"values",{storgeIdentifier:String});class ForgotPasswordFormController extends Controller{connect(){this.targets.has("button")&&this.targets.has("email")&&this.validateForm()}validateForm(){let ki=!1;return this.validateEmail()?(ki=!0,this.buttonTarget.removeAttribute("disabled")):this.buttonTarget.setAttribute("disabled",!0),ki}validateEmail(){const ki=this.emailTarget.value;return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(ki)}}Ho(ForgotPasswordFormController,"targets",["email","button"]);const emailRegex=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function validEmail(es){return emailRegex.test(es)}function validNewPassword(es){return Number(es)===1}function validInputValue(es){return es&&es.length>1}class ForgotPasswordVerificationFormController extends Controller{connect(){this.buttonTarget.setAttribute("disabled",!0),this.validateForm()}validateForm(){lodashExports.debounce(()=>this.validate(),300)()}validate(){this.validateEmail()&&this.validateCode()&&this.validatePassword()?this.buttonTarget.disabled=!1:this.buttonTarget.disabled=!0}validateEmail(){return validEmail(this.emailTarget.value)}validatePassword(){return validNewPassword(this.passwordTarget.getAttribute("data-password-status"))}validateCode(){return validInputValue(this.codeTarget.value)}}Ho(ForgotPasswordVerificationFormController,"targets",["email","code","password","button"]);class FormAutoSubmitOnChangeController extends Controller{connect(){const ki=this.element.querySelectorAll("input");ki&&ki.forEach(Ri=>{Ri.addEventListener("change",()=>{this.submitForm()})})}submitForm(){this.getSubmitButton().click()}getSubmitButton(){return findElement$1(this.element,"button[type=submit]")}}let requiredFieldSelectors='[data-required="true"]',notRequiredFieldSelectors='[data-required="false"]';class FormValidateController extends Controller{connect(){this.unsubscribeAll=subscribeAll(this,{"turboUploader:filesCountChanged":this.onFilesCountChanged}),!this.skipValidationValue&&(this.requiredFields.length>0&&this.disableSubmitButton(),this.requiredFields.forEach(ki=>{ki.addEventListener("input",this.validateForm.bind(this))}),this.notRequiredFields.forEach(ki=>{ki.addEventListener("input",this.validateForm.bind(this))}))}disconnect(){this.unsubscribeAll()}onFilesCountChanged(){this.validateForm()}submitDisablerTargetConnected(){this.validateForm()}submitDisablerTargetDisconnected(){this.validateForm()}validateForm(ki){let Ri=!1,ts=[];this.submitDisablerTargets.length>0?Ri=!1:this.validateAllValue||!ki?(this.requiredFields.forEach(rs=>{ts.push(this.validateField(rs))}),this.notRequiredFields.forEach(()=>ts.push(!0)),Ri=ts.every(rs=>rs==!0)):Ri=this.validateField(ki.target),Ri?this.enableSubmitButton():this.disableSubmitButton()}validateField(ki){return ki.dataset.validationType?ki.dataset.validationType=="always_invalid"?!1:!!ki.value:ki.type=="hidden"?ki.name=="organization[avatar]"?!!ki.value:lodashExports.toInteger(ki.value)>0:ki.type=="checkbox"?ki.value=="reject_delivery"&&this.rejectReasonIsBlank()?!1:ki.checked:ki.type=="radio"&&ki.dataset.otherFieldTarget||ki.type=="tel"&&!(ki.value.length>=10)?!1:!!ki.value}disableSubmitButton(){this.submitButton&&(this.isSubmitButtonAnchorTag?this.submitButton.classList.add("disabled"):this.submitButton.disabled=!0)}enableSubmitButton(){this.submitButton&&(this.isSubmitButtonAnchorTag?this.submitButton.classList.remove("disabled"):this.submitButton.disabled=!1)}rejectReasonIsBlank(){return document.querySelector('textarea[name="rejection_reason"]').value==""}get requiredFields(){return this.element.querySelectorAll(requiredFieldSelectors)}get notRequiredFields(){return this.element.querySelectorAll(notRequiredFieldSelectors)}get submitButton(){return document.getElementById("attachment-submit-button")||document.getElementById("delete-account")||document.getElementById("update-organization-button")||document.getElementById("create-agency")||document.getElementById("addCreator")||document.getElementById("create-prompt-rewrite")||document.getElementById("create-ai-assistant")||document.getElementById("create-assistant-persona")}get isSubmitButtonAnchorTag(){return this.submitButton.tagName=="A"}}Ho(FormValidateController,"values",{validateAll:{type:Boolean,default:!1},skipValidation:{type:Boolean,default:!1}}),Ho(FormValidateController,"targets",["submitDisabler"]);class FormsHelperController extends Controller{connect(){this.element.addEventListener("reset",Ri=>this.onReset(Ri));const ki=this.element.querySelector('textarea[name="user[biography]"]');ki&&ki.addEventListener("input",()=>{const Ri=ki.value.trim()==="";this.submitButtonTarget.disabled=Ri}),this.resetOnHideModalIdValue&&document.querySelector(this.resetOnHideModalIdValue).addEventListener("hidden.bs.modal",()=>{this.reset()}),this.persistResetInputValues(),this.removeSaveSuccessful()}enableSubmitIfToggleOn(){if(this.hasConfirmToggleTarget){let ki=this.confirmToggleTarget.checked;this.hasSubmitButtonTarget&&(ki?this.submitButtonTarget.classList.remove("disabled"):this.submitButtonTarget.classList.add("disabled"))}}saveButtonTargetConnected(){this.element.addEventListener("dropzone:complete",ki=>{this.toggleSaveButton(ki.detail)}),this.element.addEventListener("dropzone:addedfiles",ki=>{this.toggleSaveButton(ki.detail)})}toggleSaveButton(ki){let{enable:Ri}=ki;this.hasSaveButtonTarget&&(Ri?this.saveButtonTarget.removeAttribute("disabled"):this.saveButtonTarget.setAttribute("disabled",!0))}checkUploaderToPermitAction(ki){let Ri=document.querySelector(ki.currentTarget.dataset.previewSelectorClass),ts=ki.currentTarget.dataset.required=="true";Ri.querySelectorAll("li").length==0&&ts?(this.hasSaveButtonTarget&&this.saveButtonTarget.classList.add("disabled"),this.hasSubmitButtonTarget&&this.submitButtonTarget.classList.add("disabled")):(this.hasSaveButtonTarget&&this.saveButtonTarget.classList.remove("disabled"),this.hasSubmitButtonTarget&&this.submitButtonTarget.classList.remove("disabled"))}setHiddenDeleteValueAndSubmit(ki){ki.preventDefault(),this.hasSubmitButtonTarget&&this.submitButtonTarget.classList.add("d-none"),this.hasDeleteButtonTarget&&(this.deleteButtonTarget.disabled=!0),this.hasHiddenDeleteTarget&&(this.hiddenDeleteTarget.value=1,this.submitForm())}submitFormNoDebounce(){this.hasFormTarget&&this.formTarget.submit()}get hiddenInputForSave(){let ki=document.createElement("input");return ki.setAttribute("name","commit"),ki.setAttribute("value","Save & Preview"),ki.setAttribute("type","hidden"),ki}onClick(ki){let Ri=this.hasSaveButtonTarget?ki.currentTarget==this.saveButtonTarget:!1,ts;this.hasSaveButtonTarget?Ri?(this.saveButtonTarget.setAttribute("disabled",!0),this.formTarget.appendChild(this.hiddenInputForSave),this.hasSubmitButtonTarget&&this.submitButtonTarget.classList.add("d-none")):(this.saveButtonTarget.classList.add("d-none"),this.hasSubmitButtonTarget&&this.submitButtonTarget.setAttribute("disabled",!0)):this.hasSubmitButtonTarget?(this.submitButtonTarget.setAttribute("disabled",!0),this.submitButtonTarget.dataset.disableWith&&JSON.parse(this.submitButtonTarget.dataset.disableWith).forEach(is=>this.submitButtonTarget.classList.add(is))):ki.currentTarget.dataset.formId&&(ts=document.getElementById(ki.currentTarget.dataset.formId),ki.currentTarget.setAttribute("disabled",!0)),this.submitForm(Ri,ts)}submitForm(ki=!1,Ri=null){this.hasFormTarget?(this.hasSubmitButtonTarget&&this.submitButtonTarget.tagName!=="A"||ki)&&this.debouncedFormRequestSubmit():Ri&&Ri.requestSubmit()}get debouncedFormRequestSubmit(){return lodashExports.debounce(()=>this.formTarget.requestSubmit(),500)}removeSaveSuccessful(){const ki=this.element.querySelectorAll("[data-save-successful=true]");ki&&setTimeout(function(){ki.forEach(Ri=>{Ri.setAttribute("data-save-successful","")})},500)}persistResetInputValues(){this.inputs.forEach(ki=>{!ki.dataset.resetValue&&!ki.dataset.noClearOrReset&&(ki.dataset.resetValue=["checkbox","radio"].includes(ki.type)?ki.checked:ki.value)})}get inputs(){return lodashExports.filter(this.element.querySelectorAll("input"),({type:ki})=>["checkbox","radio","text","number","range","hidden"].includes(ki))}reset(){this.element.reset()}onReset(ki){ki.preventDefault(),this.setAllInputs("resetValue")}clear(){this.setAllInputs("clearValue")}setAllInputs(ki){this.inputs.forEach(Ri=>{if(!Ri.dataset.noClearOrReset){let ts=Ri.dataset[ki]||"";["checkbox","radio"].includes(Ri.type)?Ri.checked=ts==="true":Ri.value=ts}}),this.dispatchChangeEvents()}dispatchChangeEvents(){let ki=new CustomEvent("custom-change",{});this.inputs.forEach(Ri=>{Ri.dispatchEvent(ki)})}displayReset(){this.hasResetButtonTarget&&(this.resetButtonTarget.classList.remove("invisible"),this.resetButtonTarget.classList.remove("pe-none"))}}Ho(FormsHelperController,"targets",["form","resetButton","hiddenDelete","deleteButton","submitButton","saveButton","confirmToggle"]),Ho(FormsHelperController,"values",{resetOnHideModalId:String});class GetStartedController extends Controller{constructor(){super(...arguments);Ho(this,"onceSubmitForm",null);Ho(this,"called",!1)}connect(){this.hasButtonTarget&&(this.buttonTarget.disabled=!0,this.validate()),this.hasFormTarget&&(this.onceSubmitForm=lodashExports.once(this.submitForm.bind(this)),this.formTarget.addEventListener("submit",Ri=>{Ri.preventDefault(),!this.called&&(this.called=!0,this.onceSubmitForm())}))}submitForm(){this.formTarget.submit()}validate(){lodashExports.debounce(()=>{this.validations()?this.buttonTarget.disabled=!1:this.buttonTarget.disabled=!0},100)()}validations(){let[Ri,ts,rs,is,ns,ss]=Array(6).fill(!0);return this.hasEmailInputTarget&&(Ri=validEmail(this.emailInputTarget.value)),this.hasPasswordInputTarget&&(ss=validInputValue(this.passwordInputTarget.value)),this.hasNewPasswordInputTarget&&(is=validNewPassword(this.newPasswordInputTarget.getAttribute("data-password-status"))),this.hasCodeInputTarget&&(rs=validInputValue(this.codeInputTarget.value)),this.hasChecksContainerTarget&&(ts=Array.from(this.checksContainerTarget.querySelectorAll("input[type=radio]")).reduce((os,ls)=>os||ls.checked,!1)),this.hasNameInputTarget&&(ns=validInputValue(this.nameInputTarget.value)),Ri&&is&&ss&&rs&&ts&&ns}}Ho(GetStartedController,"targets",["button","emailInput","newPasswordInput","passwordInput","nameInput","codeInput","checksContainer","form"]);let nextId=0;class GlightboxController extends Controller{constructor(){super(...arguments);Ho(this,"id",null);Ho(this,"glightboxElClass",null);Ho(this,"slideNodeByIndex",{})}connect(){this.id=++nextId,this.glightboxElClass=`glightbox-gallery-${this.id}`,this.elementTargets.forEach(Ri=>{Ri.classList.add(this.glightboxElClass)}),this.glightbox=window.GLightbox({selector:`.${this.glightboxElClass}`,touchNavigation:!0}),this.glightbox.on("slide_before_load",Ri=>{const{slideIndex:ts,slideNode:rs}=Ri;rs.classList.add(this.glightboxElClass),this.slideNodeByIndex[ts]=rs;let{isVideo:is,videoMp4_1200kUrl:ns,videoMp4_2400kUrl:ss,videoWebm_1200kUrl:os,videoWebm_2400kUrl:ls,videoFallbackUrl:cs,videoPlaceholderUrl:hs,videoIsTranscoded:us}=this.getIndexData(ts);if(is){let As=rs.querySelector(".gslide-media"),bs=`
          <video muted playsinline preload="none"
            controls disablepictureinpicture
            controlsList="nodownload noremoteplayback noplaybackrate nofullscreen"
            poster="${hs}">`;if(us){if(!isSafari()){let Cs=isMobileDevice()?os:ls;bs+=`<source src="${Cs}" type="video/webm">`}let ys=isMobileDevice()?ns:ss;bs+=`<source src="${ys}">`}else bs+=` <source src="${cs}"> `;bs+="<p>Your browser doesn't support this video.</p></video>",As.innerHTML=bs}}),this.glightbox.on("slide_before_change",({prev:Ri})=>{let ts=this.getIndexData(Ri.index);ts.isVideo&&ts.videoEl.pause()}),this.glightbox.on("slide_changed",({current:Ri})=>{let ts=this.getIndexData(Ri.index);ts.isVideo&&ts.videoEl.play()})}getIndexData(Ri){let ts=this.elementTargets[Ri];if(!ts)return{};let rs=ts.dataset;const is=this.slideNodeByIndex[Ri];return Object.assign({},rs,{isVideo:rs.type==="custom-video",videoIsTranscoded:rs.videoIsTranscoded==="true",videoEl:is==null?void 0:is.querySelector("video"),slideNode:is})}open(){this.glightbox.open()}}Ho(GlightboxController,"targets",["element"]);function normalizeColor(es){return[(es>>16&255)/255,(es>>8&255)/255,(255&es)/255]}["SCREEN","LINEAR_LIGHT"].reduce((es,ki,Ri)=>Object.assign(es,{[ki]:Ri}),{});class MiniGl{constructor(ki,Ri,ts,rs=!1){const is=this,ns=document.location.search.toLowerCase().indexOf("debug=webgl")!==-1;is.canvas=ki,is.gl=is.canvas.getContext("webgl",{antialias:!0}),is.meshes=[];const ss=is.gl;Ri&&ts&&this.setSize(Ri,ts),is.lastDebugMsg,is.debug=rs&&ns?function(ls){const cs=new Date;cs-is.lastDebugMsg>1e3&&console.log("---"),console.log(cs.toLocaleTimeString()+Array(Math.max(0,32-ls.length)).join(" ")+ls+": ",...Array.from(arguments).slice(1)),is.lastDebugMsg=cs}:()=>{},Object.defineProperties(is,{Material:{enumerable:!1,value:class{constructor(ls,cs,hs={}){const us=this;function As(Cs,ps){const ms=ss.createShader(Cs);return ss.shaderSource(ms,ps),ss.compileShader(ms),ss.getShaderParameter(ms,ss.COMPILE_STATUS)||console.error(ss.getShaderInfoLog(ms)),is.debug("Material.compileShaderSource",{source:ps}),ms}function bs(Cs,ps){return Object.entries(Cs).map(([ms,fs])=>fs.getDeclaration(ms,ps)).join(`
`)}us.uniforms=hs,us.uniformInstances=[];const ys=`
              precision highp float;
            `;us.vertexSource=`
              ${ys}
              attribute vec4 position;
              attribute vec2 uv;
              attribute vec2 uvNorm;
              ${bs(is.commonUniforms,"vertex")}
              ${bs(hs,"vertex")}
              ${ls}
            `,us.Source=`
              ${ys}
              ${bs(is.commonUniforms,"fragment")}
              ${bs(hs,"fragment")}
              ${cs}
            `,us.vertexShader=As(ss.VERTEX_SHADER,us.vertexSource),us.fragmentShader=As(ss.FRAGMENT_SHADER,us.Source),us.program=ss.createProgram(),ss.attachShader(us.program,us.vertexShader),ss.attachShader(us.program,us.fragmentShader),ss.linkProgram(us.program),ss.getProgramParameter(us.program,ss.LINK_STATUS)||console.error(ss.getProgramInfoLog(us.program)),ss.useProgram(us.program),us.attachUniforms(void 0,is.commonUniforms),us.attachUniforms(void 0,us.uniforms)}attachUniforms(ls,cs){const hs=this;ls===void 0?Object.entries(cs).forEach(([us,As])=>{hs.attachUniforms(us,As)}):cs.type=="array"?cs.value.forEach((us,As)=>hs.attachUniforms(`${ls}[${As}]`,us)):cs.type=="struct"?Object.entries(cs.value).forEach(([us,As])=>hs.attachUniforms(`${ls}.${us}`,As)):(is.debug("Material.attachUniforms",{name:ls,uniform:cs}),hs.uniformInstances.push({uniform:cs,location:ss.getUniformLocation(hs.program,ls)}))}}},Uniform:{enumerable:!1,value:class{constructor(ls){this.type="float",Object.assign(this,ls),this.typeFn={float:"1f",int:"1i",vec2:"2fv",vec3:"3fv",vec4:"4fv",mat4:"Matrix4fv"}[this.type]||"1f",this.update()}update(ls){this.value!==void 0&&ss[`uniform${this.typeFn}`](ls,this.typeFn.indexOf("Matrix")===0?this.transpose:this.value,this.typeFn.indexOf("Matrix")===0?this.value:null)}getDeclaration(ls,cs,hs){const us=this;if(us.excludeFrom!==cs){if(us.type==="array")return us.value[0].getDeclaration(ls,cs,us.value.length)+`
const int ${ls}_length = ${us.value.length};`;if(us.type==="struct"){let As=ls.replace("u_","");return As=As.charAt(0).toUpperCase()+As.slice(1),`uniform struct ${As}
                                {
`+Object.entries(us.value).map(([bs,ys])=>ys.getDeclaration(bs,cs).replace(/^uniform/,"")).join("")+`
} ${ls}${hs>0?`[${hs}]`:""};`}return`uniform ${us.type} ${ls}${hs>0?`[${hs}]`:""};`}}}},PlaneGeometry:{enumerable:!1,value:class{constructor(ls,cs,hs,us,As){ss.createBuffer(),this.attributes={position:new is.Attribute({target:ss.ARRAY_BUFFER,size:3}),uv:new is.Attribute({target:ss.ARRAY_BUFFER,size:2}),uvNorm:new is.Attribute({target:ss.ARRAY_BUFFER,size:2}),index:new is.Attribute({target:ss.ELEMENT_ARRAY_BUFFER,size:3,type:ss.UNSIGNED_SHORT})},this.setTopology(hs,us),this.setSize(ls,cs,As)}setTopology(ls=1,cs=1){const hs=this;hs.xSegCount=ls,hs.ySegCount=cs,hs.vertexCount=(hs.xSegCount+1)*(hs.ySegCount+1),hs.quadCount=hs.xSegCount*hs.ySegCount*2,hs.attributes.uv.values=new Float32Array(2*hs.vertexCount),hs.attributes.uvNorm.values=new Float32Array(2*hs.vertexCount),hs.attributes.index.values=new Uint16Array(3*hs.quadCount);for(let us=0;us<=hs.ySegCount;us++)for(let As=0;As<=hs.xSegCount;As++){const bs=us*(hs.xSegCount+1)+As;if(hs.attributes.uv.values[2*bs]=As/hs.xSegCount,hs.attributes.uv.values[2*bs+1]=1-us/hs.ySegCount,hs.attributes.uvNorm.values[2*bs]=As/hs.xSegCount*2-1,hs.attributes.uvNorm.values[2*bs+1]=1-us/hs.ySegCount*2,As<hs.xSegCount&&us<hs.ySegCount){const ys=us*hs.xSegCount+As;hs.attributes.index.values[6*ys]=bs,hs.attributes.index.values[6*ys+1]=bs+1+hs.xSegCount,hs.attributes.index.values[6*ys+2]=bs+1,hs.attributes.index.values[6*ys+3]=bs+1,hs.attributes.index.values[6*ys+4]=bs+1+hs.xSegCount,hs.attributes.index.values[6*ys+5]=bs+2+hs.xSegCount}}hs.attributes.uv.update(),hs.attributes.uvNorm.update(),hs.attributes.index.update(),is.debug("Geometry.setTopology",{uv:hs.attributes.uv,uvNorm:hs.attributes.uvNorm,index:hs.attributes.index})}setSize(ls=1,cs=1,hs="xz"){const us=this;us.width=ls,us.height=cs,us.orientation=hs,us.attributes.position.values&&us.attributes.position.values.length===3*us.vertexCount||(us.attributes.position.values=new Float32Array(3*us.vertexCount));const As=ls/-2,bs=cs/-2,ys=ls/us.xSegCount,Cs=cs/us.ySegCount;for(let ps=0;ps<=us.ySegCount;ps++){const ms=bs+ps*Cs;for(let fs=0;fs<=us.xSegCount;fs++){const gs=As+fs*ys,ws=ps*(us.xSegCount+1)+fs;us.attributes.position.values[3*ws+"xyz".indexOf(hs[0])]=gs,us.attributes.position.values[3*ws+"xyz".indexOf(hs[1])]=-ms}}us.attributes.position.update(),is.debug("Geometry.setSize",{position:us.attributes.position})}}},Mesh:{enumerable:!1,value:class{constructor(ls,cs){const hs=this;hs.geometry=ls,hs.material=cs,hs.wireframe=!1,hs.attributeInstances=[],Object.entries(hs.geometry.attributes).forEach(([us,As])=>{hs.attributeInstances.push({attribute:As,location:As.attach(us,hs.material.program)})}),is.meshes.push(hs),is.debug("Mesh.constructor",{mesh:hs})}draw(){ss.useProgram(this.material.program),this.material.uniformInstances.forEach(({uniform:ls,location:cs})=>ls.update(cs)),this.attributeInstances.forEach(({attribute:ls,location:cs})=>ls.use(cs)),ss.drawElements(this.wireframe?ss.LINES:ss.TRIANGLES,this.geometry.attributes.index.values.length,ss.UNSIGNED_SHORT,0)}remove(){is.meshes=is.meshes.filter(ls=>ls!=this)}}},Attribute:{enumerable:!1,value:class{constructor(ls){this.type=ss.FLOAT,this.normalized=!1,this.buffer=ss.createBuffer(),Object.assign(this,ls),this.update()}update(){this.values!==void 0&&(ss.bindBuffer(this.target,this.buffer),ss.bufferData(this.target,this.values,ss.STATIC_DRAW))}attach(ls,cs){const hs=ss.getAttribLocation(cs,ls);return this.target===ss.ARRAY_BUFFER&&(ss.enableVertexAttribArray(hs),ss.vertexAttribPointer(hs,this.size,this.type,this.normalized,0,0)),hs}use(ls){ss.bindBuffer(this.target,this.buffer),this.target===ss.ARRAY_BUFFER&&(ss.enableVertexAttribArray(ls),ss.vertexAttribPointer(ls,this.size,this.type,this.normalized,0,0))}}}});const os=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];is.commonUniforms={projectionMatrix:new is.Uniform({type:"mat4",value:os}),modelViewMatrix:new is.Uniform({type:"mat4",value:os}),resolution:new is.Uniform({type:"vec2",value:[1,1]}),aspectRatio:new is.Uniform({type:"float",value:1})}}setSize(ki=640,Ri=480){this.width=ki,this.height=Ri,this.canvas.width=ki,this.canvas.height=Ri,this.gl.viewport(0,0,ki,Ri),this.commonUniforms.resolution.value=[ki,Ri],this.commonUniforms.aspectRatio.value=ki/Ri,this.debug("MiniGL.setSize",{width:ki,height:Ri})}setOrthographicCamera(ki=0,Ri=0,ts=0,rs=-2e3,is=2e3){this.commonUniforms.projectionMatrix.value=[2/this.width,0,0,0,0,2/this.height,0,0,0,0,2/(rs-is),0,ki,Ri,ts,1],this.debug("setOrthographicCamera",this.commonUniforms.projectionMatrix.value)}render(){this.gl.clearColor(0,0,0,0),this.gl.clearDepth(1),this.meshes.forEach(ki=>ki.draw())}}function e$1(es,ki,Ri){return ki in es?Object.defineProperty(es,ki,{value:Ri,enumerable:!0,configurable:!0,writable:!0}):es[ki]=Ri,es}class Gradient{constructor(...ki){e$1(this,"el",void 0),e$1(this,"cssVarRetries",0),e$1(this,"maxCssVarRetries",200),e$1(this,"angle",0),e$1(this,"isLoadedClass",!1),e$1(this,"isScrolling",!1),e$1(this,"scrollingTimeout",void 0),e$1(this,"scrollingRefreshDelay",200),e$1(this,"isIntersecting",!1),e$1(this,"shaderFiles",void 0),e$1(this,"vertexShader",void 0),e$1(this,"sectionColors",void 0),e$1(this,"computedCanvasStyle",void 0),e$1(this,"conf",void 0),e$1(this,"uniforms",void 0),e$1(this,"t",1253106),e$1(this,"last",0),e$1(this,"width",void 0),e$1(this,"minWidth",1111),e$1(this,"height",600),e$1(this,"xSegCount",void 0),e$1(this,"ySegCount",void 0),e$1(this,"mesh",void 0),e$1(this,"material",void 0),e$1(this,"geometry",void 0),e$1(this,"minigl",void 0),e$1(this,"scrollObserver",void 0),e$1(this,"amp",320),e$1(this,"seed",5),e$1(this,"freqX",14e-5),e$1(this,"freqY",29e-5),e$1(this,"freqDelta",1e-5),e$1(this,"activeColors",[1,1,1,1]),e$1(this,"isMetaKey",!1),e$1(this,"isGradientLegendVisible",!1),e$1(this,"isMouseDown",!1),e$1(this,"handleScroll",()=>{clearTimeout(this.scrollingTimeout),this.scrollingTimeout=setTimeout(this.handleScrollEnd,this.scrollingRefreshDelay),this.isGradientLegendVisible&&this.hideGradientLegend(),this.conf.playing&&(this.isScrolling=!0,this.pause())}),e$1(this,"handleScrollEnd",()=>{this.isScrolling=!1,this.isIntersecting&&this.play()}),e$1(this,"resize",()=>{this.width=window.innerWidth,this.minigl.setSize(this.width,this.height),this.minigl.setOrthographicCamera(),this.xSegCount=Math.ceil(this.width*this.conf.density[0]),this.ySegCount=Math.ceil(this.height*this.conf.density[1]),this.mesh.geometry.setTopology(this.xSegCount,this.ySegCount),this.mesh.geometry.setSize(this.width,this.height),this.mesh.material.uniforms.u_shadow_power.value=this.width<600?5:6}),e$1(this,"handleMouseDown",Ri=>{this.isGradientLegendVisible&&(this.isMetaKey=Ri.metaKey,this.isMouseDown=!0,this.conf.playing===!1&&requestAnimationFrame(this.animate))}),e$1(this,"handleMouseUp",()=>{this.isMouseDown=!1}),e$1(this,"animate",Ri=>{if(!this.shouldSkipFrame(Ri)||this.isMouseDown){if(this.t+=Math.min(Ri-this.last,1e3/15),this.last=Ri,this.isMouseDown){let ts=160;this.isMetaKey&&(ts=-160),this.t+=ts}this.mesh.material.uniforms.u_time.value=this.t,this.minigl.render()}if(this.last!==0&&this.isStatic)return this.minigl.render(),void this.disconnect();(this.conf.playing||this.isMouseDown)&&requestAnimationFrame(this.animate)}),e$1(this,"addIsLoadedClass",()=>{!this.isLoadedClass&&(this.isLoadedClass=!0,this.el.classList.add("isLoaded"),setTimeout(()=>{this.el.parentElement.classList.add("isLoaded")},3e3))}),e$1(this,"pause",()=>{this.conf.playing=!1}),e$1(this,"play",()=>{requestAnimationFrame(this.animate),this.conf.playing=!0}),e$1(this,"initGradient",Ri=>(this.el=document.querySelector(Ri),this.connect(),this))}async connect(){this.shaderFiles={vertex:`varying vec3 v_color;

void main() {
  float time = u_time * u_global.noiseSpeed;

  vec2 noiseCoord = resolution * uvNorm * u_global.noiseFreq;

  vec2 st = 1. - uvNorm.xy;

  //
  // Tilting the plane
  //

  // Front-to-back tilt
  float tilt = resolution.y / 2.0 * uvNorm.y;

  // Left-to-right angle
  float incline = resolution.x * uvNorm.x / 2.0 * u_vertDeform.incline;

  // Up-down shift to offset incline
  float offset = resolution.x / 2.0 * u_vertDeform.incline * mix(u_vertDeform.offsetBottom, u_vertDeform.offsetTop, uv.y);

  //
  // Vertex noise
  //

  float noise = snoise(vec3(
    noiseCoord.x * u_vertDeform.noiseFreq.x + time * u_vertDeform.noiseFlow,
    noiseCoord.y * u_vertDeform.noiseFreq.y,
    time * u_vertDeform.noiseSpeed + u_vertDeform.noiseSeed
  )) * u_vertDeform.noiseAmp;

  // Fade noise to zero at edges
  noise *= 1.0 - pow(abs(uvNorm.y), 2.0);

  // Clamp to 0
  noise = max(0.0, noise);

  vec3 pos = vec3(
    position.x,
    position.y + tilt + incline + noise - offset,
    position.z
  );

  //
  // Vertex color, to be passed to fragment shader
  //

  if (u_active_colors[0] == 1.) {
    v_color = u_baseColor;
  }

  for (int i = 0; i < u_waveLayers_length; i++) {
    if (u_active_colors[i + 1] == 1.) {
      WaveLayers layer = u_waveLayers[i];

      float noise = smoothstep(
        layer.noiseFloor,
        layer.noiseCeil,
        snoise(vec3(
          noiseCoord.x * layer.noiseFreq.x + time * layer.noiseFlow,
          noiseCoord.y * layer.noiseFreq.y,
          time * layer.noiseSpeed + layer.noiseSeed
        )) / 2.0 + 0.5
      );

      v_color = blendNormal(v_color, layer.color, pow(noise, 4.));
    }
  }

  //
  // Finish
  //

  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
}`,noise:`//
// Description : Array and textureless GLSL 2D/3D/4D simplex
//               noise functions.
//      Author : Ian McEwan, Ashima Arts.
//  Maintainer : stegu
//     Lastmod : 20110822 (ijm)
//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.
//               Distributed under the MIT License. See LICENSE file.
//               https://github.com/ashima/webgl-noise
//               https://github.com/stegu/webgl-noise
//

vec3 mod289(vec3 x) {
  return x - floor(x * (1.0 / 289.0)) * 289.0;
}

vec4 mod289(vec4 x) {
  return x - floor(x * (1.0 / 289.0)) * 289.0;
}

vec4 permute(vec4 x) {
    return mod289(((x*34.0)+1.0)*x);
}

vec4 taylorInvSqrt(vec4 r)
{
  return 1.79284291400159 - 0.85373472095314 * r;
}

float snoise(vec3 v)
{
  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);

// First corner
  vec3 i  = floor(v + dot(v, C.yyy) );
  vec3 x0 =   v - i + dot(i, C.xxx) ;

// Other corners
  vec3 g = step(x0.yzx, x0.xyz);
  vec3 l = 1.0 - g;
  vec3 i1 = min( g.xyz, l.zxy );
  vec3 i2 = max( g.xyz, l.zxy );

  //   x0 = x0 - 0.0 + 0.0 * C.xxx;
  //   x1 = x0 - i1  + 1.0 * C.xxx;
  //   x2 = x0 - i2  + 2.0 * C.xxx;
  //   x3 = x0 - 1.0 + 3.0 * C.xxx;
  vec3 x1 = x0 - i1 + C.xxx;
  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y
  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y

// Permutations
  i = mod289(i);
  vec4 p = permute( permute( permute(
            i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
          + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))
          + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));

// Gradients: 7x7 points over a square, mapped onto an octahedron.
// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)
  float n_ = 0.142857142857; // 1.0/7.0
  vec3  ns = n_ * D.wyz - D.xzx;

  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)

  vec4 x_ = floor(j * ns.z);
  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)

  vec4 x = x_ *ns.x + ns.yyyy;
  vec4 y = y_ *ns.x + ns.yyyy;
  vec4 h = 1.0 - abs(x) - abs(y);

  vec4 b0 = vec4( x.xy, y.xy );
  vec4 b1 = vec4( x.zw, y.zw );

  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;
  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;
  vec4 s0 = floor(b0)*2.0 + 1.0;
  vec4 s1 = floor(b1)*2.0 + 1.0;
  vec4 sh = -step(h, vec4(0.0));

  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;

  vec3 p0 = vec3(a0.xy,h.x);
  vec3 p1 = vec3(a0.zw,h.y);
  vec3 p2 = vec3(a1.xy,h.z);
  vec3 p3 = vec3(a1.zw,h.w);

//Normalise gradients
  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
  p0 *= norm.x;
  p1 *= norm.y;
  p2 *= norm.z;
  p3 *= norm.w;

// Mix final noise value
  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
  m = m * m;
  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),
                                dot(p2,x2), dot(p3,x3) ) );
}`,blend:`//
// https://github.com/jamieowen/glsl-blend
//

// Normal

vec3 blendNormal(vec3 base, vec3 blend) {
	return blend;
}

vec3 blendNormal(vec3 base, vec3 blend, float opacity) {
	return (blendNormal(base, blend) * opacity + base * (1.0 - opacity));
}

// Screen

float blendScreen(float base, float blend) {
	return 1.0-((1.0-base)*(1.0-blend));
}

vec3 blendScreen(vec3 base, vec3 blend) {
	return vec3(blendScreen(base.r,blend.r),blendScreen(base.g,blend.g),blendScreen(base.b,blend.b));
}

vec3 blendScreen(vec3 base, vec3 blend, float opacity) {
	return (blendScreen(base, blend) * opacity + base * (1.0 - opacity));
}

// Multiply

vec3 blendMultiply(vec3 base, vec3 blend) {
	return base*blend;
}

vec3 blendMultiply(vec3 base, vec3 blend, float opacity) {
	return (blendMultiply(base, blend) * opacity + base * (1.0 - opacity));
}

// Overlay

float blendOverlay(float base, float blend) {
	return base<0.5?(2.0*base*blend):(1.0-2.0*(1.0-base)*(1.0-blend));
}

vec3 blendOverlay(vec3 base, vec3 blend) {
	return vec3(blendOverlay(base.r,blend.r),blendOverlay(base.g,blend.g),blendOverlay(base.b,blend.b));
}

vec3 blendOverlay(vec3 base, vec3 blend, float opacity) {
	return (blendOverlay(base, blend) * opacity + base * (1.0 - opacity));
}

// Hard light

vec3 blendHardLight(vec3 base, vec3 blend) {
	return blendOverlay(blend,base);
}

vec3 blendHardLight(vec3 base, vec3 blend, float opacity) {
	return (blendHardLight(base, blend) * opacity + base * (1.0 - opacity));
}

// Soft light

float blendSoftLight(float base, float blend) {
	return (blend<0.5)?(2.0*base*blend+base*base*(1.0-2.0*blend)):(sqrt(base)*(2.0*blend-1.0)+2.0*base*(1.0-blend));
}

vec3 blendSoftLight(vec3 base, vec3 blend) {
	return vec3(blendSoftLight(base.r,blend.r),blendSoftLight(base.g,blend.g),blendSoftLight(base.b,blend.b));
}

vec3 blendSoftLight(vec3 base, vec3 blend, float opacity) {
	return (blendSoftLight(base, blend) * opacity + base * (1.0 - opacity));
}

// Color dodge

float blendColorDodge(float base, float blend) {
	return (blend==1.0)?blend:min(base/(1.0-blend),1.0);
}

vec3 blendColorDodge(vec3 base, vec3 blend) {
	return vec3(blendColorDodge(base.r,blend.r),blendColorDodge(base.g,blend.g),blendColorDodge(base.b,blend.b));
}

vec3 blendColorDodge(vec3 base, vec3 blend, float opacity) {
	return (blendColorDodge(base, blend) * opacity + base * (1.0 - opacity));
}

// Color burn

float blendColorBurn(float base, float blend) {
	return (blend==0.0)?blend:max((1.0-((1.0-base)/blend)),0.0);
}

vec3 blendColorBurn(vec3 base, vec3 blend) {
	return vec3(blendColorBurn(base.r,blend.r),blendColorBurn(base.g,blend.g),blendColorBurn(base.b,blend.b));
}

vec3 blendColorBurn(vec3 base, vec3 blend, float opacity) {
	return (blendColorBurn(base, blend) * opacity + base * (1.0 - opacity));
}

// Vivid Light

float blendVividLight(float base, float blend) {
	return (blend<0.5)?blendColorBurn(base,(2.0*blend)):blendColorDodge(base,(2.0*(blend-0.5)));
}

vec3 blendVividLight(vec3 base, vec3 blend) {
	return vec3(blendVividLight(base.r,blend.r),blendVividLight(base.g,blend.g),blendVividLight(base.b,blend.b));
}

vec3 blendVividLight(vec3 base, vec3 blend, float opacity) {
	return (blendVividLight(base, blend) * opacity + base * (1.0 - opacity));
}

// Lighten

float blendLighten(float base, float blend) {
	return max(blend,base);
}

vec3 blendLighten(vec3 base, vec3 blend) {
	return vec3(blendLighten(base.r,blend.r),blendLighten(base.g,blend.g),blendLighten(base.b,blend.b));
}

vec3 blendLighten(vec3 base, vec3 blend, float opacity) {
	return (blendLighten(base, blend) * opacity + base * (1.0 - opacity));
}

// Linear burn

float blendLinearBurn(float base, float blend) {
	// Note : Same implementation as BlendSubtractf
	return max(base+blend-1.0,0.0);
}

vec3 blendLinearBurn(vec3 base, vec3 blend) {
	// Note : Same implementation as BlendSubtract
	return max(base+blend-vec3(1.0),vec3(0.0));
}

vec3 blendLinearBurn(vec3 base, vec3 blend, float opacity) {
	return (blendLinearBurn(base, blend) * opacity + base * (1.0 - opacity));
}

// Linear dodge

float blendLinearDodge(float base, float blend) {
	// Note : Same implementation as BlendAddf
	return min(base+blend,1.0);
}

vec3 blendLinearDodge(vec3 base, vec3 blend) {
	// Note : Same implementation as BlendAdd
	return min(base+blend,vec3(1.0));
}

vec3 blendLinearDodge(vec3 base, vec3 blend, float opacity) {
	return (blendLinearDodge(base, blend) * opacity + base * (1.0 - opacity));
}

// Linear light

float blendLinearLight(float base, float blend) {
	return blend<0.5?blendLinearBurn(base,(2.0*blend)):blendLinearDodge(base,(2.0*(blend-0.5)));
}

vec3 blendLinearLight(vec3 base, vec3 blend) {
	return vec3(blendLinearLight(base.r,blend.r),blendLinearLight(base.g,blend.g),blendLinearLight(base.b,blend.b));
}

vec3 blendLinearLight(vec3 base, vec3 blend, float opacity) {
	return (blendLinearLight(base, blend) * opacity + base * (1.0 - opacity));
}`,fragment:`varying vec3 v_color;

void main() {
  vec3 color = v_color;
  if (u_darken_top == 1.0) {
    vec2 st = gl_FragCoord.xy/resolution.xy;
    color.g -= pow(st.y + sin(-12.0) * st.x, u_shadow_power) * 0.4;
  }
  gl_FragColor = vec4(color, 1.0);
}`},this.conf={presetName:"",wireframe:!1,density:[.06,.16],zoom:1,rotation:0,playing:!0},document.querySelectorAll("canvas").length<1?console.log("DID NOT LOAD HERO STRIPE CANVAS"):(this.minigl=new MiniGl(this.el,null,null,!0),requestAnimationFrame(()=>{this.el&&(this.computedCanvasStyle=getComputedStyle(this.el),this.waitForCssVars())}))}disconnect(){this.scrollObserver&&(window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("keydown",this.handleKeyDown),this.scrollObserver.disconnect()),window.removeEventListener("resize",this.resize)}initMaterial(){this.uniforms={u_time:new this.minigl.Uniform({value:0}),u_shadow_power:new this.minigl.Uniform({value:5}),u_darken_top:new this.minigl.Uniform({value:this.el.dataset.jsDarkenTop===""?1:0}),u_active_colors:new this.minigl.Uniform({value:this.activeColors,type:"vec4"}),u_global:new this.minigl.Uniform({value:{noiseFreq:new this.minigl.Uniform({value:[this.freqX,this.freqY],type:"vec2"}),noiseSpeed:new this.minigl.Uniform({value:5e-6})},type:"struct"}),u_vertDeform:new this.minigl.Uniform({value:{incline:new this.minigl.Uniform({value:Math.sin(this.angle)/Math.cos(this.angle)}),offsetTop:new this.minigl.Uniform({value:-.5}),offsetBottom:new this.minigl.Uniform({value:-.5}),noiseFreq:new this.minigl.Uniform({value:[3,4],type:"vec2"}),noiseAmp:new this.minigl.Uniform({value:this.amp}),noiseSpeed:new this.minigl.Uniform({value:10}),noiseFlow:new this.minigl.Uniform({value:3}),noiseSeed:new this.minigl.Uniform({value:this.seed})},type:"struct",excludeFrom:"fragment"}),u_baseColor:new this.minigl.Uniform({value:this.sectionColors[0],type:"vec3",excludeFrom:"fragment"}),u_waveLayers:new this.minigl.Uniform({value:[],excludeFrom:"fragment",type:"array"})};for(let ki=1;ki<this.sectionColors.length;ki+=1)this.uniforms.u_waveLayers.value.push(new this.minigl.Uniform({value:{color:new this.minigl.Uniform({value:this.sectionColors[ki],type:"vec3"}),noiseFreq:new this.minigl.Uniform({value:[2+ki/this.sectionColors.length,3+ki/this.sectionColors.length],type:"vec2"}),noiseSpeed:new this.minigl.Uniform({value:11+.3*ki}),noiseFlow:new this.minigl.Uniform({value:6.5+.3*ki}),noiseSeed:new this.minigl.Uniform({value:this.seed+10*ki}),noiseFloor:new this.minigl.Uniform({value:.1}),noiseCeil:new this.minigl.Uniform({value:.63+.07*ki})},type:"struct"}));return this.vertexShader=[this.shaderFiles.noise,this.shaderFiles.blend,this.shaderFiles.vertex].join(`

`),new this.minigl.Material(this.vertexShader,this.shaderFiles.fragment,this.uniforms)}initMesh(){this.material=this.initMaterial(),this.geometry=new this.minigl.PlaneGeometry,this.mesh=new this.minigl.Mesh(this.geometry,this.material)}shouldSkipFrame(ki){return!!window.document.hidden||!this.conf.playing||parseInt(ki,10)%2==0||void 0}updateFrequency(ki){this.freqX+=ki,this.freqY+=ki}toggleColor(ki){this.activeColors[ki]=this.activeColors[ki]===0?1:0}showGradientLegend(){this.width>this.minWidth&&(this.isGradientLegendVisible=!0,document.body.classList.add("isGradientLegendVisible"))}hideGradientLegend(){this.isGradientLegendVisible=!1,document.body.classList.remove("isGradientLegendVisible")}init(){this.initGradientColors(),this.initMesh(),this.resize(),requestAnimationFrame(this.animate),window.addEventListener("resize",this.resize)}waitForCssVars(){if(this.computedCanvasStyle&&this.computedCanvasStyle.getPropertyValue("--gradient-color-1").indexOf("#")!==-1)this.init(),this.addIsLoadedClass();else{if(this.cssVarRetries+=1,this.cssVarRetries>this.maxCssVarRetries)return this.sectionColors=[16711680,16711680,16711935,65280,255],void this.init();requestAnimationFrame(()=>this.waitForCssVars())}}initGradientColors(){this.sectionColors=["--gradient-color-1","--gradient-color-2","--gradient-color-3","--gradient-color-4"].map(ki=>{let Ri=this.computedCanvasStyle.getPropertyValue(ki).trim();return Ri.length===4&&(Ri=`#${Ri.substr(1).split("").map(rs=>rs+rs).join("")}`),Ri&&`0x${Ri.substr(1)}`}).filter(Boolean).map(normalizeColor)}}class GradientAnimationController extends Controller{connect(){new Gradient().initGradient("#canvas-gradient")}}var highcharts={exports:{}};(function(es){(function(ki,Ri){es.exports?(Ri.default=Ri,es.exports=ki.document?Ri(ki):Ri):(ki.Highcharts&&ki.Highcharts.error(16,!0),ki.Highcharts=Ri(ki))})(typeof window<"u"?window:commonjsGlobal,function(ki){function Ri(rs,is,ns,ss){rs.hasOwnProperty(is)||(rs[is]=ss.apply(null,ns),typeof CustomEvent=="function"&&ki.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:is,module:rs[is]}})))}var ts={};return Ri(ts,"Core/Globals.js",[],function(){var rs;return function(is){is.SVG_NS="http://www.w3.org/2000/svg",is.product="Highcharts",is.version="10.3.3",is.win=typeof ki<"u"?ki:{},is.doc=is.win.document,is.svg=is.doc&&is.doc.createElementNS&&!!is.doc.createElementNS(is.SVG_NS,"svg").createSVGRect,is.userAgent=is.win.navigator&&is.win.navigator.userAgent||"",is.isChrome=is.userAgent.indexOf("Chrome")!==-1,is.isFirefox=is.userAgent.indexOf("Firefox")!==-1,is.isMS=/(edge|msie|trident)/i.test(is.userAgent)&&!is.win.opera,is.isSafari=!is.isChrome&&is.userAgent.indexOf("Safari")!==-1,is.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(is.userAgent),is.isWebKit=is.userAgent.indexOf("AppleWebKit")!==-1,is.deg2rad=2*Math.PI/360,is.hasBidiBug=is.isFirefox&&4>parseInt(is.userAgent.split("Firefox/")[1],10),is.hasTouch=!!is.win.TouchEvent,is.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],is.noop=function(){},is.supportsPassiveEvents=function(){var ns=!1;if(!is.isMS){var ss=Object.defineProperty({},"passive",{get:function(){ns=!0}});is.win.addEventListener&&is.win.removeEventListener&&(is.win.addEventListener("testPassive",is.noop,ss),is.win.removeEventListener("testPassive",is.noop,ss))}return ns}(),is.charts=[],is.dateFormats={},is.seriesTypes={},is.symbolSizes={},is.chartCount=0}(rs||(rs={})),rs}),Ri(ts,"Core/Utilities.js",[ts["Core/Globals.js"]],function(rs){function is(Ds,_s,Ns,Ss){var Us=_s?"Highcharts error":"Highcharts warning";Ds===32&&(Ds=""+Us+": Deprecated member");var Zs=As(Ds),ao=Zs?""+Us+" #"+Ds+": www.highcharts.com/errors/"+Ds+"/":Ds.toString();if(typeof Ss<"u"){var js="";Zs&&(ao+="?"),Ts(Ss,function(Bs,zs){js+=`
 - `.concat(zs,": ").concat(Bs),Zs&&(ao+=encodeURI(zs)+"="+encodeURI(Bs))}),ao+=js}Rs(rs,"displayError",{chart:Ns,code:Ds,message:ao,params:Ss},function(){if(_s)throw Error(ao);Fs.console&&is.messages.indexOf(ao)===-1&&console.warn(ao)}),is.messages.push(ao)}function ns(Ds,_s){var Ns={};return Ts(Ds,function(Ss,Us){cs(Ds[Us],!0)&&!Ds.nodeType&&_s[Us]?(Ss=ns(Ds[Us],_s[Us]),Object.keys(Ss).length&&(Ns[Us]=Ss)):(cs(Ds[Us])||Ds[Us]!==_s[Us]||Us in Ds&&!(Us in _s))&&(Ns[Us]=Ds[Us])}),Ns}function ss(Ds,_s){return parseInt(Ds,_s||10)}function os(Ds){return typeof Ds=="string"}function ls(Ds){return Ds=Object.prototype.toString.call(Ds),Ds==="[object Array]"||Ds==="[object Array Iterator]"}function cs(Ds,_s){return!!Ds&&typeof Ds=="object"&&(!_s||!ls(Ds))}function hs(Ds){return cs(Ds)&&typeof Ds.nodeType=="number"}function us(Ds){var _s=Ds&&Ds.constructor;return!(!cs(Ds,!0)||hs(Ds)||!_s||!_s.name||_s.name==="Object")}function As(Ds){return typeof Ds=="number"&&!isNaN(Ds)&&1/0>Ds&&-1/0<Ds}function bs(Ds){return typeof Ds<"u"&&Ds!==null}function ys(Ds,_s,Ns){var Ss=os(_s)&&!bs(Ns),Us,Zs=function(ao,js){bs(ao)?Ds.setAttribute(js,ao):Ss?(Us=Ds.getAttribute(js))||js!=="class"||(Us=Ds.getAttribute(js+"Name")):Ds.removeAttribute(js)};return os(_s)?Zs(Ns,_s):Ts(_s,Zs),Us}function Cs(Ds,_s){var Ns;Ds||(Ds={});for(Ns in _s)Ds[Ns]=_s[Ns];return Ds}function ps(){for(var Ds=arguments,_s=Ds.length,Ns=0;Ns<_s;Ns++){var Ss=Ds[Ns];if(typeof Ss<"u"&&Ss!==null)return Ss}}function ms(Ds,_s){rs.isMS&&!rs.svg&&_s&&bs(_s.opacity)&&(_s.filter="alpha(opacity=".concat(100*_s.opacity,")")),Cs(Ds.style,_s)}function fs(Ds){return Math.pow(10,Math.floor(Math.log(Ds)/Math.LN10))}function gs(Ds,_s){return 1e14<Ds?Ds:parseFloat(Ds.toPrecision(_s||14))}function ws(Ds,_s,Ns){var Ss=rs.getStyle||ws;if(_s==="width")return _s=Math.min(Ds.offsetWidth,Ds.scrollWidth),Ns=Ds.getBoundingClientRect&&Ds.getBoundingClientRect().width,Ns<_s&&Ns>=_s-1&&(_s=Math.floor(Ns)),Math.max(0,_s-(Ss(Ds,"padding-left",!0)||0)-(Ss(Ds,"padding-right",!0)||0));if(_s==="height")return Math.max(0,Math.min(Ds.offsetHeight,Ds.scrollHeight)-(Ss(Ds,"padding-top",!0)||0)-(Ss(Ds,"padding-bottom",!0)||0));if(Fs.getComputedStyle||is(27,!0),Ds=Fs.getComputedStyle(Ds,void 0)){var Us=Ds.getPropertyValue(_s);ps(Ns,_s!=="opacity")&&(Us=ss(Us))}return Us}function Ts(Ds,_s,Ns){for(var Ss in Ds)Object.hasOwnProperty.call(Ds,Ss)&&_s.call(Ns||Ds[Ss],Ds[Ss],Ss,Ds)}function $s(Ds,_s,Ns){function Ss(js,Bs){var zs=Ds.removeEventListener||rs.removeEventListenerPolyfill;zs&&zs.call(Ds,js,Bs,!1)}function Us(js){var Bs;if(Ds.nodeName){if(_s){var zs={};zs[_s]=!0}else zs=js;Ts(zs,function(so,oo){if(js[oo])for(Bs=js[oo].length;Bs--;)Ss(oo,js[oo][Bs].fn)})}}var Zs=typeof Ds=="function"&&Ds.prototype||Ds;if(Object.hasOwnProperty.call(Zs,"hcEvents")){var ao=Zs.hcEvents;_s?(Zs=ao[_s]||[],Ns?(ao[_s]=Zs.filter(function(js){return Ns!==js.fn}),Ss(_s,Ns)):(Us(ao),ao[_s]=[])):(Us(ao),delete Zs.hcEvents)}}function Rs(Ds,_s,Ns,Ss){if(Ns=Ns||{},Qs.createEvent&&(Ds.dispatchEvent||Ds.fireEvent&&Ds!==rs)){var Us=Qs.createEvent("Events");Us.initEvent(_s,!0,!0),Ns=Cs(Us,Ns),Ds.dispatchEvent?Ds.dispatchEvent(Ns):Ds.fireEvent(_s,Ns)}else if(Ds.hcEvents){Ns.target||Cs(Ns,{preventDefault:function(){Ns.defaultPrevented=!0},target:Ds,type:_s}),Us=[];for(var Zs=Ds,ao=!1;Zs.hcEvents;)Object.hasOwnProperty.call(Zs,"hcEvents")&&Zs.hcEvents[_s]&&(Us.length&&(ao=!0),Us.unshift.apply(Us,Zs.hcEvents[_s])),Zs=Object.getPrototypeOf(Zs);ao&&Us.sort(function(js,Bs){return js.order-Bs.order}),Us.forEach(function(js){js.fn.call(Ds,Ns)===!1&&Ns.preventDefault()})}Ss&&!Ns.defaultPrevented&&Ss.call(Ds,Ns)}var Ps=rs.charts,Qs=rs.doc,Fs=rs.win;(is||(is={})).messages=[],Math.easeInOutSine=function(Ds){return-.5*(Math.cos(Math.PI*Ds)-1)};var Is=Array.prototype.find?function(Ds,_s){return Ds.find(_s)}:function(Ds,_s){var Ns,Ss=Ds.length;for(Ns=0;Ns<Ss;Ns++)if(_s(Ds[Ns],Ns))return Ds[Ns]};Ts({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(Ds,_s){rs[_s]=function(Ns){var Ss;return is(32,!1,void 0,(Ss={},Ss["Highcharts.".concat(_s)]="use Array.".concat(Ds),Ss)),Array.prototype[Ds].apply(Ns,[].slice.call(arguments,1))}});var Ms,Ws=function(){var Ds=Math.random().toString(36).substring(2,9)+"-",_s=0;return function(){return"highcharts-"+(Ms?"":Ds)+_s++}}();return Fs.jQuery&&(Fs.jQuery.fn.highcharts=function(){var Ds=[].slice.call(arguments);if(this[0])return Ds[0]?(new rs[os(Ds[0])?Ds.shift():"Chart"](this[0],Ds[0],Ds[1]),this):Ps[ys(this[0],"data-highcharts-chart")]}),Is={addEvent:function(Ds,_s,Ns,Ss){Ss===void 0&&(Ss={});var Us=typeof Ds=="function"&&Ds.prototype||Ds;Object.hasOwnProperty.call(Us,"hcEvents")||(Us.hcEvents={}),Us=Us.hcEvents,rs.Point&&Ds instanceof rs.Point&&Ds.series&&Ds.series.chart&&(Ds.series.chart.runTrackerClick=!0);var Zs=Ds.addEventListener||rs.addEventListenerPolyfill;return Zs&&Zs.call(Ds,_s,Ns,rs.supportsPassiveEvents?{passive:Ss.passive===void 0?_s.indexOf("touch")!==-1:Ss.passive,capture:!1}:!1),Us[_s]||(Us[_s]=[]),Us[_s].push({fn:Ns,order:typeof Ss.order=="number"?Ss.order:1/0}),Us[_s].sort(function(ao,js){return ao.order-js.order}),function(){$s(Ds,_s,Ns)}},arrayMax:function(Ds){for(var _s=Ds.length,Ns=Ds[0];_s--;)Ds[_s]>Ns&&(Ns=Ds[_s]);return Ns},arrayMin:function(Ds){for(var _s=Ds.length,Ns=Ds[0];_s--;)Ds[_s]<Ns&&(Ns=Ds[_s]);return Ns},attr:ys,clamp:function(Ds,_s,Ns){return Ds>_s?Ds<Ns?Ds:Ns:_s},cleanRecursively:ns,clearTimeout:function(Ds){bs(Ds)&&clearTimeout(Ds)},correctFloat:gs,createElement:function(Ds,_s,Ns,Ss,Us){return Ds=Qs.createElement(Ds),_s&&Cs(Ds,_s),Us&&ms(Ds,{padding:"0",border:"none",margin:"0"}),Ns&&ms(Ds,Ns),Ss&&Ss.appendChild(Ds),Ds},css:ms,defined:bs,destroyObjectProperties:function(Ds,_s){Ts(Ds,function(Ns,Ss){Ns&&Ns!==_s&&Ns.destroy&&Ns.destroy(),delete Ds[Ss]})},discardElement:function(Ds){Ds&&Ds.parentElement&&Ds.parentElement.removeChild(Ds)},erase:function(Ds,_s){for(var Ns=Ds.length;Ns--;)if(Ds[Ns]===_s){Ds.splice(Ns,1);break}},error:is,extend:Cs,extendClass:function(Ds,_s){var Ns=function(){};return Ns.prototype=new Ds,Cs(Ns.prototype,_s),Ns},find:Is,fireEvent:Rs,getMagnitude:fs,getNestedProperty:function(Ds,_s){for(Ds=Ds.split(".");Ds.length&&bs(_s);){var Ns=Ds.shift();if(typeof Ns>"u"||Ns==="__proto__"||(_s=_s[Ns],!bs(_s)||typeof _s=="function"||typeof _s.nodeType=="number"||_s===Fs))return}return _s},getStyle:ws,inArray:function(Ds,_s,Ns){return is(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),_s.indexOf(Ds,Ns)},isArray:ls,isClass:us,isDOMElement:hs,isFunction:function(Ds){return typeof Ds=="function"},isNumber:As,isObject:cs,isString:os,keys:function(Ds){return is(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(Ds)},merge:function(){var Ds,_s=arguments,Ns={},Ss=function(Zs,ao){return typeof Zs!="object"&&(Zs={}),Ts(ao,function(js,Bs){Bs!=="__proto__"&&Bs!=="constructor"&&(!cs(js,!0)||us(js)||hs(js)?Zs[Bs]=ao[Bs]:Zs[Bs]=Ss(Zs[Bs]||{},js))}),Zs};_s[0]===!0&&(Ns=_s[1],_s=Array.prototype.slice.call(_s,2));var Us=_s.length;for(Ds=0;Ds<Us;Ds++)Ns=Ss(Ns,_s[Ds]);return Ns},normalizeTickInterval:function(Ds,_s,Ns,Ss,Us){var Zs=Ds;Ns=ps(Ns,fs(Ds));var ao=Ds/Ns;for(_s||(_s=Us?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],Ss===!1&&(Ns===1?_s=_s.filter(function(js){return js%1===0}):.1>=Ns&&(_s=[1/Ns]))),Ss=0;Ss<_s.length&&(Zs=_s[Ss],!(Us&&Zs*Ns>=Ds||!Us&&ao<=(_s[Ss]+(_s[Ss+1]||_s[Ss]))/2));Ss++);return Zs=gs(Zs*Ns,-Math.round(Math.log(.001)/Math.LN10))},objectEach:Ts,offset:function(Ds){var _s=Qs.documentElement;return Ds=Ds.parentElement||Ds.parentNode?Ds.getBoundingClientRect():{top:0,left:0,width:0,height:0},{top:Ds.top+(Fs.pageYOffset||_s.scrollTop)-(_s.clientTop||0),left:Ds.left+(Fs.pageXOffset||_s.scrollLeft)-(_s.clientLeft||0),width:Ds.width,height:Ds.height}},pad:function(Ds,_s,Ns){return Array((_s||2)+1-String(Ds).replace("-","").length).join(Ns||"0")+Ds},pick:ps,pInt:ss,relativeLength:function(Ds,_s,Ns){return/%$/.test(Ds)?_s*parseFloat(Ds)/100+(Ns||0):parseFloat(Ds)},removeEvent:$s,splat:function(Ds){return ls(Ds)?Ds:[Ds]},stableSort:function(Ds,_s){var Ns=Ds.length,Ss,Us;for(Us=0;Us<Ns;Us++)Ds[Us].safeI=Us;for(Ds.sort(function(Zs,ao){return Ss=_s(Zs,ao),Ss===0?Zs.safeI-ao.safeI:Ss}),Us=0;Us<Ns;Us++)delete Ds[Us].safeI},syncTimeout:function(Ds,_s,Ns){return 0<_s?setTimeout(Ds,_s,Ns):(Ds.call(0,Ns),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:Ws,useSerialIds:function(Ds){return Ms=ps(Ds,Ms)},wrap:function(Ds,_s,Ns){var Ss=Ds[_s];Ds[_s]=function(){var Us=arguments,Zs=this;return Ns.apply(this,[function(){return Ss.apply(Zs,arguments.length?arguments:Us)}].concat([].slice.call(arguments)))}}},Is}),Ri(ts,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),Ri(ts,"Core/Color/Color.js",[ts["Core/Globals.js"],ts["Core/Utilities.js"]],function(rs,is){var ns=is.isNumber,ss=is.merge,os=is.pInt;return is=function(){function ls(cs){this.rgba=[NaN,NaN,NaN,NaN],this.input=cs;var hs=rs.Color;if(hs&&hs!==ls)return new hs(cs);if(!(this instanceof ls))return new ls(cs);this.init(cs)}return ls.parse=function(cs){return cs?new ls(cs):ls.None},ls.prototype.init=function(cs){var hs;if(typeof cs=="object"&&typeof cs.stops<"u")this.stops=cs.stops.map(function(ys){return new ls(ys[1])});else if(typeof cs=="string"){if(this.input=cs=ls.names[cs.toLowerCase()]||cs,cs.charAt(0)==="#"){var us=cs.length,As=parseInt(cs.substr(1),16);us===7?hs=[(As&16711680)>>16,(As&65280)>>8,As&255,1]:us===4&&(hs=[(As&3840)>>4|(As&3840)>>8,(As&240)>>4|As&240,(As&15)<<4|As&15,1])}if(!hs)for(As=ls.parsers.length;As--&&!hs;){var bs=ls.parsers[As];(us=bs.regex.exec(cs))&&(hs=bs.parse(us))}}hs&&(this.rgba=hs)},ls.prototype.get=function(cs){var hs=this.input,us=this.rgba;if(typeof hs=="object"&&typeof this.stops<"u"){var As=ss(hs);return As.stops=[].slice.call(As.stops),this.stops.forEach(function(bs,ys){As.stops[ys]=[As.stops[ys][0],bs.get(cs)]}),As}return us&&ns(us[0])?cs==="rgb"||!cs&&us[3]===1?"rgb("+us[0]+","+us[1]+","+us[2]+")":cs==="a"?"".concat(us[3]):"rgba("+us.join(",")+")":hs},ls.prototype.brighten=function(cs){var hs=this.rgba;if(this.stops)this.stops.forEach(function(As){As.brighten(cs)});else if(ns(cs)&&cs!==0)for(var us=0;3>us;us++)hs[us]+=os(255*cs),0>hs[us]&&(hs[us]=0),255<hs[us]&&(hs[us]=255);return this},ls.prototype.setOpacity=function(cs){return this.rgba[3]=cs,this},ls.prototype.tweenTo=function(cs,hs){var us=this.rgba,As=cs.rgba;return!ns(us[0])||!ns(As[0])?cs.input||"none":(cs=As[3]!==1||us[3]!==1,(cs?"rgba(":"rgb(")+Math.round(As[0]+(us[0]-As[0])*(1-hs))+","+Math.round(As[1]+(us[1]-As[1])*(1-hs))+","+Math.round(As[2]+(us[2]-As[2])*(1-hs))+(cs?","+(As[3]+(us[3]-As[3])*(1-hs)):"")+")")},ls.names={white:"#ffffff",black:"#000000"},ls.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(cs){return[os(cs[1]),os(cs[2]),os(cs[3]),parseFloat(cs[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(cs){return[os(cs[1]),os(cs[2]),os(cs[3]),1]}}],ls.None=new ls(""),ls}(),is}),Ri(ts,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),Ri(ts,"Core/Time.js",[ts["Core/Globals.js"],ts["Core/Utilities.js"]],function(rs,is){var ns=rs.win,ss=is.defined,os=is.error,ls=is.extend,cs=is.isObject,hs=is.merge,us=is.objectEach,As=is.pad,bs=is.pick,ys=is.splat,Cs=is.timeUnits,ps=rs.isSafari&&ns.Intl&&ns.Intl.DateTimeFormat.prototype.formatRange,ms=rs.isSafari&&ns.Intl&&!ns.Intl.DateTimeFormat.prototype.formatRange;return is=function(){function fs(gs){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=ns.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(gs)}return fs.prototype.get=function(gs,ws){if(this.variableTimezone||this.timezoneOffset){var Ts=ws.getTime(),$s=Ts-this.getTimezoneOffset(ws);return ws.setTime($s),gs=ws["getUTC"+gs](),ws.setTime(Ts),gs}return this.useUTC?ws["getUTC"+gs]():ws["get"+gs]()},fs.prototype.set=function(gs,ws,Ts){if(this.variableTimezone||this.timezoneOffset){if(gs==="Milliseconds"||gs==="Seconds"||gs==="Minutes"&&this.getTimezoneOffset(ws)%36e5===0)return ws["setUTC"+gs](Ts);var $s=this.getTimezoneOffset(ws);return $s=ws.getTime()-$s,ws.setTime($s),ws["setUTC"+gs](Ts),gs=this.getTimezoneOffset(ws),$s=ws.getTime()+gs,ws.setTime($s)}return this.useUTC||ps&&gs==="FullYear"?ws["setUTC"+gs](Ts):ws["set"+gs](Ts)},fs.prototype.update=function(gs){gs===void 0&&(gs={});var ws=bs(gs.useUTC,!0);this.options=gs=hs(!0,this.options,gs),this.Date=gs.Date||ns.Date||Date,this.timezoneOffset=(this.useUTC=ws)&&gs.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=ws&&!(!gs.getTimezoneOffset&&!gs.timezone)},fs.prototype.makeTime=function(gs,ws,Ts,$s,Rs,Ps){if(this.useUTC){var Qs=this.Date.UTC.apply(0,arguments),Fs=this.getTimezoneOffset(Qs);Qs+=Fs;var Is=this.getTimezoneOffset(Qs);Fs!==Is?Qs+=Is-Fs:Fs-36e5!==this.getTimezoneOffset(Qs-36e5)||ms||(Qs-=36e5)}else Qs=new this.Date(gs,ws,bs(Ts,1),bs($s,0),bs(Rs,0),bs(Ps,0)).getTime();return Qs},fs.prototype.timezoneOffsetFunction=function(){var gs=this,ws=this.options,Ts=ws.getTimezoneOffset,$s=ws.moment||ns.moment;if(!this.useUTC)return function(Rs){return 6e4*new Date(Rs.toString()).getTimezoneOffset()};if(ws.timezone){if($s)return function(Rs){return 6e4*-$s.tz(Rs,ws.timezone).utcOffset()};os(25)}return this.useUTC&&Ts?function(Rs){return 6e4*Ts(Rs.valueOf())}:function(){return 6e4*(gs.timezoneOffset||0)}},fs.prototype.dateFormat=function(gs,ws,Ts){if(!ss(ws)||isNaN(ws))return rs.defaultOptions.lang&&rs.defaultOptions.lang.invalidDate||"";gs=bs(gs,"%Y-%m-%d %H:%M:%S");var $s=this,Rs=new this.Date(ws),Ps=this.get("Hours",Rs),Qs=this.get("Day",Rs),Fs=this.get("Date",Rs),Is=this.get("Month",Rs),Ms=this.get("FullYear",Rs),Ws=rs.defaultOptions.lang,Ds=Ws&&Ws.weekdays,_s=Ws&&Ws.shortWeekdays;return Rs=ls({a:_s?_s[Qs]:Ds[Qs].substr(0,3),A:Ds[Qs],d:As(Fs),e:As(Fs,2," "),w:Qs,b:Ws.shortMonths[Is],B:Ws.months[Is],m:As(Is+1),o:Is+1,y:Ms.toString().substr(2,2),Y:Ms,H:As(Ps),k:Ps,I:As(Ps%12||12),l:Ps%12||12,M:As(this.get("Minutes",Rs)),p:12>Ps?"AM":"PM",P:12>Ps?"am":"pm",S:As(Rs.getSeconds()),L:As(Math.floor(ws%1e3),3)},rs.dateFormats),us(Rs,function(Ns,Ss){for(;gs.indexOf("%"+Ss)!==-1;)gs=gs.replace("%"+Ss,typeof Ns=="function"?Ns.call($s,ws):Ns)}),Ts?gs.substr(0,1).toUpperCase()+gs.substr(1):gs},fs.prototype.resolveDTLFormat=function(gs){return cs(gs,!0)?gs:(gs=ys(gs),{main:gs[0],from:gs[1],to:gs[2]})},fs.prototype.getTimeTicks=function(gs,ws,Ts,$s){var Rs=this,Ps=[],Qs={},Fs=new Rs.Date(ws),Is=gs.unitRange,Ms=gs.count||1,Ws;if($s=bs($s,1),ss(ws)){if(Rs.set("Milliseconds",Fs,Is>=Cs.second?0:Ms*Math.floor(Rs.get("Milliseconds",Fs)/Ms)),Is>=Cs.second&&Rs.set("Seconds",Fs,Is>=Cs.minute?0:Ms*Math.floor(Rs.get("Seconds",Fs)/Ms)),Is>=Cs.minute&&Rs.set("Minutes",Fs,Is>=Cs.hour?0:Ms*Math.floor(Rs.get("Minutes",Fs)/Ms)),Is>=Cs.hour&&Rs.set("Hours",Fs,Is>=Cs.day?0:Ms*Math.floor(Rs.get("Hours",Fs)/Ms)),Is>=Cs.day&&Rs.set("Date",Fs,Is>=Cs.month?1:Math.max(1,Ms*Math.floor(Rs.get("Date",Fs)/Ms))),Is>=Cs.month){Rs.set("Month",Fs,Is>=Cs.year?0:Ms*Math.floor(Rs.get("Month",Fs)/Ms));var Ds=Rs.get("FullYear",Fs)}Is>=Cs.year&&Rs.set("FullYear",Fs,Ds-Ds%Ms),Is===Cs.week&&(Ds=Rs.get("Day",Fs),Rs.set("Date",Fs,Rs.get("Date",Fs)-Ds+$s+(Ds<$s?-7:0))),Ds=Rs.get("FullYear",Fs),$s=Rs.get("Month",Fs);var _s=Rs.get("Date",Fs),Ns=Rs.get("Hours",Fs);for(ws=Fs.getTime(),!Rs.variableTimezone&&Rs.useUTC||!ss(Ts)||(Ws=Ts-ws>4*Cs.month||Rs.getTimezoneOffset(ws)!==Rs.getTimezoneOffset(Ts)),ws=Fs.getTime(),Fs=1;ws<Ts;)Ps.push(ws),ws=Is===Cs.year?Rs.makeTime(Ds+Fs*Ms,0):Is===Cs.month?Rs.makeTime(Ds,$s+Fs*Ms):!Ws||Is!==Cs.day&&Is!==Cs.week?Ws&&Is===Cs.hour&&1<Ms?Rs.makeTime(Ds,$s,_s,Ns+Fs*Ms):ws+Is*Ms:Rs.makeTime(Ds,$s,_s+Fs*Ms*(Is===Cs.day?1:7)),Fs++;Ps.push(ws),Is<=Cs.hour&&1e4>Ps.length&&Ps.forEach(function(Ss){Ss%18e5===0&&Rs.dateFormat("%H%M%S%L",Ss)==="000000000"&&(Qs[Ss]="day")})}return Ps.info=ls(gs,{higherRanks:Qs,totalRange:Is*Ms}),Ps},fs.prototype.getDateFormat=function(gs,ws,Ts,$s){var Rs=this.dateFormat("%m-%d %H:%M:%S.%L",ws),Ps={millisecond:15,second:12,minute:9,hour:6,day:3},Qs="millisecond";for(Fs in Cs){if(gs===Cs.week&&+this.dateFormat("%w",ws)===Ts&&Rs.substr(6)==="00:00:00.000"){var Fs="week";break}if(Cs[Fs]>gs){Fs=Qs;break}if(Ps[Fs]&&Rs.substr(Ps[Fs])!=="01-01 00:00:00.000".substr(Ps[Fs]))break;Fs!=="week"&&(Qs=Fs)}return this.resolveDTLFormat($s[Fs]).main},fs}(),is}),Ri(ts,"Core/Defaults.js",[ts["Core/Chart/ChartDefaults.js"],ts["Core/Color/Color.js"],ts["Core/Globals.js"],ts["Core/Color/Palettes.js"],ts["Core/Time.js"],ts["Core/Utilities.js"]],function(rs,is,ns,ss,os,ls){is=is.parse;var cs=ls.merge,hs={colors:ss.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:rs,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:ns.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:ns.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:is("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};hs.chart.styledMode=!1;var us=new os(cs(hs.global,hs.time));return rs={defaultOptions:hs,defaultTime:us,getOptions:function(){return hs},setOptions:function(As){return cs(!0,hs,As),(As.time||As.global)&&(ns.time?ns.time.update(cs(hs.global,hs.time,As.global,As.time)):ns.time=us),hs}},rs}),Ri(ts,"Core/Animation/Fx.js",[ts["Core/Color/Color.js"],ts["Core/Globals.js"],ts["Core/Utilities.js"]],function(rs,is,ns){var ss=rs.parse,os=is.win,ls=ns.isNumber,cs=ns.objectEach;return function(){function hs(us,As,bs){this.pos=NaN,this.options=As,this.elem=us,this.prop=bs}return hs.prototype.dSetter=function(){var us=this.paths,As=us&&us[0];us=us&&us[1];var bs=this.now||0,ys=[];if(bs!==1&&As&&us)if(As.length===us.length&&1>bs)for(var Cs=0;Cs<us.length;Cs++){for(var ps=As[Cs],ms=us[Cs],fs=[],gs=0;gs<ms.length;gs++){var ws=ps[gs],Ts=ms[gs];ls(ws)&&ls(Ts)&&(ms[0]!=="A"||gs!==4&&gs!==5)?fs[gs]=ws+bs*(Ts-ws):fs[gs]=Ts}ys.push(fs)}else ys=us;else ys=this.toD||[];this.elem.attr("d",ys,void 0,!0)},hs.prototype.update=function(){var us=this.elem,As=this.prop,bs=this.now,ys=this.options.step;this[As+"Setter"]?this[As+"Setter"]():us.attr?us.element&&us.attr(As,bs,null,!0):us.style[As]=bs+this.unit,ys&&ys.call(us,bs,this)},hs.prototype.run=function(us,As,bs){var ys=this,Cs=ys.options,ps=function(gs){return ps.stopped?!1:ys.step(gs)},ms=os.requestAnimationFrame||function(gs){setTimeout(gs,13)},fs=function(){for(var gs=0;gs<hs.timers.length;gs++)hs.timers[gs]()||hs.timers.splice(gs--,1);hs.timers.length&&ms(fs)};us!==As||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=us,this.end=As,this.unit=bs,this.now=this.start,this.pos=0,ps.elem=this.elem,ps.prop=this.prop,ps()&&hs.timers.push(ps)===1&&ms(fs)):(delete Cs.curAnim[this.prop],Cs.complete&&Object.keys(Cs.curAnim).length===0&&Cs.complete.call(this.elem))},hs.prototype.step=function(us){var As=+new Date,bs=this.options,ys=this.elem,Cs=bs.complete,ps=bs.duration,ms=bs.curAnim;if(ys.attr&&!ys.element)us=!1;else if(us||As>=ps+this.startTime){this.now=this.end,this.pos=1,this.update();var fs=ms[this.prop]=!0;cs(ms,function(gs){gs!==!0&&(fs=!1)}),fs&&Cs&&Cs.call(ys),us=!1}else this.pos=bs.easing((As-this.startTime)/ps),this.now=this.start+(this.end-this.start)*this.pos,this.update(),us=!0;return us},hs.prototype.initPath=function(us,As,bs){function ys(Rs,Ps){for(;Rs.length<$s;){var Qs=Rs[0],Fs=Ps[$s-Rs.length];Fs&&Qs[0]==="M"&&(Rs[0]=Fs[0]==="C"?["C",Qs[1],Qs[2],Qs[1],Qs[2],Qs[1],Qs[2]]:["L",Qs[1],Qs[2]]),Rs.unshift(Qs),fs&&(Qs=Rs.pop(),Rs.push(Rs[Rs.length-1],Qs))}}function Cs(Rs,Ps){for(;Rs.length<$s;)if(Ps=Rs[Math.floor(Rs.length/gs)-1].slice(),Ps[0]==="C"&&(Ps[1]=Ps[5],Ps[2]=Ps[6]),fs){var Qs=Rs[Math.floor(Rs.length/gs)].slice();Rs.splice(Rs.length/2,0,Ps,Qs)}else Rs.push(Ps)}var ps=us.startX,ms=us.endX;bs=bs.slice();var fs=us.isArea,gs=fs?2:1;if(As=As&&As.slice(),!As)return[bs,bs];if(ps&&ms&&ms.length){for(us=0;us<ps.length;us++)if(ps[us]===ms[0]){var ws=us;break}else if(ps[0]===ms[ms.length-ps.length+us]){ws=us;var Ts=!0;break}else if(ps[ps.length-1]===ms[ms.length-ps.length+us]){ws=ps.length-us;break}typeof ws>"u"&&(As=[])}if(As.length&&ls(ws)){var $s=bs.length+ws*gs;Ts?(ys(As,bs),Cs(bs,As)):(ys(bs,As),Cs(As,bs))}return[As,bs]},hs.prototype.fillSetter=function(){hs.prototype.strokeSetter.apply(this,arguments)},hs.prototype.strokeSetter=function(){this.elem.attr(this.prop,ss(this.start).tweenTo(ss(this.end),this.pos),void 0,!0)},hs.timers=[],hs}()}),Ri(ts,"Core/Animation/AnimationUtilities.js",[ts["Core/Animation/Fx.js"],ts["Core/Utilities.js"]],function(rs,is){function ns(Cs){return us(Cs)?As({duration:500,defer:0},Cs):{duration:Cs?500:0,defer:0}}function ss(Cs,ps){for(var ms=rs.timers.length;ms--;)rs.timers[ms].elem!==Cs||ps&&ps!==rs.timers[ms].prop||(rs.timers[ms].stopped=!0)}var os=is.defined,ls=is.getStyle,cs=is.isArray,hs=is.isNumber,us=is.isObject,As=is.merge,bs=is.objectEach,ys=is.pick;return{animate:function(Cs,ps,ms){var fs,gs="",ws,Ts;if(!us(ms)){var $s=arguments;ms={duration:$s[2],easing:$s[3],complete:$s[4]}}hs(ms.duration)||(ms.duration=400),ms.easing=typeof ms.easing=="function"?ms.easing:Math[ms.easing]||Math.easeInOutSine,ms.curAnim=As(ps),bs(ps,function(Rs,Ps){ss(Cs,Ps),Ts=new rs(Cs,ms,Ps),ws=void 0,Ps==="d"&&cs(ps.d)?(Ts.paths=Ts.initPath(Cs,Cs.pathArray,ps.d),Ts.toD=ps.d,fs=0,ws=1):Cs.attr?fs=Cs.attr(Ps):(fs=parseFloat(ls(Cs,Ps))||0,Ps!=="opacity"&&(gs="px")),ws||(ws=Rs),typeof ws=="string"&&ws.match("px")&&(ws=ws.replace(/px/g,"")),Ts.run(fs,ws,gs)})},animObject:ns,getDeferredAnimation:function(Cs,ps,ms){var fs=ns(ps),gs=0,ws=0;return(ms?[ms]:Cs.series).forEach(function(Ts){Ts=ns(Ts.options.animation),gs=ps&&os(ps.defer)?fs.defer:Math.max(gs,Ts.duration+Ts.defer),ws=Math.min(fs.duration,Ts.duration)}),Cs.renderer.forExport&&(gs=0),{defer:Math.max(0,gs-ws),duration:Math.min(gs,ws)}},setAnimation:function(Cs,ps){ps.renderer.globalAnimation=ys(Cs,ps.options.chart.animation,!0)},stop:ss}}),Ri(ts,"Core/Renderer/HTML/AST.js",[ts["Core/Globals.js"],ts["Core/Utilities.js"]],function(rs,is){var ns=rs.SVG_NS,ss=is.attr,os=is.createElement,ls=is.css,cs=is.error,hs=is.isFunction,us=is.isString,As=is.objectEach,bs=is.splat,ys=(is=rs.win.trustedTypes)&&hs(is.createPolicy)&&is.createPolicy("highcharts",{createHTML:function(ms){return ms}}),Cs=ys?ys.createHTML(""):"";try{var ps=!!new DOMParser().parseFromString(Cs,"text/html")}catch{ps=!1}return hs=function(){function ms(fs){this.nodes=typeof fs=="string"?this.parseMarkup(fs):fs}return ms.filterUserAttributes=function(fs){return As(fs,function(gs,ws){var Ts=!0;ms.allowedAttributes.indexOf(ws)===-1&&(Ts=!1),["background","dynsrc","href","lowsrc","src"].indexOf(ws)!==-1&&(Ts=us(gs)&&ms.allowedReferences.some(function($s){return gs.indexOf($s)===0})),Ts||(cs(33,!1,void 0,{"Invalid attribute in config":"".concat(ws)}),delete fs[ws]),us(gs)&&fs[ws]&&(fs[ws]=gs.replace(/</g,"&lt;"))}),fs},ms.parseStyle=function(fs){return fs.split(";").reduce(function(gs,ws){ws=ws.split(":").map(function($s){return $s.trim()});var Ts=ws.shift();return Ts&&ws.length&&(gs[Ts.replace(/-([a-z])/g,function($s){return $s[1].toUpperCase()})]=ws.join(":")),gs},{})},ms.setElementHTML=function(fs,gs){fs.innerHTML=ms.emptyHTML,gs&&new ms(gs).addToDOM(fs)},ms.prototype.addToDOM=function(fs){function gs(ws,Ts){var $s;return bs(ws).forEach(function(Rs){var Ps=Rs.tagName,Qs=Rs.textContent?rs.doc.createTextNode(Rs.textContent):void 0,Fs=ms.bypassHTMLFiltering;if(Ps)if(Ps==="#text")var Is=Qs;else if(ms.allowedTags.indexOf(Ps)!==-1||Fs){Ps=rs.doc.createElementNS(Ps==="svg"?ns:Ts.namespaceURI||ns,Ps);var Ms=Rs.attributes||{};As(Rs,function(Ws,Ds){Ds!=="tagName"&&Ds!=="attributes"&&Ds!=="children"&&Ds!=="style"&&Ds!=="textContent"&&(Ms[Ds]=Ws)}),ss(Ps,Fs?Ms:ms.filterUserAttributes(Ms)),Rs.style&&ls(Ps,Rs.style),Qs&&Ps.appendChild(Qs),gs(Rs.children||[],Ps),Is=Ps}else cs(33,!1,void 0,{"Invalid tagName in config":Ps});Is&&Ts.appendChild(Is),$s=Is}),$s}return gs(this.nodes,fs)},ms.prototype.parseMarkup=function(fs){var gs=[];if(fs=fs.trim().replace(/ style=(["'])/g," data-style=$1"),ps)fs=new DOMParser().parseFromString(ys?ys.createHTML(fs):fs,"text/html");else{var ws=os("div");ws.innerHTML=fs,fs={body:ws}}var Ts=function($s,Rs){var Ps=$s.nodeName.toLowerCase(),Qs={tagName:Ps};if(Ps==="#text"&&(Qs.textContent=$s.textContent||""),Ps=$s.attributes){var Fs={};[].forEach.call(Ps,function(Ms){Ms.name==="data-style"?Qs.style=ms.parseStyle(Ms.value):Fs[Ms.name]=Ms.value}),Qs.attributes=Fs}if($s.childNodes.length){var Is=[];[].forEach.call($s.childNodes,function(Ms){Ts(Ms,Is)}),Is.length&&(Qs.children=Is)}Rs.push(Qs)};return[].forEach.call(fs.body.childNodes,function($s){return Ts($s,gs)}),gs},ms.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),ms.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),ms.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),ms.emptyHTML=Cs,ms.bypassHTMLFiltering=!1,ms}(),hs}),Ri(ts,"Core/FormatUtilities.js",[ts["Core/Defaults.js"],ts["Core/Utilities.js"]],function(rs,is){function ns(As,bs,ys,Cs){As=+As||0,bs=+bs;var ps=ss.lang,ms=(As.toString().split(".")[1]||"").split("e")[0].length,fs=As.toString().split("e"),gs=bs;if(bs===-1)bs=Math.min(ms,20);else if(!cs(bs))bs=2;else if(bs&&fs[1]&&0>fs[1]){var ws=bs+ +fs[1];0<=ws?(fs[0]=(+fs[0]).toExponential(ws).split("e")[0],bs=ws):(fs[0]=fs[0].split(".")[0]||0,As=20>bs?(fs[0]*Math.pow(10,fs[1])).toFixed(bs):0,fs[1]=0)}ws=(Math.abs(fs[1]?fs[0]:As)+Math.pow(10,-Math.max(bs,ms)-1)).toFixed(bs),ms=String(us(ws));var Ts=3<ms.length?ms.length%3:0;return ys=hs(ys,ps.decimalPoint),Cs=hs(Cs,ps.thousandsSep),As=(0>As?"-":"")+(Ts?ms.substr(0,Ts)+Cs:""),As=0>+fs[1]&&!gs?"0":As+ms.substr(Ts).replace(/(\d{3})(?=\d)/g,"$1"+Cs),bs&&(As+=ys+ws.slice(-bs)),fs[1]&&+As!=0&&(As+="e"+fs[1]),As}var ss=rs.defaultOptions,os=rs.defaultTime,ls=is.getNestedProperty,cs=is.isNumber,hs=is.pick,us=is.pInt;return{dateFormat:function(As,bs,ys){return os.dateFormat(As,bs,ys)},format:function(As,bs,ys){var Cs="{",ps=!1,ms=/f$/,fs=/\.([0-9])/,gs=ss.lang,ws=ys&&ys.time||os;ys=ys&&ys.numberFormatter||ns;for(var Ts=[];As;){var $s=As.indexOf(Cs);if($s===-1)break;var Rs=As.slice(0,$s);if(ps){if(Rs=Rs.split(":"),Cs=ls(Rs.shift()||"",bs),Rs.length&&typeof Cs=="number")if(Rs=Rs.join(":"),ms.test(Rs)){var Ps=parseInt((Rs.match(fs)||["","-1"])[1],10);Cs!==null&&(Cs=ys(Cs,Ps,gs.decimalPoint,-1<Rs.indexOf(",")?gs.thousandsSep:""))}else Cs=ws.dateFormat(Rs,Cs);Ts.push(Cs)}else Ts.push(Rs);As=As.slice($s+1),Cs=(ps=!ps)?"}":"{"}return Ts.push(As),Ts.join("")},numberFormat:ns}}),Ri(ts,"Core/Renderer/RendererUtilities.js",[ts["Core/Utilities.js"]],function(rs){var is=rs.clamp,ns=rs.pick,ss=rs.stableSort,os;return function(ls){function cs(hs,us,As){var bs=hs,ys=bs.reducedLen||us,Cs=function(Ts,$s){return($s.rank||0)-(Ts.rank||0)},ps=function(Ts,$s){return Ts.target-$s.target},ms,fs=!0,gs=[],ws=0;for(ms=hs.length;ms--;)ws+=hs[ms].size;if(ws>ys){for(ss(hs,Cs),ws=ms=0;ws<=ys;)ws+=hs[ms].size,ms++;gs=hs.splice(ms-1,hs.length)}for(ss(hs,ps),hs=hs.map(function(Ts){return{size:Ts.size,targets:[Ts.target],align:ns(Ts.align,.5)}});fs;){for(ms=hs.length;ms--;)ys=hs[ms],Cs=(Math.min.apply(0,ys.targets)+Math.max.apply(0,ys.targets))/2,ys.pos=is(Cs-ys.size*ys.align,0,us-ys.size);for(ms=hs.length,fs=!1;ms--;)0<ms&&hs[ms-1].pos+hs[ms-1].size>hs[ms].pos&&(hs[ms-1].size+=hs[ms].size,hs[ms-1].targets=hs[ms-1].targets.concat(hs[ms].targets),hs[ms-1].align=.5,hs[ms-1].pos+hs[ms-1].size>us&&(hs[ms-1].pos=us-hs[ms-1].size),hs.splice(ms,1),fs=!0)}return bs.push.apply(bs,gs),ms=0,hs.some(function(Ts){var $s=0;return(Ts.targets||[]).some(function(){return bs[ms].pos=Ts.pos+$s,typeof As<"u"&&Math.abs(bs[ms].pos-bs[ms].target)>As?(bs.slice(0,ms+1).forEach(function(Rs){return delete Rs.pos}),bs.reducedLen=(bs.reducedLen||us)-.1*us,bs.reducedLen>.1*us&&cs(bs,us,As),!0):($s+=bs[ms].size,ms++,!1)})}),ss(bs,ps),bs}ls.distribute=cs}(os||(os={})),os}),Ri(ts,"Core/Renderer/SVG/SVGElement.js",[ts["Core/Animation/AnimationUtilities.js"],ts["Core/Color/Color.js"],ts["Core/Globals.js"],ts["Core/Utilities.js"]],function(rs,is,ns,ss){var os=rs.animate,ls=rs.animObject,cs=rs.stop,hs=ns.deg2rad,us=ns.doc,As=ns.svg,bs=ns.SVG_NS,ys=ns.win,Cs=ss.addEvent,ps=ss.attr,ms=ss.createElement,fs=ss.css,gs=ss.defined,ws=ss.erase,Ts=ss.extend,$s=ss.fireEvent,Rs=ss.isArray,Ps=ss.isFunction,Qs=ss.isString,Fs=ss.merge,Is=ss.objectEach,Ms=ss.pick,Ws=ss.pInt,Ds=ss.syncTimeout,_s=ss.uniqueKey;return rs=function(){function Ns(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=bs,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return Ns.prototype._defaultGetter=function(Ss){return Ss=Ms(this[Ss+"Value"],this[Ss],this.element?this.element.getAttribute(Ss):null,0),/^[\-0-9\.]+$/.test(Ss)&&(Ss=parseFloat(Ss)),Ss},Ns.prototype._defaultSetter=function(Ss,Us,Zs){Zs.setAttribute(Us,Ss)},Ns.prototype.add=function(Ss){var Us=this.renderer,Zs=this.element;if(Ss&&(this.parentGroup=Ss),typeof this.textStr<"u"&&this.element.nodeName==="text"&&Us.buildText(this),this.added=!0,!Ss||Ss.handleZ||this.zIndex)var ao=this.zIndexSetter();return ao||(Ss?Ss.element:Us.box).appendChild(Zs),this.onAdd&&this.onAdd(),this},Ns.prototype.addClass=function(Ss,Us){var Zs=Us?"":this.attr("class")||"";return Ss=(Ss||"").split(/ /g).reduce(function(ao,js){return Zs.indexOf(js)===-1&&ao.push(js),ao},Zs?[Zs]:[]).join(" "),Ss!==Zs&&this.attr("class",Ss),this},Ns.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},Ns.prototype.align=function(Ss,Us,Zs){var ao={},js=this.renderer,Bs=js.alignedObjects,zs,so,oo;Ss?(this.alignOptions=Ss,this.alignByTranslate=Us,(!Zs||Qs(Zs))&&(this.alignTo=zs=Zs||"renderer",ws(Bs,this),Bs.push(this),Zs=void 0)):(Ss=this.alignOptions,Us=this.alignByTranslate,zs=this.alignTo),Zs=Ms(Zs,js[zs],zs==="scrollablePlotBox"?js.plotBox:void 0,js),zs=Ss.align;var Ao=Ss.verticalAlign;return js=(Zs.x||0)+(Ss.x||0),Bs=(Zs.y||0)+(Ss.y||0),zs==="right"?so=1:zs==="center"&&(so=2),so&&(js+=(Zs.width-(Ss.width||0))/so),ao[Us?"translateX":"x"]=Math.round(js),Ao==="bottom"?oo=1:Ao==="middle"&&(oo=2),oo&&(Bs+=(Zs.height-(Ss.height||0))/oo),ao[Us?"translateY":"y"]=Math.round(Bs),this[this.placed?"animate":"attr"](ao),this.placed=!0,this.alignAttr=ao,this},Ns.prototype.alignSetter=function(Ss){var Us={left:"start",center:"middle",right:"end"};Us[Ss]&&(this.alignValue=Ss,this.element.setAttribute("text-anchor",Us[Ss]))},Ns.prototype.animate=function(Ss,Us,Zs){var ao=this,js=ls(Ms(Us,this.renderer.globalAnimation,!0));return Us=js.defer,Ms(us.hidden,us.msHidden,us.webkitHidden,!1)&&(js.duration=0),js.duration!==0?(Zs&&(js.complete=Zs),Ds(function(){ao.element&&os(ao,Ss,js)},Us)):(this.attr(Ss,void 0,Zs||js.complete),Is(Ss,function(Bs,zs){js.step&&js.step.call(this,Bs,{prop:zs,pos:1,elem:this})},this)),this},Ns.prototype.applyTextOutline=function(Ss){var Us=this.element;Ss.indexOf("contrast")!==-1&&(Ss=Ss.replace(/contrast/g,this.renderer.getContrast(Us.style.fill)));var Zs=Ss.split(" ");if(Ss=Zs[Zs.length-1],(Zs=Zs[0])&&Zs!=="none"&&ns.svg){this.fakeTS=!0,Zs=Zs.replace(/(^[\d\.]+)(.*?)$/g,function(Bs,zs,so){return 2*Number(zs)+so}),this.removeTextOutline();var ao=us.createElementNS(bs,"tspan");ps(ao,{class:"highcharts-text-outline",fill:Ss,stroke:Ss,"stroke-width":Zs,"stroke-linejoin":"round"}),Ss=Us.querySelector("textPath")||Us,[].forEach.call(Ss.childNodes,function(Bs){var zs=Bs.cloneNode(!0);zs.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(so){return zs.removeAttribute(so)}),ao.appendChild(zs)});var js=0;[].forEach.call(Ss.querySelectorAll("text tspan"),function(Bs){js+=Number(Bs.getAttribute("dy"))}),Zs=us.createElementNS(bs,"tspan"),Zs.textContent="​",ps(Zs,{x:Number(Us.getAttribute("x")),dy:-js}),ao.appendChild(Zs),Ss.insertBefore(ao,Ss.firstChild)}},Ns.prototype.attr=function(Ss,Us,Zs,ao){var js=this.element,Bs=this.symbolCustomAttribs,zs,so=this,oo,Ao;if(typeof Ss=="string"&&typeof Us<"u"){var Xs=Ss;Ss={},Ss[Xs]=Us}return typeof Ss=="string"?so=(this[Ss+"Getter"]||this._defaultGetter).call(this,Ss,js):(Is(Ss,function(lo,co){oo=!1,ao||cs(this,co),this.symbolName&&Bs.indexOf(co)!==-1&&(zs||(this.symbolAttr(Ss),zs=!0),oo=!0),!this.rotation||co!=="x"&&co!=="y"||(this.doTransform=!0),oo||(Ao=this[co+"Setter"]||this._defaultSetter,Ao.call(this,lo,co,js),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(co)&&this.updateShadows(co,lo,Ao))},this),this.afterSetters()),Zs&&Zs.call(this),so},Ns.prototype.clip=function(Ss){return this.attr("clip-path",Ss?"url("+this.renderer.url+"#"+Ss.id+")":"none")},Ns.prototype.crisp=function(Ss,Us){Us=Us||Ss.strokeWidth||0;var Zs=Math.round(Us)%2/2;return Ss.x=Math.floor(Ss.x||this.x||0)+Zs,Ss.y=Math.floor(Ss.y||this.y||0)+Zs,Ss.width=Math.floor((Ss.width||this.width||0)-2*Zs),Ss.height=Math.floor((Ss.height||this.height||0)-2*Zs),gs(Ss.strokeWidth)&&(Ss.strokeWidth=Us),Ss},Ns.prototype.complexColor=function(Ss,Us,Zs){var ao=this.renderer,js,Bs,zs,so,oo,Ao,Xs,lo,co,So,ro=[],vo;$s(this.renderer,"complexColor",{args:arguments},function(){if(Ss.radialGradient?Bs="radialGradient":Ss.linearGradient&&(Bs="linearGradient"),Bs){if(zs=Ss[Bs],oo=ao.gradients,Ao=Ss.stops,co=Zs.radialReference,Rs(zs)&&(Ss[Bs]=zs={x1:zs[0],y1:zs[1],x2:zs[2],y2:zs[3],gradientUnits:"userSpaceOnUse"}),Bs==="radialGradient"&&co&&!gs(zs.gradientUnits)&&(so=zs,zs=Fs(zs,ao.getRadialAttr(co,so),{gradientUnits:"userSpaceOnUse"})),Is(zs,function(mo,yo){yo!=="id"&&ro.push(yo,mo)}),Is(Ao,function(mo){ro.push(mo)}),ro=ro.join(","),oo[ro])So=oo[ro].attr("id");else{zs.id=So=_s();var Eo=oo[ro]=ao.createElement(Bs).attr(zs).add(ao.defs);Eo.radAttr=so,Eo.stops=[],Ao.forEach(function(mo){mo[1].indexOf("rgba")===0?(js=is.parse(mo[1]),Xs=js.get("rgb"),lo=js.get("a")):(Xs=mo[1],lo=1),mo=ao.createElement("stop").attr({offset:mo[0],"stop-color":Xs,"stop-opacity":lo}).add(Eo),Eo.stops.push(mo)})}vo="url("+ao.url+"#"+So+")",Zs.setAttribute(Us,vo),Zs.gradient=ro,Ss.toString=function(){return vo}}})},Ns.prototype.css=function(Ss){var Us=this.styles,Zs={},ao=this.element,js=!Us;if(Ss.color&&(Ss.fill=Ss.color),Us&&Is(Ss,function(so,oo){Us&&Us[oo]!==so&&(Zs[oo]=so,js=!0)}),js){if(Us&&(Ss=Ts(Us,Zs)),Ss.width===null||Ss.width==="auto")delete this.textWidth;else if(ao.nodeName.toLowerCase()==="text"&&Ss.width)var Bs=this.textWidth=Ws(Ss.width);this.styles=Ss,Bs&&!As&&this.renderer.forExport&&delete Ss.width;var zs=Fs(Ss);ao.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(function(so){return zs&&delete zs[so]}),fs(ao,zs),this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),Ss.textOutline&&this.applyTextOutline(Ss.textOutline))}return this},Ns.prototype.dashstyleSetter=function(Ss){var Us=this["stroke-width"];if(Us==="inherit"&&(Us=1),Ss=Ss&&Ss.toLowerCase()){var Zs=Ss.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(Ss=Zs.length;Ss--;)Zs[Ss]=""+Ws(Zs[Ss])*Ms(Us,NaN);Ss=Zs.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",Ss)}},Ns.prototype.destroy=function(){var Ss=this,Us=Ss.element||{},Zs=Ss.renderer,ao=Us.ownerSVGElement,js=Zs.isSVG&&Us.nodeName==="SPAN"&&Ss.parentGroup||void 0;if(Us.onclick=Us.onmouseout=Us.onmouseover=Us.onmousemove=Us.point=null,cs(Ss),Ss.clipPath&&ao){var Bs=Ss.clipPath;[].forEach.call(ao.querySelectorAll("[clip-path],[CLIP-PATH]"),function(zs){-1<zs.getAttribute("clip-path").indexOf(Bs.element.id)&&zs.removeAttribute("clip-path")}),Ss.clipPath=Bs.destroy()}if(Ss.stops){for(ao=0;ao<Ss.stops.length;ao++)Ss.stops[ao].destroy();Ss.stops.length=0,Ss.stops=void 0}for(Ss.safeRemoveChild(Us),Zs.styledMode||Ss.destroyShadows();js&&js.div&&js.div.childNodes.length===0;)Us=js.parentGroup,Ss.safeRemoveChild(js.div),delete js.div,js=Us;Ss.alignTo&&ws(Zs.alignedObjects,Ss),Is(Ss,function(zs,so){Ss[so]&&Ss[so].parentGroup===Ss&&Ss[so].destroy&&Ss[so].destroy(),delete Ss[so]})},Ns.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(Ss){this.safeRemoveChild(Ss)},this),this.shadows=void 0},Ns.prototype.dSetter=function(Ss,Us,Zs){Rs(Ss)&&(typeof Ss[0]=="string"&&(Ss=this.renderer.pathToSegments(Ss)),this.pathArray=Ss,Ss=Ss.reduce(function(ao,js,Bs){return js&&js.join?(Bs?ao+" ":"")+js.join(" "):(js||"").toString()},"")),/(NaN| {2}|^$)/.test(Ss)&&(Ss="M 0 0"),this[Us]!==Ss&&(Zs.setAttribute(Us,Ss),this[Us]=Ss)},Ns.prototype.fadeOut=function(Ss){var Us=this;Us.animate({opacity:0},{duration:Ms(Ss,150),complete:function(){Us.hide()}})},Ns.prototype.fillSetter=function(Ss,Us,Zs){typeof Ss=="string"?Zs.setAttribute(Us,Ss):Ss&&this.complexColor(Ss,Us,Zs)},Ns.prototype.getBBox=function(Ss,Us){var Zs=this.alignValue,ao=this.element,js=this.renderer,Bs=this.styles,zs=this.textStr,so=js.cache,oo=js.cacheKeys,Ao=ao.namespaceURI===this.SVG_NS;Us=Ms(Us,this.rotation,0);var Xs=js.styledMode?ao&&Ns.prototype.getStyle.call(ao,"font-size"):Bs&&Bs.fontSize,lo;if(gs(zs)){var co=zs.toString();co.indexOf("<")===-1&&(co=co.replace(/[0-9]/g,"0")),co+=["",Us,Xs,this.textWidth,Zs,Bs&&Bs.textOverflow,Bs&&Bs.fontWeight].join()}if(co&&!Ss&&(lo=so[co]),!lo){if(Ao||js.forExport){try{var So=this.fakeTS&&function(vo){var Eo=ao.querySelector(".highcharts-text-outline");Eo&&fs(Eo,{display:vo})};Ps(So)&&So("none"),lo=ao.getBBox?Ts({},ao.getBBox()):{width:ao.offsetWidth,height:ao.offsetHeight,x:0,y:0},Ps(So)&&So("")}catch{}(!lo||0>lo.width)&&(lo={x:0,y:0,width:0,height:0})}else lo=this.htmlGetBBox();if(js.isSVG&&(js=lo.width,Ss=lo.height,Ao&&(lo.height=Ss={"11px,17":14,"13px,20":16}[""+(Xs||"")+",".concat(Math.round(Ss))]||Ss),Us)){Ao=Number(ao.getAttribute("y")||0)-lo.y,Zs={right:1,center:.5}[Zs||0]||0,Bs=Us*hs,Xs=(Us-90)*hs;var ro=js*Math.cos(Bs);Us=js*Math.sin(Bs),So=Math.cos(Xs),Bs=Math.sin(Xs),js=lo.x+Zs*(js-ro)+Ao*So,Xs=js+ro,So=Xs-Ss*So,ro=So-ro,Ao=lo.y+Ao-Zs*Us+Ao*Bs,Zs=Ao+Us,Ss=Zs-Ss*Bs,Us=Ss-Us,lo.x=Math.min(js,Xs,So,ro),lo.y=Math.min(Ao,Zs,Ss,Us),lo.width=Math.max(js,Xs,So,ro)-lo.x,lo.height=Math.max(Ao,Zs,Ss,Us)-lo.y}if(co&&(zs===""||0<lo.height)){for(;250<oo.length;)delete so[oo.shift()];so[co]||oo.push(co),so[co]=lo}}return lo},Ns.prototype.getStyle=function(Ss){return ys.getComputedStyle(this.element||this,"").getPropertyValue(Ss)},Ns.prototype.hasClass=function(Ss){return(""+this.attr("class")).split(" ").indexOf(Ss)!==-1},Ns.prototype.hide=function(){return this.attr({visibility:"hidden"})},Ns.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},Ns.prototype.init=function(Ss,Us){this.element=Us==="span"?ms(Us):us.createElementNS(this.SVG_NS,Us),this.renderer=Ss,$s(this,"afterInit")},Ns.prototype.on=function(Ss,Us){var Zs=this.onEvents;return Zs[Ss]&&Zs[Ss](),Zs[Ss]=Cs(this.element,Ss,Us),this},Ns.prototype.opacitySetter=function(Ss,Us,Zs){this.opacity=Ss=Number(Number(Ss).toFixed(3)),Zs.setAttribute(Us,Ss)},Ns.prototype.removeClass=function(Ss){return this.attr("class",(""+this.attr("class")).replace(Qs(Ss)?new RegExp("(^| )".concat(Ss,"( |$)")):Ss," ").replace(/ +/g," ").trim())},Ns.prototype.removeTextOutline=function(){var Ss=this.element.querySelector("tspan.highcharts-text-outline");Ss&&this.safeRemoveChild(Ss)},Ns.prototype.safeRemoveChild=function(Ss){var Us=Ss.parentNode;Us&&Us.removeChild(Ss)},Ns.prototype.setRadialReference=function(Ss){var Us=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=Ss,Us&&Us.radAttr&&Us.animate(this.renderer.getRadialAttr(Ss,Us.radAttr)),this},Ns.prototype.setTextPath=function(Ss,Us){var Zs=this;Us=Fs(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},Us);var ao=this.renderer.url,js=this.text||this,Bs=js.textPath,zs=Us.attributes,so=Us.enabled;return Ss=Ss||Bs&&Bs.path,Bs&&Bs.undo(),Ss&&so?(Us=Cs(js,"afterModifyTree",function(oo){if(Ss&&so){var Ao=Ss.attr("id");Ao||Ss.attr("id",Ao=_s());var Xs={x:0,y:0};gs(zs.dx)&&(Xs.dx=zs.dx,delete zs.dx),gs(zs.dy)&&(Xs.dy=zs.dy,delete zs.dy),js.attr(Xs),Zs.attr({transform:""}),Zs.box&&(Zs.box=Zs.box.destroy()),Xs=oo.nodes.slice(0),oo.nodes.length=0,oo.nodes[0]={tagName:"textPath",attributes:Ts(zs,{"text-anchor":zs.textAnchor,href:""+ao+"#".concat(Ao)}),children:Xs}}}),js.textPath={path:Ss,undo:Us}):(js.attr({dx:0,dy:0}),delete js.textPath),this.added&&(js.textCache="",this.renderer.buildText(js)),this},Ns.prototype.shadow=function(Ss,Us,Zs){var ao=[],js=this.element,Bs=this.oldShadowOptions,zs=this.parentGroup,so=zs&&zs.rotation===90;zs={color:"#000000",offsetX:so?-1:1,offsetY:so?-1:1,opacity:.15,width:3};var oo=!1,Ao;if(Ss===!0?Ao=zs:typeof Ss=="object"&&(Ao=Ts(zs,Ss)),Ao&&(Ao&&Bs&&Is(Ao,function(So,ro){So!==Bs[ro]&&(oo=!0)}),oo&&this.destroyShadows(),this.oldShadowOptions=Ao),!Ao)this.destroyShadows();else if(!this.shadows){zs=Ao.opacity/Ao.width;var Xs=so?"translate(".concat(Ao.offsetY,", ").concat(Ao.offsetX,")"):"translate(".concat(Ao.offsetX,", ").concat(Ao.offsetY,")");for(so=1;so<=Ao.width;so++){var lo=js.cloneNode(!1),co=2*Ao.width+1-2*so;ps(lo,{stroke:Ss.color||"#000000","stroke-opacity":zs*so,"stroke-width":co,transform:Xs,fill:"none"}),lo.setAttribute("class",(lo.getAttribute("class")||"")+" highcharts-shadow"),Zs&&(ps(lo,"height",Math.max(ps(lo,"height")-co,0)),lo.cutHeight=co),Us?Us.element.appendChild(lo):js.parentNode&&js.parentNode.insertBefore(lo,js),ao.push(lo)}this.shadows=ao}return this},Ns.prototype.show=function(Ss){return Ss===void 0&&(Ss=!0),this.attr({visibility:Ss?"inherit":"visible"})},Ns.prototype["stroke-widthSetter"]=function(Ss,Us,Zs){this[Us]=Ss,Zs.setAttribute(Us,Ss)},Ns.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var Ss=this.getStyle("stroke-width"),Us=0;if(Ss.indexOf("px")===Ss.length-2)Us=Ws(Ss);else if(Ss!==""){var Zs=us.createElementNS(bs,"rect");ps(Zs,{width:Ss,"stroke-width":0}),this.element.parentNode.appendChild(Zs),Us=Zs.getBBox().width,Zs.parentNode.removeChild(Zs)}return Us},Ns.prototype.symbolAttr=function(Ss){var Us=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(Zs){Us[Zs]=Ms(Ss[Zs],Us[Zs])}),Us.attr({d:Us.renderer.symbols[Us.symbolName](Us.x,Us.y,Us.width,Us.height,Us)})},Ns.prototype.textSetter=function(Ss){Ss!==this.textStr&&(delete this.textPxLength,this.textStr=Ss,this.added&&this.renderer.buildText(this))},Ns.prototype.titleSetter=function(Ss){var Us=this.element,Zs=Us.getElementsByTagName("title")[0]||us.createElementNS(this.SVG_NS,"title");Us.insertBefore?Us.insertBefore(Zs,Us.firstChild):Us.appendChild(Zs),Zs.textContent=String(Ms(Ss,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},Ns.prototype.toFront=function(){var Ss=this.element;return Ss.parentNode.appendChild(Ss),this},Ns.prototype.translate=function(Ss,Us){return this.attr({translateX:Ss,translateY:Us})},Ns.prototype.updateShadows=function(Ss,Us,Zs){var ao=this.shadows;if(ao)for(var js=ao.length;js--;)Zs.call(ao[js],Ss==="height"?Math.max(Us-(ao[js].cutHeight||0),0):Ss==="d"?this.d:Us,Ss,ao[js])},Ns.prototype.updateTransform=function(){var Ss=this.element,Us=this.matrix,Zs=this.rotation;Zs=Zs===void 0?0:Zs;var ao=this.scaleX,js=this.scaleY,Bs=this.translateX,zs=this.translateY;Bs=["translate("+(Bs===void 0?0:Bs)+","+(zs===void 0?0:zs)+")"],gs(Us)&&Bs.push("matrix("+Us.join(",")+")"),Zs&&Bs.push("rotate("+Zs+" "+Ms(this.rotationOriginX,Ss.getAttribute("x"),0)+" "+Ms(this.rotationOriginY,Ss.getAttribute("y")||0)+")"),(gs(ao)||gs(js))&&Bs.push("scale("+Ms(ao,1)+" "+Ms(js,1)+")"),Bs.length&&!(this.text||this).textPath&&Ss.setAttribute("transform",Bs.join(" "))},Ns.prototype.visibilitySetter=function(Ss,Us,Zs){Ss==="inherit"?Zs.removeAttribute(Us):this[Us]!==Ss&&Zs.setAttribute(Us,Ss),this[Us]=Ss},Ns.prototype.xGetter=function(Ss){return this.element.nodeName==="circle"&&(Ss==="x"?Ss="cx":Ss==="y"&&(Ss="cy")),this._defaultGetter(Ss)},Ns.prototype.zIndexSetter=function(Ss,Us){var Zs=this.renderer,ao=this.parentGroup,js=(ao||Zs).element||Zs.box,Bs=this.element;Zs=js===Zs.box;var zs=!1,so=this.added,oo;if(gs(Ss)?(Bs.setAttribute("data-z-index",Ss),Ss=+Ss,this[Us]===Ss&&(so=!1)):gs(this[Us])&&Bs.removeAttribute("data-z-index"),this[Us]=Ss,so){for((Ss=this.zIndex)&&ao&&(ao.handleZ=!0),Us=js.childNodes,oo=Us.length-1;0<=oo&&!zs;oo--){ao=Us[oo],so=ao.getAttribute("data-z-index");var Ao=!gs(so);ao!==Bs&&(0>Ss&&Ao&&!Zs&&!oo?(js.insertBefore(Bs,Us[oo]),zs=!0):(Ws(so)<=Ss||Ao&&(!gs(Ss)||0<=Ss))&&(js.insertBefore(Bs,Us[oo+1]||null),zs=!0))}zs||(js.insertBefore(Bs,Us[Zs?3:0]||null),zs=!0)}return zs},Ns}(),rs.prototype.strokeSetter=rs.prototype.fillSetter,rs.prototype.yGetter=rs.prototype.xGetter,rs.prototype.matrixSetter=rs.prototype.rotationOriginXSetter=rs.prototype.rotationOriginYSetter=rs.prototype.rotationSetter=rs.prototype.scaleXSetter=rs.prototype.scaleYSetter=rs.prototype.translateXSetter=rs.prototype.translateYSetter=rs.prototype.verticalAlignSetter=function(Ns,Ss){this[Ss]=Ns,this.doTransform=!0},rs}),Ri(ts,"Core/Renderer/RendererRegistry.js",[ts["Core/Globals.js"]],function(rs){var is;return function(ns){ns.rendererTypes={};var ss;ns.getRendererType=function(os){return os===void 0&&(os=ss),ns.rendererTypes[os]||ns.rendererTypes[ss]},ns.registerRendererType=function(os,ls,cs){ns.rendererTypes[os]=ls,(!ss||cs)&&(ss=os,rs.Renderer=ls)}}(is||(is={})),is}),Ri(ts,"Core/Renderer/SVG/SVGLabel.js",[ts["Core/Renderer/SVG/SVGElement.js"],ts["Core/Utilities.js"]],function(rs,is){var ns=this&&this.__extends||function(){var As=function(bs,ys){return As=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Cs,ps){Cs.__proto__=ps}||function(Cs,ps){for(var ms in ps)ps.hasOwnProperty(ms)&&(Cs[ms]=ps[ms])},As(bs,ys)};return function(bs,ys){function Cs(){this.constructor=bs}As(bs,ys),bs.prototype=ys===null?Object.create(ys):(Cs.prototype=ys.prototype,new Cs)}}(),ss=is.defined,os=is.extend,ls=is.isNumber,cs=is.merge,hs=is.pick,us=is.removeEvent;return function(As){function bs(ys,Cs,ps,ms,fs,gs,ws,Ts,$s,Rs){var Ps=As.call(this)||this;Ps.paddingLeftSetter=Ps.paddingSetter,Ps.paddingRightSetter=Ps.paddingSetter,Ps.init(ys,"g"),Ps.textStr=Cs,Ps.x=ps,Ps.y=ms,Ps.anchorX=gs,Ps.anchorY=ws,Ps.baseline=$s,Ps.className=Rs,Ps.addClass(Rs==="button"?"highcharts-no-tooltip":"highcharts-label"),Rs&&Ps.addClass("highcharts-"+Rs),Ps.text=ys.text(void 0,0,0,Ts).attr({zIndex:1});var Qs;return typeof fs=="string"&&((Qs=/^url\((.*?)\)$/.test(fs))||Ps.renderer.symbols[fs])&&(Ps.symbolKey=fs),Ps.bBox=bs.emptyBBox,Ps.padding=3,Ps.baselineOffset=0,Ps.needsBox=ys.styledMode||Qs,Ps.deferredAttr={},Ps.alignFactor=0,Ps}return ns(bs,As),bs.prototype.alignSetter=function(ys){ys={left:0,center:.5,right:1}[ys],ys!==this.alignFactor&&(this.alignFactor=ys,this.bBox&&ls(this.xSetting)&&this.attr({x:this.xSetting}))},bs.prototype.anchorXSetter=function(ys,Cs){this.anchorX=ys,this.boxAttr(Cs,Math.round(ys)-this.getCrispAdjust()-this.xSetting)},bs.prototype.anchorYSetter=function(ys,Cs){this.anchorY=ys,this.boxAttr(Cs,ys-this.ySetting)},bs.prototype.boxAttr=function(ys,Cs){this.box?this.box.attr(ys,Cs):this.deferredAttr[ys]=Cs},bs.prototype.css=function(ys){if(ys){var Cs={};ys=cs(ys),bs.textProps.forEach(function(ps){typeof ys[ps]<"u"&&(Cs[ps]=ys[ps],delete ys[ps])}),this.text.css(Cs),"fontSize"in Cs||"fontWeight"in Cs?this.updateTextPadding():("width"in Cs||"textOverflow"in Cs)&&this.updateBoxSize()}return rs.prototype.css.call(this,ys)},bs.prototype.destroy=function(){us(this.element,"mouseenter"),us(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),rs.prototype.destroy.call(this)},bs.prototype.fillSetter=function(ys,Cs){ys&&(this.needsBox=!0),this.fill=ys,this.boxAttr(Cs,ys)},bs.prototype.getBBox=function(){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();var ys=this.padding,Cs=hs(this.paddingLeft,ys);return{width:this.width,height:this.height,x:this.bBox.x-Cs,y:this.bBox.y-ys}},bs.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},bs.prototype.heightSetter=function(ys){this.heightSetting=ys},bs.prototype.onAdd=function(){this.text.add(this),this.attr({text:hs(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&ss(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},bs.prototype.paddingSetter=function(ys,Cs){ls(ys)?ys!==this[Cs]&&(this[Cs]=ys,this.updateTextPadding()):this[Cs]=void 0},bs.prototype.rSetter=function(ys,Cs){this.boxAttr(Cs,ys)},bs.prototype.shadow=function(ys){return ys&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(ys)),this},bs.prototype.strokeSetter=function(ys,Cs){this.stroke=ys,this.boxAttr(Cs,ys)},bs.prototype["stroke-widthSetter"]=function(ys,Cs){ys&&(this.needsBox=!0),this["stroke-width"]=ys,this.boxAttr(Cs,ys)},bs.prototype["text-alignSetter"]=function(ys){this.textAlign=ys},bs.prototype.textSetter=function(ys){typeof ys<"u"&&this.text.attr({text:ys}),this.updateTextPadding()},bs.prototype.updateBoxSize=function(){var ys=this.text,Cs=ys.element.style,ps={},ms=this.padding,fs=this.bBox=ls(this.widthSetting)&&ls(this.heightSetting)&&!this.textAlign||!ss(ys.textStr)?bs.emptyBBox:ys.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||fs.height||0)+2*ms,Cs=this.renderer.fontMetrics(Cs&&Cs.fontSize,ys),this.baselineOffset=ms+Math.min((this.text.firstLineMetrics||Cs).b,fs.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-Cs.h)/2),this.needsBox&&!ys.textPath&&(this.box||(ys=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect(),ys.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),ys.add(this)),ys=this.getCrispAdjust(),ps.x=ys,ps.y=(this.baseline?-this.baselineOffset:0)+ys,ps.width=Math.round(this.width),ps.height=Math.round(this.height),this.box.attr(os(ps,this.deferredAttr)),this.deferredAttr={})},bs.prototype.updateTextPadding=function(){var ys=this.text;if(!ys.textPath){this.updateBoxSize();var Cs=this.baseline?0:this.baselineOffset,ps=hs(this.paddingLeft,this.padding);ss(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&(ps+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(ps!==ys.x||Cs!==ys.y)&&(ys.attr("x",ps),ys.hasBoxWidthChanged&&(this.bBox=ys.getBBox(!0)),typeof Cs<"u"&&ys.attr("y",Cs)),ys.x=ps,ys.y=Cs}},bs.prototype.widthSetter=function(ys){this.widthSetting=ls(ys)?ys:void 0},bs.prototype.getPaddedWidth=function(){var ys=this.padding,Cs=hs(this.paddingLeft,ys);return ys=hs(this.paddingRight,ys),(this.widthSetting||this.bBox.width||0)+Cs+ys},bs.prototype.xSetter=function(ys){this.x=ys,this.alignFactor&&(ys-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(ys),this.attr("translateX",this.xSetting)},bs.prototype.ySetter=function(ys){this.ySetting=this.y=Math.round(ys),this.attr("translateY",this.ySetting)},bs.emptyBBox={width:0,height:0,x:0,y:0},bs.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),bs}(rs)}),Ri(ts,"Core/Renderer/SVG/Symbols.js",[ts["Core/Utilities.js"]],function(rs){function is(hs,us,As,bs,ys){var Cs=[];if(ys){var ps=ys.start||0,ms=cs(ys.r,As);As=cs(ys.r,bs||As);var fs=(ys.end||0)-.001;bs=ys.innerR;var gs=cs(ys.open,.001>Math.abs((ys.end||0)-ps-2*Math.PI)),ws=Math.cos(ps),Ts=Math.sin(ps),$s=Math.cos(fs),Rs=Math.sin(fs);ps=cs(ys.longArc,.001>fs-ps-Math.PI?0:1),Cs.push(["M",hs+ms*ws,us+As*Ts],["A",ms,As,0,ps,cs(ys.clockwise,1),hs+ms*$s,us+As*Rs]),os(bs)&&Cs.push(gs?["M",hs+bs*$s,us+bs*Rs]:["L",hs+bs*$s,us+bs*Rs],["A",bs,bs,0,ps,os(ys.clockwise)?1-ys.clockwise:0,hs+bs*ws,us+bs*Ts]),gs||Cs.push(["Z"])}return Cs}function ns(hs,us,As,bs,ys){return ys&&ys.r?ss(hs,us,As,bs,ys):[["M",hs,us],["L",hs+As,us],["L",hs+As,us+bs],["L",hs,us+bs],["Z"]]}function ss(hs,us,As,bs,ys){return ys=ys&&ys.r||0,[["M",hs+ys,us],["L",hs+As-ys,us],["C",hs+As,us,hs+As,us,hs+As,us+ys],["L",hs+As,us+bs-ys],["C",hs+As,us+bs,hs+As,us+bs,hs+As-ys,us+bs],["L",hs+ys,us+bs],["C",hs,us+bs,hs,us+bs,hs,us+bs-ys],["L",hs,us+ys],["C",hs,us,hs,us,hs+ys,us]]}var os=rs.defined,ls=rs.isNumber,cs=rs.pick;return{arc:is,callout:function(hs,us,As,bs,ys){var Cs=Math.min(ys&&ys.r||0,As,bs),ps=Cs+6,ms=ys&&ys.anchorX;ys=ys&&ys.anchorY||0;var fs=ss(hs,us,As,bs,{r:Cs});return ls(ms)&&(hs+ms>=As?ys>us+ps&&ys<us+bs-ps?fs.splice(3,1,["L",hs+As,ys-6],["L",hs+As+6,ys],["L",hs+As,ys+6],["L",hs+As,us+bs-Cs]):fs.splice(3,1,["L",hs+As,bs/2],["L",ms,ys],["L",hs+As,bs/2],["L",hs+As,us+bs-Cs]):0>=hs+ms?ys>us+ps&&ys<us+bs-ps?fs.splice(7,1,["L",hs,ys+6],["L",hs-6,ys],["L",hs,ys-6],["L",hs,us+Cs]):fs.splice(7,1,["L",hs,bs/2],["L",ms,ys],["L",hs,bs/2],["L",hs,us+Cs]):ys&&ys>bs&&ms>hs+ps&&ms<hs+As-ps?fs.splice(5,1,["L",ms+6,us+bs],["L",ms,us+bs+6],["L",ms-6,us+bs],["L",hs+Cs,us+bs]):ys&&0>ys&&ms>hs+ps&&ms<hs+As-ps&&fs.splice(1,1,["L",ms-6,us],["L",ms,us-6],["L",ms+6,us],["L",As-Cs,us])),fs},circle:function(hs,us,As,bs){return is(hs+As/2,us+bs/2,As/2,bs/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(hs,us,As,bs){return[["M",hs+As/2,us],["L",hs+As,us+bs/2],["L",hs+As/2,us+bs],["L",hs,us+bs/2],["Z"]]},rect:ns,roundedRect:ss,square:ns,triangle:function(hs,us,As,bs){return[["M",hs+As/2,us],["L",hs+As,us+bs],["L",hs,us+bs],["Z"]]},"triangle-down":function(hs,us,As,bs){return[["M",hs,us],["L",hs+As,us],["L",hs+As/2,us+bs],["Z"]]}}}),Ri(ts,"Core/Renderer/SVG/TextBuilder.js",[ts["Core/Renderer/HTML/AST.js"],ts["Core/Globals.js"],ts["Core/Utilities.js"]],function(rs,is,ns){var ss=is.doc,os=is.SVG_NS,ls=is.win,cs=ns.attr,hs=ns.extend,us=ns.fireEvent,As=ns.isString,bs=ns.objectEach,ys=ns.pick;return function(){function Cs(ps){var ms=ps.styles;this.renderer=ps.renderer,this.svgElement=ps,this.width=ps.textWidth,this.textLineHeight=ms&&ms.lineHeight,this.textOutline=ms&&ms.textOutline,this.ellipsis=!(!ms||ms.textOverflow!=="ellipsis"),this.noWrap=!(!ms||ms.whiteSpace!=="nowrap"),this.fontSize=ms&&ms.fontSize}return Cs.prototype.buildSVG=function(){var ps=this.svgElement,ms=ps.element,fs=ps.renderer,gs=ys(ps.textStr,"").toString(),ws=gs.indexOf("<")!==-1,Ts=ms.childNodes;fs=this.width&&!ps.added&&fs.box;var $s=/<br.*?>/g,Rs=[gs,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(Rs!==ps.textCache){for(ps.textCache=Rs,delete ps.actualWidth,Rs=Ts.length;Rs--;)ms.removeChild(Ts[Rs]);ws||this.ellipsis||this.width||ps.textPath||gs.indexOf(" ")!==-1&&(!this.noWrap||$s.test(gs))?gs!==""&&(fs&&fs.appendChild(ms),gs=new rs(gs),this.modifyTree(gs.nodes),gs.addToDOM(ms),this.modifyDOM(),this.ellipsis&&(ms.textContent||"").indexOf("…")!==-1&&ps.attr("title",this.unescapeEntities(ps.textStr||"",["&lt;","&gt;"])),fs&&fs.removeChild(ms)):ms.appendChild(ss.createTextNode(this.unescapeEntities(gs))),As(this.textOutline)&&ps.applyTextOutline&&ps.applyTextOutline(this.textOutline)}},Cs.prototype.modifyDOM=function(){var ps=this,ms=this.svgElement,fs=cs(ms.element,"x");ms.firstLineMetrics=void 0;for(var gs;(gs=ms.element.firstChild)&&/^[\s\u200B]*$/.test(gs.textContent||" ");)ms.element.removeChild(gs);[].forEach.call(ms.element.querySelectorAll("tspan.highcharts-br"),function(Rs,Ps){Rs.nextSibling&&Rs.previousSibling&&(Ps===0&&Rs.previousSibling.nodeType===1&&(ms.firstLineMetrics=ms.renderer.fontMetrics(void 0,Rs.previousSibling)),cs(Rs,{dy:ps.getLineHeight(Rs.nextSibling),x:fs}))});var ws=this.width||0;if(ws){var Ts=function(Rs,Ps){var Qs=Rs.textContent||"",Fs=Qs.replace(/([^\^])-/g,"$1- ").split(" "),Is=!ps.noWrap&&(1<Fs.length||1<ms.element.childNodes.length),Ms=ps.getLineHeight(Ps),Ws=0,Ds=ms.actualWidth;if(ps.ellipsis)Qs&&ps.truncate(Rs,Qs,void 0,0,Math.max(0,ws-parseInt(ps.fontSize||12,10)),function(_s,Ns){return _s.substring(0,Ns)+"…"});else if(Is){for(Qs=[],Is=[];Ps.firstChild&&Ps.firstChild!==Rs;)Is.push(Ps.firstChild),Ps.removeChild(Ps.firstChild);for(;Fs.length;)Fs.length&&!ps.noWrap&&0<Ws&&(Qs.push(Rs.textContent||""),Rs.textContent=Fs.join(" ").replace(/- /g,"-")),ps.truncate(Rs,void 0,Fs,Ws===0&&Ds||0,ws,function(_s,Ns){return Fs.slice(0,Ns).join(" ").replace(/- /g,"-")}),Ds=ms.actualWidth,Ws++;Is.forEach(function(_s){Ps.insertBefore(_s,Rs)}),Qs.forEach(function(_s){Ps.insertBefore(ss.createTextNode(_s),Rs),_s=ss.createElementNS(os,"tspan"),_s.textContent="​",cs(_s,{dy:Ms,x:fs}),Ps.insertBefore(_s,Rs)})}},$s=function(Rs){[].slice.call(Rs.childNodes).forEach(function(Ps){Ps.nodeType===ls.Node.TEXT_NODE?Ts(Ps,Rs):(Ps.className.baseVal.indexOf("highcharts-br")!==-1&&(ms.actualWidth=0),$s(Ps))})};$s(ms.element)}},Cs.prototype.getLineHeight=function(ps){var ms;return ps=ps.nodeType===ls.Node.TEXT_NODE?ps.parentElement:ps,this.renderer.styledMode||(ms=ps&&/(px|em)$/.test(ps.style.fontSize)?ps.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(ms,ps||this.svgElement.element).h},Cs.prototype.modifyTree=function(ps){var ms=this,fs=function(gs,ws){var Ts=gs.attributes;Ts=Ts===void 0?{}:Ts;var $s=gs.children,Rs=gs.style;Rs=Rs===void 0?{}:Rs;var Ps=gs.tagName,Qs=ms.renderer.styledMode;Ps==="b"||Ps==="strong"?Qs?Ts.class="highcharts-strong":Rs.fontWeight="bold":(Ps==="i"||Ps==="em")&&(Qs?Ts.class="highcharts-emphasized":Rs.fontStyle="italic"),Rs&&Rs.color&&(Rs.fill=Rs.color),Ps==="br"?(Ts.class="highcharts-br",gs.textContent="​",(ws=ps[ws+1])&&ws.textContent&&(ws.textContent=ws.textContent.replace(/^ +/gm,""))):Ps==="a"&&$s&&$s.some(function(Fs){return Fs.tagName==="#text"})&&(gs.children=[{children:$s,tagName:"tspan"}]),Ps!=="#text"&&Ps!=="a"&&(gs.tagName="tspan"),hs(gs,{attributes:Ts,style:Rs}),$s&&$s.filter(function(Fs){return Fs.tagName!=="#text"}).forEach(fs)};ps.forEach(fs),us(this.svgElement,"afterModifyTree",{nodes:ps})},Cs.prototype.truncate=function(ps,ms,fs,gs,ws,Ts){var $s=this.svgElement,Rs=$s.renderer,Ps=$s.rotation,Qs=[],Fs=fs?1:0,Is=(ms||fs||"").length,Ms=Is,Ws,Ds=function(Ns,Ss){Ss=Ss||Ns;var Us=ps.parentNode;if(Us&&typeof Qs[Ss]>"u")if(Us.getSubStringLength)try{Qs[Ss]=gs+Us.getSubStringLength(0,fs?Ss+1:Ss)}catch{}else Rs.getSpanWidth&&(ps.textContent=Ts(ms||fs,Ns),Qs[Ss]=gs+Rs.getSpanWidth($s,ps));return Qs[Ss]};$s.rotation=0;var _s=Ds(ps.textContent.length);if(gs+_s>ws){for(;Fs<=Is;)Ms=Math.ceil((Fs+Is)/2),fs&&(Ws=Ts(fs,Ms)),_s=Ds(Ms,Ws&&Ws.length-1),Fs===Is?Fs=Is+1:_s>ws?Is=Ms-1:Fs=Ms;Is===0?ps.textContent="":ms&&Is===ms.length-1||(ps.textContent=Ws||Ts(ms||fs,Ms))}fs&&fs.splice(0,Ms),$s.actualWidth=_s,$s.rotation=Ps},Cs.prototype.unescapeEntities=function(ps,ms){return bs(this.renderer.escapes,function(fs,gs){ms&&ms.indexOf(fs)!==-1||(ps=ps.toString().replace(new RegExp(fs,"g"),gs))}),ps},Cs}()}),Ri(ts,"Core/Renderer/SVG/SVGRenderer.js",[ts["Core/Renderer/HTML/AST.js"],ts["Core/Color/Color.js"],ts["Core/Globals.js"],ts["Core/Renderer/RendererRegistry.js"],ts["Core/Renderer/SVG/SVGElement.js"],ts["Core/Renderer/SVG/SVGLabel.js"],ts["Core/Renderer/SVG/Symbols.js"],ts["Core/Renderer/SVG/TextBuilder.js"],ts["Core/Utilities.js"]],function(rs,is,ns,ss,os,ls,cs,hs,us){var As=ns.charts,bs=ns.deg2rad,ys=ns.doc,Cs=ns.isFirefox,ps=ns.isMS,ms=ns.isWebKit,fs=ns.noop,gs=ns.SVG_NS,ws=ns.symbolSizes,Ts=ns.win,$s=us.addEvent,Rs=us.attr,Ps=us.createElement,Qs=us.css,Fs=us.defined,Is=us.destroyObjectProperties,Ms=us.extend,Ws=us.isArray,Ds=us.isNumber,_s=us.isObject,Ns=us.isString,Ss=us.merge,Us=us.pick,Zs=us.pInt,ao=us.uniqueKey,js;return ns=function(){function Bs(zs,so,oo,Ao,Xs,lo,co){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(zs,so,oo,Ao,Xs,lo,co)}return Bs.prototype.init=function(zs,so,oo,Ao,Xs,lo,co){var So=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),ro=So.element;co||So.css(this.getStyle(Ao)),zs.appendChild(ro),Rs(zs,"dir","ltr"),zs.innerHTML.indexOf("xmlns")===-1&&Rs(ro,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=ro,this.boxWrapper=So,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(ys.createTextNode("Created with Highcharts 10.3.3")),this.defs=this.createElement("defs").add(),this.allowHTML=lo,this.forExport=Xs,this.styledMode=co,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(so,oo,!1);var vo;Cs&&zs.getBoundingClientRect&&(so=function(){Qs(zs,{left:0,top:0}),vo=zs.getBoundingClientRect(),Qs(zs,{left:Math.ceil(vo.left)-vo.left+"px",top:Math.ceil(vo.top)-vo.top+"px"})},so(),this.unSubPixelFix=$s(Ts,"resize",so))},Bs.prototype.definition=function(zs){return new rs([zs]).addToDOM(this.defs.element)},Bs.prototype.getReferenceURL=function(){if((Cs||ms)&&ys.getElementsByTagName("base").length){if(!Fs(js)){var zs=ao();zs=new rs([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:zs},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#".concat(zs,")"),fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(ys.body),Qs(zs,{position:"fixed",top:0,left:0,zIndex:9e5});var so=ys.elementFromPoint(6,6);js=(so&&so.id)==="hitme",ys.body.removeChild(zs)}if(js)return Ts.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},Bs.prototype.getStyle=function(zs){return this.style=Ms({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},zs)},Bs.prototype.setStyle=function(zs){this.boxWrapper.css(this.getStyle(zs))},Bs.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},Bs.prototype.destroy=function(){var zs=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),Is(this.gradients||{}),this.gradients=null,zs&&(this.defs=zs.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},Bs.prototype.createElement=function(zs){var so=new this.Element;return so.init(this,zs),so},Bs.prototype.getRadialAttr=function(zs,so){return{cx:zs[0]-zs[2]/2+(so.cx||0)*zs[2],cy:zs[1]-zs[2]/2+(so.cy||0)*zs[2],r:(so.r||0)*zs[2]}},Bs.prototype.buildText=function(zs){new hs(zs).buildSVG()},Bs.prototype.getContrast=function(zs){return zs=is.parse(zs).rgba.map(function(so){return so/=255,.03928>=so?so/12.92:Math.pow((so+.055)/1.055,2.4)}),zs=.2126*zs[0]+.7152*zs[1]+.0722*zs[2],1.05/(zs+.05)>(zs+.05)/.05?"#FFFFFF":"#000000"},Bs.prototype.button=function(zs,so,oo,Ao,Xs,lo,co,So,ro,vo){Xs===void 0&&(Xs={});var Eo=this.label(zs,so,oo,ro,void 0,void 0,vo,void 0,"button"),mo=this.styledMode;zs=Xs.states||{};var yo=0;Xs=Ss(Xs),delete Xs.states;var Jo=Ss({color:"#333333",cursor:"pointer",fontWeight:"normal"},Xs.style);delete Xs.style;var Yo=rs.filterUserAttributes(Xs);if(Eo.attr(Ss({padding:8,r:2},Yo)),!mo){Yo=Ss({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},Yo),lo=Ss(Yo,{fill:"#e6e6e6"},rs.filterUserAttributes(lo||zs.hover||{}));var Wo=lo.style;delete lo.style,co=Ss(Yo,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},rs.filterUserAttributes(co||zs.select||{}));var ko=co.style;delete co.style,So=Ss(Yo,{style:{color:"#cccccc"}},rs.filterUserAttributes(So||zs.disabled||{}));var Qo=So.style;delete So.style}return $s(Eo.element,ps?"mouseover":"mouseenter",function(){yo!==3&&Eo.setState(1)}),$s(Eo.element,ps?"mouseout":"mouseleave",function(){yo!==3&&Eo.setState(yo)}),Eo.setState=function(jo){jo!==1&&(Eo.state=yo=jo),Eo.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][jo||0]),mo||(Eo.attr([Yo,lo,co,So][jo||0]),jo=[Jo,Wo,ko,Qo][jo||0],_s(jo)&&Eo.css(jo))},mo||(Eo.attr(Yo).css(Ms({cursor:"default"},Jo)),vo&&Eo.text.css({pointerEvents:"none"})),Eo.on("touchstart",function(jo){return jo.stopPropagation()}).on("click",function(jo){yo!==3&&Ao.call(Eo,jo)})},Bs.prototype.crispLine=function(zs,so,oo){oo===void 0&&(oo="round");var Ao=zs[0],Xs=zs[1];return Fs(Ao[1])&&Ao[1]===Xs[1]&&(Ao[1]=Xs[1]=Math[oo](Ao[1])-so%2/2),Fs(Ao[2])&&Ao[2]===Xs[2]&&(Ao[2]=Xs[2]=Math[oo](Ao[2])+so%2/2),zs},Bs.prototype.path=function(zs){var so=this.styledMode?{}:{fill:"none"};return Ws(zs)?so.d=zs:_s(zs)&&Ms(so,zs),this.createElement("path").attr(so)},Bs.prototype.circle=function(zs,so,oo){return zs=_s(zs)?zs:typeof zs>"u"?{}:{x:zs,y:so,r:oo},so=this.createElement("circle"),so.xSetter=so.ySetter=function(Ao,Xs,lo){lo.setAttribute("c"+Xs,Ao)},so.attr(zs)},Bs.prototype.arc=function(zs,so,oo,Ao,Xs,lo){return _s(zs)?(Ao=zs,so=Ao.y,oo=Ao.r,zs=Ao.x):Ao={innerR:Ao,start:Xs,end:lo},zs=this.symbol("arc",zs,so,oo,oo,Ao),zs.r=oo,zs},Bs.prototype.rect=function(zs,so,oo,Ao,Xs,lo){Xs=_s(zs)?zs.r:Xs;var co=this.createElement("rect");return zs=_s(zs)?zs:typeof zs>"u"?{}:{x:zs,y:so,width:Math.max(oo,0),height:Math.max(Ao,0)},this.styledMode||(typeof lo<"u"&&(zs["stroke-width"]=lo,zs=co.crisp(zs)),zs.fill="none"),Xs&&(zs.r=Xs),co.rSetter=function(So,ro,vo){co.r=So,Rs(vo,{rx:So,ry:So})},co.rGetter=function(){return co.r||0},co.attr(zs)},Bs.prototype.setSize=function(zs,so,oo){this.width=zs,this.height=so,this.boxWrapper.animate({width:zs,height:so},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Us(oo,!0)?void 0:0}),this.alignElements()},Bs.prototype.g=function(zs){var so=this.createElement("g");return zs?so.attr({class:"highcharts-"+zs}):so},Bs.prototype.image=function(zs,so,oo,Ao,Xs,lo){var co={preserveAspectRatio:"none"},So=function(vo,Eo){vo.setAttributeNS?vo.setAttributeNS("http://www.w3.org/1999/xlink","href",Eo):vo.setAttribute("hc-svg-href",Eo)};Ds(so)&&(co.x=so),Ds(oo)&&(co.y=oo),Ds(Ao)&&(co.width=Ao),Ds(Xs)&&(co.height=Xs);var ro=this.createElement("image").attr(co);return so=function(vo){So(ro.element,zs),lo.call(ro,vo)},lo?(So(ro.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),oo=new Ts.Image,$s(oo,"load",so),oo.src=zs,oo.complete&&so({})):So(ro.element,zs),ro},Bs.prototype.symbol=function(zs,so,oo,Ao,Xs,lo){var co=this,So=/^url\((.*?)\)$/,ro=So.test(zs),vo=!ro&&(this.symbols[zs]?zs:"circle"),Eo=vo&&this.symbols[vo],mo;if(Eo){typeof so=="number"&&(mo=Eo.call(this.symbols,Math.round(so||0),Math.round(oo||0),Ao||0,Xs||0,lo));var yo=this.path(mo);co.styledMode||yo.attr("fill","none"),Ms(yo,{symbolName:vo||void 0,x:so,y:oo,width:Ao,height:Xs}),lo&&Ms(yo,lo)}else if(ro){var Jo=zs.match(So)[1],Yo=yo=this.image(Jo);Yo.imgwidth=Us(ws[Jo]&&ws[Jo].width,lo&&lo.width),Yo.imgheight=Us(ws[Jo]&&ws[Jo].height,lo&&lo.height);var Wo=function(ko){return ko.attr({width:ko.width,height:ko.height})};["width","height"].forEach(function(ko){Yo[ko+"Setter"]=function(Qo,jo){this[jo]=Qo,Qo=this.alignByTranslate;var Bo=this.element,go=this.width,_o=this.height,To=this.imgwidth,uo=this.imgheight,Co=this["img"+jo];if(Fs(Co)){var Oo=1;lo&&lo.backgroundSize==="within"&&go&&_o?(Oo=Math.min(go/To,_o/uo),Co=Math.round(Co*Oo),Rs(Bo,{width:Math.round(To*Oo),height:Math.round(uo*Oo)})):Bo&&Bo.setAttribute(jo,Co),Qo||this.translate(((go||0)-Co*Oo)/2,((_o||0)-Co*Oo)/2)}}}),Fs(so)&&Yo.attr({x:so,y:oo}),Yo.isImg=!0,Fs(Yo.imgwidth)&&Fs(Yo.imgheight)?Wo(Yo):(Yo.attr({width:0,height:0}),Ps("img",{onload:function(){var ko=As[co.chartIndex];this.width===0&&(Qs(this,{position:"absolute",top:"-999em"}),ys.body.appendChild(this)),ws[Jo]={width:this.width,height:this.height},Yo.imgwidth=this.width,Yo.imgheight=this.height,Yo.element&&Wo(Yo),this.parentNode&&this.parentNode.removeChild(this),co.imgCount--,!co.imgCount&&ko&&!ko.hasLoaded&&ko.onload()},src:Jo}),this.imgCount++)}return yo},Bs.prototype.clipRect=function(zs,so,oo,Ao){var Xs=ao()+"-",lo=this.createElement("clipPath").attr({id:Xs}).add(this.defs);return zs=this.rect(zs,so,oo,Ao,0).add(lo),zs.id=Xs,zs.clipPath=lo,zs.count=0,zs},Bs.prototype.text=function(zs,so,oo,Ao){var Xs={};return Ao&&(this.allowHTML||!this.forExport)?this.html(zs,so,oo):(Xs.x=Math.round(so||0),oo&&(Xs.y=Math.round(oo)),Fs(zs)&&(Xs.text=zs),zs=this.createElement("text").attr(Xs),(!Ao||this.forExport&&!this.allowHTML)&&(zs.xSetter=function(lo,co,So){for(var ro=So.getElementsByTagName("tspan"),vo=So.getAttribute(co),Eo=0,mo;Eo<ro.length;Eo++)mo=ro[Eo],mo.getAttribute(co)===vo&&mo.setAttribute(co,lo);So.setAttribute(co,lo)}),zs)},Bs.prototype.fontMetrics=function(zs,so){return zs=!this.styledMode&&/px/.test(zs)||!Ts.getComputedStyle?zs||so&&so.style&&so.style.fontSize||this.style&&this.style.fontSize:so&&os.prototype.getStyle.call(so,"font-size"),zs=/px/.test(zs)?Zs(zs):12,so=24>zs?zs+3:Math.round(1.2*zs),{h:so,b:Math.round(.8*so),f:zs}},Bs.prototype.rotCorr=function(zs,so,oo){var Ao=zs;return so&&oo&&(Ao=Math.max(Ao*Math.cos(so*bs),4)),{x:-zs/3*Math.sin(so*bs),y:Ao}},Bs.prototype.pathToSegments=function(zs){for(var so=[],oo=[],Ao={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},Xs=0;Xs<zs.length;Xs++)Ns(oo[0])&&Ds(zs[Xs])&&oo.length===Ao[oo[0].toUpperCase()]&&zs.splice(Xs,0,oo[0].replace("M","L").replace("m","l")),typeof zs[Xs]=="string"&&(oo.length&&so.push(oo.slice(0)),oo.length=0),oo.push(zs[Xs]);return so.push(oo.slice(0)),so},Bs.prototype.label=function(zs,so,oo,Ao,Xs,lo,co,So,ro){return new ls(this,zs,so,oo,Ao,Xs,lo,co,So,ro)},Bs.prototype.alignElements=function(){this.alignedObjects.forEach(function(zs){return zs.align()})},Bs}(),Ms(ns.prototype,{Element:os,SVG_NS:gs,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:cs,draw:fs}),ss.registerRendererType("svg",ns,!0),ns}),Ri(ts,"Core/Renderer/HTML/HTMLElement.js",[ts["Core/Globals.js"],ts["Core/Renderer/SVG/SVGElement.js"],ts["Core/Utilities.js"]],function(rs,is,ns){var ss=this&&this.__extends||function(){var ps=function(ms,fs){return ps=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(gs,ws){gs.__proto__=ws}||function(gs,ws){for(var Ts in ws)ws.hasOwnProperty(Ts)&&(gs[Ts]=ws[Ts])},ps(ms,fs)};return function(ms,fs){function gs(){this.constructor=ms}ps(ms,fs),ms.prototype=fs===null?Object.create(fs):(gs.prototype=fs.prototype,new gs)}}(),os=rs.isFirefox,ls=rs.isMS,cs=rs.isWebKit,hs=rs.win,us=ns.css,As=ns.defined,bs=ns.extend,ys=ns.pick,Cs=ns.pInt;return function(ps){function ms(){return ps!==null&&ps.apply(this,arguments)||this}return ss(ms,ps),ms.compose=function(fs){if(ms.composedClasses.indexOf(fs)===-1){ms.composedClasses.push(fs);var gs=ms.prototype,ws=fs.prototype;ws.getSpanCorrection=gs.getSpanCorrection,ws.htmlCss=gs.htmlCss,ws.htmlGetBBox=gs.htmlGetBBox,ws.htmlUpdateTransform=gs.htmlUpdateTransform,ws.setSpanRotation=gs.setSpanRotation}return fs},ms.prototype.getSpanCorrection=function(fs,gs,ws){this.xCorr=-fs*ws,this.yCorr=-gs},ms.prototype.htmlCss=function(fs){var gs=this.element.tagName==="SPAN"&&fs&&"width"in fs,ws=ys(gs&&fs.width,void 0);if(gs){delete fs.width,this.textWidth=ws;var Ts=!0}return fs&&fs.textOverflow==="ellipsis"&&(fs.whiteSpace="nowrap",fs.overflow="hidden"),this.styles=bs(this.styles,fs),us(this.element,fs),Ts&&this.htmlUpdateTransform(),this},ms.prototype.htmlGetBBox=function(){var fs=this.element;return{x:fs.offsetLeft,y:fs.offsetTop,width:fs.offsetWidth,height:fs.offsetHeight}},ms.prototype.htmlUpdateTransform=function(){if(this.added){var fs=this.renderer,gs=this.element,ws=this.translateX||0,Ts=this.translateY||0,$s=this.x||0,Rs=this.y||0,Ps=this.textAlign||"left",Qs={left:0,center:.5,right:1}[Ps],Fs=this.styles;if(Fs=Fs&&Fs.whiteSpace,us(gs,{marginLeft:ws,marginTop:Ts}),!fs.styledMode&&this.shadows&&this.shadows.forEach(function(Ns){us(Ns,{marginLeft:ws+1,marginTop:Ts+1})}),this.inverted&&[].forEach.call(gs.childNodes,function(Ns){fs.invertChild(Ns,gs)}),gs.tagName==="SPAN"){var Is=this.rotation,Ms=this.textWidth&&Cs(this.textWidth),Ws=[Is,Ps,gs.innerHTML,this.textWidth,this.textAlign].join(),Ds=void 0;if(Ds=!1,Ms!==this.oldTextWidth){if(this.textPxLength)var _s=this.textPxLength;else us(gs,{width:"",whiteSpace:Fs||"nowrap"}),_s=gs.offsetWidth;(Ms>this.oldTextWidth||_s>Ms)&&(/[ \-]/.test(gs.textContent||gs.innerText)||gs.style.textOverflow==="ellipsis")&&(us(gs,{width:_s>Ms||Is?Ms+"px":"auto",display:"block",whiteSpace:Fs||"normal"}),this.oldTextWidth=Ms,Ds=!0)}this.hasBoxWidthChanged=Ds,Ws!==this.cTT&&(Ds=fs.fontMetrics(gs.style.fontSize,gs).b,!As(Is)||Is===(this.oldRotation||0)&&Ps===this.oldAlign||this.setSpanRotation(Is,Qs,Ds),this.getSpanCorrection(!As(Is)&&this.textPxLength||gs.offsetWidth,Ds,Qs,Is,Ps)),us(gs,{left:$s+(this.xCorr||0)+"px",top:Rs+(this.yCorr||0)+"px"}),this.cTT=Ws,this.oldRotation=Is,this.oldAlign=Ps}}else this.alignOnAdd=!0},ms.prototype.setSpanRotation=function(fs,gs,ws){var Ts={},$s=ls&&!/Edge/.test(hs.navigator.userAgent)?"-ms-transform":cs?"-webkit-transform":os?"MozTransform":hs.opera?"-o-transform":void 0;$s&&(Ts[$s]=Ts.transform="rotate("+fs+"deg)",Ts[$s+(os?"Origin":"-origin")]=Ts.transformOrigin=100*gs+"% "+ws+"px",us(this.element,Ts))},ms.composedClasses=[],ms}(is)}),Ri(ts,"Core/Renderer/HTML/HTMLRenderer.js",[ts["Core/Renderer/HTML/AST.js"],ts["Core/Renderer/SVG/SVGElement.js"],ts["Core/Renderer/SVG/SVGRenderer.js"],ts["Core/Utilities.js"]],function(rs,is,ns,ss){var os=this&&this.__extends||function(){var As=function(bs,ys){return As=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Cs,ps){Cs.__proto__=ps}||function(Cs,ps){for(var ms in ps)ps.hasOwnProperty(ms)&&(Cs[ms]=ps[ms])},As(bs,ys)};return function(bs,ys){function Cs(){this.constructor=bs}As(bs,ys),bs.prototype=ys===null?Object.create(ys):(Cs.prototype=ys.prototype,new Cs)}}(),ls=ss.attr,cs=ss.createElement,hs=ss.extend,us=ss.pick;return function(As){function bs(){return As!==null&&As.apply(this,arguments)||this}return os(bs,As),bs.compose=function(ys){return bs.composedClasses.indexOf(ys)===-1&&(bs.composedClasses.push(ys),ys.prototype.html=bs.prototype.html),ys},bs.prototype.html=function(ys,Cs,ps){var ms=this.createElement("span"),fs=ms.element,gs=ms.renderer,ws=gs.isSVG,Ts=function($s,Rs){["opacity","visibility"].forEach(function(Ps){$s[Ps+"Setter"]=function(Qs,Fs,Is){var Ms=$s.div?$s.div.style:Rs;is.prototype[Ps+"Setter"].call(this,Qs,Fs,Is),Ms&&(Ms[Fs]=Qs)}}),$s.addedSetters=!0};return ms.textSetter=function($s){$s!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,rs.setElementHTML(this.element,us($s,"")),this.textStr=$s,ms.doTransform=!0)},ws&&Ts(ms,ms.element.style),ms.xSetter=ms.ySetter=ms.alignSetter=ms.rotationSetter=function($s,Rs){Rs==="align"?ms.alignValue=ms.textAlign=$s:ms[Rs]=$s,ms.doTransform=!0},ms.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},ms.attr({text:ys,x:Math.round(Cs),y:Math.round(ps)}).css({position:"absolute"}),gs.styledMode||ms.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),fs.style.whiteSpace="nowrap",ms.css=ms.htmlCss,ws&&(ms.add=function($s){var Rs=gs.box.parentNode,Ps=[];if(this.parentGroup=$s){var Qs=$s.div;if(!Qs){for(;$s;)Ps.push($s),$s=$s.parentGroup;Ps.reverse().forEach(function(Fs){function Is(_s,Ns){Fs[Ns]=_s,Ns==="translateX"?Ds.left=_s+"px":Ds.top=_s+"px",Fs.doTransform=!0}var Ms=ls(Fs.element,"class"),Ws=Fs.styles||{};Qs=Fs.div=Fs.div||cs("div",Ms?{className:Ms}:void 0,{position:"absolute",left:(Fs.translateX||0)+"px",top:(Fs.translateY||0)+"px",display:Fs.display,opacity:Fs.opacity,cursor:Ws.cursor,pointerEvents:Ws.pointerEvents,visibility:Fs.visibility},Qs||Rs);var Ds=Qs.style;hs(Fs,{classSetter:function(_s){return function(Ns){this.element.setAttribute("class",Ns),_s.className=Ns}}(Qs),on:function(){return Ps[0].div&&ms.on.apply({element:Ps[0].div,onEvents:Fs.onEvents},arguments),Fs},translateXSetter:Is,translateYSetter:Is}),Fs.addedSetters||Ts(Fs)})}}else Qs=Rs;return Qs.appendChild(fs),ms.added=!0,ms.alignOnAdd&&ms.htmlUpdateTransform(),ms}),ms},bs.composedClasses=[],bs}(ns)}),Ri(ts,"Core/Axis/AxisDefaults.js",[],function(){var rs;return function(is){is.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},is.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){var ns=this.axis.chart.numberFormatter;return ns(this.total||0,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},is.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},is.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},is.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},is.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}}}(rs||(rs={})),rs}),Ri(ts,"Core/Foundation.js",[ts["Core/Utilities.js"]],function(rs){var is=rs.addEvent,ns=rs.isFunction,ss=rs.objectEach,os=rs.removeEvent,ls;return function(cs){cs.registerEventOptions=function(hs,us){hs.eventOptions=hs.eventOptions||{},ss(us.events,function(As,bs){hs.eventOptions[bs]!==As&&(hs.eventOptions[bs]&&(os(hs,bs,hs.eventOptions[bs]),delete hs.eventOptions[bs]),ns(As)&&(hs.eventOptions[bs]=As,is(hs,bs,As)))})}}(ls||(ls={})),ls}),Ri(ts,"Core/Axis/Tick.js",[ts["Core/FormatUtilities.js"],ts["Core/Globals.js"],ts["Core/Utilities.js"]],function(rs,is,ns){var ss=is.deg2rad,os=ns.clamp,ls=ns.correctFloat,cs=ns.defined,hs=ns.destroyObjectProperties,us=ns.extend,As=ns.fireEvent,bs=ns.isNumber,ys=ns.merge,Cs=ns.objectEach,ps=ns.pick;return is=function(){function ms(fs,gs,ws,Ts,$s){this.isNewLabel=this.isNew=!0,this.axis=fs,this.pos=gs,this.type=ws||"",this.parameters=$s||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,As(this,"init"),ws||Ts||this.addLabel()}return ms.prototype.addLabel=function(){var fs=this,gs=fs.axis,ws=gs.options,Ts=gs.chart,$s=gs.categories,Rs=gs.logarithmic,Ps=gs.names,Qs=fs.pos,Fs=ps(fs.options&&fs.options.labels,ws.labels),Is=gs.tickPositions,Ms=Qs===Is[0],Ws=Qs===Is[Is.length-1],Ds=(!Fs.step||Fs.step===1)&&gs.tickInterval===1;Is=Is.info;var _s=fs.label,Ns;if($s=this.parameters.category||($s?ps($s[Qs],Ps[Qs],Qs):Qs),Rs&&bs($s)&&($s=ls(Rs.lin2log($s))),gs.dateTime)if(Is)var Ss=Ts.time.resolveDTLFormat(ws.dateTimeLabelFormats[!ws.grid&&Is.higherRanks[Qs]||Is.unitName]),Us=Ss.main;else bs($s)&&(Us=gs.dateTime.getXDateFormat($s,ws.dateTimeLabelFormats||{}));fs.isFirst=Ms,fs.isLast=Ws;var Zs={axis:gs,chart:Ts,dateTimeLabelFormat:Us,isFirst:Ms,isLast:Ws,pos:Qs,tick:fs,tickPositionInfo:Is,value:$s};As(this,"labelFormat",Zs);var ao=function(Bs){return Fs.formatter?Fs.formatter.call(Bs,Bs):Fs.format?(Bs.text=gs.defaultLabelFormatter.call(Bs,Bs),rs.format(Fs.format,Bs,Ts)):gs.defaultLabelFormatter.call(Bs,Bs)};ws=ao.call(Zs,Zs);var js=Ss&&Ss.list;fs.shortenLabel=js?function(){for(Ns=0;Ns<js.length;Ns++)if(us(Zs,{dateTimeLabelFormat:js[Ns]}),_s.attr({text:ao.call(Zs,Zs)}),_s.getBBox().width<gs.getSlotWidth(fs)-2*Fs.padding)return;_s.attr({text:""})}:void 0,Ds&&gs._addedPlotLB&&fs.moveLabel(ws,Fs),cs(_s)||fs.movedLabel?_s&&_s.textStr!==ws&&!Ds&&(!_s.textWidth||Fs.style.width||_s.styles.width||_s.css({width:null}),_s.attr({text:ws}),_s.textPxLength=_s.getBBox().width):(fs.label=_s=fs.createLabel({x:0,y:0},ws,Fs),fs.rotation=0)},ms.prototype.createLabel=function(fs,gs,ws){var Ts=this.axis,$s=Ts.chart;return(fs=cs(gs)&&ws.enabled?$s.renderer.text(gs,fs.x,fs.y,ws.useHTML).add(Ts.labelGroup):null)&&($s.styledMode||fs.css(ys(ws.style)),fs.textPxLength=fs.getBBox().width),fs},ms.prototype.destroy=function(){hs(this,this.axis)},ms.prototype.getPosition=function(fs,gs,ws,Ts){var $s=this.axis,Rs=$s.chart,Ps=Ts&&Rs.oldChartHeight||Rs.chartHeight;return fs={x:fs?ls($s.translate(gs+ws,void 0,void 0,Ts)+$s.transB):$s.left+$s.offset+($s.opposite?(Ts&&Rs.oldChartWidth||Rs.chartWidth)-$s.right-$s.left:0),y:fs?Ps-$s.bottom+$s.offset-($s.opposite?$s.height:0):ls(Ps-$s.translate(gs+ws,void 0,void 0,Ts)-$s.transB)},fs.y=os(fs.y,-1e5,1e5),As(this,"afterGetPosition",{pos:fs}),fs},ms.prototype.getLabelPosition=function(fs,gs,ws,Ts,$s,Rs,Ps,Qs){var Fs=this.axis,Is=Fs.transA,Ms=Fs.isLinked&&Fs.linkedParent?Fs.linkedParent.reversed:Fs.reversed,Ws=Fs.staggerLines,Ds=Fs.tickRotCorr||{x:0,y:0},_s=Ts||Fs.reserveSpaceDefault?0:-Fs.labelOffset*(Fs.labelAlign==="center"?.5:1),Ns={};return ws=Fs.side===0?ws.rotation?-8:-ws.getBBox().height:Fs.side===2?Ds.y+8:Math.cos(ws.rotation*ss)*(Ds.y-ws.getBBox(!1,0).height/2),cs($s.y)&&(ws=Fs.side===0&&Fs.horiz?$s.y+ws:$s.y),fs=fs+$s.x+_s+Ds.x-(Rs&&Ts?Rs*Is*(Ms?-1:1):0),gs=gs+ws-(Rs&&!Ts?Rs*Is*(Ms?1:-1):0),Ws&&(Ts=Ps/(Qs||1)%Ws,Fs.opposite&&(Ts=Ws-Ts-1),gs+=Fs.labelOffset/Ws*Ts),Ns.x=fs,Ns.y=Math.round(gs),As(this,"afterGetLabelPosition",{pos:Ns,tickmarkOffset:Rs,index:Ps}),Ns},ms.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},ms.prototype.getMarkPath=function(fs,gs,ws,Ts,$s,Rs){return Rs.crispLine([["M",fs,gs],["L",fs+($s?0:-ws),gs+($s?ws:0)]],Ts)},ms.prototype.handleOverflow=function(fs){var gs=this.axis,ws=gs.options.labels,Ts=fs.x,$s=gs.chart.chartWidth,Rs=gs.chart.spacing,Ps=ps(gs.labelLeft,Math.min(gs.pos,Rs[3]));Rs=ps(gs.labelRight,Math.max(gs.isRadial?0:gs.pos+gs.len,$s-Rs[1]));var Qs=this.label,Fs=this.rotation,Is={left:0,center:.5,right:1}[gs.labelAlign||Qs.attr("align")],Ms=Qs.getBBox().width,Ws=gs.getSlotWidth(this),Ds={},_s=Ws,Ns=1,Ss;Fs||ws.overflow!=="justify"?0>Fs&&Ts-Is*Ms<Ps?Ss=Math.round(Ts/Math.cos(Fs*ss)-Ps):0<Fs&&Ts+Is*Ms>Rs&&(Ss=Math.round(($s-Ts)/Math.cos(Fs*ss))):($s=Ts+(1-Is)*Ms,Ts-Is*Ms<Ps?_s=fs.x+_s*(1-Is)-Ps:$s>Rs&&(_s=Rs-fs.x+_s*Is,Ns=-1),_s=Math.min(Ws,_s),_s<Ws&&gs.labelAlign==="center"&&(fs.x+=Ns*(Ws-_s-Is*(Ws-Math.min(Ms,_s)))),(Ms>_s||gs.autoRotation&&(Qs.styles||{}).width)&&(Ss=_s)),Ss&&(this.shortenLabel?this.shortenLabel():(Ds.width=Math.floor(Ss)+"px",(ws.style||{}).textOverflow||(Ds.textOverflow="ellipsis"),Qs.css(Ds)))},ms.prototype.moveLabel=function(fs,gs){var ws=this,Ts=ws.label,$s=ws.axis,Rs=$s.reversed,Ps=!1;if(Ts&&Ts.textStr===fs?(ws.movedLabel=Ts,Ps=!0,delete ws.label):Cs($s.ticks,function(Fs){Ps||Fs.isNew||Fs===ws||!Fs.label||Fs.label.textStr!==fs||(ws.movedLabel=Fs.label,Ps=!0,Fs.labelPos=ws.movedLabel.xy,delete Fs.label)}),!Ps&&(ws.labelPos||Ts)){var Qs=ws.labelPos||Ts.xy;Ts=$s.horiz?Rs?0:$s.width+$s.left:Qs.x,$s=$s.horiz?Qs.y:Rs?$s.width+$s.left:0,ws.movedLabel=ws.createLabel({x:Ts,y:$s},fs,gs),ws.movedLabel&&ws.movedLabel.attr({opacity:0})}},ms.prototype.render=function(fs,gs,ws){var Ts=this.axis,$s=Ts.horiz,Rs=this.pos,Ps=ps(this.tickmarkOffset,Ts.tickmarkOffset);Rs=this.getPosition($s,Rs,Ps,gs),Ps=Rs.x;var Qs=Rs.y;Ts=$s&&Ps===Ts.pos+Ts.len||!$s&&Qs===Ts.pos?-1:1,$s=ps(ws,this.label&&this.label.newOpacity,1),ws=ps(ws,1),this.isActive=!0,this.renderGridLine(gs,ws,Ts),this.renderMark(Rs,ws,Ts),this.renderLabel(Rs,gs,$s,fs),this.isNew=!1,As(this,"afterRender")},ms.prototype.renderGridLine=function(fs,gs,ws){var Ts=this.axis,$s=Ts.options,Rs={},Ps=this.pos,Qs=this.type,Fs=ps(this.tickmarkOffset,Ts.tickmarkOffset),Is=Ts.chart.renderer,Ms=this.gridLine,Ws=$s.gridLineWidth,Ds=$s.gridLineColor,_s=$s.gridLineDashStyle;this.type==="minor"&&(Ws=$s.minorGridLineWidth,Ds=$s.minorGridLineColor,_s=$s.minorGridLineDashStyle),Ms||(Ts.chart.styledMode||(Rs.stroke=Ds,Rs["stroke-width"]=Ws||0,Rs.dashstyle=_s),Qs||(Rs.zIndex=1),fs&&(gs=0),this.gridLine=Ms=Is.path().attr(Rs).addClass("highcharts-"+(Qs?Qs+"-":"")+"grid-line").add(Ts.gridGroup)),Ms&&(ws=Ts.getPlotLinePath({value:Ps+Fs,lineWidth:Ms.strokeWidth()*ws,force:"pass",old:fs,acrossPanes:!1}))&&Ms[fs||this.isNew?"attr":"animate"]({d:ws,opacity:gs})},ms.prototype.renderMark=function(fs,gs,ws){var Ts=this.axis,$s=Ts.options,Rs=Ts.chart.renderer,Ps=this.type,Qs=Ts.tickSize(Ps?Ps+"Tick":"tick"),Fs=fs.x;fs=fs.y;var Is=ps($s[Ps!=="minor"?"tickWidth":"minorTickWidth"],!Ps&&Ts.isXAxis?1:0);$s=$s[Ps!=="minor"?"tickColor":"minorTickColor"];var Ms=this.mark,Ws=!Ms;Qs&&(Ts.opposite&&(Qs[0]=-Qs[0]),Ms||(this.mark=Ms=Rs.path().addClass("highcharts-"+(Ps?Ps+"-":"")+"tick").add(Ts.axisGroup),Ts.chart.styledMode||Ms.attr({stroke:$s,"stroke-width":Is})),Ms[Ws?"attr":"animate"]({d:this.getMarkPath(Fs,fs,Qs[0],Ms.strokeWidth()*ws,Ts.horiz,Rs),opacity:gs}))},ms.prototype.renderLabel=function(fs,gs,ws,Ts){var $s=this.axis,Rs=$s.horiz,Ps=$s.options,Qs=this.label,Fs=Ps.labels,Is=Fs.step;$s=ps(this.tickmarkOffset,$s.tickmarkOffset);var Ms=fs.x;fs=fs.y;var Ws=!0;Qs&&bs(Ms)&&(Qs.xy=fs=this.getLabelPosition(Ms,fs,Qs,Rs,Fs,$s,Ts,Is),this.isFirst&&!this.isLast&&!Ps.showFirstLabel||this.isLast&&!this.isFirst&&!Ps.showLastLabel?Ws=!1:!Rs||Fs.step||Fs.rotation||gs||ws===0||this.handleOverflow(fs),Is&&Ts%Is&&(Ws=!1),Ws&&bs(fs.y)?(fs.opacity=ws,Qs[this.isNewLabel?"attr":"animate"](fs).show(!0),this.isNewLabel=!1):(Qs.hide(),this.isNewLabel=!0))},ms.prototype.replaceMovedLabel=function(){var fs=this.label,gs=this.axis,ws=gs.reversed;if(fs&&!this.isNew){var Ts=gs.horiz?ws?gs.left:gs.width+gs.left:fs.xy.x;ws=gs.horiz?fs.xy.y:ws?gs.width+gs.top:gs.top,fs.animate({x:Ts,y:ws,opacity:0},void 0,fs.destroy),delete this.label}gs.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},ms}(),is}),Ri(ts,"Core/Axis/Axis.js",[ts["Core/Animation/AnimationUtilities.js"],ts["Core/Axis/AxisDefaults.js"],ts["Core/Color/Color.js"],ts["Core/Defaults.js"],ts["Core/Foundation.js"],ts["Core/Globals.js"],ts["Core/Axis/Tick.js"],ts["Core/Utilities.js"]],function(rs,is,ns,ss,os,ls,cs,hs){var us=rs.animObject,As=ss.defaultOptions,bs=os.registerEventOptions,ys=ls.deg2rad,Cs=hs.arrayMax,ps=hs.arrayMin,ms=hs.clamp,fs=hs.correctFloat,gs=hs.defined,ws=hs.destroyObjectProperties,Ts=hs.erase,$s=hs.error,Rs=hs.extend,Ps=hs.fireEvent,Qs=hs.isArray,Fs=hs.isNumber,Is=hs.isString,Ms=hs.merge,Ws=hs.normalizeTickInterval,Ds=hs.objectEach,_s=hs.pick,Ns=hs.relativeLength,Ss=hs.removeEvent,Us=hs.splat,Zs=hs.syncTimeout,ao=function(js,Bs){return Ws(Bs,void 0,void 0,_s(js.options.allowDecimals,.5>Bs||js.tickAmount!==void 0),!!js.tickAmount)};return rs=function(){function js(Bs,zs){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(Bs,zs)}return js.prototype.init=function(Bs,zs){var so=zs.isX;this.chart=Bs,this.horiz=Bs.inverted&&!this.isZAxis?!so:so,this.isXAxis=so,this.coll=this.coll||(so?"xAxis":"yAxis"),Ps(this,"init",{userOptions:zs}),this.opposite=_s(zs.opposite,this.opposite),this.side=_s(zs.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(zs);var oo=this.options,Ao=oo.labels,Xs=oo.type;this.userOptions=zs,this.minPixelPadding=0,this.reversed=_s(oo.reversed,this.reversed),this.visible=oo.visible,this.zoomEnabled=oo.zoomEnabled,this.hasNames=Xs==="category"||oo.categories===!0,this.categories=oo.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=gs(oo.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=oo.minRange||oo.maxZoom,this.range=oo.range,this.offset=oo.offset||0,this.min=this.max=null,zs=_s(oo.crosshair,Us(Bs.options.tooltip.crosshairs)[so?0:1]),this.crosshair=zs===!0?{}:zs,Bs.axes.indexOf(this)===-1&&(so?Bs.axes.splice(Bs.xAxis.length,0,this):Bs.axes.push(this),Bs[this.coll].push(this)),this.series=this.series||[],Bs.inverted&&!this.isZAxis&&so&&typeof this.reversed>"u"&&(this.reversed=!0),this.labelRotation=Fs(Ao.rotation)?Ao.rotation:void 0,bs(this,oo),Ps(this,"afterInit")},js.prototype.setOptions=function(Bs){this.options=Ms(is.defaultXAxisOptions,this.coll==="yAxis"&&is.defaultYAxisOptions,[is.defaultTopAxisOptions,is.defaultRightAxisOptions,is.defaultBottomAxisOptions,is.defaultLeftAxisOptions][this.side],Ms(As[this.coll],Bs)),Ps(this,"afterSetOptions",{userOptions:Bs})},js.prototype.defaultLabelFormatter=function(Bs){var zs=this.axis;Bs=this.chart.numberFormatter;var so=Fs(this.value)?this.value:NaN,oo=zs.chart.time,Ao=this.dateTimeLabelFormat,Xs=As.lang,lo=Xs.numericSymbols;Xs=Xs.numericSymbolMagnitude||1e3;var co=zs.logarithmic?Math.abs(so):zs.tickInterval,So=lo&&lo.length;if(zs.categories)var ro="".concat(this.value);else if(Ao)ro=oo.dateFormat(Ao,so);else if(So&&1e3<=co)for(;So--&&typeof ro>"u";)zs=Math.pow(Xs,So+1),co>=zs&&10*so%zs===0&&lo[So]!==null&&so!==0&&(ro=Bs(so/zs,-1)+lo[So]);return typeof ro>"u"&&(ro=1e4<=Math.abs(so)?Bs(so,-1):Bs(so,-1,void 0,"")),ro},js.prototype.getSeriesExtremes=function(){var Bs=this,zs=Bs.chart,so;Ps(this,"getSeriesExtremes",null,function(){Bs.hasVisibleSeries=!1,Bs.dataMin=Bs.dataMax=Bs.threshold=null,Bs.softThreshold=!Bs.isXAxis,Bs.series.forEach(function(oo){if(oo.visible||!zs.options.chart.ignoreHiddenSeries){var Ao=oo.options,Xs=Ao.threshold;if(Bs.hasVisibleSeries=!0,Bs.positiveValuesOnly&&0>=Xs&&(Xs=null),Bs.isXAxis){if(Ao=oo.xData,Ao.length){Ao=Bs.logarithmic?Ao.filter(Bs.validatePositiveValue):Ao,so=oo.getXExtremes(Ao);var lo=so.min,co=so.max;Fs(lo)||lo instanceof Date||(Ao=Ao.filter(Fs),so=oo.getXExtremes(Ao),lo=so.min,co=so.max),Ao.length&&(Bs.dataMin=Math.min(_s(Bs.dataMin,lo),lo),Bs.dataMax=Math.max(_s(Bs.dataMax,co),co))}}else oo=oo.applyExtremes(),Fs(oo.dataMin)&&(lo=oo.dataMin,Bs.dataMin=Math.min(_s(Bs.dataMin,lo),lo)),Fs(oo.dataMax)&&(co=oo.dataMax,Bs.dataMax=Math.max(_s(Bs.dataMax,co),co)),gs(Xs)&&(Bs.threshold=Xs),(!Ao.softThreshold||Bs.positiveValuesOnly)&&(Bs.softThreshold=!1)}})}),Ps(this,"afterGetSeriesExtremes")},js.prototype.translate=function(Bs,zs,so,oo,Ao,Xs){var lo=this.linkedParent||this,co=oo&&lo.old?lo.old.min:lo.min;if(!Fs(co))return NaN;var So=lo.minPixelPadding;Ao=(lo.isOrdinal||lo.brokenAxis&&lo.brokenAxis.hasBreaks||lo.logarithmic&&Ao)&&lo.lin2val;var ro=1,vo=0;return oo=oo&&lo.old?lo.old.transA:lo.transA,oo||(oo=lo.transA),so&&(ro*=-1,vo=lo.len),lo.reversed&&(ro*=-1,vo-=ro*(lo.sector||lo.len)),zs?(Xs=(Bs*ro+vo-So)/oo+co,Ao&&(Xs=lo.lin2val(Xs))):(Ao&&(Bs=lo.val2lin(Bs)),Bs=ro*(Bs-co)*oo,Xs=(lo.isRadial?Bs:fs(Bs))+vo+ro*So+(Fs(Xs)?oo*Xs:0)),Xs},js.prototype.toPixels=function(Bs,zs){return this.translate(Bs,!1,!this.horiz,void 0,!0)+(zs?0:this.pos)},js.prototype.toValue=function(Bs,zs){return this.translate(Bs-(zs?0:this.pos),!0,!this.horiz,void 0,!0)},js.prototype.getPlotLinePath=function(Bs){function zs(jo,Bo,go){return yo!=="pass"&&(jo<Bo||jo>go)&&(yo?jo=ms(jo,Bo,go):Qo=!0),jo}var so=this,oo=so.chart,Ao=so.left,Xs=so.top,lo=Bs.old,co=Bs.value,So=Bs.lineWidth,ro=lo&&oo.oldChartHeight||oo.chartHeight,vo=lo&&oo.oldChartWidth||oo.chartWidth,Eo=so.transB,mo=Bs.translatedValue,yo=Bs.force,Jo,Yo,Wo,ko,Qo;return Bs={value:co,lineWidth:So,old:lo,force:yo,acrossPanes:Bs.acrossPanes,translatedValue:mo},Ps(this,"getPlotLinePath",Bs,function(jo){mo=_s(mo,so.translate(co,void 0,void 0,lo)),mo=ms(mo,-1e5,1e5),Jo=Wo=Math.round(mo+Eo),Yo=ko=Math.round(ro-mo-Eo),Fs(mo)?so.horiz?(Yo=Xs,ko=ro-so.bottom,Jo=Wo=zs(Jo,Ao,Ao+so.width)):(Jo=Ao,Wo=vo-so.right,Yo=ko=zs(Yo,Xs,Xs+so.height)):(Qo=!0,yo=!1),jo.path=Qo&&!yo?null:oo.renderer.crispLine([["M",Jo,Yo],["L",Wo,ko]],So||1)}),Bs.path},js.prototype.getLinearTickPositions=function(Bs,zs,so){var oo=fs(Math.floor(zs/Bs)*Bs);so=fs(Math.ceil(so/Bs)*Bs);var Ao=[],Xs;if(fs(oo+Bs)===oo&&(Xs=20),this.single)return[zs];for(zs=oo;zs<=so&&(Ao.push(zs),zs=fs(zs+Bs,Xs),zs!==lo);)var lo=zs;return Ao},js.prototype.getMinorTickInterval=function(){var Bs=this.options;return Bs.minorTicks===!0?_s(Bs.minorTickInterval,"auto"):Bs.minorTicks===!1?null:Bs.minorTickInterval},js.prototype.getMinorTickPositions=function(){var Bs=this.options,zs=this.tickPositions,so=this.minorTickInterval,oo=this.pointRangePadding||0,Ao=this.min-oo;oo=this.max+oo;var Xs=oo-Ao,lo=[];if(Xs&&Xs/so<this.len/3){var co=this.logarithmic;if(co)this.paddedTicks.forEach(function(So,ro,vo){ro&&lo.push.apply(lo,co.getLogTickPositions(so,vo[ro-1],vo[ro],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")lo=lo.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(so),Ao,oo,Bs.startOfWeek));else for(Bs=Ao+(zs[0]-Ao)%so;Bs<=oo&&Bs!==lo[0];Bs+=so)lo.push(Bs)}return lo.length!==0&&this.trimTicks(lo),lo},js.prototype.adjustForMinRange=function(){var Bs=this.options,zs=this.logarithmic,so=this.min,oo=this.max,Ao=0,Xs,lo,co,So;if(this.isXAxis&&typeof this.minRange>"u"&&!zs&&(gs(Bs.min)||gs(Bs.max)||gs(Bs.floor)||gs(Bs.ceiling)?this.minRange=null:(this.series.forEach(function(mo){if(co=mo.xData,So=mo.xIncrement?1:co.length-1,1<co.length)for(Xs=So;0<Xs;Xs--)lo=co[Xs]-co[Xs-1],(!Ao||lo<Ao)&&(Ao=lo)}),this.minRange=Math.min(5*Ao,this.dataMax-this.dataMin))),oo-so<this.minRange){var ro=this.dataMax-this.dataMin>=this.minRange,vo=this.minRange,Eo=(vo-oo+so)/2;Eo=[so-Eo,_s(Bs.min,so-Eo)],ro&&(Eo[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),so=Cs(Eo),oo=[so+vo,_s(Bs.max,so+vo)],ro&&(oo[2]=zs?zs.log2lin(this.dataMax):this.dataMax),oo=ps(oo),oo-so<vo&&(Eo[0]=oo-vo,Eo[1]=_s(Bs.min,oo-vo),so=Cs(Eo))}this.min=so,this.max=oo},js.prototype.getClosest=function(){var Bs;return this.categories?Bs=1:this.series.forEach(function(zs){var so=zs.closestPointRange,oo=zs.visible||!zs.chart.options.chart.ignoreHiddenSeries;!zs.noSharedTooltip&&gs(so)&&oo&&(Bs=gs(Bs)?Math.min(Bs,so):so)}),Bs},js.prototype.nameToX=function(Bs){var zs=Qs(this.options.categories),so=zs?this.categories:this.names,oo=Bs.options.x;if(Bs.series.requireSorting=!1,gs(oo)||(oo=this.options.uniqueNames&&so?zs?so.indexOf(Bs.name):_s(so.keys[Bs.name],-1):Bs.series.autoIncrement()),oo===-1){if(!zs&&so)var Ao=so.length}else Ao=oo;return typeof Ao<"u"?(this.names[Ao]=Bs.name,this.names.keys[Bs.name]=Ao):Bs.x&&(Ao=Bs.x),Ao},js.prototype.updateNames=function(){var Bs=this,zs=this.names;0<zs.length&&(Object.keys(zs.keys).forEach(function(so){delete zs.keys[so]}),zs.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(so){so.xIncrement=null,(!so.points||so.isDirtyData)&&(Bs.max=Math.max(Bs.max,so.xData.length-1),so.processData(),so.generatePoints()),so.data.forEach(function(oo,Ao){if(oo&&oo.options&&typeof oo.name<"u"){var Xs=Bs.nameToX(oo);typeof Xs<"u"&&Xs!==oo.x&&(oo.x=Xs,so.xData[Ao]=Xs)}})}))},js.prototype.setAxisTranslation=function(){var Bs=this,zs=Bs.max-Bs.min,so=Bs.linkedParent,oo=!!Bs.categories,Ao=Bs.isXAxis,Xs=Bs.axisPointRange||0,lo=0,co=0,So=Bs.transA;if(Ao||oo||Xs){var ro=Bs.getClosest();so?(lo=so.minPointOffset,co=so.pointRangePadding):Bs.series.forEach(function(vo){var Eo=oo?1:Ao?_s(vo.options.pointRange,ro,0):Bs.axisPointRange||0,mo=vo.options.pointPlacement;Xs=Math.max(Xs,Eo),(!Bs.single||oo)&&(vo=vo.is("xrange")?!Ao:Ao,lo=Math.max(lo,vo&&Is(mo)?0:Eo/2),co=Math.max(co,vo&&mo==="on"?0:Eo))}),so=Bs.ordinal&&Bs.ordinal.slope&&ro?Bs.ordinal.slope/ro:1,Bs.minPointOffset=lo*=so,Bs.pointRangePadding=co*=so,Bs.pointRange=Math.min(Xs,Bs.single&&oo?1:zs),Ao&&(Bs.closestPointRange=ro)}Bs.translationSlope=Bs.transA=So=Bs.staticScale||Bs.len/(zs+co||1),Bs.transB=Bs.horiz?Bs.left:Bs.bottom,Bs.minPixelPadding=So*lo,Ps(this,"afterSetAxisTranslation")},js.prototype.minFromRange=function(){return this.max-this.range},js.prototype.setTickInterval=function(Bs){var zs=this.chart,so=this.logarithmic,oo=this.options,Ao=this.isXAxis,Xs=this.isLinked,lo=oo.tickPixelInterval,co=this.categories,So=this.softThreshold,ro=oo.maxPadding,vo=oo.minPadding,Eo=Fs(oo.tickInterval)&&0<=oo.tickInterval?oo.tickInterval:void 0,mo=Fs(this.threshold)?this.threshold:null;this.dateTime||co||Xs||this.getTickAmount();var yo=_s(this.userMin,oo.min),Jo=_s(this.userMax,oo.max);if(Xs){this.linkedParent=zs[this.coll][oo.linkedTo];var Yo=this.linkedParent.getExtremes();this.min=_s(Yo.min,Yo.dataMin),this.max=_s(Yo.max,Yo.dataMax),oo.type!==this.linkedParent.options.type&&$s(11,1,zs)}else{if(So&&gs(mo)){if(this.dataMin>=mo)Yo=mo,vo=0;else if(this.dataMax<=mo){var Wo=mo;ro=0}}this.min=_s(yo,Yo,this.dataMin),this.max=_s(Jo,Wo,this.dataMax)}if(so&&(this.positiveValuesOnly&&!Bs&&0>=Math.min(this.min,_s(this.dataMin,this.min))&&$s(10,1,zs),this.min=fs(so.log2lin(this.min),16),this.max=fs(so.log2lin(this.max),16)),this.range&&gs(this.max)&&(this.userMin=this.min=yo=Math.max(this.dataMin,this.minFromRange()),this.userMax=Jo=this.max,this.range=null),Ps(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(co||this.axisPointRange||this.stacking&&this.stacking.usePercentage||Xs)&&gs(this.min)&&gs(this.max)&&(zs=this.max-this.min)&&(!gs(yo)&&vo&&(this.min-=zs*vo),!gs(Jo)&&ro&&(this.max+=zs*ro)),Fs(this.userMin)||(Fs(oo.softMin)&&oo.softMin<this.min&&(this.min=yo=oo.softMin),Fs(oo.floor)&&(this.min=Math.max(this.min,oo.floor))),Fs(this.userMax)||(Fs(oo.softMax)&&oo.softMax>this.max&&(this.max=Jo=oo.softMax),Fs(oo.ceiling)&&(this.max=Math.min(this.max,oo.ceiling))),So&&gs(this.dataMin)&&(mo=mo||0,!gs(yo)&&this.min<mo&&this.dataMin>=mo?this.min=this.options.minRange?Math.min(mo,this.max-this.minRange):mo:!gs(Jo)&&this.max>mo&&this.dataMax<=mo&&(this.max=this.options.minRange?Math.max(mo,this.min+this.minRange):mo)),Fs(this.min)&&Fs(this.max)&&!this.chart.polar&&this.min>this.max&&(gs(this.options.min)?this.max=this.min:gs(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||typeof this.min>"u"||typeof this.max>"u"?1:Xs&&this.linkedParent&&!Eo&&lo===this.linkedParent.options.tickPixelInterval?Eo=this.linkedParent.tickInterval:_s(Eo,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,co?1:(this.max-this.min)*lo/Math.max(this.len,lo)),Ao&&!Bs){var ko=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(Qo){Qo.forceCrop=Qo.forceCropping&&Qo.forceCropping(),Qo.processData(ko)}),Ps(this,"postProcessData",{hasExtremesChanged:ko})}this.setAxisTranslation(),Ps(this,"initialAxisTranslation"),this.pointRange&&!Eo&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),Bs=_s(oo.minTickInterval,this.dateTime&&!this.series.some(function(Qo){return Qo.noSharedTooltip})?this.closestPointRange:0),!Eo&&this.tickInterval<Bs&&(this.tickInterval=Bs),this.dateTime||this.logarithmic||Eo||(this.tickInterval=ao(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},js.prototype.setTickPositions=function(){var Bs=this.options,zs=Bs.tickPositions,so=Bs.tickPositioner,oo=this.getMinorTickInterval(),Ao=this.hasVerticalPanning(),Xs=this.coll==="colorAxis",lo=(Xs||!Ao)&&Bs.startOnTick;Ao=(Xs||!Ao)&&Bs.endOnTick,Xs=[];var co;if(this.tickmarkOffset=this.categories&&Bs.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=oo==="auto"&&this.tickInterval?this.tickInterval/5:oo,this.single=this.min===this.max&&gs(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||Bs.allowDecimals!==!1),zs)Xs=zs.slice();else if(Fs(this.min)&&Fs(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)Xs=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,Bs.units),this.min,this.max,Bs.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)Xs=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(oo=Bs=this.tickInterval;oo<=2*Bs&&(Xs=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&Xs.length>this.tickAmount);)this.tickInterval=ao(this,oo*=1.1);else Xs=[this.min,this.max],$s(19,!1,this.chart);Xs.length>this.len&&(Xs=[Xs[0],Xs[Xs.length-1]],Xs[0]===Xs[1]&&(Xs.length=1)),so&&(this.tickPositions=Xs,(co=so.apply(this,[this.min,this.max]))&&(Xs=co))}this.tickPositions=Xs,this.paddedTicks=Xs.slice(0),this.trimTicks(Xs,lo,Ao),!this.isLinked&&Fs(this.min)&&Fs(this.max)&&(this.single&&2>Xs.length&&!this.categories&&!this.series.some(function(So){return So.is("heatmap")&&So.options.pointPlacement==="between"})&&(this.min-=.5,this.max+=.5),zs||co||this.adjustTickAmount()),Ps(this,"afterSetTickPositions")},js.prototype.trimTicks=function(Bs,zs,so){var oo=Bs[0],Ao=Bs[Bs.length-1],Xs=!this.isOrdinal&&this.minPointOffset||0;if(Ps(this,"trimTicks"),!this.isLinked){if(zs&&oo!==-1/0)this.min=oo;else for(;this.min-Xs>Bs[0];)Bs.shift();if(so)this.max=Ao;else for(;this.max+Xs<Bs[Bs.length-1];)Bs.pop();Bs.length===0&&gs(oo)&&!this.options.tickPositions&&Bs.push((Ao+oo)/2)}},js.prototype.alignToOthers=function(){var Bs=this,zs=[this],so=Bs.options,oo=this.coll==="yAxis"&&this.chart.options.chart.alignThresholds,Ao=[],Xs;if(Bs.thresholdAlignment=void 0,(this.chart.options.chart.alignTicks!==!1&&so.alignTicks||oo)&&so.startOnTick!==!1&&so.endOnTick!==!1&&!Bs.logarithmic){var lo=function(ro){var vo=ro.options;return[ro.horiz?vo.left:vo.top,vo.width,vo.height,vo.pane].join()},co=lo(this);this.chart[this.coll].forEach(function(ro){var vo=ro.series;vo.length&&vo.some(function(Eo){return Eo.visible})&&ro!==Bs&&lo(ro)===co&&(Xs=!0,zs.push(ro))})}if(Xs&&oo){zs.forEach(function(ro){ro=ro.getThresholdAlignment(Bs),Fs(ro)&&Ao.push(ro)});var So=1<Ao.length?Ao.reduce(function(ro,vo){return ro+vo},0)/Ao.length:void 0;zs.forEach(function(ro){ro.thresholdAlignment=So})}return Xs},js.prototype.getThresholdAlignment=function(Bs){if((!Fs(this.dataMin)||this!==Bs&&this.series.some(function(zs){return zs.isDirty||zs.isDirtyData}))&&this.getSeriesExtremes(),Fs(this.threshold))return Bs=ms((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(Bs=1-Bs),Bs},js.prototype.getTickAmount=function(){var Bs=this.options,zs=Bs.tickPixelInterval,so=Bs.tickAmount;!gs(Bs.tickInterval)&&!so&&this.len<zs&&!this.isRadial&&!this.logarithmic&&Bs.startOnTick&&Bs.endOnTick&&(so=2),!so&&this.alignToOthers()&&(so=Math.ceil(this.len/zs)+1),4>so&&(this.finalTickAmt=so,so=5),this.tickAmount=so},js.prototype.adjustTickAmount=function(){var Bs=this,zs=Bs.finalTickAmt,so=Bs.max,oo=Bs.min,Ao=Bs.options,Xs=Bs.tickPositions,lo=Bs.tickAmount,co=Bs.thresholdAlignment,So=Xs&&Xs.length,ro=_s(Bs.threshold,Bs.softThreshold?0:null),vo=Bs.tickInterval;if(Fs(co)){var Eo=.5>co?Math.ceil(co*(lo-1)):Math.floor(co*(lo-1));Ao.reversed&&(Eo=lo-1-Eo)}if(Bs.hasData()&&Fs(oo)&&Fs(so)){if(co=function(){Bs.transA*=(So-1)/(lo-1),Bs.min=Ao.startOnTick?Xs[0]:Math.min(oo,Xs[0]),Bs.max=Ao.endOnTick?Xs[Xs.length-1]:Math.max(so,Xs[Xs.length-1])},Fs(Eo)&&Fs(Bs.threshold)){for(;Xs[Eo]!==ro||Xs.length!==lo||Xs[0]>oo||Xs[Xs.length-1]<so;){for(Xs.length=0,Xs.push(Bs.threshold);Xs.length<lo;)Xs[Eo]===void 0||Xs[Eo]>Bs.threshold?Xs.unshift(fs(Xs[0]-vo)):Xs.push(fs(Xs[Xs.length-1]+vo));if(vo>8*Bs.tickInterval)break;vo*=2}co()}else if(So<lo){for(;Xs.length<lo;)Xs.length%2||oo===ro?Xs.push(fs(Xs[Xs.length-1]+vo)):Xs.unshift(fs(Xs[0]-vo));co()}if(gs(zs)){for(vo=ro=Xs.length;vo--;)(zs===3&&vo%2===1||2>=zs&&0<vo&&vo<ro-1)&&Xs.splice(vo,1);Bs.finalTickAmt=void 0}}},js.prototype.setScale=function(){var Bs=!1,zs=!1;this.series.forEach(function(oo){Bs=Bs||oo.isDirtyData||oo.isDirty,zs=zs||oo.xAxis&&oo.xAxis.isDirty||!1}),this.setAxisSize();var so=this.len!==(this.old&&this.old.len);so||Bs||zs||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=so||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),Bs&&this.panningState&&(this.panningState.isDirty=!0),Ps(this,"afterSetScale")},js.prototype.setExtremes=function(Bs,zs,so,oo,Ao){var Xs=this,lo=Xs.chart;so=_s(so,!0),Xs.series.forEach(function(co){delete co.kdTree}),Ao=Rs(Ao,{min:Bs,max:zs}),Ps(Xs,"setExtremes",Ao,function(){Xs.userMin=Bs,Xs.userMax=zs,Xs.eventArgs=Ao,so&&lo.redraw(oo)})},js.prototype.zoom=function(Bs,zs){var so=this,oo=this.dataMin,Ao=this.dataMax,Xs=this.options,lo=Math.min(oo,_s(Xs.min,oo)),co=Math.max(Ao,_s(Xs.max,Ao));return Bs={newMin:Bs,newMax:zs},Ps(this,"zoom",Bs,function(So){var ro=So.newMin,vo=So.newMax;(ro!==so.min||vo!==so.max)&&(so.allowZoomOutside||(gs(oo)&&(ro<lo&&(ro=lo),ro>co&&(ro=co)),gs(Ao)&&(vo<lo&&(vo=lo),vo>co&&(vo=co))),so.displayBtn=typeof ro<"u"||typeof vo<"u",so.setExtremes(ro,vo,!1,void 0,{trigger:"zoom"})),So.zoomed=!0}),Bs.zoomed},js.prototype.setAxisSize=function(){var Bs=this.chart,zs=this.options,so=zs.offsets||[0,0,0,0],oo=this.horiz,Ao=this.width=Math.round(Ns(_s(zs.width,Bs.plotWidth-so[3]+so[1]),Bs.plotWidth)),Xs=this.height=Math.round(Ns(_s(zs.height,Bs.plotHeight-so[0]+so[2]),Bs.plotHeight)),lo=this.top=Math.round(Ns(_s(zs.top,Bs.plotTop+so[0]),Bs.plotHeight,Bs.plotTop));zs=this.left=Math.round(Ns(_s(zs.left,Bs.plotLeft+so[3]),Bs.plotWidth,Bs.plotLeft)),this.bottom=Bs.chartHeight-Xs-lo,this.right=Bs.chartWidth-Ao-zs,this.len=Math.max(oo?Ao:Xs,0),this.pos=oo?zs:lo},js.prototype.getExtremes=function(){var Bs=this.logarithmic;return{min:Bs?fs(Bs.lin2log(this.min)):this.min,max:Bs?fs(Bs.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},js.prototype.getThreshold=function(Bs){var zs=this.logarithmic,so=zs?zs.lin2log(this.min):this.min;return zs=zs?zs.lin2log(this.max):this.max,Bs===null||Bs===-1/0?Bs=so:Bs===1/0?Bs=zs:so>Bs?Bs=so:zs<Bs&&(Bs=zs),this.translate(Bs,0,1,0,1)},js.prototype.autoLabelAlign=function(Bs){var zs=(_s(Bs,0)-90*this.side+720)%360;return Bs={align:"center"},Ps(this,"autoLabelAlign",Bs,function(so){15<zs&&165>zs?so.align="right":195<zs&&345>zs&&(so.align="left")}),Bs.align},js.prototype.tickSize=function(Bs){var zs=this.options,so=_s(zs[Bs==="tick"?"tickWidth":"minorTickWidth"],Bs==="tick"&&this.isXAxis&&!this.categories?1:0),oo=zs[Bs==="tick"?"tickLength":"minorTickLength"];if(so&&oo){zs[Bs+"Position"]==="inside"&&(oo=-oo);var Ao=[oo,so]}return Bs={tickSize:Ao},Ps(this,"afterTickSize",Bs),Bs.tickSize},js.prototype.labelMetrics=function(){var Bs=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[Bs]&&this.ticks[Bs].label)},js.prototype.unsquish=function(){var Bs=this.options.labels,zs=this.horiz,so=this.tickInterval,oo=this.len/(((this.categories?1:0)+this.max-this.min)/so),Ao=Bs.rotation,Xs=this.labelMetrics(),lo=Math.max(this.max-this.min,0),co=function(Wo){var ko=Wo/(oo||1);return ko=1<ko?Math.ceil(ko):1,ko*so>lo&&Wo!==1/0&&oo!==1/0&&lo&&(ko=Math.ceil(lo/so)),fs(ko*so)},So=so,ro=Number.MAX_VALUE;if(zs){if(!Bs.staggerLines)if(Fs(Ao))var vo=[Ao];else oo<Bs.autoRotationLimit&&(vo=Bs.autoRotation);if(vo)for(var Eo=zs=void 0,mo=0,yo=vo;mo<yo.length;mo++){var Jo=yo[mo];if((Jo===Ao||Jo&&-90<=Jo&&90>=Jo)&&(zs=co(Math.abs(Xs.h/Math.sin(ys*Jo))),Eo=zs+Math.abs(Jo/360),Eo<ro)){ro=Eo;var Yo=Jo;So=zs}}}else So=co(Xs.h);return this.autoRotation=vo,this.labelRotation=_s(Yo,Fs(Ao)?Ao:0),Bs.step?so:So},js.prototype.getSlotWidth=function(Bs){var zs=this.chart,so=this.horiz,oo=this.options.labels,Ao=Math.max(this.tickPositions.length-(this.categories?0:1),1),Xs=zs.margin[3];if(Bs&&Fs(Bs.slotWidth))return Bs.slotWidth;if(so&&2>oo.step)return oo.rotation?0:(this.staggerLines||1)*this.len/Ao;if(!so){if(Bs=oo.style.width,Bs!==void 0)return parseInt(String(Bs),10);if(Xs)return Xs-zs.spacing[3]}return .33*zs.chartWidth},js.prototype.renderUnsquish=function(){var Bs=this.chart,zs=Bs.renderer,so=this.tickPositions,oo=this.ticks,Ao=this.options.labels,Xs=Ao.style,lo=this.horiz,co=this.getSlotWidth(),So=Math.max(1,Math.round(co-2*Ao.padding)),ro={},vo=this.labelMetrics(),Eo=Xs.textOverflow,mo=0;if(Is(Ao.rotation)||(ro.rotation=Ao.rotation||0),so.forEach(function(Wo){Wo=oo[Wo],Wo.movedLabel&&Wo.replaceMovedLabel(),Wo&&Wo.label&&Wo.label.textPxLength>mo&&(mo=Wo.label.textPxLength)}),this.maxLabelLength=mo,this.autoRotation)mo>So&&mo>vo.h?ro.rotation=this.labelRotation:this.labelRotation=0;else if(co){var yo=So;if(!Eo){var Jo="clip";for(So=so.length;!lo&&So--;){var Yo=so[So];(Yo=oo[Yo].label)&&(Yo.styles&&Yo.styles.textOverflow==="ellipsis"?Yo.css({textOverflow:"clip"}):Yo.textPxLength>co&&Yo.css({width:co+"px"}),Yo.getBBox().height>this.len/so.length-(vo.h-vo.f)&&(Yo.specificTextOverflow="ellipsis"))}}}ro.rotation&&(yo=mo>.5*Bs.chartHeight?.33*Bs.chartHeight:mo,Eo||(Jo="ellipsis")),(this.labelAlign=Ao.align||this.autoLabelAlign(this.labelRotation))&&(ro.align=this.labelAlign),so.forEach(function(Wo){var ko=(Wo=oo[Wo])&&Wo.label,Qo=Xs.width,jo={};ko&&(ko.attr(ro),Wo.shortenLabel?Wo.shortenLabel():yo&&!Qo&&Xs.whiteSpace!=="nowrap"&&(yo<ko.textPxLength||ko.element.tagName==="SPAN")?(jo.width=yo+"px",Eo||(jo.textOverflow=ko.specificTextOverflow||Jo),ko.css(jo)):ko.styles&&ko.styles.width&&!jo.width&&!Qo&&ko.css({width:null}),delete ko.specificTextOverflow,Wo.rotation=ro.rotation)},this),this.tickRotCorr=zs.rotCorr(vo.b,this.labelRotation||0,this.side!==0)},js.prototype.hasData=function(){return this.series.some(function(Bs){return Bs.hasData()})||this.options.showEmpty&&gs(this.min)&&gs(this.max)},js.prototype.addTitle=function(Bs){var zs=this.chart.renderer,so=this.horiz,oo=this.opposite,Ao=this.options.title,Xs=this.chart.styledMode,lo;this.axisTitle||((lo=Ao.textAlign)||(lo=(so?{low:"left",middle:"center",high:"right"}:{low:oo?"right":"left",middle:"center",high:oo?"left":"right"})[Ao.align]),this.axisTitle=zs.text(Ao.text||"",0,0,Ao.useHTML).attr({zIndex:7,rotation:Ao.rotation,align:lo}).addClass("highcharts-axis-title"),Xs||this.axisTitle.css(Ms(Ao.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),Xs||Ao.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[Bs?"show":"hide"](Bs)},js.prototype.generateTick=function(Bs){var zs=this.ticks;zs[Bs]?zs[Bs].addLabel():zs[Bs]=new cs(this,Bs)},js.prototype.getOffset=function(){var Bs=this,zs=this,so=zs.chart,oo=zs.horiz,Ao=zs.options,Xs=zs.side,lo=zs.ticks,co=zs.tickPositions,So=zs.coll,ro=zs.axisParent,vo=so.renderer,Eo=so.inverted&&!zs.isZAxis?[1,0,3,2][Xs]:Xs,mo=zs.hasData(),yo=Ao.title,Jo=Ao.labels,Yo=so.axisOffset;so=so.clipOffset;var Wo=[-1,1,1,-1][Xs],ko=Ao.className,Qo,jo=0,Bo=0,go=0;if(zs.showAxis=Qo=mo||Ao.showEmpty,zs.staggerLines=zs.horiz&&Jo.staggerLines||void 0,!zs.axisGroup){var _o=function(uo,Co,Oo){return vo.g(uo).attr({zIndex:Oo}).addClass("highcharts-".concat(So.toLowerCase()).concat(Co," ")+(Bs.isRadial?"highcharts-radial-axis".concat(Co," "):"")+(ko||"")).add(ro)};zs.gridGroup=_o("grid","-grid",Ao.gridZIndex),zs.axisGroup=_o("axis","",Ao.zIndex),zs.labelGroup=_o("axis-labels","-labels",Jo.zIndex)}if(mo||zs.isLinked?(co.forEach(function(uo){zs.generateTick(uo)}),zs.renderUnsquish(),zs.reserveSpaceDefault=Xs===0||Xs===2||{1:"left",3:"right"}[Xs]===zs.labelAlign,_s(Jo.reserveSpace,zs.labelAlign==="center"?!0:null,zs.reserveSpaceDefault)&&co.forEach(function(uo){go=Math.max(lo[uo].getLabelSize(),go)}),zs.staggerLines&&(go*=zs.staggerLines),zs.labelOffset=go*(zs.opposite?-1:1)):Ds(lo,function(uo,Co){uo.destroy(),delete lo[Co]}),yo&&yo.text&&yo.enabled!==!1&&(zs.addTitle(Qo),Qo&&yo.reserveSpace!==!1)){zs.titleOffset=jo=zs.axisTitle.getBBox()[oo?"height":"width"];var To=yo.offset;Bo=gs(To)?0:_s(yo.margin,oo?5:10)}zs.renderLine(),zs.offset=Wo*_s(Ao.offset,Yo[Xs]?Yo[Xs]+(Ao.margin||0):0),zs.tickRotCorr=zs.tickRotCorr||{x:0,y:0},yo=Xs===0?-zs.labelMetrics().h:Xs===2?zs.tickRotCorr.y:0,mo=Math.abs(go)+Bo,go&&(mo=mo-yo+Wo*(oo?_s(Jo.y,zs.tickRotCorr.y+8*Wo):Jo.x)),zs.axisTitleMargin=_s(To,mo),zs.getMaxLabelDimensions&&(zs.maxLabelDimensions=zs.getMaxLabelDimensions(lo,co)),So!=="colorAxis"&&(oo=this.tickSize("tick"),Yo[Xs]=Math.max(Yo[Xs],(zs.axisTitleMargin||0)+jo+Wo*zs.offset,mo,co&&co.length&&oo?oo[0]+Wo*zs.offset:0),Ao=!zs.axisLine||Ao.offset?0:2*Math.floor(zs.axisLine.strokeWidth()/2),so[Eo]=Math.max(so[Eo],Ao)),Ps(this,"afterGetOffset")},js.prototype.getLinePath=function(Bs){var zs=this.chart,so=this.opposite,oo=this.offset,Ao=this.horiz,Xs=this.left+(so?this.width:0)+oo;return oo=zs.chartHeight-this.bottom-(so?this.height:0)+oo,so&&(Bs*=-1),zs.renderer.crispLine([["M",Ao?this.left:Xs,Ao?oo:this.top],["L",Ao?zs.chartWidth-this.right:Xs,Ao?oo:zs.chartHeight-this.bottom]],Bs)},js.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},js.prototype.getTitlePosition=function(){var Bs=this.horiz,zs=this.left,so=this.top,oo=this.len,Ao=this.options.title,Xs=Bs?zs:so,lo=this.opposite,co=this.offset,So=Ao.x,ro=Ao.y,vo=this.axisTitle,Eo=this.chart.renderer.fontMetrics(Ao.style.fontSize,vo);return vo=vo?Math.max(vo.getBBox(!1,0).height-Eo.h-1,0):0,oo={low:Xs+(Bs?0:oo),middle:Xs+oo/2,high:Xs+(Bs?oo:0)}[Ao.align],zs=(Bs?so+this.height:zs)+(Bs?1:-1)*(lo?-1:1)*(this.axisTitleMargin||0)+[-vo,vo,Eo.f,-vo][this.side],Bs={x:Bs?oo+So:zs+(lo?this.width:0)+co+So,y:Bs?zs+ro-(lo?this.height:0)+co:oo+ro},Ps(this,"afterGetTitlePosition",{titlePosition:Bs}),Bs},js.prototype.renderMinorTick=function(Bs,zs){var so=this.minorTicks;so[Bs]||(so[Bs]=new cs(this,Bs,"minor")),zs&&so[Bs].isNew&&so[Bs].render(null,!0),so[Bs].render(null,!1,1)},js.prototype.renderTick=function(Bs,zs,so){var oo=this.ticks;(!this.isLinked||Bs>=this.min&&Bs<=this.max||this.grid&&this.grid.isColumn)&&(oo[Bs]||(oo[Bs]=new cs(this,Bs)),so&&oo[Bs].isNew&&oo[Bs].render(zs,!0,-1),oo[Bs].render(zs))},js.prototype.render=function(){var Bs=this,zs=Bs.chart,so=Bs.logarithmic,oo=Bs.options,Ao=Bs.isLinked,Xs=Bs.tickPositions,lo=Bs.axisTitle,co=Bs.ticks,So=Bs.minorTicks,ro=Bs.alternateBands,vo=oo.stackLabels,Eo=oo.alternateGridColor,mo=Bs.tickmarkOffset,yo=Bs.axisLine,Jo=Bs.showAxis,Yo=us(zs.renderer.globalAnimation),Wo,ko;if(Bs.labelEdge.length=0,Bs.overlap=!1,[co,So,ro].forEach(function(jo){Ds(jo,function(Bo){Bo.isActive=!1})}),Bs.hasData()||Ao){var Qo=Bs.chart.hasRendered&&Bs.old&&Fs(Bs.old.min);Bs.minorTickInterval&&!Bs.categories&&Bs.getMinorTickPositions().forEach(function(jo){Bs.renderMinorTick(jo,Qo)}),Xs.length&&(Xs.forEach(function(jo,Bo){Bs.renderTick(jo,Bo,Qo)}),mo&&(Bs.min===0||Bs.single)&&(co[-1]||(co[-1]=new cs(Bs,-1,null,!0)),co[-1].render(-1))),Eo&&Xs.forEach(function(jo,Bo){ko=typeof Xs[Bo+1]<"u"?Xs[Bo+1]+mo:Bs.max-mo,Bo%2===0&&jo<Bs.max&&ko<=Bs.max+(zs.polar?-mo:mo)&&(ro[jo]||(ro[jo]=new ls.PlotLineOrBand(Bs)),Wo=jo+mo,ro[jo].options={from:so?so.lin2log(Wo):Wo,to:so?so.lin2log(ko):ko,color:Eo,className:"highcharts-alternate-grid"},ro[jo].render(),ro[jo].isActive=!0)}),Bs._addedPlotLB||(Bs._addedPlotLB=!0,(oo.plotLines||[]).concat(oo.plotBands||[]).forEach(function(jo){Bs.addPlotBandOrLine(jo)}))}[co,So,ro].forEach(function(jo){var Bo=[],go=Yo.duration;Ds(jo,function(_o,To){_o.isActive||(_o.render(To,!1,0),_o.isActive=!1,Bo.push(To))}),Zs(function(){for(var _o=Bo.length;_o--;)jo[Bo[_o]]&&!jo[Bo[_o]].isActive&&(jo[Bo[_o]].destroy(),delete jo[Bo[_o]])},jo!==ro&&zs.hasRendered&&go?go:0)}),yo&&(yo[yo.isPlaced?"animate":"attr"]({d:this.getLinePath(yo.strokeWidth())}),yo.isPlaced=!0,yo[Jo?"show":"hide"](Jo)),lo&&Jo&&(oo=Bs.getTitlePosition(),lo[lo.isNew?"attr":"animate"](oo),lo.isNew=!1),vo&&vo.enabled&&Bs.stacking&&Bs.stacking.renderStackTotals(),Bs.old={len:Bs.len,max:Bs.max,min:Bs.min,transA:Bs.transA,userMax:Bs.userMax,userMin:Bs.userMin},Bs.isDirty=!1,Ps(this,"afterRender")},js.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(Bs){Bs.render()})),this.series.forEach(function(Bs){Bs.isDirty=!0})},js.prototype.getKeepProps=function(){return this.keepProps||js.keepProps},js.prototype.destroy=function(Bs){var zs=this,so=zs.plotLinesAndBands,oo=this.eventOptions;if(Ps(this,"destroy",{keepEvents:Bs}),Bs||Ss(zs),[zs.ticks,zs.minorTicks,zs.alternateBands].forEach(function(Xs){ws(Xs)}),so)for(Bs=so.length;Bs--;)so[Bs].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(Xs){zs[Xs]&&(zs[Xs]=zs[Xs].destroy())});for(var Ao in zs.plotLinesAndBandsGroups)zs.plotLinesAndBandsGroups[Ao]=zs.plotLinesAndBandsGroups[Ao].destroy();Ds(zs,function(Xs,lo){zs.getKeepProps().indexOf(lo)===-1&&delete zs[lo]}),this.eventOptions=oo},js.prototype.drawCrosshair=function(Bs,zs){var so=this.crosshair,oo=_s(so&&so.snap,!0),Ao=this.chart,Xs,lo=this.cross;if(Ps(this,"drawCrosshair",{e:Bs,point:zs}),Bs||(Bs=this.cross&&this.cross.e),so&&(gs(zs)||!oo)!==!1){if(oo?gs(zs)&&(Xs=_s(this.coll!=="colorAxis"?zs.crosshairPos:null,this.isXAxis?zs.plotX:this.len-zs.plotY)):Xs=Bs&&(this.horiz?Bs.chartX-this.pos:this.len-Bs.chartY+this.pos),gs(Xs)){var co={value:zs&&(this.isXAxis?zs.x:_s(zs.stackY,zs.y)),translatedValue:Xs};Ao.polar&&Rs(co,{isCrosshair:!0,chartX:Bs&&Bs.chartX,chartY:Bs&&Bs.chartY,point:zs}),co=this.getPlotLinePath(co)||null}if(!gs(co)){this.hideCrosshair();return}oo=this.categories&&!this.isRadial,lo||(this.cross=lo=Ao.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(oo?"category ":"thin ")+(so.className||"")).attr({zIndex:_s(so.zIndex,2)}).add(),Ao.styledMode||(lo.attr({stroke:so.color||(oo?ns.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":_s(so.width,1)}).css({"pointer-events":"none"}),so.dashStyle&&lo.attr({dashstyle:so.dashStyle}))),lo.show().attr({d:co}),oo&&!so.width&&lo.attr({"stroke-width":this.transA}),this.cross.e=Bs}else this.hideCrosshair();Ps(this,"afterDrawCrosshair",{e:Bs,point:zs})},js.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),Ps(this,"afterHideCrosshair")},js.prototype.hasVerticalPanning=function(){var Bs=this.chart.options.chart.panning;return!!(Bs&&Bs.enabled&&/y/.test(Bs.type))},js.prototype.validatePositiveValue=function(Bs){return Fs(Bs)&&0<Bs},js.prototype.update=function(Bs,zs){var so=this.chart;Bs=Ms(this.userOptions,Bs),this.destroy(!0),this.init(so,Bs),so.isDirtyBox=!0,_s(zs,!0)&&so.redraw()},js.prototype.remove=function(Bs){for(var zs=this.chart,so=this.coll,oo=this.series,Ao=oo.length;Ao--;)oo[Ao]&&oo[Ao].remove(!1);Ts(zs.axes,this),Ts(zs[so],this),zs[so].forEach(function(Xs,lo){Xs.options.index=Xs.userOptions.index=lo}),this.destroy(),zs.isDirtyBox=!0,_s(Bs,!0)&&zs.redraw()},js.prototype.setTitle=function(Bs,zs){this.update({title:Bs},zs)},js.prototype.setCategories=function(Bs,zs){this.update({categories:Bs},zs)},js.defaultOptions=is.defaultXAxisOptions,js.keepProps="extKey hcEvents names series userMax userMin".split(" "),js}(),rs}),Ri(ts,"Core/Axis/DateTimeAxis.js",[ts["Core/Utilities.js"]],function(rs){var is=rs.addEvent,ns=rs.getMagnitude,ss=rs.normalizeTickInterval,os=rs.timeUnits,ls;return function(cs){function hs(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function us(ys){ys.userOptions.type!=="datetime"?this.dateTime=void 0:this.dateTime||(this.dateTime=new bs(this))}var As=[];cs.compose=function(ys){return As.indexOf(ys)===-1&&(As.push(ys),ys.keepProps.push("dateTime"),ys.prototype.getTimeTicks=hs,is(ys,"init",us)),ys};var bs=function(){function ys(Cs){this.axis=Cs}return ys.prototype.normalizeTimeTickInterval=function(Cs,ps){var ms=ps||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];ps=ms[ms.length-1];var fs=os[ps[0]],gs=ps[1],ws;for(ws=0;ws<ms.length&&(ps=ms[ws],fs=os[ps[0]],gs=ps[1],!(ms[ws+1]&&Cs<=(fs*gs[gs.length-1]+os[ms[ws+1][0]])/2));ws++);return fs===os.year&&Cs<5*fs&&(gs=[1,2,5]),Cs=ss(Cs/fs,gs,ps[0]==="year"?Math.max(ns(Cs/fs),1):1),{unitRange:fs,count:Cs,unitName:ps[0]}},ys.prototype.getXDateFormat=function(Cs,ps){var ms=this.axis,fs=ms.chart.time;return ms.closestPointRange?fs.getDateFormat(ms.closestPointRange,Cs,ms.options.startOfWeek,ps)||fs.resolveDTLFormat(ps.year).main:fs.resolveDTLFormat(ps.day).main},ys}();cs.Additions=bs}(ls||(ls={})),ls}),Ri(ts,"Core/Axis/LogarithmicAxis.js",[ts["Core/Utilities.js"]],function(rs){var is=rs.addEvent,ns=rs.normalizeTickInterval,ss=rs.pick,os;return function(ls){function cs(bs){var ys=this.logarithmic;bs.userOptions.type!=="logarithmic"?this.logarithmic=void 0:ys||(this.logarithmic=new As(this))}function hs(){var bs=this.logarithmic;bs&&(this.lin2val=function(ys){return bs.lin2log(ys)},this.val2lin=function(ys){return bs.log2lin(ys)})}var us=[];ls.compose=function(bs){return us.indexOf(bs)===-1&&(us.push(bs),bs.keepProps.push("logarithmic"),is(bs,"init",cs),is(bs,"afterInit",hs)),bs};var As=function(){function bs(ys){this.axis=ys}return bs.prototype.getLogTickPositions=function(ys,Cs,ps,ms){var fs=this.axis,gs=fs.len,ws=fs.options,Ts=[];if(ms||(this.minorAutoInterval=void 0),.5<=ys)ys=Math.round(ys),Ts=fs.getLinearTickPositions(ys,Cs,ps);else if(.08<=ys){var $s=Math.floor(Cs),Rs,Ps=ws=void 0;for(gs=.3<ys?[1,2,4]:.15<ys?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];$s<ps+1&&!Ps;$s++){var Qs=gs.length;for(Rs=0;Rs<Qs&&!Ps;Rs++){var Fs=this.log2lin(this.lin2log($s)*gs[Rs]);Fs>Cs&&(!ms||ws<=ps)&&typeof ws<"u"&&Ts.push(ws),ws>ps&&(Ps=!0),ws=Fs}}}else Cs=this.lin2log(Cs),ps=this.lin2log(ps),ys=ms?fs.getMinorTickInterval():ws.tickInterval,ys=ss(ys==="auto"?null:ys,this.minorAutoInterval,ws.tickPixelInterval/(ms?5:1)*(ps-Cs)/((ms?gs/fs.tickPositions.length:gs)||1)),ys=ns(ys),Ts=fs.getLinearTickPositions(ys,Cs,ps).map(this.log2lin),ms||(this.minorAutoInterval=ys/5);return ms||(fs.tickInterval=ys),Ts},bs.prototype.lin2log=function(ys){return Math.pow(10,ys)},bs.prototype.log2lin=function(ys){return Math.log(ys)/Math.LN10},bs}();ls.Additions=As}(os||(os={})),os}),Ri(ts,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[ts["Core/Utilities.js"]],function(rs){var is=rs.erase,ns=rs.extend,ss=rs.isNumber,os;return function(ls){var cs=[],hs;ls.compose=function(As,bs){return hs||(hs=As),cs.indexOf(bs)===-1&&(cs.push(bs),ns(bs.prototype,us.prototype)),bs};var us=function(){function As(){}return As.prototype.getPlotBandPath=function(bs,ys,Cs){Cs===void 0&&(Cs=this.options);var ps=this.getPlotLinePath({value:ys,force:!0,acrossPanes:Cs.acrossPanes}),ms=[],fs=this.horiz;if(ys=!ss(this.min)||!ss(this.max)||bs<this.min&&ys<this.min||bs>this.max&&ys>this.max,bs=this.getPlotLinePath({value:bs,force:!0,acrossPanes:Cs.acrossPanes}),Cs=1,bs&&ps){if(ys){var gs=bs.toString()===ps.toString();Cs=0}for(ys=0;ys<bs.length;ys+=2){var ws=bs[ys],Ts=bs[ys+1],$s=ps[ys],Rs=ps[ys+1];ws[0]!=="M"&&ws[0]!=="L"||Ts[0]!=="M"&&Ts[0]!=="L"||$s[0]!=="M"&&$s[0]!=="L"||Rs[0]!=="M"&&Rs[0]!=="L"||(fs&&$s[1]===ws[1]?($s[1]+=Cs,Rs[1]+=Cs):fs||$s[2]!==ws[2]||($s[2]+=Cs,Rs[2]+=Cs),ms.push(["M",ws[1],ws[2]],["L",Ts[1],Ts[2]],["L",Rs[1],Rs[2]],["L",$s[1],$s[2]],["Z"])),ms.isFlat=gs}}return ms},As.prototype.addPlotBand=function(bs){return this.addPlotBandOrLine(bs,"plotBands")},As.prototype.addPlotLine=function(bs){return this.addPlotBandOrLine(bs,"plotLines")},As.prototype.addPlotBandOrLine=function(bs,ys){var Cs=this,ps=this.userOptions,ms=new hs(this,bs);if(this.visible&&(ms=ms.render()),ms){if(this._addedPlotLB||(this._addedPlotLB=!0,(ps.plotLines||[]).concat(ps.plotBands||[]).forEach(function(gs){Cs.addPlotBandOrLine(gs)})),ys){var fs=ps[ys]||[];fs.push(bs),ps[ys]=fs}this.plotLinesAndBands.push(ms)}return ms},As.prototype.removePlotBandOrLine=function(bs){var ys=this.plotLinesAndBands,Cs=this.options,ps=this.userOptions;if(ys){for(var ms=ys.length;ms--;)ys[ms].id===bs&&ys[ms].destroy();[Cs.plotLines||[],ps.plotLines||[],Cs.plotBands||[],ps.plotBands||[]].forEach(function(fs){for(ms=fs.length;ms--;)(fs[ms]||{}).id===bs&&is(fs,fs[ms])})}},As.prototype.removePlotBand=function(bs){this.removePlotBandOrLine(bs)},As.prototype.removePlotLine=function(bs){this.removePlotBandOrLine(bs)},As}()}(os||(os={})),os}),Ri(ts,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[ts["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],ts["Core/Utilities.js"]],function(rs,is){var ns=is.arrayMax,ss=is.arrayMin,os=is.defined,ls=is.destroyObjectProperties,cs=is.erase,hs=is.fireEvent,us=is.merge,As=is.objectEach,bs=is.pick;return is=function(){function ys(Cs,ps){this.axis=Cs,ps&&(this.options=ps,this.id=ps.id)}return ys.compose=function(Cs){return rs.compose(ys,Cs)},ys.prototype.render=function(){hs(this,"render");var Cs=this,ps=Cs.axis,ms=ps.horiz,fs=ps.logarithmic,gs=Cs.options,ws=gs.color,Ts=bs(gs.zIndex,0),$s=gs.events,Rs={},Ps=ps.chart.renderer,Qs=gs.label,Fs=Cs.label,Is=gs.to,Ms=gs.from,Ws=gs.value,Ds=Cs.svgElem,_s=[],Ns=os(Ms)&&os(Is);_s=os(Ws);var Ss=!Ds,Us={class:"highcharts-plot-"+(Ns?"band ":"line ")+(gs.className||"")},Zs=Ns?"bands":"lines";if(fs&&(Ms=fs.log2lin(Ms),Is=fs.log2lin(Is),Ws=fs.log2lin(Ws)),ps.chart.styledMode||(_s?(Us.stroke=ws||"#999999",Us["stroke-width"]=bs(gs.width,1),gs.dashStyle&&(Us.dashstyle=gs.dashStyle)):Ns&&(Us.fill=ws||"#e6ebf5",gs.borderWidth&&(Us.stroke=gs.borderColor,Us["stroke-width"]=gs.borderWidth))),Rs.zIndex=Ts,Zs+="-"+Ts,(fs=ps.plotLinesAndBandsGroups[Zs])||(ps.plotLinesAndBandsGroups[Zs]=fs=Ps.g("plot-"+Zs).attr(Rs).add()),Ss&&(Cs.svgElem=Ds=Ps.path().attr(Us).add(fs)),_s)_s=ps.getPlotLinePath({value:Ws,lineWidth:Ds.strokeWidth(),acrossPanes:gs.acrossPanes});else if(Ns)_s=ps.getPlotBandPath(Ms,Is,gs);else return;return!Cs.eventsAdded&&$s&&(As($s,function(ao,js){Ds.on(js,function(Bs){$s[js].apply(Cs,[Bs])})}),Cs.eventsAdded=!0),(Ss||!Ds.d)&&_s&&_s.length?Ds.attr({d:_s}):Ds&&(_s?(Ds.show(),Ds.animate({d:_s})):Ds.d&&(Ds.hide(),Fs&&(Cs.label=Fs=Fs.destroy()))),Qs&&(os(Qs.text)||os(Qs.formatter))&&_s&&_s.length&&0<ps.width&&0<ps.height&&!_s.isFlat?(Qs=us({align:ms&&Ns&&"center",x:ms?!Ns&&4:10,verticalAlign:!ms&&Ns&&"middle",y:ms?Ns?16:10:Ns?6:-4,rotation:ms&&!Ns&&90},Qs),this.renderLabel(Qs,_s,Ns,Ts)):Fs&&Fs.hide(),Cs},ys.prototype.renderLabel=function(Cs,ps,ms,fs){var gs=this.axis,ws=gs.chart.renderer,Ts=this.label;Ts||(this.label=Ts=ws.text(this.getLabelText(Cs),0,0,Cs.useHTML).attr({align:Cs.textAlign||Cs.align,rotation:Cs.rotation,class:"highcharts-plot-"+(ms?"band":"line")+"-label "+(Cs.className||""),zIndex:fs}).add(),gs.chart.styledMode||Ts.css(us({textOverflow:"ellipsis"},Cs.style))),fs=ps.xBounds||[ps[0][1],ps[1][1],ms?ps[2][1]:ps[0][1]],ps=ps.yBounds||[ps[0][2],ps[1][2],ms?ps[2][2]:ps[0][2]],ms=ss(fs),ws=ss(ps),Ts.align(Cs,!1,{x:ms,y:ws,width:ns(fs)-ms,height:ns(ps)-ws}),Ts.alignValue&&Ts.alignValue!=="left"||(Cs=Cs.clip?gs.width:gs.chart.chartWidth,Ts.css({width:(Ts.rotation===90?gs.height-(Ts.alignAttr.y-gs.top):Cs-(Ts.alignAttr.x-gs.left))+"px"})),Ts.show(!0)},ys.prototype.getLabelText=function(Cs){return os(Cs.formatter)?Cs.formatter.call(this):Cs.text},ys.prototype.destroy=function(){cs(this.axis.plotLinesAndBands,this),delete this.axis,ls(this)},ys}(),is}),Ri(ts,"Core/Tooltip.js",[ts["Core/FormatUtilities.js"],ts["Core/Globals.js"],ts["Core/Renderer/RendererUtilities.js"],ts["Core/Renderer/RendererRegistry.js"],ts["Core/Utilities.js"]],function(rs,is,ns,ss,os){var ls=rs.format,cs=is.doc,hs=ns.distribute,us=os.clamp,As=os.css,bs=os.discardElement,ys=os.extend,Cs=os.fireEvent,ps=os.isArray,ms=os.isNumber,fs=os.isString,gs=os.merge,ws=os.pick,Ts=os.splat,$s=os.syncTimeout;return rs=function(){function Rs(Ps,Qs){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=Ps,this.init(Ps,Qs)}return Rs.prototype.applyFilter=function(){var Ps=this.chart;Ps.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+Ps.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},Rs.prototype.bodyFormatter=function(Ps){return Ps.map(function(Qs){var Fs=Qs.series.tooltipOptions;return(Fs[(Qs.point.formatPrefix||"point")+"Formatter"]||Qs.point.tooltipFormatter).call(Qs.point,Fs[(Qs.point.formatPrefix||"point")+"Format"]||"")})},Rs.prototype.cleanSplit=function(Ps){this.chart.series.forEach(function(Qs){var Fs=Qs&&Qs.tt;Fs&&(!Fs.isActive||Ps?Qs.tt=Fs.destroy():Fs.isActive=!1)})},Rs.prototype.defaultFormatter=function(Ps){var Qs=this.points||Ts(this),Fs=[Ps.tooltipFooterHeaderFormatter(Qs[0])];return Fs=Fs.concat(Ps.bodyFormatter(Qs)),Fs.push(Ps.tooltipFooterHeaderFormatter(Qs[0],!0)),Fs},Rs.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),bs(this.container)),os.clearTimeout(this.hideTimer),os.clearTimeout(this.tooltipTimeout)},Rs.prototype.getAnchor=function(Ps,Qs){var Fs=this.chart,Is=Fs.pointer,Ms=Fs.inverted,Ws=Fs.plotTop;if(Fs=Fs.plotLeft,Ps=Ts(Ps),Ps[0].series&&Ps[0].series.yAxis&&!Ps[0].series.yAxis.options.reversedStacks&&(Ps=Ps.slice().reverse()),this.followPointer&&Qs)typeof Qs.chartX>"u"&&(Qs=Is.normalize(Qs)),Ps=[Qs.chartX-Fs,Qs.chartY-Ws];else if(Ps[0].tooltipPos)Ps=Ps[0].tooltipPos;else{var Ds=0,_s=0;Ps.forEach(function(Ns){(Ns=Ns.pos(!0))&&(Ds+=Ns[0],_s+=Ns[1])}),Ds/=Ps.length,_s/=Ps.length,this.shared&&1<Ps.length&&Qs&&(Ms?Ds=Qs.chartX:_s=Qs.chartY),Ps=[Ds-Fs,_s-Ws]}return Ps.map(Math.round)},Rs.prototype.getClassName=function(Ps,Qs,Fs){var Is=Ps.series,Ms=Is.options;return[this.options.className,"highcharts-label",Fs&&"highcharts-tooltip-header",Qs?"highcharts-tooltip-box":"highcharts-tooltip",!Fs&&"highcharts-color-"+ws(Ps.colorIndex,Is.colorIndex),Ms&&Ms.className].filter(fs).join(" ")},Rs.prototype.getLabel=function(){var Ps=this,Qs=this.chart.styledMode,Fs=this.options,Is=this.split&&this.allowShared,Ms=Fs.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none"),Ws,Ds=this.chart.renderer;if(Ps.label){var _s=!Ps.label.hasClass("highcharts-label");(Is&&!_s||!Is&&_s)&&Ps.destroy()}if(!this.label){if(this.outside){_s=this.chart.options.chart.style;var Ns=ss.getRendererType();this.container=Ws=is.doc.createElement("div"),Ws.className="highcharts-tooltip-container",As(Ws,{position:"absolute",top:"1px",pointerEvents:Ms,zIndex:Math.max(this.options.style.zIndex||0,(_s&&_s.zIndex||0)+3)}),is.doc.body.appendChild(Ws),this.renderer=Ds=new Ns(Ws,0,0,_s,void 0,void 0,Ds.styledMode)}if(Is?this.label=Ds.g("tooltip"):(this.label=Ds.label("",0,0,Fs.shape,void 0,void 0,Fs.useHTML,void 0,"tooltip").attr({padding:Fs.padding,r:Fs.borderRadius}),Qs||this.label.attr({fill:Fs.backgroundColor,"stroke-width":Fs.borderWidth}).css(Fs.style).css({pointerEvents:Ms}).shadow(Fs.shadow)),Qs&&Fs.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),Ps.outside&&!Ps.split){var Ss=this.label,Us=Ss.xSetter,Zs=Ss.ySetter;Ss.xSetter=function(ao){Us.call(Ss,Ps.distance),Ws.style.left=ao+"px"},Ss.ySetter=function(ao){Zs.call(Ss,Ps.distance),Ws.style.top=ao+"px"}}this.label.attr({zIndex:8}).add()}return this.label},Rs.prototype.getPosition=function(Ps,Qs,Fs){var Is=this.chart,Ms=this.distance,Ws={},Ds=Is.inverted&&Fs.h||0,_s=this.outside,Ns=_s?cs.documentElement.clientWidth-2*Ms:Is.chartWidth,Ss=_s?Math.max(cs.body.scrollHeight,cs.documentElement.scrollHeight,cs.body.offsetHeight,cs.documentElement.offsetHeight,cs.documentElement.clientHeight):Is.chartHeight,Us=Is.pointer.getChartPosition(),Zs=function(lo){var co=lo==="x";return[lo,co?Ns:Ss,co?Ps:Qs].concat(_s?[co?Ps*Us.scaleX:Qs*Us.scaleY,co?Us.left-Ms+(Fs.plotX+Is.plotLeft)*Us.scaleX:Us.top-Ms+(Fs.plotY+Is.plotTop)*Us.scaleY,0,co?Ns:Ss]:[co?Ps:Qs,co?Fs.plotX+Is.plotLeft:Fs.plotY+Is.plotTop,co?Is.plotLeft:Is.plotTop,co?Is.plotLeft+Is.plotWidth:Is.plotTop+Is.plotHeight])},ao=Zs("y"),js=Zs("x"),Bs;Zs=!!Fs.negative,!Is.polar&&Is.hoverSeries&&Is.hoverSeries.yAxis&&Is.hoverSeries.yAxis.reversed&&(Zs=!Zs);var zs=!this.followPointer&&ws(Fs.ttBelow,!Is.inverted===Zs),so=function(lo,co,So,ro,vo,Eo,mo){var yo=_s?lo==="y"?Ms*Us.scaleY:Ms*Us.scaleX:Ms,Jo=(So-ro)/2,Yo=ro<vo-Ms,Wo=vo+Ms+ro<co,ko=vo-yo-So+Jo;if(vo=vo+yo-Jo,zs&&Wo)Ws[lo]=vo;else if(!zs&&Yo)Ws[lo]=ko;else if(Yo)Ws[lo]=Math.min(mo-ro,0>ko-Ds?ko:ko-Ds);else if(Wo)Ws[lo]=Math.max(Eo,vo+Ds+So>co?vo:vo+Ds);else return!1},oo=function(lo,co,So,ro,vo){var Eo;return vo<Ms||vo>co-Ms?Eo=!1:Ws[lo]=vo<So/2?1:vo>co-ro/2?co-ro-2:vo-So/2,Eo},Ao=function(lo){var co=ao;ao=js,js=co,Bs=lo},Xs=function(){so.apply(0,ao)!==!1?oo.apply(0,js)!==!1||Bs||(Ao(!0),Xs()):Bs?Ws.x=Ws.y=0:(Ao(!0),Xs())};return(Is.inverted||1<this.len)&&Ao(),Xs(),Ws},Rs.prototype.hide=function(Ps){var Qs=this;os.clearTimeout(this.hideTimer),Ps=ws(Ps,this.options.hideDelay),this.isHidden||(this.hideTimer=$s(function(){Qs.getLabel().fadeOut(Ps&&void 0),Qs.isHidden=!0},Ps))},Rs.prototype.init=function(Ps,Qs){this.chart=Ps,this.options=Qs,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=Qs.split&&!Ps.inverted&&!Ps.polar,this.shared=Qs.shared||this.split,this.outside=ws(Qs.outside,!(!Ps.scrollablePixelsX&&!Ps.scrollablePixelsY))},Rs.prototype.shouldStickOnContact=function(Ps){return!(this.followPointer||!this.options.stickOnContact||Ps&&!this.chart.pointer.inClass(Ps.target,"highcharts-tooltip"))},Rs.prototype.move=function(Ps,Qs,Fs,Is){var Ms=this,Ws=Ms.now,Ds=Ms.options.animation!==!1&&!Ms.isHidden&&(1<Math.abs(Ps-Ws.x)||1<Math.abs(Qs-Ws.y)),_s=Ms.followPointer||1<Ms.len;ys(Ws,{x:Ds?(2*Ws.x+Ps)/3:Ps,y:Ds?(Ws.y+Qs)/2:Qs,anchorX:_s?void 0:Ds?(2*Ws.anchorX+Fs)/3:Fs,anchorY:_s?void 0:Ds?(Ws.anchorY+Is)/2:Is}),Ms.getLabel().attr(Ws),Ms.drawTracker(),Ds&&(os.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){Ms&&Ms.move(Ps,Qs,Fs,Is)},32))},Rs.prototype.refresh=function(Ps,Qs){var Fs=this.chart,Is=this.options,Ms=Fs.pointer,Ws=Ts(Ps),Ds=Ws[0],_s=[],Ns=Is.formatter||this.defaultFormatter,Ss=this.shared,Us=Fs.styledMode,Zs={};if(Is.enabled&&Ds.series){os.clearTimeout(this.hideTimer),this.allowShared=!(!ps(Ps)&&Ps.series&&Ps.series.noSharedTooltip),this.followPointer=!this.split&&Ds.series.tooltipOptions.followPointer,Ps=this.getAnchor(Ps,Qs);var ao=Ps[0],js=Ps[1];if(Ss&&this.allowShared?(Ms.applyInactiveState(Ws),Ws.forEach(function(so){so.setState("hover"),_s.push(so.getLabelConfig())}),Zs={x:Ds.category,y:Ds.y},Zs.points=_s):Zs=Ds.getLabelConfig(),this.len=_s.length,Ns=Ns.call(Zs,this),Ss=Ds.series,this.distance=ws(Ss.tooltipOptions.distance,16),Ns===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(Ns,Ws);else{var Bs=ao,zs=js;if(Qs&&Ms.isDirectTouch&&(Bs=Qs.chartX-Fs.plotLeft,zs=Qs.chartY-Fs.plotTop),Fs.polar||Ss.options.clip===!1||Ws.some(function(so){return Ms.isDirectTouch||so.series.shouldShowTooltip(Bs,zs)}))Qs=this.getLabel(),Is.style.width&&!Us||Qs.css({width:Fs.spacingBox.width+"px"}),Qs.attr({text:Ns&&Ns.join?Ns.join(""):Ns}),Qs.addClass(this.getClassName(Ds),!0),Us||Qs.attr({stroke:Is.borderColor||Ds.color||Ss.color||"#666666"}),this.updatePosition({plotX:ao,plotY:js,negative:Ds.negative,ttBelow:Ds.ttBelow,h:Ps[2]||0});else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}Cs(this,"refresh")}},Rs.prototype.renderSplit=function(Ps,Qs){function Fs(Wo,ko,Qo,jo,Bo){return Bo===void 0&&(Bo=!0),Qo?(ko=ro?0:yo,Wo=us(Wo-jo/2,lo.left,lo.right-jo-(Is.outside?vo:0))):(ko-=Eo,Wo=Bo?Wo-jo-oo:Wo+oo,Wo=us(Wo,Bo?Wo:lo.left,lo.right)),{x:Wo,y:ko}}var Is=this,Ms=Is.chart,Ws=Is.chart,Ds=Ws.chartWidth,_s=Ws.chartHeight,Ns=Ws.plotHeight,Ss=Ws.plotLeft,Us=Ws.plotTop,Zs=Ws.pointer,ao=Ws.scrollablePixelsY;ao=ao===void 0?0:ao;var js=Ws.scrollablePixelsX,Bs=Ws.scrollingContainer;Bs=Bs===void 0?{scrollLeft:0,scrollTop:0}:Bs;var zs=Bs.scrollLeft;Bs=Bs.scrollTop;var so=Ws.styledMode,oo=Is.distance,Ao=Is.options,Xs=Is.options.positioner,lo=Is.outside&&typeof js!="number"?cs.documentElement.getBoundingClientRect():{left:zs,right:zs+Ds,top:Bs,bottom:Bs+_s},co=Is.getLabel(),So=this.renderer||Ms.renderer,ro=!(!Ms.xAxis[0]||!Ms.xAxis[0].opposite);Ms=Zs.getChartPosition();var vo=Ms.left;Ms=Ms.top;var Eo=Us+Bs,mo=0,yo=Ns-ao;fs(Ps)&&(Ps=[!1,Ps]),Ps=Ps.slice(0,Qs.length+1).reduce(function(Wo,ko,Qo){if(ko!==!1&&ko!==""){Qo=Qs[Qo-1]||{isHeader:!0,plotX:Qs[0].plotX,plotY:Ns,series:{}};var jo=Qo.isHeader,Bo=jo?Is:Qo.series;ko=ko.toString();var go=Bo.tt,_o=Qo.isHeader,To=Qo.series;go||(go={padding:Ao.padding,r:Ao.borderRadius},so||(go.fill=Ao.backgroundColor,go["stroke-width"]=Ao.borderWidth),go=So.label("",0,0,Ao[_o?"headerShape":"shape"],void 0,void 0,Ao.useHTML).addClass(Is.getClassName(Qo,!0,_o)).attr(go).add(co)),go.isActive=!0,go.attr({text:ko}),so||go.css(Ao.style).shadow(Ao.shadow).attr({stroke:Ao.borderColor||Qo.color||To.color||"#333333"}),Bo=Bo.tt=go,_o=Bo.getBBox(),ko=_o.width+Bo.strokeWidth(),jo&&(mo=_o.height,yo+=mo,ro&&(Eo-=mo)),To=Qo.plotX,To=To===void 0?0:To,go=Qo.plotY,go=go===void 0?0:go;var uo=Qo.series;if(Qo.isHeader){To=Ss+To;var Co=Us+Ns/2}else{var Oo=uo.xAxis,Fo=uo.yAxis;To=Oo.pos+us(To,-oo,Oo.len+oo),uo.shouldShowTooltip(0,Fo.pos-Us+go,{ignoreX:!0})&&(Co=Fo.pos+go)}To=us(To,lo.left-oo,lo.right+oo),typeof Co=="number"?(_o=_o.height+1,go=Xs?Xs.call(Is,ko,_o,Qo):Fs(To,Co,jo,ko),Wo.push({align:Xs?0:void 0,anchorX:To,anchorY:Co,boxWidth:ko,point:Qo,rank:ws(go.rank,jo?1:0),size:_o,target:go.y,tt:Bo,x:go.x})):Bo.isActive=!1}return Wo},[]),!Xs&&Ps.some(function(Wo){var ko=(Is.outside?vo:0)+Wo.anchorX;return ko<lo.left&&ko+Wo.boxWidth<lo.right?!0:ko<vo-lo.left+Wo.boxWidth&&lo.right-ko>ko})&&(Ps=Ps.map(function(Wo){var ko=Fs(Wo.anchorX,Wo.anchorY,Wo.point.isHeader,Wo.boxWidth,!1);return ys(Wo,{target:ko.y,x:ko.x})})),Is.cleanSplit(),hs(Ps,yo);var Jo=vo,Yo=vo;Ps.forEach(function(Wo){var ko=Wo.x,Qo=Wo.boxWidth;Wo=Wo.isHeader,Wo||(Is.outside&&vo+ko<Jo&&(Jo=vo+ko),!Wo&&Is.outside&&Jo+Qo>Yo&&(Yo=vo+ko))}),Ps.forEach(function(Wo){var ko=Wo.x,Qo=Wo.anchorX,jo=Wo.pos,Bo=Wo.point.isHeader;if(jo={visibility:typeof jo>"u"?"hidden":"inherit",x:ko,y:(jo||0)+Eo,anchorX:Qo,anchorY:Wo.anchorY},Is.outside&&ko<Qo){var go=vo-Jo;0<go&&(Bo||(jo.x=ko+go,jo.anchorX=Qo+go),Bo&&(jo.x=(Yo-Jo)/2,jo.anchorX=Qo+go))}Wo.tt.attr(jo)}),Ps=Is.container,ao=Is.renderer,Is.outside&&Ps&&ao&&(Ws=co.getBBox(),ao.setSize(Ws.width+Ws.x,Ws.height+Ws.y,!1),Ps.style.left=Jo+"px",Ps.style.top=Ms+"px")},Rs.prototype.drawTracker=function(){if(this.shouldStickOnContact()){var Ps=this.chart,Qs=this.label,Fs=this.shared?Ps.hoverPoints:Ps.hoverPoint;if(Qs&&Fs){var Is={x:0,y:0,width:0,height:0};Fs=this.getAnchor(Fs);var Ms=Qs.getBBox();Fs[0]+=Ps.plotLeft-Qs.translateX,Fs[1]+=Ps.plotTop-Qs.translateY,Is.x=Math.min(0,Fs[0]),Is.y=Math.min(0,Fs[1]),Is.width=0>Fs[0]?Math.max(Math.abs(Fs[0]),Ms.width-Fs[0]):Math.max(Math.abs(Fs[0]),Ms.width),Is.height=0>Fs[1]?Math.max(Math.abs(Fs[1]),Ms.height-Math.abs(Fs[1])):Math.max(Math.abs(Fs[1]),Ms.height),this.tracker?this.tracker.attr(Is):(this.tracker=Qs.renderer.rect(Is).addClass("highcharts-tracker").add(Qs),Ps.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&this.tracker.destroy()},Rs.prototype.styledModeFormat=function(Ps){return Ps.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')},Rs.prototype.tooltipFooterHeaderFormatter=function(Ps,Qs){var Fs=Ps.series,Is=Fs.tooltipOptions,Ms=Fs.xAxis,Ws=Ms&&Ms.dateTime;Ms={isFooter:Qs,labelConfig:Ps};var Ds=Is.xDateFormat,_s=Is[Qs?"footerFormat":"headerFormat"];return Cs(this,"headerFormatter",Ms,function(Ns){Ws&&!Ds&&ms(Ps.key)&&(Ds=Ws.getXDateFormat(Ps.key,Is.dateTimeLabelFormats)),Ws&&Ds&&(Ps.point&&Ps.point.tooltipDateKeys||["key"]).forEach(function(Ss){_s=_s.replace("{point."+Ss+"}","{point."+Ss+":"+Ds+"}")}),Fs.chart.styledMode&&(_s=this.styledModeFormat(_s)),Ns.text=ls(_s,{point:Ps,series:Fs},this.chart)}),Ms.text},Rs.prototype.update=function(Ps){this.destroy(),gs(!0,this.chart.options.tooltip.userOptions,Ps),this.init(this.chart,gs(!0,this.options,Ps))},Rs.prototype.updatePosition=function(Ps){var Qs=this.chart,Fs=this.distance,Is=this.options,Ms=Qs.pointer,Ws=this.getLabel(),Ds=Ms.getChartPosition();Ms=Ds.left;var _s=Ds.top,Ns=Ds.scaleX;Ds=Ds.scaleY;var Ss=(Is.positioner||this.getPosition).call(this,Ws.width,Ws.height,Ps),Us=(Ps.plotX||0)+Qs.plotLeft;Ps=(Ps.plotY||0)+Qs.plotTop,this.outside&&(Is.positioner&&(Ss.x+=Ms-Fs,Ss.y+=_s-Fs),Fs=Is.borderWidth+2*Fs,this.renderer.setSize(Ws.width+Fs,Ws.height+Fs,!1),(Ns!==1||Ds!==1)&&(As(this.container,{transform:"scale(".concat(Ns,", ").concat(Ds,")")}),Us*=Ns,Ps*=Ds),Us+=Ms-Ss.x,Ps+=_s-Ss.y),this.move(Math.round(Ss.x),Math.round(Ss.y||0),Us,Ps)},Rs}(),rs}),Ri(ts,"Core/Series/Point.js",[ts["Core/Renderer/HTML/AST.js"],ts["Core/Animation/AnimationUtilities.js"],ts["Core/Defaults.js"],ts["Core/FormatUtilities.js"],ts["Core/Utilities.js"]],function(rs,is,ns,ss,os){var ls=is.animObject,cs=ns.defaultOptions,hs=ss.format,us=os.addEvent,As=os.defined,bs=os.erase,ys=os.extend,Cs=os.fireEvent,ps=os.getNestedProperty,ms=os.isArray,fs=os.isFunction,gs=os.isNumber,ws=os.isObject,Ts=os.merge,$s=os.objectEach,Rs=os.pick,Ps=os.syncTimeout,Qs=os.removeEvent,Fs=os.uniqueKey;return is=function(){function Is(){this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}return Is.prototype.animateBeforeDestroy=function(){var Ms=this,Ws={x:Ms.startXPos,opacity:0},Ds=Ms.getGraphicalProps();Ds.singular.forEach(function(_s){Ms[_s]=Ms[_s].animate(_s==="dataLabel"?{x:Ms[_s].startXPos,y:Ms[_s].startYPos,opacity:0}:Ws)}),Ds.plural.forEach(function(_s){Ms[_s].forEach(function(Ns){Ns.element&&Ns.animate(ys({x:Ms.startXPos},Ns.startYPos?{x:Ns.startXPos,y:Ns.startYPos}:{}))})})},Is.prototype.applyOptions=function(Ms,Ws){var Ds=this.series,_s=Ds.options.pointValKey||Ds.pointValKey;return Ms=Is.prototype.optionsToObject.call(this,Ms),ys(this,Ms),this.options=this.options?ys(this.options,Ms):Ms,Ms.group&&delete this.group,Ms.dataLabels&&delete this.dataLabels,_s&&(this.y=Is.prototype.getNestedProperty.call(this,_s)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&typeof Ws>"u"&&Ds.xAxis&&Ds.xAxis.hasNames&&(this.x=Ds.xAxis.nameToX(this)),typeof this.x>"u"&&Ds?this.x=typeof Ws>"u"?Ds.autoIncrement():Ws:gs(Ms.x)&&Ds.options.relativeXValue&&(this.x=Ds.autoIncrement(Ms.x)),this},Is.prototype.destroy=function(){function Ms(){(Ws.graphic||Ws.graphics||Ws.dataLabel||Ws.dataLabels)&&(Qs(Ws),Ws.destroyElements());for(Us in Ws)Ws[Us]=null}var Ws=this,Ds=Ws.series,_s=Ds.chart;Ds=Ds.options.dataSorting;var Ns=_s.hoverPoints,Ss=ls(Ws.series.chart.renderer.globalAnimation),Us;Ws.legendItem&&_s.legend.destroyItem(Ws),Ns&&(Ws.setState(),bs(Ns,Ws),Ns.length||(_s.hoverPoints=null)),Ws===_s.hoverPoint&&Ws.onMouseOut(),Ds&&Ds.enabled?(this.animateBeforeDestroy(),Ps(Ms,Ss.duration)):Ms(),_s.pointCount--},Is.prototype.destroyElements=function(Ms){var Ws=this;Ms=Ws.getGraphicalProps(Ms),Ms.singular.forEach(function(Ds){Ws[Ds]=Ws[Ds].destroy()}),Ms.plural.forEach(function(Ds){Ws[Ds].forEach(function(_s){_s&&_s.element&&_s.destroy()}),delete Ws[Ds]})},Is.prototype.firePointEvent=function(Ms,Ws,Ds){var _s=this,Ns=this.series.options;(Ns.point.events[Ms]||_s.options&&_s.options.events&&_s.options.events[Ms])&&_s.importEvents(),Ms==="click"&&Ns.allowPointSelect&&(Ds=function(Ss){_s.select&&_s.select(null,Ss.ctrlKey||Ss.metaKey||Ss.shiftKey)}),Cs(_s,Ms,Ws,Ds)},Is.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(typeof this.colorIndex<"u"?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},Is.prototype.getGraphicalProps=function(Ms){var Ws=this,Ds=[],_s={singular:[],plural:[]},Ns;for(Ms=Ms||{graphic:1,dataLabel:1},Ms.graphic&&Ds.push("graphic","shadowGroup"),Ms.dataLabel&&Ds.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),Ns=Ds.length;Ns--;){var Ss=Ds[Ns];Ws[Ss]&&_s.singular.push(Ss)}return["graphic","dataLabel","connector"].forEach(function(Us){var Zs=Us+"s";Ms[Us]&&Ws[Zs]&&_s.plural.push(Zs)}),_s},Is.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},Is.prototype.getNestedProperty=function(Ms){if(Ms)return Ms.indexOf("custom.")===0?ps(Ms,this.options):this[Ms]},Is.prototype.getZone=function(){var Ms=this.series,Ws=Ms.zones;Ms=Ms.zoneAxis||"y";var Ds,_s=0;for(Ds=Ws[_s];this[Ms]>=Ds.value;)Ds=Ws[++_s];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=Ds&&Ds.color&&!this.options.color?Ds.color:this.nonZonedColor,Ds},Is.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},Is.prototype.init=function(Ms,Ws,Ds){return this.series=Ms,this.applyOptions(Ws,Ds),this.id=As(this.id)?this.id:Fs(),this.resolveColor(),Ms.chart.pointCount++,Cs(this,"afterInit"),this},Is.prototype.isValid=function(){return this.x!==null&&gs(this.y)},Is.prototype.optionsToObject=function(Ms){var Ws=this.series,Ds=Ws.options.keys,_s=Ds||Ws.pointArrayMap||["y"],Ns=_s.length,Ss={},Us=0,Zs=0;if(gs(Ms)||Ms===null)Ss[_s[0]]=Ms;else if(ms(Ms))for(!Ds&&Ms.length>Ns&&(Ws=typeof Ms[0],Ws==="string"?Ss.name=Ms[0]:Ws==="number"&&(Ss.x=Ms[0]),Us++);Zs<Ns;)Ds&&typeof Ms[Us]>"u"||(0<_s[Zs].indexOf(".")?Is.prototype.setNestedProperty(Ss,Ms[Us],_s[Zs]):Ss[_s[Zs]]=Ms[Us]),Us++,Zs++;else typeof Ms=="object"&&(Ss=Ms,Ms.dataLabels&&(Ws._hasPointLabels=!0),Ms.marker&&(Ws._hasPointMarkers=!0));return Ss},Is.prototype.pos=function(Ms,Ws){Ws===void 0&&(Ws=this.plotY);var Ds=this.plotX,_s=this.series,Ns=_s.chart,Ss=_s.xAxis;_s=_s.yAxis;var Us=0,Zs=0;if(gs(Ds)&&gs(Ws))return Ms&&(Us=Ss?Ss.pos:Ns.plotLeft,Zs=_s?_s.pos:Ns.plotTop),Ns.inverted&&Ss&&_s?[_s.len-Ws+Zs,Ss.len-Ds+Us]:[Ds+Us,Ws+Zs]},Is.prototype.resolveColor=function(){var Ms=this.series,Ws=Ms.chart.styledMode,Ds=Ms.chart.options.chart.colorCount;if(delete this.nonZonedColor,Ms.options.colorByPoint){if(!Ws){Ds=Ms.options.colors||Ms.chart.options.colors;var _s=Ds[Ms.colorCounter];Ds=Ds.length}Ws=Ms.colorCounter,Ms.colorCounter++,Ms.colorCounter===Ds&&(Ms.colorCounter=0)}else Ws||(_s=Ms.color),Ws=Ms.colorIndex;this.colorIndex=Rs(this.options.colorIndex,Ws),this.color=Rs(this.options.color,_s)},Is.prototype.setNestedProperty=function(Ms,Ws,Ds){return Ds.split(".").reduce(function(_s,Ns,Ss,Us){return _s[Ns]=Us.length-1===Ss?Ws:ws(_s[Ns],!0)?_s[Ns]:{},_s[Ns]},Ms),Ms},Is.prototype.shouldDraw=function(){return!this.isNull},Is.prototype.tooltipFormatter=function(Ms){var Ws=this.series,Ds=Ws.tooltipOptions,_s=Rs(Ds.valueDecimals,""),Ns=Ds.valuePrefix||"",Ss=Ds.valueSuffix||"";return Ws.chart.styledMode&&(Ms=Ws.chart.tooltip.styledModeFormat(Ms)),(Ws.pointArrayMap||["y"]).forEach(function(Us){Us="{point."+Us,(Ns||Ss)&&(Ms=Ms.replace(RegExp(Us+"}","g"),Ns+Us+"}"+Ss)),Ms=Ms.replace(RegExp(Us+"}","g"),Us+":,."+_s+"f}")}),hs(Ms,{point:this,series:this.series},Ws.chart)},Is.prototype.update=function(Ms,Ws,Ds,_s){function Ns(){Ss.applyOptions(Ms);var zs=Zs&&Ss.hasMockGraphic;zs=Ss.y===null?!zs:zs,Zs&&zs&&(Ss.graphic=Zs.destroy(),delete Ss.hasMockGraphic),ws(Ms,!0)&&(Zs&&Zs.element&&Ms&&Ms.marker&&typeof Ms.marker.symbol<"u"&&(Ss.graphic=Zs.destroy()),Ms&&Ms.dataLabels&&Ss.dataLabel&&(Ss.dataLabel=Ss.dataLabel.destroy()),Ss.connector&&(Ss.connector=Ss.connector.destroy())),Bs=Ss.index,Us.updateParallelArrays(Ss,Bs),js.data[Bs]=ws(js.data[Bs],!0)||ws(Ms,!0)?Ss.options:Rs(Ms,js.data[Bs]),Us.isDirty=Us.isDirtyData=!0,!Us.fixedBox&&Us.hasCartesianSeries&&(ao.isDirtyBox=!0),js.legendType==="point"&&(ao.isDirtyLegend=!0),Ws&&ao.redraw(Ds)}var Ss=this,Us=Ss.series,Zs=Ss.graphic,ao=Us.chart,js=Us.options,Bs;Ws=Rs(Ws,!0),_s===!1?Ns():Ss.firePointEvent("update",{options:Ms},Ns)},Is.prototype.remove=function(Ms,Ws){this.series.removePoint(this.series.data.indexOf(this),Ms,Ws)},Is.prototype.select=function(Ms,Ws){var Ds=this,_s=Ds.series,Ns=_s.chart;this.selectedStaging=Ms=Rs(Ms,!Ds.selected),Ds.firePointEvent(Ms?"select":"unselect",{accumulate:Ws},function(){Ds.selected=Ds.options.selected=Ms,_s.options.data[_s.data.indexOf(Ds)]=Ds.options,Ds.setState(Ms&&"select"),Ws||Ns.getSelectedPoints().forEach(function(Ss){var Us=Ss.series;Ss.selected&&Ss!==Ds&&(Ss.selected=Ss.options.selected=!1,Us.options.data[Us.data.indexOf(Ss)]=Ss.options,Ss.setState(Ns.hoverPoints&&Us.options.inactiveOtherPoints?"inactive":""),Ss.firePointEvent("unselect"))})}),delete this.selectedStaging},Is.prototype.onMouseOver=function(Ms){var Ws=this.series.chart,Ds=Ws.pointer;Ms=Ms?Ds.normalize(Ms):Ds.getChartCoordinatesFromPoint(this,Ws.inverted),Ds.runPointActions(Ms,this)},Is.prototype.onMouseOut=function(){var Ms=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(Ms.hoverPoints||[]).forEach(function(Ws){Ws.setState()}),Ms.hoverPoints=Ms.hoverPoint=null},Is.prototype.importEvents=function(){if(!this.hasImportedEvents){var Ms=this,Ws=Ts(Ms.series.options.point,Ms.options).events;Ms.events=Ws,$s(Ws,function(Ds,_s){fs(Ds)&&us(Ms,_s,Ds)}),this.hasImportedEvents=!0}},Is.prototype.setState=function(Ms,Ws){var Ds=this.series,_s=this.state,Ns=Ds.options.states[Ms||"normal"]||{},Ss=cs.plotOptions[Ds.type].marker&&Ds.options.marker,Us=Ss&&Ss.enabled===!1,Zs=Ss&&Ss.states&&Ss.states[Ms||"normal"]||{},ao=Zs.enabled===!1,js=this.marker||{},Bs=Ds.chart,zs=Ss&&Ds.markerAttribs,so=Ds.halo,oo,Ao=Ds.stateMarkerGraphic;if(Ms=Ms||"",!(Ms===this.state&&!Ws||this.selected&&Ms!=="select"||Ns.enabled===!1||Ms&&(ao||Us&&Zs.enabled===!1)||Ms&&js.states&&js.states[Ms]&&js.states[Ms].enabled===!1)){if(this.state=Ms,zs&&(oo=Ds.markerAttribs(this,Ms)),this.graphic&&!this.hasMockGraphic){if(_s&&this.graphic.removeClass("highcharts-point-"+_s),Ms&&this.graphic.addClass("highcharts-point-"+Ms),!Bs.styledMode){_s=Ds.pointAttribs(this,Ms);var Xs=Rs(Bs.options.chart.animation,Ns.animation),lo=_s.opacity;Ds.options.inactiveOtherPoints&&gs(lo)&&((this.dataLabels||[]).forEach(function(co){co&&!co.hasClass("highcharts-data-label-hidden")&&co.animate({opacity:lo},Xs)}),this.connector&&this.connector.animate({opacity:lo},Xs)),this.graphic.animate(_s,Xs)}oo&&this.graphic.animate(oo,Rs(Bs.options.chart.animation,Zs.animation,Ss.animation)),Ao&&Ao.hide()}else Ms&&Zs&&(Ss=js.symbol||Ds.symbol,Ao&&Ao.currentSymbol!==Ss&&(Ao=Ao.destroy()),oo&&(Ao?Ao[Ws?"animate":"attr"]({x:oo.x,y:oo.y}):Ss&&(Ds.stateMarkerGraphic=Ao=Bs.renderer.symbol(Ss,oo.x,oo.y,oo.width,oo.height).add(Ds.markerGroup),Ao.currentSymbol=Ss)),!Bs.styledMode&&Ao&&this.state!=="inactive"&&Ao.attr(Ds.pointAttribs(this,Ms))),Ao&&(Ao[Ms&&this.isInside?"show":"hide"](),Ao.element.point=this,Ao.addClass(this.getClassName(),!0));Ns=Ns.halo,oo=(Ao=this.graphic||Ao)&&Ao.visibility||"inherit",Ns&&Ns.size&&Ao&&oo!=="hidden"&&!this.isCluster?(so||(Ds.halo=so=Bs.renderer.path().add(Ao.parentGroup)),so.show()[Ws?"animate":"attr"]({d:this.haloPath(Ns.size)}),so.attr({class:"highcharts-halo highcharts-color-"+Rs(this.colorIndex,Ds.colorIndex)+(this.className?" "+this.className:""),visibility:oo,zIndex:-1}),so.point=this,Bs.styledMode||so.attr(ys({fill:this.color||Ds.color,"fill-opacity":Ns.opacity},rs.filterUserAttributes(Ns.attributes||{})))):so&&so.point&&so.point.haloPath&&so.animate({d:so.point.haloPath(0)},null,so.hide),Cs(this,"afterSetState",{state:Ms})}},Is.prototype.haloPath=function(Ms){var Ws=this.pos();return Ws?this.series.chart.renderer.symbols.circle(Math.floor(Ws[0])-Ms,Ws[1]-Ms,2*Ms,2*Ms):[]},Is}(),is}),Ri(ts,"Core/Pointer.js",[ts["Core/Color/Color.js"],ts["Core/Globals.js"],ts["Core/Tooltip.js"],ts["Core/Utilities.js"]],function(rs,is,ns,ss){var os=rs.parse,ls=is.charts,cs=is.noop,hs=ss.addEvent,us=ss.attr,As=ss.css,bs=ss.defined,ys=ss.extend,Cs=ss.find,ps=ss.fireEvent,ms=ss.isNumber,fs=ss.isObject,gs=ss.objectEach,ws=ss.offset,Ts=ss.pick,$s=ss.splat;return rs=function(){function Rs(Ps,Qs){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=Ps,this.hasDragged=!1,this.options=Qs,this.init(Ps,Qs)}return Rs.prototype.applyInactiveState=function(Ps){var Qs=[],Fs;(Ps||[]).forEach(function(Is){Fs=Is.series,Qs.push(Fs),Fs.linkedParent&&Qs.push(Fs.linkedParent),Fs.linkedSeries&&(Qs=Qs.concat(Fs.linkedSeries)),Fs.navigatorSeries&&Qs.push(Fs.navigatorSeries)}),this.chart.series.forEach(function(Is){Qs.indexOf(Is)===-1?Is.setState("inactive",!0):Is.options.inactiveOtherPoints&&Is.setAllPointsToState("inactive")})},Rs.prototype.destroy=function(){var Ps=this;this.eventsToUnbind.forEach(function(Qs){return Qs()}),this.eventsToUnbind=[],is.chartCount||(Rs.unbindDocumentMouseUp&&(Rs.unbindDocumentMouseUp=Rs.unbindDocumentMouseUp()),Rs.unbindDocumentTouchEnd&&(Rs.unbindDocumentTouchEnd=Rs.unbindDocumentTouchEnd())),clearInterval(Ps.tooltipTimeout),gs(Ps,function(Qs,Fs){Ps[Fs]=void 0})},Rs.prototype.getSelectionMarkerAttrs=function(Ps,Qs){var Fs=this,Is={args:{chartX:Ps,chartY:Qs},attrs:{},shapeType:"rect"};return ps(this,"getSelectionMarkerAttrs",Is,function(Ms){var Ws=Fs.chart,Ds=Fs.mouseDownX;Ds=Ds===void 0?0:Ds;var _s=Fs.mouseDownY;_s=_s===void 0?0:_s;var Ns=Fs.zoomHor,Ss=Fs.zoomVert;Ms=Ms.attrs,Ms.x=Ws.plotLeft,Ms.y=Ws.plotTop,Ms.width=Ns?1:Ws.plotWidth,Ms.height=Ss?1:Ws.plotHeight,Ns&&(Ws=Ps-Ds,Ms.width=Math.abs(Ws),Ms.x=(0<Ws?0:Ws)+Ds),Ss&&(Ws=Qs-_s,Ms.height=Math.abs(Ws),Ms.y=(0<Ws?0:Ws)+_s)}),Is},Rs.prototype.drag=function(Ps){var Qs=this.chart,Fs=Qs.options.chart,Is=Qs.plotLeft,Ms=Qs.plotTop,Ws=Qs.plotWidth,Ds=Qs.plotHeight,_s=this.mouseDownX||0,Ns=this.mouseDownY||0,Ss=fs(Fs.panning)?Fs.panning&&Fs.panning.enabled:Fs.panning,Us=Fs.panKey&&Ps[Fs.panKey+"Key"],Zs=Ps.chartX,ao=Ps.chartY,js=this.selectionMarker;js&&js.touch||(Zs<Is?Zs=Is:Zs>Is+Ws&&(Zs=Is+Ws),ao<Ms?ao=Ms:ao>Ms+Ds&&(ao=Ms+Ds),this.hasDragged=Math.sqrt(Math.pow(_s-Zs,2)+Math.pow(Ns-ao,2)),10<this.hasDragged&&(Is=Qs.isInsidePlot(_s-Is,Ns-Ms,{visiblePlotOnly:!0}),ao=this.getSelectionMarkerAttrs(Zs,ao),Zs=ao.shapeType,ao=ao.attrs,!Qs.hasCartesianSeries&&!Qs.mapView||!this.zoomX&&!this.zoomY||!Is||Us||js||(this.selectionMarker=js=Qs.renderer[Zs](),js.attr({class:"highcharts-selection-marker",zIndex:7}).add(),Qs.styledMode||js.attr({fill:Fs.selectionMarkerFill||os("#335cad").setOpacity(.25).get()})),js&&js.attr(ao),Is&&!js&&Ss&&Qs.pan(Ps,Fs.panning)))},Rs.prototype.dragStart=function(Ps){var Qs=this.chart;Qs.mouseIsDown=Ps.type,Qs.cancelClick=!1,Qs.mouseDownX=this.mouseDownX=Ps.chartX,Qs.mouseDownY=this.mouseDownY=Ps.chartY},Rs.prototype.getSelectionBox=function(Ps){var Qs={args:{marker:Ps},result:{}};return ps(this,"getSelectionBox",Qs,function(Fs){Fs.result={x:Ps.attr?+Ps.attr("x"):Ps.x,y:Ps.attr?+Ps.attr("y"):Ps.y,width:Ps.attr?Ps.attr("width"):Ps.width,height:Ps.attr?Ps.attr("height"):Ps.height}}),Qs.result},Rs.prototype.drop=function(Ps){var Qs=this,Fs=this.chart,Is=this.hasPinched;if(this.selectionMarker){var Ms=this.getSelectionBox(this.selectionMarker),Ws=Ms.x,Ds=Ms.y,_s=Ms.width,Ns=Ms.height,Ss={originalEvent:Ps,xAxis:[],yAxis:[],x:Ws,y:Ds,width:_s,height:Ns},Us=!!Fs.mapView;(this.hasDragged||Is)&&(Fs.axes.forEach(function(Zs){if(Zs.zoomEnabled&&bs(Zs.min)&&(Is||Qs[{xAxis:"zoomX",yAxis:"zoomY"}[Zs.coll]])&&ms(Ws)&&ms(Ds)&&ms(_s)&&ms(Ns)){var ao=Zs.horiz,js=Ps.type==="touchend"?Zs.minPixelPadding:0,Bs=Zs.toValue((ao?Ws:Ds)+js);ao=Zs.toValue((ao?Ws+_s:Ds+Ns)-js),Ss[Zs.coll].push({axis:Zs,min:Math.min(Bs,ao),max:Math.max(Bs,ao)}),Us=!0}}),Us&&ps(Fs,"selection",Ss,function(Zs){Fs.zoom(ys(Zs,Is?{animation:!1}:null))})),ms(Fs.index)&&(this.selectionMarker=this.selectionMarker.destroy()),Is&&this.scaleGroups()}Fs&&ms(Fs.index)&&(As(Fs.container,{cursor:Fs._cursor}),Fs.cancelClick=10<this.hasDragged,Fs.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},Rs.prototype.findNearestKDPoint=function(Ps,Qs,Fs){var Is;return Ps.forEach(function(Ms){var Ws=!(Ms.noSharedTooltip&&Qs)&&0>Ms.options.findNearestPointBy.indexOf("y");if(Ms=Ms.searchPoint(Fs,Ws),(Ws=fs(Ms,!0)&&Ms.series)&&!(Ws=!fs(Is,!0))){Ws=Is.distX-Ms.distX;var Ds=Is.dist-Ms.dist,_s=(Ms.series.group&&Ms.series.group.zIndex)-(Is.series.group&&Is.series.group.zIndex);Ws=0<(Ws!==0&&Qs?Ws:Ds!==0?Ds:_s!==0?_s:Is.series.index>Ms.series.index?-1:1)}Ws&&(Is=Ms)}),Is},Rs.prototype.getChartCoordinatesFromPoint=function(Ps,Qs){var Fs=Ps.series,Is=Fs.xAxis;Fs=Fs.yAxis;var Ms=Ps.shapeArgs;if(Is&&Fs){var Ws=Ts(Ps.clientX,Ps.plotX),Ds=Ps.plotY||0;return Ps.isNode&&Ms&&ms(Ms.x)&&ms(Ms.y)&&(Ws=Ms.x,Ds=Ms.y),Qs?{chartX:Fs.len+Fs.pos-Ds,chartY:Is.len+Is.pos-Ws}:{chartX:Ws+Is.pos,chartY:Ds+Fs.pos}}if(Ms&&Ms.x&&Ms.y)return{chartX:Ms.x,chartY:Ms.y}},Rs.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var Ps=this.chart.container,Qs=ws(Ps);this.chartPosition={left:Qs.left,top:Qs.top,scaleX:1,scaleY:1};var Fs=Ps.offsetWidth;return Ps=Ps.offsetHeight,2<Fs&&2<Ps&&(this.chartPosition.scaleX=Qs.width/Fs,this.chartPosition.scaleY=Qs.height/Ps),this.chartPosition},Rs.prototype.getCoordinates=function(Ps){var Qs={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(Fs){Qs[Fs.isXAxis?"xAxis":"yAxis"].push({axis:Fs,value:Fs.toValue(Ps[Fs.horiz?"chartX":"chartY"])})}),Qs},Rs.prototype.getHoverData=function(Ps,Qs,Fs,Is,Ms,Ws){var Ds=[];Is=!(!Is||!Ps);var _s=function(Zs){return Zs.visible&&!(!Ms&&Zs.directTouch)&&Ts(Zs.options.enableMouseTracking,!0)},Ns={chartX:Ws?Ws.chartX:void 0,chartY:Ws?Ws.chartY:void 0,shared:Ms};ps(this,"beforeGetHoverData",Ns);var Ss=Qs&&!Qs.stickyTracking?[Qs]:Fs.filter(function(Zs){return Zs.stickyTracking&&(Ns.filter||_s)(Zs)}),Us=Is||!Ws?Ps:this.findNearestKDPoint(Ss,Ms,Ws);return Qs=Us&&Us.series,Us&&(Ms&&!Qs.noSharedTooltip?(Ss=Fs.filter(function(Zs){return Ns.filter?Ns.filter(Zs):_s(Zs)&&!Zs.noSharedTooltip}),Ss.forEach(function(Zs){var ao=Cs(Zs.points,function(js){return js.x===Us.x&&!js.isNull});fs(ao)&&(Zs.boosted&&Zs.boost&&(ao=Zs.boost.getPoint(ao)),Ds.push(ao))})):Ds.push(Us)),Ns={hoverPoint:Us},ps(this,"afterGetHoverData",Ns),{hoverPoint:Ns.hoverPoint,hoverSeries:Qs,hoverPoints:Ds}},Rs.prototype.getPointFromEvent=function(Ps){Ps=Ps.target;for(var Qs;Ps&&!Qs;)Qs=Ps.point,Ps=Ps.parentNode;return Qs},Rs.prototype.onTrackerMouseOut=function(Ps){Ps=Ps.relatedTarget||Ps.toElement;var Qs=this.chart.hoverSeries;this.isDirectTouch=!1,!Qs||!Ps||Qs.stickyTracking||this.inClass(Ps,"highcharts-tooltip")||this.inClass(Ps,"highcharts-series-"+Qs.index)&&this.inClass(Ps,"highcharts-tracker")||Qs.onMouseOut()},Rs.prototype.inClass=function(Ps,Qs){for(var Fs;Ps;){if(Fs=us(Ps,"class")){if(Fs.indexOf(Qs)!==-1)return!0;if(Fs.indexOf("highcharts-container")!==-1)return!1}Ps=Ps.parentElement}},Rs.prototype.init=function(Ps,Qs){this.options=Qs,this.chart=Ps,this.runChartClick=!(!Qs.chart.events||!Qs.chart.events.click),this.pinchDown=[],this.lastValidTouch={},ns&&(Ps.tooltip=new ns(Ps,Qs.tooltip)),this.setDOMEvents()},Rs.prototype.normalize=function(Ps,Qs){var Fs=Ps.touches,Is=Fs?Fs.length?Fs.item(0):Ts(Fs.changedTouches,Ps.changedTouches)[0]:Ps;return Qs||(Qs=this.getChartPosition()),Fs=Is.pageX-Qs.left,Is=Is.pageY-Qs.top,Fs/=Qs.scaleX,Is/=Qs.scaleY,ys(Ps,{chartX:Math.round(Fs),chartY:Math.round(Is)})},Rs.prototype.onContainerClick=function(Ps){var Qs=this.chart,Fs=Qs.hoverPoint;Ps=this.normalize(Ps);var Is=Qs.plotLeft,Ms=Qs.plotTop;Qs.cancelClick||(Fs&&this.inClass(Ps.target,"highcharts-tracker")?(ps(Fs.series,"click",ys(Ps,{point:Fs})),Qs.hoverPoint&&Fs.firePointEvent("click",Ps)):(ys(Ps,this.getCoordinates(Ps)),Qs.isInsidePlot(Ps.chartX-Is,Ps.chartY-Ms,{visiblePlotOnly:!0})&&ps(Qs,"click",Ps)))},Rs.prototype.onContainerMouseDown=function(Ps){var Qs=((Ps.buttons||Ps.button)&1)===1;Ps=this.normalize(Ps),is.isFirefox&&Ps.button!==0&&this.onContainerMouseMove(Ps),(typeof Ps.button>"u"||Qs)&&(this.zoomOption(Ps),Qs&&Ps.preventDefault&&Ps.preventDefault(),this.dragStart(Ps))},Rs.prototype.onContainerMouseLeave=function(Ps){var Qs=ls[Ts(Rs.hoverChartIndex,-1)],Fs=this.chart.tooltip;Ps=this.normalize(Ps),Qs&&(Ps.relatedTarget||Ps.toElement)&&(Qs.pointer.reset(),Qs.pointer.chartPosition=void 0),Fs&&!Fs.isHidden&&this.reset()},Rs.prototype.onContainerMouseEnter=function(Ps){delete this.chartPosition},Rs.prototype.onContainerMouseMove=function(Ps){var Qs=this.chart,Fs=Qs.tooltip;Ps=this.normalize(Ps),this.setHoverChartIndex(),Ps.preventDefault||(Ps.returnValue=!1),(Qs.mouseIsDown==="mousedown"||this.touchSelect(Ps))&&this.drag(Ps),Qs.openMenu||!this.inClass(Ps.target,"highcharts-tracker")&&!Qs.isInsidePlot(Ps.chartX-Qs.plotLeft,Ps.chartY-Qs.plotTop,{visiblePlotOnly:!0})||Fs&&Fs.shouldStickOnContact(Ps)||(this.inClass(Ps.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(Ps))},Rs.prototype.onDocumentTouchEnd=function(Ps){var Qs=ls[Ts(Rs.hoverChartIndex,-1)];Qs&&Qs.pointer.drop(Ps)},Rs.prototype.onContainerTouchMove=function(Ps){this.touchSelect(Ps)?this.onContainerMouseMove(Ps):this.touch(Ps)},Rs.prototype.onContainerTouchStart=function(Ps){this.touchSelect(Ps)?this.onContainerMouseDown(Ps):(this.zoomOption(Ps),this.touch(Ps,!0))},Rs.prototype.onDocumentMouseMove=function(Ps){var Qs=this.chart,Fs=Qs.tooltip,Is=this.chartPosition;Ps=this.normalize(Ps,Is),!Is||Qs.isInsidePlot(Ps.chartX-Qs.plotLeft,Ps.chartY-Qs.plotTop,{visiblePlotOnly:!0})||Fs&&Fs.shouldStickOnContact(Ps)||this.inClass(Ps.target,"highcharts-tracker")||this.reset()},Rs.prototype.onDocumentMouseUp=function(Ps){var Qs=ls[Ts(Rs.hoverChartIndex,-1)];Qs&&Qs.pointer.drop(Ps)},Rs.prototype.pinch=function(Ps){var Qs=this,Fs=Qs.chart,Is=Qs.pinchDown,Ms=Ps.touches||[],Ws=Ms.length,Ds=Qs.lastValidTouch,_s=Qs.hasZoom,Ns={},Ss=Ws===1&&(Qs.inClass(Ps.target,"highcharts-tracker")&&Fs.runTrackerClick||Qs.runChartClick),Us={},Zs=Qs.chart.tooltip;Zs=Ws===1&&Ts(Zs&&Zs.options.followTouchMove,!0);var ao=Qs.selectionMarker;1<Ws?Qs.initiated=!0:Zs&&(Qs.initiated=!1),_s&&Qs.initiated&&!Ss&&Ps.cancelable!==!1&&Ps.preventDefault(),[].map.call(Ms,function(js){return Qs.normalize(js)}),Ps.type==="touchstart"?([].forEach.call(Ms,function(js,Bs){Is[Bs]={chartX:js.chartX,chartY:js.chartY}}),Ds.x=[Is[0].chartX,Is[1]&&Is[1].chartX],Ds.y=[Is[0].chartY,Is[1]&&Is[1].chartY],Fs.axes.forEach(function(js){if(js.zoomEnabled){var Bs=Fs.bounds[js.horiz?"h":"v"],zs=js.minPixelPadding,so=js.toPixels(Math.min(Ts(js.options.min,js.dataMin),js.dataMin)),oo=js.toPixels(Math.max(Ts(js.options.max,js.dataMax),js.dataMax)),Ao=Math.max(so,oo);Bs.min=Math.min(js.pos,Math.min(so,oo)-zs),Bs.max=Math.max(js.pos+js.len,Ao+zs)}}),Qs.res=!0):Zs?this.runPointActions(Qs.normalize(Ps)):Is.length&&(ps(Fs,"touchpan",{originalEvent:Ps},function(){ao||(Qs.selectionMarker=ao=ys({destroy:cs,touch:!0},Fs.plotBox)),Qs.pinchTranslate(Is,Ms,Ns,ao,Us,Ds),Qs.hasPinched=_s,Qs.scaleGroups(Ns,Us)}),Qs.res&&(Qs.res=!1,this.reset(!1,0)))},Rs.prototype.pinchTranslate=function(Ps,Qs,Fs,Is,Ms,Ws){this.zoomHor&&this.pinchTranslateDirection(!0,Ps,Qs,Fs,Is,Ms,Ws),this.zoomVert&&this.pinchTranslateDirection(!1,Ps,Qs,Fs,Is,Ms,Ws)},Rs.prototype.pinchTranslateDirection=function(Ps,Qs,Fs,Is,Ms,Ws,Ds,_s){var Ns=this.chart,Ss=Ps?"x":"y",Us=Ps?"X":"Y",Zs="chart"+Us,ao=Ps?"width":"height",js=Ns["plot"+(Ps?"Left":"Top")],Bs=Ns.inverted,zs=Ns.bounds[Ps?"h":"v"],so=Qs.length===1,oo=Qs[0][Zs],Ao=!so&&Qs[1][Zs];Qs=function(){typeof ro=="number"&&20<Math.abs(oo-Ao)&&(co=_s||Math.abs(So-ro)/Math.abs(oo-Ao)),lo=(js-So)/co+oo,Xs=Ns["plot"+(Ps?"Width":"Height")]/co};var Xs,lo,co=_s||1,So=Fs[0][Zs],ro=!so&&Fs[1][Zs];if(Qs(),Fs=lo,Fs<zs.min){Fs=zs.min;var vo=!0}else Fs+Xs>zs.max&&(Fs=zs.max-Xs,vo=!0);vo?(So-=.8*(So-Ds[Ss][0]),typeof ro=="number"&&(ro-=.8*(ro-Ds[Ss][1])),Qs()):Ds[Ss]=[So,ro],Bs||(Ws[Ss]=lo-js,Ws[ao]=Xs),Ws=Bs?1/co:co,Ms[ao]=Xs,Ms[Ss]=Fs,Is[Bs?Ps?"scaleY":"scaleX":"scale"+Us]=co,Is["translate"+Us]=Ws*js+(So-Ws*oo)},Rs.prototype.reset=function(Ps,Qs){var Fs=this.chart,Is=Fs.hoverSeries,Ms=Fs.hoverPoint,Ws=Fs.hoverPoints,Ds=Fs.tooltip,_s=Ds&&Ds.shared?Ws:Ms;Ps&&_s&&$s(_s).forEach(function(Ns){Ns.series.isCartesian&&typeof Ns.plotX>"u"&&(Ps=!1)}),Ps?Ds&&_s&&$s(_s).length&&(Ds.refresh(_s),Ds.shared&&Ws?Ws.forEach(function(Ns){Ns.setState(Ns.state,!0),Ns.series.isCartesian&&(Ns.series.xAxis.crosshair&&Ns.series.xAxis.drawCrosshair(null,Ns),Ns.series.yAxis.crosshair&&Ns.series.yAxis.drawCrosshair(null,Ns))}):Ms&&(Ms.setState(Ms.state,!0),Fs.axes.forEach(function(Ns){Ns.crosshair&&Ms.series[Ns.coll]===Ns&&Ns.drawCrosshair(null,Ms)}))):(Ms&&Ms.onMouseOut(),Ws&&Ws.forEach(function(Ns){Ns.setState()}),Is&&Is.onMouseOut(),Ds&&Ds.hide(Qs),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),Fs.axes.forEach(function(Ns){Ns.hideCrosshair()}),this.hoverX=Fs.hoverPoints=Fs.hoverPoint=null)},Rs.prototype.runPointActions=function(Ps,Qs,Fs){var Is=this.chart,Ms=Is.tooltip&&Is.tooltip.options.enabled?Is.tooltip:void 0,Ws=Ms?Ms.shared:!1,Ds=Qs||Is.hoverPoint,_s=Ds&&Ds.series||Is.hoverSeries;Qs=this.getHoverData(Ds,_s,Is.series,(!Ps||Ps.type!=="touchmove")&&(!!Qs||_s&&_s.directTouch&&this.isDirectTouch),Ws,Ps),Ds=Qs.hoverPoint,_s=Qs.hoverSeries;var Ns=Qs.hoverPoints;Qs=_s&&_s.tooltipOptions.followPointer&&!_s.tooltipOptions.split;var Ss=Ws&&_s&&!_s.noSharedTooltip;if(Ds&&(Fs||Ds!==Is.hoverPoint||Ms&&Ms.isHidden)){if((Is.hoverPoints||[]).forEach(function(Us){Ns.indexOf(Us)===-1&&Us.setState()}),Is.hoverSeries!==_s&&_s.onMouseOver(),this.applyInactiveState(Ns),(Ns||[]).forEach(function(Us){Us.setState("hover")}),Is.hoverPoint&&Is.hoverPoint.firePointEvent("mouseOut"),!Ds.series)return;Is.hoverPoints=Ns,Is.hoverPoint=Ds,Ds.firePointEvent("mouseOver",void 0,function(){Ms&&Ds&&Ms.refresh(Ss?Ns:Ds,Ps)})}else Qs&&Ms&&!Ms.isHidden&&(Fs=Ms.getAnchor([{}],Ps),Is.isInsidePlot(Fs[0],Fs[1],{visiblePlotOnly:!0})&&Ms.updatePosition({plotX:Fs[0],plotY:Fs[1]}));this.unDocMouseMove||(this.unDocMouseMove=hs(Is.container.ownerDocument,"mousemove",function(Us){var Zs=ls[Rs.hoverChartIndex];Zs&&Zs.pointer.onDocumentMouseMove(Us)}),this.eventsToUnbind.push(this.unDocMouseMove)),Is.axes.forEach(function(Us){var Zs=Ts((Us.crosshair||{}).snap,!0),ao;Zs&&((ao=Is.hoverPoint)&&ao.series[Us.coll]===Us||(ao=Cs(Ns,function(js){return js.series&&js.series[Us.coll]===Us}))),ao||!Zs?Us.drawCrosshair(Ps,ao):Us.hideCrosshair()})},Rs.prototype.scaleGroups=function(Ps,Qs){var Fs=this.chart;Fs.series.forEach(function(Is){var Ms=Ps||Is.getPlotBox();Is.group&&(Is.xAxis&&Is.xAxis.zoomEnabled||Fs.mapView)&&(Is.group.attr(Ms),Is.markerGroup&&(Is.markerGroup.attr(Ms),Is.markerGroup.clip(Qs?Fs.clipRect:null)),Is.dataLabelsGroup&&Is.dataLabelsGroup.attr(Ms))}),Fs.clipRect.attr(Qs||Fs.clipBox)},Rs.prototype.setDOMEvents=function(){var Ps=this,Qs=this.chart.container,Fs=Qs.ownerDocument;Qs.onmousedown=this.onContainerMouseDown.bind(this),Qs.onmousemove=this.onContainerMouseMove.bind(this),Qs.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(hs(Qs,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(hs(Qs,"mouseleave",this.onContainerMouseLeave.bind(this))),Rs.unbindDocumentMouseUp||(Rs.unbindDocumentMouseUp=hs(Fs,"mouseup",this.onDocumentMouseUp.bind(this)));for(var Is=this.chart.renderTo.parentElement;Is&&Is.tagName!=="BODY";)this.eventsToUnbind.push(hs(Is,"scroll",function(){delete Ps.chartPosition})),Is=Is.parentElement;is.hasTouch&&(this.eventsToUnbind.push(hs(Qs,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(hs(Qs,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),Rs.unbindDocumentTouchEnd||(Rs.unbindDocumentTouchEnd=hs(Fs,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},Rs.prototype.setHoverChartIndex=function(){var Ps=this.chart,Qs=is.charts[Ts(Rs.hoverChartIndex,-1)];Qs&&Qs!==Ps&&Qs.pointer.onContainerMouseLeave({relatedTarget:Ps.container}),Qs&&Qs.mouseIsDown||(Rs.hoverChartIndex=Ps.index)},Rs.prototype.touch=function(Ps,Qs){var Fs=this.chart;if(this.setHoverChartIndex(),Ps.touches.length===1)if(Ps=this.normalize(Ps),Fs.isInsidePlot(Ps.chartX-Fs.plotLeft,Ps.chartY-Fs.plotTop,{visiblePlotOnly:!0})&&!Fs.openMenu){if(Qs&&this.runPointActions(Ps),Ps.type==="touchmove"){Qs=this.pinchDown;var Is=Qs[0]?4<=Math.sqrt(Math.pow(Qs[0].chartX-Ps.chartX,2)+Math.pow(Qs[0].chartY-Ps.chartY,2)):!1}Ts(Is,!0)&&this.pinch(Ps)}else Qs&&this.reset();else Ps.touches.length===2&&this.pinch(Ps)},Rs.prototype.touchSelect=function(Ps){return!(!this.chart.options.chart.zooming.singleTouch||!Ps.touches||Ps.touches.length!==1)},Rs.prototype.zoomOption=function(Ps){var Qs=this.chart,Fs=Qs.options.chart;Qs=Qs.inverted;var Is=Fs.zooming.type||"";/touch/.test(Ps.type)&&(Is=Ts(Fs.zooming.pinchType,Is)),this.zoomX=Ps=/x/.test(Is),this.zoomY=Fs=/y/.test(Is),this.zoomHor=Ps&&!Qs||Fs&&Qs,this.zoomVert=Fs&&!Qs||Ps&&Qs,this.hasZoom=Ps||Fs},Rs}(),rs}),Ri(ts,"Core/MSPointer.js",[ts["Core/Globals.js"],ts["Core/Pointer.js"],ts["Core/Utilities.js"]],function(rs,is,ns){function ss(){var ws=[];return ws.item=function(Ts){return this[Ts]},Cs(fs,function(Ts){ws.push({pageX:Ts.pageX,pageY:Ts.pageY,target:Ts.target})}),ws}function os(ws,Ts,$s,Rs){var Ps=cs[is.hoverChartIndex||NaN];ws.pointerType!=="touch"&&ws.pointerType!==ws.MSPOINTER_TYPE_TOUCH||!Ps||(Ps=Ps.pointer,Rs(ws),Ps[Ts]({type:$s,target:ws.currentTarget,preventDefault:us,touches:ss()}))}var ls=this&&this.__extends||function(){var ws=function(Ts,$s){return ws=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Rs,Ps){Rs.__proto__=Ps}||function(Rs,Ps){for(var Qs in Ps)Ps.hasOwnProperty(Qs)&&(Rs[Qs]=Ps[Qs])},ws(Ts,$s)};return function(Ts,$s){function Rs(){this.constructor=Ts}ws(Ts,$s),Ts.prototype=$s===null?Object.create($s):(Rs.prototype=$s.prototype,new Rs)}}(),cs=rs.charts,hs=rs.doc,us=rs.noop,As=rs.win,bs=ns.addEvent,ys=ns.css,Cs=ns.objectEach,ps=ns.pick,ms=ns.removeEvent,fs={},gs=!!As.PointerEvent;return function(ws){function Ts(){return ws!==null&&ws.apply(this,arguments)||this}return ls(Ts,ws),Ts.isRequired=function(){return!(rs.hasTouch||!As.PointerEvent&&!As.MSPointerEvent)},Ts.prototype.batchMSEvents=function($s){$s(this.chart.container,gs?"pointerdown":"MSPointerDown",this.onContainerPointerDown),$s(this.chart.container,gs?"pointermove":"MSPointerMove",this.onContainerPointerMove),$s(hs,gs?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},Ts.prototype.destroy=function(){this.batchMSEvents(ms),ws.prototype.destroy.call(this)},Ts.prototype.init=function($s,Rs){ws.prototype.init.call(this,$s,Rs),this.hasZoom&&ys($s.container,{"-ms-touch-action":"none","touch-action":"none"})},Ts.prototype.onContainerPointerDown=function($s){os($s,"onContainerTouchStart","touchstart",function(Rs){fs[Rs.pointerId]={pageX:Rs.pageX,pageY:Rs.pageY,target:Rs.currentTarget}})},Ts.prototype.onContainerPointerMove=function($s){os($s,"onContainerTouchMove","touchmove",function(Rs){fs[Rs.pointerId]={pageX:Rs.pageX,pageY:Rs.pageY},fs[Rs.pointerId].target||(fs[Rs.pointerId].target=Rs.currentTarget)})},Ts.prototype.onDocumentPointerUp=function($s){os($s,"onDocumentTouchEnd","touchend",function(Rs){delete fs[Rs.pointerId]})},Ts.prototype.setDOMEvents=function(){var $s=this.chart.tooltip;ws.prototype.setDOMEvents.call(this),(this.hasZoom||ps($s&&$s.options.followTouchMove,!0))&&this.batchMSEvents(bs)},Ts}(is)}),Ri(ts,"Core/Legend/Legend.js",[ts["Core/Animation/AnimationUtilities.js"],ts["Core/FormatUtilities.js"],ts["Core/Globals.js"],ts["Core/Series/Point.js"],ts["Core/Renderer/RendererUtilities.js"],ts["Core/Utilities.js"]],function(rs,is,ns,ss,os,ls){var cs=rs.animObject,hs=rs.setAnimation,us=is.format,As=ns.marginNames,bs=os.distribute,ys=ls.addEvent,Cs=ls.createElement,ps=ls.css,ms=ls.defined,fs=ls.discardElement,gs=ls.find,ws=ls.fireEvent,Ts=ls.isNumber,$s=ls.merge,Rs=ls.pick,Ps=ls.relativeLength,Qs=ls.stableSort,Fs=ls.syncTimeout;return rs=function(){function Is(Ms,Ws){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=Ms,this.init(Ms,Ws)}return Is.prototype.init=function(Ms,Ws){this.chart=Ms,this.setOptions(Ws),Ws.enabled&&(this.render(),ys(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=ys(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},Is.prototype.setOptions=function(Ms){var Ws=Rs(Ms.padding,8);this.options=Ms,this.chart.styledMode||(this.itemStyle=Ms.itemStyle,this.itemHiddenStyle=$s(this.itemStyle,Ms.itemHiddenStyle)),this.itemMarginTop=Ms.itemMarginTop||0,this.itemMarginBottom=Ms.itemMarginBottom||0,this.padding=Ws,this.initialItemY=Ws-5,this.symbolWidth=Rs(Ms.symbolWidth,16),this.pages=[],this.proximate=Ms.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0},Is.prototype.update=function(Ms,Ws){var Ds=this.chart;this.setOptions($s(!0,this.options,Ms)),this.destroy(),Ds.isDirtyLegend=Ds.isDirtyBox=!0,Rs(Ws,!0)&&Ds.redraw(),ws(this,"afterUpdate")},Is.prototype.colorizeItem=function(Ms,Ws){var Ds=Ms.legendItem||{},_s=Ds.group,Ns=Ds.label,Ss=Ds.line;if(Ds=Ds.symbol,_s&&_s[Ws?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var Us=this.options;_s=this.itemHiddenStyle.color,Us=Ws?Us.itemStyle.color:_s;var Zs=Ws&&Ms.color||_s,ao=Ms.options&&Ms.options.marker,js={fill:Zs};Ns&&Ns.css({fill:Us,color:Us}),Ss&&Ss.attr({stroke:Zs}),Ds&&(ao&&Ds.isMarker&&(js=Ms.pointAttribs(),Ws||(js.stroke=js.fill=_s)),Ds.attr(js))}ws(this,"afterColorizeItem",{item:Ms,visible:Ws})},Is.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},Is.prototype.positionItem=function(Ms){var Ws=this,Ds=Ms.legendItem||{},_s=Ds.group,Ns=Ds.x;Ns=Ns===void 0?0:Ns,Ds=Ds.y,Ds=Ds===void 0?0:Ds;var Ss=this.options,Us=Ss.symbolPadding,Zs=!Ss.rtl;Ss=Ms.checkbox,_s&&_s.element&&(Us={translateX:Zs?Ns:this.legendWidth-Ns-2*Us-4,translateY:Ds},_s[ms(_s.translateY)?"animate":"attr"](Us,void 0,function(){ws(Ws,"afterPositionItem",{item:Ms})})),Ss&&(Ss.x=Ns,Ss.y=Ds)},Is.prototype.destroyItem=function(Ms){for(var Ws=Ms.checkbox,Ds=Ms.legendItem||{},_s=0,Ns=["group","label","line","symbol"];_s<Ns.length;_s++){var Ss=Ns[_s];Ds[Ss]&&(Ds[Ss]=Ds[Ss].destroy())}Ws&&fs(Ws),Ms.legendItem=void 0},Is.prototype.destroy=function(){for(var Ms=0,Ws=this.getAllItems();Ms<Ws.length;Ms++)this.destroyItem(Ws[Ms]);for(Ms=0,Ws="clipRect up down pager nav box title group".split(" ");Ms<Ws.length;Ms++){var Ds=Ws[Ms];this[Ds]&&(this[Ds]=this[Ds].destroy())}this.display=null},Is.prototype.positionCheckboxes=function(){var Ms=this.group&&this.group.alignAttr,Ws=this.clipHeight||this.legendHeight,Ds=this.titleHeight;if(Ms){var _s=Ms.translateY;this.allItems.forEach(function(Ns){var Ss=Ns.checkbox;if(Ss){var Us=_s+Ds+Ss.y+(this.scrollOffset||0)+3;ps(Ss,{left:Ms.translateX+Ns.checkboxOffset+Ss.x-20+"px",top:Us+"px",display:this.proximate||Us>_s-6&&Us<_s+Ws-6?"":"none"})}},this)}},Is.prototype.renderTitle=function(){var Ms=this.options,Ws=this.padding,Ds=Ms.title,_s=0;Ds.text&&(this.title||(this.title=this.chart.renderer.label(Ds.text,Ws-3,Ws-4,void 0,void 0,void 0,Ms.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(Ds.style),this.title.add(this.group)),Ds.width||this.title.css({width:this.maxLegendWidth+"px"}),Ms=this.title.getBBox(),_s=Ms.height,this.offsetWidth=Ms.width,this.contentGroup.attr({translateY:_s})),this.titleHeight=_s},Is.prototype.setText=function(Ms){var Ws=this.options;Ms.legendItem.label.attr({text:Ws.labelFormat?us(Ws.labelFormat,Ms,this.chart):Ws.labelFormatter.call(Ms)})},Is.prototype.renderItem=function(Ms){var Ws=Ms.legendItem=Ms.legendItem||{},Ds=this.chart,_s=Ds.renderer,Ns=this.options,Ss=this.symbolWidth,Us=Ns.symbolPadding||0,Zs=this.itemStyle,ao=this.itemHiddenStyle,js=Ns.layout==="horizontal"?Rs(Ns.itemDistance,20):0,Bs=!Ns.rtl,zs=!Ms.series,so=!zs&&Ms.series.drawLegendSymbol?Ms.series:Ms,oo=so.options,Ao=this.createCheckboxForItem&&oo&&oo.showCheckbox,Xs=Ns.useHTML,lo=Ms.options.className,co=Ws.label;oo=Ss+Us+js+(Ao?20:0),co||(Ws.group=_s.g("legend-item").addClass("highcharts-"+so.type+"-series highcharts-color-"+Ms.colorIndex+(lo?" "+lo:"")+(zs?" highcharts-series-"+Ms.index:"")).attr({zIndex:1}).add(this.scrollGroup),Ws.label=co=_s.text("",Bs?Ss+Us:-Us,this.baseline||0,Xs),Ds.styledMode||co.css($s(Ms.visible?Zs:ao)),co.attr({align:Bs?"left":"right",zIndex:2}).add(Ws.group),this.baseline||(this.fontMetrics=_s.fontMetrics(Ds.styledMode?12:Zs.fontSize,co),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,co.attr("y",this.baseline),this.symbolHeight=Ns.symbolHeight||this.fontMetrics.f,Ns.squareSymbol&&(this.symbolWidth=Rs(Ns.symbolWidth,Math.max(this.symbolHeight,16)),oo=this.symbolWidth+Us+js+(Ao?20:0),Bs&&co.attr("x",this.symbolWidth+Us))),so.drawLegendSymbol(this,Ms),this.setItemEvents&&this.setItemEvents(Ms,co,Xs)),Ao&&!Ms.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(Ms),this.colorizeItem(Ms,Ms.visible),!Ds.styledMode&&Zs.width||co.css({width:(Ns.itemWidth||this.widthOption||Ds.spacingBox.width)-oo+"px"}),this.setText(Ms),Ds=co.getBBox(),_s=this.fontMetrics&&this.fontMetrics.h||0,Ms.itemWidth=Ms.checkboxOffset=Ns.itemWidth||Ws.labelWidth||Ds.width+oo,this.maxItemWidth=Math.max(this.maxItemWidth,Ms.itemWidth),this.totalItemWidth+=Ms.itemWidth,this.itemHeight=Ms.itemHeight=Math.round(Ws.labelHeight||(Ds.height>1.5*_s?Ds.height:_s))},Is.prototype.layoutItem=function(Ms){var Ws=this.options,Ds=this.padding,_s=Ws.layout==="horizontal",Ns=Ms.itemHeight,Ss=this.itemMarginBottom,Us=this.itemMarginTop,Zs=_s?Rs(Ws.itemDistance,20):0,ao=this.maxLegendWidth;Ws=Ws.alignColumns&&this.totalItemWidth>ao?this.maxItemWidth:Ms.itemWidth;var js=Ms.legendItem||{};_s&&this.itemX-Ds+Ws>ao&&(this.itemX=Ds,this.lastLineHeight&&(this.itemY+=Us+this.lastLineHeight+Ss),this.lastLineHeight=0),this.lastItemY=Us+this.itemY+Ss,this.lastLineHeight=Math.max(Ns,this.lastLineHeight),js.x=this.itemX,js.y=this.itemY,_s?this.itemX+=Ws:(this.itemY+=Us+Ns+Ss,this.lastLineHeight=Ns),this.offsetWidth=this.widthOption||Math.max((_s?this.itemX-Ds-(Ms.checkbox?0:Zs):Ws)+Ds,this.offsetWidth)},Is.prototype.getAllItems=function(){var Ms=[];return this.chart.series.forEach(function(Ws){var Ds=Ws&&Ws.options;Ws&&Rs(Ds.showInLegend,ms(Ds.linkedTo)?!1:void 0,!0)&&(Ms=Ms.concat((Ws.legendItem||{}).labels||(Ds.legendType==="point"?Ws.data:Ws)))}),ws(this,"afterGetAllItems",{allItems:Ms}),Ms},Is.prototype.getAlignment=function(){var Ms=this.options;return this.proximate?Ms.align.charAt(0)+"tv":Ms.floating?"":Ms.align.charAt(0)+Ms.verticalAlign.charAt(0)+Ms.layout.charAt(0)},Is.prototype.adjustMargins=function(Ms,Ws){var Ds=this.chart,_s=this.options,Ns=this.getAlignment();Ns&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(Ss,Us){Ss.test(Ns)&&!ms(Ms[Us])&&(Ds[As[Us]]=Math.max(Ds[As[Us]],Ds.legend[(Us+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][Us]*_s[Us%2?"x":"y"]+Rs(_s.margin,12)+Ws[Us]+(Ds.titleOffset[Us]||0)))})},Is.prototype.proximatePositions=function(){var Ms=this.chart,Ws=[],Ds=this.options.align==="left";this.allItems.forEach(function(Zs){var ao,js=Ds;if(Zs.yAxis){Zs.xAxis.options.reversed&&(js=!js),Zs.points&&(ao=gs(js?Zs.points:Zs.points.slice(0).reverse(),function(zs){return Ts(zs.plotY)})),js=this.itemMarginTop+Zs.legendItem.label.getBBox().height+this.itemMarginBottom;var Bs=Zs.yAxis.top-Ms.plotTop;Zs.visible?(ao=ao?ao.plotY:Zs.yAxis.height,ao+=Bs-.3*js):ao=Bs+Zs.yAxis.height,Ws.push({target:ao,size:js,item:Zs})}},this);for(var _s,Ns=0,Ss=bs(Ws,Ms.plotHeight);Ns<Ss.length;Ns++){var Us=Ss[Ns];_s=Us.item.legendItem||{},Ts(Us.pos)&&(_s.y=Ms.plotTop-Ms.spacing[0]+Us.pos)}},Is.prototype.render=function(){var Ms=this.chart,Ws=Ms.renderer,Ds=this.options,_s=this.padding,Ns=this.getAllItems(),Ss=this.group,Us=this.box;this.itemX=_s,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=Ps(Ds.width,Ms.spacingBox.width-_s);var Zs=Ms.spacingBox.width-2*_s-Ds.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(Zs/=2),this.maxLegendWidth=this.widthOption||Zs,Ss||(this.group=Ss=Ws.g("legend").addClass(Ds.className||"").attr({zIndex:7}).add(),this.contentGroup=Ws.g().attr({zIndex:1}).add(Ss),this.scrollGroup=Ws.g().add(this.contentGroup)),this.renderTitle(),Qs(Ns,function(js,Bs){return(js.options&&js.options.legendIndex||0)-(Bs.options&&Bs.options.legendIndex||0)}),Ds.reversed&&Ns.reverse(),this.allItems=Ns,this.display=Zs=!!Ns.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,Ns.forEach(this.renderItem,this),Ns.forEach(this.layoutItem,this),Ns=(this.widthOption||this.offsetWidth)+_s;var ao=this.lastItemY+this.lastLineHeight+this.titleHeight;ao=this.handleOverflow(ao),ao+=_s,Us||(this.box=Us=Ws.rect().addClass("highcharts-legend-box").attr({r:Ds.borderRadius}).add(Ss)),Ms.styledMode||Us.attr({stroke:Ds.borderColor,"stroke-width":Ds.borderWidth||0,fill:Ds.backgroundColor||"none"}).shadow(Ds.shadow),0<Ns&&0<ao&&Us[Us.placed?"animate":"attr"](Us.crisp.call({},{x:0,y:0,width:Ns,height:ao},Us.strokeWidth())),Ss[Zs?"show":"hide"](),Ms.styledMode&&Ss.getStyle("display")==="none"&&(Ns=ao=0),this.legendWidth=Ns,this.legendHeight=ao,Zs&&this.align(),this.proximate||this.positionItems(),ws(this,"afterRender")},Is.prototype.align=function(Ms){Ms===void 0&&(Ms=this.chart.spacingBox);var Ws=this.chart,Ds=this.options,_s=Ms.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<Ws.titleOffset[0]?_s+=Ws.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<Ws.titleOffset[2]&&(_s-=Ws.titleOffset[2]),_s!==Ms.y&&(Ms=$s(Ms,{y:_s})),Ws.hasRendered||(this.group.placed=!1),this.group.align($s(Ds,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":Ds.verticalAlign}),!0,Ms)},Is.prototype.handleOverflow=function(Ms){var Ws=this,Ds=this.chart,_s=Ds.renderer,Ns=this.options,Ss=Ns.y,Us=Ns.verticalAlign==="top",Zs=this.padding,ao=Ns.maxHeight,js=Ns.navigation,Bs=Rs(js.animation,!0),zs=js.arrowSize||12,so=this.pages,oo=this.allItems,Ao=function(Eo){typeof Eo=="number"?vo.attr({height:Eo}):vo&&(Ws.clipRect=vo.destroy(),Ws.contentGroup.clip()),Ws.contentGroup.div&&(Ws.contentGroup.div.style.clip=Eo?"rect("+Zs+"px,9999px,"+(Zs+Eo)+"px,0)":"auto")},Xs=function(Eo){return Ws[Eo]=_s.circle(0,0,1.3*zs).translate(zs/2,zs/2).add(ro),Ds.styledMode||Ws[Eo].attr("fill","rgba(0,0,0,0.0001)"),Ws[Eo]},lo,co,So;Ss=Ds.spacingBox.height+(Us?-Ss:Ss)-Zs;var ro=this.nav,vo=this.clipRect;return Ns.layout!=="horizontal"||Ns.verticalAlign==="middle"||Ns.floating||(Ss/=2),ao&&(Ss=Math.min(Ss,ao)),so.length=0,Ms&&0<Ss&&Ms>Ss&&js.enabled!==!1?(this.clipHeight=lo=Math.max(Ss-20-this.titleHeight-Zs,0),this.currentPage=Rs(this.currentPage,1),this.fullHeight=Ms,oo.forEach(function(Eo,mo){So=Eo.legendItem||{},Eo=So.y||0;var yo=Math.round(So.label.getBBox().height),Jo=so.length;(!Jo||Eo-so[Jo-1]>lo&&(co||Eo)!==so[Jo-1])&&(so.push(co||Eo),Jo++),So.pageIx=Jo-1,co&&((oo[mo-1].legendItem||{}).pageIx=Jo-1),mo===oo.length-1&&Eo+yo-so[Jo-1]>lo&&yo<=lo&&(so.push(Eo),So.pageIx=Jo),Eo!==co&&(co=Eo)}),vo||(vo=Ws.clipRect=_s.clipRect(0,Zs,9999,0),Ws.contentGroup.clip(vo)),Ao(lo),ro||(this.nav=ro=_s.g().attr({zIndex:1}).add(this.group),this.up=_s.symbol("triangle",0,0,zs,zs).add(ro),Xs("upTracker").on("click",function(){Ws.scroll(-1,Bs)}),this.pager=_s.text("",15,10).addClass("highcharts-legend-navigation"),!Ds.styledMode&&js.style&&this.pager.css(js.style),this.pager.add(ro),this.down=_s.symbol("triangle-down",0,0,zs,zs).add(ro),Xs("downTracker").on("click",function(){Ws.scroll(1,Bs)})),Ws.scroll(0),Ms=Ss):ro&&(Ao(),this.nav=ro.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),Ms},Is.prototype.scroll=function(Ms,Ws){var Ds=this,_s=this.chart,Ns=this.pages,Ss=Ns.length,Us=this.clipHeight,Zs=this.options.navigation,ao=this.pager,js=this.padding,Bs=this.currentPage+Ms;Bs>Ss&&(Bs=Ss),0<Bs&&(typeof Ws<"u"&&hs(Ws,_s),this.nav.attr({translateX:js,translateY:Us+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(zs){zs.attr({class:Bs===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),ao.attr({text:Bs+"/"+Ss}),[this.down,this.downTracker].forEach(function(zs){zs.attr({x:18+this.pager.getBBox().width,class:Bs===Ss?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),_s.styledMode||(this.up.attr({fill:Bs===1?Zs.inactiveColor:Zs.activeColor}),this.upTracker.css({cursor:Bs===1?"default":"pointer"}),this.down.attr({fill:Bs===Ss?Zs.inactiveColor:Zs.activeColor}),this.downTracker.css({cursor:Bs===Ss?"default":"pointer"})),this.scrollOffset=-Ns[Bs-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=Bs,this.positionCheckboxes(),Ms=cs(Rs(Ws,_s.renderer.globalAnimation,!0)),Fs(function(){ws(Ds,"afterScroll",{currentPage:Bs})},Ms.duration))},Is.prototype.setItemEvents=function(Ms,Ws,Ds){var _s=this,Ns=Ms.legendItem||{},Ss=_s.chart.renderer.boxWrapper,Us=Ms instanceof ss,Zs="highcharts-legend-"+(Us?"point":"series")+"-active",ao=_s.chart.styledMode,js=function(zs){_s.allItems.forEach(function(so){Ms!==so&&[so].concat(so.linkedSeries||[]).forEach(function(oo){oo.setState(zs,!Us)})})},Bs=0;for(Ds=Ds?[Ws,Ns.symbol]:[Ns.group];Bs<Ds.length;Bs++)(Ns=Ds[Bs])&&Ns.on("mouseover",function(){Ms.visible&&js("inactive"),Ms.setState("hover"),Ms.visible&&Ss.addClass(Zs),ao||Ws.css(_s.options.itemHoverStyle)}).on("mouseout",function(){_s.chart.styledMode||Ws.css($s(Ms.visible?_s.itemStyle:_s.itemHiddenStyle)),js(""),Ss.removeClass(Zs),Ms.setState()}).on("click",function(zs){var so=function(){Ms.setVisible&&Ms.setVisible(),js(Ms.visible?"inactive":"")};Ss.removeClass(Zs),zs={browserEvent:zs},Ms.firePointEvent?Ms.firePointEvent("legendItemClick",zs,so):ws(Ms,"legendItemClick",zs,so)})},Is.prototype.createCheckboxForItem=function(Ms){Ms.checkbox=Cs("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:Ms.selected,defaultChecked:Ms.selected},this.options.itemCheckboxStyle,this.chart.container),ys(Ms.checkbox,"click",function(Ws){ws(Ms.series||Ms,"checkboxClick",{checked:Ws.target.checked,item:Ms},function(){Ms.select()})})},Is}(),rs}),Ri(ts,"Core/Series/SeriesRegistry.js",[ts["Core/Globals.js"],ts["Core/Defaults.js"],ts["Core/Series/Point.js"],ts["Core/Utilities.js"]],function(rs,is,ns,ss){var os=is.defaultOptions,ls=ss.extendClass,cs=ss.merge,hs;return function(us){function As(bs,ys){var Cs=os.plotOptions||{},ps=ys.defaultOptions,ms=ys.prototype;ms.type=bs,ms.pointClass||(ms.pointClass=ns),ps&&(Cs[bs]=ps),us.seriesTypes[bs]=ys}us.seriesTypes=rs.seriesTypes,us.registerSeriesType=As,us.seriesType=function(bs,ys,Cs,ps,ms){var fs=os.plotOptions||{};return ys=ys||"",fs[bs]=cs(fs[ys],Cs),As(bs,ls(us.seriesTypes[ys]||function(){},ps)),us.seriesTypes[bs].prototype.type=bs,ms&&(us.seriesTypes[bs].prototype.pointClass=ls(ns,ms)),us.seriesTypes[bs]}}(hs||(hs={})),hs}),Ri(ts,"Core/Chart/Chart.js",[ts["Core/Animation/AnimationUtilities.js"],ts["Core/Axis/Axis.js"],ts["Core/Defaults.js"],ts["Core/FormatUtilities.js"],ts["Core/Foundation.js"],ts["Core/Globals.js"],ts["Core/Legend/Legend.js"],ts["Core/MSPointer.js"],ts["Core/Pointer.js"],ts["Core/Renderer/RendererRegistry.js"],ts["Core/Series/SeriesRegistry.js"],ts["Core/Renderer/SVG/SVGRenderer.js"],ts["Core/Time.js"],ts["Core/Utilities.js"],ts["Core/Renderer/HTML/AST.js"]],function(rs,is,ns,ss,os,ls,cs,hs,us,As,bs,ys,Cs,ps,ms){var fs=rs.animate,gs=rs.animObject,ws=rs.setAnimation,Ts=ns.defaultOptions,$s=ns.defaultTime,Rs=ss.numberFormat,Ps=os.registerEventOptions,Qs=ls.charts,Fs=ls.doc,Is=ls.marginNames,Ms=ls.svg,Ws=ls.win,Ds=bs.seriesTypes,_s=ps.addEvent,Ns=ps.attr,Ss=ps.cleanRecursively,Us=ps.createElement,Zs=ps.css,ao=ps.defined,js=ps.discardElement,Bs=ps.erase,zs=ps.error,so=ps.extend,oo=ps.find,Ao=ps.fireEvent,Xs=ps.getStyle,lo=ps.isArray,co=ps.isNumber,So=ps.isObject,ro=ps.isString,vo=ps.merge,Eo=ps.objectEach,mo=ps.pick,yo=ps.pInt,Jo=ps.relativeLength,Yo=ps.removeEvent,Wo=ps.splat,ko=ps.syncTimeout,Qo=ps.uniqueKey;return rs=function(){function jo(Bo,go,_o){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(Bo,go,_o)}return jo.chart=function(Bo,go,_o){return new jo(Bo,go,_o)},jo.prototype.getArgs=function(Bo,go,_o){ro(Bo)||Bo.nodeName?(this.renderTo=Bo,this.init(go,_o)):this.init(Bo,go)},jo.prototype.init=function(Bo,go){var _o=Bo.plotOptions||{};Ao(this,"init",{args:arguments},function(){var To=vo(Ts,Bo),uo=To.chart;Eo(To.plotOptions,function(Oo,Fo){So(Oo)&&(Oo.tooltip=_o[Fo]&&vo(_o[Fo].tooltip)||void 0)}),To.tooltip.userOptions=Bo.chart&&Bo.chart.forExport&&Bo.tooltip.userOptions||Bo.tooltip,this.userOptions=Bo,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=go,this.isResizing=0;var Co=uo.zooming=uo.zooming||{};Bo.chart&&!Bo.chart.zooming&&(Co.resetButton=uo.resetZoomButton),Co.key=mo(Co.key,uo.zoomKey),Co.pinchType=mo(Co.pinchType,uo.pinchType),Co.singleTouch=mo(Co.singleTouch,uo.zoomBySingleTouch),Co.type=mo(Co.type,uo.zoomType),this.options=To,this.axes=[],this.series=[],this.time=Bo.time&&Object.keys(Bo.time).length?new Cs(Bo.time):ls.time,this.numberFormatter=uo.numberFormatter||Rs,this.styledMode=uo.styledMode,this.hasCartesianSeries=uo.showAxes,this.index=Qs.length,Qs.push(this),ls.chartCount++,Ps(this,uo),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,Ao(this,"afterInit"),this.firstRender()})},jo.prototype.initSeries=function(Bo){var go=this.options.chart;go=Bo.type||go.type||go.defaultSeriesType;var _o=Ds[go];return _o||zs(17,!0,this,{missingModuleFor:go}),go=new _o,typeof go.init=="function"&&go.init(this,Bo),go},jo.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(Bo){Bo.points||Bo.data||!Bo.enabledDataSorting||Bo.setData(Bo.options.data,!1)})},jo.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(Bo,go){return Bo.linkedSeries.length||go.linkedSeries.length?go.linkedSeries.length-Bo.linkedSeries.length:0})},jo.prototype.orderSeries=function(Bo){var go=this.series;Bo=Bo||0;for(var _o=go.length;Bo<_o;++Bo)go[Bo]&&(go[Bo].index=Bo,go[Bo].name=go[Bo].getName())},jo.prototype.isInsidePlot=function(Bo,go,_o){_o===void 0&&(_o={});var To=this.inverted,uo=this.plotBox,Co=this.plotLeft,Oo=this.plotTop,Fo=this.scrollablePlotBox,Po=0,Zo=0;_o.visiblePlotOnly&&this.scrollingContainer&&(Zo=this.scrollingContainer,Po=Zo.scrollLeft,Zo=Zo.scrollTop);var na=_o.series;if(uo=_o.visiblePlotOnly&&Fo||uo,Fo=_o.inverted?go:Bo,go=_o.inverted?Bo:go,Bo={x:Fo,y:go,isInsidePlot:!0,options:_o},!_o.ignoreX){var ma=na&&(To&&!this.polar?na.yAxis:na.xAxis)||{pos:Co,len:1/0};Fo=_o.paneCoordinates?ma.pos+Fo:Co+Fo,Fo>=Math.max(Po+Co,ma.pos)&&Fo<=Math.min(Po+Co+uo.width,ma.pos+ma.len)||(Bo.isInsidePlot=!1)}return!_o.ignoreY&&Bo.isInsidePlot&&(To=_o.axis&&!_o.axis.isXAxis&&_o.axis||na&&(To?na.xAxis:na.yAxis)||{pos:Oo,len:1/0},_o=_o.paneCoordinates?To.pos+go:Oo+go,_o>=Math.max(Zo+Oo,To.pos)&&_o<=Math.min(Zo+Oo+uo.height,To.pos+To.len)||(Bo.isInsidePlot=!1)),Ao(this,"afterIsInsidePlot",Bo),Bo.isInsidePlot},jo.prototype.redraw=function(Bo){Ao(this,"beforeRedraw");var go=this.hasCartesianSeries?this.axes:this.colorAxis||[],_o=this.series,To=this.pointer,uo=this.legend,Co=this.userOptions.legend,Oo=this.renderer,Fo=Oo.isHidden(),Po=[],Zo=this.isDirtyBox,na=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),ws(this.hasRendered?Bo:!1,this),Fo&&this.temporaryDisplay(),this.layOutTitles(),Bo=_o.length;Bo--;){var ma=_o[Bo];if(ma.options.stacking||ma.options.centerInCategory){var ua=!0;if(ma.isDirty){var ka=!0;break}}}if(ka)for(Bo=_o.length;Bo--;)ma=_o[Bo],ma.options.stacking&&(ma.isDirty=!0);_o.forEach(function(Ba){Ba.isDirty&&(Ba.options.legendType==="point"?(typeof Ba.updateTotals=="function"&&Ba.updateTotals(),na=!0):Co&&(Co.labelFormatter||Co.labelFormat)&&(na=!0)),Ba.isDirtyData&&Ao(Ba,"updatedData")}),na&&uo&&uo.options.enabled&&(uo.render(),this.isDirtyLegend=!1),ua&&this.getStacks(),go.forEach(function(Ba){Ba.updateNames(),Ba.setScale()}),this.getMargins(),go.forEach(function(Ba){Ba.isDirty&&(Zo=!0)}),go.forEach(function(Ba){var Va=Ba.min+","+Ba.max;Ba.extKey!==Va&&(Ba.extKey=Va,Po.push(function(){Ao(Ba,"afterSetExtremes",so(Ba.eventArgs,Ba.getExtremes())),delete Ba.eventArgs})),(Zo||ua)&&Ba.redraw()}),Zo&&this.drawChartBox(),Ao(this,"predraw"),_o.forEach(function(Ba){(Zo||Ba.isDirty)&&Ba.visible&&Ba.redraw(),Ba.isDirtyData=!1}),To&&To.reset(!0),Oo.draw(),Ao(this,"redraw"),Ao(this,"render"),Fo&&this.temporaryDisplay(!0),Po.forEach(function(Ba){Ba.call()})},jo.prototype.get=function(Bo){function go(Co){return Co.id===Bo||Co.options&&Co.options.id===Bo}for(var _o=this.series,To=oo(this.axes,go)||oo(this.series,go),uo=0;!To&&uo<_o.length;uo++)To=oo(_o[uo].points||[],go);return To},jo.prototype.getAxes=function(){var Bo=this,go=this.options,_o=go.xAxis=Wo(go.xAxis||{});go=go.yAxis=Wo(go.yAxis||{}),Ao(this,"getAxes"),_o.forEach(function(To,uo){To.index=uo,To.isX=!0}),go.forEach(function(To,uo){To.index=uo}),_o.concat(go).forEach(function(To){new is(Bo,To)}),Ao(this,"afterGetAxes")},jo.prototype.getSelectedPoints=function(){return this.series.reduce(function(Bo,go){return go.getPointsCollection().forEach(function(_o){mo(_o.selectedStaging,_o.selected)&&Bo.push(_o)}),Bo},[])},jo.prototype.getSelectedSeries=function(){return this.series.filter(function(Bo){return Bo.selected})},jo.prototype.setTitle=function(Bo,go,_o){this.applyDescription("title",Bo),this.applyDescription("subtitle",go),this.applyDescription("caption",void 0),this.layOutTitles(_o)},jo.prototype.applyDescription=function(Bo,go){var _o=this,To=Bo==="title"?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};To=this.options[Bo]=vo(!this.styledMode&&{style:To},this.options[Bo],go);var uo=this[Bo];uo&&go&&(this[Bo]=uo=uo.destroy()),To&&!uo&&(uo=this.renderer.text(To.text,0,0,To.useHTML).attr({align:To.align,class:"highcharts-"+Bo,zIndex:To.zIndex||4}).add(),uo.update=function(Co){_o[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[Bo]](Co)},this.styledMode||uo.css(To.style),this[Bo]=uo)},jo.prototype.layOutTitles=function(Bo){var go=[0,0,0],_o=this.renderer,To=this.spacingBox;["title","subtitle","caption"].forEach(function(Co){var Oo=this[Co],Fo=this.options[Co],Po=Fo.verticalAlign||"top";Co=Co==="title"?Po==="top"?-3:0:Po==="top"?go[0]+2:0;var Zo;if(Oo){this.styledMode||(Zo=Fo.style&&Fo.style.fontSize),Zo=_o.fontMetrics(Zo,Oo).b,Oo.css({width:(Fo.width||To.width+(Fo.widthAdjust||0))+"px"});var na=Math.round(Oo.getBBox(Fo.useHTML).height);Oo.align(so({y:Po==="bottom"?Zo:Co+Zo,height:na},Fo),!1,"spacingBox"),Fo.floating||(Po==="top"?go[0]=Math.ceil(go[0]+na):Po==="bottom"&&(go[2]=Math.ceil(go[2]+na)))}},this),go[0]&&(this.options.title.verticalAlign||"top")==="top"&&(go[0]+=this.options.title.margin),go[2]&&this.options.caption.verticalAlign==="bottom"&&(go[2]+=this.options.caption.margin);var uo=!this.titleOffset||this.titleOffset.join(",")!==go.join(",");this.titleOffset=go,Ao(this,"afterLayOutTitles"),!this.isDirtyBox&&uo&&(this.isDirtyBox=this.isDirtyLegend=uo,this.hasRendered&&mo(Bo,!0)&&this.isDirtyBox&&this.redraw())},jo.prototype.getChartSize=function(){var Bo=this.options.chart,go=Bo.width;Bo=Bo.height;var _o=this.renderTo;ao(go)||(this.containerWidth=Xs(_o,"width")),ao(Bo)||(this.containerHeight=Xs(_o,"height")),this.chartWidth=Math.max(0,go||this.containerWidth||600),this.chartHeight=Math.max(0,Jo(Bo,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},jo.prototype.temporaryDisplay=function(Bo){var go=this.renderTo;if(Bo)for(;go&&go.style;)go.hcOrigStyle&&(Zs(go,go.hcOrigStyle),delete go.hcOrigStyle),go.hcOrigDetached&&(Fs.body.removeChild(go),go.hcOrigDetached=!1),go=go.parentNode;else for(;go&&go.style&&(Fs.body.contains(go)||go.parentNode||(go.hcOrigDetached=!0,Fs.body.appendChild(go)),(Xs(go,"display",!1)==="none"||go.hcOricDetached)&&(go.hcOrigStyle={display:go.style.display,height:go.style.height,overflow:go.style.overflow},Bo={display:"block",overflow:"hidden"},go!==this.renderTo&&(Bo.height=0),Zs(go,Bo),go.offsetWidth||go.style.setProperty("display","block","important")),go=go.parentNode,go!==Fs.body););},jo.prototype.setClassName=function(Bo){this.container.className="highcharts-container "+(Bo||"")},jo.prototype.getContainer=function(){var Bo=this.options,go=Bo.chart,_o=Qo(),To,uo=this.renderTo;uo||(this.renderTo=uo=go.renderTo),ro(uo)&&(this.renderTo=uo=Fs.getElementById(uo)),uo||zs(13,!0,this);var Co=yo(Ns(uo,"data-highcharts-chart"));co(Co)&&Qs[Co]&&Qs[Co].hasRendered&&Qs[Co].destroy(),Ns(uo,"data-highcharts-chart",this.index),uo.innerHTML=ms.emptyHTML,go.skipClone||uo.offsetWidth||this.temporaryDisplay(),this.getChartSize(),Co=this.chartWidth;var Oo=this.chartHeight;if(Zs(uo,{overflow:"hidden"}),this.styledMode||(To=so({position:"relative",overflow:"hidden",width:Co+"px",height:Oo+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},go.style||{})),this.container=_o=Us("div",{id:_o},To,uo),this._cursor=_o.style.cursor,this.renderer=new(go.renderer||!Ms?As.getRendererType(go.renderer):ys)(_o,Co,Oo,void 0,go.forExport,Bo.exporting&&Bo.exporting.allowHTML,this.styledMode),ws(void 0,this),this.setClassName(go.className),this.styledMode)for(var Fo in Bo.defs)this.renderer.definition(Bo.defs[Fo]);else this.renderer.setStyle(go.style);this.renderer.chartIndex=this.index,Ao(this,"afterGetContainer")},jo.prototype.getMargins=function(Bo){var go=this.spacing,_o=this.margin,To=this.titleOffset;this.resetMargins(),To[0]&&!ao(_o[0])&&(this.plotTop=Math.max(this.plotTop,To[0]+go[0])),To[2]&&!ao(_o[2])&&(this.marginBottom=Math.max(this.marginBottom,To[2]+go[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(_o,go),Ao(this,"getMargins"),Bo||this.getAxisMargins()},jo.prototype.getAxisMargins=function(){var Bo=this,go=Bo.axisOffset=[0,0,0,0],_o=Bo.colorAxis,To=Bo.margin,uo=function(Co){Co.forEach(function(Oo){Oo.visible&&Oo.getOffset()})};Bo.hasCartesianSeries?uo(Bo.axes):_o&&_o.length&&uo(_o),Is.forEach(function(Co,Oo){ao(To[Oo])||(Bo[Co]+=go[Oo])}),Bo.setChartSize()},jo.prototype.reflow=function(Bo){var go=this,_o=go.options.chart,To=go.renderTo,uo=ao(_o.width)&&ao(_o.height),Co=_o.width||Xs(To,"width");_o=_o.height||Xs(To,"height"),To=Bo?Bo.target:Ws,delete go.pointer.chartPosition,!uo&&!go.isPrinting&&Co&&_o&&(To===Ws||To===Fs)&&((Co!==go.containerWidth||_o!==go.containerHeight)&&(ps.clearTimeout(go.reflowTimeout),go.reflowTimeout=ko(function(){go.container&&go.setSize(void 0,void 0,!1)},Bo?100:0)),go.containerWidth=Co,go.containerHeight=_o)},jo.prototype.setReflow=function(Bo){var go=this;Bo===!1||this.unbindReflow?Bo===!1&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=_s(Ws,"resize",function(_o){go.options&&go.reflow(_o)}),_s(this,"destroy",this.unbindReflow))},jo.prototype.setSize=function(Bo,go,_o){var To=this,uo=To.renderer;To.isResizing+=1,ws(_o,To),_o=uo.globalAnimation,To.oldChartHeight=To.chartHeight,To.oldChartWidth=To.chartWidth,typeof Bo<"u"&&(To.options.chart.width=Bo),typeof go<"u"&&(To.options.chart.height=go),To.getChartSize(),To.styledMode||(_o?fs:Zs)(To.container,{width:To.chartWidth+"px",height:To.chartHeight+"px"},_o),To.setChartSize(!0),uo.setSize(To.chartWidth,To.chartHeight,_o),To.axes.forEach(function(Co){Co.isDirty=!0,Co.setScale()}),To.isDirtyLegend=!0,To.isDirtyBox=!0,To.layOutTitles(),To.getMargins(),To.redraw(_o),To.oldChartHeight=null,Ao(To,"resize"),ko(function(){To&&Ao(To,"endResize",null,function(){--To.isResizing})},gs(_o).duration)},jo.prototype.setChartSize=function(Bo){var go=this.inverted,_o=this.renderer,To=this.chartWidth,uo=this.chartHeight,Co=this.options.chart,Oo=this.spacing,Fo=this.clipOffset,Po,Zo,na,ma;this.plotLeft=Po=Math.round(this.plotLeft),this.plotTop=Zo=Math.round(this.plotTop),this.plotWidth=na=Math.max(0,Math.round(To-Po-this.marginRight)),this.plotHeight=ma=Math.max(0,Math.round(uo-Zo-this.marginBottom)),this.plotSizeX=go?ma:na,this.plotSizeY=go?na:ma,this.plotBorderWidth=Co.plotBorderWidth||0,this.spacingBox=_o.spacingBox={x:Oo[3],y:Oo[0],width:To-Oo[3]-Oo[1],height:uo-Oo[0]-Oo[2]},this.plotBox=_o.plotBox={x:Po,y:Zo,width:na,height:ma},go=2*Math.floor(this.plotBorderWidth/2),To=Math.ceil(Math.max(go,Fo[3])/2),uo=Math.ceil(Math.max(go,Fo[0])/2),this.clipBox={x:To,y:uo,width:Math.floor(this.plotSizeX-Math.max(go,Fo[1])/2-To),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(go,Fo[2])/2-uo))},Bo||(this.axes.forEach(function(ua){ua.setAxisSize(),ua.setAxisTranslation()}),_o.alignElements()),Ao(this,"afterSetChartSize",{skipAxes:Bo})},jo.prototype.resetMargins=function(){Ao(this,"resetMargins");var Bo=this,go=Bo.options.chart;["margin","spacing"].forEach(function(_o){var To=go[_o],uo=So(To)?To:[To,To,To,To];["Top","Right","Bottom","Left"].forEach(function(Co,Oo){Bo[_o][Oo]=mo(go[_o+Co],uo[Oo])})}),Is.forEach(function(_o,To){Bo[_o]=mo(Bo.margin[To],Bo.spacing[To])}),Bo.axisOffset=[0,0,0,0],Bo.clipOffset=[0,0,0,0]},jo.prototype.drawChartBox=function(){var Bo=this.options.chart,go=this.renderer,_o=this.chartWidth,To=this.chartHeight,uo=this.styledMode,Co=this.plotBGImage,Oo=Bo.backgroundColor,Fo=Bo.plotBackgroundColor,Po=Bo.plotBackgroundImage,Zo=this.plotLeft,na=this.plotTop,ma=this.plotWidth,ua=this.plotHeight,ka=this.plotBox,Ba=this.clipRect,Va=this.clipBox,Ea=this.chartBackground,il=this.plotBackground,kl=this.plotBorder,Ja,Ua="animate";if(Ea||(this.chartBackground=Ea=go.rect().addClass("highcharts-background").add(),Ua="attr"),uo)var Na=Ja=Ea.strokeWidth();else Na=Bo.borderWidth||0,Ja=Na+(Bo.shadow?8:0),Oo={fill:Oo||"none"},(Na||Ea["stroke-width"])&&(Oo.stroke=Bo.borderColor,Oo["stroke-width"]=Na),Ea.attr(Oo).shadow(Bo.shadow);Ea[Ua]({x:Ja/2,y:Ja/2,width:_o-Ja-Na%2,height:To-Ja-Na%2,r:Bo.borderRadius}),Ua="animate",il||(Ua="attr",this.plotBackground=il=go.rect().addClass("highcharts-plot-background").add()),il[Ua](ka),uo||(il.attr({fill:Fo||"none"}).shadow(Bo.plotShadow),Po&&(Co?(Po!==Co.attr("href")&&Co.attr("href",Po),Co.animate(ka)):this.plotBGImage=go.image(Po,Zo,na,ma,ua).add())),Ba?Ba.animate({width:Va.width,height:Va.height}):this.clipRect=go.clipRect(Va),Ua="animate",kl||(Ua="attr",this.plotBorder=kl=go.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),uo||kl.attr({stroke:Bo.plotBorderColor,"stroke-width":Bo.plotBorderWidth||0,fill:"none"}),kl[Ua](kl.crisp({x:Zo,y:na,width:ma,height:ua},-kl.strokeWidth())),this.isDirtyBox=!1,Ao(this,"afterDrawChartBox")},jo.prototype.propFromSeries=function(){var Bo=this,go=Bo.options.chart,_o=Bo.options.series,To,uo,Co;["inverted","angular","polar"].forEach(function(Oo){for(uo=Ds[go.type||go.defaultSeriesType],Co=go[Oo]||uo&&uo.prototype[Oo],To=_o&&_o.length;!Co&&To--;)(uo=Ds[_o[To].type])&&uo.prototype[Oo]&&(Co=!0);Bo[Oo]=Co})},jo.prototype.linkSeries=function(){var Bo=this,go=Bo.series;go.forEach(function(_o){_o.linkedSeries.length=0}),go.forEach(function(_o){var To=_o.options.linkedTo;ro(To)&&(To=To===":previous"?Bo.series[_o.index-1]:Bo.get(To))&&To.linkedParent!==_o&&(To.linkedSeries.push(_o),_o.linkedParent=To,To.enabledDataSorting&&_o.setDataSortingOptions(),_o.visible=mo(_o.options.visible,To.options.visible,_o.visible))}),Ao(this,"afterLinkSeries")},jo.prototype.renderSeries=function(){this.series.forEach(function(Bo){Bo.translate(),Bo.render()})},jo.prototype.renderLabels=function(){var Bo=this,go=Bo.options.labels;go.items&&go.items.forEach(function(_o){var To=so(go.style,_o.style),uo=yo(To.left)+Bo.plotLeft,Co=yo(To.top)+Bo.plotTop+12;delete To.left,delete To.top,Bo.renderer.text(_o.html,uo,Co).attr({zIndex:2}).css(To).add()})},jo.prototype.render=function(){var Bo=this.axes,go=this.colorAxis,_o=this.renderer,To=this.options,uo=function(Zo){Zo.forEach(function(na){na.visible&&na.render()})},Co=0;this.setTitle(),this.legend=new cs(this,To.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),To=this.plotWidth,Bo.some(function(Zo){if(Zo.horiz&&Zo.visible&&Zo.options.labels.enabled&&Zo.series.length)return Co=21,!0});var Oo=this.plotHeight=Math.max(this.plotHeight-Co,0);Bo.forEach(function(Zo){Zo.setScale()}),this.getAxisMargins();var Fo=1.1<To/this.plotWidth,Po=1.05<Oo/this.plotHeight;(Fo||Po)&&(Bo.forEach(function(Zo){(Zo.horiz&&Fo||!Zo.horiz&&Po)&&Zo.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?uo(Bo):go&&go.length&&uo(go),this.seriesGroup||(this.seriesGroup=_o.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},jo.prototype.addCredits=function(Bo){var go=this,_o=vo(!0,this.options.credits,Bo);_o.enabled&&!this.credits&&(this.credits=this.renderer.text(_o.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){_o.href&&(Ws.location.href=_o.href)}).attr({align:_o.position.align,zIndex:8}),go.styledMode||this.credits.css(_o.style),this.credits.add().align(_o.position),this.credits.update=function(To){go.credits=go.credits.destroy(),go.addCredits(To)})},jo.prototype.destroy=function(){var Bo=this,go=Bo.axes,_o=Bo.series,To=Bo.container,uo=To&&To.parentNode,Co;for(Ao(Bo,"destroy"),Bo.renderer.forExport?Bs(Qs,Bo):Qs[Bo.index]=void 0,ls.chartCount--,Bo.renderTo.removeAttribute("data-highcharts-chart"),Yo(Bo),Co=go.length;Co--;)go[Co]=go[Co].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),Co=_o.length;Co--;)_o[Co]=_o[Co].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(Oo){var Fo=Bo[Oo];Fo&&Fo.destroy&&(Bo[Oo]=Fo.destroy())}),To&&(To.innerHTML=ms.emptyHTML,Yo(To),uo&&js(To)),Eo(Bo,function(Oo,Fo){delete Bo[Fo]})},jo.prototype.firstRender=function(){var Bo=this,go=Bo.options;(!Bo.isReadyToRender||Bo.isReadyToRender())&&(Bo.getContainer(),Bo.resetMargins(),Bo.setChartSize(),Bo.propFromSeries(),Bo.getAxes(),(lo(go.series)?go.series:[]).forEach(function(_o){Bo.initSeries(_o)}),Bo.linkSeries(),Bo.setSeriesData(),Ao(Bo,"beforeRender"),us&&(hs.isRequired()?Bo.pointer=new hs(Bo,go):Bo.pointer=new us(Bo,go)),Bo.render(),Bo.pointer.getChartPosition(),!Bo.renderer.imgCount&&!Bo.hasLoaded&&Bo.onload(),Bo.temporaryDisplay(!0))},jo.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(Bo){Bo&&typeof this.index<"u"&&Bo.apply(this,[this])},this),Ao(this,"load"),Ao(this,"render"),ao(this.index)&&this.setReflow(this.options.chart.reflow),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0},jo.prototype.warnIfA11yModuleNotLoaded=function(){var Bo=this.options,go=this.title;Bo&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(go&&go.element.textContent||"").replace(/</g,"&lt;")}),Bo.accessibility&&Bo.accessibility.enabled===!1||zs('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))},jo.prototype.addSeries=function(Bo,go,_o){var To=this,uo;return Bo&&(go=mo(go,!0),Ao(To,"addSeries",{options:Bo},function(){uo=To.initSeries(Bo),To.isDirtyLegend=!0,To.linkSeries(),uo.enabledDataSorting&&uo.setData(Bo.data,!1),Ao(To,"afterAddSeries",{series:uo}),go&&To.redraw(_o)})),uo},jo.prototype.addAxis=function(Bo,go,_o,To){return this.createAxis(go?"xAxis":"yAxis",{axis:Bo,redraw:_o,animation:To})},jo.prototype.addColorAxis=function(Bo,go,_o){return this.createAxis("colorAxis",{axis:Bo,redraw:go,animation:_o})},jo.prototype.createAxis=function(Bo,go){return Bo=new is(this,vo(go.axis,{index:this[Bo].length,isX:Bo==="xAxis"})),mo(go.redraw,!0)&&this.redraw(go.animation),Bo},jo.prototype.showLoading=function(Bo){var go=this,_o=go.options,To=_o.loading,uo=function(){Co&&Zs(Co,{left:go.plotLeft+"px",top:go.plotTop+"px",width:go.plotWidth+"px",height:go.plotHeight+"px"})},Co=go.loadingDiv,Oo=go.loadingSpan;Co||(go.loadingDiv=Co=Us("div",{className:"highcharts-loading highcharts-loading-hidden"},null,go.container)),Oo||(go.loadingSpan=Oo=Us("span",{className:"highcharts-loading-inner"},null,Co),_s(go,"redraw",uo)),Co.className="highcharts-loading",ms.setElementHTML(Oo,mo(Bo,_o.lang.loading,"")),go.styledMode||(Zs(Co,so(To.style,{zIndex:10})),Zs(Oo,To.labelStyle),go.loadingShown||(Zs(Co,{opacity:0,display:""}),fs(Co,{opacity:To.style.opacity||.5},{duration:To.showDuration||0}))),go.loadingShown=!0,uo()},jo.prototype.hideLoading=function(){var Bo=this.options,go=this.loadingDiv;go&&(go.className="highcharts-loading highcharts-loading-hidden",this.styledMode||fs(go,{opacity:0},{duration:Bo.loading.hideDuration||100,complete:function(){Zs(go,{display:"none"})}})),this.loadingShown=!1},jo.prototype.update=function(Bo,go,_o,To){var uo=this,Co={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Oo=Bo.isResponsiveOptions,Fo=[],Po,Zo;Ao(uo,"update",{options:Bo}),Oo||uo.setResponsive(!1,!0),Bo=Ss(Bo,uo.options),uo.userOptions=vo(uo.userOptions,Bo);var na=Bo.chart;if(na){if(vo(!0,uo.options.chart,na),"className"in na&&uo.setClassName(na.className),"reflow"in na&&uo.setReflow(na.reflow),"inverted"in na||"polar"in na||"type"in na){uo.propFromSeries();var ma=!0}"alignTicks"in na&&(ma=!0),"events"in na&&Ps(this,na),Eo(na,function(ua,ka){uo.propsRequireUpdateSeries.indexOf("chart."+ka)!==-1&&(Po=!0),uo.propsRequireDirtyBox.indexOf(ka)!==-1&&(uo.isDirtyBox=!0),uo.propsRequireReflow.indexOf(ka)!==-1&&(Oo?uo.isDirtyBox=!0:Zo=!0)}),!uo.styledMode&&na.style&&uo.renderer.setStyle(uo.options.chart.style||{})}!uo.styledMode&&Bo.colors&&(this.options.colors=Bo.colors),Bo.time&&(this.time===$s&&(this.time=new Cs(Bo.time)),vo(!0,uo.options.time,Bo.time)),Eo(Bo,function(ua,ka){uo[ka]&&typeof uo[ka].update=="function"?uo[ka].update(ua,!1):typeof uo[Co[ka]]=="function"?uo[Co[ka]](ua):ka!=="colors"&&uo.collectionsWithUpdate.indexOf(ka)===-1&&vo(!0,uo.options[ka],Bo[ka]),ka!=="chart"&&uo.propsRequireUpdateSeries.indexOf(ka)!==-1&&(Po=!0)}),this.collectionsWithUpdate.forEach(function(ua){if(Bo[ua]){var ka=[];uo[ua].forEach(function(Ba,Va){Ba.options.isInternal||ka.push(mo(Ba.options.index,Va))}),Wo(Bo[ua]).forEach(function(Ba,Va){var Ea=ao(Ba.id),il;Ea&&(il=uo.get(Ba.id)),!il&&uo[ua]&&(il=uo[ua][ka?ka[Va]:Va])&&Ea&&ao(il.options.id)&&(il=void 0),il&&il.coll===ua&&(il.update(Ba,!1),_o&&(il.touched=!0)),!il&&_o&&uo.collectionsWithInit[ua]&&(uo.collectionsWithInit[ua][0].apply(uo,[Ba].concat(uo.collectionsWithInit[ua][1]||[]).concat([!1])).touched=!0)}),_o&&uo[ua].forEach(function(Ba){Ba.touched||Ba.options.isInternal?delete Ba.touched:Fo.push(Ba)})}}),Fo.forEach(function(ua){ua.chart&&ua.remove&&ua.remove(!1)}),ma&&uo.axes.forEach(function(ua){ua.update({},!1)}),Po&&uo.getSeriesOrderByLinks().forEach(function(ua){ua.chart&&ua.update({},!1)},this),ma=na&&na.width,na=na&&(ro(na.height)?Jo(na.height,ma||uo.chartWidth):na.height),Zo||co(ma)&&ma!==uo.chartWidth||co(na)&&na!==uo.chartHeight?uo.setSize(ma,na,To):mo(go,!0)&&uo.redraw(To),Ao(uo,"afterUpdate",{options:Bo,redraw:go,animation:To})},jo.prototype.setSubtitle=function(Bo,go){this.applyDescription("subtitle",Bo),this.layOutTitles(go)},jo.prototype.setCaption=function(Bo,go){this.applyDescription("caption",Bo),this.layOutTitles(go)},jo.prototype.showResetZoom=function(){function Bo(){go.zoomOut()}var go=this,_o=Ts.lang,To=go.options.chart.zooming.resetButton,uo=To.theme,Co=To.relativeTo==="chart"||To.relativeTo==="spacingBox"?null:"scrollablePlotBox";Ao(this,"beforeShowResetZoom",null,function(){go.resetZoomButton=go.renderer.button(_o.resetZoom,null,null,Bo,uo).attr({align:To.position.align,title:_o.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(To.position,!1,Co)}),Ao(this,"afterShowResetZoom")},jo.prototype.zoomOut=function(){Ao(this,"selection",{resetSelection:!0},this.zoom)},jo.prototype.zoom=function(Bo){var go=this,_o=go.pointer,To=!1,uo;!Bo||Bo.resetSelection?(go.axes.forEach(function(Oo){uo=Oo.zoom()}),_o.initiated=!1):Bo.xAxis.concat(Bo.yAxis).forEach(function(Oo){var Fo=Oo.axis;(_o[Fo.isXAxis?"zoomX":"zoomY"]&&ao(_o.mouseDownX)&&ao(_o.mouseDownY)&&go.isInsidePlot(_o.mouseDownX-go.plotLeft,_o.mouseDownY-go.plotTop,{axis:Fo})||!ao(go.inverted?_o.mouseDownX:_o.mouseDownY))&&(uo=Fo.zoom(Oo.min,Oo.max),Fo.displayBtn&&(To=!0))});var Co=go.resetZoomButton;To&&!Co?go.showResetZoom():!To&&So(Co)&&(go.resetZoomButton=Co.destroy()),uo&&go.redraw(mo(go.options.chart.animation,Bo&&Bo.animation,100>go.pointCount))},jo.prototype.pan=function(Bo,go){var _o=this,To=_o.hoverPoints;go=typeof go=="object"?go:{enabled:go,type:"x"};var uo=_o.options.chart;uo&&uo.panning&&(uo.panning=go);var Co=go.type,Oo;Ao(this,"pan",{originalEvent:Bo},function(){To&&To.forEach(function(Zo){Zo.setState()});var Fo=_o.xAxis;Co==="xy"?Fo=Fo.concat(_o.yAxis):Co==="y"&&(Fo=_o.yAxis);var Po={};Fo.forEach(function(Zo){if(Zo.options.panningEnabled&&!Zo.options.isInternal){var na=Zo.horiz,ma=Bo[na?"chartX":"chartY"];na=na?"mouseDownX":"mouseDownY";var ua=_o[na],ka=Zo.minPointOffset||0,Ba=Zo.reversed&&!_o.inverted||!Zo.reversed&&_o.inverted?-1:1,Va=Zo.getExtremes(),Ea=Zo.toValue(ua-ma,!0)+ka*Ba,il=Zo.toValue(ua+Zo.len-ma,!0)-(ka*Ba||Zo.isXAxis&&Zo.pointRangePadding||0),kl=il<Ea;Ba=Zo.hasVerticalPanning(),ua=kl?il:Ea,Ea=kl?Ea:il;var Ja=Zo.panningState;!Ba||Zo.isXAxis||Ja&&!Ja.isDirty||Zo.series.forEach(function(Ua){var Na=Ua.getProcessedData(!0);Na=Ua.getExtremes(Na.yData,!0),Ja||(Ja={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),co(Na.dataMin)&&co(Na.dataMax)&&(Ja.startMin=Math.min(mo(Ua.options.threshold,1/0),Na.dataMin,Ja.startMin),Ja.startMax=Math.max(mo(Ua.options.threshold,-1/0),Na.dataMax,Ja.startMax))}),Ba=Math.min(mo(Ja&&Ja.startMin,Va.dataMin),ka?Va.min:Zo.toValue(Zo.toPixels(Va.min)-Zo.minPixelPadding)),il=Math.max(mo(Ja&&Ja.startMax,Va.dataMax),ka?Va.max:Zo.toValue(Zo.toPixels(Va.max)+Zo.minPixelPadding)),Zo.panningState=Ja,Zo.isOrdinal||(ka=Ba-ua,0<ka&&(Ea+=ka,ua=Ba),ka=Ea-il,0<ka&&(Ea=il,ua-=ka),Zo.series.length&&ua!==Va.min&&Ea!==Va.max&&ua>=Ba&&Ea<=il&&(Zo.setExtremes(ua,Ea,!1,!1,{trigger:"pan"}),!_o.resetZoomButton&&ua!==Ba&&Ea!==il&&Co.match("y")&&(_o.showResetZoom(),Zo.displayBtn=!1),Oo=!0),Po[na]=ma)}}),Eo(Po,function(Zo,na){_o[na]=Zo}),Oo&&_o.redraw(!1),Zs(_o.container,{cursor:"move"})})},jo}(),so(rs.prototype,{callbacks:[],collectionsWithInit:{xAxis:[rs.prototype.addAxis,[!0]],yAxis:[rs.prototype.addAxis,[!1]],series:[rs.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),rs}),Ri(ts,"Core/Legend/LegendSymbol.js",[ts["Core/Utilities.js"]],function(rs){var is=rs.extend,ns=rs.merge,ss=rs.pick,os;return function(ls){ls.drawLineMarker=function(cs){var hs=this.legendItem=this.legendItem||{},us=this.options,As=cs.symbolWidth,bs=cs.symbolHeight,ys=bs/2,Cs=this.chart.renderer,ps=hs.group;cs=cs.baseline-Math.round(.3*cs.fontMetrics.b);var ms={},fs=us.marker,gs=0;this.chart.styledMode||(ms={"stroke-width":Math.min(us.lineWidth||0,24)},us.dashStyle?ms.dashstyle=us.dashStyle:us.linecap!=="square"&&(ms["stroke-linecap"]="round")),hs.line=Cs.path().addClass("highcharts-graph").attr(ms).add(ps),ms["stroke-linecap"]&&(gs=Math.min(hs.line.strokeWidth(),As)/2),hs.line.attr({d:[["M",gs,cs],["L",As-gs,cs]]}),fs&&fs.enabled!==!1&&As&&(us=Math.min(ss(fs.radius,ys),ys),this.symbol.indexOf("url")===0&&(fs=ns(fs,{width:bs,height:bs}),us=0),hs.symbol=hs=Cs.symbol(this.symbol,As/2-us,cs-us,2*us,2*us,is({context:"legend"},fs)).addClass("highcharts-point").add(ps),hs.isMarker=!0)},ls.drawRectangle=function(cs,hs){hs=hs.legendItem||{};var us=cs.symbolHeight,As=cs.options.squareSymbol;hs.symbol=this.chart.renderer.rect(As?(cs.symbolWidth-us)/2:0,cs.baseline-us+1,As?us:cs.symbolWidth,us,ss(cs.options.symbolRadius,us/2)).addClass("highcharts-point").attr({zIndex:3}).add(hs.group)}}(os||(os={})),os}),Ri(ts,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){var rs=this.series.chart.numberFormatter;return typeof this.y!="number"?"":rs(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),Ri(ts,"Core/Series/Series.js",[ts["Core/Animation/AnimationUtilities.js"],ts["Core/Defaults.js"],ts["Core/Foundation.js"],ts["Core/Globals.js"],ts["Core/Legend/LegendSymbol.js"],ts["Core/Series/Point.js"],ts["Core/Series/SeriesDefaults.js"],ts["Core/Series/SeriesRegistry.js"],ts["Core/Renderer/SVG/SVGElement.js"],ts["Core/Utilities.js"]],function(rs,is,ns,ss,os,ls,cs,hs,us,As){var bs=rs.animObject,ys=rs.setAnimation,Cs=is.defaultOptions,ps=ns.registerEventOptions,ms=ss.hasTouch,fs=ss.svg,gs=ss.win,ws=hs.seriesTypes,Ts=As.arrayMax,$s=As.arrayMin,Rs=As.clamp,Ps=As.cleanRecursively,Qs=As.correctFloat,Fs=As.defined,Is=As.erase,Ms=As.error,Ws=As.extend,Ds=As.find,_s=As.fireEvent,Ns=As.getNestedProperty,Ss=As.isArray,Us=As.isNumber,Zs=As.isString,ao=As.merge,js=As.objectEach,Bs=As.pick,zs=As.removeEvent,so=As.splat,oo=As.syncTimeout;return rs=function(){function Ao(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return Ao.prototype.init=function(Xs,lo){_s(this,"init",{options:lo});var co=this,So=Xs.series;this.eventsToUnbind=[],co.chart=Xs,co.options=co.setOptions(lo),lo=co.options,co.linkedSeries=[],co.bindAxes(),Ws(co,{name:lo.name,state:"",visible:lo.visible!==!1,selected:lo.selected===!0}),ps(this,lo);var ro=lo.events;(ro&&ro.click||lo.point&&lo.point.events&&lo.point.events.click||lo.allowPointSelect)&&(Xs.runTrackerClick=!0),co.getColor(),co.getSymbol(),co.parallelArrays.forEach(function(Eo){co[Eo+"Data"]||(co[Eo+"Data"]=[])}),co.isCartesian&&(Xs.hasCartesianSeries=!0);var vo;So.length&&(vo=So[So.length-1]),co._i=Bs(vo&&vo._i,-1)+1,co.opacity=co.options.opacity,Xs.orderSeries(this.insert(So)),lo.dataSorting&&lo.dataSorting.enabled?co.setDataSortingOptions():co.points||co.data||co.setData(lo.data,!1),_s(this,"afterInit")},Ao.prototype.is=function(Xs){return ws[Xs]&&this instanceof ws[Xs]},Ao.prototype.insert=function(Xs){var lo=this.options.index,co;if(Us(lo)){for(co=Xs.length;co--;)if(lo>=Bs(Xs[co].options.index,Xs[co]._i)){Xs.splice(co+1,0,this);break}co===-1&&Xs.unshift(this),co+=1}else Xs.push(this);return Bs(co,Xs.length-1)},Ao.prototype.bindAxes=function(){var Xs=this,lo=Xs.options,co=Xs.chart,So;_s(this,"bindAxes",null,function(){(Xs.axisTypes||[]).forEach(function(ro){var vo=0;co[ro].forEach(function(Eo){So=Eo.options,(lo[ro]===vo&&!So.isInternal||typeof lo[ro]<"u"&&lo[ro]===So.id||typeof lo[ro]>"u"&&So.index===0)&&(Xs.insert(Eo.series),Xs[ro]=Eo,Eo.isDirty=!0),So.isInternal||vo++}),Xs[ro]||Xs.optionalAxis===ro||Ms(18,!0,co)})}),_s(this,"afterBindAxes")},Ao.prototype.updateParallelArrays=function(Xs,lo){var co=Xs.series,So=arguments,ro=Us(lo)?function(vo){var Eo=vo==="y"&&co.toYData?co.toYData(Xs):Xs[vo];co[vo+"Data"][lo]=Eo}:function(vo){Array.prototype[lo].apply(co[vo+"Data"],Array.prototype.slice.call(So,2))};co.parallelArrays.forEach(ro)},Ao.prototype.hasData=function(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&0<this.yData.length},Ao.prototype.autoIncrement=function(Xs){var lo=this.options,co=lo.pointIntervalUnit,So=lo.relativeXValue,ro=this.chart.time,vo=this.xIncrement,Eo;return vo=Bs(vo,lo.pointStart,0),this.pointInterval=Eo=Bs(this.pointInterval,lo.pointInterval,1),So&&Us(Xs)&&(Eo*=Xs),co&&(lo=new ro.Date(vo),co==="day"?ro.set("Date",lo,ro.get("Date",lo)+Eo):co==="month"?ro.set("Month",lo,ro.get("Month",lo)+Eo):co==="year"&&ro.set("FullYear",lo,ro.get("FullYear",lo)+Eo),Eo=lo.getTime()-vo),So&&Us(Xs)?vo+Eo:(this.xIncrement=vo+Eo,vo)},Ao.prototype.setDataSortingOptions=function(){var Xs=this.options;Ws(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),Fs(Xs.pointRange)||(Xs.pointRange=1)},Ao.prototype.setOptions=function(Xs){var lo=this.chart,co=lo.options,So=co.plotOptions,ro=lo.userOptions||{};Xs=ao(Xs),lo=lo.styledMode;var vo={plotOptions:So,userOptions:Xs};_s(this,"setOptions",vo);var Eo=vo.plotOptions[this.type],mo=ro.plotOptions||{};return this.userOptions=vo.userOptions,ro=ao(Eo,So.series,ro.plotOptions&&ro.plotOptions[this.type],Xs),this.tooltipOptions=ao(Cs.tooltip,Cs.plotOptions.series&&Cs.plotOptions.series.tooltip,Cs.plotOptions[this.type].tooltip,co.tooltip.userOptions,So.series&&So.series.tooltip,So[this.type].tooltip,Xs.tooltip),this.stickyTracking=Bs(Xs.stickyTracking,mo[this.type]&&mo[this.type].stickyTracking,mo.series&&mo.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:ro.stickyTracking),Eo.marker===null&&delete ro.marker,this.zoneAxis=ro.zoneAxis,So=this.zones=(ro.zones||[]).slice(),!ro.negativeColor&&!ro.negativeFillColor||ro.zones||(co={value:ro[this.zoneAxis+"Threshold"]||ro.threshold||0,className:"highcharts-negative"},lo||(co.color=ro.negativeColor,co.fillColor=ro.negativeFillColor),So.push(co)),So.length&&Fs(So[So.length-1].value)&&So.push(lo?{}:{color:this.color,fillColor:this.fillColor}),_s(this,"afterSetOptions",{options:ro}),ro},Ao.prototype.getName=function(){return Bs(this.options.name,"Series "+(this.index+1))},Ao.prototype.getCyclic=function(Xs,lo,co){var So=this.chart,ro=this.userOptions,vo=Xs+"Index",Eo=Xs+"Counter",mo=co?co.length:Bs(So.options.chart[Xs+"Count"],So[Xs+"Count"]);if(!lo){var yo=Bs(ro[vo],ro["_"+vo]);Fs(yo)||(So.series.length||(So[Eo]=0),ro["_"+vo]=yo=So[Eo]%mo,So[Eo]+=1),co&&(lo=co[yo])}typeof yo<"u"&&(this[vo]=yo),this[Xs]=lo},Ao.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||Cs.plotOptions[this.type].color,this.chart.options.colors)},Ao.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},Ao.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},Ao.prototype.findPointIndex=function(Xs,lo){var co=Xs.id,So=Xs.x,ro=this.points,vo=this.options.dataSorting,Eo,mo;if(co)vo=this.chart.get(co),vo instanceof ls&&(Eo=vo);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(Eo=function(Jo){return!Jo.touched&&Jo.index===Xs.index},vo&&vo.matchByName?Eo=function(Jo){return!Jo.touched&&Jo.name===Xs.name}:this.options.relativeXValue&&(Eo=function(Jo){return!Jo.touched&&Jo.options.x===Xs.x}),Eo=Ds(ro,Eo),!Eo))return;if(Eo){var yo=Eo&&Eo.index;typeof yo<"u"&&(mo=!0)}return typeof yo>"u"&&Us(So)&&(yo=this.xData.indexOf(So,lo)),yo!==-1&&typeof yo<"u"&&this.cropped&&(yo=yo>=this.cropStart?yo-this.cropStart:yo),!mo&&Us(yo)&&ro[yo]&&ro[yo].touched&&(yo=void 0),yo},Ao.prototype.updateData=function(Xs,lo){var co=this.options,So=co.dataSorting,ro=this.points,vo=[],Eo=this.requireSorting,mo=Xs.length===ro.length,yo,Jo,Yo,Wo=!0;if(this.xIncrement=null,Xs.forEach(function(ko,Qo){var jo=Fs(ko)&&this.pointClass.prototype.optionsToObject.call({series:this},ko)||{},Bo=jo.x;jo.id||Us(Bo)?(jo=this.findPointIndex(jo,Yo),jo===-1||typeof jo>"u"?vo.push(ko):ro[jo]&&ko!==co.data[jo]?(ro[jo].update(ko,!1,null,!1),ro[jo].touched=!0,Eo&&(Yo=jo+1)):ro[jo]&&(ro[jo].touched=!0),(!mo||Qo!==jo||So&&So.enabled||this.hasDerivedData)&&(yo=!0)):vo.push(ko)},this),yo)for(Xs=ro.length;Xs--;)(Jo=ro[Xs])&&!Jo.touched&&Jo.remove&&Jo.remove(!1,lo);else!mo||So&&So.enabled?Wo=!1:(Xs.forEach(function(ko,Qo){ko!==ro[Qo].y&&ro[Qo].update&&ro[Qo].update(ko,!1,null,!1)}),vo.length=0);return ro.forEach(function(ko){ko&&(ko.touched=!1)}),Wo?(vo.forEach(function(ko){this.addPoint(ko,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=Ts(this.xData),this.autoIncrement()),!0):!1},Ao.prototype.setData=function(Xs,lo,co,So){lo===void 0&&(lo=!0);var ro=this,vo=ro.points,Eo=vo&&vo.length||0,mo=ro.options,yo=ro.chart,Jo=mo.dataSorting,Yo=ro.xAxis,Wo=mo.turboThreshold,ko=this.xData,Qo=this.yData,jo=ro.pointArrayMap;jo=jo&&jo.length;var Bo=mo.keys,go,_o=0,To=1,uo=null;if(!yo.options.chart.allowMutatingData){mo.data&&delete ro.options.data,ro.userOptions.data&&delete ro.userOptions.data;var Co=ao(!0,Xs)}if(Xs=Co||Xs||[],Co=Xs.length,Jo&&Jo.enabled&&(Xs=this.sortData(Xs)),yo.options.chart.allowMutatingData&&So!==!1&&Co&&Eo&&!ro.cropped&&!ro.hasGroupedData&&ro.visible&&!ro.boosted&&(go=this.updateData(Xs,co)),!go){if(ro.xIncrement=null,ro.colorCounter=0,this.parallelArrays.forEach(function(Oo){ro[Oo+"Data"].length=0}),Wo&&Co>Wo)if(uo=ro.getFirstValidPoint(Xs),Us(uo))for(co=0;co<Co;co++)ko[co]=this.autoIncrement(),Qo[co]=Xs[co];else if(Ss(uo))if(jo)if(uo.length===jo)for(co=0;co<Co;co++)ko[co]=this.autoIncrement(),Qo[co]=Xs[co];else for(co=0;co<Co;co++)So=Xs[co],ko[co]=So[0],Qo[co]=So.slice(1,jo+1);else if(Bo&&(_o=Bo.indexOf("x"),To=Bo.indexOf("y"),_o=0<=_o?_o:0,To=0<=To?To:1),uo.length===1&&(To=0),_o===To)for(co=0;co<Co;co++)ko[co]=this.autoIncrement(),Qo[co]=Xs[co][To];else for(co=0;co<Co;co++)So=Xs[co],ko[co]=So[_o],Qo[co]=So[To];else Ms(12,!1,yo);else for(co=0;co<Co;co++)typeof Xs[co]<"u"&&(So={series:ro},ro.pointClass.prototype.applyOptions.apply(So,[Xs[co]]),ro.updateParallelArrays(So,co));for(Qo&&Zs(Qo[0])&&Ms(14,!0,yo),ro.data=[],ro.options.data=ro.userOptions.data=Xs,co=Eo;co--;)vo[co]&&vo[co].destroy&&vo[co].destroy();Yo&&(Yo.minRange=Yo.userMinRange),ro.isDirty=yo.isDirtyBox=!0,ro.isDirtyData=!!vo,co=!1}mo.legendType==="point"&&(this.processData(),this.generatePoints()),lo&&yo.redraw(co)},Ao.prototype.sortData=function(Xs){var lo=this,co=lo.options.dataSorting.sortKey||"y",So=function(ro,vo){return Fs(vo)&&ro.pointClass.prototype.optionsToObject.call({series:ro},vo)||{}};return Xs.forEach(function(ro,vo){Xs[vo]=So(lo,ro),Xs[vo].index=vo},this),Xs.concat().sort(function(ro,vo){return ro=Ns(co,ro),vo=Ns(co,vo),vo<ro?-1:vo>ro?1:0}).forEach(function(ro,vo){ro.x=vo},this),lo.linkedSeries&&lo.linkedSeries.forEach(function(ro){var vo=ro.options,Eo=vo.data;vo.dataSorting&&vo.dataSorting.enabled||!Eo||(Eo.forEach(function(mo,yo){Eo[yo]=So(ro,mo),Xs[yo]&&(Eo[yo].x=Xs[yo].x,Eo[yo].index=yo)}),ro.setData(Eo,!1))}),Xs},Ao.prototype.getProcessedData=function(Xs){var lo=this.xAxis,co=this.options,So=co.cropThreshold,ro=Xs||this.getExtremesFromAll||co.getExtremesFromAll,vo=this.isCartesian;Xs=lo&&lo.val2lin,co=!(!lo||!lo.logarithmic);var Eo=0,mo=this.xData,yo=this.yData,Jo=this.requireSorting,Yo=!1,Wo=mo.length;if(lo){Yo=lo.getExtremes();var ko=Yo.min,Qo=Yo.max;Yo=!(!lo.categories||lo.names.length)}if(vo&&this.sorted&&!ro&&(!So||Wo>So||this.forceCrop)){if(mo[Wo-1]<ko||mo[0]>Qo)mo=[],yo=[];else if(this.yData&&(mo[0]<ko||mo[Wo-1]>Qo)){var jo=this.cropData(this.xData,this.yData,ko,Qo);mo=jo.xData,yo=jo.yData,Eo=jo.start,jo=!0}}for(So=mo.length||1;--So;)if(lo=co?Xs(mo[So])-Xs(mo[So-1]):mo[So]-mo[So-1],0<lo&&(typeof Bo>"u"||lo<Bo))var Bo=lo;else 0>lo&&Jo&&!Yo&&(Ms(15,!1,this.chart),Jo=!1);return{xData:mo,yData:yo,cropped:jo,cropStart:Eo,closestPointRange:Bo}},Ao.prototype.processData=function(Xs){var lo=this.xAxis;if(this.isCartesian&&!this.isDirty&&!lo.isDirty&&!this.yAxis.isDirty&&!Xs)return!1;Xs=this.getProcessedData(),this.cropped=Xs.cropped,this.cropStart=Xs.cropStart,this.processedXData=Xs.xData,this.processedYData=Xs.yData,this.closestPointRange=this.basePointRange=Xs.closestPointRange,_s(this,"afterProcessData")},Ao.prototype.cropData=function(Xs,lo,co,So,ro){var vo=Xs.length,Eo,mo=0,yo=vo;for(ro=Bs(ro,this.cropShoulder),Eo=0;Eo<vo;Eo++)if(Xs[Eo]>=co){mo=Math.max(0,Eo-ro);break}for(co=Eo;co<vo;co++)if(Xs[co]>So){yo=co+ro;break}return{xData:Xs.slice(mo,yo),yData:lo.slice(mo,yo),start:mo,end:yo}},Ao.prototype.generatePoints=function(){var Xs=this.options,lo=this.processedData||Xs.data,co=this.processedXData,So=this.processedYData,ro=this.pointClass,vo=co.length,Eo=this.cropStart||0,mo=this.hasGroupedData,yo=Xs.keys,Jo=[];Xs=Xs.dataGrouping&&Xs.dataGrouping.groupAll?Eo:0;var Yo,Wo,ko=this.data;if(!ko&&!mo){var Qo=[];Qo.length=lo.length,ko=this.data=Qo}for(yo&&mo&&(this.options.keys=!1),Wo=0;Wo<vo;Wo++){if(Qo=Eo+Wo,mo){var jo=new ro().init(this,[co[Wo]].concat(so(So[Wo])));jo.dataGroup=this.groupMap[Xs+Wo],jo.dataGroup.options&&(jo.options=jo.dataGroup.options,Ws(jo,jo.dataGroup.options),delete jo.dataLabels)}else(jo=ko[Qo])||typeof lo[Qo]>"u"||(ko[Qo]=jo=new ro().init(this,lo[Qo],co[Wo]));jo&&(jo.index=mo?Xs+Wo:Qo,Jo[Wo]=jo)}if(this.options.keys=yo,ko&&(vo!==(Yo=ko.length)||mo))for(Wo=0;Wo<Yo;Wo++)Wo!==Eo||mo||(Wo+=vo),ko[Wo]&&(ko[Wo].destroyElements(),ko[Wo].plotX=void 0);this.data=ko,this.points=Jo,_s(this,"afterGeneratePoints")},Ao.prototype.getXExtremes=function(Xs){return{min:$s(Xs),max:Ts(Xs)}},Ao.prototype.getExtremes=function(Xs,lo){var co=this.xAxis,So=this.yAxis,ro=this.processedXData||this.xData,vo=[],Eo=this.requireSorting?this.cropShoulder:0;So=So?So.positiveValuesOnly:!1;var mo,yo=0,Jo=0,Yo=0;Xs=Xs||this.stackedYData||this.processedYData||[];var Wo=Xs.length;if(co){var ko=co.getExtremes();yo=ko.min,Jo=ko.max}for(mo=0;mo<Wo;mo++){var Qo=ro[mo];ko=Xs[mo];var jo=(Us(ko)||Ss(ko))&&(ko.length||0<ko||!So);if(Qo=lo||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!co||(ro[mo+Eo]||Qo)>=yo&&(ro[mo-Eo]||Qo)<=Jo,jo&&Qo)if(jo=ko.length)for(;jo--;)Us(ko[jo])&&(vo[Yo++]=ko[jo]);else vo[Yo++]=ko}return Xs={activeYData:vo,dataMin:$s(vo),dataMax:Ts(vo)},_s(this,"afterGetExtremes",{dataExtremes:Xs}),Xs},Ao.prototype.applyExtremes=function(){var Xs=this.getExtremes();return this.dataMin=Xs.dataMin,this.dataMax=Xs.dataMax,Xs},Ao.prototype.getFirstValidPoint=function(Xs){for(var lo=Xs.length,co=0,So=null;So===null&&co<lo;)So=Xs[co],co++;return So},Ao.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var Xs=this.options,lo=Xs.stacking,co=this.xAxis,So=co.categories,ro=this.enabledDataSorting,vo=this.yAxis,Eo=this.points,mo=Eo.length,yo=this.pointPlacementToXValue(),Jo=!!yo,Yo=Xs.threshold,Wo=Xs.startFromThreshold?Yo:0,ko=this.zoneAxis||"y",Qo,jo,Bo=Number.MAX_VALUE;for(Qo=0;Qo<mo;Qo++){var go=Eo[Qo],_o=go.x,To=void 0,uo=void 0,Co=go.y,Oo=go.low,Fo=lo&&vo.stacking&&vo.stacking.stacks[(this.negStacks&&Co<(Wo?0:Yo)?"-":"")+this.stackKey];if((vo.positiveValuesOnly&&!vo.validatePositiveValue(Co)||co.positiveValuesOnly&&!co.validatePositiveValue(_o))&&(go.isNull=!0),go.plotX=jo=Qs(Rs(co.translate(_o,0,0,0,1,yo,this.type==="flags"),-1e5,1e5)),lo&&this.visible&&Fo&&Fo[_o]){var Po=this.getStackIndicator(Po,_o,this.index);!go.isNull&&Po.key&&(To=Fo[_o],uo=To.points[Po.key]),To&&Ss(uo)&&(Oo=uo[0],Co=uo[1],Oo===Wo&&Po.key===Fo[_o].base&&(Oo=Bs(Us(Yo)?Yo:vo.min)),vo.positiveValuesOnly&&Fs(Oo)&&0>=Oo&&(Oo=void 0),go.total=go.stackTotal=Bs(To.total),go.percentage=Fs(go.y)&&To.total?go.y/To.total*100:void 0,go.stackY=Co,this.irregularWidths||To.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))}if(go.yBottom=Fs(Oo)?Rs(vo.translate(Oo,0,1,0,1),-1e5,1e5):void 0,this.dataModify&&(Co=this.dataModify.modifyValue(Co,Qo)),go.plotY=void 0,Us(Co)&&(To=vo.translate(Co,!1,!0,!1,!0),typeof To<"u"&&(go.plotY=Rs(To,-1e5,1e5))),go.isInside=this.isPointInside(go),go.clientX=Jo?Qs(co.translate(_o,0,0,0,1,yo)):jo,go.negative=go[ko]<(Xs[ko+"Threshold"]||Yo||0),go.category=Bs(So&&So[go.x],go.x),!go.isNull&&go.visible!==!1){typeof Zo<"u"&&(Bo=Math.min(Bo,Math.abs(jo-Zo)));var Zo=jo}go.zone=this.zones.length?go.getZone():void 0,!go.graphic&&this.group&&ro&&(go.isNew=!0)}this.closestPointRangePx=Bo,_s(this,"afterTranslate")},Ao.prototype.getValidPoints=function(Xs,lo,co){var So=this.chart;return(Xs||this.points||[]).filter(function(ro){return lo&&!So.isInsidePlot(ro.plotX,ro.plotY,{inverted:So.inverted})?!1:ro.visible!==!1&&(co||!ro.isNull)})},Ao.prototype.getClipBox=function(){var Xs=this.chart,lo=this.xAxis,co=this.yAxis,So=ao(Xs.clipBox);return lo&&lo.len!==Xs.plotSizeX&&(So.width=lo.len),co&&co.len!==Xs.plotSizeY&&(So.height=co.len),So},Ao.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},Ao.prototype.setClip=function(){var Xs=this.chart,lo=this.group,co=this.markerGroup,So=Xs.sharedClips;Xs=Xs.renderer;var ro=this.getClipBox(),vo=this.getSharedClipKey(),Eo=So[vo];Eo?Eo.animate(ro):So[vo]=Eo=Xs.clipRect(ro),lo&&lo.clip(this.options.clip===!1?void 0:Eo),co&&co.clip()},Ao.prototype.animate=function(Xs){var lo=this.chart,co=this.group,So=this.markerGroup,ro=lo.inverted,vo=bs(this.options.animation),Eo=[this.getSharedClipKey(),vo.duration,vo.easing,vo.defer].join(),mo=lo.sharedClips[Eo],yo=lo.sharedClips[Eo+"m"];if(Xs&&co)vo=this.getClipBox(),mo?mo.attr("height",vo.height):(vo.width=0,ro&&(vo.x=lo.plotHeight),mo=lo.renderer.clipRect(vo),lo.sharedClips[Eo]=mo,yo=lo.renderer.clipRect({x:-99,y:-99,width:ro?lo.plotWidth+199:99,height:ro?99:lo.plotHeight+199}),lo.sharedClips[Eo+"m"]=yo),co.clip(mo),So&&So.clip(yo);else if(mo&&!mo.hasClass("highcharts-animating")){lo=this.getClipBox();var Jo=vo.step;So&&So.element.childNodes.length&&(vo.step=function(Yo,Wo){Jo&&Jo.apply(Wo,arguments),Wo.prop==="width"&&yo&&yo.element&&yo.attr(ro?"height":"width",Yo+99)}),mo.addClass("highcharts-animating").animate(lo,vo)}},Ao.prototype.afterAnimate=function(){var Xs=this;this.setClip(),js(this.chart.sharedClips,function(lo,co,So){lo&&!Xs.chart.container.querySelector('[clip-path="url(#'.concat(lo.id,')"]'))&&(lo.destroy(),delete So[co])}),this.finishedAnimating=!0,_s(this,"afterAnimate")},Ao.prototype.drawPoints=function(Xs){Xs===void 0&&(Xs=this.points);var lo=this.chart,co=lo.styledMode,So=this.colorAxis,ro=this.options.marker,vo=this[this.specialGroup||"markerGroup"],Eo=this.xAxis,mo=Bs(ro.enabled,!Eo||Eo.isRadial?!0:null,this.closestPointRangePx>=ro.enabledThreshold*ro.radius),yo,Jo;if(ro.enabled!==!1||this._hasPointMarkers)for(yo=0;yo<Xs.length;yo++){var Yo=Xs[yo],Wo=(Jo=Yo.graphic)?"animate":"attr",ko=Yo.marker||{},Qo=!!Yo.marker;if((mo&&typeof ko.enabled>"u"||ko.enabled)&&!Yo.isNull&&Yo.visible!==!1){var jo=Bs(ko.symbol,this.symbol,"rect"),Bo=this.markerAttribs(Yo,Yo.selected&&"select");this.enabledDataSorting&&(Yo.startXPos=Eo.reversed?-(Bo.width||0):Eo.width);var go=Yo.isInside!==!1;!Jo&&go&&(0<(Bo.width||0)||Yo.hasImage)&&(Yo.graphic=Jo=lo.renderer.symbol(jo,Bo.x,Bo.y,Bo.width,Bo.height,Qo?ko:ro).add(vo),this.enabledDataSorting&&lo.hasRendered&&(Jo.attr({x:Yo.startXPos}),Wo="animate")),Jo&&Wo==="animate"&&Jo[go?"show":"hide"](go).animate(Bo),Jo&&(ko=this.pointAttribs(Yo,co||!Yo.selected?void 0:"select"),co?So&&Jo.css({fill:ko.fill}):Jo[Wo](ko)),Jo&&Jo.addClass(Yo.getClassName(),!0)}else Jo&&(Yo.graphic=Jo.destroy())}},Ao.prototype.markerAttribs=function(Xs,lo){var co=this.options,So=co.marker,ro=Xs.marker||{},vo=ro.symbol||So.symbol,Eo={},mo=Bs(ro.radius,So&&So.radius);return lo&&(So=So.states[lo],lo=ro.states&&ro.states[lo],mo=Bs(lo&&lo.radius,So&&So.radius,mo&&mo+(So&&So.radiusPlus||0))),Xs.hasImage=vo&&vo.indexOf("url")===0,Xs.hasImage&&(mo=0),Xs=Xs.pos(),Us(mo)&&Xs&&(Eo.x=Xs[0]-mo,Eo.y=Xs[1]-mo,co.crisp&&(Eo.x=Math.floor(Eo.x))),mo&&(Eo.width=Eo.height=2*mo),Eo},Ao.prototype.pointAttribs=function(Xs,lo){var co=this.options.marker,So=Xs&&Xs.options,ro=So&&So.marker||{},vo=So&&So.color,Eo=Xs&&Xs.color,mo=Xs&&Xs.zone&&Xs.zone.color,yo=this.color;return Xs=Bs(ro.lineWidth,co.lineWidth),So=1,yo=vo||mo||Eo||yo,vo=ro.fillColor||co.fillColor||yo,Eo=ro.lineColor||co.lineColor||yo,lo=lo||"normal",co=co.states[lo]||{},lo=ro.states&&ro.states[lo]||{},Xs=Bs(lo.lineWidth,co.lineWidth,Xs+Bs(lo.lineWidthPlus,co.lineWidthPlus,0)),vo=lo.fillColor||co.fillColor||vo,Eo=lo.lineColor||co.lineColor||Eo,So=Bs(lo.opacity,co.opacity,So),{stroke:Eo,"stroke-width":Xs,fill:vo,opacity:So}},Ao.prototype.destroy=function(Xs){var lo=this,co=lo.chart,So=/AppleWebKit\/533/.test(gs.navigator.userAgent),ro=lo.data||[],vo,Eo,mo,yo;for(_s(lo,"destroy",{keepEventsForUpdate:Xs}),this.removeEvents(Xs),(lo.axisTypes||[]).forEach(function(Jo){(yo=lo[Jo])&&yo.series&&(Is(yo.series,lo),yo.isDirty=yo.forceRedraw=!0)}),lo.legendItem&&lo.chart.legend.destroyItem(lo),Eo=ro.length;Eo--;)(mo=ro[Eo])&&mo.destroy&&mo.destroy();lo.clips&&lo.clips.forEach(function(Jo){return Jo.destroy()}),As.clearTimeout(lo.animationTimeout),js(lo,function(Jo,Yo){Jo instanceof us&&!Jo.survive&&(vo=So&&Yo==="group"?"hide":"destroy",Jo[vo]())}),co.hoverSeries===lo&&(co.hoverSeries=void 0),Is(co.series,lo),co.orderSeries(),js(lo,function(Jo,Yo){Xs&&Yo==="hcEvents"||delete lo[Yo]})},Ao.prototype.applyZones=function(){var Xs=this,lo=this.chart,co=lo.renderer,So=this.zones,ro=this.clips||[],vo=this.graph,Eo=this.area,mo=Math.max(lo.plotWidth,lo.plotHeight),yo=this[(this.zoneAxis||"y")+"Axis"],Jo=lo.inverted,Yo,Wo,ko,Qo,jo,Bo,go,_o,To=!1;if(So.length&&(vo||Eo)&&yo&&typeof yo.min<"u"){var uo=yo.reversed,Co=yo.horiz;vo&&!this.showLine&&vo.hide(),Eo&&Eo.hide();var Oo=yo.getExtremes();So.forEach(function(Fo,Po){Yo=uo?Co?lo.plotWidth:0:Co?0:yo.toPixels(Oo.min)||0,Yo=Rs(Bs(Wo,Yo),0,mo),Wo=Rs(Math.round(yo.toPixels(Bs(Fo.value,Oo.max),!0)||0),0,mo),To&&(Yo=Wo=yo.toPixels(Oo.max)),Qo=Math.abs(Yo-Wo),jo=Math.min(Yo,Wo),Bo=Math.max(Yo,Wo),yo.isXAxis?(ko={x:Jo?Bo:jo,y:0,width:Qo,height:mo},Co||(ko.x=lo.plotHeight-ko.x)):(ko={x:0,y:Jo?Bo:jo,width:mo,height:Qo},Co&&(ko.y=lo.plotWidth-ko.y)),Jo&&co.isVML&&(ko=yo.isXAxis?{x:0,y:uo?jo:Bo,height:ko.width,width:lo.chartWidth}:{x:ko.y-lo.plotLeft-lo.spacingBox.x,y:0,width:ko.height,height:lo.chartHeight}),ro[Po]?ro[Po].animate(ko):ro[Po]=co.clipRect(ko),go=Xs["zone-area-"+Po],_o=Xs["zone-graph-"+Po],vo&&_o&&_o.clip(ro[Po]),Eo&&go&&go.clip(ro[Po]),To=Fo.value>Oo.max,Xs.resetZones&&Wo===0&&(Wo=void 0)}),this.clips=ro}else Xs.visible&&(vo&&vo.show(),Eo&&Eo.show())},Ao.prototype.plotGroup=function(Xs,lo,co,So,ro){var vo=this[Xs],Eo=!vo;return co={visibility:co,zIndex:So||.1},typeof this.opacity>"u"||this.chart.styledMode||this.state==="inactive"||(co.opacity=this.opacity),Eo&&(this[Xs]=vo=this.chart.renderer.g().add(ro)),vo.addClass("highcharts-"+lo+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Fs(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(vo.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),vo.attr(co)[Eo?"attr":"animate"](this.getPlotBox(lo)),vo},Ao.prototype.getPlotBox=function(Xs){var lo=this.xAxis,co=this.yAxis,So=this.chart;return Xs=So.inverted&&!So.polar&&lo&&this.invertible!==!1&&Xs==="series",So.inverted&&(lo=co,co=this.xAxis),{translateX:lo?lo.left:So.plotLeft,translateY:co?co.top:So.plotTop,rotation:Xs?90:0,rotationOriginX:Xs?(lo.len-co.len)/2:0,rotationOriginY:Xs?(lo.len+co.len)/2:0,scaleX:Xs?-1:1,scaleY:1}},Ao.prototype.removeEvents=function(Xs){Xs||zs(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(lo){lo()}),this.eventsToUnbind.length=0)},Ao.prototype.render=function(){var Xs=this,lo=Xs.chart,co=Xs.options,So=bs(co.animation),ro=Xs.visible?"inherit":"hidden",vo=co.zIndex,Eo=Xs.hasRendered,mo=lo.seriesGroup;lo=!Xs.finishedAnimating&&lo.renderer.isSVG?So.duration:0,_s(this,"render"),Xs.plotGroup("group","series",ro,vo,mo),Xs.markerGroup=Xs.plotGroup("markerGroup","markers",ro,vo,mo),co.clip!==!1&&Xs.setClip(),Xs.animate&&lo&&Xs.animate(!0),Xs.drawGraph&&(Xs.drawGraph(),Xs.applyZones()),Xs.visible&&Xs.drawPoints(),Xs.drawDataLabels&&Xs.drawDataLabels(),Xs.redrawPoints&&Xs.redrawPoints(),Xs.drawTracker&&Xs.options.enableMouseTracking!==!1&&Xs.drawTracker(),Xs.animate&&lo&&Xs.animate(),Eo||(lo&&So.defer&&(lo+=So.defer),Xs.animationTimeout=oo(function(){Xs.afterAnimate()},lo||0)),Xs.isDirty=!1,Xs.hasRendered=!0,_s(Xs,"afterRender")},Ao.prototype.redraw=function(){var Xs=this.isDirty||this.isDirtyData;this.translate(),this.render(),Xs&&delete this.kdTree},Ao.prototype.searchPoint=function(Xs,lo){var co=this.xAxis,So=this.yAxis,ro=this.chart.inverted;return this.searchKDTree({clientX:ro?co.len-Xs.chartY+co.pos:Xs.chartX-co.pos,plotY:ro?So.len-Xs.chartX+So.pos:Xs.chartY-So.pos},lo,Xs)},Ao.prototype.buildKDTree=function(Xs){function lo(ro,vo,Eo){var mo=ro&&ro.length;if(mo){var yo=co.kdAxisArray[vo%Eo];return ro.sort(function(Jo,Yo){return Jo[yo]-Yo[yo]}),mo=Math.floor(mo/2),{point:ro[mo],left:lo(ro.slice(0,mo),vo+1,Eo),right:lo(ro.slice(mo+1),vo+1,Eo)}}}this.buildingKdTree=!0;var co=this,So=-1<co.options.findNearestPointBy.indexOf("y")?2:1;delete co.kdTree,oo(function(){co.kdTree=lo(co.getValidPoints(null,!co.directTouch),So,So),co.buildingKdTree=!1},co.options.kdNow||Xs&&Xs.type==="touchstart"?0:1)},Ao.prototype.searchKDTree=function(Xs,lo,co){function So(yo,Jo,Yo,Wo){var ko=Jo.point,Qo=ro.kdAxisArray[Yo%Wo],jo=ko,Bo=Fs(yo[vo])&&Fs(ko[vo])?Math.pow(yo[vo]-ko[vo],2):null,go=Fs(yo[Eo])&&Fs(ko[Eo])?Math.pow(yo[Eo]-ko[Eo],2):null;return go=(Bo||0)+(go||0),ko.dist=Fs(go)?Math.sqrt(go):Number.MAX_VALUE,ko.distX=Fs(Bo)?Math.sqrt(Bo):Number.MAX_VALUE,Qo=yo[Qo]-ko[Qo],go=0>Qo?"left":"right",Bo=0>Qo?"right":"left",Jo[go]&&(go=So(yo,Jo[go],Yo+1,Wo),jo=go[mo]<jo[mo]?go:ko),Jo[Bo]&&Math.sqrt(Qo*Qo)<jo[mo]&&(yo=So(yo,Jo[Bo],Yo+1,Wo),jo=yo[mo]<jo[mo]?yo:jo),jo}var ro=this,vo=this.kdAxisArray[0],Eo=this.kdAxisArray[1],mo=lo?"distX":"dist";if(lo=-1<ro.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(co),this.kdTree)return So(Xs,this.kdTree,lo,lo)},Ao.prototype.pointPlacementToXValue=function(){var Xs=this.options,lo=Xs.pointRange,co=this.xAxis;return Xs=Xs.pointPlacement,Xs==="between"&&(Xs=co.reversed?-.5:.5),Us(Xs)?Xs*(lo||co.pointRange):0},Ao.prototype.isPointInside=function(Xs){var lo=this.chart,co=this.xAxis,So=this.yAxis;return typeof Xs.plotY<"u"&&typeof Xs.plotX<"u"&&0<=Xs.plotY&&Xs.plotY<=(So?So.len:lo.plotHeight)&&0<=Xs.plotX&&Xs.plotX<=(co?co.len:lo.plotWidth)},Ao.prototype.drawTracker=function(){var Xs=this,lo=Xs.options,co=lo.trackByArea,So=[].concat(co?Xs.areaPath:Xs.graphPath),ro=Xs.chart,vo=ro.pointer,Eo=ro.renderer,mo=ro.options.tooltip.snap,yo=Xs.tracker,Jo=function(Wo){ro.hoverSeries!==Xs&&Xs.onMouseOver()},Yo="rgba(192,192,192,"+(fs?1e-4:.002)+")";yo?yo.attr({d:So}):Xs.graph&&(Xs.tracker=Eo.path(So).attr({visibility:Xs.visible?"inherit":"hidden",zIndex:2}).addClass(co?"highcharts-tracker-area":"highcharts-tracker-line").add(Xs.group),ro.styledMode||Xs.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:Yo,fill:co?Yo:"none","stroke-width":Xs.graph.strokeWidth()+(co?0:2*mo)}),[Xs.tracker,Xs.markerGroup,Xs.dataLabelsGroup].forEach(function(Wo){Wo&&(Wo.addClass("highcharts-tracker").on("mouseover",Jo).on("mouseout",function(ko){vo.onTrackerMouseOut(ko)}),lo.cursor&&!ro.styledMode&&Wo.css({cursor:lo.cursor}),ms)&&Wo.on("touchstart",Jo)})),_s(this,"afterDrawTracker")},Ao.prototype.addPoint=function(Xs,lo,co,So,ro){var vo=this.options,Eo=this.data,mo=this.chart,yo=this.xAxis;yo=yo&&yo.hasNames&&yo.names;var Jo=vo.data,Yo=this.xData,Wo;lo=Bs(lo,!0);var ko={series:this};this.pointClass.prototype.applyOptions.apply(ko,[Xs]);var Qo=ko.x,jo=Yo.length;if(this.requireSorting&&Qo<Yo[jo-1])for(Wo=!0;jo&&Yo[jo-1]>Qo;)jo--;this.updateParallelArrays(ko,"splice",jo,0,0),this.updateParallelArrays(ko,jo),yo&&ko.name&&(yo[Qo]=ko.name),Jo.splice(jo,0,Xs),(Wo||this.processedData)&&(this.data.splice(jo,0,null),this.processData()),vo.legendType==="point"&&this.generatePoints(),co&&(Eo[0]&&Eo[0].remove?Eo[0].remove(!1):(Eo.shift(),this.updateParallelArrays(ko,"shift"),Jo.shift())),ro!==!1&&_s(this,"addPoint",{point:ko}),this.isDirtyData=this.isDirty=!0,lo&&mo.redraw(So)},Ao.prototype.removePoint=function(Xs,lo,co){var So=this,ro=So.data,vo=ro[Xs],Eo=So.points,mo=So.chart,yo=function(){Eo&&Eo.length===ro.length&&Eo.splice(Xs,1),ro.splice(Xs,1),So.options.data.splice(Xs,1),So.updateParallelArrays(vo||{series:So},"splice",Xs,1),vo&&vo.destroy(),So.isDirty=!0,So.isDirtyData=!0,lo&&mo.redraw()};ys(co,mo),lo=Bs(lo,!0),vo?vo.firePointEvent("remove",null,yo):yo()},Ao.prototype.remove=function(Xs,lo,co,So){function ro(){vo.destroy(So),Eo.isDirtyLegend=Eo.isDirtyBox=!0,Eo.linkSeries(),Bs(Xs,!0)&&Eo.redraw(lo)}var vo=this,Eo=vo.chart;co!==!1?_s(vo,"remove",null,ro):ro()},Ao.prototype.update=function(Xs,lo){Xs=Ps(Xs,this.userOptions),_s(this,"update",{options:Xs});var co=this,So=co.chart,ro=co.userOptions,vo=co.initialType||co.type,Eo=So.options.plotOptions,mo=ws[vo].prototype,yo=co.finishedAnimating&&{animation:!1},Jo={},Yo=["eventOptions","navigatorSeries","baseSeries"],Wo=Xs.type||ro.type||So.options.chart.type,ko=!(this.hasDerivedData||Wo&&Wo!==this.type||typeof Xs.pointStart<"u"||typeof Xs.pointInterval<"u"||typeof Xs.relativeXValue<"u"||Xs.joinBy||Xs.mapData||co.hasOptionChanged("dataGrouping")||co.hasOptionChanged("pointStart")||co.hasOptionChanged("pointInterval")||co.hasOptionChanged("pointIntervalUnit")||co.hasOptionChanged("keys"));if(Wo=Wo||vo,ko&&(Yo.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),Xs.visible!==!1&&Yo.push("area","graph"),co.parallelArrays.forEach(function(jo){Yo.push(jo+"Data")}),Xs.data&&(Xs.dataSorting&&Ws(co.options.dataSorting,Xs.dataSorting),this.setData(Xs.data,!1))),Xs=ao(ro,yo,{index:typeof ro.index>"u"?co.index:ro.index,pointStart:Bs(Eo&&Eo.series&&Eo.series.pointStart,ro.pointStart,co.xData[0])},!ko&&{data:co.options.data},Xs),ko&&Xs.data&&(Xs.data=co.options.data),Yo=["group","markerGroup","dataLabelsGroup","transformGroup","shadowGroup"].concat(Yo),Yo.forEach(function(jo){Yo[jo]=co[jo],delete co[jo]}),Eo=!1,ws[Wo]){if(Eo=Wo!==co.type,co.remove(!1,!1,!1,!0),Eo)if(Object.setPrototypeOf)Object.setPrototypeOf(co,ws[Wo].prototype);else{yo=Object.hasOwnProperty.call(co,"hcEvents")&&co.hcEvents;for(Qo in mo)co[Qo]=void 0;Ws(co,ws[Wo].prototype),yo?co.hcEvents=yo:delete co.hcEvents}}else Ms(17,!0,So,{missingModuleFor:Wo});if(Yo.forEach(function(jo){co[jo]=Yo[jo]}),co.init(So,Xs),ko&&this.points){if(Xs=co.options,Xs.visible===!1)Jo.graphic=1,Jo.dataLabel=1;else if(!co._hasPointLabels){mo=Xs.marker;var Qo=Xs.dataLabels;ro=ro.marker||{},!mo||mo.enabled!==!1&&ro.symbol===mo.symbol&&ro.height===mo.height&&ro.width===mo.width||(Jo.graphic=1),Qo&&Qo.enabled===!1&&(Jo.dataLabel=1)}for(ro=0,mo=this.points;ro<mo.length;ro++)(Qo=mo[ro])&&Qo.series&&(Qo.resolveColor(),Object.keys(Jo).length&&Qo.destroyElements(Jo),Xs.showInLegend===!1&&Qo.legendItem&&So.legend.destroyItem(Qo))}co.initialType=vo,So.linkSeries(),Eo&&co.linkedSeries.length&&(co.isDirtyData=!0),_s(this,"afterUpdate"),Bs(lo,!0)&&So.redraw(ko?void 0:!1)},Ao.prototype.setName=function(Xs){this.name=this.options.name=this.userOptions.name=Xs,this.chart.isDirtyLegend=!0},Ao.prototype.hasOptionChanged=function(Xs){var lo=this.options[Xs],co=this.chart.options.plotOptions,So=this.userOptions[Xs];return So?lo!==So:lo!==Bs(co&&co[this.type]&&co[this.type][Xs],co&&co.series&&co.series[Xs],lo)},Ao.prototype.onMouseOver=function(){var Xs=this.chart,lo=Xs.hoverSeries;Xs.pointer.setHoverChartIndex(),lo&&lo!==this&&lo.onMouseOut(),this.options.events.mouseOver&&_s(this,"mouseOver"),this.setState("hover"),Xs.hoverSeries=this},Ao.prototype.onMouseOut=function(){var Xs=this.options,lo=this.chart,co=lo.tooltip,So=lo.hoverPoint;lo.hoverSeries=null,So&&So.onMouseOut(),this&&Xs.events.mouseOut&&_s(this,"mouseOut"),!co||this.stickyTracking||co.shared&&!this.noSharedTooltip||co.hide(),lo.series.forEach(function(ro){ro.setState("",!0)})},Ao.prototype.setState=function(Xs,lo){var co=this,So=co.options,ro=co.graph,vo=So.inactiveOtherPoints,Eo=So.states,mo=Bs(Eo[Xs||"normal"]&&Eo[Xs||"normal"].animation,co.chart.options.chart.animation),yo=So.lineWidth,Jo=0,Yo=So.opacity;if(Xs=Xs||"",co.state!==Xs&&([co.group,co.markerGroup,co.dataLabelsGroup].forEach(function(Wo){Wo&&(co.state&&Wo.removeClass("highcharts-series-"+co.state),Xs&&Wo.addClass("highcharts-series-"+Xs))}),co.state=Xs,!co.chart.styledMode)){if(Eo[Xs]&&Eo[Xs].enabled===!1)return;if(Xs&&(yo=Eo[Xs].lineWidth||yo+(Eo[Xs].lineWidthPlus||0),Yo=Bs(Eo[Xs].opacity,Yo)),ro&&!ro.dashstyle&&Us(yo))for(So={"stroke-width":yo},ro.animate(So,mo);co["zone-graph-"+Jo];)co["zone-graph-"+Jo].animate(So,mo),Jo+=1;vo||[co.group,co.markerGroup,co.dataLabelsGroup,co.labelBySeries].forEach(function(Wo){Wo&&Wo.animate({opacity:Yo},mo)})}lo&&vo&&co.points&&co.setAllPointsToState(Xs||void 0)},Ao.prototype.setAllPointsToState=function(Xs){this.points.forEach(function(lo){lo.setState&&lo.setState(Xs)})},Ao.prototype.setVisible=function(Xs,lo){var co=this,So=co.chart,ro=So.options.chart.ignoreHiddenSeries,vo=co.visible,Eo=(co.visible=Xs=co.options.visible=co.userOptions.visible=typeof Xs>"u"?!vo:Xs)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(mo){co[mo]&&co[mo][Eo]()}),(So.hoverSeries===co||(So.hoverPoint&&So.hoverPoint.series)===co)&&co.onMouseOut(),co.legendItem&&So.legend.colorizeItem(co,Xs),co.isDirty=!0,co.options.stacking&&So.series.forEach(function(mo){mo.options.stacking&&mo.visible&&(mo.isDirty=!0)}),co.linkedSeries.forEach(function(mo){mo.setVisible(Xs,!1)}),ro&&(So.isDirtyBox=!0),_s(co,Eo),lo!==!1&&So.redraw()},Ao.prototype.show=function(){this.setVisible(!0)},Ao.prototype.hide=function(){this.setVisible(!1)},Ao.prototype.select=function(Xs){this.selected=Xs=this.options.selected=typeof Xs>"u"?!this.selected:Xs,this.checkbox&&(this.checkbox.checked=Xs),_s(this,Xs?"select":"unselect")},Ao.prototype.shouldShowTooltip=function(Xs,lo,co){return co===void 0&&(co={}),co.series=this,co.visiblePlotOnly=!0,this.chart.isInsidePlot(Xs,lo,co)},Ao.defaultOptions=cs,Ao.types=hs.seriesTypes,Ao.registerType=hs.registerSeriesType,Ao}(),Ws(rs.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:os.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:ls,requireSorting:!0,sorted:!0}),hs.series=rs,rs}),Ri(ts,"Extensions/ScrollablePlotArea.js",[ts["Core/Animation/AnimationUtilities.js"],ts["Core/Axis/Axis.js"],ts["Core/Chart/Chart.js"],ts["Core/Series/Series.js"],ts["Core/Renderer/RendererRegistry.js"],ts["Core/Utilities.js"]],function(rs,is,ns,ss,os,ls){var cs=rs.stop,hs=ls.addEvent,us=ls.createElement,As=ls.defined,bs=ls.merge,ys=ls.pick;hs(ns,"afterSetChartSize",function(Cs){var ps=this.options.chart.scrollablePlotArea,ms=ps&&ps.minWidth;if(ps=ps&&ps.minHeight,!this.renderer.forExport){if(ms){if(this.scrollablePixelsX=ms=Math.max(0,ms-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=bs(this.plotBox),this.plotBox.width=this.plotWidth+=ms,this.inverted?this.clipBox.height+=ms:this.clipBox.width+=ms;var fs={1:{name:"right",value:ms}}}}else ps&&(this.scrollablePixelsY=ms=Math.max(0,ps-this.chartHeight),As(ms)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=bs(this.plotBox),this.plotBox.height=this.plotHeight+=ms,this.inverted?this.clipBox.width+=ms:this.clipBox.height+=ms,fs={2:{name:"bottom",value:ms}}));fs&&!Cs.skipAxes&&this.axes.forEach(function(gs){fs[gs.side]?gs.getPlotLinePath=function(){var ws=fs[gs.side].name,Ts=this[ws];this[ws]=Ts-fs[gs.side].value;var $s=is.prototype.getPlotLinePath.apply(this,arguments);return this[ws]=Ts,$s}:(gs.setAxisSize(),gs.setAxisTranslation())})}}),hs(ns,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),ns.prototype.setUpScrolling=function(){var Cs=this,ps={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(ps.overflowX="auto"),this.scrollablePixelsY&&(ps.overflowY="auto"),this.scrollingParent=us("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=us("div",{className:"highcharts-scrolling"},ps,this.scrollingParent);var ms;hs(this.scrollingContainer,"scroll",function(){Cs.pointer&&(delete Cs.pointer.chartPosition,Cs.hoverPoint&&(ms=Cs.hoverPoint),Cs.pointer.runPointActions(void 0,ms,!0))}),this.innerContainer=us("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},ns.prototype.moveFixedElements=function(){var Cs=this.container,ps=this.fixedRenderer,ms=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" "),fs;this.scrollablePixelsX&&!this.inverted?fs=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?fs=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(fs=".highcharts-yaxis"),fs&&ms.push(""+fs+":not(.highcharts-radial-axis)",""+fs+"-labels:not(.highcharts-radial-axis-labels)"),ms.forEach(function(gs){[].forEach.call(Cs.querySelectorAll(gs),function(ws){(ws.namespaceURI===ps.SVG_NS?ps.box:ps.box.parentNode).appendChild(ws),ws.style.pointerEvents="auto"})})},ns.prototype.applyFixed=function(){var Cs=!this.fixedDiv,ps=this.options.chart,ms=ps.scrollablePlotArea,fs=os.getRendererType();Cs?(this.fixedDiv=us("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(ps.style&&ps.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=ps=new fs(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=ps.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":ys(ms.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),hs(this,"afterShowResetZoom",this.moveFixedElements),hs(this,"afterApplyDrilldown",this.moveFixedElements),hs(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||Cs)&&(this.scrollableDirty=!1,this.moveFixedElements()),ps=this.chartWidth+(this.scrollablePixelsX||0),fs=this.chartHeight+(this.scrollablePixelsY||0),cs(this.container),this.container.style.width=ps+"px",this.container.style.height=fs+"px",this.renderer.boxWrapper.attr({width:ps,height:fs,viewBox:[0,0,ps,fs].join(" ")}),this.chartBackground.attr({width:ps,height:fs}),this.scrollingContainer.style.height=this.chartHeight+"px",Cs&&(ms.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*ms.scrollPositionX),ms.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*ms.scrollPositionY)),fs=this.axisOffset,Cs=this.plotTop-fs[0]-1,ms=this.plotLeft-fs[3]-1,ps=this.plotTop+this.plotHeight+fs[2]+1,fs=this.plotLeft+this.plotWidth+fs[1]+1;var gs=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),ws=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);Cs=this.scrollablePixelsX?[["M",0,Cs],["L",this.plotLeft-1,Cs],["L",this.plotLeft-1,ps],["L",0,ps],["Z"],["M",gs,Cs],["L",this.chartWidth,Cs],["L",this.chartWidth,ps],["L",gs,ps],["Z"]]:this.scrollablePixelsY?[["M",ms,0],["L",ms,this.plotTop-1],["L",fs,this.plotTop-1],["L",fs,0],["Z"],["M",ms,ws],["L",ms,this.chartHeight],["L",fs,this.chartHeight],["L",fs,ws],["Z"]]:[["M",0,0]],this.redrawTrigger!=="adjustHeight"&&this.scrollableMask.attr({d:Cs})},hs(is,"afterInit",function(){this.chart.scrollableDirty=!0}),hs(ss,"show",function(){this.chart.scrollableDirty=!0})}),Ri(ts,"Core/Axis/Stacking/StackItem.js",[ts["Core/FormatUtilities.js"],ts["Core/Series/SeriesRegistry.js"],ts["Core/Utilities.js"]],function(rs,is,ns){var ss=rs.format,os=is.series,ls=ns.destroyObjectProperties,cs=ns.pick,hs=ns.isNumber;return rs=function(){function us(As,bs,ys,Cs,ps){var ms=As.chart.inverted,fs=As.reversed;this.axis=As,As=this.isNegative=!!ys!=!!fs,this.options=bs=bs||{},this.x=Cs,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=ps,this.rightCliff=this.leftCliff=0,this.alignOptions={align:bs.align||(ms?As?"left":"right":"center"),verticalAlign:bs.verticalAlign||(ms?"middle":As?"bottom":"top"),y:bs.y,x:bs.x},this.textAlign=bs.textAlign||(ms?As?"right":"left":"center")}return us.prototype.destroy=function(){ls(this,this.axis)},us.prototype.render=function(As){var bs=this.axis.chart,ys=this.options,Cs=ys.format;Cs=Cs?ss(Cs,this,bs):ys.formatter.call(this),this.label?this.label.attr({text:Cs,visibility:"hidden"}):(this.label=bs.renderer.label(Cs,null,void 0,ys.shape,void 0,void 0,ys.useHTML,!1,"stack-labels"),Cs={r:ys.borderRadius||0,text:Cs,padding:cs(ys.padding,5),visibility:"hidden"},bs.styledMode||(Cs.fill=ys.backgroundColor,Cs.stroke=ys.borderColor,Cs["stroke-width"]=ys.borderWidth,this.label.css(ys.style||{})),this.label.attr(Cs),this.label.added||this.label.add(As)),this.label.labelrank=bs.plotSizeY},us.prototype.setOffset=function(As,bs,ys,Cs,ps,ms){var fs=this.alignOptions,gs=this.axis,ws=this.label,Ts=this.options,$s=this.textAlign,Rs=gs.chart;As=this.getStackBox({xOffset:As,width:bs,boxBottom:ys,boxTop:Cs,defaultX:ps,xAxis:ms}),ps=fs.verticalAlign,ws&&As&&(bs=ws.getBBox(),ys=ws.padding,Cs=cs(Ts.overflow,"justify")==="justify",fs.x=Ts.x||0,fs.y=Ts.y||0,ps=this.adjustStackPosition({labelBox:bs,verticalAlign:ps,textAlign:$s}),$s=ps.x,ps=ps.y,As.x-=$s,As.y-=ps,ws.align(fs,!1,As),($s=Rs.isInsidePlot(ws.alignAttr.x+fs.x+$s,ws.alignAttr.y+fs.y+ps))||(Cs=!1),Cs&&os.prototype.justifyDataLabel.call(gs,ws,fs,ws.alignAttr,bs,As),ws.attr({x:ws.alignAttr.x,y:ws.alignAttr.y,rotation:Ts.rotation,rotationOriginX:bs.width/2,rotationOriginY:bs.height/2}),cs(!Cs&&Ts.crop,!0)&&($s=hs(ws.x)&&hs(ws.y)&&Rs.isInsidePlot(ws.x-ys+ws.width,ws.y)&&Rs.isInsidePlot(ws.x+ys,ws.y)),ws[$s?"show":"hide"]())},us.prototype.adjustStackPosition=function(As){var bs=As.labelBox,ys={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:bs.width/2+bs.width/2*ys[As.textAlign],y:bs.height/2*ys[As.verticalAlign]}},us.prototype.getStackBox=function(As){var bs=this.axis,ys=bs.chart,Cs=As.boxTop,ps=As.defaultX,ms=As.xOffset,fs=As.width,gs=As.boxBottom;return Cs=bs.stacking.usePercentage?100:cs(Cs,this.total,0),Cs=bs.toPixels(Cs),As=cs(ps,(As.xAxis||ys.xAxis[0]).toPixels(this.x))+ms,bs=bs.toPixels(gs||0),bs=Math.abs(Cs-bs),gs=this.isNegative,ys.inverted?{x:(gs?Cs:Cs-bs)-ys.plotLeft,y:As-ys.plotTop,width:bs,height:fs}:{x:As-ys.plotLeft,y:(gs?Cs-bs:Cs)-ys.plotTop,width:fs,height:bs}},us}(),rs}),Ri(ts,"Core/Axis/Stacking/StackingAxis.js",[ts["Core/Animation/AnimationUtilities.js"],ts["Core/Axis/Axis.js"],ts["Core/Series/SeriesRegistry.js"],ts["Core/Axis/Stacking/StackItem.js"],ts["Core/Utilities.js"]],function(rs,is,ns,ss,os){function ls(){var Ws=this,Ds=Ws.inverted;Ws.yAxis.forEach(function(_s){_s.stacking&&_s.stacking.stacks&&_s.hasVisibleSeries&&(_s.stacking.oldStacks=_s.stacking.stacks)}),Ws.series.forEach(function(_s){var Ns=_s.xAxis&&_s.xAxis.options||{};!_s.options.stacking||_s.visible!==!0&&Ws.options.chart.ignoreHiddenSeries!==!1||(_s.stackKey=[_s.type,Fs(_s.options.stack,""),Ds?Ns.top:Ns.left,Ds?Ns.height:Ns.width].join())})}function cs(){var Ws=this.stacking;if(Ws){var Ds=Ws.stacks;Qs(Ds,function(_s,Ns){Ts(_s),Ds[Ns]=null}),Ws&&Ws.stackTotalGroup&&Ws.stackTotalGroup.destroy()}}function hs(){this.coll!=="yAxis"||this.stacking||(this.stacking=new Is(this))}function us(Ws,Ds,_s,Ns){return!ws(Ws)||Ws.x!==Ds||Ns&&Ws.stackKey!==Ns?Ws={x:Ds,index:0,key:Ns,stackKey:Ns}:Ws.index++,Ws.key=[_s,Ds,Ws.index].join(),Ws}function As(){var Ws=this,Ds=Ws.stackKey,_s=Ws.yAxis.stacking.stacks,Ns=Ws.processedXData,Ss=Ws[Ws.options.stacking+"Stacker"],Us;Ss&&[Ds,"-"+Ds].forEach(function(Zs){for(var ao=Ns.length,js,Bs;ao--;)js=Ns[ao],Us=Ws.getStackIndicator(Us,js,Ws.index,Zs),(Bs=(js=_s[Zs]&&_s[Zs][js])&&js.points[Us.key])&&Ss.call(Ws,Bs,js,ao)})}function bs(Ws,Ds,_s){Ds=Ds.total?100/Ds.total:0,Ws[0]=gs(Ws[0]*Ds),Ws[1]=gs(Ws[1]*Ds),this.stackedYData[_s]=Ws[1]}function ys(){var Ws=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?ms.setStackedPoints.call(this,"group"):Ws&&Qs(Ws.stacks,function(Ds,_s){_s.slice(-5)==="group"&&(Qs(Ds,function(Ns){return Ns.destroy()}),delete Ws.stacks[_s])})}function Cs(Ws){var Ds=this.chart,_s=Ws||this.options.stacking;if(_s&&(this.visible===!0||Ds.options.chart.ignoreHiddenSeries===!1)){var Ns=this.processedXData,Ss=this.processedYData,Us=[],Zs=Ss.length,ao=this.options,js=ao.threshold,Bs=Fs(ao.startFromThreshold&&js,0);ao=ao.stack,Ws=Ws?""+this.type+",".concat(_s):this.stackKey;var zs="-"+Ws,so=this.negStacks;Ds=_s==="group"?Ds.yAxis[0]:this.yAxis;var oo=Ds.stacking.stacks,Ao=Ds.stacking.oldStacks,Xs,lo;for(Ds.stacking.stacksTouched+=1,lo=0;lo<Zs;lo++){var co=Ns[lo],So=Ss[lo],ro=this.getStackIndicator(ro,co,this.index),vo=ro.key,Eo=(Xs=so&&So<(Bs?0:js))?zs:Ws;oo[Eo]||(oo[Eo]={}),oo[Eo][co]||(Ao[Eo]&&Ao[Eo][co]?(oo[Eo][co]=Ao[Eo][co],oo[Eo][co].total=null):oo[Eo][co]=new ss(Ds,Ds.options.stackLabels,!!Xs,co,ao)),Eo=oo[Eo][co],So!==null?(Eo.points[vo]=Eo.points[this.index]=[Fs(Eo.cumulative,Bs)],ws(Eo.cumulative)||(Eo.base=vo),Eo.touched=Ds.stacking.stacksTouched,0<ro.index&&this.singleStacks===!1&&(Eo.points[vo][0]=Eo.points[this.index+","+co+",0"][0])):Eo.points[vo]=Eo.points[this.index]=null,_s==="percent"?(Xs=Xs?Ws:zs,so&&oo[Xs]&&oo[Xs][co]?(Xs=oo[Xs][co],Eo.total=Xs.total=Math.max(Xs.total,Eo.total)+Math.abs(So)||0):Eo.total=gs(Eo.total+(Math.abs(So)||0))):_s==="group"?(Rs(So)&&(So=So[0]),So!==null&&(Eo.total=(Eo.total||0)+1)):Eo.total=gs(Eo.total+(So||0)),Eo.cumulative=_s==="group"?(Eo.total||1)-1:Fs(Eo.cumulative,Bs)+(So||0),So!==null&&(Eo.points[vo].push(Eo.cumulative),Us[lo]=Eo.cumulative,Eo.hasValidPoints=!0)}_s==="percent"&&(Ds.stacking.usePercentage=!0),_s!=="group"&&(this.stackedYData=Us),Ds.stacking.oldStacks={}}}var ps=rs.getDeferredAnimation,ms=ns.series.prototype,fs=os.addEvent,gs=os.correctFloat,ws=os.defined,Ts=os.destroyObjectProperties,$s=os.fireEvent,Rs=os.isArray,Ps=os.isNumber,Qs=os.objectEach,Fs=os.pick,Is=function(){function Ws(Ds){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=Ds}return Ws.prototype.buildStacks=function(){var Ds=this.axis,_s=Ds.series,Ns=Ds.options.reversedStacks,Ss=_s.length,Us;for(this.usePercentage=!1,Us=Ss;Us--;){var Zs=_s[Ns?Us:Ss-Us-1];Zs.setStackedPoints(),Zs.setGroupedPoints()}for(Us=0;Us<Ss;Us++)_s[Us].modifyStacks();$s(Ds,"afterBuildStacks")},Ws.prototype.cleanStacks=function(){if(this.oldStacks)var Ds=this.stacks=this.oldStacks;Qs(Ds,function(_s){Qs(_s,function(Ns){Ns.cumulative=Ns.total})})},Ws.prototype.resetStacks=function(){var Ds=this;Qs(this.stacks,function(_s){Qs(_s,function(Ns,Ss){Ps(Ns.touched)&&Ns.touched<Ds.stacksTouched?(Ns.destroy(),delete _s[Ss]):(Ns.total=null,Ns.cumulative=null)})})},Ws.prototype.renderStackTotals=function(){var Ds=this.axis,_s=Ds.chart,Ns=_s.renderer,Ss=this.stacks;Ds=ps(_s,Ds.options.stackLabels&&Ds.options.stackLabels.animation||!1);var Us=this.stackTotalGroup=this.stackTotalGroup||Ns.g("stack-labels").attr({zIndex:6,opacity:0}).add();Us.translate(_s.plotLeft,_s.plotTop),Qs(Ss,function(Zs){Qs(Zs,function(ao){ao.render(Us)})}),Us.animate({opacity:1},Ds)},Ws}(),Ms;return function(Ws){var Ds=[];Ws.compose=function(_s,Ns,Ss){Ds.indexOf(_s)===-1&&(Ds.push(_s),fs(_s,"init",hs),fs(_s,"destroy",cs)),Ds.indexOf(Ns)===-1&&(Ds.push(Ns),Ns.prototype.getStacks=ls),Ds.indexOf(Ss)===-1&&(Ds.push(Ss),_s=Ss.prototype,_s.getStackIndicator=us,_s.modifyStacks=As,_s.percentStacker=bs,_s.setGroupedPoints=ys,_s.setStackedPoints=Cs)}}(Ms||(Ms={})),Ms}),Ri(ts,"Series/Line/LineSeries.js",[ts["Core/Series/Series.js"],ts["Core/Series/SeriesRegistry.js"],ts["Core/Utilities.js"]],function(rs,is,ns){var ss=this&&this.__extends||function(){var cs=function(hs,us){return cs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(As,bs){As.__proto__=bs}||function(As,bs){for(var ys in bs)bs.hasOwnProperty(ys)&&(As[ys]=bs[ys])},cs(hs,us)};return function(hs,us){function As(){this.constructor=hs}cs(hs,us),hs.prototype=us===null?Object.create(us):(As.prototype=us.prototype,new As)}}(),os=ns.defined,ls=ns.merge;return ns=function(cs){function hs(){var us=cs!==null&&cs.apply(this,arguments)||this;return us.data=void 0,us.options=void 0,us.points=void 0,us}return ss(hs,cs),hs.prototype.drawGraph=function(){var us=this,As=this.options,bs=(this.gappedPath||this.getGraphPath).call(this),ys=this.chart.styledMode,Cs=[["graph","highcharts-graph"]];ys||Cs[0].push(As.lineColor||this.color||"#cccccc",As.dashStyle),Cs=us.getZonesGraphs(Cs),Cs.forEach(function(ps,ms){var fs=ps[0],gs=us[fs],ws=gs?"animate":"attr";gs?(gs.endX=us.preventGraphAnimation?null:bs.xMap,gs.animate({d:bs})):bs.length&&(us[fs]=gs=us.chart.renderer.path(bs).addClass(ps[1]).attr({zIndex:1}).add(us.group)),gs&&!ys&&(fs={stroke:ps[2],"stroke-width":As.lineWidth||0,fill:us.fillGraph&&us.color||"none"},ps[3]?fs.dashstyle=ps[3]:As.linecap!=="square"&&(fs["stroke-linecap"]=fs["stroke-linejoin"]="round"),gs[ws](fs).shadow(2>ms&&As.shadow)),gs&&(gs.startX=bs.xMap,gs.isArea=bs.isArea)})},hs.prototype.getGraphPath=function(us,As,bs){var ys=this,Cs=ys.options,ps=[],ms=[],fs,gs=Cs.step;us=us||ys.points;var ws=us.reversed;return ws&&us.reverse(),(gs={right:1,center:2}[gs]||gs&&3)&&ws&&(gs=4-gs),us=this.getValidPoints(us,!1,!(Cs.connectNulls&&!As&&!bs)),us.forEach(function(Ts,$s){var Rs=Ts.plotX,Ps=Ts.plotY,Qs=us[$s-1];(Ts.leftCliff||Qs&&Qs.rightCliff)&&!bs&&(fs=!0),Ts.isNull&&!os(As)&&0<$s?fs=!Cs.connectNulls:Ts.isNull&&!As?fs=!0:($s===0||fs?$s=[["M",Ts.plotX,Ts.plotY]]:ys.getPointSpline?$s=[ys.getPointSpline(us,Ts,$s)]:gs?($s=gs===1?[["L",Qs.plotX,Ps]]:gs===2?[["L",(Qs.plotX+Rs)/2,Qs.plotY],["L",(Qs.plotX+Rs)/2,Ps]]:[["L",Rs,Qs.plotY]],$s.push(["L",Rs,Ps])):$s=[["L",Rs,Ps]],ms.push(Ts.x),gs&&(ms.push(Ts.x),gs===2&&ms.push(Ts.x)),ps.push.apply(ps,$s),fs=!1)}),ps.xMap=ms,ys.graphPath=ps},hs.prototype.getZonesGraphs=function(us){return this.zones.forEach(function(As,bs){bs=["zone-graph-"+bs,"highcharts-graph highcharts-zone-graph-"+bs+" "+(As.className||"")],this.chart.styledMode||bs.push(As.color||this.color,As.dashStyle||this.options.dashStyle),us.push(bs)},this),us},hs.defaultOptions=ls(rs.defaultOptions,{}),hs}(rs),is.registerSeriesType("line",ns),ns}),Ri(ts,"Series/Area/AreaSeries.js",[ts["Core/Color/Color.js"],ts["Core/Legend/LegendSymbol.js"],ts["Core/Series/SeriesRegistry.js"],ts["Core/Utilities.js"]],function(rs,is,ns,ss){var os=this&&this.__extends||function(){var bs=function(ys,Cs){return bs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ps,ms){ps.__proto__=ms}||function(ps,ms){for(var fs in ms)ms.hasOwnProperty(fs)&&(ps[fs]=ms[fs])},bs(ys,Cs)};return function(ys,Cs){function ps(){this.constructor=ys}bs(ys,Cs),ys.prototype=Cs===null?Object.create(Cs):(ps.prototype=Cs.prototype,new ps)}}(),ls=rs.parse,cs=ns.seriesTypes.line;rs=ss.extend;var hs=ss.merge,us=ss.objectEach,As=ss.pick;return ss=function(bs){function ys(){var Cs=bs!==null&&bs.apply(this,arguments)||this;return Cs.data=void 0,Cs.options=void 0,Cs.points=void 0,Cs}return os(ys,bs),ys.prototype.drawGraph=function(){this.areaPath=[],bs.prototype.drawGraph.apply(this);var Cs=this,ps=this.areaPath,ms=this.options,fs=[["area","highcharts-area",this.color,ms.fillColor]];this.zones.forEach(function(gs,ws){fs.push(["zone-area-"+ws,"highcharts-area highcharts-zone-area-"+ws+" "+gs.className,gs.color||Cs.color,gs.fillColor||ms.fillColor])}),fs.forEach(function(gs){var ws=gs[0],Ts={},$s=Cs[ws],Rs=$s?"animate":"attr";$s?($s.endX=Cs.preventGraphAnimation?null:ps.xMap,$s.animate({d:ps})):(Ts.zIndex=0,$s=Cs[ws]=Cs.chart.renderer.path(ps).addClass(gs[1]).add(Cs.group),$s.isArea=!0),Cs.chart.styledMode||(Ts.fill=As(gs[3],ls(gs[2]).setOpacity(As(ms.fillOpacity,.75)).get())),$s[Rs](Ts),$s.startX=ps.xMap,$s.shiftUnit=ms.step?2:1})},ys.prototype.getGraphPath=function(Cs){var ps=cs.prototype.getGraphPath,ms=this.options,fs=ms.stacking,gs=this.yAxis,ws=[],Ts=[],$s=this.index,Rs=gs.stacking.stacks[this.stackKey],Ps=ms.threshold,Qs=Math.round(gs.getThreshold(ms.threshold));ms=As(ms.connectNulls,fs==="percent");var Fs=function(Ns,Ss,Us){var Zs=Cs[Ns];Ns=fs&&Rs[Zs.x].points[$s];var ao=Zs[Us+"Null"]||0;if(Us=Zs[Us+"Cliff"]||0,Zs=!0,Us||ao){var js=(ao?Ns[0]:Ns[1])+Us,Bs=Ns[0]+Us;Zs=!!ao}else!fs&&Cs[Ss]&&Cs[Ss].isNull&&(js=Bs=Ps);typeof js<"u"&&(Ts.push({plotX:Ds,plotY:js===null?Qs:gs.getThreshold(js),isNull:Zs,isCliff:!0}),ws.push({plotX:Ds,plotY:Bs===null?Qs:gs.getThreshold(Bs),doCurve:!1}))};Cs=Cs||this.points,fs&&(Cs=this.getStackPoints(Cs));for(var Is=0,Ms=Cs.length;Is<Ms;++Is){fs||(Cs[Is].leftCliff=Cs[Is].rightCliff=Cs[Is].leftNull=Cs[Is].rightNull=void 0);var Ws=Cs[Is].isNull,Ds=As(Cs[Is].rectPlotX,Cs[Is].plotX),_s=fs?As(Cs[Is].yBottom,Qs):Qs;(!Ws||ms)&&(ms||Fs(Is,Is-1,"left"),Ws&&!fs&&ms||(Ts.push(Cs[Is]),ws.push({x:Is,plotX:Ds,plotY:_s})),ms||Fs(Is,Is+1,"right"))}return Fs=ps.call(this,Ts,!0,!0),ws.reversed=!0,Ws=ps.call(this,ws,!0,!0),(_s=Ws[0])&&_s[0]==="M"&&(Ws[0]=["L",_s[1],_s[2]]),Ws=Fs.concat(Ws),Ws.length&&Ws.push(["Z"]),ps=ps.call(this,Ts,!1,ms),Ws.xMap=Fs.xMap,this.areaPath=Ws,ps},ys.prototype.getStackPoints=function(Cs){var ps=this,ms=[],fs=[],gs=this.xAxis,ws=this.yAxis,Ts=ws.stacking.stacks[this.stackKey],$s={},Rs=ws.series,Ps=Rs.length,Qs=ws.options.reversedStacks?1:-1,Fs=Rs.indexOf(ps);if(Cs=Cs||this.points,this.options.stacking){for(var Is=0;Is<Cs.length;Is++)Cs[Is].leftNull=Cs[Is].rightNull=void 0,$s[Cs[Is].x]=Cs[Is];us(Ts,function(Ws,Ds){Ws.total!==null&&fs.push(Ds)}),fs.sort(function(Ws,Ds){return Ws-Ds});var Ms=Rs.map(function(Ws){return Ws.visible});fs.forEach(function(Ws,Ds){var _s=0,Ns,Ss;if($s[Ws]&&!$s[Ws].isNull)ms.push($s[Ws]),[-1,1].forEach(function(Zs){var ao=Zs===1?"rightNull":"leftNull",js=Ts[fs[Ds+Zs]],Bs=0;if(js)for(var zs=Fs;0<=zs&&zs<Ps;){var so=Rs[zs].index;Ns=js.points[so],Ns||(so===ps.index?$s[Ws][ao]=!0:Ms[zs]&&(Ss=Ts[Ws].points[so])&&(Bs-=Ss[1]-Ss[0])),zs+=Qs}$s[Ws][Zs===1?"rightCliff":"leftCliff"]=Bs});else{for(var Us=Fs;0<=Us&&Us<Ps;){if(Ns=Ts[Ws].points[Rs[Us].index]){_s=Ns[1];break}Us+=Qs}_s=As(_s,0),_s=ws.translate(_s,0,1,0,1),ms.push({isNull:!0,plotX:gs.translate(Ws,0,0,0,1),x:Ws,plotY:_s,yBottom:_s})}})}return ms},ys.defaultOptions=hs(cs.defaultOptions,{threshold:0}),ys}(cs),rs(ss.prototype,{singleStacks:!1,drawLegendSymbol:is.drawRectangle}),ns.registerSeriesType("area",ss),ss}),Ri(ts,"Series/Spline/SplineSeries.js",[ts["Core/Series/SeriesRegistry.js"],ts["Core/Utilities.js"]],function(rs,is){var ns=this&&this.__extends||function(){var cs=function(hs,us){return cs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(As,bs){As.__proto__=bs}||function(As,bs){for(var ys in bs)bs.hasOwnProperty(ys)&&(As[ys]=bs[ys])},cs(hs,us)};return function(hs,us){function As(){this.constructor=hs}cs(hs,us),hs.prototype=us===null?Object.create(us):(As.prototype=us.prototype,new As)}}(),ss=rs.seriesTypes.line,os=is.merge,ls=is.pick;return is=function(cs){function hs(){var us=cs!==null&&cs.apply(this,arguments)||this;return us.data=void 0,us.options=void 0,us.points=void 0,us}return ns(hs,cs),hs.prototype.getPointSpline=function(us,As,bs){var ys=As.plotX||0,Cs=As.plotY||0,ps=us[bs-1];if(bs=us[bs+1],ps&&!ps.isNull&&ps.doCurve!==!1&&!As.isCliff&&bs&&!bs.isNull&&bs.doCurve!==!1&&!As.isCliff){us=ps.plotY||0;var ms=bs.plotX||0;bs=bs.plotY||0;var fs=0,gs=(1.5*ys+(ps.plotX||0))/2.5,ws=(1.5*Cs+us)/2.5;ms=(1.5*ys+ms)/2.5;var Ts=(1.5*Cs+bs)/2.5;ms!==gs&&(fs=(Ts-ws)*(ms-ys)/(ms-gs)+Cs-Ts),ws+=fs,Ts+=fs,ws>us&&ws>Cs?(ws=Math.max(us,Cs),Ts=2*Cs-ws):ws<us&&ws<Cs&&(ws=Math.min(us,Cs),Ts=2*Cs-ws),Ts>bs&&Ts>Cs?(Ts=Math.max(bs,Cs),ws=2*Cs-Ts):Ts<bs&&Ts<Cs&&(Ts=Math.min(bs,Cs),ws=2*Cs-Ts),As.rightContX=ms,As.rightContY=Ts}return As=["C",ls(ps.rightContX,ps.plotX,0),ls(ps.rightContY,ps.plotY,0),ls(gs,ys,0),ls(ws,Cs,0),ys,Cs],ps.rightContX=ps.rightContY=void 0,As},hs.defaultOptions=os(ss.defaultOptions),hs}(ss),rs.registerSeriesType("spline",is),is}),Ri(ts,"Series/AreaSpline/AreaSplineSeries.js",[ts["Series/Spline/SplineSeries.js"],ts["Core/Legend/LegendSymbol.js"],ts["Core/Series/SeriesRegistry.js"],ts["Core/Utilities.js"]],function(rs,is,ns,ss){var os=this&&this.__extends||function(){var As=function(bs,ys){return As=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Cs,ps){Cs.__proto__=ps}||function(Cs,ps){for(var ms in ps)ps.hasOwnProperty(ms)&&(Cs[ms]=ps[ms])},As(bs,ys)};return function(bs,ys){function Cs(){this.constructor=bs}As(bs,ys),bs.prototype=ys===null?Object.create(ys):(Cs.prototype=ys.prototype,new Cs)}}(),ls=ns.seriesTypes,cs=ls.area;ls=ls.area.prototype;var hs=ss.extend,us=ss.merge;return ss=function(As){function bs(){var ys=As!==null&&As.apply(this,arguments)||this;return ys.data=void 0,ys.points=void 0,ys.options=void 0,ys}return os(bs,As),bs.defaultOptions=us(rs.defaultOptions,cs.defaultOptions),bs}(rs),hs(ss.prototype,{getGraphPath:ls.getGraphPath,getStackPoints:ls.getStackPoints,drawGraph:ls.drawGraph,drawLegendSymbol:is.drawRectangle}),ns.registerSeriesType("areaspline",ss),ss}),Ri(ts,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),Ri(ts,"Series/Column/ColumnSeries.js",[ts["Core/Animation/AnimationUtilities.js"],ts["Core/Color/Color.js"],ts["Series/Column/ColumnSeriesDefaults.js"],ts["Core/Globals.js"],ts["Core/Legend/LegendSymbol.js"],ts["Core/Series/Series.js"],ts["Core/Series/SeriesRegistry.js"],ts["Core/Utilities.js"]],function(rs,is,ns,ss,os,ls,cs,hs){var us=this&&this.__extends||function(){var Ps=function(Qs,Fs){return Ps=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Is,Ms){Is.__proto__=Ms}||function(Is,Ms){for(var Ws in Ms)Ms.hasOwnProperty(Ws)&&(Is[Ws]=Ms[Ws])},Ps(Qs,Fs)};return function(Qs,Fs){function Is(){this.constructor=Qs}Ps(Qs,Fs),Qs.prototype=Fs===null?Object.create(Fs):(Is.prototype=Fs.prototype,new Is)}}(),As=rs.animObject,bs=is.parse,ys=ss.hasTouch;rs=ss.noop;var Cs=hs.clamp,ps=hs.defined,ms=hs.extend,fs=hs.fireEvent,gs=hs.isArray,ws=hs.isNumber,Ts=hs.merge,$s=hs.pick,Rs=hs.objectEach;return hs=function(Ps){function Qs(){var Fs=Ps!==null&&Ps.apply(this,arguments)||this;return Fs.borderWidth=void 0,Fs.data=void 0,Fs.group=void 0,Fs.options=void 0,Fs.points=void 0,Fs}return us(Qs,Ps),Qs.prototype.animate=function(Fs){var Is=this,Ms=this.yAxis,Ws=Is.options,Ds=this.chart.inverted,_s={},Ns=Ds?"translateX":"translateY";if(Fs)_s.scaleY=.001,Fs=Cs(Ms.toPixels(Ws.threshold),Ms.pos,Ms.pos+Ms.len),Ds?_s.translateX=Fs-Ms.len:_s.translateY=Fs,Is.clipBox&&Is.setClip(),Is.group.attr(_s);else{var Ss=Number(Is.group.attr(Ns));Is.group.animate({scaleY:1},ms(As(Is.options.animation),{step:function(Us,Zs){Is.group&&(_s[Ns]=Ss+Zs.pos*(Ms.pos-Ss),Is.group.attr(_s))}}))}},Qs.prototype.init=function(Fs,Is){Ps.prototype.init.apply(this,arguments);var Ms=this;Fs=Ms.chart,Fs.hasRendered&&Fs.series.forEach(function(Ws){Ws.type===Ms.type&&(Ws.isDirty=!0)})},Qs.prototype.getColumnMetrics=function(){var Fs=this,Is=Fs.options,Ms=Fs.xAxis,Ws=Fs.yAxis,Ds=Ms.options.reversedStacks;Ds=Ms.reversed&&!Ds||!Ms.reversed&&Ds;var _s={},Ns,Ss=0;Is.grouping===!1?Ss=1:Fs.chart.series.forEach(function(js){var Bs=js.yAxis,zs=js.options;if(js.type===Fs.type&&(js.visible||!Fs.chart.options.chart.ignoreHiddenSeries)&&Ws.len===Bs.len&&Ws.pos===Bs.pos){if(zs.stacking&&zs.stacking!=="group"){Ns=js.stackKey,typeof _s[Ns]>"u"&&(_s[Ns]=Ss++);var so=_s[Ns]}else zs.grouping!==!1&&(so=Ss++);js.columnIndex=so}});var Us=Math.min(Math.abs(Ms.transA)*(Ms.ordinal&&Ms.ordinal.slope||Is.pointRange||Ms.closestPointRange||Ms.tickInterval||1),Ms.len),Zs=Us*Is.groupPadding,ao=(Us-2*Zs)/(Ss||1);return Is=Math.min(Is.maxPointWidth||Ms.len,$s(Is.pointWidth,ao*(1-2*Is.pointPadding))),Fs.columnMetrics={width:Is,offset:(ao-Is)/2+(Zs+((Fs.columnIndex||0)+(Ds?1:0))*ao-Us/2)*(Ds?-1:1),paddedWidth:ao,columnCount:Ss},Fs.columnMetrics},Qs.prototype.crispCol=function(Fs,Is,Ms,Ws){var Ds=this.chart,_s=this.borderWidth,Ns=-(_s%2?.5:0);return _s=_s%2?.5:1,Ds.inverted&&Ds.renderer.isVML&&(_s+=1),this.options.crisp&&(Ms=Math.round(Fs+Ms)+Ns,Fs=Math.round(Fs)+Ns,Ms-=Fs),Ws=Math.round(Is+Ws)+_s,Ns=.5>=Math.abs(Is)&&.5<Ws,Is=Math.round(Is)+_s,Ws-=Is,Ns&&Ws&&(--Is,Ws+=1),{x:Fs,y:Is,width:Ms,height:Ws}},Qs.prototype.adjustForMissingColumns=function(Fs,Is,Ms,Ws){var Ds=this,_s=this.options.stacking;if(!Ms.isNull&&1<Ws.columnCount){var Ns=this.yAxis.options.reversedStacks,Ss=0,Us=Ns?0:-Ws.columnCount;Rs(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(Zs){if(typeof Ms.x=="number"){var ao=Zs[Ms.x.toString()];ao&&(Zs=ao.points[Ds.index],_s?(Zs&&(Ss=Us),ao.hasValidPoints&&(Ns?Us++:Us--)):gs(Zs)&&(Zs=Object.keys(ao.points).filter(function(js){return!js.match(",")&&ao.points[js]&&1<ao.points[js].length}).map(parseFloat).sort(function(js,Bs){return Bs-js}),Ss=Zs.indexOf(Ds.index),Us=Zs.length))}}),Fs=(Ms.plotX||0)+((Us-1)*Ws.paddedWidth+Is)/2-Is-Ss*Ws.paddedWidth}return Fs},Qs.prototype.translate=function(){var Fs=this,Is=Fs.chart,Ms=Fs.options,Ws=Fs.dense=2>Fs.closestPointRange*Fs.xAxis.transA;Ws=Fs.borderWidth=$s(Ms.borderWidth,Ws?0:1);var Ds=Fs.xAxis,_s=Fs.yAxis,Ns=Ms.threshold,Ss=Fs.translatedThreshold=_s.getThreshold(Ns),Us=$s(Ms.minPointLength,5),Zs=Fs.getColumnMetrics(),ao=Zs.width,js=Fs.pointXOffset=Zs.offset,Bs=Fs.dataMin,zs=Fs.dataMax,so=Fs.barW=Math.max(ao,1+2*Ws);Is.inverted&&(Ss-=.5),Ms.pointPadding&&(so=Math.ceil(so)),ls.prototype.translate.apply(Fs),Fs.points.forEach(function(oo){var Ao=$s(oo.yBottom,Ss),Xs=999+Math.abs(Ao),lo=oo.plotX||0;Xs=Cs(oo.plotY,-Xs,_s.len+Xs);var co=Math.min(Xs,Ao),So=Math.max(Xs,Ao)-co,ro=ao,vo=lo+js,Eo=so;Us&&Math.abs(So)<Us&&(So=Us,lo=!_s.reversed&&!oo.negative||_s.reversed&&oo.negative,ws(Ns)&&ws(zs)&&oo.y===Ns&&zs<=Ns&&(_s.min||0)<Ns&&(Bs!==zs||(_s.max||0)<=Ns)&&(lo=!lo),co=Math.abs(co-Ss)>Us?Ao-Us:Ss-(lo?Us:0)),ps(oo.options.pointWidth)&&(ro=Eo=Math.ceil(oo.options.pointWidth),vo-=Math.round((ro-ao)/2)),Ms.centerInCategory&&(vo=Fs.adjustForMissingColumns(vo,ro,oo,Zs)),oo.barX=vo,oo.pointWidth=ro,oo.tooltipPos=Is.inverted?[Cs(_s.len+_s.pos-Is.plotLeft-Xs,_s.pos-Is.plotLeft,_s.len+_s.pos-Is.plotLeft),Ds.len+Ds.pos-Is.plotTop-vo-Eo/2,So]:[Ds.left-Is.plotLeft+vo+Eo/2,Cs(Xs+_s.pos-Is.plotTop,_s.pos-Is.plotTop,_s.len+_s.pos-Is.plotTop),So],oo.shapeType=Fs.pointClass.prototype.shapeType||"rect",oo.shapeArgs=Fs.crispCol.apply(Fs,oo.isNull?[vo,Ss,Eo,0]:[vo,co,Eo,So])})},Qs.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},Qs.prototype.pointAttribs=function(Fs,Is){var Ms=this.options,Ws=this.pointAttrToOptions||{},Ds=Ws.stroke||"borderColor",_s=Ws["stroke-width"]||"borderWidth",Ns=Fs&&Fs.color||this.color,Ss=Fs&&Fs[Ds]||Ms[Ds]||Ns;Ws=Fs&&Fs.options.dashStyle||Ms.dashStyle;var Us=Fs&&Fs[_s]||Ms[_s]||this[_s]||0,Zs=$s(Fs&&Fs.opacity,Ms.opacity,1);if(Fs&&this.zones.length){var ao=Fs.getZone();Ns=Fs.options.color||ao&&(ao.color||Fs.nonZonedColor)||this.color,ao&&(Ss=ao.borderColor||Ss,Ws=ao.dashStyle||Ws,Us=ao.borderWidth||Us)}return Is&&Fs&&(Fs=Ts(Ms.states[Is],Fs.options.states&&Fs.options.states[Is]||{}),Is=Fs.brightness,Ns=Fs.color||typeof Is<"u"&&bs(Ns).brighten(Fs.brightness).get()||Ns,Ss=Fs[Ds]||Ss,Us=Fs[_s]||Us,Ws=Fs.dashStyle||Ws,Zs=$s(Fs.opacity,Zs)),Ds={fill:Ns,stroke:Ss,"stroke-width":Us,opacity:Zs},Ws&&(Ds.dashstyle=Ws),Ds},Qs.prototype.drawPoints=function(Fs){Fs===void 0&&(Fs=this.points);var Is=this,Ms=this.chart,Ws=Is.options,Ds=Ms.renderer,_s=Ws.animationLimit||250,Ns;Fs.forEach(function(Ss){var Us=Ss.graphic,Zs=!!Us,ao=Us&&Ms.pointCount<_s?"animate":"attr";ws(Ss.plotY)&&Ss.y!==null?(Ns=Ss.shapeArgs,Us&&Ss.hasNewShapeType()&&(Us=Us.destroy()),Is.enabledDataSorting&&(Ss.startXPos=Is.xAxis.reversed?-(Ns&&Ns.width||0):Is.xAxis.width),Us||(Ss.graphic=Us=Ds[Ss.shapeType](Ns).add(Ss.group||Is.group))&&Is.enabledDataSorting&&Ms.hasRendered&&Ms.pointCount<_s&&(Us.attr({x:Ss.startXPos}),Zs=!0,ao="animate"),Us&&Zs&&Us[ao](Ts(Ns)),Ws.borderRadius&&Us[ao]({r:Ws.borderRadius}),Ms.styledMode||Us[ao](Is.pointAttribs(Ss,Ss.selected&&"select")).shadow(Ss.allowShadow!==!1&&Ws.shadow,null,Ws.stacking&&!Ws.borderRadius),Us&&(Us.addClass(Ss.getClassName(),!0),Us.attr({visibility:Ss.visible?"inherit":"hidden"}))):Us&&(Ss.graphic=Us.destroy())})},Qs.prototype.drawTracker=function(Fs){Fs===void 0&&(Fs=this.points);var Is=this,Ms=Is.chart,Ws=Ms.pointer,Ds=function(Ns){var Ss=Ws.getPointFromEvent(Ns);typeof Ss<"u"&&(Ws.isDirectTouch=!0,Ss.onMouseOver(Ns))},_s;Fs.forEach(function(Ns){_s=gs(Ns.dataLabels)?Ns.dataLabels:Ns.dataLabel?[Ns.dataLabel]:[],Ns.graphic&&(Ns.graphic.element.point=Ns),_s.forEach(function(Ss){Ss.div?Ss.div.point=Ns:Ss.element.point=Ns})}),Is._hasTracking||(Is.trackerGroups.forEach(function(Ns){Is[Ns]&&(Is[Ns].addClass("highcharts-tracker").on("mouseover",Ds).on("mouseout",function(Ss){Ws.onTrackerMouseOut(Ss)}),ys&&Is[Ns].on("touchstart",Ds),!Ms.styledMode&&Is.options.cursor&&Is[Ns].css({cursor:Is.options.cursor}))}),Is._hasTracking=!0),fs(this,"afterDrawTracker")},Qs.prototype.remove=function(){var Fs=this,Is=Fs.chart;Is.hasRendered&&Is.series.forEach(function(Ms){Ms.type===Fs.type&&(Ms.isDirty=!0)}),ls.prototype.remove.apply(Fs,arguments)},Qs.defaultOptions=Ts(ls.defaultOptions,ns),Qs}(ls),ms(hs.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:os.drawRectangle,getSymbol:rs,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),cs.registerSeriesType("column",hs),hs}),Ri(ts,"Core/Series/DataLabel.js",[ts["Core/Animation/AnimationUtilities.js"],ts["Core/FormatUtilities.js"],ts["Core/Utilities.js"]],function(rs,is,ns){var ss=rs.getDeferredAnimation,os=is.format,ls=ns.defined,cs=ns.extend,hs=ns.fireEvent,us=ns.isArray,As=ns.isString,bs=ns.merge,ys=ns.objectEach,Cs=ns.pick,ps=ns.splat,ms;return function(fs){function gs(Fs,Is,Ms,Ws,Ds){var _s=this,Ns=this.chart,Ss=this.isCartesian&&Ns.inverted,Us=this.enabledDataSorting,Zs=Fs.plotX,ao=Fs.plotY,js=Ms.rotation,Bs=Ms.align,zs=ls(Zs)&&ls(ao)&&Ns.isInsidePlot(Zs,Math.round(ao),{inverted:Ss,paneCoordinates:!0,series:_s});ao=function(Xs){Us&&_s.xAxis&&!so&&_s.setDataLabelStartPos(Fs,Is,Ds,zs,Xs)};var so=Cs(Ms.overflow,Us?"none":"justify")==="justify";if(Zs=this.visible&&Fs.visible!==!1&&ls(Zs)&&(Fs.series.forceDL||Us&&!so||zs||Cs(Ms.inside,!!this.options.stacking)&&Ws&&Ns.isInsidePlot(Zs,Ss?Ws.x+1:Ws.y+Ws.height-1,{inverted:Ss,paneCoordinates:!0,series:_s})),Ss=Fs.pos(),Zs&&Ss){js&&Is.attr({align:Bs}),Bs=Is.getBBox(!0);var oo=[0,0],Ao=Ns.renderer.fontMetrics(Ns.styledMode?void 0:Ms.style.fontSize,Is).b;Ws=cs({x:Ss[0],y:Math.round(Ss[1]),width:0,height:0},Ws),cs(Ms,{width:Bs.width,height:Bs.height}),js?(so=!1,oo=Ns.renderer.rotCorr(Ao,js),Ao={x:Ws.x+(Ms.x||0)+Ws.width/2+oo.x,y:Ws.y+(Ms.y||0)+{top:0,middle:.5,bottom:1}[Ms.verticalAlign]*Ws.height},oo=[Bs.x-Number(Is.attr("x")),Bs.y-Number(Is.attr("y"))],ao(Ao),Is[Ds?"attr":"animate"](Ao)):(ao(Ws),Is.align(Ms,void 0,Ws),Ao=Is.alignAttr),so&&0<=Ws.height?this.justifyDataLabel(Is,Ms,Ao,Bs,Ws,Ds):Cs(Ms.crop,!0)&&(Ws=Ao.x,ao=Ao.y,Ws+=oo[0],ao+=oo[1],Zs=Ns.isInsidePlot(Ws,ao,{paneCoordinates:!0,series:_s})&&Ns.isInsidePlot(Ws+Bs.width,ao+Bs.height,{paneCoordinates:!0,series:_s})),Ms.shape&&!js&&Is[Ds?"attr":"animate"]({anchorX:Ss[0],anchorY:Ss[1]})}Ds&&Us&&(Is.placed=!1),Zs||Us&&!so?Is.show():(Is.hide(),Is.placed=!1)}function ws(Fs,Is){var Ms=Is.filter;return Ms?(Is=Ms.operator,Fs=Fs[Ms.property],Ms=Ms.value,Is===">"&&Fs>Ms||Is==="<"&&Fs<Ms||Is===">="&&Fs>=Ms||Is==="<="&&Fs<=Ms||Is==="=="&&Fs==Ms||Is==="==="&&Fs===Ms):!0}function Ts(Fs){Fs===void 0&&(Fs=this.points);var Is=this,Ms=Is.chart,Ws=Is.options,Ds=Is.hasRendered||0,_s=Ms.renderer,Ns=Ms.options.chart,Ss=Ns.backgroundColor;Ns=Ns.plotBackgroundColor;var Us=_s.getContrast(As(Ns)&&Ns||As(Ss)&&Ss||"#000000"),Zs=Ws.dataLabels,ao;if(Ss=Zs.animation,Ss=Zs.defer?ss(Ms,Ss,Is):{defer:0,duration:0},Zs=Rs(Rs(Ms.options.plotOptions&&Ms.options.plotOptions.series&&Ms.options.plotOptions.series.dataLabels,Ms.options.plotOptions&&Ms.options.plotOptions[Is.type]&&Ms.options.plotOptions[Is.type].dataLabels),Zs),hs(this,"drawDataLabels"),us(Zs)||Zs.enabled||Is._hasPointLabels){var js=Is.plotGroup("dataLabelsGroup","data-labels",Ds?"inherit":"hidden",Zs.zIndex||6);js.attr({opacity:+Ds}),!Ds&&(Ds=Is.dataLabelsGroup)&&(Is.visible&&js.show(),Ds[Ws.animation?"animate":"attr"]({opacity:1},Ss)),Fs.forEach(function(Bs){ao=ps(Rs(Zs,Bs.dlOptions||Bs.options&&Bs.options.dataLabels)),ao.forEach(function(zs,so){var oo=zs.enabled&&(!Bs.isNull||Bs.dataLabelOnNull)&&ws(Bs,zs),Ao=Bs.connectors?Bs.connectors[so]:Bs.connector,Xs=Bs.dataLabels?Bs.dataLabels[so]:Bs.dataLabel,lo=!Xs,co=Cs(zs.distance,Bs.labelDistance);if(oo){var So=Bs.getLabelConfig(),ro=Cs(zs[Bs.formatPrefix+"Format"],zs.format);So=ls(ro)?os(ro,So,Ms):(zs[Bs.formatPrefix+"Formatter"]||zs.formatter).call(So,zs),ro=zs.style;var vo=zs.rotation;Ms.styledMode||(ro.color=Cs(zs.color,ro.color,Is.color,"#000000"),ro.color==="contrast"?(Bs.contrastColor=_s.getContrast(Bs.color||Is.color),ro.color=!ls(co)&&zs.inside||0>co||Ws.stacking?Bs.contrastColor:Us):delete Bs.contrastColor,Ws.cursor&&(ro.cursor=Ws.cursor));var Eo={r:zs.borderRadius||0,rotation:vo,padding:zs.padding,zIndex:1};if(!Ms.styledMode){co=zs.backgroundColor;var mo=zs.borderColor;Eo.fill=co==="auto"?Bs.color:co,Eo.stroke=mo==="auto"?Bs.color:mo,Eo["stroke-width"]=zs.borderWidth}ys(Eo,function(yo,Jo){typeof yo>"u"&&delete Eo[Jo]})}!Xs||oo&&ls(So)&&!!Xs.div==!!zs.useHTML&&(Xs.rotation&&zs.rotation||Xs.rotation===zs.rotation)||(lo=!0,Bs.dataLabel=Xs=Bs.dataLabel&&Bs.dataLabel.destroy(),Bs.dataLabels&&(Bs.dataLabels.length===1?delete Bs.dataLabels:delete Bs.dataLabels[so]),so||delete Bs.dataLabel,Ao&&(Bs.connector=Bs.connector.destroy(),Bs.connectors&&(Bs.connectors.length===1?delete Bs.connectors:delete Bs.connectors[so]))),oo&&ls(So)?(Xs?Eo.text=So:(Bs.dataLabels=Bs.dataLabels||[],Xs=Bs.dataLabels[so]=vo?_s.text(So,0,0,zs.useHTML).addClass("highcharts-data-label"):_s.label(So,0,0,zs.shape,null,null,zs.useHTML,null,"data-label"),so||(Bs.dataLabel=Xs),Xs.addClass(" highcharts-data-label-color-"+Bs.colorIndex+" "+(zs.className||"")+(zs.useHTML?" highcharts-tracker":""))),Xs.options=zs,Xs.attr(Eo),Ms.styledMode||Xs.css(ro).shadow(zs.shadow),(so=zs[Bs.formatPrefix+"TextPath"]||zs.textPath)&&!zs.useHTML&&(Xs.setTextPath(Bs.getDataLabelPath&&Bs.getDataLabelPath(Xs)||Bs.graphic,so),Bs.dataLabelPath&&!so.enabled&&(Bs.dataLabelPath=Bs.dataLabelPath.destroy())),Xs.added||Xs.add(js),Is.alignDataLabel(Bs,Xs,zs,null,lo)):Xs&&Xs.hide()})})}hs(this,"afterDrawDataLabels")}function $s(Fs,Is,Ms,Ws,Ds,_s){var Ns=this.chart,Ss=Is.align,Us=Is.verticalAlign,Zs=Fs.box?0:Fs.padding||0,ao=Is.x;ao=ao===void 0?0:ao;var js=Is.y;js=js===void 0?0:js;var Bs=(Ms.x||0)+Zs;if(0>Bs){Ss==="right"&&0<=ao?(Is.align="left",Is.inside=!0):ao-=Bs;var zs=!0}return Bs=(Ms.x||0)+Ws.width-Zs,Bs>Ns.plotWidth&&(Ss==="left"&&0>=ao?(Is.align="right",Is.inside=!0):ao+=Ns.plotWidth-Bs,zs=!0),Bs=Ms.y+Zs,0>Bs&&(Us==="bottom"&&0<=js?(Is.verticalAlign="top",Is.inside=!0):js-=Bs,zs=!0),Bs=(Ms.y||0)+Ws.height-Zs,Bs>Ns.plotHeight&&(Us==="top"&&0>=js?(Is.verticalAlign="bottom",Is.inside=!0):js+=Ns.plotHeight-Bs,zs=!0),zs&&(Is.x=ao,Is.y=js,Fs.placed=!_s,Fs.align(Is,void 0,Ds)),zs}function Rs(Fs,Is){var Ms=[],Ws;if(us(Fs)&&!us(Is))Ms=Fs.map(function(Ds){return bs(Ds,Is)});else if(us(Is)&&!us(Fs))Ms=Is.map(function(Ds){return bs(Fs,Ds)});else if(us(Fs)||us(Is))for(Ws=Math.max(Fs.length,Is.length);Ws--;)Ms[Ws]=bs(Fs[Ws],Is[Ws]);else Ms=bs(Fs,Is);return Ms}function Ps(Fs,Is,Ms,Ws,Ds){var _s=this.chart,Ns=_s.inverted,Ss=this.xAxis,Us=Ss.reversed,Zs=Ns?Is.height/2:Is.width/2;Fs=(Fs=Fs.pointWidth)?Fs/2:0,Is.startXPos=Ns?Ds.x:Us?-Zs-Fs:Ss.width-Zs+Fs,Is.startYPos=Ns?Us?this.yAxis.height-Zs+Fs:-Zs-Fs:Ds.y,Ws?Is.visibility==="hidden"&&(Is.show(),Is.attr({opacity:0}).animate({opacity:1})):Is.attr({opacity:1}).animate({opacity:0},void 0,Is.hide),_s.hasRendered&&(Ms&&Is.attr({x:Is.startXPos,y:Is.startYPos}),Is.placed=!0)}var Qs=[];fs.compose=function(Fs){if(Qs.indexOf(Fs)===-1){var Is=Fs.prototype;Qs.push(Fs),Is.alignDataLabel=gs,Is.drawDataLabels=Ts,Is.justifyDataLabel=$s,Is.setDataLabelStartPos=Ps}}}(ms||(ms={})),ms}),Ri(ts,"Series/Column/ColumnDataLabel.js",[ts["Core/Series/DataLabel.js"],ts["Core/Series/SeriesRegistry.js"],ts["Core/Utilities.js"]],function(rs,is,ns){var ss=is.series,os=ns.merge,ls=ns.pick,cs;return function(hs){function us(bs,ys,Cs,ps,ms){var fs=this.chart.inverted,gs=bs.series,ws=(gs.xAxis?gs.xAxis.len:this.chart.plotSizeX)||0;gs=(gs.yAxis?gs.yAxis.len:this.chart.plotSizeY)||0;var Ts=bs.dlBox||bs.shapeArgs,$s=ls(bs.below,bs.plotY>ls(this.translatedThreshold,gs)),Rs=ls(Cs.inside,!!this.options.stacking);Ts&&(ps=os(Ts),0>ps.y&&(ps.height+=ps.y,ps.y=0),Ts=ps.y+ps.height-gs,0<Ts&&Ts<ps.height&&(ps.height-=Ts),fs&&(ps={x:gs-ps.y-ps.height,y:ws-ps.x-ps.width,width:ps.height,height:ps.width}),Rs||(fs?(ps.x+=$s?0:ps.width,ps.width=0):(ps.y+=$s?ps.height:0,ps.height=0))),Cs.align=ls(Cs.align,!fs||Rs?"center":$s?"right":"left"),Cs.verticalAlign=ls(Cs.verticalAlign,fs||Rs?"middle":$s?"top":"bottom"),ss.prototype.alignDataLabel.call(this,bs,ys,Cs,ps,ms),Cs.inside&&bs.contrastColor&&ys.css({color:bs.contrastColor})}var As=[];hs.compose=function(bs){rs.compose(ss),As.indexOf(bs)===-1&&(As.push(bs),bs.prototype.alignDataLabel=us)}}(cs||(cs={})),cs}),Ri(ts,"Series/Bar/BarSeries.js",[ts["Series/Column/ColumnSeries.js"],ts["Core/Series/SeriesRegistry.js"],ts["Core/Utilities.js"]],function(rs,is,ns){var ss=this&&this.__extends||function(){var cs=function(hs,us){return cs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(As,bs){As.__proto__=bs}||function(As,bs){for(var ys in bs)bs.hasOwnProperty(ys)&&(As[ys]=bs[ys])},cs(hs,us)};return function(hs,us){function As(){this.constructor=hs}cs(hs,us),hs.prototype=us===null?Object.create(us):(As.prototype=us.prototype,new As)}}(),os=ns.extend,ls=ns.merge;return ns=function(cs){function hs(){var us=cs!==null&&cs.apply(this,arguments)||this;return us.data=void 0,us.options=void 0,us.points=void 0,us}return ss(hs,cs),hs.defaultOptions=ls(rs.defaultOptions,{}),hs}(rs),os(ns.prototype,{inverted:!0}),is.registerSeriesType("bar",ns),ns}),Ri(ts,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),Ri(ts,"Series/Scatter/ScatterSeries.js",[ts["Series/Scatter/ScatterSeriesDefaults.js"],ts["Core/Series/SeriesRegistry.js"],ts["Core/Utilities.js"]],function(rs,is,ns){var ss=this&&this.__extends||function(){var As=function(bs,ys){return As=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Cs,ps){Cs.__proto__=ps}||function(Cs,ps){for(var ms in ps)ps.hasOwnProperty(ms)&&(Cs[ms]=ps[ms])},As(bs,ys)};return function(bs,ys){function Cs(){this.constructor=bs}As(bs,ys),bs.prototype=ys===null?Object.create(ys):(Cs.prototype=ys.prototype,new Cs)}}(),os=is.seriesTypes,ls=os.column,cs=os.line;os=ns.addEvent;var hs=ns.extend,us=ns.merge;return ns=function(As){function bs(){var ys=As!==null&&As.apply(this,arguments)||this;return ys.data=void 0,ys.options=void 0,ys.points=void 0,ys}return ss(bs,As),bs.prototype.applyJitter=function(){var ys=this,Cs=this.options.jitter,ps=this.points.length;Cs&&this.points.forEach(function(ms,fs){["x","y"].forEach(function(gs,ws){var Ts="plot"+gs.toUpperCase();if(Cs[gs]&&!ms.isNull){var $s=ys[gs+"Axis"],Rs=Cs[gs]*$s.transA;if($s&&!$s.isLog){var Ps=Math.max(0,ms[Ts]-Rs);$s=Math.min($s.len,ms[Ts]+Rs),ws=1e4*Math.sin(fs+ws*ps),ms[Ts]=Ps+($s-Ps)*(ws-Math.floor(ws)),gs==="x"&&(ms.clientX=ms.plotX)}}})})},bs.prototype.drawGraph=function(){this.options.lineWidth?As.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},bs.defaultOptions=us(cs.defaultOptions,rs),bs}(cs),hs(ns.prototype,{drawTracker:ls.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),os(ns,"afterTranslate",function(){this.applyJitter()}),is.registerSeriesType("scatter",ns),ns}),Ri(ts,"Series/CenteredUtilities.js",[ts["Core/Globals.js"],ts["Core/Series/Series.js"],ts["Core/Utilities.js"]],function(rs,is,ns){var ss=rs.deg2rad,os=ns.fireEvent,ls=ns.isNumber,cs=ns.pick,hs=ns.relativeLength,us;return function(As){As.getCenter=function(){var bs=this.options,ys=this.chart,Cs=2*(bs.slicedOffset||0),ps=ys.plotWidth-2*Cs,ms=ys.plotHeight-2*Cs,fs=bs.center,gs=Math.min(ps,ms),ws=bs.thickness,Ts=bs.size,$s=bs.innerSize||0;for(typeof Ts=="string"&&(Ts=parseFloat(Ts)),typeof $s=="string"&&($s=parseFloat($s)),bs=[cs(fs[0],"50%"),cs(fs[1],"50%"),cs(Ts&&0>Ts?void 0:bs.size,"100%"),cs($s&&0>$s?void 0:bs.innerSize||0,"0%")],!ys.angular||this instanceof is||(bs[3]=0),fs=0;4>fs;++fs)Ts=bs[fs],ys=2>fs||fs===2&&/%$/.test(Ts),bs[fs]=hs(Ts,[ps,ms,gs,bs[2]][fs])+(ys?Cs:0);return bs[3]>bs[2]&&(bs[3]=bs[2]),ls(ws)&&2*ws<bs[2]&&0<ws&&(bs[3]=bs[2]-2*ws),os(this,"afterGetCenter",{positions:bs}),bs},As.getStartAndEndRadians=function(bs,ys){return bs=ls(bs)?bs:0,ys=ls(ys)&&ys>bs&&360>ys-bs?ys:bs+360,{start:ss*(bs+-90),end:ss*(ys+-90)}}}(us||(us={})),us}),Ri(ts,"Series/Pie/PiePoint.js",[ts["Core/Animation/AnimationUtilities.js"],ts["Core/Series/Point.js"],ts["Core/Utilities.js"]],function(rs,is,ns){var ss=this&&this.__extends||function(){var bs=function(ys,Cs){return bs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ps,ms){ps.__proto__=ms}||function(ps,ms){for(var fs in ms)ms.hasOwnProperty(fs)&&(ps[fs]=ms[fs])},bs(ys,Cs)};return function(ys,Cs){function ps(){this.constructor=ys}bs(ys,Cs),ys.prototype=Cs===null?Object.create(Cs):(ps.prototype=Cs.prototype,new ps)}}(),os=rs.setAnimation,ls=ns.addEvent,cs=ns.defined;rs=ns.extend;var hs=ns.isNumber,us=ns.pick,As=ns.relativeLength;return is=function(bs){function ys(){var Cs=bs!==null&&bs.apply(this,arguments)||this;return Cs.labelDistance=void 0,Cs.options=void 0,Cs.series=void 0,Cs}return ss(ys,bs),ys.prototype.getConnectorPath=function(){var Cs=this.labelPosition,ps=this.series.options.dataLabels,ms=this.connectorShapes,fs=ps.connectorShape;return ms[fs]&&(fs=ms[fs]),fs.call(this,{x:Cs.final.x,y:Cs.final.y,alignment:Cs.alignment},Cs.connectorPosition,ps)},ys.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},ys.prototype.haloPath=function(Cs){var ps=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(ps.x,ps.y,ps.r+Cs,ps.r+Cs,{innerR:ps.r-1,start:ps.start,end:ps.end})},ys.prototype.init=function(){var Cs=this;bs.prototype.init.apply(this,arguments),this.name=us(this.name,"Slice");var ps=function(ms){Cs.slice(ms.type==="select")};return ls(this,"select",ps),ls(this,"unselect",ps),this},ys.prototype.isValid=function(){return hs(this.y)&&0<=this.y},ys.prototype.setVisible=function(Cs,ps){var ms=this,fs=this.series,gs=fs.chart,ws=fs.options.ignoreHiddenPoint;ps=us(ps,ws),Cs!==this.visible&&(this.visible=this.options.visible=Cs=typeof Cs>"u"?!this.visible:Cs,fs.options.data[fs.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(Ts){ms[Ts]&&ms[Ts][Cs?"show":"hide"](Cs)}),this.legendItem&&gs.legend.colorizeItem(this,Cs),Cs||this.state!=="hover"||this.setState(""),ws&&(fs.isDirty=!0),ps&&gs.redraw())},ys.prototype.slice=function(Cs,ps,ms){var fs=this.series;os(ms,fs.chart),us(ps,!0),this.sliced=this.options.sliced=cs(Cs)?Cs:!this.sliced,fs.options.data[fs.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},ys}(is),rs(is.prototype,{connectorShapes:{fixedOffset:function(bs,ys,Cs){var ps=ys.breakAt;return ys=ys.touchingSliceAt,[["M",bs.x,bs.y],Cs.softConnector?["C",bs.x+(bs.alignment==="left"?-5:5),bs.y,2*ps.x-ys.x,2*ps.y-ys.y,ps.x,ps.y]:["L",ps.x,ps.y],["L",ys.x,ys.y]]},straight:function(bs,ys){return ys=ys.touchingSliceAt,[["M",bs.x,bs.y],["L",ys.x,ys.y]]},crookedLine:function(bs,ys,Cs){ys=ys.touchingSliceAt;var ps=this.series,ms=ps.center[0],fs=ps.chart.plotWidth,gs=ps.chart.plotLeft;ps=bs.alignment;var ws=this.shapeArgs.r;return Cs=As(Cs.crookDistance,1),fs=ps==="left"?ms+ws+(fs+gs-ms-ws)*(1-Cs):gs+(ms-ws)*Cs,Cs=["L",fs,bs.y],ms=!0,(ps==="left"?fs>bs.x||fs<ys.x:fs<bs.x||fs>ys.x)&&(ms=!1),bs=[["M",bs.x,bs.y]],ms&&bs.push(Cs),bs.push(["L",ys.x,ys.y]),bs}}}),is}),Ri(ts,"Series/Pie/PieSeriesDefaults.js",[],function(){return{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),Ri(ts,"Series/Pie/PieSeries.js",[ts["Series/CenteredUtilities.js"],ts["Series/Column/ColumnSeries.js"],ts["Core/Globals.js"],ts["Core/Legend/LegendSymbol.js"],ts["Series/Pie/PiePoint.js"],ts["Series/Pie/PieSeriesDefaults.js"],ts["Core/Series/Series.js"],ts["Core/Series/SeriesRegistry.js"],ts["Core/Renderer/SVG/Symbols.js"],ts["Core/Utilities.js"]],function(rs,is,ns,ss,os,ls,cs,hs,us,As){var bs=this&&this.__extends||function(){var Ts=function($s,Rs){return Ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ps,Qs){Ps.__proto__=Qs}||function(Ps,Qs){for(var Fs in Qs)Qs.hasOwnProperty(Fs)&&(Ps[Fs]=Qs[Fs])},Ts($s,Rs)};return function($s,Rs){function Ps(){this.constructor=$s}Ts($s,Rs),$s.prototype=Rs===null?Object.create(Rs):(Ps.prototype=Rs.prototype,new Ps)}}(),ys=rs.getStartAndEndRadians;ns=ns.noop;var Cs=As.clamp,ps=As.extend,ms=As.fireEvent,fs=As.merge,gs=As.pick,ws=As.relativeLength;return As=function(Ts){function $s(){var Rs=Ts!==null&&Ts.apply(this,arguments)||this;return Rs.center=void 0,Rs.data=void 0,Rs.maxLabelDistance=void 0,Rs.options=void 0,Rs.points=void 0,Rs}return bs($s,Ts),$s.prototype.animate=function(Rs){var Ps=this,Qs=Ps.points,Fs=Ps.startAngleRad;Rs||Qs.forEach(function(Is){var Ms=Is.graphic,Ws=Is.shapeArgs;Ms&&Ws&&(Ms.attr({r:gs(Is.startR,Ps.center&&Ps.center[3]/2),start:Fs,end:Fs}),Ms.animate({r:Ws.r,start:Ws.start,end:Ws.end},Ps.options.animation))})},$s.prototype.drawEmpty=function(){var Rs=this.startAngleRad,Ps=this.endAngleRad,Qs=this.options;if(this.total===0&&this.center){var Fs=this.center[0],Is=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(Fs,Is,this.center[1]/2,0,Rs,Ps).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:us.arc(Fs,Is,this.center[2]/2,0,{start:Rs,end:Ps,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":Qs.borderWidth,fill:Qs.fillColor||"none",stroke:Qs.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},$s.prototype.drawPoints=function(){var Rs=this.chart.renderer;this.points.forEach(function(Ps){Ps.graphic&&Ps.hasNewShapeType()&&(Ps.graphic=Ps.graphic.destroy()),Ps.graphic||(Ps.graphic=Rs[Ps.shapeType](Ps.shapeArgs).add(Ps.series.group),Ps.delayedRendering=!0)})},$s.prototype.generatePoints=function(){Ts.prototype.generatePoints.call(this),this.updateTotals()},$s.prototype.getX=function(Rs,Ps,Qs){var Fs=this.center,Is=this.radii?this.radii[Qs.index]||0:Fs[2]/2;return Rs=Math.asin(Cs((Rs-Fs[1])/(Is+Qs.labelDistance),-1,1)),Fs[0]+(Ps?-1:1)*Math.cos(Rs)*(Is+Qs.labelDistance)+(0<Qs.labelDistance?(Ps?-1:1)*this.options.dataLabels.padding:0)},$s.prototype.hasData=function(){return!!this.processedXData.length},$s.prototype.redrawPoints=function(){var Rs=this,Ps=Rs.chart,Qs=Ps.renderer,Fs=Rs.options.shadow,Is,Ms,Ws,Ds;this.drawEmpty(),!Fs||Rs.shadowGroup||Ps.styledMode||(Rs.shadowGroup=Qs.g("shadow").attr({zIndex:-1}).add(Rs.group)),Rs.points.forEach(function(_s){var Ns={};if(Ms=_s.graphic,!_s.isNull&&Ms){var Ss=void 0;Ds=_s.shapeArgs,Is=_s.getTranslate(),Ps.styledMode||(Ss=_s.shadowGroup,Fs&&!Ss&&(Ss=_s.shadowGroup=Qs.g("shadow").add(Rs.shadowGroup)),Ss&&Ss.attr(Is),Ws=Rs.pointAttribs(_s,_s.selected&&"select")),_s.delayedRendering?(Ms.setRadialReference(Rs.center).attr(Ds).attr(Is),Ps.styledMode||Ms.attr(Ws).attr({"stroke-linejoin":"round"}).shadow(Fs,Ss),_s.delayedRendering=!1):(Ms.setRadialReference(Rs.center),Ps.styledMode||fs(!0,Ns,Ws),fs(!0,Ns,Ds,Is),Ms.animate(Ns)),Ms.attr({visibility:_s.visible?"inherit":"hidden"}),Ms.addClass(_s.getClassName(),!0)}else Ms&&(_s.graphic=Ms.destroy())})},$s.prototype.sortByAngle=function(Rs,Ps){Rs.sort(function(Qs,Fs){return typeof Qs.angle<"u"&&(Fs.angle-Qs.angle)*Ps})},$s.prototype.translate=function(Rs){ms(this,"translate"),this.generatePoints();var Ps=this.options,Qs=Ps.slicedOffset,Fs=Qs+(Ps.borderWidth||0),Is=ys(Ps.startAngle,Ps.endAngle),Ms=this.startAngleRad=Is.start;Is=(this.endAngleRad=Is.end)-Ms;var Ws=this.points,Ds=Ps.dataLabels.distance;Ps=Ps.ignoreHiddenPoint;var _s=Ws.length,Ns,Ss=0;for(Rs||(this.center=Rs=this.getCenter()),Ns=0;Ns<_s;Ns++){var Us=Ws[Ns],Zs=Ms+Ss*Is;!Us.isValid()||Ps&&!Us.visible||(Ss+=Us.percentage/100);var ao=Ms+Ss*Is,js={x:Rs[0],y:Rs[1],r:Rs[2]/2,innerR:Rs[3]/2,start:Math.round(1e3*Zs)/1e3,end:Math.round(1e3*ao)/1e3};Us.shapeType="arc",Us.shapeArgs=js,Us.labelDistance=gs(Us.options.dataLabels&&Us.options.dataLabels.distance,Ds),Us.labelDistance=ws(Us.labelDistance,js.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,Us.labelDistance),ao=(ao+Zs)/2,ao>1.5*Math.PI?ao-=2*Math.PI:ao<-Math.PI/2&&(ao+=2*Math.PI),Us.slicedTranslation={translateX:Math.round(Math.cos(ao)*Qs),translateY:Math.round(Math.sin(ao)*Qs)},js=Math.cos(ao)*Rs[2]/2;var Bs=Math.sin(ao)*Rs[2]/2;Us.tooltipPos=[Rs[0]+.7*js,Rs[1]+.7*Bs],Us.half=ao<-Math.PI/2||ao>Math.PI/2?1:0,Us.angle=ao,Zs=Math.min(Fs,Us.labelDistance/5),Us.labelPosition={natural:{x:Rs[0]+js+Math.cos(ao)*Us.labelDistance,y:Rs[1]+Bs+Math.sin(ao)*Us.labelDistance},final:{},alignment:0>Us.labelDistance?"center":Us.half?"right":"left",connectorPosition:{breakAt:{x:Rs[0]+js+Math.cos(ao)*Zs,y:Rs[1]+Bs+Math.sin(ao)*Zs},touchingSliceAt:{x:Rs[0]+js,y:Rs[1]+Bs}}}}ms(this,"afterTranslate")},$s.prototype.updateTotals=function(){var Rs=this.points,Ps=Rs.length,Qs=this.options.ignoreHiddenPoint,Fs,Is=0;for(Fs=0;Fs<Ps;Fs++){var Ms=Rs[Fs];!Ms.isValid()||Qs&&!Ms.visible||(Is+=Ms.y)}for(this.total=Is,Fs=0;Fs<Ps;Fs++)Ms=Rs[Fs],Ms.percentage=0<Is&&(Ms.visible||!Qs)?Ms.y/Is*100:0,Ms.total=Is},$s.defaultOptions=fs(cs.defaultOptions,ls),$s}(cs),ps(As.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:ss.drawRectangle,drawTracker:is.prototype.drawTracker,getCenter:rs.getCenter,getSymbol:ns,isCartesian:!1,noSharedTooltip:!0,pointAttribs:is.prototype.pointAttribs,pointClass:os,requireSorting:!1,searchPoint:ns,trackerGroups:["group","dataLabelsGroup"]}),hs.registerSeriesType("pie",As),As}),Ri(ts,"Series/Pie/PieDataLabel.js",[ts["Core/Series/DataLabel.js"],ts["Core/Globals.js"],ts["Core/Renderer/RendererUtilities.js"],ts["Core/Series/SeriesRegistry.js"],ts["Core/Utilities.js"]],function(rs,is,ns,ss,os){var ls=is.noop,cs=ns.distribute,hs=ss.series,us=os.arrayMax,As=os.clamp,bs=os.defined,ys=os.merge,Cs=os.pick,ps=os.relativeLength,ms;return function(fs){function gs(){var Ps=this,Qs=Ps.data,Fs=Ps.chart,Is=Ps.options.dataLabels||{},Ms=Is.connectorPadding,Ws=Fs.plotWidth,Ds=Fs.plotHeight,_s=Fs.plotLeft,Ns=Math.round(Fs.chartWidth/3),Ss=Ps.center,Us=Ss[2]/2,Zs=Ss[1],ao=[[],[]],js=[0,0,0,0],Bs=Ps.dataLabelPositioners,zs,so,oo,Ao,Xs,lo,co,So,ro,vo,Eo,mo;Ps.visible&&(Is.enabled||Ps._hasPointLabels)&&(Qs.forEach(function(yo){yo.dataLabel&&yo.visible&&yo.dataLabel.shortened&&(yo.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),yo.dataLabel.shortened=!1)}),hs.prototype.drawDataLabels.apply(Ps),Qs.forEach(function(yo){yo.dataLabel&&(yo.visible?(ao[yo.half].push(yo),yo.dataLabel._pos=null,!bs(Is.style.width)&&!bs(yo.options.dataLabels&&yo.options.dataLabels.style&&yo.options.dataLabels.style.width)&&yo.dataLabel.getBBox().width>Ns&&(yo.dataLabel.css({width:Math.round(.7*Ns)+"px"}),yo.dataLabel.shortened=!0)):(yo.dataLabel=yo.dataLabel.destroy(),yo.dataLabels&&yo.dataLabels.length===1&&delete yo.dataLabels))}),ao.forEach(function(yo,Jo){var Yo=yo.length,Wo=[],ko;if(Yo){if(Ps.sortByAngle(yo,Jo-.5),0<Ps.maxLabelDistance){var Qo=Math.max(0,Zs-Us-Ps.maxLabelDistance),jo=Math.min(Zs+Us+Ps.maxLabelDistance,Fs.plotHeight);yo.forEach(function(Bo){0<Bo.labelDistance&&Bo.dataLabel&&(Bo.top=Math.max(0,Zs-Us-Bo.labelDistance),Bo.bottom=Math.min(Zs+Us+Bo.labelDistance,Fs.plotHeight),ko=Bo.dataLabel.getBBox().height||21,Bo.distributeBox={target:Bo.labelPosition.natural.y-Bo.top+ko/2,size:ko,rank:Bo.y},Wo.push(Bo.distributeBox))}),Qo=jo+ko-Qo,cs(Wo,Qo,Qo/5)}for(Eo=0;Eo<Yo;Eo++){if(zs=yo[Eo],lo=zs.labelPosition,Ao=zs.dataLabel,vo=zs.visible===!1?"hidden":"inherit",ro=Qo=lo.natural.y,Wo&&bs(zs.distributeBox)&&(typeof zs.distributeBox.pos>"u"?vo="hidden":(co=zs.distributeBox.size,ro=Bs.radialDistributionY(zs))),delete zs.positionIndex,Is.justify)So=Bs.justify(zs,Us,Ss);else switch(Is.alignTo){case"connectors":So=Bs.alignToConnectors(yo,Jo,Ws,_s);break;case"plotEdges":So=Bs.alignToPlotEdges(Ao,Jo,Ws,_s);break;default:So=Bs.radialDistributionX(Ps,zs,ro,Qo)}Ao._attr={visibility:vo,align:lo.alignment},mo=zs.options.dataLabels||{},Ao._pos={x:So+Cs(mo.x,Is.x)+({left:Ms,right:-Ms}[lo.alignment]||0),y:ro+Cs(mo.y,Is.y)-10},lo.final.x=So,lo.final.y=ro,Cs(Is.crop,!0)&&(Xs=Ao.getBBox().width,Qo=null,So-Xs<Ms&&Jo===1?(Qo=Math.round(Xs-So+Ms),js[3]=Math.max(Qo,js[3])):So+Xs>Ws-Ms&&Jo===0&&(Qo=Math.round(So+Xs-Ws+Ms),js[1]=Math.max(Qo,js[1])),0>ro-co/2?js[0]=Math.max(Math.round(-ro+co/2),js[0]):ro+co/2>Ds&&(js[2]=Math.max(Math.round(ro+co/2-Ds),js[2])),Ao.sideOverflow=Qo)}}}),us(js)===0||this.verifyDataLabelOverflow(js))&&(this.placeDataLabels(),this.points.forEach(function(yo){if(mo=ys(Is,yo.options.dataLabels),so=Cs(mo.connectorWidth,1)){var Jo;oo=yo.connector,(Ao=yo.dataLabel)&&Ao._pos&&yo.visible&&0<yo.labelDistance?(vo=Ao._attr.visibility,(Jo=!oo)&&(yo.connector=oo=Fs.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+yo.colorIndex+(yo.className?" "+yo.className:"")).add(Ps.dataLabelsGroup),Fs.styledMode||oo.attr({"stroke-width":so,stroke:mo.connectorColor||yo.color||"#666666"})),oo[Jo?"attr":"animate"]({d:yo.getConnectorPath()}),oo.attr("visibility",vo)):oo&&(yo.connector=oo.destroy())}}))}function ws(){this.points.forEach(function(Ps){var Qs=Ps.dataLabel,Fs;Qs&&Ps.visible&&((Fs=Qs._pos)?(Qs.sideOverflow&&(Qs._attr.width=Math.max(Qs.getBBox().width-Qs.sideOverflow,0),Qs.css({width:Qs._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),Qs.shortened=!0),Qs.attr(Qs._attr),Qs[Qs.moved?"animate":"attr"](Fs),Qs.moved=!0):Qs&&Qs.attr({y:-9999})),delete Ps.distributeBox},this)}function Ts(Ps){var Qs=this.center,Fs=this.options,Is=Fs.center,Ms=Fs.minSize||80,Ws=Fs.size!==null;if(!Ws){if(Is[0]!==null)var Ds=Math.max(Qs[2]-Math.max(Ps[1],Ps[3]),Ms);else Ds=Math.max(Qs[2]-Ps[1]-Ps[3],Ms),Qs[0]+=(Ps[3]-Ps[1])/2;Is[1]!==null?Ds=As(Ds,Ms,Qs[2]-Math.max(Ps[0],Ps[2])):(Ds=As(Ds,Ms,Qs[2]-Ps[0]-Ps[2]),Qs[1]+=(Ps[0]-Ps[2])/2),Ds<Qs[2]?(Qs[2]=Ds,Qs[3]=Math.min(Fs.thickness?Math.max(0,Ds-2*Fs.thickness):Math.max(0,ps(Fs.innerSize||0,Ds)),Ds),this.translate(Qs),this.drawDataLabels&&this.drawDataLabels()):Ws=!0}return Ws}var $s=[],Rs={radialDistributionY:function(Ps){return Ps.top+Ps.distributeBox.pos},radialDistributionX:function(Ps,Qs,Fs,Is){return Ps.getX(Fs<Qs.top+2||Fs>Qs.bottom-2?Is:Fs,Qs.half,Qs)},justify:function(Ps,Qs,Fs){return Fs[0]+(Ps.half?-1:1)*(Qs+Ps.labelDistance)},alignToPlotEdges:function(Ps,Qs,Fs,Is){return Ps=Ps.getBBox().width,Qs?Ps+Is:Fs-Ps-Is},alignToConnectors:function(Ps,Qs,Fs,Is){var Ms=0,Ws;return Ps.forEach(function(Ds){Ws=Ds.dataLabel.getBBox().width,Ws>Ms&&(Ms=Ws)}),Qs?Ms+Is:Fs-Ms-Is}};fs.compose=function(Ps){rs.compose(hs),$s.indexOf(Ps)===-1&&($s.push(Ps),Ps=Ps.prototype,Ps.dataLabelPositioners=Rs,Ps.alignDataLabel=ls,Ps.drawDataLabels=gs,Ps.placeDataLabels=ws,Ps.verifyDataLabelOverflow=Ts)}}(ms||(ms={})),ms}),Ri(ts,"Extensions/OverlappingDataLabels.js",[ts["Core/Chart/Chart.js"],ts["Core/Utilities.js"]],function(rs,is){function ns(As,bs){var ys=!1;if(As){var Cs=As.newOpacity;As.oldOpacity!==Cs&&(As.alignAttr&&As.placed?(As[Cs?"removeClass":"addClass"]("highcharts-data-label-hidden"),ys=!0,As.alignAttr.opacity=Cs,As[As.isOld?"animate":"attr"](As.alignAttr,null,function(){bs.styledMode||As.css({pointerEvents:Cs?"auto":"none"})}),os(bs,"afterHideOverlappingLabel")):As.attr({opacity:Cs})),As.isOld=!0}return ys}var ss=is.addEvent,os=is.fireEvent,ls=is.isArray,cs=is.isNumber,hs=is.objectEach,us=is.pick;ss(rs,"render",function(){var As=this,bs=[];(this.labelCollectors||[]).forEach(function(ys){bs=bs.concat(ys())}),(this.yAxis||[]).forEach(function(ys){ys.stacking&&ys.options.stackLabels&&!ys.options.stackLabels.allowOverlap&&hs(ys.stacking.stacks,function(Cs){hs(Cs,function(ps){ps.label&&bs.push(ps.label)})})}),(this.series||[]).forEach(function(ys){var Cs=ys.options.dataLabels;ys.visible&&(Cs.enabled!==!1||ys._hasPointLabels)&&(Cs=function(ps){return ps.forEach(function(ms){ms.visible&&(ls(ms.dataLabels)?ms.dataLabels:ms.dataLabel?[ms.dataLabel]:[]).forEach(function(fs){var gs=fs.options;fs.labelrank=us(gs.labelrank,ms.labelrank,ms.shapeArgs&&ms.shapeArgs.height),gs.allowOverlap?(fs.oldOpacity=fs.opacity,fs.newOpacity=1,ns(fs,As)):bs.push(fs)})})},Cs(ys.nodes||[]),Cs(ys.points))}),this.hideOverlappingLabels(bs)}),rs.prototype.hideOverlappingLabels=function(As){var bs=this,ys=As.length,Cs=bs.renderer,ps,ms,fs,gs=!1,ws=function(Rs){var Ps,Qs=Rs.box?0:Rs.padding||0,Fs=Ps=0,Is;if(Rs&&(!Rs.alignAttr||Rs.placed)){var Ms=Rs.alignAttr||{x:Rs.attr("x"),y:Rs.attr("y")},Ws=Rs.parentGroup;Rs.width||(Ps=Rs.getBBox(),Rs.width=Ps.width,Rs.height=Ps.height,Ps=Cs.fontMetrics(null,Rs.element).h);var Ds=Rs.width-2*Qs;return(Is={left:"0",center:"0.5",right:"1"}[Rs.alignValue])?Fs=+Is*Ds:cs(Rs.x)&&Math.round(Rs.x)!==Rs.translateX&&(Fs=Rs.x-Rs.translateX),{x:Ms.x+(Ws.translateX||0)+Qs-(Fs||0),y:Ms.y+(Ws.translateY||0)+Qs-Ps,width:Rs.width-2*Qs,height:Rs.height-2*Qs}}};for(ms=0;ms<ys;ms++)(ps=As[ms])&&(ps.oldOpacity=ps.opacity,ps.newOpacity=1,ps.absoluteBox=ws(ps));for(As.sort(function(Rs,Ps){return(Ps.labelrank||0)-(Rs.labelrank||0)}),ms=0;ms<ys;ms++){var Ts=(ws=As[ms])&&ws.absoluteBox;for(ps=ms+1;ps<ys;++ps){var $s=(fs=As[ps])&&fs.absoluteBox;!Ts||!$s||ws===fs||ws.newOpacity===0||fs.newOpacity===0||ws.visibility==="hidden"||fs.visibility==="hidden"||$s.x>=Ts.x+Ts.width||$s.x+$s.width<=Ts.x||$s.y>=Ts.y+Ts.height||$s.y+$s.height<=Ts.y||((ws.labelrank<fs.labelrank?ws:fs).newOpacity=0)}}As.forEach(function(Rs){ns(Rs,bs)&&(gs=!0)}),gs&&os(bs,"afterHideAllOverlappingLabels")}}),Ri(ts,"Core/Responsive.js",[ts["Core/Utilities.js"]],function(rs){var is=rs.extend,ns=rs.find,ss=rs.isArray,os=rs.isObject,ls=rs.merge,cs=rs.objectEach,hs=rs.pick,us=rs.splat,As=rs.uniqueKey,bs;return function(ys){var Cs=[];ys.compose=function(ms){return Cs.indexOf(ms)===-1&&(Cs.push(ms),is(ms.prototype,ps.prototype)),ms};var ps=function(){function ms(){}return ms.prototype.currentOptions=function(fs){function gs($s,Rs,Ps,Qs){var Fs;cs($s,function(Is,Ms){if(!Qs&&-1<ws.collectionsWithUpdate.indexOf(Ms)&&Rs[Ms])for(Is=us(Is),Ps[Ms]=[],Fs=0;Fs<Math.max(Is.length,Rs[Ms].length);Fs++)Rs[Ms][Fs]&&(Is[Fs]===void 0?Ps[Ms][Fs]=Rs[Ms][Fs]:(Ps[Ms][Fs]={},gs(Is[Fs],Rs[Ms][Fs],Ps[Ms][Fs],Qs+1)));else os(Is)?(Ps[Ms]=ss(Is)?[]:{},gs(Is,Rs[Ms]||{},Ps[Ms],Qs+1)):Ps[Ms]=typeof Rs[Ms]>"u"?null:Rs[Ms]})}var ws=this,Ts={};return gs(fs,this.options,Ts,0),Ts},ms.prototype.matchResponsiveRule=function(fs,gs){var ws=fs.condition;(ws.callback||function(){return this.chartWidth<=hs(ws.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=hs(ws.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=hs(ws.minWidth,0)&&this.chartHeight>=hs(ws.minHeight,0)}).call(this)&&gs.push(fs._id)},ms.prototype.setResponsive=function(fs,gs){var ws=this,Ts=this.options.responsive,$s=this.currentResponsive,Rs=[];!gs&&Ts&&Ts.rules&&Ts.rules.forEach(function(Ps){typeof Ps._id>"u"&&(Ps._id=As()),ws.matchResponsiveRule(Ps,Rs)},this),gs=ls.apply(void 0,Rs.map(function(Ps){return ns((Ts||{}).rules||[],function(Qs){return Qs._id===Ps})}).map(function(Ps){return Ps&&Ps.chartOptions})),gs.isResponsiveOptions=!0,Rs=Rs.toString()||void 0,Rs!==($s&&$s.ruleIds)&&($s&&this.update($s.undoOptions,fs,!0),Rs?($s=this.currentOptions(gs),$s.isResponsiveOptions=!0,this.currentResponsive={ruleIds:Rs,mergedOptions:gs,undoOptions:$s},this.update(gs,fs,!0)):this.currentResponsive=void 0)},ms}()}(bs||(bs={})),bs}),Ri(ts,"masters/highcharts.src.js",[ts["Core/Globals.js"],ts["Core/Utilities.js"],ts["Core/Defaults.js"],ts["Core/Animation/Fx.js"],ts["Core/Animation/AnimationUtilities.js"],ts["Core/Renderer/HTML/AST.js"],ts["Core/FormatUtilities.js"],ts["Core/Renderer/RendererUtilities.js"],ts["Core/Renderer/SVG/SVGElement.js"],ts["Core/Renderer/SVG/SVGRenderer.js"],ts["Core/Renderer/HTML/HTMLElement.js"],ts["Core/Renderer/HTML/HTMLRenderer.js"],ts["Core/Axis/Axis.js"],ts["Core/Axis/DateTimeAxis.js"],ts["Core/Axis/LogarithmicAxis.js"],ts["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],ts["Core/Axis/Tick.js"],ts["Core/Tooltip.js"],ts["Core/Series/Point.js"],ts["Core/Pointer.js"],ts["Core/MSPointer.js"],ts["Core/Legend/Legend.js"],ts["Core/Chart/Chart.js"],ts["Core/Axis/Stacking/StackingAxis.js"],ts["Core/Axis/Stacking/StackItem.js"],ts["Core/Series/Series.js"],ts["Core/Series/SeriesRegistry.js"],ts["Series/Column/ColumnSeries.js"],ts["Series/Column/ColumnDataLabel.js"],ts["Series/Pie/PieSeries.js"],ts["Series/Pie/PieDataLabel.js"],ts["Core/Series/DataLabel.js"],ts["Core/Responsive.js"],ts["Core/Color/Color.js"],ts["Core/Time.js"]],function(rs,is,ns,ss,os,ls,cs,hs,us,As,bs,ys,Cs,ps,ms,fs,gs,ws,Ts,$s,Rs,Ps,Qs,Fs,Is,Ms,Ws,Ds,_s,Ns,Ss,Us,Zs,ao,js){return rs.animate=os.animate,rs.animObject=os.animObject,rs.getDeferredAnimation=os.getDeferredAnimation,rs.setAnimation=os.setAnimation,rs.stop=os.stop,rs.timers=ss.timers,rs.AST=ls,rs.Axis=Cs,rs.Chart=Qs,rs.chart=Qs.chart,rs.Fx=ss,rs.Legend=Ps,rs.PlotLineOrBand=fs,rs.Point=Ts,rs.Pointer=Rs.isRequired()?Rs:$s,rs.Series=Ms,rs.StackItem=Is,rs.SVGElement=us,rs.SVGRenderer=As,rs.Tick=gs,rs.Time=js,rs.Tooltip=ws,rs.Color=ao,rs.color=ao.parse,ys.compose(As),bs.compose(us),rs.defaultOptions=ns.defaultOptions,rs.getOptions=ns.getOptions,rs.time=ns.defaultTime,rs.setOptions=ns.setOptions,rs.dateFormat=cs.dateFormat,rs.format=cs.format,rs.numberFormat=cs.numberFormat,rs.addEvent=is.addEvent,rs.arrayMax=is.arrayMax,rs.arrayMin=is.arrayMin,rs.attr=is.attr,rs.clearTimeout=is.clearTimeout,rs.correctFloat=is.correctFloat,rs.createElement=is.createElement,rs.css=is.css,rs.defined=is.defined,rs.destroyObjectProperties=is.destroyObjectProperties,rs.discardElement=is.discardElement,rs.distribute=hs.distribute,rs.erase=is.erase,rs.error=is.error,rs.extend=is.extend,rs.extendClass=is.extendClass,rs.find=is.find,rs.fireEvent=is.fireEvent,rs.getMagnitude=is.getMagnitude,rs.getStyle=is.getStyle,rs.inArray=is.inArray,rs.isArray=is.isArray,rs.isClass=is.isClass,rs.isDOMElement=is.isDOMElement,rs.isFunction=is.isFunction,rs.isNumber=is.isNumber,rs.isObject=is.isObject,rs.isString=is.isString,rs.keys=is.keys,rs.merge=is.merge,rs.normalizeTickInterval=is.normalizeTickInterval,rs.objectEach=is.objectEach,rs.offset=is.offset,rs.pad=is.pad,rs.pick=is.pick,rs.pInt=is.pInt,rs.relativeLength=is.relativeLength,rs.removeEvent=is.removeEvent,rs.seriesType=Ws.seriesType,rs.splat=is.splat,rs.stableSort=is.stableSort,rs.syncTimeout=is.syncTimeout,rs.timeUnits=is.timeUnits,rs.uniqueKey=is.uniqueKey,rs.useSerialIds=is.useSerialIds,rs.wrap=is.wrap,_s.compose(Ds),Us.compose(Ms),ps.compose(Cs),ms.compose(Cs),Ss.compose(Ns),fs.compose(Cs),Zs.compose(Qs),Fs.compose(Cs,Qs,Ms),rs}),ts["masters/highcharts.src.js"]._modules=ts,ts["masters/highcharts.src.js"]})})(highcharts);var highchartsExports=highcharts.exports;const Highcharts$1=getDefaultExportFromCjs(highchartsExports);var exporting={exports:{}};(function(es){(function(ki){es.exports?(ki.default=ki,es.exports=ki):ki(typeof Highcharts<"u"?Highcharts:void 0)})(function(ki){function Ri(ts,rs,is,ns){ts.hasOwnProperty(rs)||(ts[rs]=ns.apply(null,is),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:rs,module:ts[rs]}})))}ki=ki?ki._modules:{},Ri(ki,"Core/Chart/ChartNavigationComposition.js",[],function(){var ts;return function(rs){rs.compose=function(ns){return ns.navigation||(ns.navigation=new is(ns)),ns};var is=function(){function ns(ss){this.updates=[],this.chart=ss}return ns.prototype.addUpdate=function(ss){this.chart.navigation.updates.push(ss)},ns.prototype.update=function(ss,os){var ls=this;this.updates.forEach(function(cs){cs.call(ls.chart,ss,os)})},ns}();rs.Additions=is}(ts||(ts={})),ts}),Ri(ki,"Extensions/Exporting/ExportingDefaults.js",[ki["Core/Globals.js"]],function(ts){return ts=ts.isTouchDevice,{exporting:{allowTableSorting:!0,type:"image/png",url:"https://export.highcharts.com/",pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen&&this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"1px solid ".concat("#999999"),background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",color:"#333333",background:"none",fontSize:ts?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"}}}}),Ri(ki,"Extensions/Exporting/ExportingSymbols.js",[],function(){var ts;return function(rs){function is(os,ls,cs,hs){return[["M",os,ls+2.5],["L",os+cs,ls+2.5],["M",os,ls+hs/2+.5],["L",os+cs,ls+hs/2+.5],["M",os,ls+hs-1.5],["L",os+cs,ls+hs-1.5]]}function ns(os,ls,cs,hs){return os=hs/3-2,hs=[],hs=hs.concat(this.circle(cs-os,ls,os,os),this.circle(cs-os,ls+os+4,os,os),this.circle(cs-os,ls+2*(os+4),os,os))}var ss=[];rs.compose=function(os){ss.indexOf(os)===-1&&(ss.push(os),os=os.prototype.symbols,os.menu=is,os.menuball=ns.bind(os))}}(ts||(ts={})),ts}),Ri(ki,"Extensions/Exporting/Fullscreen.js",[ki["Core/Renderer/HTML/AST.js"],ki["Core/Utilities.js"]],function(ts,rs){function is(){this.fullscreen=new ls(this)}var ns=rs.addEvent,ss=rs.fireEvent,os=[],ls=function(){function cs(hs){this.chart=hs,this.isOpen=!1,hs=hs.renderTo,this.browserProps||(typeof hs.requestFullscreen=="function"?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:hs.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:hs.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:hs.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}return cs.compose=function(hs){os.indexOf(hs)===-1&&(os.push(hs),ns(hs,"beforeRender",is))},cs.prototype.close=function(){var hs=this,us=hs.chart,As=us.options.chart;ss(us,"fullscreenClose",null,function(){hs.isOpen&&hs.browserProps&&us.container.ownerDocument instanceof Document&&us.container.ownerDocument[hs.browserProps.exitFullscreen](),hs.unbindFullscreenEvent&&(hs.unbindFullscreenEvent=hs.unbindFullscreenEvent()),us.setSize(hs.origWidth,hs.origHeight,!1),hs.origWidth=void 0,hs.origHeight=void 0,As.width=hs.origWidthOption,As.height=hs.origHeightOption,hs.origWidthOption=void 0,hs.origHeightOption=void 0,hs.isOpen=!1,hs.setButtonText()})},cs.prototype.open=function(){var hs=this,us=hs.chart,As=us.options.chart;ss(us,"fullscreenOpen",null,function(){if(As&&(hs.origWidthOption=As.width,hs.origHeightOption=As.height),hs.origWidth=us.chartWidth,hs.origHeight=us.chartHeight,hs.browserProps){var bs=ns(us.container.ownerDocument,hs.browserProps.fullscreenChange,function(){hs.isOpen?(hs.isOpen=!1,hs.close()):(us.setSize(null,null,!1),hs.isOpen=!0,hs.setButtonText())}),ys=ns(us,"destroy",bs);hs.unbindFullscreenEvent=function(){bs(),ys()};var Cs=us.renderTo[hs.browserProps.requestFullscreen]();Cs&&Cs.catch(function(){alert("Full screen is not supported inside a frame.")})}})},cs.prototype.setButtonText=function(){var hs=this.chart,us=hs.exportDivElements,As=hs.options.exporting,bs=As&&As.buttons&&As.buttons.contextButton.menuItems;hs=hs.options.lang,As&&As.menuItemDefinitions&&hs&&hs.exitFullscreen&&hs.viewFullscreen&&bs&&us&&(us=us[bs.indexOf("viewFullscreen")])&&ts.setElementHTML(us,this.isOpen?hs.exitFullscreen:As.menuItemDefinitions.viewFullscreen.text||hs.viewFullscreen)},cs.prototype.toggle=function(){this.isOpen?this.close():this.open()},cs}();return ls}),Ri(ki,"Core/HttpUtilities.js",[ki["Core/Globals.js"],ki["Core/Utilities.js"]],function(ts,rs){var is=ts.doc,ns=rs.createElement,ss=rs.discardElement,os=rs.merge,ls=rs.objectEach,cs={ajax:function(hs){var us={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},As=new XMLHttpRequest;if(!hs.url)return!1;As.open((hs.type||"get").toUpperCase(),hs.url,!0),hs.headers&&hs.headers["Content-Type"]||As.setRequestHeader("Content-Type",us[hs.dataType||"json"]||us.text),ls(hs.headers,function(bs,ys){As.setRequestHeader(ys,bs)}),hs.responseType&&(As.responseType=hs.responseType),As.onreadystatechange=function(){if(As.readyState===4){if(As.status===200){if(hs.responseType!=="blob"){var bs=As.responseText;if(hs.dataType==="json")try{bs=JSON.parse(bs)}catch(ys){if(ys instanceof Error){hs.error&&hs.error(As,ys);return}}}return hs.success&&hs.success(bs,As)}hs.error&&hs.error(As,As.responseText)}},hs.data&&typeof hs.data!="string"&&(hs.data=JSON.stringify(hs.data)),As.send(hs.data)},getJSON:function(hs,us){cs.ajax({url:hs,success:us,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(hs,us,As){var bs=ns("form",os({method:"post",action:hs,enctype:"multipart/form-data"},As),{display:"none"},is.body);ls(us,function(ys,Cs){ns("input",{type:"hidden",name:Cs,value:ys},void 0,bs)}),bs.submit(),ss(bs)}};return cs}),Ri(ki,"Extensions/Exporting/Exporting.js",[ki["Core/Renderer/HTML/AST.js"],ki["Core/Chart/Chart.js"],ki["Core/Chart/ChartNavigationComposition.js"],ki["Core/Defaults.js"],ki["Extensions/Exporting/ExportingDefaults.js"],ki["Extensions/Exporting/ExportingSymbols.js"],ki["Extensions/Exporting/Fullscreen.js"],ki["Core/Globals.js"],ki["Core/HttpUtilities.js"],ki["Core/Utilities.js"]],function(ts,rs,is,ns,ss,os,ls,cs,hs,us){var As=ns.defaultOptions,bs=ns.setOptions,ys=cs.doc,Cs=cs.SVG_NS,ps=cs.win,ms=us.addEvent,fs=us.css,gs=us.createElement,ws=us.discardElement,Ts=us.extend,$s=us.find,Rs=us.fireEvent,Ps=us.isObject,Qs=us.merge,Fs=us.objectEach,Is=us.pick,Ms=us.removeEvent,Ws=us.uniqueKey,Ds;return function(_s){function Ns(ko){var Qo=this,jo=Qo.renderer,Bo=Qs(Qo.options.navigation.buttonOptions,ko),go=Bo.onclick,_o=Bo.menuItems,To=Bo.symbolSize||12;if(Qo.btnCount||(Qo.btnCount=0),Qo.exportDivElements||(Qo.exportDivElements=[],Qo.exportSVGElements=[]),Bo.enabled!==!1&&Bo.theme){var uo=Bo.theme,Co;Qo.styledMode||(uo.fill=Is(uo.fill,"#ffffff"),uo.stroke=Is(uo.stroke,"none")),go?Co=function(Po){Po&&Po.stopPropagation(),go.call(Qo,Po)}:_o&&(Co=function(Po){Po&&Po.stopPropagation(),Qo.contextMenu(Oo.menuClassName,_o,Oo.translateX,Oo.translateY,Oo.width,Oo.height,Oo),Oo.setState(2)}),Bo.text&&Bo.symbol?uo.paddingLeft=Is(uo.paddingLeft,30):Bo.text||Ts(uo,{width:Bo.width,height:Bo.height,padding:0}),Qo.styledMode||(uo["stroke-linecap"]="round",uo.fill=Is(uo.fill,"#ffffff"),uo.stroke=Is(uo.stroke,"none"));var Oo=jo.button(Bo.text,0,0,Co,uo,void 0,void 0,void 0,void 0,Bo.useHTML).addClass(ko.className).attr({title:Is(Qo.options.lang[Bo._titleKey||Bo.titleKey],"")});if(Oo.menuClassName=ko.menuClassName||"highcharts-menu-"+Qo.btnCount++,Bo.symbol){var Fo=jo.symbol(Bo.symbol,Bo.symbolX-To/2,Bo.symbolY-To/2,To,To,{width:To,height:To}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(Oo);Qo.styledMode||Fo.attr({stroke:Bo.symbolStroke,fill:Bo.symbolFill,"stroke-width":Bo.symbolStrokeWidth||1})}Oo.add(Qo.exportingGroup).align(Ts(Bo,{width:Oo.width,x:Is(Bo.x,Qo.buttonOffset)}),!0,"spacingBox"),Qo.buttonOffset+=(Oo.width+Bo.buttonSpacing)*(Bo.align==="right"?-1:1),Qo.exportSVGElements.push(Oo,Fo)}}function Ss(){if(this.printReverseInfo){var ko=this.printReverseInfo,Qo=ko.childNodes,jo=ko.origDisplay;ko=ko.resetParams,this.moveContainers(this.renderTo),[].forEach.call(Qo,function(Bo,go){Bo.nodeType===1&&(Bo.style.display=jo[go]||"")}),this.isPrinting=!1,ko&&this.setSize.apply(this,ko),delete this.printReverseInfo,Wo=void 0,Rs(this,"afterPrint")}}function Us(){var ko=ys.body,Qo=this.options.exporting.printMaxWidth,jo={childNodes:ko.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),Rs(this,"beforePrint"),Qo&&this.chartWidth>Qo&&(jo.resetParams=[this.options.chart.width,void 0,!1],this.setSize(Qo,void 0,!1)),[].forEach.call(jo.childNodes,function(Bo,go){Bo.nodeType===1&&(jo.origDisplay[go]=Bo.style.display,Bo.style.display="none")}),this.moveContainers(ko),this.printReverseInfo=jo}function Zs(ko){ko.renderExporting(),ms(ko,"redraw",ko.renderExporting),ms(ko,"destroy",ko.destroyExport)}function ao(ko,Qo,jo,Bo,go,_o,To){var uo=this,Co=uo.options.navigation,Oo=uo.chartWidth,Fo=uo.chartHeight,Po="cache-"+ko,Zo=Math.max(go,_o),na=uo[Po];if(!na){uo.exportContextMenu=uo[Po]=na=gs("div",{className:ko},{position:"absolute",zIndex:1e3,padding:Zo+"px",pointerEvents:"auto"},uo.fixedDiv||uo.container);var ma=gs("ul",{className:"highcharts-menu"},{listStyle:"none",margin:0,padding:0},na);uo.styledMode||fs(ma,Ts({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},Co.menuStyle)),na.hideMenu=function(){fs(na,{display:"none"}),To&&To.setState(0),uo.openMenu=!1,fs(uo.renderTo,{overflow:"hidden"}),fs(uo.container,{overflow:"hidden"}),us.clearTimeout(na.hideTimer),Rs(uo,"exportMenuHidden")},uo.exportEvents.push(ms(na,"mouseleave",function(){na.hideTimer=ps.setTimeout(na.hideMenu,500)}),ms(na,"mouseenter",function(){us.clearTimeout(na.hideTimer)}),ms(ys,"mouseup",function(ua){uo.pointer.inClass(ua.target,ko)||na.hideMenu()}),ms(na,"click",function(){uo.openMenu&&na.hideMenu()})),Qo.forEach(function(ua){if(typeof ua=="string"&&(ua=uo.options.exporting.menuItemDefinitions[ua]),Ps(ua,!0)){var ka=void 0;ua.separator?ka=gs("hr",void 0,void 0,ma):(ua.textKey==="viewData"&&uo.isDataTableVisible&&(ua.textKey="hideData"),ka=gs("li",{className:"highcharts-menu-item",onclick:function(Ba){Ba&&Ba.stopPropagation(),na.hideMenu(),ua.onclick&&ua.onclick.apply(uo,arguments)}},void 0,ma),ts.setElementHTML(ka,ua.text||uo.options.lang[ua.textKey]),uo.styledMode||(ka.onmouseover=function(){fs(this,Co.menuItemHoverStyle)},ka.onmouseout=function(){fs(this,Co.menuItemStyle)},fs(ka,Ts({cursor:"pointer"},Co.menuItemStyle||{})))),uo.exportDivElements.push(ka)}}),uo.exportDivElements.push(ma,na),uo.exportMenuWidth=na.offsetWidth,uo.exportMenuHeight=na.offsetHeight}Qo={display:"block"},jo+uo.exportMenuWidth>Oo?Qo.right=Oo-jo-go-Zo+"px":Qo.left=jo-Zo+"px",Bo+_o+uo.exportMenuHeight>Fo&&To.alignOptions.verticalAlign!=="top"?Qo.bottom=Fo-Bo-Zo+"px":Qo.top=Bo+_o-Zo+"px",fs(na,Qo),fs(uo.renderTo,{overflow:""}),fs(uo.container,{overflow:""}),uo.openMenu=!0,Rs(uo,"exportMenuShown")}function js(ko){var Qo=ko?ko.target:this,jo=Qo.exportSVGElements,Bo=Qo.exportDivElements;ko=Qo.exportEvents;var go;jo&&(jo.forEach(function(_o,To){_o&&(_o.onclick=_o.ontouchstart=null,go="cache-"+_o.menuClassName,Qo[go]&&delete Qo[go],jo[To]=_o.destroy())}),jo.length=0),Qo.exportingGroup&&(Qo.exportingGroup.destroy(),delete Qo.exportingGroup),Bo&&(Bo.forEach(function(_o,To){_o&&(us.clearTimeout(_o.hideTimer),Ms(_o,"mouseleave"),Bo[To]=_o.onmouseout=_o.onmouseover=_o.ontouchstart=_o.onclick=null,ws(_o))}),Bo.length=0),ko&&(ko.forEach(function(_o){_o()}),ko.length=0)}function Bs(ko,Qo){Qo=this.getSVGForExport(ko,Qo),ko=Qs(this.options.exporting,ko),hs.post(ko.url,{filename:ko.filename?ko.filename.replace(/\//g,"-"):this.getFilename(),type:ko.type,width:ko.width||0,scale:ko.scale,svg:Qo},ko.formAttributes)}function zs(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function so(){var ko=this.userOptions.title&&this.userOptions.title.text,Qo=this.options.exporting.filename;return Qo?Qo.replace(/\//g,"-"):(typeof ko=="string"&&(Qo=ko.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!Qo||5>Qo.length)&&(Qo="chart"),Qo)}function oo(ko){var Qo,jo=Qs(this.options,ko);jo.plotOptions=Qs(this.userOptions.plotOptions,ko&&ko.plotOptions),jo.time=Qs(this.userOptions.time,ko&&ko.time);var Bo=gs("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},ys.body),go=this.renderTo.style.width,_o=this.renderTo.style.height;go=jo.exporting.sourceWidth||jo.chart.width||/px$/.test(go)&&parseInt(go,10)||(jo.isGantt?800:600),_o=jo.exporting.sourceHeight||jo.chart.height||/px$/.test(_o)&&parseInt(_o,10)||400,Ts(jo.chart,{animation:!1,renderTo:Bo,forExport:!0,renderer:"SVGRenderer",width:go,height:_o}),jo.exporting.enabled=!1,delete jo.data,jo.series=[],this.series.forEach(function(Co){Qo=Qs(Co.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:Co.visible}),Qo.isInternal||jo.series.push(Qo)});var To={};this.axes.forEach(function(Co){Co.userOptions.internalKey||(Co.userOptions.internalKey=Ws()),Co.options.isInternal||(To[Co.coll]||(To[Co.coll]=!0,jo[Co.coll]=[]),jo[Co.coll].push(Qs(Co.userOptions,{visible:Co.visible})))});var uo=new this.constructor(jo,this.callback);return ko&&["xAxis","yAxis","series"].forEach(function(Co){var Oo={};ko[Co]&&(Oo[Co]=ko[Co],uo.update(Oo))}),this.axes.forEach(function(Co){var Oo=$s(uo.axes,function(Zo){return Zo.options.internalKey===Co.userOptions.internalKey}),Fo=Co.getExtremes(),Po=Fo.userMin;Fo=Fo.userMax,Oo&&(typeof Po<"u"&&Po!==Oo.min||typeof Fo<"u"&&Fo!==Oo.max)&&Oo.setExtremes(Po,Fo,!0,!1)}),_o=uo.getChartHTML(),Rs(this,"getSVG",{chartCopy:uo}),_o=this.sanitizeSVG(_o,jo),jo=null,uo.destroy(),ws(Bo),_o}function Ao(ko,Qo){var jo=this.options.exporting;return this.getSVG(Qs({chart:{borderRadius:0}},jo.chartOptions,Qo,{exporting:{sourceWidth:ko&&ko.sourceWidth||jo.sourceWidth,sourceHeight:ko&&ko.sourceHeight||jo.sourceHeight}}))}function Xs(ko){return ko.replace(/([A-Z])/g,function(Qo,jo){return"-"+jo.toLowerCase()})}function lo(){function ko(uo){var Co={};if(To&&uo.nodeType===1&&Yo.indexOf(uo.nodeName)===-1){var Oo=ps.getComputedStyle(uo,null),Fo=uo.nodeName==="svg"?{}:ps.getComputedStyle(uo.parentNode,null);if(!Bo[uo.nodeName]){go=To.getElementsByTagName("svg")[0];var Po=To.createElementNS(uo.namespaceURI,uo.nodeName);go.appendChild(Po);var Zo=ps.getComputedStyle(Po,null),na={};for(var ma in Zo)typeof Zo[ma]!="string"||/^[0-9]+$/.test(ma)||(na[ma]=Zo[ma]);Bo[uo.nodeName]=na,uo.nodeName==="text"&&delete Bo.text.fill,go.removeChild(Po)}for(var ua in Oo)if(cs.isFirefox||cs.isMS||cs.isSafari||Object.hasOwnProperty.call(Oo,ua)){ma=Oo[ua];var ka=ua;if(Po=Zo=!1,jo.length){for(na=jo.length;na--&&!Zo;)Zo=jo[na].test(ka);Po=!Zo}for(ka==="transform"&&ma==="none"&&(Po=!0),na=Qo.length;na--&&!Po;)Po=Qo[na].test(ka)||typeof ma=="function";Po||Fo[ka]===ma&&uo.nodeName!=="svg"||Bo[uo.nodeName][ka]===ma||(Jo&&Jo.indexOf(ka)===-1?Co[ka]=ma:ma&&uo.setAttribute(Xs(ka),ma))}fs(uo,Co),uo.nodeName==="svg"&&uo.setAttribute("stroke-width","1px"),uo.nodeName!=="text"&&[].forEach.call(uo.children||uo.childNodes,ko)}}var Qo=yo,jo=_s.inlineAllowlist,Bo={},go,_o=ys.createElement("iframe");fs(_o,{width:"1px",height:"1px",visibility:"hidden"}),ys.body.appendChild(_o);var To=_o.contentWindow&&_o.contentWindow.document;To&&To.body.appendChild(To.createElementNS(Cs,"svg")),ko(this.container.querySelector("svg")),go.parentNode.removeChild(go),_o.parentNode.removeChild(_o)}function co(ko){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach(function(Qo){ko.appendChild(Qo)})}function So(){var ko=this;ko.exporting={update:function(Qo,jo){ko.isDirtyExporting=!0,Qs(!0,ko.options.exporting,Qo),Is(jo,!0)&&ko.redraw()}},is.compose(ko).navigation.addUpdate(function(Qo,jo){ko.isDirtyExporting=!0,Qs(!0,ko.options.navigation,Qo),Is(jo,!0)&&ko.redraw()})}function ro(){var ko=this;ko.isPrinting||(Wo=ko,cs.isSafari||ko.beforePrint(),setTimeout(function(){ps.focus(),ps.print(),cs.isSafari||setTimeout(function(){ko.afterPrint()},1e3)},1))}function vo(){var ko=this,Qo=ko.options.exporting,jo=Qo.buttons,Bo=ko.isDirtyExporting||!ko.exportSVGElements;ko.buttonOffset=0,ko.isDirtyExporting&&ko.destroyExport(),Bo&&Qo.enabled!==!1&&(ko.exportEvents=[],ko.exportingGroup=ko.exportingGroup||ko.renderer.g("exporting-group").attr({zIndex:3}).add(),Fs(jo,function(go){ko.addButton(go)}),ko.isDirtyExporting=!1)}function Eo(ko,Qo){var jo=ko.indexOf("</svg>")+6,Bo=ko.substr(jo);return ko=ko.substr(0,jo),Qo&&Qo.exporting&&Qo.exporting.allowHTML&&Bo&&(Bo='<foreignObject x="0" y="0" width="'+Qo.chart.width+'" height="'+Qo.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+Bo.replace(/(<(?:img|br).*?(?=>))>/g,"$1 />")+"</body></foreignObject>",ko=ko.replace("</svg>",Bo+"</svg>")),ko=ko.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­"),this.ieSanitizeSVG&&(ko=this.ieSanitizeSVG(ko)),ko}var mo=[],yo=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^[0-9]+$/],Jo="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" ");_s.inlineAllowlist=[];var Yo=["clipPath","defs","desc"],Wo;_s.compose=function(ko,Qo){os.compose(Qo),ls.compose(ko),mo.indexOf(ko)===-1&&(mo.push(ko),Qo=ko.prototype,Qo.afterPrint=Ss,Qo.exportChart=Bs,Qo.inlineStyles=lo,Qo.print=ro,Qo.sanitizeSVG=Eo,Qo.getChartHTML=zs,Qo.getSVG=oo,Qo.getSVGForExport=Ao,Qo.getFilename=so,Qo.moveContainers=co,Qo.beforePrint=Us,Qo.contextMenu=ao,Qo.addButton=Ns,Qo.destroyExport=js,Qo.renderExporting=vo,Qo.callbacks.push(Zs),ms(ko,"init",So),cs.isSafari&&cs.win.matchMedia("print").addListener(function(jo){Wo&&(jo.matches?Wo.beforePrint():Wo.afterPrint())})),mo.indexOf(bs)===-1&&(mo.push(bs),As.exporting=Qs(ss.exporting,As.exporting),As.lang=Qs(ss.lang,As.lang),As.navigation=Qs(ss.navigation,As.navigation))}}(Ds||(Ds={})),Ds}),Ri(ki,"masters/modules/exporting.src.js",[ki["Core/Globals.js"],ki["Extensions/Exporting/Exporting.js"],ki["Core/HttpUtilities.js"]],function(ts,rs,is){ts.HttpUtilities=is,ts.ajax=is.ajax,ts.getJSON=is.getJSON,ts.post=is.post,rs.compose(ts.Chart,ts.Renderer)})})})(exporting);var exportingExports=exporting.exports;const Exporting=getDefaultExportFromCjs(exportingExports);Exporting(Highcharts$1);class HighchartsController extends Controller{constructor(){super(...arguments);Ho(this,"options",null)}connect(){this.useStackNameFormatValue?this.options=Object.assign(this.paramValue,{tooltip:{formatter:function(){return`${this.point.series.stackKey.split(",")[1]}<br/>${this.series.name}: ${this.point.y}<br/>Total: ${this.point.stackTotal}`}}}):this.options=this.paramValue,Highcharts$1.chart(this.element,this.options)}}Ho(HighchartsController,"values",{param:Object,useStackNameFormat:!1});class HubspotChatController extends Controller{get isOpen(){return document.querySelector(".hs-shadow-container").className.includes("active")}toggleHubspotChat(){window.HubSpotConversations&&(this.isOpen?window.HubSpotConversations.widget.close():window.HubSpotConversations.widget.open())}}Ho(HubspotChatController,"targets",["trigger"]);class ImageUploadController extends Controller{connect(){this.uploadedFor=this.element.getAttribute("data-uploaded-for"),this.holder=this.element.closest(`.${this.uploadedFor}-holder`),this.onchangeImage()}onchangeImage(){this.element.addEventListener("change",this.handleChange.bind(this))}handleChange(ki){ki.preventDefault(),this.element.submit(),this.holder&&(this.holder.innerHTML="",this.holder.classList.add("shimmer"))}}class IntroTutorialController extends Controller{connect(){const ki=this.pageLoadTutorialIdValue,Ri=this.userDataValue,ts=this.dataCountValue;Ri.includes(ki)||(["AFTER_LISTING_CREATED"].includes(ki)?ts>0&&this.start_tutorial_for_given_id(ki):this.start_tutorial_for_given_id(ki))}startTutorial(ki){const Ri=ki.currentTarget.dataset.tutorialId;this.start_tutorial_for_given_id(Ri)}start_tutorial_for_given_id(ki){const Ri=this.tutorialsValue[ki].main_steps;this.responsiveElements(ki).length&&this.responsiveElements(ki).forEach(rs=>{rs.dataset.step&&rs.offsetHeight>0&&Ri.splice(Number(rs.dataset.step)-1,0,this.responsiveStep(rs.dataset.intro,ki))});const ts=Ri.filter(rs=>{const is=rs.element;if(document.querySelector(`[data-intro="${is}"]`)){const ss=document.querySelector(`[data-intro="${is}"]`).getAttribute("data-skip-if");return!(ss&&ss.toLowerCase()==="true")}return!0});ts.forEach(this.addElement.bind(this)),rt$2().setOptions({steps:ts,...["LISTING_PREVIEW","VOICE_LIBRARY"].includes(ki)?{scrollToElement:!1}:{}}).onexit(function(){var rs,is,ns,ss;post("/users/update_intro_tutorial_ids",{query:{tutorial_id:ki}}),document.querySelectorAll('[data-intro="left_panel"]')[0].classList.remove("left-panel-hidden"),(is=(rs=document.getElementById("offcanvasRightPanel"))==null?void 0:rs.classList)==null||is.remove("show"),(ss=(ns=document.getElementById("aiVoice"))==null?void 0:ns.classList)==null||ss.remove("show")}).onbeforechange((rs,is)=>{var ss,os,ls,cs,hs,us,As,bs,ys,Cs,ps,ms,fs,gs,ws,Ts,$s,Rs;["LISTING_PREVIEW","VOICE_LIBRARY"].includes(ki)&&(document.body.style.overflow="hidden");const ns=document.querySelectorAll('[data-intro="left_panel"]')[0];if((ss=ns==null?void 0:ns.classList)==null||ss.add("left-panel-hidden"),(os=Ri[is].right_panel)!=null&&os.element){const Ps=document.getElementById("offcanvasRightPanel"),Qs=(ls=Ps==null?void 0:Ps.classList)==null?void 0:ls.contains("show");if(Ri[is].right_panel.show){(cs=Ps==null?void 0:Ps.classList)==null||cs.add("show");const Fs=Ri[is].right_panel.element,Is=document.getElementById(Fs),Ms=document.querySelector('[data-ai-right-panel-options-toggler-target="promptBuilderButton"]'),Ws=document.querySelector('[data-ai-right-panel-options-toggler-target="modelOptionsButton"]'),Ds=document.querySelector(`[data-ai-right-panel-options-toggler-target="${Fs}Button"]`);if((hs=Ws==null?void 0:Ws.classList)==null||hs.remove("active"),(us=Ms==null?void 0:Ms.classList)==null||us.remove("active"),(As=Ds==null?void 0:Ds.classList)==null||As.add("active"),Is==null||Is.classList.remove("d-none"),Fs==="promptBuilder"?(ys=(bs=document.getElementById("modelOptions"))==null?void 0:bs.classList)==null||ys.add("d-none"):(ps=(Cs=document.getElementById("promptBuilder"))==null?void 0:Cs.classList)==null||ps.add("d-none"),!Qs)return new Promise(_s=>{setTimeout(()=>{_s()},500)})}else{const Fs=document.getElementById("offcanvasRightPanel");(ms=Fs==null?void 0:Fs.classList)==null||ms.remove("show")}}else if(Ri[is].right_fly_out){const Ps=document.getElementById(Ri[is].right_fly_out.element),Qs=document.getElementById("offcanvasRightPanel");let Fs=(fs=Ps==null?void 0:Ps.classList)==null?void 0:fs.contains("show");if(Ri[is].right_fly_out.show?((gs=Qs==null?void 0:Qs.classList)==null||gs.remove("show"),(ws=Ps==null?void 0:Ps.classList)==null||ws.add("show")):((Ts=Qs==null?void 0:Qs.classList)==null||Ts.add("show"),($s=Ps==null?void 0:Ps.classList)==null||$s.remove("show"),Fs=!Fs),!Fs)return new Promise(Is=>{setTimeout(()=>{Is()},500)})}if(Ri[is].left_panel)return(Rs=ns==null?void 0:ns.classList)==null||Rs.remove("left-panel-hidden"),new Promise(Ps=>{setTimeout(()=>{Ps()},500)})}).onafterchange(rs=>{let is=document.querySelector(".introjs-tooltip");const ns=rs&&rs.classList.contains("introjsFloatingElement"),ss=window.innerWidth<770;ns?ss?is.style.transform="translateY(200px) scale(0.94)":is.style.transform="":ss?is.style.transform="translateY(-10px) scale(0.94)":is.style.transform=""}).onbeforeexit(()=>{document.body.style.overflow="auto"}).start()}addElement(ki){const Ri=ki.element;if("element"in ki&&typeof Ri=="string"&&Ri.trim()!==""){const ts=document.querySelector(`[data-intro="${Ri}"]`);ki.element=ts}}responsiveElements(ki){return this.tutorialsValue[ki].responsive_steps?this.tutorialsValue[ki].responsive_steps.map(({element:Ri})=>document.querySelector(`[data-intro="${Ri}"]`)):[]}responsiveStep(ki,Ri){return this.tutorialsValue[Ri].responsive_steps.find(({element:ts})=>ts===ki)}}Ho(IntroTutorialController,"values",{tutorials:Object,pageLoadTutorialId:String,userData:Array,dataCount:Number});class LabelAnimatorController extends Controller{constructor(){super(...arguments);Ho(this,"timeoutPointer",null);Ho(this,"text",null)}connect(){this.text=this.element.innerHTML||"",this.element.innerHTML="",this.typeChar()}disconnect(){clearTimeout(this.timeoutPointer)}typeChar(){let Ri=this.element.innerHTML.length;Ri>=this.text.length||(this.element.innerHTML=this.text.substring(0,Ri+1),this.timeoutPointer=setTimeout(()=>{this.typeChar()},50))}}class LegalDisclaimerInitController extends Controller{connect(){let ki=document.getElementsByTagName("body")[0],Ri=document.getElementById("legal-disclaimer"),ts;ki.addEventListener("mousemove",function(){Ri.style.opacity=0,clearInterval(ts),ts=setInterval(rs,1e3)});function rs(){Ri.style.opacity=1}}}class ListingCategoryChangeController extends Controller{handleCategoryChange(){this.formInputTarget.value=this.selectTarget.value,this.formTarget.requestSubmit()}}Ho(ListingCategoryChangeController,"targets",["select","form","formInput"]);class ListingController extends Controller{show(ki){ki.preventDefault();let Ri=ki.currentTarget.dataset.url;this.element.parentNode.querySelector(".details-body").innerHTML=this.loaderTemplateTarget.innerHTML,this.loadTemplate(Ri),this.titleTarget.innerText=ki.currentTarget.dataset.title}loadTemplate(ki){get$1(ki,{responseKind:"turbo-stream"})}}Ho(ListingController,"targets",["title","loaderTemplate"]);class ListingPrefillChangeController extends Controller{didCategoryChange(ki){this.toggleWarning(ki,ki.target.closest("#listing_category_container"))}didSubCategoryChange(ki){this.toggleWarning(ki,ki.target.closest("#listing_subcategory_container"))}didConnectionChange(ki){this.toggleWarning(ki,ki.target.closest("#listing_connection_container"))}toggleWarning(ki,Ri){let ts=Ri.dataset.original,rs=document.querySelector(".code-confirm-keep-prefills");!rs||!ts||(ki.target.type=="radio"||ki.target.type=="select-one")&&(ts!==ki.target.value?rs.classList.remove("d-none"):rs.classList.add("d-none"))}}class ListingTileController extends Controller{constructor(){super(...arguments);Ho(this,"isHovering",!1);Ho(this,"hoveringTimeoutRef",null);Ho(this,"currentHoverImageIndex",0)}connect(){if(this.isVideoMode()){let Ri=this.videoHolderElTarget.innerHTML;this.videoHolderElTarget.innerHTML=Ri,this.videoElTarget.addEventListener("loadeddata",()=>{this.videoHolderElTarget.classList.remove("d-none")})}}disconnect(){this.unscheduleNextShowHoverImage()}isVideoMode(){return this.hasVideoHolderElTarget}onMouseOver(){this.isHovering||(this.isHovering=!0,this.isVideoMode()?this.onVideoHoverOn():(this.showHoverImage(!1),this.scheduleNextShowHoverImage()))}onMouseLeave(){this.isHovering&&(this.isHovering=!1,this.isVideoMode()?this.onVideoHoverOff():(this.unscheduleNextShowHoverImage(),this.showHoverImage(!1)))}onVideoHoverOn(){this.videoElTarget.style.opacity=1,this.posterOverlayTarget.style.opacity=0,this.videoElTarget.currentTime=0,this.videoElTarget.play()}onVideoHoverOff(){this.videoElTarget.style.opacity=0,this.posterOverlayTarget.style.opacity=1,this.videoElTarget.pause()}scheduleNextShowHoverImage(){this.hoveringTimeoutRef=setTimeout(()=>{this.showHoverImage(!0),this.scheduleNextShowHoverImage()},5e3)}unscheduleNextShowHoverImage(){clearTimeout(this.hoveringTimeoutRef),this.hoveringTimeoutRef=null}showHoverImage(Ri){if(this.hoverImageTargets.length<2)return;Ri?this.currentHoverImageIndex=(this.currentHoverImageIndex+1)%this.hoverImageTargets.length:this.currentHoverImageIndex=0;let ts=(this.currentHoverImageIndex+1)%this.hoverImageTargets.length,rs=(this.currentHoverImageIndex+this.hoverImageTargets.length-1)%this.hoverImageTargets.length;for(let is=0;is<this.hoverImageTargets.length;is++){let ns=this.hoverImageTargets[is];is===this.currentHoverImageIndex&&!this.isHovering?(ns.classList.add("cover"),ns.classList.remove("current"),this.loadImageForHoverImageEl(ns)):is===this.currentHoverImageIndex?(ns.classList.add("current"),ns.classList.remove("cover"),this.loadImageForHoverImageEl(ns)):(ns.classList.remove("current"),ns.classList.remove("cover")),is===ts&&this.isHovering?(ns.classList.add("next"),this.loadImageForHoverImageEl(ns)):ns.classList.remove("next"),is===rs&&this.isHovering&&Ri?ns.classList.add("previous"):ns.classList.remove("previous")}}loadImageForHoverImageEl(Ri){var rs;let ts=Ri.querySelector("img");(rs=ts.attributes.srcset)!=null&&rs.value||(ts.src=ts.attributes["data-src"].value,ts.srcset=ts.attributes["data-srcset"].value)}}Ho(ListingTileController,"targets",["hoverImage","videoThumbnail","videoHolderEl","videoEl","posterOverlay"]);class LocationFilterController extends Controller{connect(){this.toggleSelectedFilters()}toggleSelectedFilters(){this.countryFilterActive?(this.showCountryGrid(),this.hideCityGrid()):this.cityFilterActive?(this.hideCountryGrid(),this.showCityGrid()):(this.hideCountryGrid(),this.hideCityGrid())}changed(ki){let Ri=ki.target.value;Ri=="country"?(this.clearCityOptions(),this.countryGridTarget.dataset.activeFilter=!0,this.cityGridTarget.dataset.activeFilter=!1):Ri=="city"?(this.clearSelectedCountryCodes(),this.countryGridTarget.dataset.activeFilter=!1,this.cityGridTarget.dataset.activeFilter=!0):(this.countryGridTarget.dataset.activeFilter=!1,this.cityGridTarget.dataset.activeFilter=!1),this.toggleSelectedFilters()}clearCityOptions(){let ki=this.cityGridTarget.querySelector("select");ki&&ki.tomselect.clear(),this.rangeSlider&&this.rangeSliderStartValue&&(this.rangeSlider.value=this.rangeSliderStartValue,this.resetRadiusInput(""))}clearSelectedCountryCodes(){this.countryGridTarget.querySelectorAll('input[type="checkbox"]').forEach(ki=>{ki.checked=!1})}clear(){this.clearCityOptions(),this.clearSelectedCountryCodes(),this.hideCountryGrid(),this.hideCityGrid()}showCityGrid(){this.cityGridTarget.classList.remove("d-none"),this.resetRadiusInput(this.rangeSliderStartValue)}hideCityGrid(){this.cityGridTarget.classList.add("d-none")}showCountryGrid(){this.countryGridTarget.classList.remove("d-none")}hideCountryGrid(){this.countryGridTarget.classList.add("d-none")}resetRadiusInput(ki){this.cityGridTarget.querySelectorAll('input[name="filters[location.radius]"]').forEach(Ri=>{Ri.value=ki})}get countryFilterActive(){return this.countryGridTarget.dataset.activeFilter=="true"}get cityFilterActive(){return this.cityGridTarget.dataset.activeFilter=="true"}get rangeSlider(){return this.cityGridTarget.querySelector("#radiusSlider")}get rangeSliderStartValue(){let ki=this.rangeSlider.dataset.startValue;return ki||(ki=this.rangeSlider.min),ki}}Ho(LocationFilterController,"targets",["countryGrid","cityGrid"]);class LocationReloaderController extends Controller{connect(){window.location.reload()}}class LockedAiAssistantMembershipModalController extends Controller{showUpgradeModal(ki){var Ri,ts;ki.preventDefault(),this.hasShowUpgradeModalTarget&&post("/ai/assistants/show_upgrade_modal",{body:{assistant_name:(ts=(Ri=this.showUpgradeModalTarget)==null?void 0:Ri.dataset)==null?void 0:ts.assistantName},responseKind:"turbo-stream"})}}Ho(LockedAiAssistantMembershipModalController,"targets",["showUpgradeModal"]);class LockedAiModelMembershipModalController extends Controller{connect(){this.modal=new Modal(this.element),this.modal.show()}close(){this.modal.hide()}}class LogInFormController extends Controller{connect(){this.hasButtonTarget&&(this.hasEmailTarget||this.hasPasswordTarget)&&this.validateForm()}validateForm(){let ki=!1;return this.hasEmailTarget&&this.hasNewPasswordTarget&&this.hasNameTarget?setTimeout(()=>{this.validateEmail()&&this.validateNewPassword()&&this.validateName()?(ki=!0,this.buttonTarget.removeAttribute("disabled")):this.buttonTarget.setAttribute("disabled",!0)},5):this.hasEmailTarget?this.validateEmail()?(ki=!0,this.buttonTarget.removeAttribute("disabled")):this.buttonTarget.setAttribute("disabled",!0):this.hasCodeTarget?this.validateCode()?(ki=!0,this.buttonTarget.removeAttribute("disabled")):this.buttonTarget.setAttribute("disabled",!0):this.hasPasswordTarget?setTimeout(()=>{this.validatePassword()?(ki=!0,this.buttonTarget.removeAttribute("disabled")):this.buttonTarget.setAttribute("disabled",!0)},5):this.hasNewPasswordTarget&&setTimeout(()=>{this.validateNewPassword()?(ki=!0,this.buttonTarget.removeAttribute("disabled")):this.buttonTarget.setAttribute("disabled",!0)},5),ki}validateCode(){return validInputValue(this.codeTarget.value)}validateEmail(){const ki=this.emailTarget.value;return validEmail(ki)}validatePassword(){const ki=this.passwordTarget.value;return validInputValue(ki)}validateNewPassword(){return validNewPassword(this.newPasswordTarget.getAttribute("data-password-status"))}validateName(){return validInputValue(this.nameTarget.value)}}Ho(LogInFormController,"targets",["email","password","button","code","newPassword","name"]);var lottie={exports:{}};(function(module,exports){typeof navigator<"u"&&function(es,ki){module.exports=ki()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(ki){_useWebWorker=!!ki},getWebWorker=function(){return _useWebWorker},setLocationHref=function(ki){locationHref=ki},getLocationHref=function(){return locationHref};function createTag(es){return document.createElement(es)}function extendPrototype(es,ki){var Ri,ts=es.length,rs;for(Ri=0;Ri<ts;Ri+=1){rs=es[Ri].prototype;for(var is in rs)Object.prototype.hasOwnProperty.call(rs,is)&&(ki.prototype[is]=rs[is])}}function getDescriptor(es,ki){return Object.getOwnPropertyDescriptor(es,ki)}function createProxyFunction(es){function ki(){}return ki.prototype=es,ki}var audioControllerFactory=function(){function es(ki){this.audios=[],this.audioFactory=ki,this._volume=1,this._isMuted=!1}return es.prototype={addAudio:function(Ri){this.audios.push(Ri)},pause:function(){var Ri,ts=this.audios.length;for(Ri=0;Ri<ts;Ri+=1)this.audios[Ri].pause()},resume:function(){var Ri,ts=this.audios.length;for(Ri=0;Ri<ts;Ri+=1)this.audios[Ri].resume()},setRate:function(Ri){var ts,rs=this.audios.length;for(ts=0;ts<rs;ts+=1)this.audios[ts].setRate(Ri)},createAudio:function(Ri){return this.audioFactory?this.audioFactory(Ri):window.Howl?new window.Howl({src:[Ri]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(Ri){this.audioFactory=Ri},setVolume:function(Ri){this._volume=Ri,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var Ri,ts=this.audios.length;for(Ri=0;Ri<ts;Ri+=1)this.audios[Ri].volume(this._volume*(this._isMuted?0:1))}},function(){return new es}}(),createTypedArray=function(){function es(Ri,ts){var rs=0,is=[],ns;switch(Ri){case"int16":case"uint8c":ns=1;break;default:ns=1.1;break}for(rs=0;rs<ts;rs+=1)is.push(ns);return is}function ki(Ri,ts){return Ri==="float32"?new Float32Array(ts):Ri==="int16"?new Int16Array(ts):Ri==="uint8c"?new Uint8ClampedArray(ts):es(Ri,ts)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?ki:es}();function createSizedArray(es){return Array.apply(null,{length:es})}function _typeof$6(es){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(Ri){return typeof Ri}:_typeof$6=function(Ri){return Ri&&typeof Symbol=="function"&&Ri.constructor===Symbol&&Ri!==Symbol.prototype?"symbol":typeof Ri},_typeof$6(es)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var es=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],ki,Ri=es.length;for(ki=0;ki<Ri;ki+=1)BMMath[es[ki]]=Math[es[ki]]})(),BMMath.random=Math.random,BMMath.abs=function(es){var ki=_typeof$6(es);if(ki==="object"&&es.length){var Ri=createSizedArray(es.length),ts,rs=es.length;for(ts=0;ts<rs;ts+=1)Ri[ts]=Math.abs(es[ts]);return Ri}return Math.abs(es)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(es){es.style.position="absolute",es.style.top=0,es.style.left=0,es.style.display="block",es.style.transformOrigin="0 0",es.style.webkitTransformOrigin="0 0",es.style.backfaceVisibility="visible",es.style.webkitBackfaceVisibility="visible",es.style.transformStyle="preserve-3d",es.style.webkitTransformStyle="preserve-3d",es.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(es,ki,Ri,ts){this.type=es,this.currentTime=ki,this.totalTime=Ri,this.direction=ts<0?-1:1}function BMCompleteEvent(es,ki){this.type=es,this.direction=ki<0?-1:1}function BMCompleteLoopEvent(es,ki,Ri,ts){this.type=es,this.currentLoop=Ri,this.totalLoops=ki,this.direction=ts<0?-1:1}function BMSegmentStartEvent(es,ki,Ri){this.type=es,this.firstFrame=ki,this.totalFrames=Ri}function BMDestroyEvent(es,ki){this.type=es,this.target=ki}function BMRenderFrameErrorEvent(es,ki){this.type="renderFrameError",this.nativeError=es,this.currentTime=ki}function BMConfigErrorEvent(es){this.type="configError",this.nativeError=es}var createElementID=function(){var es=0;return function(){return es+=1,idPrefix$1+"__lottie_element_"+es}}();function HSVtoRGB(es,ki,Ri){var ts,rs,is,ns,ss,os,ls,cs;switch(ns=Math.floor(es*6),ss=es*6-ns,os=Ri*(1-ki),ls=Ri*(1-ss*ki),cs=Ri*(1-(1-ss)*ki),ns%6){case 0:ts=Ri,rs=cs,is=os;break;case 1:ts=ls,rs=Ri,is=os;break;case 2:ts=os,rs=Ri,is=cs;break;case 3:ts=os,rs=ls,is=Ri;break;case 4:ts=cs,rs=os,is=Ri;break;case 5:ts=Ri,rs=os,is=ls;break}return[ts,rs,is]}function RGBtoHSV(es,ki,Ri){var ts=Math.max(es,ki,Ri),rs=Math.min(es,ki,Ri),is=ts-rs,ns,ss=ts===0?0:is/ts,os=ts/255;switch(ts){case rs:ns=0;break;case es:ns=ki-Ri+is*(ki<Ri?6:0),ns/=6*is;break;case ki:ns=Ri-es+is*2,ns/=6*is;break;case Ri:ns=es-ki+is*4,ns/=6*is;break}return[ns,ss,os]}function addSaturationToRGB(es,ki){var Ri=RGBtoHSV(es[0]*255,es[1]*255,es[2]*255);return Ri[1]+=ki,Ri[1]>1?Ri[1]=1:Ri[1]<=0&&(Ri[1]=0),HSVtoRGB(Ri[0],Ri[1],Ri[2])}function addBrightnessToRGB(es,ki){var Ri=RGBtoHSV(es[0]*255,es[1]*255,es[2]*255);return Ri[2]+=ki,Ri[2]>1?Ri[2]=1:Ri[2]<0&&(Ri[2]=0),HSVtoRGB(Ri[0],Ri[1],Ri[2])}function addHueToRGB(es,ki){var Ri=RGBtoHSV(es[0]*255,es[1]*255,es[2]*255);return Ri[0]+=ki/360,Ri[0]>1?Ri[0]-=1:Ri[0]<0&&(Ri[0]+=1),HSVtoRGB(Ri[0],Ri[1],Ri[2])}var rgbToHex=function(){var es=[],ki,Ri;for(ki=0;ki<256;ki+=1)Ri=ki.toString(16),es[ki]=Ri.length===1?"0"+Ri:Ri;return function(ts,rs,is){return ts<0&&(ts=0),rs<0&&(rs=0),is<0&&(is=0),"#"+es[ts]+es[rs]+es[is]}}(),setSubframeEnabled=function(ki){subframeEnabled=!!ki},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(ki){expressionsPlugin=ki},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(ki){expressionsInterfaces=ki},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(ki){defaultCurveSegments=ki},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(ki){idPrefix$1=ki};function createNS(es){return document.createElementNS(svgNS,es)}function _typeof$5(es){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(Ri){return typeof Ri}:_typeof$5=function(Ri){return Ri&&typeof Symbol=="function"&&Ri.constructor===Symbol&&Ri!==Symbol.prototype?"symbol":typeof Ri},_typeof$5(es)}var dataManager=function(){var es=1,ki=[],Ri,ts,rs={onmessage:function(){},postMessage:function(As){Ri({data:As})}},is={postMessage:function(As){rs.onmessage({data:As})}};function ns(us){if(window.Worker&&window.Blob&&getWebWorker()){var As=new Blob(["var _workerSelf = self; self.onmessage = ",us.toString()],{type:"text/javascript"}),bs=URL.createObjectURL(As);return new Worker(bs)}return Ri=us,rs}function ss(){ts||(ts=ns(function(As){function bs(){function Cs(Ds,_s){var Ns,Ss,Us=Ds.length,Zs,ao,js,Bs;for(Ss=0;Ss<Us;Ss+=1)if(Ns=Ds[Ss],"ks"in Ns&&!Ns.completed){if(Ns.completed=!0,Ns.hasMask){var zs=Ns.masksProperties;for(ao=zs.length,Zs=0;Zs<ao;Zs+=1)if(zs[Zs].pt.k.i)ws(zs[Zs].pt.k);else for(Bs=zs[Zs].pt.k.length,js=0;js<Bs;js+=1)zs[Zs].pt.k[js].s&&ws(zs[Zs].pt.k[js].s[0]),zs[Zs].pt.k[js].e&&ws(zs[Zs].pt.k[js].e[0])}Ns.ty===0?(Ns.layers=fs(Ns.refId,_s),Cs(Ns.layers,_s)):Ns.ty===4?gs(Ns.shapes):Ns.ty===5&&Ms(Ns)}}function ps(Ds,_s){if(Ds){var Ns=0,Ss=Ds.length;for(Ns=0;Ns<Ss;Ns+=1)Ds[Ns].t===1&&(Ds[Ns].data.layers=fs(Ds[Ns].data.refId,_s),Cs(Ds[Ns].data.layers,_s))}}function ms(Ds,_s){for(var Ns=0,Ss=_s.length;Ns<Ss;){if(_s[Ns].id===Ds)return _s[Ns];Ns+=1}return null}function fs(Ds,_s){var Ns=ms(Ds,_s);return Ns?Ns.layers.__used?JSON.parse(JSON.stringify(Ns.layers)):(Ns.layers.__used=!0,Ns.layers):null}function gs(Ds){var _s,Ns=Ds.length,Ss,Us;for(_s=Ns-1;_s>=0;_s-=1)if(Ds[_s].ty==="sh")if(Ds[_s].ks.k.i)ws(Ds[_s].ks.k);else for(Us=Ds[_s].ks.k.length,Ss=0;Ss<Us;Ss+=1)Ds[_s].ks.k[Ss].s&&ws(Ds[_s].ks.k[Ss].s[0]),Ds[_s].ks.k[Ss].e&&ws(Ds[_s].ks.k[Ss].e[0]);else Ds[_s].ty==="gr"&&gs(Ds[_s].it)}function ws(Ds){var _s,Ns=Ds.i.length;for(_s=0;_s<Ns;_s+=1)Ds.i[_s][0]+=Ds.v[_s][0],Ds.i[_s][1]+=Ds.v[_s][1],Ds.o[_s][0]+=Ds.v[_s][0],Ds.o[_s][1]+=Ds.v[_s][1]}function Ts(Ds,_s){var Ns=_s?_s.split("."):[100,100,100];return Ds[0]>Ns[0]?!0:Ns[0]>Ds[0]?!1:Ds[1]>Ns[1]?!0:Ns[1]>Ds[1]?!1:Ds[2]>Ns[2]?!0:Ns[2]>Ds[2]?!1:null}var $s=function(){var Ds=[4,4,14];function _s(Ss){var Us=Ss.t.d;Ss.t.d={k:[{s:Us,t:0}]}}function Ns(Ss){var Us,Zs=Ss.length;for(Us=0;Us<Zs;Us+=1)Ss[Us].ty===5&&_s(Ss[Us])}return function(Ss){if(Ts(Ds,Ss.v)&&(Ns(Ss.layers),Ss.assets)){var Us,Zs=Ss.assets.length;for(Us=0;Us<Zs;Us+=1)Ss.assets[Us].layers&&Ns(Ss.assets[Us].layers)}}}(),Rs=function(){var Ds=[4,7,99];return function(_s){if(_s.chars&&!Ts(Ds,_s.v)){var Ns,Ss=_s.chars.length;for(Ns=0;Ns<Ss;Ns+=1){var Us=_s.chars[Ns];Us.data&&Us.data.shapes&&(gs(Us.data.shapes),Us.data.ip=0,Us.data.op=99999,Us.data.st=0,Us.data.sr=1,Us.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},_s.chars[Ns].t||(Us.data.shapes.push({ty:"no"}),Us.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),Ps=function(){var Ds=[5,7,15];function _s(Ss){var Us=Ss.t.p;typeof Us.a=="number"&&(Us.a={a:0,k:Us.a}),typeof Us.p=="number"&&(Us.p={a:0,k:Us.p}),typeof Us.r=="number"&&(Us.r={a:0,k:Us.r})}function Ns(Ss){var Us,Zs=Ss.length;for(Us=0;Us<Zs;Us+=1)Ss[Us].ty===5&&_s(Ss[Us])}return function(Ss){if(Ts(Ds,Ss.v)&&(Ns(Ss.layers),Ss.assets)){var Us,Zs=Ss.assets.length;for(Us=0;Us<Zs;Us+=1)Ss.assets[Us].layers&&Ns(Ss.assets[Us].layers)}}}(),Qs=function(){var Ds=[4,1,9];function _s(Ss){var Us,Zs=Ss.length,ao,js;for(Us=0;Us<Zs;Us+=1)if(Ss[Us].ty==="gr")_s(Ss[Us].it);else if(Ss[Us].ty==="fl"||Ss[Us].ty==="st")if(Ss[Us].c.k&&Ss[Us].c.k[0].i)for(js=Ss[Us].c.k.length,ao=0;ao<js;ao+=1)Ss[Us].c.k[ao].s&&(Ss[Us].c.k[ao].s[0]/=255,Ss[Us].c.k[ao].s[1]/=255,Ss[Us].c.k[ao].s[2]/=255,Ss[Us].c.k[ao].s[3]/=255),Ss[Us].c.k[ao].e&&(Ss[Us].c.k[ao].e[0]/=255,Ss[Us].c.k[ao].e[1]/=255,Ss[Us].c.k[ao].e[2]/=255,Ss[Us].c.k[ao].e[3]/=255);else Ss[Us].c.k[0]/=255,Ss[Us].c.k[1]/=255,Ss[Us].c.k[2]/=255,Ss[Us].c.k[3]/=255}function Ns(Ss){var Us,Zs=Ss.length;for(Us=0;Us<Zs;Us+=1)Ss[Us].ty===4&&_s(Ss[Us].shapes)}return function(Ss){if(Ts(Ds,Ss.v)&&(Ns(Ss.layers),Ss.assets)){var Us,Zs=Ss.assets.length;for(Us=0;Us<Zs;Us+=1)Ss.assets[Us].layers&&Ns(Ss.assets[Us].layers)}}}(),Fs=function(){var Ds=[4,4,18];function _s(Ss){var Us,Zs=Ss.length,ao,js;for(Us=Zs-1;Us>=0;Us-=1)if(Ss[Us].ty==="sh")if(Ss[Us].ks.k.i)Ss[Us].ks.k.c=Ss[Us].closed;else for(js=Ss[Us].ks.k.length,ao=0;ao<js;ao+=1)Ss[Us].ks.k[ao].s&&(Ss[Us].ks.k[ao].s[0].c=Ss[Us].closed),Ss[Us].ks.k[ao].e&&(Ss[Us].ks.k[ao].e[0].c=Ss[Us].closed);else Ss[Us].ty==="gr"&&_s(Ss[Us].it)}function Ns(Ss){var Us,Zs,ao=Ss.length,js,Bs,zs,so;for(Zs=0;Zs<ao;Zs+=1){if(Us=Ss[Zs],Us.hasMask){var oo=Us.masksProperties;for(Bs=oo.length,js=0;js<Bs;js+=1)if(oo[js].pt.k.i)oo[js].pt.k.c=oo[js].cl;else for(so=oo[js].pt.k.length,zs=0;zs<so;zs+=1)oo[js].pt.k[zs].s&&(oo[js].pt.k[zs].s[0].c=oo[js].cl),oo[js].pt.k[zs].e&&(oo[js].pt.k[zs].e[0].c=oo[js].cl)}Us.ty===4&&_s(Us.shapes)}}return function(Ss){if(Ts(Ds,Ss.v)&&(Ns(Ss.layers),Ss.assets)){var Us,Zs=Ss.assets.length;for(Us=0;Us<Zs;Us+=1)Ss.assets[Us].layers&&Ns(Ss.assets[Us].layers)}}}();function Is(Ds){Ds.__complete||(Qs(Ds),$s(Ds),Rs(Ds),Ps(Ds),Fs(Ds),Cs(Ds.layers,Ds.assets),ps(Ds.chars,Ds.assets),Ds.__complete=!0)}function Ms(Ds){Ds.t.a.length===0&&"m"in Ds.t.p}var Ws={};return Ws.completeData=Is,Ws.checkColors=Qs,Ws.checkChars=Rs,Ws.checkPathProperties=Ps,Ws.checkShapes=Fs,Ws.completeLayers=Cs,Ws}if(is.dataManager||(is.dataManager=bs()),is.assetLoader||(is.assetLoader=function(){function Cs(ms){var fs=ms.getResponseHeader("content-type");return fs&&ms.responseType==="json"&&fs.indexOf("json")!==-1||ms.response&&_typeof$5(ms.response)==="object"?ms.response:ms.response&&typeof ms.response=="string"?JSON.parse(ms.response):ms.responseText?JSON.parse(ms.responseText):null}function ps(ms,fs,gs,ws){var Ts,$s=new XMLHttpRequest;try{$s.responseType="json"}catch{}$s.onreadystatechange=function(){if($s.readyState===4)if($s.status===200)Ts=Cs($s),gs(Ts);else try{Ts=Cs($s),gs(Ts)}catch(Rs){ws&&ws(Rs)}};try{$s.open(["G","E","T"].join(""),ms,!0)}catch{$s.open(["G","E","T"].join(""),fs+"/"+ms,!0)}$s.send()}return{load:ps}}()),As.data.type==="loadAnimation")is.assetLoader.load(As.data.path,As.data.fullPath,function(Cs){is.dataManager.completeData(Cs),is.postMessage({id:As.data.id,payload:Cs,status:"success"})},function(){is.postMessage({id:As.data.id,status:"error"})});else if(As.data.type==="complete"){var ys=As.data.animation;is.dataManager.completeData(ys),is.postMessage({id:As.data.id,payload:ys,status:"success"})}else As.data.type==="loadData"&&is.assetLoader.load(As.data.path,As.data.fullPath,function(Cs){is.postMessage({id:As.data.id,payload:Cs,status:"success"})},function(){is.postMessage({id:As.data.id,status:"error"})})}),ts.onmessage=function(us){var As=us.data,bs=As.id,ys=ki[bs];ki[bs]=null,As.status==="success"?ys.onComplete(As.payload):ys.onError&&ys.onError()})}function os(us,As){es+=1;var bs="processId_"+es;return ki[bs]={onComplete:us,onError:As},bs}function ls(us,As,bs){ss();var ys=os(As,bs);ts.postMessage({type:"loadAnimation",path:us,fullPath:window.location.origin+window.location.pathname,id:ys})}function cs(us,As,bs){ss();var ys=os(As,bs);ts.postMessage({type:"loadData",path:us,fullPath:window.location.origin+window.location.pathname,id:ys})}function hs(us,As,bs){ss();var ys=os(As,bs);ts.postMessage({type:"complete",animation:us,id:ys})}return{loadAnimation:ls,loadData:cs,completeAnimation:hs}}(),ImagePreloader=function(){var es=function(){var ps=createTag("canvas");ps.width=1,ps.height=1;var ms=ps.getContext("2d");return ms.fillStyle="rgba(0,0,0,0)",ms.fillRect(0,0,1,1),ps}();function ki(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function Ri(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function ts(ps,ms,fs){var gs="";if(ps.e)gs=ps.p;else if(ms){var ws=ps.p;ws.indexOf("images/")!==-1&&(ws=ws.split("/")[1]),gs=ms+ws}else gs=fs,gs+=ps.u?ps.u:"",gs+=ps.p;return gs}function rs(ps){var ms=0,fs=setInterval((function(){var gs=ps.getBBox();(gs.width||ms>500)&&(this._imageLoaded(),clearInterval(fs)),ms+=1}).bind(this),50)}function is(ps){var ms=ts(ps,this.assetsPath,this.path),fs=createNS("image");isSafari?this.testImageLoaded(fs):fs.addEventListener("load",this._imageLoaded,!1),fs.addEventListener("error",(function(){gs.img=es,this._imageLoaded()}).bind(this),!1),fs.setAttributeNS("http://www.w3.org/1999/xlink","href",ms),this._elementHelper.append?this._elementHelper.append(fs):this._elementHelper.appendChild(fs);var gs={img:fs,assetData:ps};return gs}function ns(ps){var ms=ts(ps,this.assetsPath,this.path),fs=createTag("img");fs.crossOrigin="anonymous",fs.addEventListener("load",this._imageLoaded,!1),fs.addEventListener("error",(function(){gs.img=es,this._imageLoaded()}).bind(this),!1),fs.src=ms;var gs={img:fs,assetData:ps};return gs}function ss(ps){var ms={assetData:ps},fs=ts(ps,this.assetsPath,this.path);return dataManager.loadData(fs,(function(gs){ms.img=gs,this._footageLoaded()}).bind(this),(function(){ms.img={},this._footageLoaded()}).bind(this)),ms}function os(ps,ms){this.imagesLoadedCb=ms;var fs,gs=ps.length;for(fs=0;fs<gs;fs+=1)ps[fs].layers||(!ps[fs].t||ps[fs].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(ps[fs]))):ps[fs].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(ps[fs]))))}function ls(ps){this.path=ps||""}function cs(ps){this.assetsPath=ps||""}function hs(ps){for(var ms=0,fs=this.images.length;ms<fs;){if(this.images[ms].assetData===ps)return this.images[ms].img;ms+=1}return null}function us(){this.imagesLoadedCb=null,this.images.length=0}function As(){return this.totalImages===this.loadedAssets}function bs(){return this.totalFootages===this.loadedFootagesCount}function ys(ps,ms){ps==="svg"?(this._elementHelper=ms,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function Cs(){this._imageLoaded=ki.bind(this),this._footageLoaded=Ri.bind(this),this.testImageLoaded=rs.bind(this),this.createFootageData=ss.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return Cs.prototype={loadAssets:os,setAssetsPath:cs,setPath:ls,loadedImages:As,loadedFootages:bs,destroy:us,getAsset:hs,createImgData:ns,createImageData:is,imageLoaded:ki,footageLoaded:Ri,setCacheType:ys},Cs}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(ki,Ri){if(this._cbs[ki])for(var ts=this._cbs[ki],rs=0;rs<ts.length;rs+=1)ts[rs](Ri)},addEventListener:function(ki,Ri){return this._cbs[ki]||(this._cbs[ki]=[]),this._cbs[ki].push(Ri),(function(){this.removeEventListener(ki,Ri)}).bind(this)},removeEventListener:function(ki,Ri){if(!Ri)this._cbs[ki]=null;else if(this._cbs[ki]){for(var ts=0,rs=this._cbs[ki].length;ts<rs;)this._cbs[ki][ts]===Ri&&(this._cbs[ki].splice(ts,1),ts-=1,rs-=1),ts+=1;this._cbs[ki].length||(this._cbs[ki]=null)}}};var markerParser=function(){function es(ki){for(var Ri=ki.split(`\r
`),ts={},rs,is=0,ns=0;ns<Ri.length;ns+=1)rs=Ri[ns].split(":"),rs.length===2&&(ts[rs[0]]=rs[1].trim(),is+=1);if(is===0)throw new Error;return ts}return function(ki){for(var Ri=[],ts=0;ts<ki.length;ts+=1){var rs=ki[ts],is={time:rs.tm,duration:rs.dr};try{is.payload=JSON.parse(ki[ts].cm)}catch{try{is.payload=es(ki[ts].cm)}catch{is.payload={name:ki[ts].cm}}}Ri.push(is)}return Ri}}(),ProjectInterface=function(){function es(ki){this.compositions.push(ki)}return function(){function ki(Ri){for(var ts=0,rs=this.compositions.length;ts<rs;){if(this.compositions[ts].data&&this.compositions[ts].data.nm===Ri)return this.compositions[ts].prepareFrame&&this.compositions[ts].data.xt&&this.compositions[ts].prepareFrame(this.currentFrame),this.compositions[ts].compInterface;ts+=1}return null}return ki.compositions=[],ki.currentFrame=0,ki.registerComposition=es,ki}}(),renderers={},registerRenderer=function(ki,Ri){renderers[ki]=Ri};function getRenderer(es){return renderers[es]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var es in renderers)if(renderers[es])return es;return""}function _typeof$4(es){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(Ri){return typeof Ri}:_typeof$4=function(Ri){return Ri&&typeof Symbol=="function"&&Ri.constructor===Symbol&&Ri!==Symbol.prototype?"symbol":typeof Ri},_typeof$4(es)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(es){(es.wrapper||es.container)&&(this.wrapper=es.wrapper||es.container);var ki="svg";es.animType?ki=es.animType:es.renderer&&(ki=es.renderer);var Ri=getRenderer(ki);this.renderer=new Ri(this,es.rendererSettings),this.imagePreloader.setCacheType(ki,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=ki,es.loop===""||es.loop===null||es.loop===void 0||es.loop===!0?this.loop=!0:es.loop===!1?this.loop=!1:this.loop=parseInt(es.loop,10),this.autoplay="autoplay"in es?es.autoplay:!0,this.name=es.name?es.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(es,"autoloadSegments")?es.autoloadSegments:!0,this.assetsPath=es.assetsPath,this.initialSegment=es.initialSegment,es.audioFactory&&this.audioController.setAudioFactory(es.audioFactory),es.animationData?this.setupAnimation(es.animationData):es.path&&(es.path.lastIndexOf("\\")!==-1?this.path=es.path.substr(0,es.path.lastIndexOf("\\")+1):this.path=es.path.substr(0,es.path.lastIndexOf("/")+1),this.fileName=es.path.substr(es.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(es.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(es){dataManager.completeAnimation(es,this.configAnimation)},AnimationItem.prototype.setData=function(es,ki){ki&&_typeof$4(ki)!=="object"&&(ki=JSON.parse(ki));var Ri={wrapper:es,animationData:ki},ts=es.attributes;Ri.path=ts.getNamedItem("data-animation-path")?ts.getNamedItem("data-animation-path").value:ts.getNamedItem("data-bm-path")?ts.getNamedItem("data-bm-path").value:ts.getNamedItem("bm-path")?ts.getNamedItem("bm-path").value:"",Ri.animType=ts.getNamedItem("data-anim-type")?ts.getNamedItem("data-anim-type").value:ts.getNamedItem("data-bm-type")?ts.getNamedItem("data-bm-type").value:ts.getNamedItem("bm-type")?ts.getNamedItem("bm-type").value:ts.getNamedItem("data-bm-renderer")?ts.getNamedItem("data-bm-renderer").value:ts.getNamedItem("bm-renderer")?ts.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var rs=ts.getNamedItem("data-anim-loop")?ts.getNamedItem("data-anim-loop").value:ts.getNamedItem("data-bm-loop")?ts.getNamedItem("data-bm-loop").value:ts.getNamedItem("bm-loop")?ts.getNamedItem("bm-loop").value:"";rs==="false"?Ri.loop=!1:rs==="true"?Ri.loop=!0:rs!==""&&(Ri.loop=parseInt(rs,10));var is=ts.getNamedItem("data-anim-autoplay")?ts.getNamedItem("data-anim-autoplay").value:ts.getNamedItem("data-bm-autoplay")?ts.getNamedItem("data-bm-autoplay").value:ts.getNamedItem("bm-autoplay")?ts.getNamedItem("bm-autoplay").value:!0;Ri.autoplay=is!=="false",Ri.name=ts.getNamedItem("data-name")?ts.getNamedItem("data-name").value:ts.getNamedItem("data-bm-name")?ts.getNamedItem("data-bm-name").value:ts.getNamedItem("bm-name")?ts.getNamedItem("bm-name").value:"";var ns=ts.getNamedItem("data-anim-prerender")?ts.getNamedItem("data-anim-prerender").value:ts.getNamedItem("data-bm-prerender")?ts.getNamedItem("data-bm-prerender").value:ts.getNamedItem("bm-prerender")?ts.getNamedItem("bm-prerender").value:"";ns==="false"&&(Ri.prerender=!1),Ri.path?this.setParams(Ri):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(es){es.op>this.animationData.op&&(this.animationData.op=es.op,this.totalFrames=Math.floor(es.op-this.animationData.ip));var ki=this.animationData.layers,Ri,ts=ki.length,rs=es.layers,is,ns=rs.length;for(is=0;is<ns;is+=1)for(Ri=0;Ri<ts;){if(ki[Ri].id===rs[is].id){ki[Ri]=rs[is];break}Ri+=1}if((es.chars||es.fonts)&&(this.renderer.globalData.fontManager.addChars(es.chars),this.renderer.globalData.fontManager.addFonts(es.fonts,this.renderer.globalData.defs)),es.assets)for(ts=es.assets.length,Ri=0;Ri<ts;Ri+=1)this.animationData.assets.push(es.assets[Ri]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(es){this.animationData=es;var ki=getExpressionsPlugin();ki&&ki.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var es=this.animationData.segments;if(!es||es.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var ki=es.shift();this.timeCompleted=ki.time*this.frameRate;var Ri=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(Ri,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var es=this.animationData.segments;es||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(es){if(this.renderer)try{this.animationData=es,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(es),es.assets||(es.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(es.assets),this.markers=markerParser(es.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(ki){this.triggerConfigError(ki)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var es=getExpressionsPlugin();es&&es.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(es,ki){var Ri=typeof es=="number"?es:void 0,ts=typeof ki=="number"?ki:void 0;this.renderer.updateContainerSize(Ri,ts)},AnimationItem.prototype.setSubframe=function(es){this.isSubframeEnabled=!!es},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(es){this.triggerRenderFrameError(es)}},AnimationItem.prototype.play=function(es){es&&this.name!==es||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(es){es&&this.name!==es||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(es){es&&this.name!==es||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(es){es&&this.name!==es||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(es){for(var ki,Ri=0;Ri<this.markers.length;Ri+=1)if(ki=this.markers[Ri],ki.payload&&ki.payload.name===es)return ki;return null},AnimationItem.prototype.goToAndStop=function(es,ki,Ri){if(!(Ri&&this.name!==Ri)){var ts=Number(es);if(isNaN(ts)){var rs=this.getMarkerData(es);rs&&this.goToAndStop(rs.time,!0)}else ki?this.setCurrentRawFrameValue(es):this.setCurrentRawFrameValue(es*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(es,ki,Ri){if(!(Ri&&this.name!==Ri)){var ts=Number(es);if(isNaN(ts)){var rs=this.getMarkerData(es);rs&&(rs.duration?this.playSegments([rs.time,rs.time+rs.duration],!0):this.goToAndStop(rs.time,!0))}else this.goToAndStop(ts,ki,Ri);this.play()}},AnimationItem.prototype.advanceTime=function(es){if(!(this.isPaused===!0||this.isLoaded===!1)){var ki=this.currentRawFrame+es*this.frameModifier,Ri=!1;ki>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(ki>this.totalFrames?ki%this.totalFrames:0)||(Ri=!0,ki=this.totalFrames-1):ki>=this.totalFrames?(this.playCount+=1,this.checkSegments(ki%this.totalFrames)||(this.setCurrentRawFrameValue(ki%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(ki):ki<0?this.checkSegments(ki%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+ki%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(Ri=!0,ki=0)):this.setCurrentRawFrameValue(ki),Ri&&(this.setCurrentRawFrameValue(ki),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(es,ki){this.playCount=0,es[1]<es[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=es[0]-es[1],this.timeCompleted=this.totalFrames,this.firstFrame=es[1],this.setCurrentRawFrameValue(this.totalFrames-.001-ki)):es[1]>es[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=es[1]-es[0],this.timeCompleted=this.totalFrames,this.firstFrame=es[0],this.setCurrentRawFrameValue(.001+ki)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(es,ki){var Ri=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<es?Ri=es:this.currentRawFrame+this.firstFrame>ki&&(Ri=ki-es)),this.firstFrame=es,this.totalFrames=ki-es,this.timeCompleted=this.totalFrames,Ri!==-1&&this.goToAndStop(Ri,!0)},AnimationItem.prototype.playSegments=function(es,ki){if(ki&&(this.segments.length=0),_typeof$4(es[0])==="object"){var Ri,ts=es.length;for(Ri=0;Ri<ts;Ri+=1)this.segments.push(es[Ri])}else this.segments.push(es);this.segments.length&&ki&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(es){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),es&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(es){return this.segments.length?(this.adjustSegment(this.segments.shift(),es),!0):!1},AnimationItem.prototype.destroy=function(es){es&&this.name!==es||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(es){this.currentRawFrame=es,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(es){this.playSpeed=es,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(es){this.playDirection=es<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(es){this.loop=es},AnimationItem.prototype.setVolume=function(es,ki){ki&&this.name!==ki||this.audioController.setVolume(es)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(es){es&&this.name!==es||this.audioController.mute()},AnimationItem.prototype.unmute=function(es){es&&this.name!==es||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(es){var ki="";if(es.e)ki=es.p;else if(this.assetsPath){var Ri=es.p;Ri.indexOf("images/")!==-1&&(Ri=Ri.split("/")[1]),ki=this.assetsPath+Ri}else ki=this.path,ki+=es.u?es.u:"",ki+=es.p;return ki},AnimationItem.prototype.getAssetData=function(es){for(var ki=0,Ri=this.assets.length;ki<Ri;){if(es===this.assets[ki].id)return this.assets[ki];ki+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(es){return es?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(es,ki,Ri){try{var ts=this.renderer.getElementByPath(es);ts.updateDocumentData(ki,Ri)}catch{}},AnimationItem.prototype.trigger=function(es){if(this._cbs&&this._cbs[es])switch(es){case"enterFrame":this.triggerEvent(es,new BMEnterFrameEvent(es,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(es,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(es,new BMCompleteLoopEvent(es,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(es,new BMCompleteEvent(es,this.frameMult));break;case"segmentStart":this.triggerEvent(es,new BMSegmentStartEvent(es,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(es,new BMDestroyEvent(es,this));break;default:this.triggerEvent(es)}es==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(es,this.currentFrame,this.totalFrames,this.frameMult)),es==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(es,this.loop,this.playCount,this.frameMult)),es==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(es,this.frameMult)),es==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(es,this.firstFrame,this.totalFrames)),es==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(es,this))},AnimationItem.prototype.triggerRenderFrameError=function(es){var ki=new BMRenderFrameErrorEvent(es,this.currentFrame);this.triggerEvent("error",ki),this.onError&&this.onError.call(this,ki)},AnimationItem.prototype.triggerConfigError=function(es){var ki=new BMConfigErrorEvent(es,this.currentFrame);this.triggerEvent("error",ki),this.onError&&this.onError.call(this,ki)};var animationManager=function(){var es={},ki=[],Ri=0,ts=0,rs=0,is=!0,ns=!1;function ss(_s){for(var Ns=0,Ss=_s.target;Ns<ts;)ki[Ns].animation===Ss&&(ki.splice(Ns,1),Ns-=1,ts-=1,Ss.isPaused||hs()),Ns+=1}function os(_s,Ns){if(!_s)return null;for(var Ss=0;Ss<ts;){if(ki[Ss].elem===_s&&ki[Ss].elem!==null)return ki[Ss].animation;Ss+=1}var Us=new AnimationItem;return us(Us,_s),Us.setData(_s,Ns),Us}function ls(){var _s,Ns=ki.length,Ss=[];for(_s=0;_s<Ns;_s+=1)Ss.push(ki[_s].animation);return Ss}function cs(){rs+=1,Qs()}function hs(){rs-=1}function us(_s,Ns){_s.addEventListener("destroy",ss),_s.addEventListener("_active",cs),_s.addEventListener("_idle",hs),ki.push({elem:Ns,animation:_s}),ts+=1}function As(_s){var Ns=new AnimationItem;return us(Ns,null),Ns.setParams(_s),Ns}function bs(_s,Ns){var Ss;for(Ss=0;Ss<ts;Ss+=1)ki[Ss].animation.setSpeed(_s,Ns)}function ys(_s,Ns){var Ss;for(Ss=0;Ss<ts;Ss+=1)ki[Ss].animation.setDirection(_s,Ns)}function Cs(_s){var Ns;for(Ns=0;Ns<ts;Ns+=1)ki[Ns].animation.play(_s)}function ps(_s){var Ns=_s-Ri,Ss;for(Ss=0;Ss<ts;Ss+=1)ki[Ss].animation.advanceTime(Ns);Ri=_s,rs&&!ns?window.requestAnimationFrame(ps):is=!0}function ms(_s){Ri=_s,window.requestAnimationFrame(ps)}function fs(_s){var Ns;for(Ns=0;Ns<ts;Ns+=1)ki[Ns].animation.pause(_s)}function gs(_s,Ns,Ss){var Us;for(Us=0;Us<ts;Us+=1)ki[Us].animation.goToAndStop(_s,Ns,Ss)}function ws(_s){var Ns;for(Ns=0;Ns<ts;Ns+=1)ki[Ns].animation.stop(_s)}function Ts(_s){var Ns;for(Ns=0;Ns<ts;Ns+=1)ki[Ns].animation.togglePause(_s)}function $s(_s){var Ns;for(Ns=ts-1;Ns>=0;Ns-=1)ki[Ns].animation.destroy(_s)}function Rs(_s,Ns,Ss){var Us=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Zs,ao=Us.length;for(Zs=0;Zs<ao;Zs+=1)Ss&&Us[Zs].setAttribute("data-bm-type",Ss),os(Us[Zs],_s);if(Ns&&ao===0){Ss||(Ss="svg");var js=document.getElementsByTagName("body")[0];js.innerText="";var Bs=createTag("div");Bs.style.width="100%",Bs.style.height="100%",Bs.setAttribute("data-bm-type",Ss),js.appendChild(Bs),os(Bs,_s)}}function Ps(){var _s;for(_s=0;_s<ts;_s+=1)ki[_s].animation.resize()}function Qs(){!ns&&rs&&is&&(window.requestAnimationFrame(ms),is=!1)}function Fs(){ns=!0}function Is(){ns=!1,Qs()}function Ms(_s,Ns){var Ss;for(Ss=0;Ss<ts;Ss+=1)ki[Ss].animation.setVolume(_s,Ns)}function Ws(_s){var Ns;for(Ns=0;Ns<ts;Ns+=1)ki[Ns].animation.mute(_s)}function Ds(_s){var Ns;for(Ns=0;Ns<ts;Ns+=1)ki[Ns].animation.unmute(_s)}return es.registerAnimation=os,es.loadAnimation=As,es.setSpeed=bs,es.setDirection=ys,es.play=Cs,es.pause=fs,es.stop=ws,es.togglePause=Ts,es.searchAnimations=Rs,es.resize=Ps,es.goToAndStop=gs,es.destroy=$s,es.freeze=Fs,es.unfreeze=Is,es.setVolume=Ms,es.mute=Ws,es.unmute=Ds,es.getRegisteredAnimations=ls,es}(),BezierFactory=function(){var es={};es.getBezierEasing=Ri;var ki={};function Ri(ms,fs,gs,ws,Ts){var $s=Ts||("bez_"+ms+"_"+fs+"_"+gs+"_"+ws).replace(/\./g,"p");if(ki[$s])return ki[$s];var Rs=new ps([ms,fs,gs,ws]);return ki[$s]=Rs,Rs}var ts=4,rs=.001,is=1e-7,ns=10,ss=11,os=1/(ss-1),ls=typeof Float32Array=="function";function cs(ms,fs){return 1-3*fs+3*ms}function hs(ms,fs){return 3*fs-6*ms}function us(ms){return 3*ms}function As(ms,fs,gs){return((cs(fs,gs)*ms+hs(fs,gs))*ms+us(fs))*ms}function bs(ms,fs,gs){return 3*cs(fs,gs)*ms*ms+2*hs(fs,gs)*ms+us(fs)}function ys(ms,fs,gs,ws,Ts){var $s,Rs,Ps=0;do Rs=fs+(gs-fs)/2,$s=As(Rs,ws,Ts)-ms,$s>0?gs=Rs:fs=Rs;while(Math.abs($s)>is&&++Ps<ns);return Rs}function Cs(ms,fs,gs,ws){for(var Ts=0;Ts<ts;++Ts){var $s=bs(fs,gs,ws);if($s===0)return fs;var Rs=As(fs,gs,ws)-ms;fs-=Rs/$s}return fs}function ps(ms){this._p=ms,this._mSampleValues=ls?new Float32Array(ss):new Array(ss),this._precomputed=!1,this.get=this.get.bind(this)}return ps.prototype={get:function(fs){var gs=this._p[0],ws=this._p[1],Ts=this._p[2],$s=this._p[3];return this._precomputed||this._precompute(),gs===ws&&Ts===$s?fs:fs===0?0:fs===1?1:As(this._getTForX(fs),ws,$s)},_precompute:function(){var fs=this._p[0],gs=this._p[1],ws=this._p[2],Ts=this._p[3];this._precomputed=!0,(fs!==gs||ws!==Ts)&&this._calcSampleValues()},_calcSampleValues:function(){for(var fs=this._p[0],gs=this._p[2],ws=0;ws<ss;++ws)this._mSampleValues[ws]=As(ws*os,fs,gs)},_getTForX:function(fs){for(var gs=this._p[0],ws=this._p[2],Ts=this._mSampleValues,$s=0,Rs=1,Ps=ss-1;Rs!==Ps&&Ts[Rs]<=fs;++Rs)$s+=os;--Rs;var Qs=(fs-Ts[Rs])/(Ts[Rs+1]-Ts[Rs]),Fs=$s+Qs*os,Is=bs(Fs,gs,ws);return Is>=rs?Cs(fs,Fs,gs,ws):Is===0?Fs:ys(fs,$s,$s+os,gs,ws)}},es}(),pooling=function(){function es(ki){return ki.concat(createSizedArray(ki.length))}return{double:es}}(),poolFactory=function(){return function(es,ki,Ri){var ts=0,rs=es,is=createSizedArray(rs),ns={newElement:ss,release:os};function ss(){var ls;return ts?(ts-=1,ls=is[ts]):ls=ki(),ls}function os(ls){ts===rs&&(is=pooling.double(is),rs*=2),Ri&&Ri(ls),is[ts]=ls,ts+=1}return ns}}(),bezierLengthPool=function(){function es(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,es)}(),segmentsLengthPool=function(){function es(){return{lengths:[],totalLength:0}}function ki(Ri){var ts,rs=Ri.lengths.length;for(ts=0;ts<rs;ts+=1)bezierLengthPool.release(Ri.lengths[ts]);Ri.lengths.length=0}return poolFactory(8,es,ki)}();function bezFunction(){var es=Math;function ki(us,As,bs,ys,Cs,ps){var ms=us*ys+As*Cs+bs*ps-Cs*ys-ps*us-bs*As;return ms>-.001&&ms<.001}function Ri(us,As,bs,ys,Cs,ps,ms,fs,gs){if(bs===0&&ps===0&&gs===0)return ki(us,As,ys,Cs,ms,fs);var ws=es.sqrt(es.pow(ys-us,2)+es.pow(Cs-As,2)+es.pow(ps-bs,2)),Ts=es.sqrt(es.pow(ms-us,2)+es.pow(fs-As,2)+es.pow(gs-bs,2)),$s=es.sqrt(es.pow(ms-ys,2)+es.pow(fs-Cs,2)+es.pow(gs-ps,2)),Rs;return ws>Ts?ws>$s?Rs=ws-Ts-$s:Rs=$s-Ts-ws:$s>Ts?Rs=$s-Ts-ws:Rs=Ts-ws-$s,Rs>-1e-4&&Rs<1e-4}var ts=function(){return function(us,As,bs,ys){var Cs=getDefaultCurveSegments(),ps,ms,fs,gs,ws,Ts=0,$s,Rs=[],Ps=[],Qs=bezierLengthPool.newElement();for(fs=bs.length,ps=0;ps<Cs;ps+=1){for(ws=ps/(Cs-1),$s=0,ms=0;ms<fs;ms+=1)gs=bmPow(1-ws,3)*us[ms]+3*bmPow(1-ws,2)*ws*bs[ms]+3*(1-ws)*bmPow(ws,2)*ys[ms]+bmPow(ws,3)*As[ms],Rs[ms]=gs,Ps[ms]!==null&&($s+=bmPow(Rs[ms]-Ps[ms],2)),Ps[ms]=Rs[ms];$s&&($s=bmSqrt($s),Ts+=$s),Qs.percents[ps]=ws,Qs.lengths[ps]=Ts}return Qs.addedLength=Ts,Qs}}();function rs(us){var As=segmentsLengthPool.newElement(),bs=us.c,ys=us.v,Cs=us.o,ps=us.i,ms,fs=us._length,gs=As.lengths,ws=0;for(ms=0;ms<fs-1;ms+=1)gs[ms]=ts(ys[ms],ys[ms+1],Cs[ms],ps[ms+1]),ws+=gs[ms].addedLength;return bs&&fs&&(gs[ms]=ts(ys[ms],ys[0],Cs[ms],ps[0]),ws+=gs[ms].addedLength),As.totalLength=ws,As}function is(us){this.segmentLength=0,this.points=new Array(us)}function ns(us,As){this.partialLength=us,this.point=As}var ss=function(){var us={};return function(As,bs,ys,Cs){var ps=(As[0]+"_"+As[1]+"_"+bs[0]+"_"+bs[1]+"_"+ys[0]+"_"+ys[1]+"_"+Cs[0]+"_"+Cs[1]).replace(/\./g,"p");if(!us[ps]){var ms=getDefaultCurveSegments(),fs,gs,ws,Ts,$s,Rs=0,Ps,Qs,Fs=null;As.length===2&&(As[0]!==bs[0]||As[1]!==bs[1])&&ki(As[0],As[1],bs[0],bs[1],As[0]+ys[0],As[1]+ys[1])&&ki(As[0],As[1],bs[0],bs[1],bs[0]+Cs[0],bs[1]+Cs[1])&&(ms=2);var Is=new is(ms);for(ws=ys.length,fs=0;fs<ms;fs+=1){for(Qs=createSizedArray(ws),$s=fs/(ms-1),Ps=0,gs=0;gs<ws;gs+=1)Ts=bmPow(1-$s,3)*As[gs]+3*bmPow(1-$s,2)*$s*(As[gs]+ys[gs])+3*(1-$s)*bmPow($s,2)*(bs[gs]+Cs[gs])+bmPow($s,3)*bs[gs],Qs[gs]=Ts,Fs!==null&&(Ps+=bmPow(Qs[gs]-Fs[gs],2));Ps=bmSqrt(Ps),Rs+=Ps,Is.points[fs]=new ns(Ps,Qs),Fs=Qs}Is.segmentLength=Rs,us[ps]=Is}return us[ps]}}();function os(us,As){var bs=As.percents,ys=As.lengths,Cs=bs.length,ps=bmFloor((Cs-1)*us),ms=us*As.addedLength,fs=0;if(ps===Cs-1||ps===0||ms===ys[ps])return bs[ps];for(var gs=ys[ps]>ms?-1:1,ws=!0;ws;)if(ys[ps]<=ms&&ys[ps+1]>ms?(fs=(ms-ys[ps])/(ys[ps+1]-ys[ps]),ws=!1):ps+=gs,ps<0||ps>=Cs-1){if(ps===Cs-1)return bs[ps];ws=!1}return bs[ps]+(bs[ps+1]-bs[ps])*fs}function ls(us,As,bs,ys,Cs,ps){var ms=os(Cs,ps),fs=1-ms,gs=es.round((fs*fs*fs*us[0]+(ms*fs*fs+fs*ms*fs+fs*fs*ms)*bs[0]+(ms*ms*fs+fs*ms*ms+ms*fs*ms)*ys[0]+ms*ms*ms*As[0])*1e3)/1e3,ws=es.round((fs*fs*fs*us[1]+(ms*fs*fs+fs*ms*fs+fs*fs*ms)*bs[1]+(ms*ms*fs+fs*ms*ms+ms*fs*ms)*ys[1]+ms*ms*ms*As[1])*1e3)/1e3;return[gs,ws]}var cs=createTypedArray("float32",8);function hs(us,As,bs,ys,Cs,ps,ms){Cs<0?Cs=0:Cs>1&&(Cs=1);var fs=os(Cs,ms);ps=ps>1?1:ps;var gs=os(ps,ms),ws,Ts=us.length,$s=1-fs,Rs=1-gs,Ps=$s*$s*$s,Qs=fs*$s*$s*3,Fs=fs*fs*$s*3,Is=fs*fs*fs,Ms=$s*$s*Rs,Ws=fs*$s*Rs+$s*fs*Rs+$s*$s*gs,Ds=fs*fs*Rs+$s*fs*gs+fs*$s*gs,_s=fs*fs*gs,Ns=$s*Rs*Rs,Ss=fs*Rs*Rs+$s*gs*Rs+$s*Rs*gs,Us=fs*gs*Rs+$s*gs*gs+fs*Rs*gs,Zs=fs*gs*gs,ao=Rs*Rs*Rs,js=gs*Rs*Rs+Rs*gs*Rs+Rs*Rs*gs,Bs=gs*gs*Rs+Rs*gs*gs+gs*Rs*gs,zs=gs*gs*gs;for(ws=0;ws<Ts;ws+=1)cs[ws*4]=es.round((Ps*us[ws]+Qs*bs[ws]+Fs*ys[ws]+Is*As[ws])*1e3)/1e3,cs[ws*4+1]=es.round((Ms*us[ws]+Ws*bs[ws]+Ds*ys[ws]+_s*As[ws])*1e3)/1e3,cs[ws*4+2]=es.round((Ns*us[ws]+Ss*bs[ws]+Us*ys[ws]+Zs*As[ws])*1e3)/1e3,cs[ws*4+3]=es.round((ao*us[ws]+js*bs[ws]+Bs*ys[ws]+zs*As[ws])*1e3)/1e3;return cs}return{getSegmentsLength:rs,getNewSegment:hs,getPointInSegment:ls,buildBezierData:ss,pointOnLine2D:ki,pointOnLine3D:Ri}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(es,ki){var Ri=this.offsetTime,ts;this.propType==="multidimensional"&&(ts=createTypedArray("float32",this.pv.length));for(var rs=ki.lastIndex,is=rs,ns=this.keyframes.length-1,ss=!0,os,ls,cs;ss;){if(os=this.keyframes[is],ls=this.keyframes[is+1],is===ns-1&&es>=ls.t-Ri){os.h&&(os=ls),rs=0;break}if(ls.t-Ri>es){rs=is;break}is<ns-1?is+=1:(rs=0,ss=!1)}cs=this.keyframesMetadata[is]||{};var hs,us,As,bs,ys,Cs,ps=ls.t-Ri,ms=os.t-Ri,fs;if(os.to){cs.bezierData||(cs.bezierData=bez.buildBezierData(os.s,ls.s||os.e,os.to,os.ti));var gs=cs.bezierData;if(es>=ps||es<ms){var ws=es>=ps?gs.points.length-1:0;for(us=gs.points[ws].point.length,hs=0;hs<us;hs+=1)ts[hs]=gs.points[ws].point[hs]}else{cs.__fnct?Cs=cs.__fnct:(Cs=BezierFactory.getBezierEasing(os.o.x,os.o.y,os.i.x,os.i.y,os.n).get,cs.__fnct=Cs),As=Cs((es-ms)/(ps-ms));var Ts=gs.segmentLength*As,$s,Rs=ki.lastFrame<es&&ki._lastKeyframeIndex===is?ki._lastAddedLength:0;for(ys=ki.lastFrame<es&&ki._lastKeyframeIndex===is?ki._lastPoint:0,ss=!0,bs=gs.points.length;ss;){if(Rs+=gs.points[ys].partialLength,Ts===0||As===0||ys===gs.points.length-1){for(us=gs.points[ys].point.length,hs=0;hs<us;hs+=1)ts[hs]=gs.points[ys].point[hs];break}else if(Ts>=Rs&&Ts<Rs+gs.points[ys+1].partialLength){for($s=(Ts-Rs)/gs.points[ys+1].partialLength,us=gs.points[ys].point.length,hs=0;hs<us;hs+=1)ts[hs]=gs.points[ys].point[hs]+(gs.points[ys+1].point[hs]-gs.points[ys].point[hs])*$s;break}ys<bs-1?ys+=1:ss=!1}ki._lastPoint=ys,ki._lastAddedLength=Rs-gs.points[ys].partialLength,ki._lastKeyframeIndex=is}}else{var Ps,Qs,Fs,Is,Ms;if(ns=os.s.length,fs=ls.s||os.e,this.sh&&os.h!==1)if(es>=ps)ts[0]=fs[0],ts[1]=fs[1],ts[2]=fs[2];else if(es<=ms)ts[0]=os.s[0],ts[1]=os.s[1],ts[2]=os.s[2];else{var Ws=createQuaternion(os.s),Ds=createQuaternion(fs),_s=(es-ms)/(ps-ms);quaternionToEuler(ts,slerp(Ws,Ds,_s))}else for(is=0;is<ns;is+=1)os.h!==1&&(es>=ps?As=1:es<ms?As=0:(os.o.x.constructor===Array?(cs.__fnct||(cs.__fnct=[]),cs.__fnct[is]?Cs=cs.__fnct[is]:(Ps=os.o.x[is]===void 0?os.o.x[0]:os.o.x[is],Qs=os.o.y[is]===void 0?os.o.y[0]:os.o.y[is],Fs=os.i.x[is]===void 0?os.i.x[0]:os.i.x[is],Is=os.i.y[is]===void 0?os.i.y[0]:os.i.y[is],Cs=BezierFactory.getBezierEasing(Ps,Qs,Fs,Is).get,cs.__fnct[is]=Cs)):cs.__fnct?Cs=cs.__fnct:(Ps=os.o.x,Qs=os.o.y,Fs=os.i.x,Is=os.i.y,Cs=BezierFactory.getBezierEasing(Ps,Qs,Fs,Is).get,os.keyframeMetadata=Cs),As=Cs((es-ms)/(ps-ms)))),fs=ls.s||os.e,Ms=os.h===1?os.s[is]:os.s[is]+(fs[is]-os.s[is])*As,this.propType==="multidimensional"?ts[is]=Ms:ts=Ms}return ki.lastIndex=rs,ts}function slerp(es,ki,Ri){var ts=[],rs=es[0],is=es[1],ns=es[2],ss=es[3],os=ki[0],ls=ki[1],cs=ki[2],hs=ki[3],us,As,bs,ys,Cs;return As=rs*os+is*ls+ns*cs+ss*hs,As<0&&(As=-As,os=-os,ls=-ls,cs=-cs,hs=-hs),1-As>1e-6?(us=Math.acos(As),bs=Math.sin(us),ys=Math.sin((1-Ri)*us)/bs,Cs=Math.sin(Ri*us)/bs):(ys=1-Ri,Cs=Ri),ts[0]=ys*rs+Cs*os,ts[1]=ys*is+Cs*ls,ts[2]=ys*ns+Cs*cs,ts[3]=ys*ss+Cs*hs,ts}function quaternionToEuler(es,ki){var Ri=ki[0],ts=ki[1],rs=ki[2],is=ki[3],ns=Math.atan2(2*ts*is-2*Ri*rs,1-2*ts*ts-2*rs*rs),ss=Math.asin(2*Ri*ts+2*rs*is),os=Math.atan2(2*Ri*is-2*ts*rs,1-2*Ri*Ri-2*rs*rs);es[0]=ns/degToRads,es[1]=ss/degToRads,es[2]=os/degToRads}function createQuaternion(es){var ki=es[0]*degToRads,Ri=es[1]*degToRads,ts=es[2]*degToRads,rs=Math.cos(ki/2),is=Math.cos(Ri/2),ns=Math.cos(ts/2),ss=Math.sin(ki/2),os=Math.sin(Ri/2),ls=Math.sin(ts/2),cs=rs*is*ns-ss*os*ls,hs=ss*os*ns+rs*is*ls,us=ss*is*ns+rs*os*ls,As=rs*os*ns-ss*is*ls;return[hs,us,As,cs]}function getValueAtCurrentTime(){var es=this.comp.renderedFrame-this.offsetTime,ki=this.keyframes[0].t-this.offsetTime,Ri=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(es===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=Ri&&es>=Ri||this._caching.lastFrame<ki&&es<ki))){this._caching.lastFrame>=es&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var ts=this.interpolateValue(es,this._caching);this.pv=ts}return this._caching.lastFrame=es,this.pv}function setVValue(es){var ki;if(this.propType==="unidimensional")ki=es*this.mult,mathAbs(this.v-ki)>1e-5&&(this.v=ki,this._mdf=!0);else for(var Ri=0,ts=this.v.length;Ri<ts;)ki=es[Ri]*this.mult,mathAbs(this.v[Ri]-ki)>1e-5&&(this.v[Ri]=ki,this._mdf=!0),Ri+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var es,ki=this.effectsSequence.length,Ri=this.kf?this.pv:this.data.k;for(es=0;es<ki;es+=1)Ri=this.effectsSequence[es](Ri);this.setVValue(Ri),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(es){this.effectsSequence.push(es),this.container.addDynamicProperty(this)}function ValueProperty(es,ki,Ri,ts){this.propType="unidimensional",this.mult=Ri||1,this.data=ki,this.v=Ri?ki.k*Ri:ki.k,this.pv=ki.k,this._mdf=!1,this.elem=es,this.container=ts,this.comp=es.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(es,ki,Ri,ts){this.propType="multidimensional",this.mult=Ri||1,this.data=ki,this._mdf=!1,this.elem=es,this.container=ts,this.comp=es.comp,this.k=!1,this.kf=!1,this.frameId=-1;var rs,is=ki.k.length;for(this.v=createTypedArray("float32",is),this.pv=createTypedArray("float32",is),this.vel=createTypedArray("float32",is),rs=0;rs<is;rs+=1)this.v[rs]=ki.k[rs]*this.mult,this.pv[rs]=ki.k[rs];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(es,ki,Ri,ts){this.propType="unidimensional",this.keyframes=ki.k,this.keyframesMetadata=[],this.offsetTime=es.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=ki,this.mult=Ri||1,this.elem=es,this.container=ts,this.comp=es.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(es,ki,Ri,ts){this.propType="multidimensional";var rs,is=ki.k.length,ns,ss,os,ls;for(rs=0;rs<is-1;rs+=1)ki.k[rs].to&&ki.k[rs].s&&ki.k[rs+1]&&ki.k[rs+1].s&&(ns=ki.k[rs].s,ss=ki.k[rs+1].s,os=ki.k[rs].to,ls=ki.k[rs].ti,(ns.length===2&&!(ns[0]===ss[0]&&ns[1]===ss[1])&&bez.pointOnLine2D(ns[0],ns[1],ss[0],ss[1],ns[0]+os[0],ns[1]+os[1])&&bez.pointOnLine2D(ns[0],ns[1],ss[0],ss[1],ss[0]+ls[0],ss[1]+ls[1])||ns.length===3&&!(ns[0]===ss[0]&&ns[1]===ss[1]&&ns[2]===ss[2])&&bez.pointOnLine3D(ns[0],ns[1],ns[2],ss[0],ss[1],ss[2],ns[0]+os[0],ns[1]+os[1],ns[2]+os[2])&&bez.pointOnLine3D(ns[0],ns[1],ns[2],ss[0],ss[1],ss[2],ss[0]+ls[0],ss[1]+ls[1],ss[2]+ls[2]))&&(ki.k[rs].to=null,ki.k[rs].ti=null),ns[0]===ss[0]&&ns[1]===ss[1]&&os[0]===0&&os[1]===0&&ls[0]===0&&ls[1]===0&&(ns.length===2||ns[2]===ss[2]&&os[2]===0&&ls[2]===0)&&(ki.k[rs].to=null,ki.k[rs].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=ki,this.keyframes=ki.k,this.keyframesMetadata=[],this.offsetTime=es.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=Ri||1,this.elem=es,this.container=ts,this.comp=es.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var cs=ki.k[0].s.length;for(this.v=createTypedArray("float32",cs),this.pv=createTypedArray("float32",cs),rs=0;rs<cs;rs+=1)this.v[rs]=initFrame,this.pv[rs]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",cs)},this.addEffect=addEffect}var PropertyFactory=function(){function es(Ri,ts,rs,is,ns){ts.sid&&(ts=Ri.globalData.slotManager.getProp(ts));var ss;if(!ts.k.length)ss=new ValueProperty(Ri,ts,is,ns);else if(typeof ts.k[0]=="number")ss=new MultiDimensionalProperty(Ri,ts,is,ns);else switch(rs){case 0:ss=new KeyframedValueProperty(Ri,ts,is,ns);break;case 1:ss=new KeyframedMultidimensionalProperty(Ri,ts,is,ns);break}return ss.effectsSequence.length&&ns.addDynamicProperty(ss),ss}var ki={getProp:es};return ki}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(ki){this.dynamicProperties.indexOf(ki)===-1&&(this.dynamicProperties.push(ki),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var ki,Ri=this.dynamicProperties.length;for(ki=0;ki<Ri;ki+=1)this.dynamicProperties[ki].getValue(),this.dynamicProperties[ki]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(ki){this.container=ki,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function es(){return createTypedArray("float32",2)}return poolFactory(8,es)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(es,ki){this.c=es,this.setLength(ki);for(var Ri=0;Ri<ki;)this.v[Ri]=pointPool.newElement(),this.o[Ri]=pointPool.newElement(),this.i[Ri]=pointPool.newElement(),Ri+=1},ShapePath.prototype.setLength=function(es){for(;this._maxLength<es;)this.doubleArrayLength();this._length=es},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(es,ki,Ri,ts,rs){var is;switch(this._length=Math.max(this._length,ts+1),this._length>=this._maxLength&&this.doubleArrayLength(),Ri){case"v":is=this.v;break;case"i":is=this.i;break;case"o":is=this.o;break;default:is=[];break}(!is[ts]||is[ts]&&!rs)&&(is[ts]=pointPool.newElement()),is[ts][0]=es,is[ts][1]=ki},ShapePath.prototype.setTripleAt=function(es,ki,Ri,ts,rs,is,ns,ss){this.setXYAt(es,ki,"v",ns,ss),this.setXYAt(Ri,ts,"o",ns,ss),this.setXYAt(rs,is,"i",ns,ss)},ShapePath.prototype.reverse=function(){var es=new ShapePath;es.setPathData(this.c,this._length);var ki=this.v,Ri=this.o,ts=this.i,rs=0;this.c&&(es.setTripleAt(ki[0][0],ki[0][1],ts[0][0],ts[0][1],Ri[0][0],Ri[0][1],0,!1),rs=1);var is=this._length-1,ns=this._length,ss;for(ss=rs;ss<ns;ss+=1)es.setTripleAt(ki[is][0],ki[is][1],ts[is][0],ts[is][1],Ri[is][0],Ri[is][1],ss,!1),is-=1;return es},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function es(){return new ShapePath}function ki(rs){var is=rs._length,ns;for(ns=0;ns<is;ns+=1)pointPool.release(rs.v[ns]),pointPool.release(rs.i[ns]),pointPool.release(rs.o[ns]),rs.v[ns]=null,rs.i[ns]=null,rs.o[ns]=null;rs._length=0,rs.c=!1}function Ri(rs){var is=ts.newElement(),ns,ss=rs._length===void 0?rs.v.length:rs._length;for(is.setLength(ss),is.c=rs.c,ns=0;ns<ss;ns+=1)is.setTripleAt(rs.v[ns][0],rs.v[ns][1],rs.o[ns][0],rs.o[ns][1],rs.i[ns][0],rs.i[ns][1],ns);return is}var ts=poolFactory(4,es,ki);return ts.clone=Ri,ts}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(es){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=es,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var es;for(es=0;es<this._length;es+=1)shapePool.release(this.shapes[es]);this._length=0};var shapeCollectionPool=function(){var es={newShapeCollection:rs,release:is},ki=0,Ri=4,ts=createSizedArray(Ri);function rs(){var ns;return ki?(ki-=1,ns=ts[ki]):ns=new ShapeCollection,ns}function is(ns){var ss,os=ns._length;for(ss=0;ss<os;ss+=1)shapePool.release(ns.shapes[ss]);ns._length=0,ki===Ri&&(ts=pooling.double(ts),Ri*=2),ts[ki]=ns,ki+=1}return es}(),ShapePropertyFactory=function(){var es=-999999;function ki(ps,ms,fs){var gs=fs.lastIndex,ws,Ts,$s,Rs,Ps,Qs,Fs,Is,Ms,Ws=this.keyframes;if(ps<Ws[0].t-this.offsetTime)ws=Ws[0].s[0],$s=!0,gs=0;else if(ps>=Ws[Ws.length-1].t-this.offsetTime)ws=Ws[Ws.length-1].s?Ws[Ws.length-1].s[0]:Ws[Ws.length-2].e[0],$s=!0;else{for(var Ds=gs,_s=Ws.length-1,Ns=!0,Ss,Us,Zs;Ns&&(Ss=Ws[Ds],Us=Ws[Ds+1],!(Us.t-this.offsetTime>ps));)Ds<_s-1?Ds+=1:Ns=!1;if(Zs=this.keyframesMetadata[Ds]||{},$s=Ss.h===1,gs=Ds,!$s){if(ps>=Us.t-this.offsetTime)Is=1;else if(ps<Ss.t-this.offsetTime)Is=0;else{var ao;Zs.__fnct?ao=Zs.__fnct:(ao=BezierFactory.getBezierEasing(Ss.o.x,Ss.o.y,Ss.i.x,Ss.i.y).get,Zs.__fnct=ao),Is=ao((ps-(Ss.t-this.offsetTime))/(Us.t-this.offsetTime-(Ss.t-this.offsetTime)))}Ts=Us.s?Us.s[0]:Ss.e[0]}ws=Ss.s[0]}for(Qs=ms._length,Fs=ws.i[0].length,fs.lastIndex=gs,Rs=0;Rs<Qs;Rs+=1)for(Ps=0;Ps<Fs;Ps+=1)Ms=$s?ws.i[Rs][Ps]:ws.i[Rs][Ps]+(Ts.i[Rs][Ps]-ws.i[Rs][Ps])*Is,ms.i[Rs][Ps]=Ms,Ms=$s?ws.o[Rs][Ps]:ws.o[Rs][Ps]+(Ts.o[Rs][Ps]-ws.o[Rs][Ps])*Is,ms.o[Rs][Ps]=Ms,Ms=$s?ws.v[Rs][Ps]:ws.v[Rs][Ps]+(Ts.v[Rs][Ps]-ws.v[Rs][Ps])*Is,ms.v[Rs][Ps]=Ms}function Ri(){var ps=this.comp.renderedFrame-this.offsetTime,ms=this.keyframes[0].t-this.offsetTime,fs=this.keyframes[this.keyframes.length-1].t-this.offsetTime,gs=this._caching.lastFrame;return gs!==es&&(gs<ms&&ps<ms||gs>fs&&ps>fs)||(this._caching.lastIndex=gs<ps?this._caching.lastIndex:0,this.interpolateShape(ps,this.pv,this._caching)),this._caching.lastFrame=ps,this.pv}function ts(){this.paths=this.localShapeCollection}function rs(ps,ms){if(ps._length!==ms._length||ps.c!==ms.c)return!1;var fs,gs=ps._length;for(fs=0;fs<gs;fs+=1)if(ps.v[fs][0]!==ms.v[fs][0]||ps.v[fs][1]!==ms.v[fs][1]||ps.o[fs][0]!==ms.o[fs][0]||ps.o[fs][1]!==ms.o[fs][1]||ps.i[fs][0]!==ms.i[fs][0]||ps.i[fs][1]!==ms.i[fs][1])return!1;return!0}function is(ps){rs(this.v,ps)||(this.v=shapePool.clone(ps),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function ns(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var ps;this.kf?ps=this.pv:this.data.ks?ps=this.data.ks.k:ps=this.data.pt.k;var ms,fs=this.effectsSequence.length;for(ms=0;ms<fs;ms+=1)ps=this.effectsSequence[ms](ps);this.setVValue(ps),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function ss(ps,ms,fs){this.propType="shape",this.comp=ps.comp,this.container=ps,this.elem=ps,this.data=ms,this.k=!1,this.kf=!1,this._mdf=!1;var gs=fs===3?ms.pt.k:ms.ks.k;this.v=shapePool.clone(gs),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=ts,this.effectsSequence=[]}function os(ps){this.effectsSequence.push(ps),this.container.addDynamicProperty(this)}ss.prototype.interpolateShape=ki,ss.prototype.getValue=ns,ss.prototype.setVValue=is,ss.prototype.addEffect=os;function ls(ps,ms,fs){this.propType="shape",this.comp=ps.comp,this.elem=ps,this.container=ps,this.offsetTime=ps.data.st,this.keyframes=fs===3?ms.pt.k:ms.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var gs=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,gs),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=es,this.reset=ts,this._caching={lastFrame:es,lastIndex:0},this.effectsSequence=[Ri.bind(this)]}ls.prototype.getValue=ns,ls.prototype.interpolateShape=ki,ls.prototype.setVValue=is,ls.prototype.addEffect=os;var cs=function(){var ps=roundCorner;function ms(fs,gs){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=gs.d,this.elem=fs,this.comp=fs.comp,this.frameId=-1,this.initDynamicPropertyContainer(fs),this.p=PropertyFactory.getProp(fs,gs.p,1,0,this),this.s=PropertyFactory.getProp(fs,gs.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return ms.prototype={reset:ts,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var gs=this.p.v[0],ws=this.p.v[1],Ts=this.s.v[0]/2,$s=this.s.v[1]/2,Rs=this.d!==3,Ps=this.v;Ps.v[0][0]=gs,Ps.v[0][1]=ws-$s,Ps.v[1][0]=Rs?gs+Ts:gs-Ts,Ps.v[1][1]=ws,Ps.v[2][0]=gs,Ps.v[2][1]=ws+$s,Ps.v[3][0]=Rs?gs-Ts:gs+Ts,Ps.v[3][1]=ws,Ps.i[0][0]=Rs?gs-Ts*ps:gs+Ts*ps,Ps.i[0][1]=ws-$s,Ps.i[1][0]=Rs?gs+Ts:gs-Ts,Ps.i[1][1]=ws-$s*ps,Ps.i[2][0]=Rs?gs+Ts*ps:gs-Ts*ps,Ps.i[2][1]=ws+$s,Ps.i[3][0]=Rs?gs-Ts:gs+Ts,Ps.i[3][1]=ws+$s*ps,Ps.o[0][0]=Rs?gs+Ts*ps:gs-Ts*ps,Ps.o[0][1]=ws-$s,Ps.o[1][0]=Rs?gs+Ts:gs-Ts,Ps.o[1][1]=ws+$s*ps,Ps.o[2][0]=Rs?gs-Ts*ps:gs+Ts*ps,Ps.o[2][1]=ws+$s,Ps.o[3][0]=Rs?gs-Ts:gs+Ts,Ps.o[3][1]=ws-$s*ps}},extendPrototype([DynamicPropertyContainer],ms),ms}(),hs=function(){function ps(ms,fs){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=ms,this.comp=ms.comp,this.data=fs,this.frameId=-1,this.d=fs.d,this.initDynamicPropertyContainer(ms),fs.sy===1?(this.ir=PropertyFactory.getProp(ms,fs.ir,0,0,this),this.is=PropertyFactory.getProp(ms,fs.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(ms,fs.pt,0,0,this),this.p=PropertyFactory.getProp(ms,fs.p,1,0,this),this.r=PropertyFactory.getProp(ms,fs.r,0,degToRads,this),this.or=PropertyFactory.getProp(ms,fs.or,0,0,this),this.os=PropertyFactory.getProp(ms,fs.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return ps.prototype={reset:ts,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var fs=Math.floor(this.pt.v)*2,gs=Math.PI*2/fs,ws=!0,Ts=this.or.v,$s=this.ir.v,Rs=this.os.v,Ps=this.is.v,Qs=2*Math.PI*Ts/(fs*2),Fs=2*Math.PI*$s/(fs*2),Is,Ms,Ws,Ds,_s=-Math.PI/2;_s+=this.r.v;var Ns=this.data.d===3?-1:1;for(this.v._length=0,Is=0;Is<fs;Is+=1){Ms=ws?Ts:$s,Ws=ws?Rs:Ps,Ds=ws?Qs:Fs;var Ss=Ms*Math.cos(_s),Us=Ms*Math.sin(_s),Zs=Ss===0&&Us===0?0:Us/Math.sqrt(Ss*Ss+Us*Us),ao=Ss===0&&Us===0?0:-Ss/Math.sqrt(Ss*Ss+Us*Us);Ss+=+this.p.v[0],Us+=+this.p.v[1],this.v.setTripleAt(Ss,Us,Ss-Zs*Ds*Ws*Ns,Us-ao*Ds*Ws*Ns,Ss+Zs*Ds*Ws*Ns,Us+ao*Ds*Ws*Ns,Is,!0),ws=!ws,_s+=gs*Ns}},convertPolygonToPath:function(){var fs=Math.floor(this.pt.v),gs=Math.PI*2/fs,ws=this.or.v,Ts=this.os.v,$s=2*Math.PI*ws/(fs*4),Rs,Ps=-Math.PI*.5,Qs=this.data.d===3?-1:1;for(Ps+=this.r.v,this.v._length=0,Rs=0;Rs<fs;Rs+=1){var Fs=ws*Math.cos(Ps),Is=ws*Math.sin(Ps),Ms=Fs===0&&Is===0?0:Is/Math.sqrt(Fs*Fs+Is*Is),Ws=Fs===0&&Is===0?0:-Fs/Math.sqrt(Fs*Fs+Is*Is);Fs+=+this.p.v[0],Is+=+this.p.v[1],this.v.setTripleAt(Fs,Is,Fs-Ms*$s*Ts*Qs,Is-Ws*$s*Ts*Qs,Fs+Ms*$s*Ts*Qs,Is+Ws*$s*Ts*Qs,Rs,!0),Ps+=gs*Qs}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],ps),ps}(),us=function(){function ps(ms,fs){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=ms,this.comp=ms.comp,this.frameId=-1,this.d=fs.d,this.initDynamicPropertyContainer(ms),this.p=PropertyFactory.getProp(ms,fs.p,1,0,this),this.s=PropertyFactory.getProp(ms,fs.s,1,0,this),this.r=PropertyFactory.getProp(ms,fs.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return ps.prototype={convertRectToPath:function(){var fs=this.p.v[0],gs=this.p.v[1],ws=this.s.v[0]/2,Ts=this.s.v[1]/2,$s=bmMin(ws,Ts,this.r.v),Rs=$s*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(fs+ws,gs-Ts+$s,fs+ws,gs-Ts+$s,fs+ws,gs-Ts+Rs,0,!0),this.v.setTripleAt(fs+ws,gs+Ts-$s,fs+ws,gs+Ts-Rs,fs+ws,gs+Ts-$s,1,!0),$s!==0?(this.v.setTripleAt(fs+ws-$s,gs+Ts,fs+ws-$s,gs+Ts,fs+ws-Rs,gs+Ts,2,!0),this.v.setTripleAt(fs-ws+$s,gs+Ts,fs-ws+Rs,gs+Ts,fs-ws+$s,gs+Ts,3,!0),this.v.setTripleAt(fs-ws,gs+Ts-$s,fs-ws,gs+Ts-$s,fs-ws,gs+Ts-Rs,4,!0),this.v.setTripleAt(fs-ws,gs-Ts+$s,fs-ws,gs-Ts+Rs,fs-ws,gs-Ts+$s,5,!0),this.v.setTripleAt(fs-ws+$s,gs-Ts,fs-ws+$s,gs-Ts,fs-ws+Rs,gs-Ts,6,!0),this.v.setTripleAt(fs+ws-$s,gs-Ts,fs+ws-Rs,gs-Ts,fs+ws-$s,gs-Ts,7,!0)):(this.v.setTripleAt(fs-ws,gs+Ts,fs-ws+Rs,gs+Ts,fs-ws,gs+Ts,2),this.v.setTripleAt(fs-ws,gs-Ts,fs-ws,gs-Ts+Rs,fs-ws,gs-Ts,3))):(this.v.setTripleAt(fs+ws,gs-Ts+$s,fs+ws,gs-Ts+Rs,fs+ws,gs-Ts+$s,0,!0),$s!==0?(this.v.setTripleAt(fs+ws-$s,gs-Ts,fs+ws-$s,gs-Ts,fs+ws-Rs,gs-Ts,1,!0),this.v.setTripleAt(fs-ws+$s,gs-Ts,fs-ws+Rs,gs-Ts,fs-ws+$s,gs-Ts,2,!0),this.v.setTripleAt(fs-ws,gs-Ts+$s,fs-ws,gs-Ts+$s,fs-ws,gs-Ts+Rs,3,!0),this.v.setTripleAt(fs-ws,gs+Ts-$s,fs-ws,gs+Ts-Rs,fs-ws,gs+Ts-$s,4,!0),this.v.setTripleAt(fs-ws+$s,gs+Ts,fs-ws+$s,gs+Ts,fs-ws+Rs,gs+Ts,5,!0),this.v.setTripleAt(fs+ws-$s,gs+Ts,fs+ws-Rs,gs+Ts,fs+ws-$s,gs+Ts,6,!0),this.v.setTripleAt(fs+ws,gs+Ts-$s,fs+ws,gs+Ts-$s,fs+ws,gs+Ts-Rs,7,!0)):(this.v.setTripleAt(fs-ws,gs-Ts,fs-ws+Rs,gs-Ts,fs-ws,gs-Ts,1,!0),this.v.setTripleAt(fs-ws,gs+Ts,fs-ws,gs+Ts-Rs,fs-ws,gs+Ts,2,!0),this.v.setTripleAt(fs+ws,gs+Ts,fs+ws-Rs,gs+Ts,fs+ws,gs+Ts,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:ts},extendPrototype([DynamicPropertyContainer],ps),ps}();function As(ps,ms,fs){var gs;if(fs===3||fs===4){var ws=fs===3?ms.pt:ms.ks,Ts=ws.k;Ts.length?gs=new ls(ps,ms,fs):gs=new ss(ps,ms,fs)}else fs===5?gs=new us(ps,ms):fs===6?gs=new cs(ps,ms):fs===7&&(gs=new hs(ps,ms));return gs.k&&ps.addDynamicProperty(gs),gs}function bs(){return ss}function ys(){return ls}var Cs={};return Cs.getShapeProp=As,Cs.getConstructorFunction=bs,Cs.getKeyframedConstructorFunction=ys,Cs}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var es=Math.cos,ki=Math.sin,Ri=Math.tan,ts=Math.round;function rs(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function is(Ss){if(Ss===0)return this;var Us=es(Ss),Zs=ki(Ss);return this._t(Us,-Zs,0,0,Zs,Us,0,0,0,0,1,0,0,0,0,1)}function ns(Ss){if(Ss===0)return this;var Us=es(Ss),Zs=ki(Ss);return this._t(1,0,0,0,0,Us,-Zs,0,0,Zs,Us,0,0,0,0,1)}function ss(Ss){if(Ss===0)return this;var Us=es(Ss),Zs=ki(Ss);return this._t(Us,0,Zs,0,0,1,0,0,-Zs,0,Us,0,0,0,0,1)}function os(Ss){if(Ss===0)return this;var Us=es(Ss),Zs=ki(Ss);return this._t(Us,-Zs,0,0,Zs,Us,0,0,0,0,1,0,0,0,0,1)}function ls(Ss,Us){return this._t(1,Us,Ss,1,0,0)}function cs(Ss,Us){return this.shear(Ri(Ss),Ri(Us))}function hs(Ss,Us){var Zs=es(Us),ao=ki(Us);return this._t(Zs,ao,0,0,-ao,Zs,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,Ri(Ss),1,0,0,0,0,1,0,0,0,0,1)._t(Zs,-ao,0,0,ao,Zs,0,0,0,0,1,0,0,0,0,1)}function us(Ss,Us,Zs){return!Zs&&Zs!==0&&(Zs=1),Ss===1&&Us===1&&Zs===1?this:this._t(Ss,0,0,0,0,Us,0,0,0,0,Zs,0,0,0,0,1)}function As(Ss,Us,Zs,ao,js,Bs,zs,so,oo,Ao,Xs,lo,co,So,ro,vo){return this.props[0]=Ss,this.props[1]=Us,this.props[2]=Zs,this.props[3]=ao,this.props[4]=js,this.props[5]=Bs,this.props[6]=zs,this.props[7]=so,this.props[8]=oo,this.props[9]=Ao,this.props[10]=Xs,this.props[11]=lo,this.props[12]=co,this.props[13]=So,this.props[14]=ro,this.props[15]=vo,this}function bs(Ss,Us,Zs){return Zs=Zs||0,Ss!==0||Us!==0||Zs!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Ss,Us,Zs,1):this}function ys(Ss,Us,Zs,ao,js,Bs,zs,so,oo,Ao,Xs,lo,co,So,ro,vo){var Eo=this.props;if(Ss===1&&Us===0&&Zs===0&&ao===0&&js===0&&Bs===1&&zs===0&&so===0&&oo===0&&Ao===0&&Xs===1&&lo===0)return Eo[12]=Eo[12]*Ss+Eo[15]*co,Eo[13]=Eo[13]*Bs+Eo[15]*So,Eo[14]=Eo[14]*Xs+Eo[15]*ro,Eo[15]*=vo,this._identityCalculated=!1,this;var mo=Eo[0],yo=Eo[1],Jo=Eo[2],Yo=Eo[3],Wo=Eo[4],ko=Eo[5],Qo=Eo[6],jo=Eo[7],Bo=Eo[8],go=Eo[9],_o=Eo[10],To=Eo[11],uo=Eo[12],Co=Eo[13],Oo=Eo[14],Fo=Eo[15];return Eo[0]=mo*Ss+yo*js+Jo*oo+Yo*co,Eo[1]=mo*Us+yo*Bs+Jo*Ao+Yo*So,Eo[2]=mo*Zs+yo*zs+Jo*Xs+Yo*ro,Eo[3]=mo*ao+yo*so+Jo*lo+Yo*vo,Eo[4]=Wo*Ss+ko*js+Qo*oo+jo*co,Eo[5]=Wo*Us+ko*Bs+Qo*Ao+jo*So,Eo[6]=Wo*Zs+ko*zs+Qo*Xs+jo*ro,Eo[7]=Wo*ao+ko*so+Qo*lo+jo*vo,Eo[8]=Bo*Ss+go*js+_o*oo+To*co,Eo[9]=Bo*Us+go*Bs+_o*Ao+To*So,Eo[10]=Bo*Zs+go*zs+_o*Xs+To*ro,Eo[11]=Bo*ao+go*so+_o*lo+To*vo,Eo[12]=uo*Ss+Co*js+Oo*oo+Fo*co,Eo[13]=uo*Us+Co*Bs+Oo*Ao+Fo*So,Eo[14]=uo*Zs+Co*zs+Oo*Xs+Fo*ro,Eo[15]=uo*ao+Co*so+Oo*lo+Fo*vo,this._identityCalculated=!1,this}function Cs(Ss){var Us=Ss.props;return this.transform(Us[0],Us[1],Us[2],Us[3],Us[4],Us[5],Us[6],Us[7],Us[8],Us[9],Us[10],Us[11],Us[12],Us[13],Us[14],Us[15])}function ps(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function ms(Ss){for(var Us=0;Us<16;){if(Ss.props[Us]!==this.props[Us])return!1;Us+=1}return!0}function fs(Ss){var Us;for(Us=0;Us<16;Us+=1)Ss.props[Us]=this.props[Us];return Ss}function gs(Ss){var Us;for(Us=0;Us<16;Us+=1)this.props[Us]=Ss[Us]}function ws(Ss,Us,Zs){return{x:Ss*this.props[0]+Us*this.props[4]+Zs*this.props[8]+this.props[12],y:Ss*this.props[1]+Us*this.props[5]+Zs*this.props[9]+this.props[13],z:Ss*this.props[2]+Us*this.props[6]+Zs*this.props[10]+this.props[14]}}function Ts(Ss,Us,Zs){return Ss*this.props[0]+Us*this.props[4]+Zs*this.props[8]+this.props[12]}function $s(Ss,Us,Zs){return Ss*this.props[1]+Us*this.props[5]+Zs*this.props[9]+this.props[13]}function Rs(Ss,Us,Zs){return Ss*this.props[2]+Us*this.props[6]+Zs*this.props[10]+this.props[14]}function Ps(){var Ss=this.props[0]*this.props[5]-this.props[1]*this.props[4],Us=this.props[5]/Ss,Zs=-this.props[1]/Ss,ao=-this.props[4]/Ss,js=this.props[0]/Ss,Bs=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Ss,zs=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Ss,so=new Matrix;return so.props[0]=Us,so.props[1]=Zs,so.props[4]=ao,so.props[5]=js,so.props[12]=Bs,so.props[13]=zs,so}function Qs(Ss){var Us=this.getInverseMatrix();return Us.applyToPointArray(Ss[0],Ss[1],Ss[2]||0)}function Fs(Ss){var Us,Zs=Ss.length,ao=[];for(Us=0;Us<Zs;Us+=1)ao[Us]=Qs(Ss[Us]);return ao}function Is(Ss,Us,Zs){var ao=createTypedArray("float32",6);if(this.isIdentity())ao[0]=Ss[0],ao[1]=Ss[1],ao[2]=Us[0],ao[3]=Us[1],ao[4]=Zs[0],ao[5]=Zs[1];else{var js=this.props[0],Bs=this.props[1],zs=this.props[4],so=this.props[5],oo=this.props[12],Ao=this.props[13];ao[0]=Ss[0]*js+Ss[1]*zs+oo,ao[1]=Ss[0]*Bs+Ss[1]*so+Ao,ao[2]=Us[0]*js+Us[1]*zs+oo,ao[3]=Us[0]*Bs+Us[1]*so+Ao,ao[4]=Zs[0]*js+Zs[1]*zs+oo,ao[5]=Zs[0]*Bs+Zs[1]*so+Ao}return ao}function Ms(Ss,Us,Zs){var ao;return this.isIdentity()?ao=[Ss,Us,Zs]:ao=[Ss*this.props[0]+Us*this.props[4]+Zs*this.props[8]+this.props[12],Ss*this.props[1]+Us*this.props[5]+Zs*this.props[9]+this.props[13],Ss*this.props[2]+Us*this.props[6]+Zs*this.props[10]+this.props[14]],ao}function Ws(Ss,Us){if(this.isIdentity())return Ss+","+Us;var Zs=this.props;return Math.round((Ss*Zs[0]+Us*Zs[4]+Zs[12])*100)/100+","+Math.round((Ss*Zs[1]+Us*Zs[5]+Zs[13])*100)/100}function Ds(){for(var Ss=0,Us=this.props,Zs="matrix3d(",ao=1e4;Ss<16;)Zs+=ts(Us[Ss]*ao)/ao,Zs+=Ss===15?")":",",Ss+=1;return Zs}function _s(Ss){var Us=1e4;return Ss<1e-6&&Ss>0||Ss>-1e-6&&Ss<0?ts(Ss*Us)/Us:Ss}function Ns(){var Ss=this.props,Us=_s(Ss[0]),Zs=_s(Ss[1]),ao=_s(Ss[4]),js=_s(Ss[5]),Bs=_s(Ss[12]),zs=_s(Ss[13]);return"matrix("+Us+","+Zs+","+ao+","+js+","+Bs+","+zs+")"}return function(){this.reset=rs,this.rotate=is,this.rotateX=ns,this.rotateY=ss,this.rotateZ=os,this.skew=cs,this.skewFromAxis=hs,this.shear=ls,this.scale=us,this.setTransform=As,this.translate=bs,this.transform=ys,this.multiply=Cs,this.applyToPoint=ws,this.applyToX=Ts,this.applyToY=$s,this.applyToZ=Rs,this.applyToPointArray=Ms,this.applyToTriplePoints=Is,this.applyToPointStringified=Ws,this.toCSS=Ds,this.to2dCSS=Ns,this.clone=fs,this.cloneFromProps=gs,this.equals=ms,this.inversePoints=Fs,this.inversePoint=Qs,this.getInverseMatrix=Ps,this._t=this.transform,this.isIdentity=ps,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(es){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(Ri){return typeof Ri}:_typeof$3=function(Ri){return Ri&&typeof Symbol=="function"&&Ri.constructor===Symbol&&Ri!==Symbol.prototype?"symbol":typeof Ri},_typeof$3(es)}var lottie={};function setLocation(es){setLocationHref(es)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(es){setSubframeEnabled(es)}function setPrefix(es){setIdPrefix(es)}function loadAnimation(es){return animationManager.loadAnimation(es)}function setQuality(es){if(typeof es=="string")switch(es){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(es)&&es>1&&setDefaultCurveSegments(es)}function inBrowser(){return typeof navigator<"u"}function installPlugin(es,ki){es==="expressions"&&setExpressionsPlugin(ki)}function getFactory(es){switch(es){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(es){for(var ki=queryString.split("&"),Ri=0;Ri<ki.length;Ri+=1){var ts=ki[Ri].split("=");if(decodeURIComponent(ts[0])==es)return decodeURIComponent(ts[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(es){}var ShapeModifiers=function(){var es={},ki={};es.registerModifier=Ri,es.getModifier=ts;function Ri(rs,is){ki[rs]||(ki[rs]=is)}function ts(rs,is,ns){return new ki[rs](is,ns)}return es}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(es){if(!this.closed){es.sh.container.addDynamicProperty(es.sh);var ki={shape:es.sh,data:es,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(ki),this.addShapeToModifier(ki),this._isAnimated&&es.setAsAnimated()}},ShapeModifier.prototype.init=function(es,ki){this.shapes=[],this.elem=es,this.initDynamicPropertyContainer(es),this.initModifierProperties(es,ki),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(es,ki){this.s=PropertyFactory.getProp(es,ki.s,0,.01,this),this.e=PropertyFactory.getProp(es,ki.e,0,.01,this),this.o=PropertyFactory.getProp(es,ki.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=ki.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(es){es.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(es,ki,Ri,ts,rs){var is=[];ki<=1?is.push({s:es,e:ki}):es>=1?is.push({s:es-1,e:ki-1}):(is.push({s:es,e:1}),is.push({s:0,e:ki-1}));var ns=[],ss,os=is.length,ls;for(ss=0;ss<os;ss+=1)if(ls=is[ss],!(ls.e*rs<ts||ls.s*rs>ts+Ri)){var cs,hs;ls.s*rs<=ts?cs=0:cs=(ls.s*rs-ts)/Ri,ls.e*rs>=ts+Ri?hs=1:hs=(ls.e*rs-ts)/Ri,ns.push([cs,hs])}return ns.length||ns.push([0,0]),ns},TrimModifier.prototype.releasePathsData=function(es){var ki,Ri=es.length;for(ki=0;ki<Ri;ki+=1)segmentsLengthPool.release(es[ki]);return es.length=0,es},TrimModifier.prototype.processShapes=function(es){var ki,Ri;if(this._mdf||es){var ts=this.o.v%360/360;if(ts<0&&(ts+=1),this.s.v>1?ki=1+ts:this.s.v<0?ki=0+ts:ki=this.s.v+ts,this.e.v>1?Ri=1+ts:this.e.v<0?Ri=0+ts:Ri=this.e.v+ts,ki>Ri){var rs=ki;ki=Ri,Ri=rs}ki=Math.round(ki*1e4)*1e-4,Ri=Math.round(Ri*1e4)*1e-4,this.sValue=ki,this.eValue=Ri}else ki=this.sValue,Ri=this.eValue;var is,ns,ss=this.shapes.length,os,ls,cs,hs,us,As=0;if(Ri===ki)for(ns=0;ns<ss;ns+=1)this.shapes[ns].localShapeCollection.releaseShapes(),this.shapes[ns].shape._mdf=!0,this.shapes[ns].shape.paths=this.shapes[ns].localShapeCollection,this._mdf&&(this.shapes[ns].pathsData.length=0);else if(Ri===1&&ki===0||Ri===0&&ki===1){if(this._mdf)for(ns=0;ns<ss;ns+=1)this.shapes[ns].pathsData.length=0,this.shapes[ns].shape._mdf=!0}else{var bs=[],ys,Cs;for(ns=0;ns<ss;ns+=1)if(ys=this.shapes[ns],!ys.shape._mdf&&!this._mdf&&!es&&this.m!==2)ys.shape.paths=ys.localShapeCollection;else{if(is=ys.shape.paths,ls=is._length,us=0,!ys.shape._mdf&&ys.pathsData.length)us=ys.totalShapeLength;else{for(cs=this.releasePathsData(ys.pathsData),os=0;os<ls;os+=1)hs=bez.getSegmentsLength(is.shapes[os]),cs.push(hs),us+=hs.totalLength;ys.totalShapeLength=us,ys.pathsData=cs}As+=us,ys.shape._mdf=!0}var ps=ki,ms=Ri,fs=0,gs;for(ns=ss-1;ns>=0;ns-=1)if(ys=this.shapes[ns],ys.shape._mdf){for(Cs=ys.localShapeCollection,Cs.releaseShapes(),this.m===2&&ss>1?(gs=this.calculateShapeEdges(ki,Ri,ys.totalShapeLength,fs,As),fs+=ys.totalShapeLength):gs=[[ps,ms]],ls=gs.length,os=0;os<ls;os+=1){ps=gs[os][0],ms=gs[os][1],bs.length=0,ms<=1?bs.push({s:ys.totalShapeLength*ps,e:ys.totalShapeLength*ms}):ps>=1?bs.push({s:ys.totalShapeLength*(ps-1),e:ys.totalShapeLength*(ms-1)}):(bs.push({s:ys.totalShapeLength*ps,e:ys.totalShapeLength}),bs.push({s:0,e:ys.totalShapeLength*(ms-1)}));var ws=this.addShapes(ys,bs[0]);if(bs[0].s!==bs[0].e){if(bs.length>1){var Ts=ys.shape.paths.shapes[ys.shape.paths._length-1];if(Ts.c){var $s=ws.pop();this.addPaths(ws,Cs),ws=this.addShapes(ys,bs[1],$s)}else this.addPaths(ws,Cs),ws=this.addShapes(ys,bs[1])}this.addPaths(ws,Cs)}}ys.shape.paths=Cs}}},TrimModifier.prototype.addPaths=function(es,ki){var Ri,ts=es.length;for(Ri=0;Ri<ts;Ri+=1)ki.addShape(es[Ri])},TrimModifier.prototype.addSegment=function(es,ki,Ri,ts,rs,is,ns){rs.setXYAt(ki[0],ki[1],"o",is),rs.setXYAt(Ri[0],Ri[1],"i",is+1),ns&&rs.setXYAt(es[0],es[1],"v",is),rs.setXYAt(ts[0],ts[1],"v",is+1)},TrimModifier.prototype.addSegmentFromArray=function(es,ki,Ri,ts){ki.setXYAt(es[1],es[5],"o",Ri),ki.setXYAt(es[2],es[6],"i",Ri+1),ts&&ki.setXYAt(es[0],es[4],"v",Ri),ki.setXYAt(es[3],es[7],"v",Ri+1)},TrimModifier.prototype.addShapes=function(es,ki,Ri){var ts=es.pathsData,rs=es.shape.paths.shapes,is,ns=es.shape.paths._length,ss,os,ls=0,cs,hs,us,As,bs=[],ys,Cs=!0;for(Ri?(hs=Ri._length,ys=Ri._length):(Ri=shapePool.newElement(),hs=0,ys=0),bs.push(Ri),is=0;is<ns;is+=1){for(us=ts[is].lengths,Ri.c=rs[is].c,os=rs[is].c?us.length:us.length+1,ss=1;ss<os;ss+=1)if(cs=us[ss-1],ls+cs.addedLength<ki.s)ls+=cs.addedLength,Ri.c=!1;else if(ls>ki.e){Ri.c=!1;break}else ki.s<=ls&&ki.e>=ls+cs.addedLength?(this.addSegment(rs[is].v[ss-1],rs[is].o[ss-1],rs[is].i[ss],rs[is].v[ss],Ri,hs,Cs),Cs=!1):(As=bez.getNewSegment(rs[is].v[ss-1],rs[is].v[ss],rs[is].o[ss-1],rs[is].i[ss],(ki.s-ls)/cs.addedLength,(ki.e-ls)/cs.addedLength,us[ss-1]),this.addSegmentFromArray(As,Ri,hs,Cs),Cs=!1,Ri.c=!1),ls+=cs.addedLength,hs+=1;if(rs[is].c&&us.length){if(cs=us[ss-1],ls<=ki.e){var ps=us[ss-1].addedLength;ki.s<=ls&&ki.e>=ls+ps?(this.addSegment(rs[is].v[ss-1],rs[is].o[ss-1],rs[is].i[0],rs[is].v[0],Ri,hs,Cs),Cs=!1):(As=bez.getNewSegment(rs[is].v[ss-1],rs[is].v[0],rs[is].o[ss-1],rs[is].i[0],(ki.s-ls)/ps,(ki.e-ls)/ps,us[ss-1]),this.addSegmentFromArray(As,Ri,hs,Cs),Cs=!1,Ri.c=!1)}else Ri.c=!1;ls+=cs.addedLength,hs+=1}if(Ri._length&&(Ri.setXYAt(Ri.v[ys][0],Ri.v[ys][1],"i",ys),Ri.setXYAt(Ri.v[Ri._length-1][0],Ri.v[Ri._length-1][1],"o",Ri._length-1)),ls>ki.e)break;is<ns-1&&(Ri=shapePool.newElement(),Cs=!0,bs.push(Ri),hs=0)}return bs};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(es,ki){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(es,ki.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(es,ki){var Ri=ki/100,ts=[0,0],rs=es._length,is=0;for(is=0;is<rs;is+=1)ts[0]+=es.v[is][0],ts[1]+=es.v[is][1];ts[0]/=rs,ts[1]/=rs;var ns=shapePool.newElement();ns.c=es.c;var ss,os,ls,cs,hs,us;for(is=0;is<rs;is+=1)ss=es.v[is][0]+(ts[0]-es.v[is][0])*Ri,os=es.v[is][1]+(ts[1]-es.v[is][1])*Ri,ls=es.o[is][0]+(ts[0]-es.o[is][0])*-Ri,cs=es.o[is][1]+(ts[1]-es.o[is][1])*-Ri,hs=es.i[is][0]+(ts[0]-es.i[is][0])*-Ri,us=es.i[is][1]+(ts[1]-es.i[is][1])*-Ri,ns.setTripleAt(ss,os,ls,cs,hs,us,is);return ns},PuckerAndBloatModifier.prototype.processShapes=function(es){var ki,Ri,ts=this.shapes.length,rs,is,ns=this.amount.v;if(ns!==0){var ss,os;for(Ri=0;Ri<ts;Ri+=1){if(ss=this.shapes[Ri],os=ss.localShapeCollection,!(!ss.shape._mdf&&!this._mdf&&!es))for(os.releaseShapes(),ss.shape._mdf=!0,ki=ss.shape.paths.shapes,is=ss.shape.paths._length,rs=0;rs<is;rs+=1)os.addShape(this.processPath(ki[rs],ns));ss.shape.paths=ss.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var es=[0,0];function ki(os){var ls=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||ls,this.a&&os.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&os.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&os.skewFromAxis(-this.sk.v,this.sa.v),this.r?os.rotate(-this.r.v):os.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?os.translate(this.px.v,this.py.v,-this.pz.v):os.translate(this.px.v,this.py.v,0):os.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function Ri(os){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||os){var ls;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var cs,hs;if(ls=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(cs=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/ls,0),hs=this.p.getValueAtTime(this.p.keyframes[0].t/ls,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(cs=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/ls,0),hs=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/ls,0)):(cs=this.p.pv,hs=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/ls,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){cs=[],hs=[];var us=this.px,As=this.py;us._caching.lastFrame+us.offsetTime<=us.keyframes[0].t?(cs[0]=us.getValueAtTime((us.keyframes[0].t+.01)/ls,0),cs[1]=As.getValueAtTime((As.keyframes[0].t+.01)/ls,0),hs[0]=us.getValueAtTime(us.keyframes[0].t/ls,0),hs[1]=As.getValueAtTime(As.keyframes[0].t/ls,0)):us._caching.lastFrame+us.offsetTime>=us.keyframes[us.keyframes.length-1].t?(cs[0]=us.getValueAtTime(us.keyframes[us.keyframes.length-1].t/ls,0),cs[1]=As.getValueAtTime(As.keyframes[As.keyframes.length-1].t/ls,0),hs[0]=us.getValueAtTime((us.keyframes[us.keyframes.length-1].t-.01)/ls,0),hs[1]=As.getValueAtTime((As.keyframes[As.keyframes.length-1].t-.01)/ls,0)):(cs=[us.pv,As.pv],hs[0]=us.getValueAtTime((us._caching.lastFrame+us.offsetTime-.01)/ls,us.offsetTime),hs[1]=As.getValueAtTime((As._caching.lastFrame+As.offsetTime-.01)/ls,As.offsetTime))}else hs=es,cs=hs;this.v.rotate(-Math.atan2(cs[1]-hs[1],cs[0]-hs[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function ts(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function rs(){}function is(os){this._addDynamicProperty(os),this.elem.addDynamicProperty(os),this._isDirty=!0}function ns(os,ls,cs){if(this.elem=os,this.frameId=-1,this.propType="transform",this.data=ls,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(cs||os),ls.p&&ls.p.s?(this.px=PropertyFactory.getProp(os,ls.p.x,0,0,this),this.py=PropertyFactory.getProp(os,ls.p.y,0,0,this),ls.p.z&&(this.pz=PropertyFactory.getProp(os,ls.p.z,0,0,this))):this.p=PropertyFactory.getProp(os,ls.p||{k:[0,0,0]},1,0,this),ls.rx){if(this.rx=PropertyFactory.getProp(os,ls.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(os,ls.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(os,ls.rz,0,degToRads,this),ls.or.k[0].ti){var hs,us=ls.or.k.length;for(hs=0;hs<us;hs+=1)ls.or.k[hs].to=null,ls.or.k[hs].ti=null}this.or=PropertyFactory.getProp(os,ls.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(os,ls.r||{k:0},0,degToRads,this);ls.sk&&(this.sk=PropertyFactory.getProp(os,ls.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(os,ls.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(os,ls.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(os,ls.s||{k:[100,100,100]},1,.01,this),ls.o?this.o=PropertyFactory.getProp(os,ls.o,0,.01,os):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}ns.prototype={applyToMatrix:ki,getValue:Ri,precalculateMatrix:ts,autoOrient:rs},extendPrototype([DynamicPropertyContainer],ns),ns.prototype.addDynamicProperty=is,ns.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function ss(os,ls,cs){return new ns(os,ls,cs)}return{getTransformProperty:ss}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(es,ki){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(es,ki.c,0,null,this),this.o=PropertyFactory.getProp(es,ki.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(es,ki.tr,this),this.so=PropertyFactory.getProp(es,ki.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(es,ki.tr.eo,0,.01,this),this.data=ki,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(es,ki,Ri,ts,rs,is){var ns=is?-1:1,ss=ts.s.v[0]+(1-ts.s.v[0])*(1-rs),os=ts.s.v[1]+(1-ts.s.v[1])*(1-rs);es.translate(ts.p.v[0]*ns*rs,ts.p.v[1]*ns*rs,ts.p.v[2]),ki.translate(-ts.a.v[0],-ts.a.v[1],ts.a.v[2]),ki.rotate(-ts.r.v*ns*rs),ki.translate(ts.a.v[0],ts.a.v[1],ts.a.v[2]),Ri.translate(-ts.a.v[0],-ts.a.v[1],ts.a.v[2]),Ri.scale(is?1/ss:ss,is?1/os:os),Ri.translate(ts.a.v[0],ts.a.v[1],ts.a.v[2])},RepeaterModifier.prototype.init=function(es,ki,Ri,ts){for(this.elem=es,this.arr=ki,this.pos=Ri,this.elemsData=ts,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(es),this.initModifierProperties(es,ki[Ri]);Ri>0;)Ri-=1,this._elements.unshift(ki[Ri]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(es){var ki,Ri=es.length;for(ki=0;ki<Ri;ki+=1)es[ki]._processed=!1,es[ki].ty==="gr"&&this.resetElements(es[ki].it)},RepeaterModifier.prototype.cloneElements=function(es){var ki=JSON.parse(JSON.stringify(es));return this.resetElements(ki),ki},RepeaterModifier.prototype.changeGroupRender=function(es,ki){var Ri,ts=es.length;for(Ri=0;Ri<ts;Ri+=1)es[Ri]._render=ki,es[Ri].ty==="gr"&&this.changeGroupRender(es[Ri].it,ki)},RepeaterModifier.prototype.processShapes=function(es){var ki,Ri,ts,rs,is,ns=!1;if(this._mdf||es){var ss=Math.ceil(this.c.v);if(this._groups.length<ss){for(;this._groups.length<ss;){var os={it:this.cloneElements(this._elements),ty:"gr"};os.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,os),this._groups.splice(0,0,os),this._currentCopies+=1}this.elem.reloadShapes(),ns=!0}is=0;var ls;for(ts=0;ts<=this._groups.length-1;ts+=1){if(ls=is<ss,this._groups[ts]._render=ls,this.changeGroupRender(this._groups[ts].it,ls),!ls){var cs=this.elemsData[ts].it,hs=cs[cs.length-1];hs.transform.op.v!==0?(hs.transform.op._mdf=!0,hs.transform.op.v=0):hs.transform.op._mdf=!1}is+=1}this._currentCopies=ss;var us=this.o.v,As=us%1,bs=us>0?Math.floor(us):Math.ceil(us),ys=this.pMatrix.props,Cs=this.rMatrix.props,ps=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var ms=0;if(us>0){for(;ms<bs;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),ms+=1;As&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,As,!1),ms+=As)}else if(us<0){for(;ms>bs;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),ms-=1;As&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-As,!0),ms-=As)}ts=this.data.m===1?0:this._currentCopies-1,rs=this.data.m===1?1:-1,is=this._currentCopies;for(var fs,gs;is;){if(ki=this.elemsData[ts].it,Ri=ki[ki.length-1].transform.mProps.v.props,gs=Ri.length,ki[ki.length-1].transform.mProps._mdf=!0,ki[ki.length-1].transform.op._mdf=!0,ki[ki.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(ts/(this._currentCopies-1)),ms!==0){for((ts!==0&&rs===1||ts!==this._currentCopies-1&&rs===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(Cs[0],Cs[1],Cs[2],Cs[3],Cs[4],Cs[5],Cs[6],Cs[7],Cs[8],Cs[9],Cs[10],Cs[11],Cs[12],Cs[13],Cs[14],Cs[15]),this.matrix.transform(ps[0],ps[1],ps[2],ps[3],ps[4],ps[5],ps[6],ps[7],ps[8],ps[9],ps[10],ps[11],ps[12],ps[13],ps[14],ps[15]),this.matrix.transform(ys[0],ys[1],ys[2],ys[3],ys[4],ys[5],ys[6],ys[7],ys[8],ys[9],ys[10],ys[11],ys[12],ys[13],ys[14],ys[15]),fs=0;fs<gs;fs+=1)Ri[fs]=this.matrix.props[fs];this.matrix.reset()}else for(this.matrix.reset(),fs=0;fs<gs;fs+=1)Ri[fs]=this.matrix.props[fs];ms+=1,is-=1,ts+=rs}}else for(is=this._currentCopies,ts=0,rs=1;is;)ki=this.elemsData[ts].it,Ri=ki[ki.length-1].transform.mProps.v.props,ki[ki.length-1].transform.mProps._mdf=!1,ki[ki.length-1].transform.op._mdf=!1,is-=1,ts+=rs;return ns},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(es,ki){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(es,ki.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(es,ki){var Ri=shapePool.newElement();Ri.c=es.c;var ts,rs=es._length,is,ns,ss,os,ls,cs,hs=0,us,As,bs,ys,Cs,ps;for(ts=0;ts<rs;ts+=1)is=es.v[ts],ss=es.o[ts],ns=es.i[ts],is[0]===ss[0]&&is[1]===ss[1]&&is[0]===ns[0]&&is[1]===ns[1]?(ts===0||ts===rs-1)&&!es.c?(Ri.setTripleAt(is[0],is[1],ss[0],ss[1],ns[0],ns[1],hs),hs+=1):(ts===0?os=es.v[rs-1]:os=es.v[ts-1],ls=Math.sqrt(Math.pow(is[0]-os[0],2)+Math.pow(is[1]-os[1],2)),cs=ls?Math.min(ls/2,ki)/ls:0,Cs=is[0]+(os[0]-is[0])*cs,us=Cs,ps=is[1]-(is[1]-os[1])*cs,As=ps,bs=us-(us-is[0])*roundCorner,ys=As-(As-is[1])*roundCorner,Ri.setTripleAt(us,As,bs,ys,Cs,ps,hs),hs+=1,ts===rs-1?os=es.v[0]:os=es.v[ts+1],ls=Math.sqrt(Math.pow(is[0]-os[0],2)+Math.pow(is[1]-os[1],2)),cs=ls?Math.min(ls/2,ki)/ls:0,bs=is[0]+(os[0]-is[0])*cs,us=bs,ys=is[1]+(os[1]-is[1])*cs,As=ys,Cs=us-(us-is[0])*roundCorner,ps=As-(As-is[1])*roundCorner,Ri.setTripleAt(us,As,bs,ys,Cs,ps,hs),hs+=1):(Ri.setTripleAt(es.v[ts][0],es.v[ts][1],es.o[ts][0],es.o[ts][1],es.i[ts][0],es.i[ts][1],hs),hs+=1);return Ri},RoundCornersModifier.prototype.processShapes=function(es){var ki,Ri,ts=this.shapes.length,rs,is,ns=this.rd.v;if(ns!==0){var ss,os;for(Ri=0;Ri<ts;Ri+=1){if(ss=this.shapes[Ri],os=ss.localShapeCollection,!(!ss.shape._mdf&&!this._mdf&&!es))for(os.releaseShapes(),ss.shape._mdf=!0,ki=ss.shape.paths.shapes,is=ss.shape.paths._length,rs=0;rs<is;rs+=1)os.addShape(this.processPath(ki[rs],ns));ss.shape.paths=ss.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(es,ki){return Math.abs(es-ki)*1e5<=Math.min(Math.abs(es),Math.abs(ki))}function floatZero(es){return Math.abs(es)<=1e-5}function lerp(es,ki,Ri){return es*(1-Ri)+ki*Ri}function lerpPoint(es,ki,Ri){return[lerp(es[0],ki[0],Ri),lerp(es[1],ki[1],Ri)]}function quadRoots(es,ki,Ri){if(es===0)return[];var ts=ki*ki-4*es*Ri;if(ts<0)return[];var rs=-ki/(2*es);if(ts===0)return[rs];var is=Math.sqrt(ts)/(2*es);return[rs-is,rs+is]}function polynomialCoefficients(es,ki,Ri,ts){return[-es+3*ki-3*Ri+ts,3*es-6*ki+3*Ri,-3*es+3*ki,es]}function singlePoint(es){return new PolynomialBezier(es,es,es,es,!1)}function PolynomialBezier(es,ki,Ri,ts,rs){rs&&pointEqual(es,ki)&&(ki=lerpPoint(es,ts,1/3)),rs&&pointEqual(Ri,ts)&&(Ri=lerpPoint(es,ts,2/3));var is=polynomialCoefficients(es[0],ki[0],Ri[0],ts[0]),ns=polynomialCoefficients(es[1],ki[1],Ri[1],ts[1]);this.a=[is[0],ns[0]],this.b=[is[1],ns[1]],this.c=[is[2],ns[2]],this.d=[is[3],ns[3]],this.points=[es,ki,Ri,ts]}PolynomialBezier.prototype.point=function(es){return[((this.a[0]*es+this.b[0])*es+this.c[0])*es+this.d[0],((this.a[1]*es+this.b[1])*es+this.c[1])*es+this.d[1]]},PolynomialBezier.prototype.derivative=function(es){return[(3*es*this.a[0]+2*this.b[0])*es+this.c[0],(3*es*this.a[1]+2*this.b[1])*es+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(es){var ki=this.derivative(es);return Math.atan2(ki[1],ki[0])},PolynomialBezier.prototype.normalAngle=function(es){var ki=this.derivative(es);return Math.atan2(ki[0],ki[1])},PolynomialBezier.prototype.inflectionPoints=function(){var es=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(es))return[];var ki=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/es,Ri=ki*ki-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/es;if(Ri<0)return[];var ts=Math.sqrt(Ri);return floatZero(ts)?ts>0&&ts<1?[ki]:[]:[ki-ts,ki+ts].filter(function(rs){return rs>0&&rs<1})},PolynomialBezier.prototype.split=function(es){if(es<=0)return[singlePoint(this.points[0]),this];if(es>=1)return[this,singlePoint(this.points[this.points.length-1])];var ki=lerpPoint(this.points[0],this.points[1],es),Ri=lerpPoint(this.points[1],this.points[2],es),ts=lerpPoint(this.points[2],this.points[3],es),rs=lerpPoint(ki,Ri,es),is=lerpPoint(Ri,ts,es),ns=lerpPoint(rs,is,es);return[new PolynomialBezier(this.points[0],ki,rs,ns,!0),new PolynomialBezier(ns,is,ts,this.points[3],!0)]};function extrema(es,ki){var Ri=es.points[0][ki],ts=es.points[es.points.length-1][ki];if(Ri>ts){var rs=ts;ts=Ri,Ri=rs}for(var is=quadRoots(3*es.a[ki],2*es.b[ki],es.c[ki]),ns=0;ns<is.length;ns+=1)if(is[ns]>0&&is[ns]<1){var ss=es.point(is[ns])[ki];ss<Ri?Ri=ss:ss>ts&&(ts=ss)}return{min:Ri,max:ts}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var es=this.bounds();return{left:es.x.min,right:es.x.max,top:es.y.min,bottom:es.y.max,width:es.x.max-es.x.min,height:es.y.max-es.y.min,cx:(es.x.max+es.x.min)/2,cy:(es.y.max+es.y.min)/2}};function intersectData(es,ki,Ri){var ts=es.boundingBox();return{cx:ts.cx,cy:ts.cy,width:ts.width,height:ts.height,bez:es,t:(ki+Ri)/2,t1:ki,t2:Ri}}function splitData(es){var ki=es.bez.split(.5);return[intersectData(ki[0],es.t1,es.t),intersectData(ki[1],es.t,es.t2)]}function boxIntersect(es,ki){return Math.abs(es.cx-ki.cx)*2<es.width+ki.width&&Math.abs(es.cy-ki.cy)*2<es.height+ki.height}function intersectsImpl(es,ki,Ri,ts,rs,is){if(boxIntersect(es,ki)){if(Ri>=is||es.width<=ts&&es.height<=ts&&ki.width<=ts&&ki.height<=ts){rs.push([es.t,ki.t]);return}var ns=splitData(es),ss=splitData(ki);intersectsImpl(ns[0],ss[0],Ri+1,ts,rs,is),intersectsImpl(ns[0],ss[1],Ri+1,ts,rs,is),intersectsImpl(ns[1],ss[0],Ri+1,ts,rs,is),intersectsImpl(ns[1],ss[1],Ri+1,ts,rs,is)}}PolynomialBezier.prototype.intersections=function(es,ki,Ri){ki===void 0&&(ki=2),Ri===void 0&&(Ri=7);var ts=[];return intersectsImpl(intersectData(this,0,1),intersectData(es,0,1),0,ki,ts,Ri),ts},PolynomialBezier.shapeSegment=function(es,ki){var Ri=(ki+1)%es.length();return new PolynomialBezier(es.v[ki],es.o[ki],es.i[Ri],es.v[Ri],!0)},PolynomialBezier.shapeSegmentInverted=function(es,ki){var Ri=(ki+1)%es.length();return new PolynomialBezier(es.v[Ri],es.i[Ri],es.o[ki],es.v[ki],!0)};function crossProduct(es,ki){return[es[1]*ki[2]-es[2]*ki[1],es[2]*ki[0]-es[0]*ki[2],es[0]*ki[1]-es[1]*ki[0]]}function lineIntersection(es,ki,Ri,ts){var rs=[es[0],es[1],1],is=[ki[0],ki[1],1],ns=[Ri[0],Ri[1],1],ss=[ts[0],ts[1],1],os=crossProduct(crossProduct(rs,is),crossProduct(ns,ss));return floatZero(os[2])?null:[os[0]/os[2],os[1]/os[2]]}function polarOffset(es,ki,Ri){return[es[0]+Math.cos(ki)*Ri,es[1]-Math.sin(ki)*Ri]}function pointDistance(es,ki){return Math.hypot(es[0]-ki[0],es[1]-ki[1])}function pointEqual(es,ki){return floatEqual(es[0],ki[0])&&floatEqual(es[1],ki[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(es,ki){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(es,ki.s,0,null,this),this.frequency=PropertyFactory.getProp(es,ki.r,0,null,this),this.pointsType=PropertyFactory.getProp(es,ki.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(es,ki,Ri,ts,rs,is,ns){var ss=Ri-Math.PI/2,os=Ri+Math.PI/2,ls=ki[0]+Math.cos(Ri)*ts*rs,cs=ki[1]-Math.sin(Ri)*ts*rs;es.setTripleAt(ls,cs,ls+Math.cos(ss)*is,cs-Math.sin(ss)*is,ls+Math.cos(os)*ns,cs-Math.sin(os)*ns,es.length())}function getPerpendicularVector(es,ki){var Ri=[ki[0]-es[0],ki[1]-es[1]],ts=-Math.PI*.5,rs=[Math.cos(ts)*Ri[0]-Math.sin(ts)*Ri[1],Math.sin(ts)*Ri[0]+Math.cos(ts)*Ri[1]];return rs}function getProjectingAngle(es,ki){var Ri=ki===0?es.length()-1:ki-1,ts=(ki+1)%es.length(),rs=es.v[Ri],is=es.v[ts],ns=getPerpendicularVector(rs,is);return Math.atan2(0,1)-Math.atan2(ns[1],ns[0])}function zigZagCorner(es,ki,Ri,ts,rs,is,ns){var ss=getProjectingAngle(ki,Ri),os=ki.v[Ri%ki._length],ls=ki.v[Ri===0?ki._length-1:Ri-1],cs=ki.v[(Ri+1)%ki._length],hs=is===2?Math.sqrt(Math.pow(os[0]-ls[0],2)+Math.pow(os[1]-ls[1],2)):0,us=is===2?Math.sqrt(Math.pow(os[0]-cs[0],2)+Math.pow(os[1]-cs[1],2)):0;setPoint(es,ki.v[Ri%ki._length],ss,ns,ts,us/((rs+1)*2),hs/((rs+1)*2))}function zigZagSegment(es,ki,Ri,ts,rs,is){for(var ns=0;ns<ts;ns+=1){var ss=(ns+1)/(ts+1),os=rs===2?Math.sqrt(Math.pow(ki.points[3][0]-ki.points[0][0],2)+Math.pow(ki.points[3][1]-ki.points[0][1],2)):0,ls=ki.normalAngle(ss),cs=ki.point(ss);setPoint(es,cs,ls,is,Ri,os/((ts+1)*2),os/((ts+1)*2)),is=-is}return is}ZigZagModifier.prototype.processPath=function(es,ki,Ri,ts){var rs=es._length,is=shapePool.newElement();if(is.c=es.c,es.c||(rs-=1),rs===0)return is;var ns=-1,ss=PolynomialBezier.shapeSegment(es,0);zigZagCorner(is,es,0,ki,Ri,ts,ns);for(var os=0;os<rs;os+=1)ns=zigZagSegment(is,ss,ki,Ri,ts,-ns),os===rs-1&&!es.c?ss=null:ss=PolynomialBezier.shapeSegment(es,(os+1)%rs),zigZagCorner(is,es,os+1,ki,Ri,ts,ns);return is},ZigZagModifier.prototype.processShapes=function(es){var ki,Ri,ts=this.shapes.length,rs,is,ns=this.amplitude.v,ss=Math.max(0,Math.round(this.frequency.v)),os=this.pointsType.v;if(ns!==0){var ls,cs;for(Ri=0;Ri<ts;Ri+=1){if(ls=this.shapes[Ri],cs=ls.localShapeCollection,!(!ls.shape._mdf&&!this._mdf&&!es))for(cs.releaseShapes(),ls.shape._mdf=!0,ki=ls.shape.paths.shapes,is=ls.shape.paths._length,rs=0;rs<is;rs+=1)cs.addShape(this.processPath(ki[rs],ns,ss,os));ls.shape.paths=ls.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(es,ki,Ri){var ts=Math.atan2(ki[0]-es[0],ki[1]-es[1]);return[polarOffset(es,ts,Ri),polarOffset(ki,ts,Ri)]}function offsetSegment(es,ki){var Ri,ts,rs,is,ns,ss,os;os=linearOffset(es.points[0],es.points[1],ki),Ri=os[0],ts=os[1],os=linearOffset(es.points[1],es.points[2],ki),rs=os[0],is=os[1],os=linearOffset(es.points[2],es.points[3],ki),ns=os[0],ss=os[1];var ls=lineIntersection(Ri,ts,rs,is);ls===null&&(ls=ts);var cs=lineIntersection(ns,ss,rs,is);return cs===null&&(cs=ns),new PolynomialBezier(Ri,ls,cs,ss)}function joinLines(es,ki,Ri,ts,rs){var is=ki.points[3],ns=Ri.points[0];if(ts===3||pointEqual(is,ns))return is;if(ts===2){var ss=-ki.tangentAngle(1),os=-Ri.tangentAngle(0)+Math.PI,ls=lineIntersection(is,polarOffset(is,ss+Math.PI/2,100),ns,polarOffset(ns,ss+Math.PI/2,100)),cs=ls?pointDistance(ls,is):pointDistance(is,ns)/2,hs=polarOffset(is,ss,2*cs*roundCorner);return es.setXYAt(hs[0],hs[1],"o",es.length()-1),hs=polarOffset(ns,os,2*cs*roundCorner),es.setTripleAt(ns[0],ns[1],ns[0],ns[1],hs[0],hs[1],es.length()),ns}var us=pointEqual(is,ki.points[2])?ki.points[0]:ki.points[2],As=pointEqual(ns,Ri.points[1])?Ri.points[3]:Ri.points[1],bs=lineIntersection(us,is,ns,As);return bs&&pointDistance(bs,is)<rs?(es.setTripleAt(bs[0],bs[1],bs[0],bs[1],bs[0],bs[1],es.length()),bs):is}function getIntersection(es,ki){var Ri=es.intersections(ki);return Ri.length&&floatEqual(Ri[0][0],1)&&Ri.shift(),Ri.length?Ri[0]:null}function pruneSegmentIntersection(es,ki){var Ri=es.slice(),ts=ki.slice(),rs=getIntersection(es[es.length-1],ki[0]);return rs&&(Ri[es.length-1]=es[es.length-1].split(rs[0])[0],ts[0]=ki[0].split(rs[1])[1]),es.length>1&&ki.length>1&&(rs=getIntersection(es[0],ki[ki.length-1]),rs)?[[es[0].split(rs[0])[0]],[ki[ki.length-1].split(rs[1])[1]]]:[Ri,ts]}function pruneIntersections(es){for(var ki,Ri=1;Ri<es.length;Ri+=1)ki=pruneSegmentIntersection(es[Ri-1],es[Ri]),es[Ri-1]=ki[0],es[Ri]=ki[1];return es.length>1&&(ki=pruneSegmentIntersection(es[es.length-1],es[0]),es[es.length-1]=ki[0],es[0]=ki[1]),es}function offsetSegmentSplit(es,ki){var Ri=es.inflectionPoints(),ts,rs,is,ns;if(Ri.length===0)return[offsetSegment(es,ki)];if(Ri.length===1||floatEqual(Ri[1],1))return is=es.split(Ri[0]),ts=is[0],rs=is[1],[offsetSegment(ts,ki),offsetSegment(rs,ki)];is=es.split(Ri[0]),ts=is[0];var ss=(Ri[1]-Ri[0])/(1-Ri[0]);return is=is[1].split(ss),ns=is[0],rs=is[1],[offsetSegment(ts,ki),offsetSegment(ns,ki),offsetSegment(rs,ki)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(es,ki){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(es,ki.a,0,null,this),this.miterLimit=PropertyFactory.getProp(es,ki.ml,0,null,this),this.lineJoin=ki.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(es,ki,Ri,ts){var rs=shapePool.newElement();rs.c=es.c;var is=es.length();es.c||(is-=1);var ns,ss,os,ls=[];for(ns=0;ns<is;ns+=1)os=PolynomialBezier.shapeSegment(es,ns),ls.push(offsetSegmentSplit(os,ki));if(!es.c)for(ns=is-1;ns>=0;ns-=1)os=PolynomialBezier.shapeSegmentInverted(es,ns),ls.push(offsetSegmentSplit(os,ki));ls=pruneIntersections(ls);var cs=null,hs=null;for(ns=0;ns<ls.length;ns+=1){var us=ls[ns];for(hs&&(cs=joinLines(rs,hs,us[0],Ri,ts)),hs=us[us.length-1],ss=0;ss<us.length;ss+=1)os=us[ss],cs&&pointEqual(os.points[0],cs)?rs.setXYAt(os.points[1][0],os.points[1][1],"o",rs.length()-1):rs.setTripleAt(os.points[0][0],os.points[0][1],os.points[1][0],os.points[1][1],os.points[0][0],os.points[0][1],rs.length()),rs.setTripleAt(os.points[3][0],os.points[3][1],os.points[3][0],os.points[3][1],os.points[2][0],os.points[2][1],rs.length()),cs=os.points[3]}return ls.length&&joinLines(rs,hs,ls[0][0],Ri,ts),rs},OffsetPathModifier.prototype.processShapes=function(es){var ki,Ri,ts=this.shapes.length,rs,is,ns=this.amount.v,ss=this.miterLimit.v,os=this.lineJoin;if(ns!==0){var ls,cs;for(Ri=0;Ri<ts;Ri+=1){if(ls=this.shapes[Ri],cs=ls.localShapeCollection,!(!ls.shape._mdf&&!this._mdf&&!es))for(cs.releaseShapes(),ls.shape._mdf=!0,ki=ls.shape.paths.shapes,is=ls.shape.paths._length,rs=0;rs<is;rs+=1)cs.addShape(this.processPath(ki[rs],ns,os,ss));ls.shape.paths=ls.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(es){for(var ki=es.fStyle?es.fStyle.split(" "):[],Ri="normal",ts="normal",rs=ki.length,is,ns=0;ns<rs;ns+=1)switch(is=ki[ns].toLowerCase(),is){case"italic":ts="italic";break;case"bold":Ri="700";break;case"black":Ri="900";break;case"medium":Ri="500";break;case"regular":case"normal":Ri="400";break;case"light":case"thin":Ri="200";break}return{style:ts,weight:es.fWeight||Ri}}var FontManager=function(){var es=5e3,ki={w:0,size:0,shapes:[],data:{shapes:[]}},Ri=[];Ri=Ri.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var ts=127988,rs=917631,is=917601,ns=917626,ss=65039,os=8205,ls=127462,cs=127487,hs=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function us(_s){var Ns=_s.split(","),Ss,Us=Ns.length,Zs=[];for(Ss=0;Ss<Us;Ss+=1)Ns[Ss]!=="sans-serif"&&Ns[Ss]!=="monospace"&&Zs.push(Ns[Ss]);return Zs.join(",")}function As(_s,Ns){var Ss=createTag("span");Ss.setAttribute("aria-hidden",!0),Ss.style.fontFamily=Ns;var Us=createTag("span");Us.innerText="giItT1WQy@!-/#",Ss.style.position="absolute",Ss.style.left="-10000px",Ss.style.top="-10000px",Ss.style.fontSize="300px",Ss.style.fontVariant="normal",Ss.style.fontStyle="normal",Ss.style.fontWeight="normal",Ss.style.letterSpacing="0",Ss.appendChild(Us),document.body.appendChild(Ss);var Zs=Us.offsetWidth;return Us.style.fontFamily=us(_s)+", "+Ns,{node:Us,w:Zs,parent:Ss}}function bs(){var _s,Ns=this.fonts.length,Ss,Us,Zs=Ns;for(_s=0;_s<Ns;_s+=1)this.fonts[_s].loaded?Zs-=1:this.fonts[_s].fOrigin==="n"||this.fonts[_s].origin===0?this.fonts[_s].loaded=!0:(Ss=this.fonts[_s].monoCase.node,Us=this.fonts[_s].monoCase.w,Ss.offsetWidth!==Us?(Zs-=1,this.fonts[_s].loaded=!0):(Ss=this.fonts[_s].sansCase.node,Us=this.fonts[_s].sansCase.w,Ss.offsetWidth!==Us&&(Zs-=1,this.fonts[_s].loaded=!0)),this.fonts[_s].loaded&&(this.fonts[_s].sansCase.parent.parentNode.removeChild(this.fonts[_s].sansCase.parent),this.fonts[_s].monoCase.parent.parentNode.removeChild(this.fonts[_s].monoCase.parent)));Zs!==0&&Date.now()-this.initTime<es?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function ys(_s,Ns){var Ss=document.body&&Ns?"svg":"canvas",Us,Zs=getFontProperties(_s);if(Ss==="svg"){var ao=createNS("text");ao.style.fontSize="100px",ao.setAttribute("font-family",_s.fFamily),ao.setAttribute("font-style",Zs.style),ao.setAttribute("font-weight",Zs.weight),ao.textContent="1",_s.fClass?(ao.style.fontFamily="inherit",ao.setAttribute("class",_s.fClass)):ao.style.fontFamily=_s.fFamily,Ns.appendChild(ao),Us=ao}else{var js=new OffscreenCanvas(500,500).getContext("2d");js.font=Zs.style+" "+Zs.weight+" 100px "+_s.fFamily,Us=js}function Bs(zs){return Ss==="svg"?(Us.textContent=zs,Us.getComputedTextLength()):Us.measureText(zs).width}return{measureText:Bs}}function Cs(_s,Ns){if(!_s){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=_s.list;return}if(!document.body){this.isLoaded=!0,_s.list.forEach(function(Xs){Xs.helper=ys(Xs),Xs.cache={}}),this.fonts=_s.list;return}var Ss=_s.list,Us,Zs=Ss.length,ao=Zs;for(Us=0;Us<Zs;Us+=1){var js=!0,Bs,zs;if(Ss[Us].loaded=!1,Ss[Us].monoCase=As(Ss[Us].fFamily,"monospace"),Ss[Us].sansCase=As(Ss[Us].fFamily,"sans-serif"),!Ss[Us].fPath)Ss[Us].loaded=!0,ao-=1;else if(Ss[Us].fOrigin==="p"||Ss[Us].origin===3){if(Bs=document.querySelectorAll('style[f-forigin="p"][f-family="'+Ss[Us].fFamily+'"], style[f-origin="3"][f-family="'+Ss[Us].fFamily+'"]'),Bs.length>0&&(js=!1),js){var so=createTag("style");so.setAttribute("f-forigin",Ss[Us].fOrigin),so.setAttribute("f-origin",Ss[Us].origin),so.setAttribute("f-family",Ss[Us].fFamily),so.type="text/css",so.innerText="@font-face {font-family: "+Ss[Us].fFamily+"; font-style: normal; src: url('"+Ss[Us].fPath+"');}",Ns.appendChild(so)}}else if(Ss[Us].fOrigin==="g"||Ss[Us].origin===1){for(Bs=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),zs=0;zs<Bs.length;zs+=1)Bs[zs].href.indexOf(Ss[Us].fPath)!==-1&&(js=!1);if(js){var oo=createTag("link");oo.setAttribute("f-forigin",Ss[Us].fOrigin),oo.setAttribute("f-origin",Ss[Us].origin),oo.type="text/css",oo.rel="stylesheet",oo.href=Ss[Us].fPath,document.body.appendChild(oo)}}else if(Ss[Us].fOrigin==="t"||Ss[Us].origin===2){for(Bs=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),zs=0;zs<Bs.length;zs+=1)Ss[Us].fPath===Bs[zs].src&&(js=!1);if(js){var Ao=createTag("link");Ao.setAttribute("f-forigin",Ss[Us].fOrigin),Ao.setAttribute("f-origin",Ss[Us].origin),Ao.setAttribute("rel","stylesheet"),Ao.setAttribute("href",Ss[Us].fPath),Ns.appendChild(Ao)}}Ss[Us].helper=ys(Ss[Us],Ns),Ss[Us].cache={},this.fonts.push(Ss[Us])}ao===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function ps(_s){if(_s){this.chars||(this.chars=[]);var Ns,Ss=_s.length,Us,Zs=this.chars.length,ao;for(Ns=0;Ns<Ss;Ns+=1){for(Us=0,ao=!1;Us<Zs;)this.chars[Us].style===_s[Ns].style&&this.chars[Us].fFamily===_s[Ns].fFamily&&this.chars[Us].ch===_s[Ns].ch&&(ao=!0),Us+=1;ao||(this.chars.push(_s[Ns]),Zs+=1)}}}function ms(_s,Ns,Ss){for(var Us=0,Zs=this.chars.length;Us<Zs;){if(this.chars[Us].ch===_s&&this.chars[Us].style===Ns&&this.chars[Us].fFamily===Ss)return this.chars[Us];Us+=1}return(typeof _s=="string"&&_s.charCodeAt(0)!==13||!_s)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",_s,Ns,Ss)),ki}function fs(_s,Ns,Ss){var Us=this.getFontByName(Ns),Zs=_s;if(!Us.cache[Zs]){var ao=Us.helper;if(_s===" "){var js=ao.measureText("|"+_s+"|"),Bs=ao.measureText("||");Us.cache[Zs]=(js-Bs)/100}else Us.cache[Zs]=ao.measureText(_s)/100}return Us.cache[Zs]*Ss}function gs(_s){for(var Ns=0,Ss=this.fonts.length;Ns<Ss;){if(this.fonts[Ns].fName===_s)return this.fonts[Ns];Ns+=1}return this.fonts[0]}function ws(_s){var Ns=0,Ss=_s.charCodeAt(0);if(Ss>=55296&&Ss<=56319){var Us=_s.charCodeAt(1);Us>=56320&&Us<=57343&&(Ns=(Ss-55296)*1024+Us-56320+65536)}return Ns}function Ts(_s,Ns){var Ss=_s.toString(16)+Ns.toString(16);return hs.indexOf(Ss)!==-1}function $s(_s){return _s===os}function Rs(_s){return _s===ss}function Ps(_s){var Ns=ws(_s);return Ns>=ls&&Ns<=cs}function Qs(_s){return Ps(_s.substr(0,2))&&Ps(_s.substr(2,2))}function Fs(_s){return Ri.indexOf(_s)!==-1}function Is(_s,Ns){var Ss=ws(_s.substr(Ns,2));if(Ss!==ts)return!1;var Us=0;for(Ns+=2;Us<5;){if(Ss=ws(_s.substr(Ns,2)),Ss<is||Ss>ns)return!1;Us+=1,Ns+=2}return ws(_s.substr(Ns,2))===rs}function Ms(){this.isLoaded=!0}var Ws=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Ws.isModifier=Ts,Ws.isZeroWidthJoiner=$s,Ws.isFlagEmoji=Qs,Ws.isRegionalCode=Ps,Ws.isCombinedCharacter=Fs,Ws.isRegionalFlag=Is,Ws.isVariationSelector=Rs,Ws.BLACK_FLAG_CODE_POINT=ts;var Ds={addChars:ps,addFonts:Cs,getCharData:ms,getFontByName:gs,measureText:fs,checkLoadedFonts:bs,setIsLoaded:Ms};return Ws.prototype=Ds,Ws}();function SlotManager(es){this.animationData=es}SlotManager.prototype.getProp=function(es){return this.animationData.slots&&this.animationData.slots[es.sid]?Object.assign(es,this.animationData.slots[es.sid].p):es};function slotFactory(es){return new SlotManager(es)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(ki){this.renderableComponents.indexOf(ki)===-1&&this.renderableComponents.push(ki)},removeRenderableComponent:function(ki){this.renderableComponents.indexOf(ki)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(ki),1)},prepareRenderableFrame:function(ki){this.checkLayerLimits(ki)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(ki){this.data.ip-this.data.st<=ki&&this.data.op-this.data.st>ki?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var ki,Ri=this.renderableComponents.length;for(ki=0;ki<Ri;ki+=1)this.renderableComponents[ki].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var es={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(ki){return es[ki]||""}}();function SliderEffect(es,ki,Ri){this.p=PropertyFactory.getProp(ki,es.v,0,0,Ri)}function AngleEffect(es,ki,Ri){this.p=PropertyFactory.getProp(ki,es.v,0,0,Ri)}function ColorEffect(es,ki,Ri){this.p=PropertyFactory.getProp(ki,es.v,1,0,Ri)}function PointEffect(es,ki,Ri){this.p=PropertyFactory.getProp(ki,es.v,1,0,Ri)}function LayerIndexEffect(es,ki,Ri){this.p=PropertyFactory.getProp(ki,es.v,0,0,Ri)}function MaskIndexEffect(es,ki,Ri){this.p=PropertyFactory.getProp(ki,es.v,0,0,Ri)}function CheckboxEffect(es,ki,Ri){this.p=PropertyFactory.getProp(ki,es.v,0,0,Ri)}function NoValueEffect(){this.p={}}function EffectsManager(es,ki){var Ri=es.ef||[];this.effectElements=[];var ts,rs=Ri.length,is;for(ts=0;ts<rs;ts+=1)is=new GroupEffect(Ri[ts],ki),this.effectElements.push(is)}function GroupEffect(es,ki){this.init(es,ki)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(es,ki){this.data=es,this.effectElements=[],this.initDynamicPropertyContainer(ki);var Ri,ts=this.data.ef.length,rs,is=this.data.ef;for(Ri=0;Ri<ts;Ri+=1){switch(rs=null,is[Ri].ty){case 0:rs=new SliderEffect(is[Ri],ki,this);break;case 1:rs=new AngleEffect(is[Ri],ki,this);break;case 2:rs=new ColorEffect(is[Ri],ki,this);break;case 3:rs=new PointEffect(is[Ri],ki,this);break;case 4:case 7:rs=new CheckboxEffect(is[Ri],ki,this);break;case 10:rs=new LayerIndexEffect(is[Ri],ki,this);break;case 11:rs=new MaskIndexEffect(is[Ri],ki,this);break;case 5:rs=new EffectsManager(is[Ri],ki);break;default:rs=new NoValueEffect(is[Ri]);break}rs&&this.effectElements.push(rs)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var ki=0,Ri=this.data.masksProperties.length;ki<Ri;){if(this.data.masksProperties[ki].mode!=="n"&&this.data.masksProperties[ki].cl!==!1)return!0;ki+=1}return!1},initExpressions:function(){var ki=getExpressionInterfaces();if(ki){var Ri=ki("layer"),ts=ki("effects"),rs=ki("shape"),is=ki("text"),ns=ki("comp");this.layerInterface=Ri(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var ss=ts.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(ss),this.data.ty===0||this.data.xt?this.compInterface=ns(this):this.data.ty===4?(this.layerInterface.shapeInterface=rs(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=is(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var ki=getBlendMode(this.data.bm),Ri=this.baseElement||this.layerElement;Ri.style["mix-blend-mode"]=ki},initBaseData:function(ki,Ri,ts){this.globalData=Ri,this.comp=ts,this.data=ki,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(ki,Ri){var ts,rs=this.dynamicProperties.length;for(ts=0;ts<rs;ts+=1)(Ri||this._isParent&&this.dynamicProperties[ts].propType==="transform")&&(this.dynamicProperties[ts].getValue(),this.dynamicProperties[ts]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(ki){this.dynamicProperties.indexOf(ki)===-1&&this.dynamicProperties.push(ki)}};function FootageElement(es,ki,Ri){this.initFrame(),this.initRenderable(),this.assetData=ki.getAssetData(es.refId),this.footageData=ki.imageLoader.getAsset(this.assetData),this.initBaseData(es,ki,Ri)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var es=getExpressionInterfaces();if(es){var ki=es("footage");this.layerInterface=ki(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(es,ki,Ri){this.initFrame(),this.initRenderable(),this.assetData=ki.getAssetData(es.refId),this.initBaseData(es,ki,Ri),this._isPlaying=!1,this._canPlay=!1;var ts=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(ts),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=es.tm?PropertyFactory.getProp(this,es.tm,0,ki.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,es.au&&es.au.lv?es.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(es){if(this.prepareRenderableFrame(es,!0),this.prepareProperties(es,!0),this.tm._placeholder)this._currentTime=es/this.data.sr;else{var ki=this.tm.v;this._currentTime=ki}this._volume=this.lv.v[0];var Ri=this._volume*this._volumeMultiplier;this._previousVolume!==Ri&&(this._previousVolume=Ri,this.audio.volume(Ri))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(es){this.audio.rate(es)},AudioElement.prototype.volume=function(es){this._volumeMultiplier=es,this._previousVolume=es*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(es){var ki,Ri=this.layers.length,ts;for(this.completeLayers=!0,ki=Ri-1;ki>=0;ki-=1)this.elements[ki]||(ts=this.layers[ki],ts.ip-ts.st<=es-this.layers[ki].st&&ts.op-ts.st>es-this.layers[ki].st&&this.buildItem(ki)),this.completeLayers=this.elements[ki]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(es){switch(es.ty){case 2:return this.createImage(es);case 0:return this.createComp(es);case 1:return this.createSolid(es);case 3:return this.createNull(es);case 4:return this.createShape(es);case 5:return this.createText(es);case 6:return this.createAudio(es);case 13:return this.createCamera(es);case 15:return this.createFootage(es);default:return this.createNull(es)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(es){return new AudioElement(es,this.globalData,this)},BaseRenderer.prototype.createFootage=function(es){return new FootageElement(es,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var es,ki=this.layers.length;for(es=0;es<ki;es+=1)this.buildItem(es);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(es){this.completeLayers=!1;var ki,Ri=es.length,ts,rs=this.layers.length;for(ki=0;ki<Ri;ki+=1)for(ts=0;ts<rs;){if(this.layers[ts].id===es[ki].id){this.layers[ts]=es[ki];break}ts+=1}},BaseRenderer.prototype.setProjectInterface=function(es){this.globalData.projectInterface=es},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(es,ki,Ri){for(var ts=this.elements,rs=this.layers,is=0,ns=rs.length;is<ns;)rs[is].ind==ki&&(!ts[is]||ts[is]===!0?(this.buildItem(is),this.addPendingElement(es)):(Ri.push(ts[is]),ts[is].setAsParent(),rs[is].parent!==void 0?this.buildElementParenting(es,rs[is].parent,Ri):es.setHierarchy(Ri))),is+=1},BaseRenderer.prototype.addPendingElement=function(es){this.pendingElements.push(es)},BaseRenderer.prototype.searchExtraCompositions=function(es){var ki,Ri=es.length;for(ki=0;ki<Ri;ki+=1)if(es[ki].xt){var ts=this.createComp(es[ki]);ts.initExpressions(),this.globalData.projectInterface.registerComposition(ts)}},BaseRenderer.prototype.getElementById=function(es){var ki,Ri=this.elements.length;for(ki=0;ki<Ri;ki+=1)if(this.elements[ki].data.ind===es)return this.elements[ki];return null},BaseRenderer.prototype.getElementByPath=function(es){var ki=es.shift(),Ri;if(typeof ki=="number")Ri=this.elements[ki];else{var ts,rs=this.elements.length;for(ts=0;ts<rs;ts+=1)if(this.elements[ts].data.nm===ki){Ri=this.elements[ts];break}}return es.length===0?Ri:Ri.getElementByPath(es)},BaseRenderer.prototype.setupGlobalData=function(es,ki){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(es),this.globalData.fontManager.addChars(es.chars),this.globalData.fontManager.addFonts(es.fonts,ki),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=es.fr,this.globalData.nm=es.nm,this.globalData.compSize={w:es.w,h:es.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var ki=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:ki,localMat:ki,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var ki,Ri=this.finalTransform.mat,ts=0,rs=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;ts<rs;){if(this.hierarchy[ts].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}ts+=1}if(this.finalTransform._matMdf)for(ki=this.finalTransform.mProp.v.props,Ri.cloneFromProps(ki),ts=0;ts<rs;ts+=1)Ri.multiply(this.hierarchy[ts].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var ki=0,Ri=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;ki<Ri;)this.localTransforms[ki]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[ki]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),ki+=1;if(this.finalTransform._localMatMdf){var ts=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(ts),ki=1;ki<Ri;ki+=1){var rs=this.localTransforms[ki].matrix;ts.multiply(rs)}ts.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var is=this.finalTransform.localOpacity;for(ki=0;ki<Ri;ki+=1)is*=this.localTransforms[ki].opacity*.01;this.finalTransform.localOpacity=is}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var ki=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(ki.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var Ri=0,ts=ki.length;for(Ri=0;Ri<ts;Ri+=1)this.localTransforms.push(ki[Ri])}}},globalToLocal:function(ki){var Ri=[];Ri.push(this.finalTransform);for(var ts=!0,rs=this.comp;ts;)rs.finalTransform?(rs.data.hasMask&&Ri.splice(0,0,rs.finalTransform),rs=rs.comp):ts=!1;var is,ns=Ri.length,ss;for(is=0;is<ns;is+=1)ss=Ri[is].mat.applyToPointArray(0,0,0),ki=[ki[0]-ss[0],ki[1]-ss[1],0];return ki},mHelper:new Matrix};function MaskElement(es,ki,Ri){this.data=es,this.element=ki,this.globalData=Ri,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var ts=this.globalData.defs,rs,is=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(is),this.solidPath="";var ns,ss=this.masksProperties,os=0,ls=[],cs,hs,us=createElementID(),As,bs,ys,Cs,ps="clipPath",ms="clip-path";for(rs=0;rs<is;rs+=1)if((ss[rs].mode!=="a"&&ss[rs].mode!=="n"||ss[rs].inv||ss[rs].o.k!==100||ss[rs].o.x)&&(ps="mask",ms="mask"),(ss[rs].mode==="s"||ss[rs].mode==="i")&&os===0?(As=createNS("rect"),As.setAttribute("fill","#ffffff"),As.setAttribute("width",this.element.comp.data.w||0),As.setAttribute("height",this.element.comp.data.h||0),ls.push(As)):As=null,ns=createNS("path"),ss[rs].mode==="n")this.viewData[rs]={op:PropertyFactory.getProp(this.element,ss[rs].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ss[rs],3),elem:ns,lastPath:""},ts.appendChild(ns);else{os+=1,ns.setAttribute("fill",ss[rs].mode==="s"?"#000000":"#ffffff"),ns.setAttribute("clip-rule","nonzero");var fs;if(ss[rs].x.k!==0?(ps="mask",ms="mask",Cs=PropertyFactory.getProp(this.element,ss[rs].x,0,null,this.element),fs=createElementID(),bs=createNS("filter"),bs.setAttribute("id",fs),ys=createNS("feMorphology"),ys.setAttribute("operator","erode"),ys.setAttribute("in","SourceGraphic"),ys.setAttribute("radius","0"),bs.appendChild(ys),ts.appendChild(bs),ns.setAttribute("stroke",ss[rs].mode==="s"?"#000000":"#ffffff")):(ys=null,Cs=null),this.storedData[rs]={elem:ns,x:Cs,expan:ys,lastPath:"",lastOperator:"",filterId:fs,lastRadius:0},ss[rs].mode==="i"){hs=ls.length;var gs=createNS("g");for(cs=0;cs<hs;cs+=1)gs.appendChild(ls[cs]);var ws=createNS("mask");ws.setAttribute("mask-type","alpha"),ws.setAttribute("id",us+"_"+os),ws.appendChild(ns),ts.appendChild(ws),gs.setAttribute("mask","url("+getLocationHref()+"#"+us+"_"+os+")"),ls.length=0,ls.push(gs)}else ls.push(ns);ss[rs].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[rs]={elem:ns,lastPath:"",op:PropertyFactory.getProp(this.element,ss[rs].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ss[rs],3),invRect:As},this.viewData[rs].prop.k||this.drawPath(ss[rs],this.viewData[rs].prop.v,this.viewData[rs])}for(this.maskElement=createNS(ps),is=ls.length,rs=0;rs<is;rs+=1)this.maskElement.appendChild(ls[rs]);os>0&&(this.maskElement.setAttribute("id",us),this.element.maskedElement.setAttribute(ms,"url("+getLocationHref()+"#"+us+")"),ts.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(es){return this.viewData[es].prop},MaskElement.prototype.renderFrame=function(es){var ki=this.element.finalTransform.mat,Ri,ts=this.masksProperties.length;for(Ri=0;Ri<ts;Ri+=1)if((this.viewData[Ri].prop._mdf||es)&&this.drawPath(this.masksProperties[Ri],this.viewData[Ri].prop.v,this.viewData[Ri]),(this.viewData[Ri].op._mdf||es)&&this.viewData[Ri].elem.setAttribute("fill-opacity",this.viewData[Ri].op.v),this.masksProperties[Ri].mode!=="n"&&(this.viewData[Ri].invRect&&(this.element.finalTransform.mProp._mdf||es)&&this.viewData[Ri].invRect.setAttribute("transform",ki.getInverseMatrix().to2dCSS()),this.storedData[Ri].x&&(this.storedData[Ri].x._mdf||es))){var rs=this.storedData[Ri].expan;this.storedData[Ri].x.v<0?(this.storedData[Ri].lastOperator!=="erode"&&(this.storedData[Ri].lastOperator="erode",this.storedData[Ri].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[Ri].filterId+")")),rs.setAttribute("radius",-this.storedData[Ri].x.v)):(this.storedData[Ri].lastOperator!=="dilate"&&(this.storedData[Ri].lastOperator="dilate",this.storedData[Ri].elem.setAttribute("filter",null)),this.storedData[Ri].elem.setAttribute("stroke-width",this.storedData[Ri].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var es="M0,0 ";return es+=" h"+this.globalData.compSize.w,es+=" v"+this.globalData.compSize.h,es+=" h-"+this.globalData.compSize.w,es+=" v-"+this.globalData.compSize.h+" ",es},MaskElement.prototype.drawPath=function(es,ki,Ri){var ts=" M"+ki.v[0][0]+","+ki.v[0][1],rs,is;for(is=ki._length,rs=1;rs<is;rs+=1)ts+=" C"+ki.o[rs-1][0]+","+ki.o[rs-1][1]+" "+ki.i[rs][0]+","+ki.i[rs][1]+" "+ki.v[rs][0]+","+ki.v[rs][1];if(ki.c&&is>1&&(ts+=" C"+ki.o[rs-1][0]+","+ki.o[rs-1][1]+" "+ki.i[0][0]+","+ki.i[0][1]+" "+ki.v[0][0]+","+ki.v[0][1]),Ri.lastPath!==ts){var ns="";Ri.elem&&(ki.c&&(ns=es.inv?this.solidPath+ts:ts),Ri.elem.setAttribute("d",ns)),Ri.lastPath=ts}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var es={};es.createFilter=ki,es.createAlphaToLuminanceFilter=Ri;function ki(ts,rs){var is=createNS("filter");return is.setAttribute("id",ts),rs!==!0&&(is.setAttribute("filterUnits","objectBoundingBox"),is.setAttribute("x","0%"),is.setAttribute("y","0%"),is.setAttribute("width","100%"),is.setAttribute("height","100%")),is}function Ri(){var ts=createNS("feColorMatrix");return ts.setAttribute("type","matrix"),ts.setAttribute("color-interpolation-filters","sRGB"),ts.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),ts}return es}(),featureSupport=function(){var es={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(es.maskType=!1),/firefox/i.test(navigator.userAgent)&&(es.svgLumaHidden=!1),es}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(es){var ki,Ri="SourceGraphic",ts=es.data.ef?es.data.ef.length:0,rs=createElementID(),is=filtersFactory.createFilter(rs,!0),ns=0;this.filters=[];var ss;for(ki=0;ki<ts;ki+=1){ss=null;var os=es.data.ef[ki].ty;if(registeredEffects$1[os]){var ls=registeredEffects$1[os].effect;ss=new ls(is,es.effectsManager.effectElements[ki],es,idPrefix+ns,Ri),Ri=idPrefix+ns,registeredEffects$1[os].countsAsEffect&&(ns+=1)}ss&&this.filters.push(ss)}ns&&(es.globalData.defs.appendChild(is),es.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+rs+")")),this.filters.length&&es.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(es){var ki,Ri=this.filters.length;for(ki=0;ki<Ri;ki+=1)this.filters[ki].renderFrame(es)},SVGEffects.prototype.getEffects=function(es){var ki,Ri=this.filters.length,ts=[];for(ki=0;ki<Ri;ki+=1)this.filters[ki].type===es&&ts.push(this.filters[ki]);return ts};function registerEffect$1(es,ki,Ri){registeredEffects$1[es]={effect:ki,countsAsEffect:Ri}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var ki=null;if(this.data.td){this.matteMasks={};var Ri=createNS("g");Ri.setAttribute("id",this.layerId),Ri.appendChild(this.layerElement),ki=Ri,this.globalData.defs.appendChild(Ri)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),ki=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var ts=createNS("clipPath"),rs=createNS("path");rs.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var is=createElementID();if(ts.setAttribute("id",is),ts.appendChild(rs),this.globalData.defs.appendChild(ts),this.checkMasks()){var ns=createNS("g");ns.setAttribute("clip-path","url("+getLocationHref()+"#"+is+")"),ns.appendChild(this.layerElement),this.transformedElement=ns,ki?ki.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+is+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(ki){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[ki]){var Ri=this.layerId+"_"+ki,ts,rs,is,ns;if(ki===1||ki===3){var ss=createNS("mask");ss.setAttribute("id",Ri),ss.setAttribute("mask-type",ki===3?"luminance":"alpha"),is=createNS("use"),is.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ss.appendChild(is),this.globalData.defs.appendChild(ss),!featureSupport.maskType&&ki===1&&(ss.setAttribute("mask-type","luminance"),ts=createElementID(),rs=filtersFactory.createFilter(ts),this.globalData.defs.appendChild(rs),rs.appendChild(filtersFactory.createAlphaToLuminanceFilter()),ns=createNS("g"),ns.appendChild(is),ss.appendChild(ns),ns.setAttribute("filter","url("+getLocationHref()+"#"+ts+")"))}else if(ki===2){var os=createNS("mask");os.setAttribute("id",Ri),os.setAttribute("mask-type","alpha");var ls=createNS("g");os.appendChild(ls),ts=createElementID(),rs=filtersFactory.createFilter(ts);var cs=createNS("feComponentTransfer");cs.setAttribute("in","SourceGraphic"),rs.appendChild(cs);var hs=createNS("feFuncA");hs.setAttribute("type","table"),hs.setAttribute("tableValues","1.0 0.0"),cs.appendChild(hs),this.globalData.defs.appendChild(rs);var us=createNS("rect");us.setAttribute("width",this.comp.data.w),us.setAttribute("height",this.comp.data.h),us.setAttribute("x","0"),us.setAttribute("y","0"),us.setAttribute("fill","#ffffff"),us.setAttribute("opacity","0"),ls.setAttribute("filter","url("+getLocationHref()+"#"+ts+")"),ls.appendChild(us),is=createNS("use"),is.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ls.appendChild(is),featureSupport.maskType||(os.setAttribute("mask-type","luminance"),rs.appendChild(filtersFactory.createAlphaToLuminanceFilter()),ns=createNS("g"),ls.appendChild(us),ns.appendChild(this.layerElement),ls.appendChild(ns)),this.globalData.defs.appendChild(os)}this.matteMasks[ki]=Ri}return this.matteMasks[ki]},setMatte:function(ki){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+ki+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(ki){this.hierarchy=ki},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var es={initElement:function(Ri,ts,rs){this.initFrame(),this.initBaseData(Ri,ts,rs),this.initTransform(Ri,ts,rs),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var Ri=this.baseElement||this.layerElement;Ri.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var Ri=this.baseElement||this.layerElement;Ri.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(Ri){this._mdf=!1,this.prepareRenderableFrame(Ri),this.prepareProperties(Ri,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(es)],RenderableDOMElement)})();function IImageElement(es,ki,Ri){this.assetData=ki.getAssetData(es.refId),this.assetData&&this.assetData.sid&&(this.assetData=ki.slotManager.getProp(this.assetData)),this.initElement(es,ki,Ri),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var es=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",es),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(es,ki){this.elem=es,this.pos=ki}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(ki){var Ri,ts=this.shapeModifiers.length;for(Ri=0;Ri<ts;Ri+=1)this.shapeModifiers[Ri].addShape(ki)},isShapeInAnimatedModifiers:function(ki){for(var Ri=0,ts=this.shapeModifiers.length;Ri<ts;)if(this.shapeModifiers[Ri].isAnimatedWithShape(ki))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var ki,Ri=this.shapes.length;for(ki=0;ki<Ri;ki+=1)this.shapes[ki].sh.reset();Ri=this.shapeModifiers.length;var ts;for(ki=Ri-1;ki>=0&&(ts=this.shapeModifiers[ki].processShapes(this._isFirstFrame),!ts);ki-=1);}},searchProcessedElement:function(ki){for(var Ri=this.processedElements,ts=0,rs=Ri.length;ts<rs;){if(Ri[ts].elem===ki)return Ri[ts].pos;ts+=1}return 0},addProcessedElement:function(ki,Ri){for(var ts=this.processedElements,rs=ts.length;rs;)if(rs-=1,ts[rs].elem===ki){ts[rs].pos=Ri;return}ts.push(new ProcessedElement(ki,Ri))},prepareFrame:function(ki){this.prepareRenderableFrame(ki),this.prepareProperties(ki,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(es,ki,Ri){this.caches=[],this.styles=[],this.transformers=es,this.lStr="",this.sh=Ri,this.lvl=ki,this._isAnimated=!!Ri.k;for(var ts=0,rs=es.length;ts<rs;){if(es[ts].mProps.dynamicProperties.length){this._isAnimated=!0;break}ts+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(es,ki){this.data=es,this.type=es.ty,this.d="",this.lvl=ki,this._mdf=!1,this.closed=es.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(es,ki,Ri,ts){this.elem=es,this.frameId=-1,this.dataProps=createSizedArray(ki.length),this.renderer=Ri,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",ki.length?ki.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(ts);var rs,is=ki.length||0,ns;for(rs=0;rs<is;rs+=1)ns=PropertyFactory.getProp(es,ki[rs].v,0,0,this),this.k=ns.k||this.k,this.dataProps[rs]={n:ki[rs].n,p:ns};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(es){if(!(this.elem.globalData.frameId===this.frameId&&!es)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||es,this._mdf)){var ki=0,Ri=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),ki=0;ki<Ri;ki+=1)this.dataProps[ki].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[ki].p.v:this.dashArray[ki]=this.dataProps[ki].p.v:this.dashoffset[0]=this.dataProps[ki].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(es,ki,Ri){this.initDynamicPropertyContainer(es),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(es,ki.o,0,.01,this),this.w=PropertyFactory.getProp(es,ki.w,0,null,this),this.d=new DashProperty(es,ki.d||{},"svg",this),this.c=PropertyFactory.getProp(es,ki.c,1,255,this),this.style=Ri,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(es,ki,Ri){this.initDynamicPropertyContainer(es),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(es,ki.o,0,.01,this),this.c=PropertyFactory.getProp(es,ki.c,1,255,this),this.style=Ri}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(es,ki,Ri){this.initDynamicPropertyContainer(es),this.getValue=this.iterateDynamicProperties,this.style=Ri}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(es,ki,Ri){this.data=ki,this.c=createTypedArray("uint8c",ki.p*4);var ts=ki.k.k[0].s?ki.k.k[0].s.length-ki.p*4:ki.k.k.length-ki.p*4;this.o=createTypedArray("float32",ts),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=ts,this.initDynamicPropertyContainer(Ri),this.prop=PropertyFactory.getProp(es,ki.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(es,ki){for(var Ri=0,ts=this.o.length/2,rs;Ri<ts;){if(rs=Math.abs(es[Ri*4]-es[ki*4+Ri*2]),rs>.01)return!1;Ri+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var es=0,ki=this.data.k.k.length;es<ki;){if(!this.comparePoints(this.data.k.k[es].s,this.data.p))return!1;es+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(es){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||es){var ki,Ri=this.data.p*4,ts,rs;for(ki=0;ki<Ri;ki+=1)ts=ki%4===0?100:255,rs=Math.round(this.prop.v[ki]*ts),this.c[ki]!==rs&&(this.c[ki]=rs,this._cmdf=!es);if(this.o.length)for(Ri=this.prop.v.length,ki=this.data.p*4;ki<Ri;ki+=1)ts=ki%2===0?100:1,rs=ki%2===0?Math.round(this.prop.v[ki]*100):this.prop.v[ki],this.o[ki-this.data.p*4]!==rs&&(this.o[ki-this.data.p*4]=rs,this._omdf=!es);this._mdf=!es}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(es,ki,Ri){this.initDynamicPropertyContainer(es),this.getValue=this.iterateDynamicProperties,this.initGradientData(es,ki,Ri)}SVGGradientFillStyleData.prototype.initGradientData=function(es,ki,Ri){this.o=PropertyFactory.getProp(es,ki.o,0,.01,this),this.s=PropertyFactory.getProp(es,ki.s,1,null,this),this.e=PropertyFactory.getProp(es,ki.e,1,null,this),this.h=PropertyFactory.getProp(es,ki.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(es,ki.a||{k:0},0,degToRads,this),this.g=new GradientProperty(es,ki.g,this),this.style=Ri,this.stops=[],this.setGradientData(Ri.pElem,ki),this.setGradientOpacity(ki,Ri),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(es,ki){var Ri=createElementID(),ts=createNS(ki.t===1?"linearGradient":"radialGradient");ts.setAttribute("id",Ri),ts.setAttribute("spreadMethod","pad"),ts.setAttribute("gradientUnits","userSpaceOnUse");var rs=[],is,ns,ss;for(ss=ki.g.p*4,ns=0;ns<ss;ns+=4)is=createNS("stop"),ts.appendChild(is),rs.push(is);es.setAttribute(ki.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+Ri+")"),this.gf=ts,this.cst=rs},SVGGradientFillStyleData.prototype.setGradientOpacity=function(es,ki){if(this.g._hasOpacity&&!this.g._collapsable){var Ri,ts,rs,is=createNS("mask"),ns=createNS("path");is.appendChild(ns);var ss=createElementID(),os=createElementID();is.setAttribute("id",os);var ls=createNS(es.t===1?"linearGradient":"radialGradient");ls.setAttribute("id",ss),ls.setAttribute("spreadMethod","pad"),ls.setAttribute("gradientUnits","userSpaceOnUse"),rs=es.g.k.k[0].s?es.g.k.k[0].s.length:es.g.k.k.length;var cs=this.stops;for(ts=es.g.p*4;ts<rs;ts+=2)Ri=createNS("stop"),Ri.setAttribute("stop-color","rgb(255,255,255)"),ls.appendChild(Ri),cs.push(Ri);ns.setAttribute(es.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ss+")"),es.ty==="gs"&&(ns.setAttribute("stroke-linecap",lineCapEnum[es.lc||2]),ns.setAttribute("stroke-linejoin",lineJoinEnum[es.lj||2]),es.lj===1&&ns.setAttribute("stroke-miterlimit",es.ml)),this.of=ls,this.ms=is,this.ost=cs,this.maskId=os,ki.msElem=ns}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(es,ki,Ri){this.initDynamicPropertyContainer(es),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(es,ki.w,0,null,this),this.d=new DashProperty(es,ki.d||{},"svg",this),this.initGradientData(es,ki,Ri),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(es,ki,Ri){this.transform={mProps:es,op:ki,container:Ri},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(ki,Ri,ts,rs){if(Ri===0)return"";var is=ki.o,ns=ki.i,ss=ki.v,os,ls=" M"+rs.applyToPointStringified(ss[0][0],ss[0][1]);for(os=1;os<Ri;os+=1)ls+=" C"+rs.applyToPointStringified(is[os-1][0],is[os-1][1])+" "+rs.applyToPointStringified(ns[os][0],ns[os][1])+" "+rs.applyToPointStringified(ss[os][0],ss[os][1]);return ts&&Ri&&(ls+=" C"+rs.applyToPointStringified(is[os-1][0],is[os-1][1])+" "+rs.applyToPointStringified(ns[0][0],ns[0][1])+" "+rs.applyToPointStringified(ss[0][0],ss[0][1]),ls+="z"),ls},SVGElementsRenderer=function(){var es=new Matrix,ki=new Matrix,Ri={createRenderFunction:ts};function ts(hs){switch(hs.ty){case"fl":return ss;case"gf":return ls;case"gs":return os;case"st":return cs;case"sh":case"el":case"rc":case"sr":return ns;case"tr":return rs;case"no":return is;default:return null}}function rs(hs,us,As){(As||us.transform.op._mdf)&&us.transform.container.setAttribute("opacity",us.transform.op.v),(As||us.transform.mProps._mdf)&&us.transform.container.setAttribute("transform",us.transform.mProps.v.to2dCSS())}function is(){}function ns(hs,us,As){var bs,ys,Cs,ps,ms,fs,gs=us.styles.length,ws=us.lvl,Ts,$s,Rs,Ps;for(fs=0;fs<gs;fs+=1){if(ps=us.sh._mdf||As,us.styles[fs].lvl<ws){for($s=ki.reset(),Rs=ws-us.styles[fs].lvl,Ps=us.transformers.length-1;!ps&&Rs>0;)ps=us.transformers[Ps].mProps._mdf||ps,Rs-=1,Ps-=1;if(ps)for(Rs=ws-us.styles[fs].lvl,Ps=us.transformers.length-1;Rs>0;)$s.multiply(us.transformers[Ps].mProps.v),Rs-=1,Ps-=1}else $s=es;if(Ts=us.sh.paths,ys=Ts._length,ps){for(Cs="",bs=0;bs<ys;bs+=1)ms=Ts.shapes[bs],ms&&ms._length&&(Cs+=buildShapeString(ms,ms._length,ms.c,$s));us.caches[fs]=Cs}else Cs=us.caches[fs];us.styles[fs].d+=hs.hd===!0?"":Cs,us.styles[fs]._mdf=ps||us.styles[fs]._mdf}}function ss(hs,us,As){var bs=us.style;(us.c._mdf||As)&&bs.pElem.setAttribute("fill","rgb("+bmFloor(us.c.v[0])+","+bmFloor(us.c.v[1])+","+bmFloor(us.c.v[2])+")"),(us.o._mdf||As)&&bs.pElem.setAttribute("fill-opacity",us.o.v)}function os(hs,us,As){ls(hs,us,As),cs(hs,us,As)}function ls(hs,us,As){var bs=us.gf,ys=us.g._hasOpacity,Cs=us.s.v,ps=us.e.v;if(us.o._mdf||As){var ms=hs.ty==="gf"?"fill-opacity":"stroke-opacity";us.style.pElem.setAttribute(ms,us.o.v)}if(us.s._mdf||As){var fs=hs.t===1?"x1":"cx",gs=fs==="x1"?"y1":"cy";bs.setAttribute(fs,Cs[0]),bs.setAttribute(gs,Cs[1]),ys&&!us.g._collapsable&&(us.of.setAttribute(fs,Cs[0]),us.of.setAttribute(gs,Cs[1]))}var ws,Ts,$s,Rs;if(us.g._cmdf||As){ws=us.cst;var Ps=us.g.c;for($s=ws.length,Ts=0;Ts<$s;Ts+=1)Rs=ws[Ts],Rs.setAttribute("offset",Ps[Ts*4]+"%"),Rs.setAttribute("stop-color","rgb("+Ps[Ts*4+1]+","+Ps[Ts*4+2]+","+Ps[Ts*4+3]+")")}if(ys&&(us.g._omdf||As)){var Qs=us.g.o;for(us.g._collapsable?ws=us.cst:ws=us.ost,$s=ws.length,Ts=0;Ts<$s;Ts+=1)Rs=ws[Ts],us.g._collapsable||Rs.setAttribute("offset",Qs[Ts*2]+"%"),Rs.setAttribute("stop-opacity",Qs[Ts*2+1])}if(hs.t===1)(us.e._mdf||As)&&(bs.setAttribute("x2",ps[0]),bs.setAttribute("y2",ps[1]),ys&&!us.g._collapsable&&(us.of.setAttribute("x2",ps[0]),us.of.setAttribute("y2",ps[1])));else{var Fs;if((us.s._mdf||us.e._mdf||As)&&(Fs=Math.sqrt(Math.pow(Cs[0]-ps[0],2)+Math.pow(Cs[1]-ps[1],2)),bs.setAttribute("r",Fs),ys&&!us.g._collapsable&&us.of.setAttribute("r",Fs)),us.e._mdf||us.h._mdf||us.a._mdf||As){Fs||(Fs=Math.sqrt(Math.pow(Cs[0]-ps[0],2)+Math.pow(Cs[1]-ps[1],2)));var Is=Math.atan2(ps[1]-Cs[1],ps[0]-Cs[0]),Ms=us.h.v;Ms>=1?Ms=.99:Ms<=-1&&(Ms=-.99);var Ws=Fs*Ms,Ds=Math.cos(Is+us.a.v)*Ws+Cs[0],_s=Math.sin(Is+us.a.v)*Ws+Cs[1];bs.setAttribute("fx",Ds),bs.setAttribute("fy",_s),ys&&!us.g._collapsable&&(us.of.setAttribute("fx",Ds),us.of.setAttribute("fy",_s))}}}function cs(hs,us,As){var bs=us.style,ys=us.d;ys&&(ys._mdf||As)&&ys.dashStr&&(bs.pElem.setAttribute("stroke-dasharray",ys.dashStr),bs.pElem.setAttribute("stroke-dashoffset",ys.dashoffset[0])),us.c&&(us.c._mdf||As)&&bs.pElem.setAttribute("stroke","rgb("+bmFloor(us.c.v[0])+","+bmFloor(us.c.v[1])+","+bmFloor(us.c.v[2])+")"),(us.o._mdf||As)&&bs.pElem.setAttribute("stroke-opacity",us.o.v),(us.w._mdf||As)&&(bs.pElem.setAttribute("stroke-width",us.w.v),bs.msElem&&bs.msElem.setAttribute("stroke-width",us.w.v))}return Ri}();function SVGShapeElement(es,ki,Ri){this.shapes=[],this.shapesData=es.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(es,ki,Ri),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var es,ki=this.shapes.length,Ri,ts,rs=this.stylesList.length,is,ns=[],ss=!1;for(ts=0;ts<rs;ts+=1){for(is=this.stylesList[ts],ss=!1,ns.length=0,es=0;es<ki;es+=1)Ri=this.shapes[es],Ri.styles.indexOf(is)!==-1&&(ns.push(Ri),ss=Ri._isAnimated||ss);ns.length>1&&ss&&this.setShapesAsAnimated(ns)}},SVGShapeElement.prototype.setShapesAsAnimated=function(es){var ki,Ri=es.length;for(ki=0;ki<Ri;ki+=1)es[ki].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(es,ki){var Ri,ts=new SVGStyleData(es,ki),rs=ts.pElem;if(es.ty==="st")Ri=new SVGStrokeStyleData(this,es,ts);else if(es.ty==="fl")Ri=new SVGFillStyleData(this,es,ts);else if(es.ty==="gf"||es.ty==="gs"){var is=es.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;Ri=new is(this,es,ts),this.globalData.defs.appendChild(Ri.gf),Ri.maskId&&(this.globalData.defs.appendChild(Ri.ms),this.globalData.defs.appendChild(Ri.of),rs.setAttribute("mask","url("+getLocationHref()+"#"+Ri.maskId+")"))}else es.ty==="no"&&(Ri=new SVGNoStyleData(this,es,ts));return(es.ty==="st"||es.ty==="gs")&&(rs.setAttribute("stroke-linecap",lineCapEnum[es.lc||2]),rs.setAttribute("stroke-linejoin",lineJoinEnum[es.lj||2]),rs.setAttribute("fill-opacity","0"),es.lj===1&&rs.setAttribute("stroke-miterlimit",es.ml)),es.r===2&&rs.setAttribute("fill-rule","evenodd"),es.ln&&rs.setAttribute("id",es.ln),es.cl&&rs.setAttribute("class",es.cl),es.bm&&(rs.style["mix-blend-mode"]=getBlendMode(es.bm)),this.stylesList.push(ts),this.addToAnimatedContents(es,Ri),Ri},SVGShapeElement.prototype.createGroupElement=function(es){var ki=new ShapeGroupData;return es.ln&&ki.gr.setAttribute("id",es.ln),es.cl&&ki.gr.setAttribute("class",es.cl),es.bm&&(ki.gr.style["mix-blend-mode"]=getBlendMode(es.bm)),ki},SVGShapeElement.prototype.createTransformElement=function(es,ki){var Ri=TransformPropertyFactory.getTransformProperty(this,es,this),ts=new SVGTransformData(Ri,Ri.o,ki);return this.addToAnimatedContents(es,ts),ts},SVGShapeElement.prototype.createShapeElement=function(es,ki,Ri){var ts=4;es.ty==="rc"?ts=5:es.ty==="el"?ts=6:es.ty==="sr"&&(ts=7);var rs=ShapePropertyFactory.getShapeProp(this,es,ts,this),is=new SVGShapeData(ki,Ri,rs);return this.shapes.push(is),this.addShapeToModifiers(is),this.addToAnimatedContents(es,is),is},SVGShapeElement.prototype.addToAnimatedContents=function(es,ki){for(var Ri=0,ts=this.animatedContents.length;Ri<ts;){if(this.animatedContents[Ri].element===ki)return;Ri+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(es),element:ki,data:es})},SVGShapeElement.prototype.setElementStyles=function(es){var ki=es.styles,Ri,ts=this.stylesList.length;for(Ri=0;Ri<ts;Ri+=1)this.stylesList[Ri].closed||ki.push(this.stylesList[Ri])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var es,ki=this.itemsData.length;for(es=0;es<ki;es+=1)this.prevViewData[es]=this.itemsData[es];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),ki=this.dynamicProperties.length,es=0;es<ki;es+=1)this.dynamicProperties[es].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(es,ki,Ri,ts,rs,is,ns){var ss=[].concat(is),os,ls=es.length-1,cs,hs,us=[],As=[],bs,ys,Cs;for(os=ls;os>=0;os-=1){if(Cs=this.searchProcessedElement(es[os]),Cs?ki[os]=Ri[Cs-1]:es[os]._render=ns,es[os].ty==="fl"||es[os].ty==="st"||es[os].ty==="gf"||es[os].ty==="gs"||es[os].ty==="no")Cs?ki[os].style.closed=!1:ki[os]=this.createStyleElement(es[os],rs),es[os]._render&&ki[os].style.pElem.parentNode!==ts&&ts.appendChild(ki[os].style.pElem),us.push(ki[os].style);else if(es[os].ty==="gr"){if(!Cs)ki[os]=this.createGroupElement(es[os]);else for(hs=ki[os].it.length,cs=0;cs<hs;cs+=1)ki[os].prevViewData[cs]=ki[os].it[cs];this.searchShapes(es[os].it,ki[os].it,ki[os].prevViewData,ki[os].gr,rs+1,ss,ns),es[os]._render&&ki[os].gr.parentNode!==ts&&ts.appendChild(ki[os].gr)}else es[os].ty==="tr"?(Cs||(ki[os]=this.createTransformElement(es[os],ts)),bs=ki[os].transform,ss.push(bs)):es[os].ty==="sh"||es[os].ty==="rc"||es[os].ty==="el"||es[os].ty==="sr"?(Cs||(ki[os]=this.createShapeElement(es[os],ss,rs)),this.setElementStyles(ki[os])):es[os].ty==="tm"||es[os].ty==="rd"||es[os].ty==="ms"||es[os].ty==="pb"||es[os].ty==="zz"||es[os].ty==="op"?(Cs?(ys=ki[os],ys.closed=!1):(ys=ShapeModifiers.getModifier(es[os].ty),ys.init(this,es[os]),ki[os]=ys,this.shapeModifiers.push(ys)),As.push(ys)):es[os].ty==="rp"&&(Cs?(ys=ki[os],ys.closed=!0):(ys=ShapeModifiers.getModifier(es[os].ty),ki[os]=ys,ys.init(this,es,os,ki),this.shapeModifiers.push(ys),ns=!1),As.push(ys));this.addProcessedElement(es[os],os+1)}for(ls=us.length,os=0;os<ls;os+=1)us[os].closed=!0;for(ls=As.length,os=0;os<ls;os+=1)As[os].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var es,ki=this.stylesList.length;for(es=0;es<ki;es+=1)this.stylesList[es].reset();for(this.renderShape(),es=0;es<ki;es+=1)(this.stylesList[es]._mdf||this._isFirstFrame)&&(this.stylesList[es].msElem&&(this.stylesList[es].msElem.setAttribute("d",this.stylesList[es].d),this.stylesList[es].d="M0 0"+this.stylesList[es].d),this.stylesList[es].pElem.setAttribute("d",this.stylesList[es].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var es,ki=this.animatedContents.length,Ri;for(es=0;es<ki;es+=1)Ri=this.animatedContents[es],(this._isFirstFrame||Ri.element._isAnimated)&&Ri.data!==!0&&Ri.fn(Ri.data,Ri.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(es,ki,Ri,ts,rs,is){this.o=es,this.sw=ki,this.sc=Ri,this.fc=ts,this.m=rs,this.p=is,this._mdf={o:!0,sw:!!ki,sc:!!Ri,fc:!!ts,m:!0,p:!0}}LetterProps.prototype.update=function(es,ki,Ri,ts,rs,is){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var ns=!1;return this.o!==es&&(this.o=es,this._mdf.o=!0,ns=!0),this.sw!==ki&&(this.sw=ki,this._mdf.sw=!0,ns=!0),this.sc!==Ri&&(this.sc=Ri,this._mdf.sc=!0,ns=!0),this.fc!==ts&&(this.fc=ts,this._mdf.fc=!0,ns=!0),this.m!==rs&&(this.m=rs,this._mdf.m=!0,ns=!0),is.length&&(this.p[0]!==is[0]||this.p[1]!==is[1]||this.p[4]!==is[4]||this.p[5]!==is[5]||this.p[12]!==is[12]||this.p[13]!==is[13])&&(this.p=is,this._mdf.p=!0,ns=!0),ns};function TextProperty(es,ki){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,ki.d&&ki.d.sid&&(ki.d=es.globalData.slotManager.getProp(ki.d)),this.data=ki,this.elem=es,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(es,ki){for(var Ri in ki)Object.prototype.hasOwnProperty.call(ki,Ri)&&(es[Ri]=ki[Ri]);return es},TextProperty.prototype.setCurrentData=function(es){es.__complete||this.completeTextData(es),this.currentData=es,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(es){this.effectsSequence.push(es),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(es){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!es)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var ki=this.currentData,Ri=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var ts,rs=this.effectsSequence.length,is=es||this.data.d.k[this.keysIndex].s;for(ts=0;ts<rs;ts+=1)Ri!==this.keysIndex?is=this.effectsSequence[ts](is,is.t):is=this.effectsSequence[ts](this.currentData,is.t);ki!==is&&this.setCurrentData(is),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var es=this.data.d.k,ki=this.elem.comp.renderedFrame,Ri=0,ts=es.length;Ri<=ts-1&&!(Ri===ts-1||es[Ri+1].t>ki);)Ri+=1;return this.keysIndex!==Ri&&(this.keysIndex=Ri),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(es){for(var ki=[],Ri=0,ts=es.length,rs,is,ns=!1,ss=!1,os="";Ri<ts;)ns=ss,ss=!1,rs=es.charCodeAt(Ri),os=es.charAt(Ri),FontManager.isCombinedCharacter(rs)?ns=!0:rs>=55296&&rs<=56319?FontManager.isRegionalFlag(es,Ri)?os=es.substr(Ri,14):(is=es.charCodeAt(Ri+1),is>=56320&&is<=57343&&(FontManager.isModifier(rs,is)?(os=es.substr(Ri,2),ns=!0):FontManager.isFlagEmoji(es.substr(Ri,4))?os=es.substr(Ri,4):os=es.substr(Ri,2))):rs>56319?(is=es.charCodeAt(Ri+1),FontManager.isVariationSelector(rs)&&(ns=!0)):FontManager.isZeroWidthJoiner(rs)&&(ns=!0,ss=!0),ns?(ki[ki.length-1]+=os,ns=!1):ki.push(os),Ri+=os.length;return ki},TextProperty.prototype.completeTextData=function(es){es.__complete=!0;var ki=this.elem.globalData.fontManager,Ri=this.data,ts=[],rs,is,ns,ss=0,os,ls=Ri.m.g,cs=0,hs=0,us=0,As=[],bs=0,ys=0,Cs,ps,ms=ki.getFontByName(es.f),fs,gs=0,ws=getFontProperties(ms);es.fWeight=ws.weight,es.fStyle=ws.style,es.finalSize=es.s,es.finalText=this.buildFinalText(es.t),is=es.finalText.length,es.finalLineHeight=es.lh;var Ts=es.tr/1e3*es.finalSize,$s;if(es.sz)for(var Rs=!0,Ps=es.sz[0],Qs=es.sz[1],Fs,Is;Rs;){Is=this.buildFinalText(es.t),Fs=0,bs=0,is=Is.length,Ts=es.tr/1e3*es.finalSize;var Ms=-1;for(rs=0;rs<is;rs+=1)$s=Is[rs].charCodeAt(0),ns=!1,Is[rs]===" "?Ms=rs:($s===13||$s===3)&&(bs=0,ns=!0,Fs+=es.finalLineHeight||es.finalSize*1.2),ki.chars?(fs=ki.getCharData(Is[rs],ms.fStyle,ms.fFamily),gs=ns?0:fs.w*es.finalSize/100):gs=ki.measureText(Is[rs],es.f,es.finalSize),bs+gs>Ps&&Is[rs]!==" "?(Ms===-1?is+=1:rs=Ms,Fs+=es.finalLineHeight||es.finalSize*1.2,Is.splice(rs,Ms===rs?1:0,"\r"),Ms=-1,bs=0):(bs+=gs,bs+=Ts);Fs+=ms.ascent*es.finalSize/100,this.canResize&&es.finalSize>this.minimumFontSize&&Qs<Fs?(es.finalSize-=1,es.finalLineHeight=es.finalSize*es.lh/es.s):(es.finalText=Is,is=es.finalText.length,Rs=!1)}bs=-Ts,gs=0;var Ws=0,Ds;for(rs=0;rs<is;rs+=1)if(ns=!1,Ds=es.finalText[rs],$s=Ds.charCodeAt(0),$s===13||$s===3?(Ws=0,As.push(bs),ys=bs>ys?bs:ys,bs=-2*Ts,os="",ns=!0,us+=1):os=Ds,ki.chars?(fs=ki.getCharData(Ds,ms.fStyle,ki.getFontByName(es.f).fFamily),gs=ns?0:fs.w*es.finalSize/100):gs=ki.measureText(os,es.f,es.finalSize),Ds===" "?Ws+=gs+Ts:(bs+=gs+Ts+Ws,Ws=0),ts.push({l:gs,an:gs,add:cs,n:ns,anIndexes:[],val:os,line:us,animatorJustifyOffset:0}),ls==2){if(cs+=gs,os===""||os===" "||rs===is-1){for((os===""||os===" ")&&(cs-=gs);hs<=rs;)ts[hs].an=cs,ts[hs].ind=ss,ts[hs].extra=gs,hs+=1;ss+=1,cs=0}}else if(ls==3){if(cs+=gs,os===""||rs===is-1){for(os===""&&(cs-=gs);hs<=rs;)ts[hs].an=cs,ts[hs].ind=ss,ts[hs].extra=gs,hs+=1;cs=0,ss+=1}}else ts[ss].ind=ss,ts[ss].extra=0,ss+=1;if(es.l=ts,ys=bs>ys?bs:ys,As.push(bs),es.sz)es.boxWidth=es.sz[0],es.justifyOffset=0;else switch(es.boxWidth=ys,es.j){case 1:es.justifyOffset=-es.boxWidth;break;case 2:es.justifyOffset=-es.boxWidth/2;break;default:es.justifyOffset=0}es.lineWidths=As;var _s=Ri.a,Ns,Ss;ps=_s.length;var Us,Zs,ao=[];for(Cs=0;Cs<ps;Cs+=1){for(Ns=_s[Cs],Ns.a.sc&&(es.strokeColorAnim=!0),Ns.a.sw&&(es.strokeWidthAnim=!0),(Ns.a.fc||Ns.a.fh||Ns.a.fs||Ns.a.fb)&&(es.fillColorAnim=!0),Zs=0,Us=Ns.s.b,rs=0;rs<is;rs+=1)Ss=ts[rs],Ss.anIndexes[Cs]=Zs,(Us==1&&Ss.val!==""||Us==2&&Ss.val!==""&&Ss.val!==" "||Us==3&&(Ss.n||Ss.val==" "||rs==is-1)||Us==4&&(Ss.n||rs==is-1))&&(Ns.s.rn===1&&ao.push(Zs),Zs+=1);Ri.a[Cs].s.totalChars=Zs;var js=-1,Bs;if(Ns.s.rn===1)for(rs=0;rs<is;rs+=1)Ss=ts[rs],js!=Ss.anIndexes[Cs]&&(js=Ss.anIndexes[Cs],Bs=ao.splice(Math.floor(Math.random()*ao.length),1)[0]),Ss.anIndexes[Cs]=Bs}es.yOffset=es.finalLineHeight||es.finalSize*1.2,es.ls=es.ls||0,es.ascent=ms.ascent*es.finalSize/100},TextProperty.prototype.updateDocumentData=function(es,ki){ki=ki===void 0?this.keysIndex:ki;var Ri=this.copyData({},this.data.d.k[ki].s);Ri=this.copyData(Ri,es),this.data.d.k[ki].s=Ri,this.recalculate(ki),this.setCurrentData(Ri),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(es){var ki=this.data.d.k[es].s;ki.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(ki)},TextProperty.prototype.canResizeFont=function(es){this.canResize=es,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(es){this.minimumFontSize=Math.floor(es)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var es=Math.max,ki=Math.min,Ri=Math.floor;function ts(is,ns){this._currentTextLength=-1,this.k=!1,this.data=ns,this.elem=is,this.comp=is.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(is),this.s=PropertyFactory.getProp(is,ns.s||{k:0},0,0,this),"e"in ns?this.e=PropertyFactory.getProp(is,ns.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(is,ns.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(is,ns.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(is,ns.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(is,ns.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(is,ns.a,0,.01,this),this.dynamicProperties.length||this.getValue()}ts.prototype={getMult:function(ns){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var ss=0,os=0,ls=1,cs=1;this.ne.v>0?ss=this.ne.v/100:os=-this.ne.v/100,this.xe.v>0?ls=1-this.xe.v/100:cs=1+this.xe.v/100;var hs=BezierFactory.getBezierEasing(ss,os,ls,cs).get,us=0,As=this.finalS,bs=this.finalE,ys=this.data.sh;if(ys===2)bs===As?us=ns>=bs?1:0:us=es(0,ki(.5/(bs-As)+(ns-As)/(bs-As),1)),us=hs(us);else if(ys===3)bs===As?us=ns>=bs?0:1:us=1-es(0,ki(.5/(bs-As)+(ns-As)/(bs-As),1)),us=hs(us);else if(ys===4)bs===As?us=0:(us=es(0,ki(.5/(bs-As)+(ns-As)/(bs-As),1)),us<.5?us*=2:us=1-2*(us-.5)),us=hs(us);else if(ys===5){if(bs===As)us=0;else{var Cs=bs-As;ns=ki(es(0,ns+.5-As),bs-As);var ps=-Cs/2+ns,ms=Cs/2;us=Math.sqrt(1-ps*ps/(ms*ms))}us=hs(us)}else ys===6?(bs===As?us=0:(ns=ki(es(0,ns+.5-As),bs-As),us=(1+Math.cos(Math.PI+Math.PI*2*ns/(bs-As)))/2),us=hs(us)):(ns>=Ri(As)&&(ns-As<0?us=es(0,ki(ki(bs,1)-(As-ns),1)):us=es(0,ki(bs-ns,1))),us=hs(us));if(this.sm.v!==100){var fs=this.sm.v*.01;fs===0&&(fs=1e-8);var gs=.5-fs*.5;us<gs?us=0:(us=(us-gs)/fs,us>1&&(us=1))}return us*this.a.v},getValue:function(ns){this.iterateDynamicProperties(),this._mdf=ns||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,ns&&this.data.r===2&&(this.e.v=this._currentTextLength);var ss=this.data.r===2?1:100/this.data.totalChars,os=this.o.v/ss,ls=this.s.v/ss+os,cs=this.e.v/ss+os;if(ls>cs){var hs=ls;ls=cs,cs=hs}this.finalS=ls,this.finalE=cs}},extendPrototype([DynamicPropertyContainer],ts);function rs(is,ns,ss){return new ts(is,ns)}return{getTextSelectorProp:rs}}();function TextAnimatorDataProperty(es,ki,Ri){var ts={propType:!1},rs=PropertyFactory.getProp,is=ki.a;this.a={r:is.r?rs(es,is.r,0,degToRads,Ri):ts,rx:is.rx?rs(es,is.rx,0,degToRads,Ri):ts,ry:is.ry?rs(es,is.ry,0,degToRads,Ri):ts,sk:is.sk?rs(es,is.sk,0,degToRads,Ri):ts,sa:is.sa?rs(es,is.sa,0,degToRads,Ri):ts,s:is.s?rs(es,is.s,1,.01,Ri):ts,a:is.a?rs(es,is.a,1,0,Ri):ts,o:is.o?rs(es,is.o,0,.01,Ri):ts,p:is.p?rs(es,is.p,1,0,Ri):ts,sw:is.sw?rs(es,is.sw,0,0,Ri):ts,sc:is.sc?rs(es,is.sc,1,0,Ri):ts,fc:is.fc?rs(es,is.fc,1,0,Ri):ts,fh:is.fh?rs(es,is.fh,0,0,Ri):ts,fs:is.fs?rs(es,is.fs,0,.01,Ri):ts,fb:is.fb?rs(es,is.fb,0,.01,Ri):ts,t:is.t?rs(es,is.t,0,0,Ri):ts},this.s=TextSelectorProp.getTextSelectorProp(es,ki.s,Ri),this.s.t=ki.s.t}function TextAnimatorProperty(es,ki,Ri){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=es,this._renderType=ki,this._elem=Ri,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(Ri)}TextAnimatorProperty.prototype.searchProperties=function(){var es,ki=this._textData.a.length,Ri,ts=PropertyFactory.getProp;for(es=0;es<ki;es+=1)Ri=this._textData.a[es],this._animatorsData[es]=new TextAnimatorDataProperty(this._elem,Ri,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:ts(this._elem,this._textData.p.a,0,0,this),f:ts(this._elem,this._textData.p.f,0,0,this),l:ts(this._elem,this._textData.p.l,0,0,this),r:ts(this._elem,this._textData.p.r,0,0,this),p:ts(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=ts(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(es,ki){if(this.lettersChangedFlag=ki,!(!this._mdf&&!this._isFirstFrame&&!ki&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var Ri=this._moreOptions.alignment.v,ts=this._animatorsData,rs=this._textData,is=this.mHelper,ns=this._renderType,ss=this.renderedLetters.length,os,ls,cs,hs,us=es.l,As,bs,ys,Cs,ps,ms,fs,gs,ws,Ts,$s,Rs,Ps,Qs,Fs;if(this._hasMaskedPath){if(Fs=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Is=Fs.v;this._pathData.r.v&&(Is=Is.reverse()),As={tLength:0,segments:[]},hs=Is._length-1;var Ms;for(Rs=0,cs=0;cs<hs;cs+=1)Ms=bez.buildBezierData(Is.v[cs],Is.v[cs+1],[Is.o[cs][0]-Is.v[cs][0],Is.o[cs][1]-Is.v[cs][1]],[Is.i[cs+1][0]-Is.v[cs+1][0],Is.i[cs+1][1]-Is.v[cs+1][1]]),As.tLength+=Ms.segmentLength,As.segments.push(Ms),Rs+=Ms.segmentLength;cs=hs,Fs.v.c&&(Ms=bez.buildBezierData(Is.v[cs],Is.v[0],[Is.o[cs][0]-Is.v[cs][0],Is.o[cs][1]-Is.v[cs][1]],[Is.i[0][0]-Is.v[0][0],Is.i[0][1]-Is.v[0][1]]),As.tLength+=Ms.segmentLength,As.segments.push(Ms),Rs+=Ms.segmentLength),this._pathData.pi=As}if(As=this._pathData.pi,bs=this._pathData.f.v,fs=0,ms=1,Cs=0,ps=!0,Ts=As.segments,bs<0&&Fs.v.c)for(As.tLength<Math.abs(bs)&&(bs=-Math.abs(bs)%As.tLength),fs=Ts.length-1,ws=Ts[fs].points,ms=ws.length-1;bs<0;)bs+=ws[ms].partialLength,ms-=1,ms<0&&(fs-=1,ws=Ts[fs].points,ms=ws.length-1);ws=Ts[fs].points,gs=ws[ms-1],ys=ws[ms],$s=ys.partialLength}hs=us.length,os=0,ls=0;var Ws=es.finalSize*1.2*.714,Ds=!0,_s,Ns,Ss,Us,Zs;Us=ts.length;var ao,js=-1,Bs,zs,so,oo=bs,Ao=fs,Xs=ms,lo=-1,co,So,ro,vo,Eo,mo,yo,Jo,Yo="",Wo=this.defaultPropsArray,ko;if(es.j===2||es.j===1){var Qo=0,jo=0,Bo=es.j===2?-.5:-1,go=0,_o=!0;for(cs=0;cs<hs;cs+=1)if(us[cs].n){for(Qo&&(Qo+=jo);go<cs;)us[go].animatorJustifyOffset=Qo,go+=1;Qo=0,_o=!0}else{for(Ss=0;Ss<Us;Ss+=1)_s=ts[Ss].a,_s.t.propType&&(_o&&es.j===2&&(jo+=_s.t.v*Bo),Ns=ts[Ss].s,ao=Ns.getMult(us[cs].anIndexes[Ss],rs.a[Ss].s.totalChars),ao.length?Qo+=_s.t.v*ao[0]*Bo:Qo+=_s.t.v*ao*Bo);_o=!1}for(Qo&&(Qo+=jo);go<cs;)us[go].animatorJustifyOffset=Qo,go+=1}for(cs=0;cs<hs;cs+=1){if(is.reset(),co=1,us[cs].n)os=0,ls+=es.yOffset,ls+=Ds?1:0,bs=oo,Ds=!1,this._hasMaskedPath&&(fs=Ao,ms=Xs,ws=Ts[fs].points,gs=ws[ms-1],ys=ws[ms],$s=ys.partialLength,Cs=0),Yo="",Jo="",mo="",ko="",Wo=this.defaultPropsArray;else{if(this._hasMaskedPath){if(lo!==us[cs].line){switch(es.j){case 1:bs+=Rs-es.lineWidths[us[cs].line];break;case 2:bs+=(Rs-es.lineWidths[us[cs].line])/2;break}lo=us[cs].line}js!==us[cs].ind&&(us[js]&&(bs+=us[js].extra),bs+=us[cs].an/2,js=us[cs].ind),bs+=Ri[0]*us[cs].an*.005;var To=0;for(Ss=0;Ss<Us;Ss+=1)_s=ts[Ss].a,_s.p.propType&&(Ns=ts[Ss].s,ao=Ns.getMult(us[cs].anIndexes[Ss],rs.a[Ss].s.totalChars),ao.length?To+=_s.p.v[0]*ao[0]:To+=_s.p.v[0]*ao),_s.a.propType&&(Ns=ts[Ss].s,ao=Ns.getMult(us[cs].anIndexes[Ss],rs.a[Ss].s.totalChars),ao.length?To+=_s.a.v[0]*ao[0]:To+=_s.a.v[0]*ao);for(ps=!0,this._pathData.a.v&&(bs=us[0].an*.5+(Rs-this._pathData.f.v-us[0].an*.5-us[us.length-1].an*.5)*js/(hs-1),bs+=this._pathData.f.v);ps;)Cs+$s>=bs+To||!ws?(Ps=(bs+To-Cs)/ys.partialLength,zs=gs.point[0]+(ys.point[0]-gs.point[0])*Ps,so=gs.point[1]+(ys.point[1]-gs.point[1])*Ps,is.translate(-Ri[0]*us[cs].an*.005,-(Ri[1]*Ws)*.01),ps=!1):ws&&(Cs+=ys.partialLength,ms+=1,ms>=ws.length&&(ms=0,fs+=1,Ts[fs]?ws=Ts[fs].points:Fs.v.c?(ms=0,fs=0,ws=Ts[fs].points):(Cs-=ys.partialLength,ws=null)),ws&&(gs=ys,ys=ws[ms],$s=ys.partialLength));Bs=us[cs].an/2-us[cs].add,is.translate(-Bs,0,0)}else Bs=us[cs].an/2-us[cs].add,is.translate(-Bs,0,0),is.translate(-Ri[0]*us[cs].an*.005,-Ri[1]*Ws*.01,0);for(Ss=0;Ss<Us;Ss+=1)_s=ts[Ss].a,_s.t.propType&&(Ns=ts[Ss].s,ao=Ns.getMult(us[cs].anIndexes[Ss],rs.a[Ss].s.totalChars),(os!==0||es.j!==0)&&(this._hasMaskedPath?ao.length?bs+=_s.t.v*ao[0]:bs+=_s.t.v*ao:ao.length?os+=_s.t.v*ao[0]:os+=_s.t.v*ao));for(es.strokeWidthAnim&&(ro=es.sw||0),es.strokeColorAnim&&(es.sc?So=[es.sc[0],es.sc[1],es.sc[2]]:So=[0,0,0]),es.fillColorAnim&&es.fc&&(vo=[es.fc[0],es.fc[1],es.fc[2]]),Ss=0;Ss<Us;Ss+=1)_s=ts[Ss].a,_s.a.propType&&(Ns=ts[Ss].s,ao=Ns.getMult(us[cs].anIndexes[Ss],rs.a[Ss].s.totalChars),ao.length?is.translate(-_s.a.v[0]*ao[0],-_s.a.v[1]*ao[1],_s.a.v[2]*ao[2]):is.translate(-_s.a.v[0]*ao,-_s.a.v[1]*ao,_s.a.v[2]*ao));for(Ss=0;Ss<Us;Ss+=1)_s=ts[Ss].a,_s.s.propType&&(Ns=ts[Ss].s,ao=Ns.getMult(us[cs].anIndexes[Ss],rs.a[Ss].s.totalChars),ao.length?is.scale(1+(_s.s.v[0]-1)*ao[0],1+(_s.s.v[1]-1)*ao[1],1):is.scale(1+(_s.s.v[0]-1)*ao,1+(_s.s.v[1]-1)*ao,1));for(Ss=0;Ss<Us;Ss+=1){if(_s=ts[Ss].a,Ns=ts[Ss].s,ao=Ns.getMult(us[cs].anIndexes[Ss],rs.a[Ss].s.totalChars),_s.sk.propType&&(ao.length?is.skewFromAxis(-_s.sk.v*ao[0],_s.sa.v*ao[1]):is.skewFromAxis(-_s.sk.v*ao,_s.sa.v*ao)),_s.r.propType&&(ao.length?is.rotateZ(-_s.r.v*ao[2]):is.rotateZ(-_s.r.v*ao)),_s.ry.propType&&(ao.length?is.rotateY(_s.ry.v*ao[1]):is.rotateY(_s.ry.v*ao)),_s.rx.propType&&(ao.length?is.rotateX(_s.rx.v*ao[0]):is.rotateX(_s.rx.v*ao)),_s.o.propType&&(ao.length?co+=(_s.o.v*ao[0]-co)*ao[0]:co+=(_s.o.v*ao-co)*ao),es.strokeWidthAnim&&_s.sw.propType&&(ao.length?ro+=_s.sw.v*ao[0]:ro+=_s.sw.v*ao),es.strokeColorAnim&&_s.sc.propType)for(Eo=0;Eo<3;Eo+=1)ao.length?So[Eo]+=(_s.sc.v[Eo]-So[Eo])*ao[0]:So[Eo]+=(_s.sc.v[Eo]-So[Eo])*ao;if(es.fillColorAnim&&es.fc){if(_s.fc.propType)for(Eo=0;Eo<3;Eo+=1)ao.length?vo[Eo]+=(_s.fc.v[Eo]-vo[Eo])*ao[0]:vo[Eo]+=(_s.fc.v[Eo]-vo[Eo])*ao;_s.fh.propType&&(ao.length?vo=addHueToRGB(vo,_s.fh.v*ao[0]):vo=addHueToRGB(vo,_s.fh.v*ao)),_s.fs.propType&&(ao.length?vo=addSaturationToRGB(vo,_s.fs.v*ao[0]):vo=addSaturationToRGB(vo,_s.fs.v*ao)),_s.fb.propType&&(ao.length?vo=addBrightnessToRGB(vo,_s.fb.v*ao[0]):vo=addBrightnessToRGB(vo,_s.fb.v*ao))}}for(Ss=0;Ss<Us;Ss+=1)_s=ts[Ss].a,_s.p.propType&&(Ns=ts[Ss].s,ao=Ns.getMult(us[cs].anIndexes[Ss],rs.a[Ss].s.totalChars),this._hasMaskedPath?ao.length?is.translate(0,_s.p.v[1]*ao[0],-_s.p.v[2]*ao[1]):is.translate(0,_s.p.v[1]*ao,-_s.p.v[2]*ao):ao.length?is.translate(_s.p.v[0]*ao[0],_s.p.v[1]*ao[1],-_s.p.v[2]*ao[2]):is.translate(_s.p.v[0]*ao,_s.p.v[1]*ao,-_s.p.v[2]*ao));if(es.strokeWidthAnim&&(mo=ro<0?0:ro),es.strokeColorAnim&&(yo="rgb("+Math.round(So[0]*255)+","+Math.round(So[1]*255)+","+Math.round(So[2]*255)+")"),es.fillColorAnim&&es.fc&&(Jo="rgb("+Math.round(vo[0]*255)+","+Math.round(vo[1]*255)+","+Math.round(vo[2]*255)+")"),this._hasMaskedPath){if(is.translate(0,-es.ls),is.translate(0,Ri[1]*Ws*.01+ls,0),this._pathData.p.v){Qs=(ys.point[1]-gs.point[1])/(ys.point[0]-gs.point[0]);var uo=Math.atan(Qs)*180/Math.PI;ys.point[0]<gs.point[0]&&(uo+=180),is.rotate(-uo*Math.PI/180)}is.translate(zs,so,0),bs-=Ri[0]*us[cs].an*.005,us[cs+1]&&js!==us[cs+1].ind&&(bs+=us[cs].an/2,bs+=es.tr*.001*es.finalSize)}else{switch(is.translate(os,ls,0),es.ps&&is.translate(es.ps[0],es.ps[1]+es.ascent,0),es.j){case 1:is.translate(us[cs].animatorJustifyOffset+es.justifyOffset+(es.boxWidth-es.lineWidths[us[cs].line]),0,0);break;case 2:is.translate(us[cs].animatorJustifyOffset+es.justifyOffset+(es.boxWidth-es.lineWidths[us[cs].line])/2,0,0);break}is.translate(0,-es.ls),is.translate(Bs,0,0),is.translate(Ri[0]*us[cs].an*.005,Ri[1]*Ws*.01,0),os+=us[cs].l+es.tr*.001*es.finalSize}ns==="html"?Yo=is.toCSS():ns==="svg"?Yo=is.to2dCSS():Wo=[is.props[0],is.props[1],is.props[2],is.props[3],is.props[4],is.props[5],is.props[6],is.props[7],is.props[8],is.props[9],is.props[10],is.props[11],is.props[12],is.props[13],is.props[14],is.props[15]],ko=co}ss<=cs?(Zs=new LetterProps(ko,mo,yo,Jo,Yo,Wo),this.renderedLetters.push(Zs),ss+=1,this.lettersChangedFlag=!0):(Zs=this.renderedLetters[cs],this.lettersChangedFlag=Zs.update(ko,mo,yo,Jo,Yo,Wo)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(es,ki,Ri){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(es,ki,Ri),this.textProperty=new TextProperty(this,es.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(es.t,this.renderType,this),this.initTransform(es,ki,Ri),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(es){this._mdf=!1,this.prepareRenderableFrame(es),this.prepareProperties(es,this.isInRange)},ITextElement.prototype.createPathShape=function(es,ki){var Ri,ts=ki.length,rs,is="";for(Ri=0;Ri<ts;Ri+=1)ki[Ri].ty==="sh"&&(rs=ki[Ri].ks.k,is+=buildShapeString(rs,rs.i.length,!0,es));return is},ITextElement.prototype.updateDocumentData=function(es,ki){this.textProperty.updateDocumentData(es,ki)},ITextElement.prototype.canResizeFont=function(es){this.textProperty.canResizeFont(es)},ITextElement.prototype.setMinimumFontSize=function(es){this.textProperty.setMinimumFontSize(es)},ITextElement.prototype.applyTextPropertiesToMatrix=function(es,ki,Ri,ts,rs){switch(es.ps&&ki.translate(es.ps[0],es.ps[1]+es.ascent,0),ki.translate(0,-es.ls,0),es.j){case 1:ki.translate(es.justifyOffset+(es.boxWidth-es.lineWidths[Ri]),0,0);break;case 2:ki.translate(es.justifyOffset+(es.boxWidth-es.lineWidths[Ri])/2,0,0);break}ki.translate(ts,rs,0)},ITextElement.prototype.buildColor=function(es){return"rgb("+Math.round(es[0]*255)+","+Math.round(es[1]*255)+","+Math.round(es[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(es,ki,Ri){this.textSpans=[],this.renderType="svg",this.initElement(es,ki,Ri)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(es){for(var ki=0,Ri=es.length,ts=[],rs="";ki<Ri;)es[ki]==="\r"||es[ki]===""?(ts.push(rs),rs=""):rs+=es[ki],ki+=1;return ts.push(rs),ts},SVGTextLottieElement.prototype.buildShapeData=function(es,ki){if(es.shapes&&es.shapes.length){var Ri=es.shapes[0];if(Ri.it){var ts=Ri.it[Ri.it.length-1];ts.s&&(ts.s.k[0]=ki,ts.s.k[1]=ki)}}return es},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var es,ki,Ri=this.textProperty.currentData;this.renderedLetters=createSizedArray(Ri?Ri.l.length:0),Ri.fc?this.layerElement.setAttribute("fill",this.buildColor(Ri.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),Ri.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(Ri.sc)),this.layerElement.setAttribute("stroke-width",Ri.sw)),this.layerElement.setAttribute("font-size",Ri.finalSize);var ts=this.globalData.fontManager.getFontByName(Ri.f);if(ts.fClass)this.layerElement.setAttribute("class",ts.fClass);else{this.layerElement.setAttribute("font-family",ts.fFamily);var rs=Ri.fWeight,is=Ri.fStyle;this.layerElement.setAttribute("font-style",is),this.layerElement.setAttribute("font-weight",rs)}this.layerElement.setAttribute("aria-label",Ri.t);var ns=Ri.l||[],ss=!!this.globalData.fontManager.chars;ki=ns.length;var os,ls=this.mHelper,cs="",hs=this.data.singleShape,us=0,As=0,bs=!0,ys=Ri.tr*.001*Ri.finalSize;if(hs&&!ss&&!Ri.sz){var Cs=this.textContainer,ps="start";switch(Ri.j){case 1:ps="end";break;case 2:ps="middle";break;default:ps="start";break}Cs.setAttribute("text-anchor",ps),Cs.setAttribute("letter-spacing",ys);var ms=this.buildTextContents(Ri.finalText);for(ki=ms.length,As=Ri.ps?Ri.ps[1]+Ri.ascent:0,es=0;es<ki;es+=1)os=this.textSpans[es].span||createNS("tspan"),os.textContent=ms[es],os.setAttribute("x",0),os.setAttribute("y",As),os.style.display="inherit",Cs.appendChild(os),this.textSpans[es]||(this.textSpans[es]={span:null,glyph:null}),this.textSpans[es].span=os,As+=Ri.finalLineHeight;this.layerElement.appendChild(Cs)}else{var fs=this.textSpans.length,gs;for(es=0;es<ki;es+=1){if(this.textSpans[es]||(this.textSpans[es]={span:null,childSpan:null,glyph:null}),!ss||!hs||es===0){if(os=fs>es?this.textSpans[es].span:createNS(ss?"g":"text"),fs<=es){if(os.setAttribute("stroke-linecap","butt"),os.setAttribute("stroke-linejoin","round"),os.setAttribute("stroke-miterlimit","4"),this.textSpans[es].span=os,ss){var ws=createNS("g");os.appendChild(ws),this.textSpans[es].childSpan=ws}this.textSpans[es].span=os,this.layerElement.appendChild(os)}os.style.display="inherit"}if(ls.reset(),hs&&(ns[es].n&&(us=-ys,As+=Ri.yOffset,As+=bs?1:0,bs=!1),this.applyTextPropertiesToMatrix(Ri,ls,ns[es].line,us,As),us+=ns[es].l||0,us+=ys),ss){gs=this.globalData.fontManager.getCharData(Ri.finalText[es],ts.fStyle,this.globalData.fontManager.getFontByName(Ri.f).fFamily);var Ts;if(gs.t===1)Ts=new SVGCompElement(gs.data,this.globalData,this);else{var $s=emptyShapeData;gs.data&&gs.data.shapes&&($s=this.buildShapeData(gs.data,Ri.finalSize)),Ts=new SVGShapeElement($s,this.globalData,this)}if(this.textSpans[es].glyph){var Rs=this.textSpans[es].glyph;this.textSpans[es].childSpan.removeChild(Rs.layerElement),Rs.destroy()}this.textSpans[es].glyph=Ts,Ts._debug=!0,Ts.prepareFrame(0),Ts.renderFrame(),this.textSpans[es].childSpan.appendChild(Ts.layerElement),gs.t===1&&this.textSpans[es].childSpan.setAttribute("transform","scale("+Ri.finalSize/100+","+Ri.finalSize/100+")")}else hs&&os.setAttribute("transform","translate("+ls.props[12]+","+ls.props[13]+")"),os.textContent=ns[es].val,os.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}hs&&os&&os.setAttribute("d",cs)}for(;es<this.textSpans.length;)this.textSpans[es].span.style.display="none",es+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var es=this.layerElement.getBBox();this.bbox={top:es.y,left:es.x,width:es.width,height:es.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var es,ki=this.textSpans.length,Ri;for(this.renderedFrame=this.comp.renderedFrame,es=0;es<ki;es+=1)Ri=this.textSpans[es].glyph,Ri&&(Ri.prepareFrame(this.comp.renderedFrame-this.data.st),Ri._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var es,ki,Ri=this.textAnimator.renderedLetters,ts=this.textProperty.currentData.l;ki=ts.length;var rs,is,ns;for(es=0;es<ki;es+=1)ts[es].n||(rs=Ri[es],is=this.textSpans[es].span,ns=this.textSpans[es].glyph,ns&&ns.renderFrame(),rs._mdf.m&&is.setAttribute("transform",rs.m),rs._mdf.o&&is.setAttribute("opacity",rs.o),rs._mdf.sw&&is.setAttribute("stroke-width",rs.sw),rs._mdf.sc&&is.setAttribute("stroke",rs.sc),rs._mdf.fc&&is.setAttribute("fill",rs.fc))}};function ISolidElement(es,ki,Ri){this.initElement(es,ki,Ri)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var es=createNS("rect");es.setAttribute("width",this.data.sw),es.setAttribute("height",this.data.sh),es.setAttribute("fill",this.data.sc),this.layerElement.appendChild(es)};function NullElement(es,ki,Ri){this.initFrame(),this.initBaseData(es,ki,Ri),this.initFrame(),this.initTransform(es,ki,Ri),this.initHierarchy()}NullElement.prototype.prepareFrame=function(es){this.prepareProperties(es,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(es){return new NullElement(es,this.globalData,this)},SVGRendererBase.prototype.createShape=function(es){return new SVGShapeElement(es,this.globalData,this)},SVGRendererBase.prototype.createText=function(es){return new SVGTextLottieElement(es,this.globalData,this)},SVGRendererBase.prototype.createImage=function(es){return new IImageElement(es,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(es){return new ISolidElement(es,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(es){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+es.w+" "+es.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",es.w),this.svgElement.setAttribute("height",es.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var ki=this.globalData.defs;this.setupGlobalData(es,ki),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=es;var Ri=createNS("clipPath"),ts=createNS("rect");ts.setAttribute("width",es.w),ts.setAttribute("height",es.h),ts.setAttribute("x",0),ts.setAttribute("y",0);var rs=createElementID();Ri.setAttribute("id",rs),Ri.appendChild(ts),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+rs+")"),ki.appendChild(Ri),this.layers=es.layers,this.elements=createSizedArray(es.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var es,ki=this.layers?this.layers.length:0;for(es=0;es<ki;es+=1)this.elements[es]&&this.elements[es].destroy&&this.elements[es].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(es){var ki=0,Ri=this.layers.length;for(ki=0;ki<Ri;ki+=1)if(this.layers[ki].ind===es)return ki;return-1},SVGRendererBase.prototype.buildItem=function(es){var ki=this.elements;if(!(ki[es]||this.layers[es].ty===99)){ki[es]=!0;var Ri=this.createItem(this.layers[es]);if(ki[es]=Ri,getExpressionsPlugin()&&(this.layers[es].ty===0&&this.globalData.projectInterface.registerComposition(Ri),Ri.initExpressions()),this.appendElementInPos(Ri,es),this.layers[es].tt){var ts="tp"in this.layers[es]?this.findIndexByInd(this.layers[es].tp):es-1;if(ts===-1)return;if(!this.elements[ts]||this.elements[ts]===!0)this.buildItem(ts),this.addPendingElement(Ri);else{var rs=ki[ts],is=rs.getMatte(this.layers[es].tt);Ri.setMatte(is)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var es=this.pendingElements.pop();if(es.checkParenting(),es.data.tt)for(var ki=0,Ri=this.elements.length;ki<Ri;){if(this.elements[ki]===es){var ts="tp"in es.data?this.findIndexByInd(es.data.tp):ki-1,rs=this.elements[ts],is=rs.getMatte(this.layers[ki].tt);es.setMatte(is);break}ki+=1}}},SVGRendererBase.prototype.renderFrame=function(es){if(!(this.renderedFrame===es||this.destroyed)){es===null?es=this.renderedFrame:this.renderedFrame=es,this.globalData.frameNum=es,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=es,this.globalData._mdf=!1;var ki,Ri=this.layers.length;for(this.completeLayers||this.checkLayers(es),ki=Ri-1;ki>=0;ki-=1)(this.completeLayers||this.elements[ki])&&this.elements[ki].prepareFrame(es-this.layers[ki].st);if(this.globalData._mdf)for(ki=0;ki<Ri;ki+=1)(this.completeLayers||this.elements[ki])&&this.elements[ki].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(es,ki){var Ri=es.getBaseElement();if(Ri){for(var ts=0,rs;ts<ki;)this.elements[ts]&&this.elements[ts]!==!0&&this.elements[ts].getBaseElement()&&(rs=this.elements[ts].getBaseElement()),ts+=1;rs?this.layerElement.insertBefore(Ri,rs):this.layerElement.appendChild(Ri)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(es,ki,Ri){this.initFrame(),this.initBaseData(es,ki,Ri),this.initTransform(es,ki,Ri),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!ki.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(es){if(this._mdf=!1,this.prepareRenderableFrame(es),this.prepareProperties(es,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=es/this.data.sr;else{var ki=this.tm.v;ki===this.data.op&&(ki=this.data.op-1),this.renderedFrame=ki}var Ri,ts=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),Ri=ts-1;Ri>=0;Ri-=1)(this.completeLayers||this.elements[Ri])&&(this.elements[Ri].prepareFrame(this.renderedFrame-this.layers[Ri].st),this.elements[Ri]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var es,ki=this.layers.length;for(es=0;es<ki;es+=1)(this.completeLayers||this.elements[es])&&this.elements[es].renderFrame()},ICompElement.prototype.setElements=function(es){this.elements=es},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var es,ki=this.layers.length;for(es=0;es<ki;es+=1)this.elements[es]&&this.elements[es].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(es,ki,Ri){this.layers=es.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(es,ki,Ri),this.tm=es.tm?PropertyFactory.getProp(this,es.tm,0,ki.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(es){return new SVGCompElement(es,this.globalData,this)};function SVGRenderer(es,ki){this.animationItem=es,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var Ri="";if(ki&&ki.title){var ts=createNS("title"),rs=createElementID();ts.setAttribute("id",rs),ts.textContent=ki.title,this.svgElement.appendChild(ts),Ri+=rs}if(ki&&ki.description){var is=createNS("desc"),ns=createElementID();is.setAttribute("id",ns),is.textContent=ki.description,this.svgElement.appendChild(is),Ri+=" "+ns}Ri&&this.svgElement.setAttribute("aria-labelledby",Ri);var ss=createNS("defs");this.svgElement.appendChild(ss);var os=createNS("g");this.svgElement.appendChild(os),this.layerElement=os,this.renderConfig={preserveAspectRatio:ki&&ki.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:ki&&ki.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:ki&&ki.contentVisibility||"visible",progressiveLoad:ki&&ki.progressiveLoad||!1,hideOnTransparent:!(ki&&ki.hideOnTransparent===!1),viewBoxOnly:ki&&ki.viewBoxOnly||!1,viewBoxSize:ki&&ki.viewBoxSize||!1,className:ki&&ki.className||"",id:ki&&ki.id||"",focusable:ki&&ki.focusable,filterSize:{width:ki&&ki.filterSize&&ki.filterSize.width||"100%",height:ki&&ki.filterSize&&ki.filterSize.height||"100%",x:ki&&ki.filterSize&&ki.filterSize.x||"0%",y:ki&&ki.filterSize&&ki.filterSize.y||"0%"},width:ki&&ki.width,height:ki&&ki.height,runExpressions:!ki||ki.runExpressions===void 0||ki.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:ss,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(es){return new SVGCompElement(es,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(ki){var Ri,ts=ki.length,rs="_";for(Ri=0;Ri<ts;Ri+=1)rs+=ki[Ri].transform.key+"_";var is=this.sequences[rs];return is||(is={transforms:[].concat(ki),finalTransform:new Matrix,_mdf:!1},this.sequences[rs]=is,this.sequenceList.push(is)),is},processSequence:function(ki,Ri){for(var ts=0,rs=ki.transforms.length,is=Ri;ts<rs&&!Ri;){if(ki.transforms[ts].transform.mProps._mdf){is=!0;break}ts+=1}if(is)for(ki.finalTransform.reset(),ts=rs-1;ts>=0;ts-=1)ki.finalTransform.multiply(ki.transforms[ts].transform.mProps.v);ki._mdf=is},processSequences:function(ki){var Ri,ts=this.sequenceList.length;for(Ri=0;Ri<ts;Ri+=1)this.processSequence(this.sequenceList[Ri],ki)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var ki="__lottie_element_luma_buffer",Ri=null,ts=null,rs=null;function is(){var os=createNS("svg"),ls=createNS("filter"),cs=createNS("feColorMatrix");return ls.setAttribute("id",ki),cs.setAttribute("type","matrix"),cs.setAttribute("color-interpolation-filters","sRGB"),cs.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),ls.appendChild(cs),os.appendChild(ls),os.setAttribute("id",ki+"_svg"),featureSupport.svgLumaHidden&&(os.style.display="none"),os}function ns(){Ri||(rs=is(),document.body.appendChild(rs),Ri=createTag("canvas"),ts=Ri.getContext("2d"),ts.filter="url(#"+ki+")",ts.fillStyle="rgba(0,0,0,0)",ts.fillRect(0,0,1,1))}function ss(os){return Ri||ns(),Ri.width=os.width,Ri.height=os.height,ts.filter="url(#"+ki+")",Ri}return{load:ns,get:ss}};function createCanvas(es,ki){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(es,ki);var Ri=createTag("canvas");return Ri.width=es,Ri.height=ki,Ri}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(es){var ki,Ri=es.data.ef?es.data.ef.length:0;this.filters=[];var ts;for(ki=0;ki<Ri;ki+=1){ts=null;var rs=es.data.ef[ki].ty;if(registeredEffects[rs]){var is=registeredEffects[rs].effect;ts=new is(es.effectsManager.effectElements[ki],es)}ts&&this.filters.push(ts)}this.filters.length&&es.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(es){var ki,Ri=this.filters.length;for(ki=0;ki<Ri;ki+=1)this.filters[ki].renderFrame(es)},CVEffects.prototype.getEffects=function(es){var ki,Ri=this.filters.length,ts=[];for(ki=0;ki<Ri;ki+=1)this.filters[ki].type===es&&ts.push(this.filters[ki]);return ts};function registerEffect(es,ki){registeredEffects[es]={effect:ki}}function CVMaskElement(es,ki){this.data=es,this.element=ki,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var Ri,ts=this.masksProperties.length,rs=!1;for(Ri=0;Ri<ts;Ri+=1)this.masksProperties[Ri].mode!=="n"&&(rs=!0),this.viewData[Ri]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[Ri],3);this.hasMasks=rs,rs&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var es=this.element.finalTransform.mat,ki=this.element.canvasContext,Ri,ts=this.masksProperties.length,rs,is,ns;for(ki.beginPath(),Ri=0;Ri<ts;Ri+=1)if(this.masksProperties[Ri].mode!=="n"){this.masksProperties[Ri].inv&&(ki.moveTo(0,0),ki.lineTo(this.element.globalData.compSize.w,0),ki.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),ki.lineTo(0,this.element.globalData.compSize.h),ki.lineTo(0,0)),ns=this.viewData[Ri].v,rs=es.applyToPointArray(ns.v[0][0],ns.v[0][1],0),ki.moveTo(rs[0],rs[1]);var ss,os=ns._length;for(ss=1;ss<os;ss+=1)is=es.applyToTriplePoints(ns.o[ss-1],ns.i[ss],ns.v[ss]),ki.bezierCurveTo(is[0],is[1],is[2],is[3],is[4],is[5]);is=es.applyToTriplePoints(ns.o[ss-1],ns.i[0],ns.v[0]),ki.bezierCurveTo(is[0],is[1],is[2],is[3],is[4],is[5])}this.element.globalData.renderer.save(!0),ki.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var ki=this.globalData.canvasContext,Ri=assetLoader.createCanvas(ki.canvas.width,ki.canvas.height);this.buffers.push(Ri);var ts=assetLoader.createCanvas(ki.canvas.width,ki.canvas.height);this.buffers.push(ts),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var ki=this.globalData;if(ki.blendMode!==this.data.bm){ki.blendMode=this.data.bm;var Ri=getBlendMode(this.data.bm);ki.canvasContext.globalCompositeOperation=Ri}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(ki){ki.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var ki=this.buffers[0],Ri=ki.getContext("2d");this.clearCanvas(Ri),Ri.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var ki=this.buffers[1],Ri=ki.getContext("2d");this.clearCanvas(Ri),Ri.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var ts=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(ts.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var rs=assetLoader.getLumaCanvas(this.canvasContext.canvas),is=rs.getContext("2d");is.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(rs,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(ki,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(ki){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!ki)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var Ri=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(Ri),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(Ri),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(es,ki,Ri,ts){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var rs=4;ki.ty==="rc"?rs=5:ki.ty==="el"?rs=6:ki.ty==="sr"&&(rs=7),this.sh=ShapePropertyFactory.getShapeProp(es,ki,rs,es);var is,ns=Ri.length,ss;for(is=0;is<ns;is+=1)Ri[is].closed||(ss={transforms:ts.addTransformSequence(Ri[is].transforms),trNodes:[]},this.styledShapes.push(ss),Ri[is].elements.push(ss))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(es,ki,Ri){this.shapes=[],this.shapesData=es.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(es,ki,Ri)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(es,ki){var Ri={data:es,type:es.ty,preTransforms:this.transformsManager.addTransformSequence(ki),transforms:[],elements:[],closed:es.hd===!0},ts={};if(es.ty==="fl"||es.ty==="st"?(ts.c=PropertyFactory.getProp(this,es.c,1,255,this),ts.c.k||(Ri.co="rgb("+bmFloor(ts.c.v[0])+","+bmFloor(ts.c.v[1])+","+bmFloor(ts.c.v[2])+")")):(es.ty==="gf"||es.ty==="gs")&&(ts.s=PropertyFactory.getProp(this,es.s,1,null,this),ts.e=PropertyFactory.getProp(this,es.e,1,null,this),ts.h=PropertyFactory.getProp(this,es.h||{k:0},0,.01,this),ts.a=PropertyFactory.getProp(this,es.a||{k:0},0,degToRads,this),ts.g=new GradientProperty(this,es.g,this)),ts.o=PropertyFactory.getProp(this,es.o,0,.01,this),es.ty==="st"||es.ty==="gs"){if(Ri.lc=lineCapEnum[es.lc||2],Ri.lj=lineJoinEnum[es.lj||2],es.lj==1&&(Ri.ml=es.ml),ts.w=PropertyFactory.getProp(this,es.w,0,null,this),ts.w.k||(Ri.wi=ts.w.v),es.d){var rs=new DashProperty(this,es.d,"canvas",this);ts.d=rs,ts.d.k||(Ri.da=ts.d.dashArray,Ri.do=ts.d.dashoffset[0])}}else Ri.r=es.r===2?"evenodd":"nonzero";return this.stylesList.push(Ri),ts.style=Ri,ts},CVShapeElement.prototype.createGroupElement=function(){var es={it:[],prevViewData:[]};return es},CVShapeElement.prototype.createTransformElement=function(es){var ki={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,es.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,es,this)}};return ki},CVShapeElement.prototype.createShapeElement=function(es){var ki=new CVShapeData(this,es,this.stylesList,this.transformsManager);return this.shapes.push(ki),this.addShapeToModifiers(ki),ki},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var es,ki=this.itemsData.length;for(es=0;es<ki;es+=1)this.prevViewData[es]=this.itemsData[es];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),ki=this.dynamicProperties.length,es=0;es<ki;es+=1)this.dynamicProperties[es].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(es){var ki,Ri=this.stylesList.length;for(ki=0;ki<Ri;ki+=1)this.stylesList[ki].closed||this.stylesList[ki].transforms.push(es)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var es,ki=this.stylesList.length;for(es=0;es<ki;es+=1)this.stylesList[es].closed||this.stylesList[es].transforms.pop()},CVShapeElement.prototype.closeStyles=function(es){var ki,Ri=es.length;for(ki=0;ki<Ri;ki+=1)es[ki].closed=!0},CVShapeElement.prototype.searchShapes=function(es,ki,Ri,ts,rs){var is,ns=es.length-1,ss,os,ls=[],cs=[],hs,us,As,bs=[].concat(rs);for(is=ns;is>=0;is-=1){if(hs=this.searchProcessedElement(es[is]),hs?ki[is]=Ri[hs-1]:es[is]._shouldRender=ts,es[is].ty==="fl"||es[is].ty==="st"||es[is].ty==="gf"||es[is].ty==="gs")hs?ki[is].style.closed=!1:ki[is]=this.createStyleElement(es[is],bs),ls.push(ki[is].style);else if(es[is].ty==="gr"){if(!hs)ki[is]=this.createGroupElement(es[is]);else for(os=ki[is].it.length,ss=0;ss<os;ss+=1)ki[is].prevViewData[ss]=ki[is].it[ss];this.searchShapes(es[is].it,ki[is].it,ki[is].prevViewData,ts,bs)}else es[is].ty==="tr"?(hs||(As=this.createTransformElement(es[is]),ki[is]=As),bs.push(ki[is]),this.addTransformToStyleList(ki[is])):es[is].ty==="sh"||es[is].ty==="rc"||es[is].ty==="el"||es[is].ty==="sr"?hs||(ki[is]=this.createShapeElement(es[is])):es[is].ty==="tm"||es[is].ty==="rd"||es[is].ty==="pb"||es[is].ty==="zz"||es[is].ty==="op"?(hs?(us=ki[is],us.closed=!1):(us=ShapeModifiers.getModifier(es[is].ty),us.init(this,es[is]),ki[is]=us,this.shapeModifiers.push(us)),cs.push(us)):es[is].ty==="rp"&&(hs?(us=ki[is],us.closed=!0):(us=ShapeModifiers.getModifier(es[is].ty),ki[is]=us,us.init(this,es,is,ki),this.shapeModifiers.push(us),ts=!1),cs.push(us));this.addProcessedElement(es[is],is+1)}for(this.removeTransformFromStyleList(),this.closeStyles(ls),ns=cs.length,is=0;is<ns;is+=1)cs[is].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(es,ki){(es._opMdf||ki.op._mdf||this._isFirstFrame)&&(ki.opacity=es.opacity,ki.opacity*=ki.op.v,ki._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var es,ki=this.stylesList.length,Ri,ts,rs,is,ns,ss,os=this.globalData.renderer,ls=this.globalData.canvasContext,cs,hs;for(es=0;es<ki;es+=1)if(hs=this.stylesList[es],cs=hs.type,!((cs==="st"||cs==="gs")&&hs.wi===0||!hs.data._shouldRender||hs.coOp===0||this.globalData.currentGlobalAlpha===0)){for(os.save(),ns=hs.elements,cs==="st"||cs==="gs"?(os.ctxStrokeStyle(cs==="st"?hs.co:hs.grd),os.ctxLineWidth(hs.wi),os.ctxLineCap(hs.lc),os.ctxLineJoin(hs.lj),os.ctxMiterLimit(hs.ml||0)):os.ctxFillStyle(cs==="fl"?hs.co:hs.grd),os.ctxOpacity(hs.coOp),cs!=="st"&&cs!=="gs"&&ls.beginPath(),os.ctxTransform(hs.preTransforms.finalTransform.props),ts=ns.length,Ri=0;Ri<ts;Ri+=1){for((cs==="st"||cs==="gs")&&(ls.beginPath(),hs.da&&(ls.setLineDash(hs.da),ls.lineDashOffset=hs.do)),ss=ns[Ri].trNodes,is=ss.length,rs=0;rs<is;rs+=1)ss[rs].t==="m"?ls.moveTo(ss[rs].p[0],ss[rs].p[1]):ss[rs].t==="c"?ls.bezierCurveTo(ss[rs].pts[0],ss[rs].pts[1],ss[rs].pts[2],ss[rs].pts[3],ss[rs].pts[4],ss[rs].pts[5]):ls.closePath();(cs==="st"||cs==="gs")&&(os.ctxStroke(),hs.da&&ls.setLineDash(this.dashResetter))}cs!=="st"&&cs!=="gs"&&this.globalData.renderer.ctxFill(hs.r),os.restore()}},CVShapeElement.prototype.renderShape=function(es,ki,Ri,ts){var rs,is=ki.length-1,ns;for(ns=es,rs=is;rs>=0;rs-=1)ki[rs].ty==="tr"?(ns=Ri[rs].transform,this.renderShapeTransform(es,ns)):ki[rs].ty==="sh"||ki[rs].ty==="el"||ki[rs].ty==="rc"||ki[rs].ty==="sr"?this.renderPath(ki[rs],Ri[rs]):ki[rs].ty==="fl"?this.renderFill(ki[rs],Ri[rs],ns):ki[rs].ty==="st"?this.renderStroke(ki[rs],Ri[rs],ns):ki[rs].ty==="gf"||ki[rs].ty==="gs"?this.renderGradientFill(ki[rs],Ri[rs],ns):ki[rs].ty==="gr"?this.renderShape(ns,ki[rs].it,Ri[rs].it):ki[rs].ty;ts&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(es,ki){if(this._isFirstFrame||ki._mdf||es.transforms._mdf){var Ri=es.trNodes,ts=ki.paths,rs,is,ns,ss=ts._length;Ri.length=0;var os=es.transforms.finalTransform;for(ns=0;ns<ss;ns+=1){var ls=ts.shapes[ns];if(ls&&ls.v){for(is=ls._length,rs=1;rs<is;rs+=1)rs===1&&Ri.push({t:"m",p:os.applyToPointArray(ls.v[0][0],ls.v[0][1],0)}),Ri.push({t:"c",pts:os.applyToTriplePoints(ls.o[rs-1],ls.i[rs],ls.v[rs])});is===1&&Ri.push({t:"m",p:os.applyToPointArray(ls.v[0][0],ls.v[0][1],0)}),ls.c&&is&&(Ri.push({t:"c",pts:os.applyToTriplePoints(ls.o[rs-1],ls.i[0],ls.v[0])}),Ri.push({t:"z"}))}}es.trNodes=Ri}},CVShapeElement.prototype.renderPath=function(es,ki){if(es.hd!==!0&&es._shouldRender){var Ri,ts=ki.styledShapes.length;for(Ri=0;Ri<ts;Ri+=1)this.renderStyledShape(ki.styledShapes[Ri],ki.sh)}},CVShapeElement.prototype.renderFill=function(es,ki,Ri){var ts=ki.style;(ki.c._mdf||this._isFirstFrame)&&(ts.co="rgb("+bmFloor(ki.c.v[0])+","+bmFloor(ki.c.v[1])+","+bmFloor(ki.c.v[2])+")"),(ki.o._mdf||Ri._opMdf||this._isFirstFrame)&&(ts.coOp=ki.o.v*Ri.opacity)},CVShapeElement.prototype.renderGradientFill=function(es,ki,Ri){var ts=ki.style,rs;if(!ts.grd||ki.g._mdf||ki.s._mdf||ki.e._mdf||es.t!==1&&(ki.h._mdf||ki.a._mdf)){var is=this.globalData.canvasContext,ns=ki.s.v,ss=ki.e.v;if(es.t===1)rs=is.createLinearGradient(ns[0],ns[1],ss[0],ss[1]);else{var os=Math.sqrt(Math.pow(ns[0]-ss[0],2)+Math.pow(ns[1]-ss[1],2)),ls=Math.atan2(ss[1]-ns[1],ss[0]-ns[0]),cs=ki.h.v;cs>=1?cs=.99:cs<=-1&&(cs=-.99);var hs=os*cs,us=Math.cos(ls+ki.a.v)*hs+ns[0],As=Math.sin(ls+ki.a.v)*hs+ns[1];rs=is.createRadialGradient(us,As,0,ns[0],ns[1],os)}var bs,ys=es.g.p,Cs=ki.g.c,ps=1;for(bs=0;bs<ys;bs+=1)ki.g._hasOpacity&&ki.g._collapsable&&(ps=ki.g.o[bs*2+1]),rs.addColorStop(Cs[bs*4]/100,"rgba("+Cs[bs*4+1]+","+Cs[bs*4+2]+","+Cs[bs*4+3]+","+ps+")");ts.grd=rs}ts.coOp=ki.o.v*Ri.opacity},CVShapeElement.prototype.renderStroke=function(es,ki,Ri){var ts=ki.style,rs=ki.d;rs&&(rs._mdf||this._isFirstFrame)&&(ts.da=rs.dashArray,ts.do=rs.dashoffset[0]),(ki.c._mdf||this._isFirstFrame)&&(ts.co="rgb("+bmFloor(ki.c.v[0])+","+bmFloor(ki.c.v[1])+","+bmFloor(ki.c.v[2])+")"),(ki.o._mdf||Ri._opMdf||this._isFirstFrame)&&(ts.coOp=ki.o.v*Ri.opacity),(ki.w._mdf||this._isFirstFrame)&&(ts.wi=ki.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(es,ki,Ri){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(es,ki,Ri)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var es=this.textProperty.currentData;this.renderedLetters=createSizedArray(es.l?es.l.length:0);var ki=!1;es.fc?(ki=!0,this.values.fill=this.buildColor(es.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=ki;var Ri=!1;es.sc&&(Ri=!0,this.values.stroke=this.buildColor(es.sc),this.values.sWidth=es.sw);var ts=this.globalData.fontManager.getFontByName(es.f),rs,is,ns=es.l,ss=this.mHelper;this.stroke=Ri,this.values.fValue=es.finalSize+"px "+this.globalData.fontManager.getFontByName(es.f).fFamily,is=es.finalText.length;var os,ls,cs,hs,us,As,bs,ys,Cs,ps,ms=this.data.singleShape,fs=es.tr*.001*es.finalSize,gs=0,ws=0,Ts=!0,$s=0;for(rs=0;rs<is;rs+=1){os=this.globalData.fontManager.getCharData(es.finalText[rs],ts.fStyle,this.globalData.fontManager.getFontByName(es.f).fFamily),ls=os&&os.data||{},ss.reset(),ms&&ns[rs].n&&(gs=-fs,ws+=es.yOffset,ws+=Ts?1:0,Ts=!1),us=ls.shapes?ls.shapes[0].it:[],bs=us.length,ss.scale(es.finalSize/100,es.finalSize/100),ms&&this.applyTextPropertiesToMatrix(es,ss,ns[rs].line,gs,ws),Cs=createSizedArray(bs-1);var Rs=0;for(As=0;As<bs;As+=1)if(us[As].ty==="sh"){for(hs=us[As].ks.k.i.length,ys=us[As].ks.k,ps=[],cs=1;cs<hs;cs+=1)cs===1&&ps.push(ss.applyToX(ys.v[0][0],ys.v[0][1],0),ss.applyToY(ys.v[0][0],ys.v[0][1],0)),ps.push(ss.applyToX(ys.o[cs-1][0],ys.o[cs-1][1],0),ss.applyToY(ys.o[cs-1][0],ys.o[cs-1][1],0),ss.applyToX(ys.i[cs][0],ys.i[cs][1],0),ss.applyToY(ys.i[cs][0],ys.i[cs][1],0),ss.applyToX(ys.v[cs][0],ys.v[cs][1],0),ss.applyToY(ys.v[cs][0],ys.v[cs][1],0));ps.push(ss.applyToX(ys.o[cs-1][0],ys.o[cs-1][1],0),ss.applyToY(ys.o[cs-1][0],ys.o[cs-1][1],0),ss.applyToX(ys.i[0][0],ys.i[0][1],0),ss.applyToY(ys.i[0][0],ys.i[0][1],0),ss.applyToX(ys.v[0][0],ys.v[0][1],0),ss.applyToY(ys.v[0][0],ys.v[0][1],0)),Cs[Rs]=ps,Rs+=1}ms&&(gs+=ns[rs].l,gs+=fs),this.textSpans[$s]?this.textSpans[$s].elem=Cs:this.textSpans[$s]={elem:Cs},$s+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var es=this.canvasContext;es.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var ki,Ri,ts,rs,is,ns,ss=this.textAnimator.renderedLetters,os=this.textProperty.currentData.l;Ri=os.length;var ls,cs=null,hs=null,us=null,As,bs,ys=this.globalData.renderer;for(ki=0;ki<Ri;ki+=1)if(!os[ki].n){if(ls=ss[ki],ls&&(ys.save(),ys.ctxTransform(ls.p),ys.ctxOpacity(ls.o)),this.fill){for(ls&&ls.fc?cs!==ls.fc&&(ys.ctxFillStyle(ls.fc),cs=ls.fc):cs!==this.values.fill&&(cs=this.values.fill,ys.ctxFillStyle(this.values.fill)),As=this.textSpans[ki].elem,rs=As.length,this.globalData.canvasContext.beginPath(),ts=0;ts<rs;ts+=1)for(bs=As[ts],ns=bs.length,this.globalData.canvasContext.moveTo(bs[0],bs[1]),is=2;is<ns;is+=6)this.globalData.canvasContext.bezierCurveTo(bs[is],bs[is+1],bs[is+2],bs[is+3],bs[is+4],bs[is+5]);this.globalData.canvasContext.closePath(),ys.ctxFill()}if(this.stroke){for(ls&&ls.sw?us!==ls.sw&&(us=ls.sw,ys.ctxLineWidth(ls.sw)):us!==this.values.sWidth&&(us=this.values.sWidth,ys.ctxLineWidth(this.values.sWidth)),ls&&ls.sc?hs!==ls.sc&&(hs=ls.sc,ys.ctxStrokeStyle(ls.sc)):hs!==this.values.stroke&&(hs=this.values.stroke,ys.ctxStrokeStyle(this.values.stroke)),As=this.textSpans[ki].elem,rs=As.length,this.globalData.canvasContext.beginPath(),ts=0;ts<rs;ts+=1)for(bs=As[ts],ns=bs.length,this.globalData.canvasContext.moveTo(bs[0],bs[1]),is=2;is<ns;is+=6)this.globalData.canvasContext.bezierCurveTo(bs[is],bs[is+1],bs[is+2],bs[is+3],bs[is+4],bs[is+5]);this.globalData.canvasContext.closePath(),ys.ctxStroke()}ls&&this.globalData.renderer.restore()}};function CVImageElement(es,ki,Ri){this.assetData=ki.getAssetData(es.refId),this.img=ki.imageLoader.getAsset(this.assetData),this.initElement(es,ki,Ri)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var es=createTag("canvas");es.width=this.assetData.w,es.height=this.assetData.h;var ki=es.getContext("2d"),Ri=this.img.width,ts=this.img.height,rs=Ri/ts,is=this.assetData.w/this.assetData.h,ns,ss,os=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;rs>is&&os==="xMidYMid slice"||rs<is&&os!=="xMidYMid slice"?(ss=ts,ns=ss*is):(ns=Ri,ss=ns/is),ki.drawImage(this.img,(Ri-ns)/2,(ts-ss)/2,ns,ss,0,0,this.assetData.w,this.assetData.h),this.img=es}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(es,ki,Ri){this.initElement(es,ki,Ri)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(es){return new CVShapeElement(es,this.globalData,this)},CanvasRendererBase.prototype.createText=function(es){return new CVTextElement(es,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(es){return new CVImageElement(es,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(es){return new CVSolidElement(es,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(es){es[0]===1&&es[1]===0&&es[4]===0&&es[5]===1&&es[12]===0&&es[13]===0||this.canvasContext.transform(es[0],es[1],es[4],es[5],es[12],es[13])},CanvasRendererBase.prototype.ctxOpacity=function(es){this.canvasContext.globalAlpha*=es<0?0:es},CanvasRendererBase.prototype.ctxFillStyle=function(es){this.canvasContext.fillStyle=es},CanvasRendererBase.prototype.ctxStrokeStyle=function(es){this.canvasContext.strokeStyle=es},CanvasRendererBase.prototype.ctxLineWidth=function(es){this.canvasContext.lineWidth=es},CanvasRendererBase.prototype.ctxLineCap=function(es){this.canvasContext.lineCap=es},CanvasRendererBase.prototype.ctxLineJoin=function(es){this.canvasContext.lineJoin=es},CanvasRendererBase.prototype.ctxMiterLimit=function(es){this.canvasContext.miterLimit=es},CanvasRendererBase.prototype.ctxFill=function(es){this.canvasContext.fill(es)},CanvasRendererBase.prototype.ctxFillRect=function(es,ki,Ri,ts){this.canvasContext.fillRect(es,ki,Ri,ts)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(es){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}es&&(this.globalData.blendMode="source-over"),this.contextData.restore(es)},CanvasRendererBase.prototype.configAnimation=function(es){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var ki=this.animationItem.container.style;ki.width="100%",ki.height="100%";var Ri="0px 0px 0px";ki.transformOrigin=Ri,ki.mozTransformOrigin=Ri,ki.webkitTransformOrigin=Ri,ki["-webkit-transform"]=Ri,ki.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=es,this.layers=es.layers,this.transformCanvas={w:es.w,h:es.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(es,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(es.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(es,ki){this.reset();var Ri,ts;es?(Ri=es,ts=ki,this.canvasContext.canvas.width=Ri,this.canvasContext.canvas.height=ts):(this.animationItem.wrapper&&this.animationItem.container?(Ri=this.animationItem.wrapper.offsetWidth,ts=this.animationItem.wrapper.offsetHeight):(Ri=this.canvasContext.canvas.width,ts=this.canvasContext.canvas.height),this.canvasContext.canvas.width=Ri*this.renderConfig.dpr,this.canvasContext.canvas.height=ts*this.renderConfig.dpr);var rs,is;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var ns=this.renderConfig.preserveAspectRatio.split(" "),ss=ns[1]||"meet",os=ns[0]||"xMidYMid",ls=os.substr(0,4),cs=os.substr(4);rs=Ri/ts,is=this.transformCanvas.w/this.transformCanvas.h,is>rs&&ss==="meet"||is<rs&&ss==="slice"?(this.transformCanvas.sx=Ri/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=Ri/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=ts/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=ts/(this.transformCanvas.h/this.renderConfig.dpr)),ls==="xMid"&&(is<rs&&ss==="meet"||is>rs&&ss==="slice")?this.transformCanvas.tx=(Ri-this.transformCanvas.w*(ts/this.transformCanvas.h))/2*this.renderConfig.dpr:ls==="xMax"&&(is<rs&&ss==="meet"||is>rs&&ss==="slice")?this.transformCanvas.tx=(Ri-this.transformCanvas.w*(ts/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,cs==="YMid"&&(is>rs&&ss==="meet"||is<rs&&ss==="slice")?this.transformCanvas.ty=(ts-this.transformCanvas.h*(Ri/this.transformCanvas.w))/2*this.renderConfig.dpr:cs==="YMax"&&(is>rs&&ss==="meet"||is<rs&&ss==="slice")?this.transformCanvas.ty=(ts-this.transformCanvas.h*(Ri/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=Ri/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=ts/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var es,ki=this.layers?this.layers.length:0;for(es=ki-1;es>=0;es-=1)this.elements[es]&&this.elements[es].destroy&&this.elements[es].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(es,ki){if(!(this.renderedFrame===es&&this.renderConfig.clearCanvas===!0&&!ki||this.destroyed||es===-1)){this.renderedFrame=es,this.globalData.frameNum=es-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||ki,this.globalData.projectInterface.currentFrame=es;var Ri,ts=this.layers.length;for(this.completeLayers||this.checkLayers(es),Ri=ts-1;Ri>=0;Ri-=1)(this.completeLayers||this.elements[Ri])&&this.elements[Ri].prepareFrame(es-this.layers[Ri].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),Ri=ts-1;Ri>=0;Ri-=1)(this.completeLayers||this.elements[Ri])&&this.elements[Ri].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(es){var ki=this.elements;if(!(ki[es]||this.layers[es].ty===99)){var Ri=this.createItem(this.layers[es],this,this.globalData);ki[es]=Ri,Ri.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var es=this.pendingElements.pop();es.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var es,ki=15;for(es=0;es<ki;es+=1){var Ri=new CanvasContext;this.stack[es]=Ri}this._length=ki,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var es=this._length*2,ki=0;for(ki=this._length;ki<es;ki+=1)this.stack[ki]=new CanvasContext;this._length=es},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(es){this.cArrPos-=1;var ki=this.stack[this.cArrPos],Ri=ki.transform,ts,rs=this.cTr.props;for(ts=0;ts<16;ts+=1)rs[ts]=Ri[ts];if(es){this.nativeContext.restore();var is=this.stack[this.cArrPos+1];this.appliedFillStyle=is.fillStyle,this.appliedStrokeStyle=is.strokeStyle,this.appliedLineWidth=is.lineWidth,this.appliedLineCap=is.lineCap,this.appliedLineJoin=is.lineJoin,this.appliedMiterLimit=is.miterLimit}this.nativeContext.setTransform(Ri[0],Ri[1],Ri[4],Ri[5],Ri[12],Ri[13]),(es||ki.opacity!==-1&&this.currentOpacity!==ki.opacity)&&(this.nativeContext.globalAlpha=ki.opacity,this.currentOpacity=ki.opacity),this.currentFillStyle=ki.fillStyle,this.currentStrokeStyle=ki.strokeStyle,this.currentLineWidth=ki.lineWidth,this.currentLineCap=ki.lineCap,this.currentLineJoin=ki.lineJoin,this.currentMiterLimit=ki.miterLimit},CVContextData.prototype.save=function(es){es&&this.nativeContext.save();var ki=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var Ri=this.stack[this.cArrPos],ts;for(ts=0;ts<16;ts+=1)Ri.transform[ts]=ki[ts];this.cArrPos+=1;var rs=this.stack[this.cArrPos];rs.opacity=Ri.opacity,rs.fillStyle=Ri.fillStyle,rs.strokeStyle=Ri.strokeStyle,rs.lineWidth=Ri.lineWidth,rs.lineCap=Ri.lineCap,rs.lineJoin=Ri.lineJoin,rs.miterLimit=Ri.miterLimit},CVContextData.prototype.setOpacity=function(es){this.stack[this.cArrPos].opacity=es},CVContextData.prototype.setContext=function(es){this.nativeContext=es},CVContextData.prototype.fillStyle=function(es){this.stack[this.cArrPos].fillStyle!==es&&(this.currentFillStyle=es,this.stack[this.cArrPos].fillStyle=es)},CVContextData.prototype.strokeStyle=function(es){this.stack[this.cArrPos].strokeStyle!==es&&(this.currentStrokeStyle=es,this.stack[this.cArrPos].strokeStyle=es)},CVContextData.prototype.lineWidth=function(es){this.stack[this.cArrPos].lineWidth!==es&&(this.currentLineWidth=es,this.stack[this.cArrPos].lineWidth=es)},CVContextData.prototype.lineCap=function(es){this.stack[this.cArrPos].lineCap!==es&&(this.currentLineCap=es,this.stack[this.cArrPos].lineCap=es)},CVContextData.prototype.lineJoin=function(es){this.stack[this.cArrPos].lineJoin!==es&&(this.currentLineJoin=es,this.stack[this.cArrPos].lineJoin=es)},CVContextData.prototype.miterLimit=function(es){this.stack[this.cArrPos].miterLimit!==es&&(this.currentMiterLimit=es,this.stack[this.cArrPos].miterLimit=es)},CVContextData.prototype.transform=function(es){this.transformMat.cloneFromProps(es);var ki=this.cTr;this.transformMat.multiply(ki),ki.cloneFromProps(this.transformMat.props);var Ri=ki.props;this.nativeContext.setTransform(Ri[0],Ri[1],Ri[4],Ri[5],Ri[12],Ri[13])},CVContextData.prototype.opacity=function(es){var ki=this.stack[this.cArrPos].opacity;ki*=es<0?0:es,this.stack[this.cArrPos].opacity!==ki&&(this.currentOpacity!==es&&(this.nativeContext.globalAlpha=es,this.currentOpacity=es),this.stack[this.cArrPos].opacity=ki)},CVContextData.prototype.fill=function(es){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(es)},CVContextData.prototype.fillRect=function(es,ki,Ri,ts){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(es,ki,Ri,ts)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(es,ki,Ri){this.completeLayers=!1,this.layers=es.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(es,ki,Ri),this.tm=es.tm?PropertyFactory.getProp(this,es.tm,0,ki.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var es=this.canvasContext;es.beginPath(),es.moveTo(0,0),es.lineTo(this.data.w,0),es.lineTo(this.data.w,this.data.h),es.lineTo(0,this.data.h),es.lineTo(0,0),es.clip();var ki,Ri=this.layers.length;for(ki=Ri-1;ki>=0;ki-=1)(this.completeLayers||this.elements[ki])&&this.elements[ki].renderFrame()},CVCompElement.prototype.destroy=function(){var es,ki=this.layers.length;for(es=ki-1;es>=0;es-=1)this.elements[es]&&this.elements[es].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(es){return new CVCompElement(es,this.globalData,this)};function CanvasRenderer(es,ki){this.animationItem=es,this.renderConfig={clearCanvas:ki&&ki.clearCanvas!==void 0?ki.clearCanvas:!0,context:ki&&ki.context||null,progressiveLoad:ki&&ki.progressiveLoad||!1,preserveAspectRatio:ki&&ki.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:ki&&ki.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:ki&&ki.contentVisibility||"visible",className:ki&&ki.className||"",id:ki&&ki.id||"",runExpressions:!ki||ki.runExpressions===void 0||ki.runExpressions},this.renderConfig.dpr=ki&&ki.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=ki&&ki.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(es){return new CVCompElement(es,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var ki=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var Ri=this.finalTransform.mat.toCSS();ki.transform=Ri,ki.webkitTransform=Ri}this.finalTransform._opMdf&&(ki.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(es,ki,Ri){this.initElement(es,ki,Ri)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var es;this.data.hasMask?(es=createNS("rect"),es.setAttribute("width",this.data.sw),es.setAttribute("height",this.data.sh),es.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(es=createTag("div"),es.style.width=this.data.sw+"px",es.style.height=this.data.sh+"px",es.style.backgroundColor=this.data.sc),this.layerElement.appendChild(es)};function HShapeElement(es,ki,Ri){this.shapes=[],this.shapesData=es.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(es,ki,Ri),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var es;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),es=this.svgElement;else{es=createNS("svg");var ki=this.comp.data?this.comp.data:this.globalData.compSize;es.setAttribute("width",ki.w),es.setAttribute("height",ki.h),es.appendChild(this.shapesContainer),this.layerElement.appendChild(es)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=es},HShapeElement.prototype.getTransformedPoint=function(es,ki){var Ri,ts=es.length;for(Ri=0;Ri<ts;Ri+=1)ki=es[Ri].mProps.v.applyToPointArray(ki[0],ki[1],0);return ki},HShapeElement.prototype.calculateShapeBoundingBox=function(es,ki){var Ri=es.sh.v,ts=es.transformers,rs,is=Ri._length,ns,ss,os,ls;if(!(is<=1)){for(rs=0;rs<is-1;rs+=1)ns=this.getTransformedPoint(ts,Ri.v[rs]),ss=this.getTransformedPoint(ts,Ri.o[rs]),os=this.getTransformedPoint(ts,Ri.i[rs+1]),ls=this.getTransformedPoint(ts,Ri.v[rs+1]),this.checkBounds(ns,ss,os,ls,ki);Ri.c&&(ns=this.getTransformedPoint(ts,Ri.v[rs]),ss=this.getTransformedPoint(ts,Ri.o[rs]),os=this.getTransformedPoint(ts,Ri.i[0]),ls=this.getTransformedPoint(ts,Ri.v[0]),this.checkBounds(ns,ss,os,ls,ki))}},HShapeElement.prototype.checkBounds=function(es,ki,Ri,ts,rs){this.getBoundsOfCurve(es,ki,Ri,ts);var is=this.shapeBoundingBox;rs.x=bmMin(is.left,rs.x),rs.xMax=bmMax(is.right,rs.xMax),rs.y=bmMin(is.top,rs.y),rs.yMax=bmMax(is.bottom,rs.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(es,ki,Ri,ts){for(var rs=[[es[0],ts[0]],[es[1],ts[1]]],is,ns,ss,os,ls,cs,hs,us=0;us<2;++us)ns=6*es[us]-12*ki[us]+6*Ri[us],is=-3*es[us]+9*ki[us]-9*Ri[us]+3*ts[us],ss=3*ki[us]-3*es[us],ns|=0,is|=0,ss|=0,is===0&&ns===0||(is===0?(os=-ss/ns,os>0&&os<1&&rs[us].push(this.calculateF(os,es,ki,Ri,ts,us))):(ls=ns*ns-4*ss*is,ls>=0&&(cs=(-ns+bmSqrt(ls))/(2*is),cs>0&&cs<1&&rs[us].push(this.calculateF(cs,es,ki,Ri,ts,us)),hs=(-ns-bmSqrt(ls))/(2*is),hs>0&&hs<1&&rs[us].push(this.calculateF(hs,es,ki,Ri,ts,us)))));this.shapeBoundingBox.left=bmMin.apply(null,rs[0]),this.shapeBoundingBox.top=bmMin.apply(null,rs[1]),this.shapeBoundingBox.right=bmMax.apply(null,rs[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,rs[1])},HShapeElement.prototype.calculateF=function(es,ki,Ri,ts,rs,is){return bmPow(1-es,3)*ki[is]+3*bmPow(1-es,2)*es*Ri[is]+3*(1-es)*bmPow(es,2)*ts[is]+bmPow(es,3)*rs[is]},HShapeElement.prototype.calculateBoundingBox=function(es,ki){var Ri,ts=es.length;for(Ri=0;Ri<ts;Ri+=1)es[Ri]&&es[Ri].sh?this.calculateShapeBoundingBox(es[Ri],ki):es[Ri]&&es[Ri].it?this.calculateBoundingBox(es[Ri].it,ki):es[Ri]&&es[Ri].style&&es[Ri].w&&this.expandStrokeBoundingBox(es[Ri].w,ki)},HShapeElement.prototype.expandStrokeBoundingBox=function(es,ki){var Ri=0;if(es.keyframes){for(var ts=0;ts<es.keyframes.length;ts+=1){var rs=es.keyframes[ts].s;rs>Ri&&(Ri=rs)}Ri*=es.mult}else Ri=es.v*es.mult;ki.x-=Ri,ki.xMax+=Ri,ki.y-=Ri,ki.yMax+=Ri},HShapeElement.prototype.currentBoxContains=function(es){return this.currentBBox.x<=es.x&&this.currentBBox.y<=es.y&&this.currentBBox.width+this.currentBBox.x>=es.x+es.width&&this.currentBBox.height+this.currentBBox.y>=es.y+es.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var es=this.tempBoundingBox,ki=999999;if(es.x=ki,es.xMax=-ki,es.y=ki,es.yMax=-ki,this.calculateBoundingBox(this.itemsData,es),es.width=es.xMax<es.x?0:es.xMax-es.x,es.height=es.yMax<es.y?0:es.yMax-es.y,this.currentBoxContains(es))return;var Ri=!1;if(this.currentBBox.w!==es.width&&(this.currentBBox.w=es.width,this.shapeCont.setAttribute("width",es.width),Ri=!0),this.currentBBox.h!==es.height&&(this.currentBBox.h=es.height,this.shapeCont.setAttribute("height",es.height),Ri=!0),Ri||this.currentBBox.x!==es.x||this.currentBBox.y!==es.y){this.currentBBox.w=es.width,this.currentBBox.h=es.height,this.currentBBox.x=es.x,this.currentBBox.y=es.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var ts=this.shapeCont.style,rs="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";ts.transform=rs,ts.webkitTransform=rs}}};function HTextElement(es,ki,Ri){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(es,ki,Ri)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var es=createNS("g");this.maskedElement.appendChild(es),this.innerElem=es}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var es=this.textProperty.currentData;this.renderedLetters=createSizedArray(es.l?es.l.length:0);var ki=this.innerElem.style,Ri=es.fc?this.buildColor(es.fc):"rgba(0,0,0,0)";ki.fill=Ri,ki.color=Ri,es.sc&&(ki.stroke=this.buildColor(es.sc),ki.strokeWidth=es.sw+"px");var ts=this.globalData.fontManager.getFontByName(es.f);if(!this.globalData.fontManager.chars)if(ki.fontSize=es.finalSize+"px",ki.lineHeight=es.finalSize+"px",ts.fClass)this.innerElem.className=ts.fClass;else{ki.fontFamily=ts.fFamily;var rs=es.fWeight,is=es.fStyle;ki.fontStyle=is,ki.fontWeight=rs}var ns,ss,os=es.l;ss=os.length;var ls,cs,hs,us=this.mHelper,As,bs="",ys=0;for(ns=0;ns<ss;ns+=1){if(this.globalData.fontManager.chars?(this.textPaths[ys]?ls=this.textPaths[ys]:(ls=createNS("path"),ls.setAttribute("stroke-linecap",lineCapEnum[1]),ls.setAttribute("stroke-linejoin",lineJoinEnum[2]),ls.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[ys]?(cs=this.textSpans[ys],hs=cs.children[0]):(cs=createTag("div"),cs.style.lineHeight=0,hs=createNS("svg"),hs.appendChild(ls),styleDiv(cs)))):this.isMasked?ls=this.textPaths[ys]?this.textPaths[ys]:createNS("text"):this.textSpans[ys]?(cs=this.textSpans[ys],ls=this.textPaths[ys]):(cs=createTag("span"),styleDiv(cs),ls=createTag("span"),styleDiv(ls),cs.appendChild(ls)),this.globalData.fontManager.chars){var Cs=this.globalData.fontManager.getCharData(es.finalText[ns],ts.fStyle,this.globalData.fontManager.getFontByName(es.f).fFamily),ps;if(Cs?ps=Cs.data:ps=null,us.reset(),ps&&ps.shapes&&ps.shapes.length&&(As=ps.shapes[0].it,us.scale(es.finalSize/100,es.finalSize/100),bs=this.createPathShape(us,As),ls.setAttribute("d",bs)),this.isMasked)this.innerElem.appendChild(ls);else{if(this.innerElem.appendChild(cs),ps&&ps.shapes){document.body.appendChild(hs);var ms=hs.getBBox();hs.setAttribute("width",ms.width+2),hs.setAttribute("height",ms.height+2),hs.setAttribute("viewBox",ms.x-1+" "+(ms.y-1)+" "+(ms.width+2)+" "+(ms.height+2));var fs=hs.style,gs="translate("+(ms.x-1)+"px,"+(ms.y-1)+"px)";fs.transform=gs,fs.webkitTransform=gs,os[ns].yOffset=ms.y-1}else hs.setAttribute("width",1),hs.setAttribute("height",1);cs.appendChild(hs)}}else if(ls.textContent=os[ns].val,ls.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(ls);else{this.innerElem.appendChild(cs);var ws=ls.style,Ts="translate3d(0,"+-es.finalSize/1.2+"px,0)";ws.transform=Ts,ws.webkitTransform=Ts}this.isMasked?this.textSpans[ys]=ls:this.textSpans[ys]=cs,this.textSpans[ys].style.display="block",this.textPaths[ys]=ls,ys+=1}for(;ys<this.textSpans.length;)this.textSpans[ys].style.display="none",ys+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var es;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),es=this.svgElement.style;var ki="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";es.transform=ki,es.webkitTransform=ki}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var Ri,ts,rs=0,is=this.textAnimator.renderedLetters,ns=this.textProperty.currentData.l;ts=ns.length;var ss,os,ls;for(Ri=0;Ri<ts;Ri+=1)ns[Ri].n?rs+=1:(os=this.textSpans[Ri],ls=this.textPaths[Ri],ss=is[rs],rs+=1,ss._mdf.m&&(this.isMasked?os.setAttribute("transform",ss.m):(os.style.webkitTransform=ss.m,os.style.transform=ss.m)),os.style.opacity=ss.o,ss.sw&&ss._mdf.sw&&ls.setAttribute("stroke-width",ss.sw),ss.sc&&ss._mdf.sc&&ls.setAttribute("stroke",ss.sc),ss.fc&&ss._mdf.fc&&(ls.setAttribute("fill",ss.fc),ls.style.color=ss.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var cs=this.innerElem.getBBox();this.currentBBox.w!==cs.width&&(this.currentBBox.w=cs.width,this.svgElement.setAttribute("width",cs.width)),this.currentBBox.h!==cs.height&&(this.currentBBox.h=cs.height,this.svgElement.setAttribute("height",cs.height));var hs=1;if(this.currentBBox.w!==cs.width+hs*2||this.currentBBox.h!==cs.height+hs*2||this.currentBBox.x!==cs.x-hs||this.currentBBox.y!==cs.y-hs){this.currentBBox.w=cs.width+hs*2,this.currentBBox.h=cs.height+hs*2,this.currentBBox.x=cs.x-hs,this.currentBBox.y=cs.y-hs,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),es=this.svgElement.style;var us="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";es.transform=us,es.webkitTransform=us}}}};function HCameraElement(es,ki,Ri){this.initFrame(),this.initBaseData(es,ki,Ri),this.initHierarchy();var ts=PropertyFactory.getProp;if(this.pe=ts(this,es.pe,0,0,this),es.ks.p.s?(this.px=ts(this,es.ks.p.x,1,0,this),this.py=ts(this,es.ks.p.y,1,0,this),this.pz=ts(this,es.ks.p.z,1,0,this)):this.p=ts(this,es.ks.p,1,0,this),es.ks.a&&(this.a=ts(this,es.ks.a,1,0,this)),es.ks.or.k.length&&es.ks.or.k[0].to){var rs,is=es.ks.or.k.length;for(rs=0;rs<is;rs+=1)es.ks.or.k[rs].to=null,es.ks.or.k[rs].ti=null}this.or=ts(this,es.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=ts(this,es.ks.rx,0,degToRads,this),this.ry=ts(this,es.ks.ry,0,degToRads,this),this.rz=ts(this,es.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var es,ki=this.comp.threeDElements.length,Ri,ts,rs;for(es=0;es<ki;es+=1)if(Ri=this.comp.threeDElements[es],Ri.type==="3d"){ts=Ri.perspectiveElem.style,rs=Ri.container.style;var is=this.pe.v+"px",ns="0px 0px 0px",ss="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";ts.perspective=is,ts.webkitPerspective=is,rs.transformOrigin=ns,rs.mozTransformOrigin=ns,rs.webkitTransformOrigin=ns,ts.transform=ss,ts.webkitTransform=ss}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var es=this._isFirstFrame,ki,Ri;if(this.hierarchy)for(Ri=this.hierarchy.length,ki=0;ki<Ri;ki+=1)es=this.hierarchy[ki].finalTransform.mProp._mdf||es;if(es||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(Ri=this.hierarchy.length-1,ki=Ri;ki>=0;ki-=1){var ts=this.hierarchy[ki].finalTransform.mProp;this.mat.translate(-ts.p.v[0],-ts.p.v[1],ts.p.v[2]),this.mat.rotateX(-ts.or.v[0]).rotateY(-ts.or.v[1]).rotateZ(ts.or.v[2]),this.mat.rotateX(-ts.rx.v).rotateY(-ts.ry.v).rotateZ(ts.rz.v),this.mat.scale(1/ts.s.v[0],1/ts.s.v[1],1/ts.s.v[2]),this.mat.translate(ts.a.v[0],ts.a.v[1],ts.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var rs;this.p?rs=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:rs=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var is=Math.sqrt(Math.pow(rs[0],2)+Math.pow(rs[1],2)+Math.pow(rs[2],2)),ns=[rs[0]/is,rs[1]/is,rs[2]/is],ss=Math.sqrt(ns[2]*ns[2]+ns[0]*ns[0]),os=Math.atan2(ns[1],ss),ls=Math.atan2(ns[0],-ns[2]);this.mat.rotateY(ls).rotateX(-os)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var cs=!this._prevMat.equals(this.mat);if((cs||this.pe._mdf)&&this.comp.threeDElements){Ri=this.comp.threeDElements.length;var hs,us,As;for(ki=0;ki<Ri;ki+=1)if(hs=this.comp.threeDElements[ki],hs.type==="3d"){if(cs){var bs=this.mat.toCSS();As=hs.container.style,As.transform=bs,As.webkitTransform=bs}this.pe._mdf&&(us=hs.perspectiveElem.style,us.perspective=this.pe.v+"px",us.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(es){this.prepareProperties(es,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(es,ki,Ri){this.assetData=ki.getAssetData(es.refId),this.initElement(es,ki,Ri)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var es=this.globalData.getAssetsPath(this.assetData),ki=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",es),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(ki),ki.crossOrigin="anonymous",ki.src=es,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(es,ki){this.animationItem=es,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:ki&&ki.className||"",imagePreserveAspectRatio:ki&&ki.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(ki&&ki.hideOnTransparent===!1),filterSize:{width:ki&&ki.filterSize&&ki.filterSize.width||"400%",height:ki&&ki.filterSize&&ki.filterSize.height||"400%",x:ki&&ki.filterSize&&ki.filterSize.x||"-100%",y:ki&&ki.filterSize&&ki.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var es=this.pendingElements.pop();es.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(es,ki){var Ri=es.getBaseElement();if(Ri){var ts=this.layers[ki];if(!ts.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(Ri,ki);else{for(var rs=0,is,ns,ss;rs<ki;)this.elements[rs]&&this.elements[rs]!==!0&&this.elements[rs].getBaseElement&&(ns=this.elements[rs],ss=this.layers[rs].ddd?this.getThreeDContainerByPos(rs):ns.getBaseElement(),is=ss||is),rs+=1;is?(!ts.ddd||!this.supports3d)&&this.layerElement.insertBefore(Ri,is):(!ts.ddd||!this.supports3d)&&this.layerElement.appendChild(Ri)}else this.addTo3dContainer(Ri,ki)}},HybridRendererBase.prototype.createShape=function(es){return this.supports3d?new HShapeElement(es,this.globalData,this):new SVGShapeElement(es,this.globalData,this)},HybridRendererBase.prototype.createText=function(es){return this.supports3d?new HTextElement(es,this.globalData,this):new SVGTextLottieElement(es,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(es){return this.camera=new HCameraElement(es,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(es){return this.supports3d?new HImageElement(es,this.globalData,this):new IImageElement(es,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(es){return this.supports3d?new HSolidElement(es,this.globalData,this):new ISolidElement(es,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(es){for(var ki=0,Ri=this.threeDElements.length;ki<Ri;){if(this.threeDElements[ki].startPos<=es&&this.threeDElements[ki].endPos>=es)return this.threeDElements[ki].perspectiveElem;ki+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(es,ki){var Ri=createTag("div"),ts,rs;styleDiv(Ri);var is=createTag("div");if(styleDiv(is),ki==="3d"){ts=Ri.style,ts.width=this.globalData.compSize.w+"px",ts.height=this.globalData.compSize.h+"px";var ns="50% 50%";ts.webkitTransformOrigin=ns,ts.mozTransformOrigin=ns,ts.transformOrigin=ns,rs=is.style;var ss="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";rs.transform=ss,rs.webkitTransform=ss}Ri.appendChild(is);var os={container:is,perspectiveElem:Ri,startPos:es,endPos:es,type:ki};return this.threeDElements.push(os),os},HybridRendererBase.prototype.build3dContainers=function(){var es,ki=this.layers.length,Ri,ts="";for(es=0;es<ki;es+=1)this.layers[es].ddd&&this.layers[es].ty!==3?(ts!=="3d"&&(ts="3d",Ri=this.createThreeDContainer(es,"3d")),Ri.endPos=Math.max(Ri.endPos,es)):(ts!=="2d"&&(ts="2d",Ri=this.createThreeDContainer(es,"2d")),Ri.endPos=Math.max(Ri.endPos,es));for(ki=this.threeDElements.length,es=ki-1;es>=0;es-=1)this.resizerElem.appendChild(this.threeDElements[es].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(es,ki){for(var Ri=0,ts=this.threeDElements.length;Ri<ts;){if(ki<=this.threeDElements[Ri].endPos){for(var rs=this.threeDElements[Ri].startPos,is;rs<ki;)this.elements[rs]&&this.elements[rs].getBaseElement&&(is=this.elements[rs].getBaseElement()),rs+=1;is?this.threeDElements[Ri].container.insertBefore(es,is):this.threeDElements[Ri].container.appendChild(es);break}Ri+=1}},HybridRendererBase.prototype.configAnimation=function(es){var ki=createTag("div"),Ri=this.animationItem.wrapper,ts=ki.style;ts.width=es.w+"px",ts.height=es.h+"px",this.resizerElem=ki,styleDiv(ki),ts.transformStyle="flat",ts.mozTransformStyle="flat",ts.webkitTransformStyle="flat",this.renderConfig.className&&ki.setAttribute("class",this.renderConfig.className),Ri.appendChild(ki),ts.overflow="hidden";var rs=createNS("svg");rs.setAttribute("width","1"),rs.setAttribute("height","1"),styleDiv(rs),this.resizerElem.appendChild(rs);var is=createNS("defs");rs.appendChild(is),this.data=es,this.setupGlobalData(es,rs),this.globalData.defs=is,this.layers=es.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var es,ki=this.layers?this.layers.length:0;for(es=0;es<ki;es+=1)this.elements[es]&&this.elements[es].destroy&&this.elements[es].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var es=this.animationItem.wrapper.offsetWidth,ki=this.animationItem.wrapper.offsetHeight,Ri=es/ki,ts=this.globalData.compSize.w/this.globalData.compSize.h,rs,is,ns,ss;ts>Ri?(rs=es/this.globalData.compSize.w,is=es/this.globalData.compSize.w,ns=0,ss=(ki-this.globalData.compSize.h*(es/this.globalData.compSize.w))/2):(rs=ki/this.globalData.compSize.h,is=ki/this.globalData.compSize.h,ns=(es-this.globalData.compSize.w*(ki/this.globalData.compSize.h))/2,ss=0);var os=this.resizerElem.style;os.webkitTransform="matrix3d("+rs+",0,0,0,0,"+is+",0,0,0,0,1,0,"+ns+","+ss+",0,1)",os.transform=os.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var es=this.globalData.compSize.w,ki=this.globalData.compSize.h,Ri,ts=this.threeDElements.length;for(Ri=0;Ri<ts;Ri+=1){var rs=this.threeDElements[Ri].perspectiveElem.style;rs.webkitPerspective=Math.sqrt(Math.pow(es,2)+Math.pow(ki,2))+"px",rs.perspective=rs.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(es){var ki,Ri=es.length,ts=createTag("div");for(ki=0;ki<Ri;ki+=1)if(es[ki].xt){var rs=this.createComp(es[ki],ts,this.globalData.comp,null);rs.initExpressions(),this.globalData.projectInterface.registerComposition(rs)}};function HCompElement(es,ki,Ri){this.layers=es.layers,this.supports3d=!es.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(es,ki,Ri),this.tm=es.tm?PropertyFactory.getProp(this,es.tm,0,ki.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(es,ki){for(var Ri=0,ts;Ri<ki;)this.elements[Ri]&&this.elements[Ri].getBaseElement&&(ts=this.elements[Ri].getBaseElement()),Ri+=1;ts?this.layerElement.insertBefore(es,ts):this.layerElement.appendChild(es)},HCompElement.prototype.createComp=function(es){return this.supports3d?new HCompElement(es,this.globalData,this):new SVGCompElement(es,this.globalData,this)};function HybridRenderer(es,ki){this.animationItem=es,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:ki&&ki.className||"",imagePreserveAspectRatio:ki&&ki.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(ki&&ki.hideOnTransparent===!1),filterSize:{width:ki&&ki.filterSize&&ki.filterSize.width||"400%",height:ki&&ki.filterSize&&ki.filterSize.height||"400%",x:ki&&ki.filterSize&&ki.filterSize.x||"-100%",y:ki&&ki.filterSize&&ki.filterSize.y||"-100%"},runExpressions:!ki||ki.runExpressions===void 0||ki.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(es){return this.supports3d?new HCompElement(es,this.globalData,this):new SVGCompElement(es,this.globalData,this)};var CompExpressionInterface=function(){return function(es){function ki(Ri){for(var ts=0,rs=es.layers.length;ts<rs;){if(es.layers[ts].nm===Ri||es.layers[ts].ind===Ri)return es.elements[ts].layerInterface;ts+=1}return null}return Object.defineProperty(ki,"_name",{value:es.data.nm}),ki.layer=ki,ki.pixelAspect=1,ki.height=es.data.h||es.globalData.compSize.h,ki.width=es.data.w||es.globalData.compSize.w,ki.pixelAspect=1,ki.frameDuration=1/es.globalData.frameRate,ki.displayStartTime=0,ki.numLayers=es.layers.length,ki}}();function _typeof$2(es){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(Ri){return typeof Ri}:_typeof$2=function(Ri){return Ri&&typeof Symbol=="function"&&Ri.constructor===Symbol&&Ri!==Symbol.prototype?"symbol":typeof Ri},_typeof$2(es)}function seedRandom(es,ki){var Ri=this,ts=256,rs=6,is=52,ns="random",ss=ki.pow(ts,rs),os=ki.pow(2,is),ls=os*2,cs=ts-1,hs;function us(fs,gs,ws){var Ts=[];gs=gs===!0?{entropy:!0}:gs||{};var $s=Cs(ys(gs.entropy?[fs,ms(es)]:fs===null?ps():fs,3),Ts),Rs=new As(Ts),Ps=function(){for(var Fs=Rs.g(rs),Is=ss,Ms=0;Fs<os;)Fs=(Fs+Ms)*ts,Is*=ts,Ms=Rs.g(1);for(;Fs>=ls;)Fs/=2,Is/=2,Ms>>>=1;return(Fs+Ms)/Is};return Ps.int32=function(){return Rs.g(4)|0},Ps.quick=function(){return Rs.g(4)/4294967296},Ps.double=Ps,Cs(ms(Rs.S),es),(gs.pass||ws||function(Qs,Fs,Is,Ms){return Ms&&(Ms.S&&bs(Ms,Rs),Qs.state=function(){return bs(Rs,{})}),Is?(ki[ns]=Qs,Fs):Qs})(Ps,$s,"global"in gs?gs.global:this==ki,gs.state)}ki["seed"+ns]=us;function As(fs){var gs,ws=fs.length,Ts=this,$s=0,Rs=Ts.i=Ts.j=0,Ps=Ts.S=[];for(ws||(fs=[ws++]);$s<ts;)Ps[$s]=$s++;for($s=0;$s<ts;$s++)Ps[$s]=Ps[Rs=cs&Rs+fs[$s%ws]+(gs=Ps[$s])],Ps[Rs]=gs;Ts.g=function(Qs){for(var Fs,Is=0,Ms=Ts.i,Ws=Ts.j,Ds=Ts.S;Qs--;)Fs=Ds[Ms=cs&Ms+1],Is=Is*ts+Ds[cs&(Ds[Ms]=Ds[Ws=cs&Ws+Fs])+(Ds[Ws]=Fs)];return Ts.i=Ms,Ts.j=Ws,Is}}function bs(fs,gs){return gs.i=fs.i,gs.j=fs.j,gs.S=fs.S.slice(),gs}function ys(fs,gs){var ws=[],Ts=_typeof$2(fs),$s;if(gs&&Ts=="object")for($s in fs)try{ws.push(ys(fs[$s],gs-1))}catch{}return ws.length?ws:Ts=="string"?fs:fs+"\0"}function Cs(fs,gs){for(var ws=fs+"",Ts,$s=0;$s<ws.length;)gs[cs&$s]=cs&(Ts^=gs[cs&$s]*19)+ws.charCodeAt($s++);return ms(gs)}function ps(){try{var fs=new Uint8Array(ts);return(Ri.crypto||Ri.msCrypto).getRandomValues(fs),ms(fs)}catch{var gs=Ri.navigator,ws=gs&&gs.plugins;return[+new Date,Ri,ws,Ri.screen,ms(es)]}}function ms(fs){return String.fromCharCode.apply(0,fs)}Cs(ki.random(),es)}function initialize$2(es){seedRandom([],es)}var propTypes={SHAPE:"shape"};function _typeof$1(es){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(Ri){return typeof Ri}:_typeof$1=function(Ri){return Ri&&typeof Symbol=="function"&&Ri.constructor===Symbol&&Ri!==Symbol.prototype?"symbol":typeof Ri},_typeof$1(es)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(es){return es.constructor===Array||es.constructor===Float32Array}function isNumerable(es,ki){return es==="number"||ki instanceof Number||es==="boolean"||es==="string"}function $bm_neg(es){var ki=_typeof$1(es);if(ki==="number"||es instanceof Number||ki==="boolean")return-es;if($bm_isInstanceOfArray(es)){var Ri,ts=es.length,rs=[];for(Ri=0;Ri<ts;Ri+=1)rs[Ri]=-es[Ri];return rs}return es.propType?es.v:-es}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(es,ki){var Ri=_typeof$1(es),ts=_typeof$1(ki);if(isNumerable(Ri,es)&&isNumerable(ts,ki)||Ri==="string"||ts==="string")return es+ki;if($bm_isInstanceOfArray(es)&&isNumerable(ts,ki))return es=es.slice(0),es[0]+=ki,es;if(isNumerable(Ri,es)&&$bm_isInstanceOfArray(ki))return ki=ki.slice(0),ki[0]=es+ki[0],ki;if($bm_isInstanceOfArray(es)&&$bm_isInstanceOfArray(ki)){for(var rs=0,is=es.length,ns=ki.length,ss=[];rs<is||rs<ns;)(typeof es[rs]=="number"||es[rs]instanceof Number)&&(typeof ki[rs]=="number"||ki[rs]instanceof Number)?ss[rs]=es[rs]+ki[rs]:ss[rs]=ki[rs]===void 0?es[rs]:es[rs]||ki[rs],rs+=1;return ss}return 0}var add=sum;function sub(es,ki){var Ri=_typeof$1(es),ts=_typeof$1(ki);if(isNumerable(Ri,es)&&isNumerable(ts,ki))return Ri==="string"&&(es=parseInt(es,10)),ts==="string"&&(ki=parseInt(ki,10)),es-ki;if($bm_isInstanceOfArray(es)&&isNumerable(ts,ki))return es=es.slice(0),es[0]-=ki,es;if(isNumerable(Ri,es)&&$bm_isInstanceOfArray(ki))return ki=ki.slice(0),ki[0]=es-ki[0],ki;if($bm_isInstanceOfArray(es)&&$bm_isInstanceOfArray(ki)){for(var rs=0,is=es.length,ns=ki.length,ss=[];rs<is||rs<ns;)(typeof es[rs]=="number"||es[rs]instanceof Number)&&(typeof ki[rs]=="number"||ki[rs]instanceof Number)?ss[rs]=es[rs]-ki[rs]:ss[rs]=ki[rs]===void 0?es[rs]:es[rs]||ki[rs],rs+=1;return ss}return 0}function mul(es,ki){var Ri=_typeof$1(es),ts=_typeof$1(ki),rs;if(isNumerable(Ri,es)&&isNumerable(ts,ki))return es*ki;var is,ns;if($bm_isInstanceOfArray(es)&&isNumerable(ts,ki)){for(ns=es.length,rs=createTypedArray("float32",ns),is=0;is<ns;is+=1)rs[is]=es[is]*ki;return rs}if(isNumerable(Ri,es)&&$bm_isInstanceOfArray(ki)){for(ns=ki.length,rs=createTypedArray("float32",ns),is=0;is<ns;is+=1)rs[is]=es*ki[is];return rs}return 0}function div(es,ki){var Ri=_typeof$1(es),ts=_typeof$1(ki),rs;if(isNumerable(Ri,es)&&isNumerable(ts,ki))return es/ki;var is,ns;if($bm_isInstanceOfArray(es)&&isNumerable(ts,ki)){for(ns=es.length,rs=createTypedArray("float32",ns),is=0;is<ns;is+=1)rs[is]=es[is]/ki;return rs}if(isNumerable(Ri,es)&&$bm_isInstanceOfArray(ki)){for(ns=ki.length,rs=createTypedArray("float32",ns),is=0;is<ns;is+=1)rs[is]=es/ki[is];return rs}return 0}function mod(es,ki){return typeof es=="string"&&(es=parseInt(es,10)),typeof ki=="string"&&(ki=parseInt(ki,10)),es%ki}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(es,ki,Ri){if(ki>Ri){var ts=Ri;Ri=ki,ki=ts}return Math.min(Math.max(es,ki),Ri)}function radiansToDegrees(es){return es/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(es){return es*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(es,ki){if(typeof es=="number"||es instanceof Number)return ki=ki||0,Math.abs(es-ki);ki||(ki=helperLengthArray);var Ri,ts=Math.min(es.length,ki.length),rs=0;for(Ri=0;Ri<ts;Ri+=1)rs+=Math.pow(ki[Ri]-es[Ri],2);return Math.sqrt(rs)}function normalize(es){return div(es,length(es))}function rgbToHsl(es){var ki=es[0],Ri=es[1],ts=es[2],rs=Math.max(ki,Ri,ts),is=Math.min(ki,Ri,ts),ns,ss,os=(rs+is)/2;if(rs===is)ns=0,ss=0;else{var ls=rs-is;switch(ss=os>.5?ls/(2-rs-is):ls/(rs+is),rs){case ki:ns=(Ri-ts)/ls+(Ri<ts?6:0);break;case Ri:ns=(ts-ki)/ls+2;break;case ts:ns=(ki-Ri)/ls+4;break}ns/=6}return[ns,ss,os,es[3]]}function hue2rgb(es,ki,Ri){return Ri<0&&(Ri+=1),Ri>1&&(Ri-=1),Ri<1/6?es+(ki-es)*6*Ri:Ri<1/2?ki:Ri<2/3?es+(ki-es)*(2/3-Ri)*6:es}function hslToRgb(es){var ki=es[0],Ri=es[1],ts=es[2],rs,is,ns;if(Ri===0)rs=ts,ns=ts,is=ts;else{var ss=ts<.5?ts*(1+Ri):ts+Ri-ts*Ri,os=2*ts-ss;rs=hue2rgb(os,ss,ki+1/3),is=hue2rgb(os,ss,ki),ns=hue2rgb(os,ss,ki-1/3)}return[rs,is,ns,es[3]]}function linear(es,ki,Ri,ts,rs){if((ts===void 0||rs===void 0)&&(ts=ki,rs=Ri,ki=0,Ri=1),Ri<ki){var is=Ri;Ri=ki,ki=is}if(es<=ki)return ts;if(es>=Ri)return rs;var ns=Ri===ki?0:(es-ki)/(Ri-ki);if(!ts.length)return ts+(rs-ts)*ns;var ss,os=ts.length,ls=createTypedArray("float32",os);for(ss=0;ss<os;ss+=1)ls[ss]=ts[ss]+(rs[ss]-ts[ss])*ns;return ls}function random(es,ki){if(ki===void 0&&(es===void 0?(es=0,ki=1):(ki=es,es=void 0)),ki.length){var Ri,ts=ki.length;es||(es=createTypedArray("float32",ts));var rs=createTypedArray("float32",ts),is=BMMath.random();for(Ri=0;Ri<ts;Ri+=1)rs[Ri]=es[Ri]+is*(ki[Ri]-es[Ri]);return rs}es===void 0&&(es=0);var ns=BMMath.random();return es+ns*(ki-es)}function createPath(es,ki,Ri,ts){var rs,is=es.length,ns=shapePool.newElement();ns.setPathData(!!ts,is);var ss=[0,0],os,ls;for(rs=0;rs<is;rs+=1)os=ki&&ki[rs]?ki[rs]:ss,ls=Ri&&Ri[rs]?Ri[rs]:ss,ns.setTripleAt(es[rs][0],es[rs][1],ls[0]+es[rs][0],ls[1]+es[rs][1],os[0]+es[rs][0],os[1]+es[rs][1],rs,!0);return ns}function initiateExpression(elem,data,property){function noOp(es){return es}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function es(ki,Ri){var ts,rs,is=this.pv.length?this.pv.length:1,ns=createTypedArray("float32",is);ki=5;var ss=Math.floor(time*ki);for(ts=0,rs=0;ts<ss;){for(rs=0;rs<is;rs+=1)ns[rs]+=-Ri+Ri*2*BMMath.random();ts+=1}var os=time*ki,ls=os-Math.floor(os),cs=createTypedArray("float32",is);if(is>1){for(rs=0;rs<is;rs+=1)cs[rs]=this.pv[rs]+ns[rs]+(-Ri+Ri*2*BMMath.random())*ls;return cs}return this.pv+ns[0]+(-Ri+Ri*2*BMMath.random())*ls}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(es,ki){return loopIn(es,ki,!0)}function loopOutDuration(es,ki){return loopOut(es,ki,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(es,ki){var Ri=[ki[0]-es[0],ki[1]-es[1],ki[2]-es[2]],ts=Math.atan2(Ri[0],Math.sqrt(Ri[1]*Ri[1]+Ri[2]*Ri[2]))/degToRads,rs=-Math.atan2(Ri[1],Ri[2])/degToRads;return[rs,ts,0]}function easeOut(es,ki,Ri,ts,rs){return applyEase(easeOutBez,es,ki,Ri,ts,rs)}function easeIn(es,ki,Ri,ts,rs){return applyEase(easeInBez,es,ki,Ri,ts,rs)}function ease(es,ki,Ri,ts,rs){return applyEase(easeInOutBez,es,ki,Ri,ts,rs)}function applyEase(es,ki,Ri,ts,rs,is){rs===void 0?(rs=Ri,is=ts):ki=(ki-Ri)/(ts-Ri),ki>1?ki=1:ki<0&&(ki=0);var ns=es(ki);if($bm_isInstanceOfArray(rs)){var ss,os=rs.length,ls=createTypedArray("float32",os);for(ss=0;ss<os;ss+=1)ls[ss]=(is[ss]-rs[ss])*ns+rs[ss];return ls}return(is-rs)*ns+rs}function nearestKey(es){var ki,Ri=data.k.length,ts,rs;if(!data.k.length||typeof data.k[0]=="number")ts=0,rs=0;else if(ts=-1,es*=elem.comp.globalData.frameRate,es<data.k[0].t)ts=1,rs=data.k[0].t;else{for(ki=0;ki<Ri-1;ki+=1)if(es===data.k[ki].t){ts=ki+1,rs=data.k[ki].t;break}else if(es>data.k[ki].t&&es<data.k[ki+1].t){es-data.k[ki].t>data.k[ki+1].t-es?(ts=ki+2,rs=data.k[ki+1].t):(ts=ki+1,rs=data.k[ki].t);break}ts===-1&&(ts=ki+1,rs=data.k[ki].t)}var is={};return is.index=ts,is.time=rs/elem.comp.globalData.frameRate,is}function key(es){var ki,Ri,ts;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+es);es-=1,ki={time:data.k[es].t/elem.comp.globalData.frameRate,value:[]};var rs=Object.prototype.hasOwnProperty.call(data.k[es],"s")?data.k[es].s:data.k[es-1].e;for(ts=rs.length,Ri=0;Ri<ts;Ri+=1)ki[Ri]=rs[Ri],ki.value[Ri]=rs[Ri];return ki}function framesToTime(es,ki){return ki||(ki=elem.comp.globalData.frameRate),es/ki}function timeToFrames(es,ki){return!es&&es!==0&&(es=time),ki||(ki=elem.comp.globalData.frameRate),es*ki}function seedRandom(es){BMMath.seedrandom(randSeed+es)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(es,ki){return typeof value=="string"?ki===void 0?value.substring(es):value.substring(es,ki):""}function substr(es,ki){return typeof value=="string"?ki===void 0?value.substr(es):value.substr(es,ki):""}function posterizeTime(es){time=es===0?0:Math.floor(time*es)/es,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(es){return value=es,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var es={};es.initExpressions=ki,es.resetFrame=ExpressionManager.resetFrame;function ki(Ri){var ts=0,rs=[];function is(){ts+=1}function ns(){ts-=1,ts===0&&os()}function ss(ls){rs.indexOf(ls)===-1&&rs.push(ls)}function os(){var ls,cs=rs.length;for(ls=0;ls<cs;ls+=1)rs[ls].release();rs.length=0}Ri.renderer.compInterface=CompExpressionInterface(Ri.renderer),Ri.renderer.globalData.projectInterface.registerComposition(Ri.renderer),Ri.renderer.globalData.pushExpression=is,Ri.renderer.globalData.popExpression=ns,Ri.renderer.globalData.registerExpressionProperty=ss}return es}(),MaskManagerInterface=function(){function es(Ri,ts){this._mask=Ri,this._data=ts}Object.defineProperty(es.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(es.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var ki=function(ts){var rs=createSizedArray(ts.viewData.length),is,ns=ts.viewData.length;for(is=0;is<ns;is+=1)rs[is]=new es(ts.viewData[is],ts.masksProperties[is]);var ss=function(ls){for(is=0;is<ns;){if(ts.masksProperties[is].nm===ls)return rs[is];is+=1}return null};return ss};return ki}(),ExpressionPropertyInterface=function(){var es={pv:0,v:0,mult:1},ki={pv:[0,0,0],v:[0,0,0],mult:1};function Ri(ns,ss,os){Object.defineProperty(ns,"velocity",{get:function(){return ss.getVelocityAtTime(ss.comp.currentFrame)}}),ns.numKeys=ss.keyframes?ss.keyframes.length:0,ns.key=function(ls){if(!ns.numKeys)return 0;var cs="";"s"in ss.keyframes[ls-1]?cs=ss.keyframes[ls-1].s:"e"in ss.keyframes[ls-2]?cs=ss.keyframes[ls-2].e:cs=ss.keyframes[ls-2].s;var hs=os==="unidimensional"?new Number(cs):Object.assign({},cs);return hs.time=ss.keyframes[ls-1].t/ss.elem.comp.globalData.frameRate,hs.value=os==="unidimensional"?cs[0]:cs,hs},ns.valueAtTime=ss.getValueAtTime,ns.speedAtTime=ss.getSpeedAtTime,ns.velocityAtTime=ss.getVelocityAtTime,ns.propertyGroup=ss.propertyGroup}function ts(ns){(!ns||!("pv"in ns))&&(ns=es);var ss=1/ns.mult,os=ns.pv*ss,ls=new Number(os);return ls.value=os,Ri(ls,ns,"unidimensional"),function(){return ns.k&&ns.getValue(),os=ns.v*ss,ls.value!==os&&(ls=new Number(os),ls.value=os,Ri(ls,ns,"unidimensional")),ls}}function rs(ns){(!ns||!("pv"in ns))&&(ns=ki);var ss=1/ns.mult,os=ns.data&&ns.data.l||ns.pv.length,ls=createTypedArray("float32",os),cs=createTypedArray("float32",os);return ls.value=cs,Ri(ls,ns,"multidimensional"),function(){ns.k&&ns.getValue();for(var hs=0;hs<os;hs+=1)cs[hs]=ns.v[hs]*ss,ls[hs]=cs[hs];return ls}}function is(){return es}return function(ns){return ns?ns.propType==="unidimensional"?ts(ns):rs(ns):is}}(),TransformExpressionInterface=function(){return function(es){function ki(ns){switch(ns){case"scale":case"Scale":case"ADBE Scale":case 6:return ki.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return ki.rotation;case"ADBE Rotate X":return ki.xRotation;case"ADBE Rotate Y":return ki.yRotation;case"position":case"Position":case"ADBE Position":case 2:return ki.position;case"ADBE Position_0":return ki.xPosition;case"ADBE Position_1":return ki.yPosition;case"ADBE Position_2":return ki.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return ki.anchorPoint;case"opacity":case"Opacity":case 11:return ki.opacity;default:return null}}Object.defineProperty(ki,"rotation",{get:ExpressionPropertyInterface(es.r||es.rz)}),Object.defineProperty(ki,"zRotation",{get:ExpressionPropertyInterface(es.rz||es.r)}),Object.defineProperty(ki,"xRotation",{get:ExpressionPropertyInterface(es.rx)}),Object.defineProperty(ki,"yRotation",{get:ExpressionPropertyInterface(es.ry)}),Object.defineProperty(ki,"scale",{get:ExpressionPropertyInterface(es.s)});var Ri,ts,rs,is;return es.p?is=ExpressionPropertyInterface(es.p):(Ri=ExpressionPropertyInterface(es.px),ts=ExpressionPropertyInterface(es.py),es.pz&&(rs=ExpressionPropertyInterface(es.pz))),Object.defineProperty(ki,"position",{get:function(){return es.p?is():[Ri(),ts(),rs?rs():0]}}),Object.defineProperty(ki,"xPosition",{get:ExpressionPropertyInterface(es.px)}),Object.defineProperty(ki,"yPosition",{get:ExpressionPropertyInterface(es.py)}),Object.defineProperty(ki,"zPosition",{get:ExpressionPropertyInterface(es.pz)}),Object.defineProperty(ki,"anchorPoint",{get:ExpressionPropertyInterface(es.a)}),Object.defineProperty(ki,"opacity",{get:ExpressionPropertyInterface(es.o)}),Object.defineProperty(ki,"skew",{get:ExpressionPropertyInterface(es.sk)}),Object.defineProperty(ki,"skewAxis",{get:ExpressionPropertyInterface(es.sa)}),Object.defineProperty(ki,"orientation",{get:ExpressionPropertyInterface(es.or)}),ki}}(),LayerExpressionInterface=function(){function es(ls){var cs=new Matrix;if(ls!==void 0){var hs=this._elem.finalTransform.mProp.getValueAtTime(ls);hs.clone(cs)}else{var us=this._elem.finalTransform.mProp;us.applyToMatrix(cs)}return cs}function ki(ls,cs){var hs=this.getMatrix(cs);return hs.props[12]=0,hs.props[13]=0,hs.props[14]=0,this.applyPoint(hs,ls)}function Ri(ls,cs){var hs=this.getMatrix(cs);return this.applyPoint(hs,ls)}function ts(ls,cs){var hs=this.getMatrix(cs);return hs.props[12]=0,hs.props[13]=0,hs.props[14]=0,this.invertPoint(hs,ls)}function rs(ls,cs){var hs=this.getMatrix(cs);return this.invertPoint(hs,ls)}function is(ls,cs){if(this._elem.hierarchy&&this._elem.hierarchy.length){var hs,us=this._elem.hierarchy.length;for(hs=0;hs<us;hs+=1)this._elem.hierarchy[hs].finalTransform.mProp.applyToMatrix(ls)}return ls.applyToPointArray(cs[0],cs[1],cs[2]||0)}function ns(ls,cs){if(this._elem.hierarchy&&this._elem.hierarchy.length){var hs,us=this._elem.hierarchy.length;for(hs=0;hs<us;hs+=1)this._elem.hierarchy[hs].finalTransform.mProp.applyToMatrix(ls)}return ls.inversePoint(cs)}function ss(ls){var cs=new Matrix;if(cs.reset(),this._elem.finalTransform.mProp.applyToMatrix(cs),this._elem.hierarchy&&this._elem.hierarchy.length){var hs,us=this._elem.hierarchy.length;for(hs=0;hs<us;hs+=1)this._elem.hierarchy[hs].finalTransform.mProp.applyToMatrix(cs);return cs.inversePoint(ls)}return cs.inversePoint(ls)}function os(){return[1,1,1,1]}return function(ls){var cs;function hs(ys){As.mask=new MaskManagerInterface(ys,ls)}function us(ys){As.effect=ys}function As(ys){switch(ys){case"ADBE Root Vectors Group":case"Contents":case 2:return As.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return cs;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return As.effect;case"ADBE Text Properties":return As.textInterface;default:return null}}As.getMatrix=es,As.invertPoint=ns,As.applyPoint=is,As.toWorld=Ri,As.toWorldVec=ki,As.fromWorld=rs,As.fromWorldVec=ts,As.toComp=Ri,As.fromComp=ss,As.sampleImage=os,As.sourceRectAtTime=ls.sourceRectAtTime.bind(ls),As._elem=ls,cs=TransformExpressionInterface(ls.finalTransform.mProp);var bs=getDescriptor(cs,"anchorPoint");return Object.defineProperties(As,{hasParent:{get:function(){return ls.hierarchy.length}},parent:{get:function(){return ls.hierarchy[0].layerInterface}},rotation:getDescriptor(cs,"rotation"),scale:getDescriptor(cs,"scale"),position:getDescriptor(cs,"position"),opacity:getDescriptor(cs,"opacity"),anchorPoint:bs,anchor_point:bs,transform:{get:function(){return cs}},active:{get:function(){return ls.isInRange}}}),As.startTime=ls.data.st,As.index=ls.data.ind,As.source=ls.data.refId,As.height=ls.data.ty===0?ls.data.h:100,As.width=ls.data.ty===0?ls.data.w:100,As.inPoint=ls.data.ip/ls.comp.globalData.frameRate,As.outPoint=ls.data.op/ls.comp.globalData.frameRate,As._name=ls.data.nm,As.registerMaskInterface=hs,As.registerEffectsInterface=us,As}}(),propertyGroupFactory=function(){return function(es,ki){return function(Ri){return Ri=Ri===void 0?1:Ri,Ri<=0?es:ki(Ri-1)}}}(),PropertyInterface=function(){return function(es,ki){var Ri={_name:es};function ts(rs){return rs=rs===void 0?1:rs,rs<=0?Ri:ki(rs-1)}return ts}}(),EffectsExpressionInterface=function(){var es={createEffectsInterface:ki};function ki(rs,is){if(rs.effectsManager){var ns=[],ss=rs.data.ef,os,ls=rs.effectsManager.effectElements.length;for(os=0;os<ls;os+=1)ns.push(Ri(ss[os],rs.effectsManager.effectElements[os],is,rs));var cs=rs.data.ef||[],hs=function(As){for(os=0,ls=cs.length;os<ls;){if(As===cs[os].nm||As===cs[os].mn||As===cs[os].ix)return ns[os];os+=1}return null};return Object.defineProperty(hs,"numProperties",{get:function(){return cs.length}}),hs}return null}function Ri(rs,is,ns,ss){function os(As){for(var bs=rs.ef,ys=0,Cs=bs.length;ys<Cs;){if(As===bs[ys].nm||As===bs[ys].mn||As===bs[ys].ix)return bs[ys].ty===5?cs[ys]:cs[ys]();ys+=1}throw new Error}var ls=propertyGroupFactory(os,ns),cs=[],hs,us=rs.ef.length;for(hs=0;hs<us;hs+=1)rs.ef[hs].ty===5?cs.push(Ri(rs.ef[hs],is.effectElements[hs],is.effectElements[hs].propertyGroup,ss)):cs.push(ts(is.effectElements[hs],rs.ef[hs].ty,ss,ls));return rs.mn==="ADBE Color Control"&&Object.defineProperty(os,"color",{get:function(){return cs[0]()}}),Object.defineProperties(os,{numProperties:{get:function(){return rs.np}},_name:{value:rs.nm},propertyGroup:{value:ls}}),os.enabled=rs.en!==0,os.active=os.enabled,os}function ts(rs,is,ns,ss){var os=ExpressionPropertyInterface(rs.p);function ls(){return is===10?ns.comp.compInterface(rs.p.v):os()}return rs.p.setGroupProperty&&rs.p.setGroupProperty(PropertyInterface("",ss)),ls}return es}(),ShapePathInterface=function(){return function(ki,Ri,ts){var rs=Ri.sh;function is(ss){return ss==="Shape"||ss==="shape"||ss==="Path"||ss==="path"||ss==="ADBE Vector Shape"||ss===2?is.path:null}var ns=propertyGroupFactory(is,ts);return rs.setGroupProperty(PropertyInterface("Path",ns)),Object.defineProperties(is,{path:{get:function(){return rs.k&&rs.getValue(),rs}},shape:{get:function(){return rs.k&&rs.getValue(),rs}},_name:{value:ki.nm},ix:{value:ki.ix},propertyIndex:{value:ki.ix},mn:{value:ki.mn},propertyGroup:{value:ts}}),is}}(),ShapeExpressionInterface=function(){function es(bs,ys,Cs){var ps=[],ms,fs=bs?bs.length:0;for(ms=0;ms<fs;ms+=1)bs[ms].ty==="gr"?ps.push(Ri(bs[ms],ys[ms],Cs)):bs[ms].ty==="fl"?ps.push(ts(bs[ms],ys[ms],Cs)):bs[ms].ty==="st"?ps.push(ns(bs[ms],ys[ms],Cs)):bs[ms].ty==="tm"?ps.push(ss(bs[ms],ys[ms],Cs)):bs[ms].ty==="tr"||(bs[ms].ty==="el"?ps.push(ls(bs[ms],ys[ms],Cs)):bs[ms].ty==="sr"?ps.push(cs(bs[ms],ys[ms],Cs)):bs[ms].ty==="sh"?ps.push(ShapePathInterface(bs[ms],ys[ms],Cs)):bs[ms].ty==="rc"?ps.push(hs(bs[ms],ys[ms],Cs)):bs[ms].ty==="rd"?ps.push(us(bs[ms],ys[ms],Cs)):bs[ms].ty==="rp"?ps.push(As(bs[ms],ys[ms],Cs)):bs[ms].ty==="gf"?ps.push(rs(bs[ms],ys[ms],Cs)):ps.push(is(bs[ms],ys[ms])));return ps}function ki(bs,ys,Cs){var ps,ms=function(ws){for(var Ts=0,$s=ps.length;Ts<$s;){if(ps[Ts]._name===ws||ps[Ts].mn===ws||ps[Ts].propertyIndex===ws||ps[Ts].ix===ws||ps[Ts].ind===ws)return ps[Ts];Ts+=1}return typeof ws=="number"?ps[ws-1]:null};ms.propertyGroup=propertyGroupFactory(ms,Cs),ps=es(bs.it,ys.it,ms.propertyGroup),ms.numProperties=ps.length;var fs=os(bs.it[bs.it.length-1],ys.it[ys.it.length-1],ms.propertyGroup);return ms.transform=fs,ms.propertyIndex=bs.cix,ms._name=bs.nm,ms}function Ri(bs,ys,Cs){var ps=function(ws){switch(ws){case"ADBE Vectors Group":case"Contents":case 2:return ps.content;default:return ps.transform}};ps.propertyGroup=propertyGroupFactory(ps,Cs);var ms=ki(bs,ys,ps.propertyGroup),fs=os(bs.it[bs.it.length-1],ys.it[ys.it.length-1],ps.propertyGroup);return ps.content=ms,ps.transform=fs,Object.defineProperty(ps,"_name",{get:function(){return bs.nm}}),ps.numProperties=bs.np,ps.propertyIndex=bs.ix,ps.nm=bs.nm,ps.mn=bs.mn,ps}function ts(bs,ys,Cs){function ps(ms){return ms==="Color"||ms==="color"?ps.color:ms==="Opacity"||ms==="opacity"?ps.opacity:null}return Object.defineProperties(ps,{color:{get:ExpressionPropertyInterface(ys.c)},opacity:{get:ExpressionPropertyInterface(ys.o)},_name:{value:bs.nm},mn:{value:bs.mn}}),ys.c.setGroupProperty(PropertyInterface("Color",Cs)),ys.o.setGroupProperty(PropertyInterface("Opacity",Cs)),ps}function rs(bs,ys,Cs){function ps(ms){return ms==="Start Point"||ms==="start point"?ps.startPoint:ms==="End Point"||ms==="end point"?ps.endPoint:ms==="Opacity"||ms==="opacity"?ps.opacity:null}return Object.defineProperties(ps,{startPoint:{get:ExpressionPropertyInterface(ys.s)},endPoint:{get:ExpressionPropertyInterface(ys.e)},opacity:{get:ExpressionPropertyInterface(ys.o)},type:{get:function(){return"a"}},_name:{value:bs.nm},mn:{value:bs.mn}}),ys.s.setGroupProperty(PropertyInterface("Start Point",Cs)),ys.e.setGroupProperty(PropertyInterface("End Point",Cs)),ys.o.setGroupProperty(PropertyInterface("Opacity",Cs)),ps}function is(){function bs(){return null}return bs}function ns(bs,ys,Cs){var ps=propertyGroupFactory($s,Cs),ms=propertyGroupFactory(Ts,ps);function fs(Rs){Object.defineProperty(Ts,bs.d[Rs].nm,{get:ExpressionPropertyInterface(ys.d.dataProps[Rs].p)})}var gs,ws=bs.d?bs.d.length:0,Ts={};for(gs=0;gs<ws;gs+=1)fs(gs),ys.d.dataProps[gs].p.setGroupProperty(ms);function $s(Rs){return Rs==="Color"||Rs==="color"?$s.color:Rs==="Opacity"||Rs==="opacity"?$s.opacity:Rs==="Stroke Width"||Rs==="stroke width"?$s.strokeWidth:null}return Object.defineProperties($s,{color:{get:ExpressionPropertyInterface(ys.c)},opacity:{get:ExpressionPropertyInterface(ys.o)},strokeWidth:{get:ExpressionPropertyInterface(ys.w)},dash:{get:function(){return Ts}},_name:{value:bs.nm},mn:{value:bs.mn}}),ys.c.setGroupProperty(PropertyInterface("Color",ps)),ys.o.setGroupProperty(PropertyInterface("Opacity",ps)),ys.w.setGroupProperty(PropertyInterface("Stroke Width",ps)),$s}function ss(bs,ys,Cs){function ps(fs){return fs===bs.e.ix||fs==="End"||fs==="end"?ps.end:fs===bs.s.ix?ps.start:fs===bs.o.ix?ps.offset:null}var ms=propertyGroupFactory(ps,Cs);return ps.propertyIndex=bs.ix,ys.s.setGroupProperty(PropertyInterface("Start",ms)),ys.e.setGroupProperty(PropertyInterface("End",ms)),ys.o.setGroupProperty(PropertyInterface("Offset",ms)),ps.propertyIndex=bs.ix,ps.propertyGroup=Cs,Object.defineProperties(ps,{start:{get:ExpressionPropertyInterface(ys.s)},end:{get:ExpressionPropertyInterface(ys.e)},offset:{get:ExpressionPropertyInterface(ys.o)},_name:{value:bs.nm}}),ps.mn=bs.mn,ps}function os(bs,ys,Cs){function ps(fs){return bs.a.ix===fs||fs==="Anchor Point"?ps.anchorPoint:bs.o.ix===fs||fs==="Opacity"?ps.opacity:bs.p.ix===fs||fs==="Position"?ps.position:bs.r.ix===fs||fs==="Rotation"||fs==="ADBE Vector Rotation"?ps.rotation:bs.s.ix===fs||fs==="Scale"?ps.scale:bs.sk&&bs.sk.ix===fs||fs==="Skew"?ps.skew:bs.sa&&bs.sa.ix===fs||fs==="Skew Axis"?ps.skewAxis:null}var ms=propertyGroupFactory(ps,Cs);return ys.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",ms)),ys.transform.mProps.p.setGroupProperty(PropertyInterface("Position",ms)),ys.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",ms)),ys.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",ms)),ys.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",ms)),ys.transform.mProps.sk&&(ys.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",ms)),ys.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",ms))),ys.transform.op.setGroupProperty(PropertyInterface("Opacity",ms)),Object.defineProperties(ps,{opacity:{get:ExpressionPropertyInterface(ys.transform.mProps.o)},position:{get:ExpressionPropertyInterface(ys.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(ys.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(ys.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(ys.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(ys.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(ys.transform.mProps.sa)},_name:{value:bs.nm}}),ps.ty="tr",ps.mn=bs.mn,ps.propertyGroup=Cs,ps}function ls(bs,ys,Cs){function ps(gs){return bs.p.ix===gs?ps.position:bs.s.ix===gs?ps.size:null}var ms=propertyGroupFactory(ps,Cs);ps.propertyIndex=bs.ix;var fs=ys.sh.ty==="tm"?ys.sh.prop:ys.sh;return fs.s.setGroupProperty(PropertyInterface("Size",ms)),fs.p.setGroupProperty(PropertyInterface("Position",ms)),Object.defineProperties(ps,{size:{get:ExpressionPropertyInterface(fs.s)},position:{get:ExpressionPropertyInterface(fs.p)},_name:{value:bs.nm}}),ps.mn=bs.mn,ps}function cs(bs,ys,Cs){function ps(gs){return bs.p.ix===gs?ps.position:bs.r.ix===gs?ps.rotation:bs.pt.ix===gs?ps.points:bs.or.ix===gs||gs==="ADBE Vector Star Outer Radius"?ps.outerRadius:bs.os.ix===gs?ps.outerRoundness:bs.ir&&(bs.ir.ix===gs||gs==="ADBE Vector Star Inner Radius")?ps.innerRadius:bs.is&&bs.is.ix===gs?ps.innerRoundness:null}var ms=propertyGroupFactory(ps,Cs),fs=ys.sh.ty==="tm"?ys.sh.prop:ys.sh;return ps.propertyIndex=bs.ix,fs.or.setGroupProperty(PropertyInterface("Outer Radius",ms)),fs.os.setGroupProperty(PropertyInterface("Outer Roundness",ms)),fs.pt.setGroupProperty(PropertyInterface("Points",ms)),fs.p.setGroupProperty(PropertyInterface("Position",ms)),fs.r.setGroupProperty(PropertyInterface("Rotation",ms)),bs.ir&&(fs.ir.setGroupProperty(PropertyInterface("Inner Radius",ms)),fs.is.setGroupProperty(PropertyInterface("Inner Roundness",ms))),Object.defineProperties(ps,{position:{get:ExpressionPropertyInterface(fs.p)},rotation:{get:ExpressionPropertyInterface(fs.r)},points:{get:ExpressionPropertyInterface(fs.pt)},outerRadius:{get:ExpressionPropertyInterface(fs.or)},outerRoundness:{get:ExpressionPropertyInterface(fs.os)},innerRadius:{get:ExpressionPropertyInterface(fs.ir)},innerRoundness:{get:ExpressionPropertyInterface(fs.is)},_name:{value:bs.nm}}),ps.mn=bs.mn,ps}function hs(bs,ys,Cs){function ps(gs){return bs.p.ix===gs?ps.position:bs.r.ix===gs?ps.roundness:bs.s.ix===gs||gs==="Size"||gs==="ADBE Vector Rect Size"?ps.size:null}var ms=propertyGroupFactory(ps,Cs),fs=ys.sh.ty==="tm"?ys.sh.prop:ys.sh;return ps.propertyIndex=bs.ix,fs.p.setGroupProperty(PropertyInterface("Position",ms)),fs.s.setGroupProperty(PropertyInterface("Size",ms)),fs.r.setGroupProperty(PropertyInterface("Rotation",ms)),Object.defineProperties(ps,{position:{get:ExpressionPropertyInterface(fs.p)},roundness:{get:ExpressionPropertyInterface(fs.r)},size:{get:ExpressionPropertyInterface(fs.s)},_name:{value:bs.nm}}),ps.mn=bs.mn,ps}function us(bs,ys,Cs){function ps(gs){return bs.r.ix===gs||gs==="Round Corners 1"?ps.radius:null}var ms=propertyGroupFactory(ps,Cs),fs=ys;return ps.propertyIndex=bs.ix,fs.rd.setGroupProperty(PropertyInterface("Radius",ms)),Object.defineProperties(ps,{radius:{get:ExpressionPropertyInterface(fs.rd)},_name:{value:bs.nm}}),ps.mn=bs.mn,ps}function As(bs,ys,Cs){function ps(gs){return bs.c.ix===gs||gs==="Copies"?ps.copies:bs.o.ix===gs||gs==="Offset"?ps.offset:null}var ms=propertyGroupFactory(ps,Cs),fs=ys;return ps.propertyIndex=bs.ix,fs.c.setGroupProperty(PropertyInterface("Copies",ms)),fs.o.setGroupProperty(PropertyInterface("Offset",ms)),Object.defineProperties(ps,{copies:{get:ExpressionPropertyInterface(fs.c)},offset:{get:ExpressionPropertyInterface(fs.o)},_name:{value:bs.nm}}),ps.mn=bs.mn,ps}return function(bs,ys,Cs){var ps;function ms(gs){if(typeof gs=="number")return gs=gs===void 0?1:gs,gs===0?Cs:ps[gs-1];for(var ws=0,Ts=ps.length;ws<Ts;){if(ps[ws]._name===gs)return ps[ws];ws+=1}return null}function fs(){return Cs}return ms.propertyGroup=propertyGroupFactory(ms,fs),ps=es(bs,ys,ms.propertyGroup),ms.numProperties=ps.length,ms._name="Contents",ms}}(),TextExpressionInterface=function(){return function(es){var ki;function Ri(ts){switch(ts){case"ADBE Text Document":return Ri.sourceText;default:return null}}return Object.defineProperty(Ri,"sourceText",{get:function(){es.textProperty.getValue();var rs=es.textProperty.currentData.t;return(!ki||rs!==ki.value)&&(ki=new String(rs),ki.value=rs||new String(rs),Object.defineProperty(ki,"style",{get:function(){return{fillColor:es.textProperty.currentData.fc}}})),ki}}),Ri}}();function _typeof(es){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(Ri){return typeof Ri}:_typeof=function(Ri){return Ri&&typeof Symbol=="function"&&Ri.constructor===Symbol&&Ri!==Symbol.prototype?"symbol":typeof Ri},_typeof(es)}var FootageInterface=function(){var es=function(ts){var rs="",is=ts.getFootageData();function ns(){return rs="",is=ts.getFootageData(),ss}function ss(os){if(is[os])return rs=os,is=is[os],_typeof(is)==="object"?ss:is;var ls=os.indexOf(rs);if(ls!==-1){var cs=parseInt(os.substr(ls+rs.length),10);return is=is[cs],_typeof(is)==="object"?ss:is}return""}return ns},ki=function(ts){function rs(is){return is==="Outline"?rs.outlineInterface():null}return rs._name="Outline",rs.outlineInterface=es(ts),rs};return function(Ri){function ts(rs){return rs==="Data"?ts.dataInterface:null}return ts._name="Data",ts.dataInterface=ki(Ri),ts}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(es){return interfaces[es]||null}var expressionHelpers=function(){function es(ns,ss,os){ss.x&&(os.k=!0,os.x=!0,os.initiateExpression=ExpressionManager.initiateExpression,os.effectsSequence.push(os.initiateExpression(ns,ss,os).bind(os)))}function ki(ns){return ns*=this.elem.globalData.frameRate,ns-=this.offsetTime,ns!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<ns?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(ns,this._cachingAtTime),this._cachingAtTime.lastFrame=ns),this._cachingAtTime.value}function Ri(ns){var ss=-.01,os=this.getValueAtTime(ns),ls=this.getValueAtTime(ns+ss),cs=0;if(os.length){var hs;for(hs=0;hs<os.length;hs+=1)cs+=Math.pow(ls[hs]-os[hs],2);cs=Math.sqrt(cs)*100}else cs=0;return cs}function ts(ns){if(this.vel!==void 0)return this.vel;var ss=-.001,os=this.getValueAtTime(ns),ls=this.getValueAtTime(ns+ss),cs;if(os.length){cs=createTypedArray("float32",os.length);var hs;for(hs=0;hs<os.length;hs+=1)cs[hs]=(ls[hs]-os[hs])/ss}else cs=(ls-os)/ss;return cs}function rs(){return this.pv}function is(ns){this.propertyGroup=ns}return{searchExpressions:es,getSpeedAtTime:Ri,getVelocityAtTime:ts,getValueAtTime:ki,getStaticValueAtTime:rs,setGroupProperty:is}}();function addPropertyDecorator(){function es(us,As,bs){if(!this.k||!this.keyframes)return this.pv;us=us?us.toLowerCase():"";var ys=this.comp.renderedFrame,Cs=this.keyframes,ps=Cs[Cs.length-1].t;if(ys<=ps)return this.pv;var ms,fs;bs?(As?ms=Math.abs(ps-this.elem.comp.globalData.frameRate*As):ms=Math.max(0,ps-this.elem.data.ip),fs=ps-ms):((!As||As>Cs.length-1)&&(As=Cs.length-1),fs=Cs[Cs.length-1-As].t,ms=ps-fs);var gs,ws,Ts;if(us==="pingpong"){var $s=Math.floor((ys-fs)/ms);if($s%2!==0)return this.getValueAtTime((ms-(ys-fs)%ms+fs)/this.comp.globalData.frameRate,0)}else if(us==="offset"){var Rs=this.getValueAtTime(fs/this.comp.globalData.frameRate,0),Ps=this.getValueAtTime(ps/this.comp.globalData.frameRate,0),Qs=this.getValueAtTime(((ys-fs)%ms+fs)/this.comp.globalData.frameRate,0),Fs=Math.floor((ys-fs)/ms);if(this.pv.length){for(Ts=new Array(Rs.length),ws=Ts.length,gs=0;gs<ws;gs+=1)Ts[gs]=(Ps[gs]-Rs[gs])*Fs+Qs[gs];return Ts}return(Ps-Rs)*Fs+Qs}else if(us==="continue"){var Is=this.getValueAtTime(ps/this.comp.globalData.frameRate,0),Ms=this.getValueAtTime((ps-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ts=new Array(Is.length),ws=Ts.length,gs=0;gs<ws;gs+=1)Ts[gs]=Is[gs]+(Is[gs]-Ms[gs])*((ys-ps)/this.comp.globalData.frameRate)/5e-4;return Ts}return Is+(Is-Ms)*((ys-ps)/.001)}return this.getValueAtTime(((ys-fs)%ms+fs)/this.comp.globalData.frameRate,0)}function ki(us,As,bs){if(!this.k)return this.pv;us=us?us.toLowerCase():"";var ys=this.comp.renderedFrame,Cs=this.keyframes,ps=Cs[0].t;if(ys>=ps)return this.pv;var ms,fs;bs?(As?ms=Math.abs(this.elem.comp.globalData.frameRate*As):ms=Math.max(0,this.elem.data.op-ps),fs=ps+ms):((!As||As>Cs.length-1)&&(As=Cs.length-1),fs=Cs[As].t,ms=fs-ps);var gs,ws,Ts;if(us==="pingpong"){var $s=Math.floor((ps-ys)/ms);if($s%2===0)return this.getValueAtTime(((ps-ys)%ms+ps)/this.comp.globalData.frameRate,0)}else if(us==="offset"){var Rs=this.getValueAtTime(ps/this.comp.globalData.frameRate,0),Ps=this.getValueAtTime(fs/this.comp.globalData.frameRate,0),Qs=this.getValueAtTime((ms-(ps-ys)%ms+ps)/this.comp.globalData.frameRate,0),Fs=Math.floor((ps-ys)/ms)+1;if(this.pv.length){for(Ts=new Array(Rs.length),ws=Ts.length,gs=0;gs<ws;gs+=1)Ts[gs]=Qs[gs]-(Ps[gs]-Rs[gs])*Fs;return Ts}return Qs-(Ps-Rs)*Fs}else if(us==="continue"){var Is=this.getValueAtTime(ps/this.comp.globalData.frameRate,0),Ms=this.getValueAtTime((ps+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ts=new Array(Is.length),ws=Ts.length,gs=0;gs<ws;gs+=1)Ts[gs]=Is[gs]+(Is[gs]-Ms[gs])*(ps-ys)/.001;return Ts}return Is+(Is-Ms)*(ps-ys)/.001}return this.getValueAtTime((ms-((ps-ys)%ms+ps))/this.comp.globalData.frameRate,0)}function Ri(us,As){if(!this.k)return this.pv;if(us=(us||.4)*.5,As=Math.floor(As||5),As<=1)return this.pv;var bs=this.comp.renderedFrame/this.comp.globalData.frameRate,ys=bs-us,Cs=bs+us,ps=As>1?(Cs-ys)/(As-1):1,ms=0,fs=0,gs;this.pv.length?gs=createTypedArray("float32",this.pv.length):gs=0;for(var ws;ms<As;){if(ws=this.getValueAtTime(ys+ms*ps),this.pv.length)for(fs=0;fs<this.pv.length;fs+=1)gs[fs]+=ws[fs];else gs+=ws;ms+=1}if(this.pv.length)for(fs=0;fs<this.pv.length;fs+=1)gs[fs]/=As;else gs/=As;return gs}function ts(us){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var As=this._transformCachingAtTime.v;if(As.cloneFromProps(this.pre.props),this.appliedTransformations<1){var bs=this.a.getValueAtTime(us);As.translate(-bs[0]*this.a.mult,-bs[1]*this.a.mult,bs[2]*this.a.mult)}if(this.appliedTransformations<2){var ys=this.s.getValueAtTime(us);As.scale(ys[0]*this.s.mult,ys[1]*this.s.mult,ys[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var Cs=this.sk.getValueAtTime(us),ps=this.sa.getValueAtTime(us);As.skewFromAxis(-Cs*this.sk.mult,ps*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var ms=this.r.getValueAtTime(us);As.rotate(-ms*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var fs=this.rz.getValueAtTime(us),gs=this.ry.getValueAtTime(us),ws=this.rx.getValueAtTime(us),Ts=this.or.getValueAtTime(us);As.rotateZ(-fs*this.rz.mult).rotateY(gs*this.ry.mult).rotateX(ws*this.rx.mult).rotateZ(-Ts[2]*this.or.mult).rotateY(Ts[1]*this.or.mult).rotateX(Ts[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var $s=this.px.getValueAtTime(us),Rs=this.py.getValueAtTime(us);if(this.data.p.z){var Ps=this.pz.getValueAtTime(us);As.translate($s*this.px.mult,Rs*this.py.mult,-Ps*this.pz.mult)}else As.translate($s*this.px.mult,Rs*this.py.mult,0)}else{var Qs=this.p.getValueAtTime(us);As.translate(Qs[0]*this.p.mult,Qs[1]*this.p.mult,-Qs[2]*this.p.mult)}return As}function rs(){return this.v.clone(new Matrix)}var is=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(us,As,bs){var ys=is(us,As,bs);return ys.dynamicProperties.length?ys.getValueAtTime=ts.bind(ys):ys.getValueAtTime=rs.bind(ys),ys.setGroupProperty=expressionHelpers.setGroupProperty,ys};var ns=PropertyFactory.getProp;PropertyFactory.getProp=function(us,As,bs,ys,Cs){var ps=ns(us,As,bs,ys,Cs);ps.kf?ps.getValueAtTime=expressionHelpers.getValueAtTime.bind(ps):ps.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(ps),ps.setGroupProperty=expressionHelpers.setGroupProperty,ps.loopOut=es,ps.loopIn=ki,ps.smooth=Ri,ps.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(ps),ps.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(ps),ps.numKeys=As.a===1?As.k.length:0,ps.propertyIndex=As.ix;var ms=0;return bs!==0&&(ms=createTypedArray("float32",As.a===1?As.k[0].s.length:As.k.length)),ps._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:ms},expressionHelpers.searchExpressions(us,As,ps),ps.k&&Cs.addDynamicProperty(ps),ps};function ss(us){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),us*=this.elem.globalData.frameRate,us-=this.offsetTime,us!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<us?this._caching.lastIndex:0,this._cachingAtTime.lastTime=us,this.interpolateShape(us,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var os=ShapePropertyFactory.getConstructorFunction(),ls=ShapePropertyFactory.getKeyframedConstructorFunction();function cs(){}cs.prototype={vertices:function(As,bs){this.k&&this.getValue();var ys=this.v;bs!==void 0&&(ys=this.getValueAtTime(bs,0));var Cs,ps=ys._length,ms=ys[As],fs=ys.v,gs=createSizedArray(ps);for(Cs=0;Cs<ps;Cs+=1)As==="i"||As==="o"?gs[Cs]=[ms[Cs][0]-fs[Cs][0],ms[Cs][1]-fs[Cs][1]]:gs[Cs]=[ms[Cs][0],ms[Cs][1]];return gs},points:function(As){return this.vertices("v",As)},inTangents:function(As){return this.vertices("i",As)},outTangents:function(As){return this.vertices("o",As)},isClosed:function(){return this.v.c},pointOnPath:function(As,bs){var ys=this.v;bs!==void 0&&(ys=this.getValueAtTime(bs,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(ys));for(var Cs=this._segmentsLength,ps=Cs.lengths,ms=Cs.totalLength*As,fs=0,gs=ps.length,ws=0,Ts;fs<gs;){if(ws+ps[fs].addedLength>ms){var $s=fs,Rs=ys.c&&fs===gs-1?0:fs+1,Ps=(ms-ws)/ps[fs].addedLength;Ts=bez.getPointInSegment(ys.v[$s],ys.v[Rs],ys.o[$s],ys.i[Rs],Ps,ps[fs]);break}else ws+=ps[fs].addedLength;fs+=1}return Ts||(Ts=ys.c?[ys.v[0][0],ys.v[0][1]]:[ys.v[ys._length-1][0],ys.v[ys._length-1][1]]),Ts},vectorOnPath:function(As,bs,ys){As==1?As=this.v.c:As==0&&(As=.999);var Cs=this.pointOnPath(As,bs),ps=this.pointOnPath(As+.001,bs),ms=ps[0]-Cs[0],fs=ps[1]-Cs[1],gs=Math.sqrt(Math.pow(ms,2)+Math.pow(fs,2));if(gs===0)return[0,0];var ws=ys==="tangent"?[ms/gs,fs/gs]:[-fs/gs,ms/gs];return ws},tangentOnPath:function(As,bs){return this.vectorOnPath(As,bs,"tangent")},normalOnPath:function(As,bs){return this.vectorOnPath(As,bs,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([cs],os),extendPrototype([cs],ls),ls.prototype.getValueAtTime=ss,ls.prototype.initiateExpression=ExpressionManager.initiateExpression;var hs=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(us,As,bs,ys,Cs){var ps=hs(us,As,bs,ys,Cs);return ps.propertyIndex=As.ix,ps.lock=!1,bs===3?expressionHelpers.searchExpressions(us,As.pt,ps):bs===4&&expressionHelpers.searchExpressions(us,As.ks,ps),ps.k&&us.addDynamicProperty(ps),ps}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function es(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(ki,Ri){var ts=this.calculateExpression(Ri);if(ki.t!==ts){var rs={};return this.copyData(rs,ki),rs.t=ts.toString(),rs.__complete=!1,rs}return ki},TextProperty.prototype.searchProperty=function(){var ki=this.searchKeyframes(),Ri=this.searchExpressions();return this.kf=ki||Ri,this.kf},TextProperty.prototype.searchExpressions=es}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function es(ki,Ri){var ts=createNS("feMerge");ts.setAttribute("result",ki);var rs,is;for(is=0;is<Ri.length;is+=1)rs=createNS("feMergeNode"),rs.setAttribute("in",Ri[is]),ts.appendChild(rs),ts.appendChild(rs);return ts}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(es,ki,Ri,ts,rs){this.filterManager=ki;var is=createNS("feColorMatrix");is.setAttribute("type","matrix"),is.setAttribute("color-interpolation-filters","linearRGB"),is.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=is,is.setAttribute("result",ts+"_tint_1"),es.appendChild(is),is=createNS("feColorMatrix"),is.setAttribute("type","matrix"),is.setAttribute("color-interpolation-filters","sRGB"),is.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),is.setAttribute("result",ts+"_tint_2"),es.appendChild(is),this.matrixFilter=is;var ns=this.createMergeNode(ts,[rs,ts+"_tint_1",ts+"_tint_2"]);es.appendChild(ns)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(es){if(es||this.filterManager._mdf){var ki=this.filterManager.effectElements[0].p.v,Ri=this.filterManager.effectElements[1].p.v,ts=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+ts+" 0"),this.matrixFilter.setAttribute("values",Ri[0]-ki[0]+" 0 0 0 "+ki[0]+" "+(Ri[1]-ki[1])+" 0 0 0 "+ki[1]+" "+(Ri[2]-ki[2])+" 0 0 0 "+ki[2]+" 0 0 0 1 0")}};function SVGFillFilter(es,ki,Ri,ts){this.filterManager=ki;var rs=createNS("feColorMatrix");rs.setAttribute("type","matrix"),rs.setAttribute("color-interpolation-filters","sRGB"),rs.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),rs.setAttribute("result",ts),es.appendChild(rs),this.matrixFilter=rs}SVGFillFilter.prototype.renderFrame=function(es){if(es||this.filterManager._mdf){var ki=this.filterManager.effectElements[2].p.v,Ri=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+ki[0]+" 0 0 0 0 "+ki[1]+" 0 0 0 0 "+ki[2]+" 0 0 0 "+Ri+" 0")}};function SVGStrokeEffect(es,ki,Ri){this.initialized=!1,this.filterManager=ki,this.elem=Ri,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var es=this.elem.layerElement.children||this.elem.layerElement.childNodes,ki,Ri,ts,rs;for(this.filterManager.effectElements[1].p.v===1?(rs=this.elem.maskManager.masksProperties.length,ts=0):(ts=this.filterManager.effectElements[0].p.v-1,rs=ts+1),Ri=createNS("g"),Ri.setAttribute("fill","none"),Ri.setAttribute("stroke-linecap","round"),Ri.setAttribute("stroke-dashoffset",1),ts;ts<rs;ts+=1)ki=createNS("path"),Ri.appendChild(ki),this.paths.push({p:ki,m:ts});if(this.filterManager.effectElements[10].p.v===3){var is=createNS("mask"),ns=createElementID();is.setAttribute("id",ns),is.setAttribute("mask-type","alpha"),is.appendChild(Ri),this.elem.globalData.defs.appendChild(is);var ss=createNS("g");for(ss.setAttribute("mask","url("+getLocationHref()+"#"+ns+")");es[0];)ss.appendChild(es[0]);this.elem.layerElement.appendChild(ss),this.masker=is,Ri.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(es=this.elem.layerElement.children||this.elem.layerElement.childNodes;es.length;)this.elem.layerElement.removeChild(es[0]);this.elem.layerElement.appendChild(Ri),this.elem.layerElement.removeAttribute("mask"),Ri.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=Ri},SVGStrokeEffect.prototype.renderFrame=function(es){this.initialized||this.initialize();var ki,Ri=this.paths.length,ts,rs;for(ki=0;ki<Ri;ki+=1)if(this.paths[ki].m!==-1&&(ts=this.elem.maskManager.viewData[this.paths[ki].m],rs=this.paths[ki].p,(es||this.filterManager._mdf||ts.prop._mdf)&&rs.setAttribute("d",ts.lastPath),es||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||ts.prop._mdf)){var is;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var ns=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,ss=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,os=rs.getTotalLength();is="0 0 0 "+os*ns+" ";var ls=os*(ss-ns),cs=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,hs=Math.floor(ls/cs),us;for(us=0;us<hs;us+=1)is+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";is+="0 "+os*10+" 0 0"}else is="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;rs.setAttribute("stroke-dasharray",is)}if((es||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(es||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(es||this.filterManager.effectElements[3].p._mdf)){var As=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(As[0]*255)+","+bmFloor(As[1]*255)+","+bmFloor(As[2]*255)+")")}};function SVGTritoneFilter(es,ki,Ri,ts){this.filterManager=ki;var rs=createNS("feColorMatrix");rs.setAttribute("type","matrix"),rs.setAttribute("color-interpolation-filters","linearRGB"),rs.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),es.appendChild(rs);var is=createNS("feComponentTransfer");is.setAttribute("color-interpolation-filters","sRGB"),is.setAttribute("result",ts),this.matrixFilter=is;var ns=createNS("feFuncR");ns.setAttribute("type","table"),is.appendChild(ns),this.feFuncR=ns;var ss=createNS("feFuncG");ss.setAttribute("type","table"),is.appendChild(ss),this.feFuncG=ss;var os=createNS("feFuncB");os.setAttribute("type","table"),is.appendChild(os),this.feFuncB=os,es.appendChild(is)}SVGTritoneFilter.prototype.renderFrame=function(es){if(es||this.filterManager._mdf){var ki=this.filterManager.effectElements[0].p.v,Ri=this.filterManager.effectElements[1].p.v,ts=this.filterManager.effectElements[2].p.v,rs=ts[0]+" "+Ri[0]+" "+ki[0],is=ts[1]+" "+Ri[1]+" "+ki[1],ns=ts[2]+" "+Ri[2]+" "+ki[2];this.feFuncR.setAttribute("tableValues",rs),this.feFuncG.setAttribute("tableValues",is),this.feFuncB.setAttribute("tableValues",ns)}};function SVGProLevelsFilter(es,ki,Ri,ts){this.filterManager=ki;var rs=this.filterManager.effectElements,is=createNS("feComponentTransfer");(rs[10].p.k||rs[10].p.v!==0||rs[11].p.k||rs[11].p.v!==1||rs[12].p.k||rs[12].p.v!==1||rs[13].p.k||rs[13].p.v!==0||rs[14].p.k||rs[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",is)),(rs[17].p.k||rs[17].p.v!==0||rs[18].p.k||rs[18].p.v!==1||rs[19].p.k||rs[19].p.v!==1||rs[20].p.k||rs[20].p.v!==0||rs[21].p.k||rs[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",is)),(rs[24].p.k||rs[24].p.v!==0||rs[25].p.k||rs[25].p.v!==1||rs[26].p.k||rs[26].p.v!==1||rs[27].p.k||rs[27].p.v!==0||rs[28].p.k||rs[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",is)),(rs[31].p.k||rs[31].p.v!==0||rs[32].p.k||rs[32].p.v!==1||rs[33].p.k||rs[33].p.v!==1||rs[34].p.k||rs[34].p.v!==0||rs[35].p.k||rs[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",is)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(is.setAttribute("color-interpolation-filters","sRGB"),es.appendChild(is)),(rs[3].p.k||rs[3].p.v!==0||rs[4].p.k||rs[4].p.v!==1||rs[5].p.k||rs[5].p.v!==1||rs[6].p.k||rs[6].p.v!==0||rs[7].p.k||rs[7].p.v!==1)&&(is=createNS("feComponentTransfer"),is.setAttribute("color-interpolation-filters","sRGB"),is.setAttribute("result",ts),es.appendChild(is),this.feFuncRComposed=this.createFeFunc("feFuncR",is),this.feFuncGComposed=this.createFeFunc("feFuncG",is),this.feFuncBComposed=this.createFeFunc("feFuncB",is))}SVGProLevelsFilter.prototype.createFeFunc=function(es,ki){var Ri=createNS(es);return Ri.setAttribute("type","table"),ki.appendChild(Ri),Ri},SVGProLevelsFilter.prototype.getTableValue=function(es,ki,Ri,ts,rs){for(var is=0,ns=256,ss,os=Math.min(es,ki),ls=Math.max(es,ki),cs=Array.call(null,{length:ns}),hs,us=0,As=rs-ts,bs=ki-es;is<=256;)ss=is/256,ss<=os?hs=bs<0?rs:ts:ss>=ls?hs=bs<0?ts:rs:hs=ts+As*Math.pow((ss-es)/bs,1/Ri),cs[us]=hs,us+=1,is+=256/(ns-1);return cs.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(es){if(es||this.filterManager._mdf){var ki,Ri=this.filterManager.effectElements;this.feFuncRComposed&&(es||Ri[3].p._mdf||Ri[4].p._mdf||Ri[5].p._mdf||Ri[6].p._mdf||Ri[7].p._mdf)&&(ki=this.getTableValue(Ri[3].p.v,Ri[4].p.v,Ri[5].p.v,Ri[6].p.v,Ri[7].p.v),this.feFuncRComposed.setAttribute("tableValues",ki),this.feFuncGComposed.setAttribute("tableValues",ki),this.feFuncBComposed.setAttribute("tableValues",ki)),this.feFuncR&&(es||Ri[10].p._mdf||Ri[11].p._mdf||Ri[12].p._mdf||Ri[13].p._mdf||Ri[14].p._mdf)&&(ki=this.getTableValue(Ri[10].p.v,Ri[11].p.v,Ri[12].p.v,Ri[13].p.v,Ri[14].p.v),this.feFuncR.setAttribute("tableValues",ki)),this.feFuncG&&(es||Ri[17].p._mdf||Ri[18].p._mdf||Ri[19].p._mdf||Ri[20].p._mdf||Ri[21].p._mdf)&&(ki=this.getTableValue(Ri[17].p.v,Ri[18].p.v,Ri[19].p.v,Ri[20].p.v,Ri[21].p.v),this.feFuncG.setAttribute("tableValues",ki)),this.feFuncB&&(es||Ri[24].p._mdf||Ri[25].p._mdf||Ri[26].p._mdf||Ri[27].p._mdf||Ri[28].p._mdf)&&(ki=this.getTableValue(Ri[24].p.v,Ri[25].p.v,Ri[26].p.v,Ri[27].p.v,Ri[28].p.v),this.feFuncB.setAttribute("tableValues",ki)),this.feFuncA&&(es||Ri[31].p._mdf||Ri[32].p._mdf||Ri[33].p._mdf||Ri[34].p._mdf||Ri[35].p._mdf)&&(ki=this.getTableValue(Ri[31].p.v,Ri[32].p.v,Ri[33].p.v,Ri[34].p.v,Ri[35].p.v),this.feFuncA.setAttribute("tableValues",ki))}};function SVGDropShadowEffect(es,ki,Ri,ts,rs){var is=ki.container.globalData.renderConfig.filterSize,ns=ki.data.fs||is;es.setAttribute("x",ns.x||is.x),es.setAttribute("y",ns.y||is.y),es.setAttribute("width",ns.width||is.width),es.setAttribute("height",ns.height||is.height),this.filterManager=ki;var ss=createNS("feGaussianBlur");ss.setAttribute("in","SourceAlpha"),ss.setAttribute("result",ts+"_drop_shadow_1"),ss.setAttribute("stdDeviation","0"),this.feGaussianBlur=ss,es.appendChild(ss);var os=createNS("feOffset");os.setAttribute("dx","25"),os.setAttribute("dy","0"),os.setAttribute("in",ts+"_drop_shadow_1"),os.setAttribute("result",ts+"_drop_shadow_2"),this.feOffset=os,es.appendChild(os);var ls=createNS("feFlood");ls.setAttribute("flood-color","#00ff00"),ls.setAttribute("flood-opacity","1"),ls.setAttribute("result",ts+"_drop_shadow_3"),this.feFlood=ls,es.appendChild(ls);var cs=createNS("feComposite");cs.setAttribute("in",ts+"_drop_shadow_3"),cs.setAttribute("in2",ts+"_drop_shadow_2"),cs.setAttribute("operator","in"),cs.setAttribute("result",ts+"_drop_shadow_4"),es.appendChild(cs);var hs=this.createMergeNode(ts,[ts+"_drop_shadow_4",rs]);es.appendChild(hs)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(es){if(es||this.filterManager._mdf){if((es||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),es||this.filterManager.effectElements[0].p._mdf){var ki=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(ki[0]*255),Math.round(ki[1]*255),Math.round(ki[2]*255)))}if((es||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),es||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var Ri=this.filterManager.effectElements[3].p.v,ts=(this.filterManager.effectElements[2].p.v-90)*degToRads,rs=Ri*Math.cos(ts),is=Ri*Math.sin(ts);this.feOffset.setAttribute("dx",rs),this.feOffset.setAttribute("dy",is)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(es,ki,Ri){this.initialized=!1,this.filterManager=ki,this.filterElem=es,this.elem=Ri,Ri.matteElement=createNS("g"),Ri.matteElement.appendChild(Ri.layerElement),Ri.matteElement.appendChild(Ri.transformedElement),Ri.baseElement=Ri.matteElement}SVGMatte3Effect.prototype.findSymbol=function(es){for(var ki=0,Ri=_svgMatteSymbols.length;ki<Ri;){if(_svgMatteSymbols[ki]===es)return _svgMatteSymbols[ki];ki+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(es,ki){var Ri=es.layerElement.parentNode;if(Ri){for(var ts=Ri.children,rs=0,is=ts.length;rs<is&&ts[rs]!==es.layerElement;)rs+=1;var ns;rs<=is-2&&(ns=ts[rs+1]);var ss=createNS("use");ss.setAttribute("href","#"+ki),ns?Ri.insertBefore(ss,ns):Ri.appendChild(ss)}},SVGMatte3Effect.prototype.setElementAsMask=function(es,ki){if(!this.findSymbol(ki)){var Ri=createElementID(),ts=createNS("mask");ts.setAttribute("id",ki.layerId),ts.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(ki);var rs=es.globalData.defs;rs.appendChild(ts);var is=createNS("symbol");is.setAttribute("id",Ri),this.replaceInParent(ki,Ri),is.appendChild(ki.layerElement),rs.appendChild(is);var ns=createNS("use");ns.setAttribute("href","#"+Ri),ts.appendChild(ns),ki.data.hd=!1,ki.show()}es.setMatte(ki.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var es=this.filterManager.effectElements[0].p.v,ki=this.elem.comp.elements,Ri=0,ts=ki.length;Ri<ts;)ki[Ri]&&ki[Ri].data.ind===es&&this.setElementAsMask(this.elem,ki[Ri]),Ri+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(es,ki,Ri,ts){es.setAttribute("x","-100%"),es.setAttribute("y","-100%"),es.setAttribute("width","300%"),es.setAttribute("height","300%"),this.filterManager=ki;var rs=createNS("feGaussianBlur");rs.setAttribute("result",ts),es.appendChild(rs),this.feGaussianBlur=rs}SVGGaussianBlurEffect.prototype.renderFrame=function(es){if(es||this.filterManager._mdf){var ki=.3,Ri=this.filterManager.effectElements[0].p.v*ki,ts=this.filterManager.effectElements[1].p.v,rs=ts==3?0:Ri,is=ts==2?0:Ri;this.feGaussianBlur.setAttribute("stdDeviation",rs+" "+is);var ns=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",ns)}};function TransformEffect(){}TransformEffect.prototype.init=function(es){this.effectsManager=es,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(es){if(this._opMdf=!1,this._mdf=!1,es||this.effectsManager._mdf){var ki=this.effectsManager.effectElements,Ri=ki[0].p.v,ts=ki[1].p.v,rs=ki[2].p.v===1,is=ki[3].p.v,ns=rs?is:ki[4].p.v,ss=ki[5].p.v,os=ki[6].p.v,ls=ki[7].p.v;this.matrix.reset(),this.matrix.translate(-Ri[0],-Ri[1],Ri[2]),this.matrix.scale(ns*.01,is*.01,1),this.matrix.rotate(-ls*degToRads),this.matrix.skewFromAxis(-ss*degToRads,(os+90)*degToRads),this.matrix.translate(ts[0],ts[1],0),this._mdf=!0,this.opacity!==ki[8].p.v&&(this.opacity=ki[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(es,ki){this.init(ki)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(es){this.init(es)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie,lottie.exports);var lottieExports=lottie.exports;const Lottie=getDefaultExportFromCjs(lottieExports);class LottieController extends Controller{constructor(){super(...arguments);Ho(this,"startedPlaying",!1)}connect(){let Ri=new URL(window.location);if(this.element){this.lottie=Lottie.loadAnimation({container:this.element,renderer:"svg",loop:this.loopValue,autoplay:!1,path:this.localValue?`${Ri.origin}/lottie/${this.paramValue}.json`:`https:///lottie.host/${this.paramValue}.json`});const ts={root:null,rootMargin:"0px",threshold:.6};this.intersectionObserver=new IntersectionObserver(rs=>{rs.forEach(is=>{is.isIntersecting&&this.lottie&&!this.startedPlaying&&(this.startedPlaying=!0,this.lottie.play())})},ts),this.intersectionObserver.observe(this.element)}}}Ho(LottieController,"values",{param:String,local:!0,loop:Boolean});class MessageActionsController extends Controller{connect(){this.hasBodyFieldTarget&&(this.bodyFieldTarget.addEventListener("keyup",ki=>this.enableDisableOnChange(ki)),this.bodyFieldTarget.focus())}flyupTargetConnected(){document.getElementById("chat").classList.add("disabled")}flyupTargetDisconnected(){document.getElementById("chat").classList.remove("disabled")}enableDisableOnChange(ki){ki.target.value==""?this.sendButtonTarget.classList.add("disabled"):this.sendButtonTarget.classList.remove("disabled")}performAction(ki){ki.preventDefault();let Ri=ki.currentTarget.dataset.url;this.loadTemplate(Ri)}loadTemplate(ki){get$1(ki,{responseKind:"turbo-stream"})}imagePreview(){let ki=this.filesTarget.files,Ri=this.imagePreviewTarget;for(let ts of ki){let rs=new FileReader;rs.onload=function(){let is=document.createElement("div"),ns=document.createElement("img"),ss=document.createElement("span");is.classList.add("image-preview"),is.classList.add("d-inline"),is.classList.add("ms-2"),is.setAttribute("file-index",Array.from(ki).indexOf(ts)),ss.textContent="x",ss.setAttribute("data-action","click->message-actions#removeImage"),is.appendChild(ss),is.appendChild(ns),Ri.appendChild(is),ns.style.height="100px",ns.style.width="100px",ns.src=rs.result,ns.classList.add("img-thumbnail")},rs.readAsDataURL(ts)}}removeImage(ki){let Ri=ki.target.parentElement,ts=parseInt(Ri.getAttribute("file-index"));const rs=new DataTransfer,is=this.filesTarget,{files:ns}=is;for(let ss=0;ss<ns.length;ss++){const os=ns[ss];ts!==ss&&rs.items.add(os)}is.files=rs.files,Ri.remove()}}Ho(MessageActionsController,"targets",["flyup","form","files","imagePreview","bodyField","sendButton"]),Ho(MessageActionsController,"values",{success:Boolean});class MessageController extends Controller{connect(){this.scrollIntoViewValue&&this.element.scrollIntoView(),this.toggleTextStreamingClass(),this.addTableWrappers(),this.convertLinks()}toggleTextStreamingClass(){this.textStreamingValue?this.element.parentElement.classList.add("text-streaming"):this.element.parentElement.classList.remove("text-streaming")}addTableWrappers(){this.element.querySelectorAll("table").forEach(ki=>{let Ri=document.createElement("div");Ri.classList.add("table-wrap"),Ri.appendChild(ki.cloneNode(!0)),ki.parentNode.replaceChild(Ri,ki)})}convertLinks(){this.element.querySelectorAll("a").forEach(ki=>{ki.href&&(ki.target="_blank",ki.rel="noopener noreferrer")})}}Ho(MessageController,"values",{textStreaming:{type:Boolean,default:!1},scrollIntoView:{type:Boolean,default:!0}});class MissingImageHandlerController extends Controller{connect(){if(!this.hasImageTarget){this.onMissing();return}let ki=this.getImageSrc();!ki||ki===window.location.href?this.onMissing():(this.addErrorHandler(),this.getImageSizes()&&(this.imageTarget.sizes=this.getImageSizes()),ki&&(this.imageTarget.src=ki),this.getImageSrcSet()&&(this.imageTarget.srcset=this.getImageSrcSet()))}getImageSrc(){return this.imageTarget.dataset.src}getImageSrcSet(){return this.imageTarget.dataset.srcset}getImageSizes(){return this.imageTarget.dataset.sizes}addErrorHandler(){this.imageTarget.onerror=()=>{this.onMissing()}}onMissing(){this.hasImageTarget&&this.imageTarget.classList.add("d-none"),this.hasMissingTarget&&this.missingTarget.classList.remove("d-none")}}Ho(MissingImageHandlerController,"targets",["image","missing"]);class MobileViewPortHandlerController extends Controller{constructor(){super(...arguments);Ho(this,"subscription",null)}connect(){this.subscription=subscribe("mobile-view-changed",this.handle.bind(this))}disconnect(){unsubscribe("mobile-view-changed",this.subscription)}handle(){let Ri=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${Ri}px`)}}class ModalController extends Controller{connect(){this.signup=this.signupTarget,this.login=this.loginTarget,document.documentElement.hasAttribute("data-turbo-preview")||(document.getElementsByClassName("not-show-modal")[0].style.display="none",setTimeout(()=>{this.triggerTarget.click()},200))}toggleModal(){this.signup.style.display==="none"?(this.signup.style.display="block",this.login.style.display="none"):(this.signup.style.display="none",this.login.style.display="block")}}Ho(ModalController,"targets",["trigger","signup","login"]);class NestedFormController extends Controller{add_association(ki){ki.preventDefault(),this.associationIndexValue++;let Ri=this.associationTarget.innerHTML.replace(/ASSOCIATION_RECORD/g,this.associationIndexValue);this.hasNavTarget&&this.tabsAddUpdate(),this.add_associationTarget.insertAdjacentHTML("beforeend",Ri),this.hasNavTarget&&this.navTabsAddUpdate()}remove_association_tab(ki){this.associationIndexValue--,this.tabsRemoveUpdate(ki)}remove_association(ki){ki.preventDefault(),this.associationIndexValue--;let Ri=ki.target.closest(".nested-fields"),ts=Ri.querySelector('input[name*="_destroy"]');ts&&(ts.value=1),this.usesTurboDeleteValue&&Ri.remove()}remove_association_with_turbo_delete(ki){this.associationIndexValue--;let Ri=ki.currentTarget.closest(".nested-fields"),ts=Ri.querySelector('input[name*="_destroy"]');ts&&(ts.value=1),this.usesTurboDeleteValue&&Ri.remove()}add_nested_association(ki){ki.preventDefault(),this.nestedAssociationIndexValue++;let Ri=this.nested_associationTarget.innerHTML.replace(/NESTED_ASSOCIATION/g,this.nestedAssociationIndexValue).replace(/NESTED_ALPHA/g,String.fromCharCode(64+this.nestedAssociationIndexValue));this.add_nested_associationTarget.insertAdjacentHTML("beforebegin",Ri)}remove_nested_association(ki){ki.preventDefault(),this.nestedAssociationIndexValue--,ki.target.closest(".option-form").remove()}add_nested_object(ki){this.associationIndexValue++;let Ri=new RegExp(ki.currentTarget.dataset.id,"g"),ts=ki.currentTarget.dataset.fields.replace(Ri,this.associationIndexValue);return this.hasNavTarget?(this.tabsAddUpdate(),this.add_associationTarget.insertAdjacentHTML("beforeend",ts),this.navTabsAddUpdate()):document.querySelector(".nested-object-fields").insertAdjacentHTML("beforeend",ts),this.toggle_add_button(),this.toggle_delete_button(),ki.preventDefault()}remove_nested_object(ki){if(this.associationIndexValue--,this.hasNavTarget)this.tabsRemoveUpdate(ki);else{let Ri=ki.currentTarget.closest(".association-group");Ri.querySelector('input[name*="_destroy"]').value=1,Ri.classList.add("d-none")}return this.toggle_add_button(),this.toggle_delete_button(),ki.preventDefault()}remove_array_object(ki){return ki.target.closest(".association-group").remove(),ki.preventDefault()}toggle_add_button(){let ki=this.add_buttonTarget.dataset.maxObjects;this.associationIndexValue+1>=ki?this.add_buttonTarget.classList.add("d-none"):this.add_buttonTarget.classList.remove("d-none")}toggle_delete_button(){this.associationIndexValue===0?document.querySelectorAll(".delete_fields").forEach(ki=>{ki.classList.contains("optional")||ki.classList.add("d-none")}):document.querySelectorAll(".delete_fields").forEach(ki=>{ki.classList.remove("d-none")})}navTabsAddUpdate(){let ki=this.navTemplateTarget.innerHTML.replace(/TAB_INDEX/g,this.associationIndexValue).replace(/TAB_TEXT/g,this.associationIndexValue+1);[...this.navTarget.children].forEach(Ri=>{let ts=Ri.querySelector("a.active");ts&&ts.classList.remove("active")}),this.navTarget.insertAdjacentHTML("beforeend",ki),this.associationIndexValue>0&&(this.navParentTarget.classList.remove("d-none"),this.add_buttonTarget.remove(),this.navParentTarget.insertAdjacentHTML("afterend",this.withTabsButtonTemplateTarget.innerHTML))}tabsAddUpdate(){[...this.add_associationTarget.children].forEach(ki=>{ki.classList.remove("active"),ki.classList.remove("show")})}tabsRemoveUpdate(ki){let Ri=ki.currentTarget.closest(".tab-pane");Ri.querySelector('input[name*="_destroy"]').value=1;let ts=ki.currentTarget.dataset.index,rs=ts<=this.associationIndexValue?this.associationIndexValue+1:this.associationIndexValue,is=this.navTarget.querySelector(`#tab-nav-item${ts}`).parentElement,ns=this.navTarget.querySelector(`#tab-nav-item${rs}`);is.remove(),ns&&ns.classList.add("active");let ss=this.add_associationTarget.querySelector(`#nav-target-${rs}`);ss&&(ss.classList.add("show"),ss.classList.add("active")),this.usesTurboDeleteValue?Ri.remove():(Ri.classList.add("d-none"),Ri.removeAttribute("id")),this.navTarget.querySelectorAll("a.nav-link").forEach((ls,cs)=>ls.innerText=cs+1),this.associationIndexValue<1&&(this.navParentTarget.classList.add("d-none"),this.add_buttonTarget.remove(),this.navParentTarget.insertAdjacentHTML("afterend",this.noTabsButtonTemplateTarget.innerHTML))}}Ho(NestedFormController,"targets",["nav","navTemplate","navParent","withTabsButtonTemplate","noTabsButtonTemplate","add_association","add_nested_association","nested_association","association","add_button"]),Ho(NestedFormController,"values",{associationIndex:Number,nestedAssociationIndex:Number,usesTurboDelete:Boolean}),Ho(NestedFormController,"classes",["disabled"]);class NextDisablerController extends Controller{connect(){this.startDisabledValue&&this.disableNextButton()}nextButton(){return document.querySelector('button[data-disable-with="next"]')}disableNextButton(){let ki=this.nextButton();ki&&ki.classList.add("disabled")}enableNextButton(){let ki=this.nextButton();ki&&ki.classList.remove("disabled")}}Ho(NextDisablerController,"values",{startDisabled:Boolean});class OffsetParallaxController extends Controller{constructor(){super(...arguments);Ho(this,"rateTranslateY",.3);Ho(this,"rateOpacity",.001);Ho(this,"lastScrollY",0);Ho(this,"ticking",!1)}connect(){this.scrollHandler=this.throttledOnScroll.bind(this),window.addEventListener("scroll",this.scrollHandler,{passive:!0}),this.throttledOnScroll()}disconnect(){window.removeEventListener("scroll",this.scrollHandler)}throttledOnScroll(){this.ticking||(window.requestAnimationFrame(this.update.bind(this)),this.ticking=!0)}update(){this.ticking=!1;const Ri=window.scrollY*this.rateTranslateY,ts=1-window.scrollY*this.rateOpacity;this.element.style.transform=`translateY(${Ri}px)`,this.element.style.opacity=ts}}class OpportunityAttachmentsController extends Controller{connect(){}showFiles(){this.filesCheckboxTarget.checked=!0,this.linksCheckboxTarget.checked=!1,this.filesDivTarget.classList.remove("d-none"),this.linksDivTarget.classList.add("d-none")}showLinks(){this.filesCheckboxTarget.checked=!1,this.linksCheckboxTarget.checked=!0,this.filesDivTarget.classList.add("d-none"),this.linksDivTarget.classList.remove("d-none")}}Ho(OpportunityAttachmentsController,"targets",["filesDiv","linksDiv","filesCheckbox","linksCheckbox"]);class OpportunityPrefillChangeController extends Controller{didCategoryChange(ki){this.toggleWarning(ki,ki.target.closest("#opportunity_service_container"))}toggleWarning(ki,Ri){let ts=Ri.dataset.original,rs=document.querySelector(".code-confirm-keep-prefills");!rs||!ts||(ki.target.type=="radio"||ki.target.type=="select-one")&&(ts!==ki.target.value?rs.classList.remove("d-none"):rs.classList.add("d-none"))}}class OrderAddendumController extends Controller{connect(){}setNewPrice(ki){let Ri=Number(ki.target.value.replace(/\$/,""));this.newPriceLabelTarget.innerText=Ri,this.totalPriceLabelTarget.innerText=Ri+Number(this.originalPriceLabelTarget.innerText)}setAdditionalDeliveryDays(ki){let Ri=Number(ki.target.dataset.value);this.additionalDeliveryDaysLabelTarget.innerText=Ri,this.totalDeliveryDaysLabelTarget.innerText=Ri+Number(this.originalDeliveryDaysLabelTarget.innerText)}setAdditionalRevisions(ki){let Ri=Number(ki.target.dataset.value);this.additionalRevisionsLabelTarget.innerText=Ri,this.totalRevisionsLabelTarget.innerText=Ri+Number(this.originalRevisionsLabelTarget.innerText)}}Ho(OrderAddendumController,"targets",["originalPriceLabel","newPriceLabel","totalPriceLabel","originalDeliveryDaysLabel","additionalDeliveryDaysLabel","totalDeliveryDaysLabel","originalRevisionsLabel","additionalRevisionsLabel","totalRevisionsLabel"]);class OrderSummaryChangeController extends Controller{connect(){this.hasCart&&(this._updateTotalAmount(),this._updateTotalDeliveryDays())}get hasCart(){return document.querySelectorAll(".order-cart").length>=1}selectedDeal(ki){if(!this.hasCart)return;let Ri=ki.currentTarget.dataset.dealId;this._updateListingDealId(Ri),this._updateSelectedDealTitle(),this._updateSelectedDealDays(),this._updateSelectedDealRevisions(),this._updateSelectedDealLicense(),this._updateSelectedDealAmount(),this._updateTotalAmount(),this._updateTotalDeliveryDays()}selectedOption(ki){if(!this.hasCartTarget)return;let Ri=this.optionIdTarget.querySelector(".hidden_option_id").value;ki.target.classList.add(`available_option_${Ri}`),ki.currentTarget.checked&&(this._addToListingOptionIdsValue(Ri),this._cloneDiv(),this._updateSelectedOptionTitle(`option_${Ri}`),this._updateSelectedOptionDays(`option_${Ri}`),this._updateSelectedOptionAmount(`option_${Ri}`)),ki.currentTarget.checked==!1&&(this._removeFromlistingOptionIdsValue(Ri),Array.from(document.getElementsByClassName(`option_${Ri}`)).forEach(rs=>{rs.replaceWith("")})),this._optionHeader(),this._updateTotalAmount(),this._updateTotalDeliveryDays()}_addToListingOptionIdsValue(ki){this._getElements("listing_option_ids").forEach(ts=>{ts.value+=`${ki},`})}_removeFromlistingOptionIdsValue(ki){this._getElements("listing_option_ids").forEach(ts=>{ts.value=ts.value.replace(`${ki},`,"")})}_optionHeader(){document.getElementsByClassName("cart-container")[0].querySelectorAll(".option_details").length>1?this._showHeader():this._hideHeader()}_showHeader(){Array.from(document.getElementsByClassName("options_header")).forEach(Ri=>{Ri.style.display="block"})}_hideHeader(){Array.from(document.getElementsByClassName("options_header")).forEach(Ri=>{Ri.style.display="none"})}removeOption(ki){ki.preventDefault();let Ri=ki.currentTarget.parentNode.parentNode.parentNode.parentNode,ts=Ri.querySelector('[name="connected_class"]').value,rs=document.querySelector(`.${ts}`);rs.checked=!1,Ri.replaceWith(""),this._optionHeader(),this._updateTotalAmount(),this._updateTotalDeliveryDays()}_cloneDiv(){let ki=document.getElementsByClassName("cart-container")[0].querySelectorAll(".option_details"),Ri=this.optionIdTarget.querySelector(".hidden_option_id").value;ki.forEach(ts=>{if(ts.className=="row gy-2 option_details"){let rs=ts.cloneNode(!0);rs.classList.add(`option_${Ri}`),rs.style.display="block",rs.appendChild(this._createHiddenField(`available_option_${Ri}`)),ts.parentNode.appendChild(rs)}})}_createHiddenField(ki){let Ri=document.createElement("input");return Ri.setAttribute("type","hidden"),Ri.setAttribute("name","connected_class"),Ri.setAttribute("value",ki),Ri}_updateTotalAmount(){let ki=this._getElements("total_cart_amount"),Ri=document.querySelector(".selected_deal_amount").textContent,ts=document.getElementsByClassName("cart-container")[0].querySelectorAll(".selected_option_amount"),rs=0;ts.forEach(ns=>{rs+=Number(ns.textContent.replace(/[^0-9.-]+/g,""))});let is=Number(Ri.replace(/[^0-9.-]+/g,""))+rs;is=isNaN(is)?"--":is,ki.forEach(ns=>{ns.textContent=is.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0})})}_updateListingDealId(ki){this._getElements("listing_deal_id").forEach(ts=>{ts.value=ki})}_updateTotalDeliveryDays(){let ki=this._getElements("total_days_delivery"),Ri=document.querySelector(".selected_deal_days_delivery").textContent,ts=document.getElementsByClassName("cart-container")[0].querySelectorAll(".selected_option_additional_days"),rs=0;ts.forEach(ns=>{let ss=isNaN(ns.textContent)?0:parseInt(ns.textContent);rs+=ss});let is=parseInt(Ri)+rs;ki.forEach(ns=>{ns.textContent=is})}_updateSelectedOptionTitle(ki){this._getElements(ki).forEach(ts=>{ts.querySelector(".option_title").textContent=this.optionTitleTarget.textContent})}_updateSelectedOptionDays(ki){this._getElements(ki).forEach(ts=>{ts.querySelector(".selected_option_additional_days").textContent=this.optionDeliveryDaysTarget.textContent})}_updateSelectedOptionAmount(ki){this._getElements(ki).forEach(ts=>{ts.querySelector(".selected_option_amount").textContent=this.optionAmountTarget.textContent})}_updateSelectedDealTitle(){this._getElements("deal_title").forEach(Ri=>{Ri.textContent=this.dealTitleTarget.textContent})}_updateSelectedDealDays(){this._getElements("selected_deal_days_delivery").forEach(Ri=>{Ri.textContent=this.dealDeliveryDaysTarget.textContent})}_updateSelectedDealRevisions(){this._getElements("selected_deal_revisions").forEach(Ri=>{Ri.textContent=this.dealRevisionsTarget.textContent})}_updateSelectedDealLicense(){this._getElements("selected_deal_licensing").forEach(Ri=>{Ri.textContent=this.dealLicensingTarget.textContent})}_updateSelectedDealAmount(){this._getElements("selected_deal_amount").forEach(Ri=>{Ri.textContent=this.dealAmountTarget.textContent})}_getElements(ki){return Array.from(document.getElementsByClassName(ki))}}Ho(OrderSummaryChangeController,"targets",["optionId","dealTitle","optionTitle","dealRevisions","dealLicensing","dealDeliveryDays","dealAmount","optionDeliveryDays","optionAmount","cart"]);class OtherFieldController extends Controller{connect(){this.hideOtherReasonTextField()}showOtherReasonTextField(){this.otherReasonTextFieldTarget.classList.remove("d-none")}hideOtherReasonTextField(){this.otherReasonTextFieldTarget.classList.add("d-none")}}Ho(OtherFieldController,"targets",["otherReasonTextField","otherReason"]);class PageNotificationController extends Controller{connect(){this.hasShowClass()&&!this.disableTimeoutValue&&this.hideAfterTimeout(),this.autoHideValue&&this.autohide(),this.calculatePaddingValue&&this.updateHeight()}hide(){this.element.classList.remove("show"),this.element.classList.add("hide")}hideAfterTimeout(){setTimeout(()=>{document.querySelector(".slide-in-notification").classList.remove("show"),document.querySelector(".slide-in-notification").classList.add("hide")},this.timeoutValue)}hasShowClass(){return document.querySelector(".slide-in-notification.show")!==null}autohide(){setTimeout(()=>{let ki=document.querySelector("#status_banner.notification-banner-form-ai");ki&&ki.querySelector(".slide-in-notification.show")&&(this.hide(),document.documentElement.style.setProperty("--zindex","0"),document.documentElement.style.setProperty("--padding","0px"))},this.timeoutValue)}updateHeight(){let ki=document.querySelector("#status_banner.notification-banner-form-ai"),Ri;ki&&(Ri=ki.offsetHeight,document.documentElement.style.setProperty("--zindex","99"),document.documentElement.style.setProperty("--padding",`${Ri}px`))}}Ho(PageNotificationController,"values",{timeout:2e3,disableTimeout:!1,calculatePadding:!1,autoHide:!1});class PasswordComplexityController extends Controller{constructor(){super(...arguments);Ho(this,"passwordChecklist",[{status:!1,name:"10_chars"},{status:!1,name:"low_case"},{status:!1,name:"up_case"},{status:!1,name:"num"},{status:!1,name:"special_char"}]);Ho(this,"strengthColor",{0:"none",.2:"rgb(237, 140, 112)",.4:"rgb(235, 188, 108)",.6:"rgb(198, 209, 115)",.8:"rgb(126, 204, 131)",1:"rgb(55, 200, 147)"})}populateChecks(){this.passwordChecklist.forEach(Ri=>{const{name:ts,status:rs}=Ri,is=document.getElementById(`${ts}`);this.toggleIndicatorColor(is,rs)})}initialize(){this.populateChecks()}connect(){this.password=this.passwordTarget,this.password.addEventListener("keyup",this.validatePassword.bind(this)),this.validatePassword()}toggleIndicatorColor(Ri,ts){ts?(Ri.classList.remove("invalid-check"),Ri.classList.add("valid-check")):(Ri.classList.add("invalid-check"),Ri.classList.remove("valid-check"))}validatePassword(){const Ri=this.password,{strengthClass:ts}=this.isPasswordGood(Ri.value);document.getElementById("password-progress-bar").style.width=`${ts*100}%`,document.getElementById("password-progress-bar").style.background=this.strengthColor[ts],this.password.setAttribute("data-password-status",ts)}isPasswordGood(Ri){let ts=[{regEx:".{10,}",translation:"10_chars"},{regEx:"[a-z]",translation:"low_case"},{regEx:"[A-Z]",translation:"up_case"},{regEx:"[0-9]",translation:"num"},{regEx:"[!\"#$%&'()*+,\\-./:;<=>?\\\\@\\[\\]^_`{|}~]",translation:"special_char"}];const rs={0:0,1:.2,2:.4,3:.6,4:.8,5:1};let is=this.getComplexityCheckList(Ri,ts),ns=this.getComplexityStrength(is);return{strengthClass:rs[ns]}}getComplexityCheckList(Ri,ts){return ts.map(rs=>{let{regEx:is,translation:ns}=rs;return this.passwordChecklist.find((ss,os)=>{if(ss.name===ns){this.passwordChecklist[os].status=this.passwordRegCheck(Ri,is);const ls=document.getElementById(`${ns}`);this.toggleIndicatorColor(ls,this.passwordChecklist[os].status)}}),{success:this.passwordRegCheck(Ri,is)}})}passwordRegCheck(Ri,ts){return!Ri||!ts?!1:new RegExp(`(?=${ts})`,"g").test(Ri)}getComplexityStrength(Ri){return Ri.filter(ts=>ts.success).length}}Ho(PasswordComplexityController,"targets",["password"]);class PauseVideoOutsideViewportController extends Controller{constructor(){super(...arguments);Ho(this,"pausedVideo",!1)}connect(){const Ri={root:null,rootMargin:"0px",threshold:0};this.intersectionObserver=new IntersectionObserver(ts=>{ts.forEach(rs=>{rs.isIntersecting?this.pausedVideo&&(this.element.play(),this.pausedVideo=!1):this.element.paused||(this.element.pause(),this.pausedVideo=!0)})},Ri),this.intersectionObserver.observe(this.element)}}class PaypalModalController extends Controller{connect(){this.element.addEventListener("hidden.bs.modal",()=>{localStorage.setItem("paypalModalDismissed",!0),this.setTimeoutToOpen()}),localStorage.getItem("paypalModalDismissed")?this.setTimeoutToOpen():this.open()}open(){if(window.location.pathname===this.urlValue)return;let ki=new Modal(this.element);ki.isOpened||ki.show()}redirect(){this.urlValue&&(new Modal(this.element).hide(),window.location.href=this.urlValue)}setTimeoutToOpen(){setTimeout(this.open.bind(this),this.timeoutValue)}}Ho(PaypalModalController,"values",{url:String,timeout:18e4});class PhoneVerificationModalController extends Controller{constructor(){super(...arguments);Ho(this,"modal",null)}connect(){if(this.hasPhoneVerificationParamTarget&&this.phoneVerificationParamTarget.value==="true"){let Ri=document.getElementById("phone-verification");Ri&&(this.modal=new Modal(Ri),this.modal.show())}}}Ho(PhoneVerificationModalController,"targets",["phoneVerificationParam"]);class PitchReviewController extends Controller{connect(){this.selectedCheckboxes=new Set,this.getCheckedCheckboxes().forEach(Ri=>{this.selectedCheckboxes.add(Ri)});const ki=document.querySelector(this.element.getAttribute("data-bs-target"));ki&&(this.offcanvasInstance=new Offcanvas(ki,{backdrop:!0,keyboard:!0,scroll:!1})),this.hasRequiredTargets()&&this.updateBulkActionsUI()}hasRequiredTargets(){return this.hasSelectAllButtonTarget&&this.hasBulkActionsUITarget&&this.hasSearchFilterUITarget&&this.hasDropdownTarget}getCheckedCheckboxes(){return document.querySelectorAll('input[data-pitch-review-target="checkbox"]:checked')}getAllCheckboxes(){return Array.from(this.element.querySelectorAll('input[data-pitch-review-target="checkbox"]'))}get checkedCheckboxTargets(){return this.checkboxTargets.filter(ki=>ki.checked)}get selectedCount(){return this.selectedCheckboxes.size}shouldShowOffcanvas(){return window.innerWidth<1200}showOffcanvas(){const ki=document.querySelector("#pitchDetailPanel");ki&&(this.offcanvasInstance=Offcanvas.getOrCreateInstance(ki),this.offcanvasInstance.show())}getSelectedPitchIds(){return Array.from(this.selectedCheckboxes).map(ki=>ki.value)}toggleSelectAll(){const Ri=this.selectedCheckboxes.size===0;this.isBulkUpdating=!0,this.getAllCheckboxes().forEach(rs=>{rs.checked=Ri,Ri?this.selectedCheckboxes.add(rs):this.selectedCheckboxes.delete(rs)}),this.isBulkUpdating=!1,this.updateBulkActionsUI();const ts=new CustomEvent("pitchSelectionChanged",{detail:{count:this.selectedCount,isBulkAction:!0},bubbles:!0});this.element.dispatchEvent(ts),this.checkAndDisplayNoOrMultipleSelected()}handleCheckboxChange(ki){if(this.isBulkUpdating)return;const Ri=ki.target;Ri.checked?this.selectedCheckboxes.add(Ri):this.selectedCheckboxes.delete(Ri),this.updateBulkActionsUI(),this.checkAndDisplayNoOrMultipleSelected()}async checkAndDisplayNoOrMultipleSelected(){if(this.getCheckedCheckboxes().length>=0)try{const ts=await this.fetchNoOrMultipleSelected();this.displayContentInRightPanel(ts)}catch(ts){console.error("Error fetching no or multiple selected template:",ts)}}updateBulkActionsUI(){if(!this.hasRequiredTargets())return;const ki=this.selectedCheckboxes.size;if(ki>0){this.selectAllButtonTarget.innerText="Deselect All",this.bulkActionsUITarget.classList.remove("d-none"),this.searchFilterUITarget.classList.add("d-none"),this.dropdownTarget.querySelector("button").querySelector("span").querySelector("span").innerText=`Bulk Actions (${ki})`;const Ri=new CustomEvent("pitchSelectionChanged",{detail:{count:ki},bubbles:!0});this.element.dispatchEvent(Ri)}else{this.selectAllButtonTarget.innerText="Select All",this.bulkActionsUITarget.classList.add("d-none"),this.searchFilterUITarget.classList.remove("d-none");const Ri=new CustomEvent("pitchSelectionChanged",{detail:{count:0},bubbles:!0});this.element.dispatchEvent(Ri)}}handleClick(ki){if(ki.stopPropagation(),ki.preventDefault(),this.getCheckedCheckboxes().length>0){this.fetchNoOrMultipleSelected().then(ts=>{this.displayContentInRightPanel(ts),this.shouldShowOffcanvas()&&this.showOffcanvas()}).catch(ts=>console.error("Error fetching no or multiple selected template:",ts));return}this.fetchPitchDetails().then(ts=>{this.displayContentInRightPanel(ts),this.shouldShowOffcanvas()&&this.showOffcanvas()}).catch(ts=>console.error("Error:",ts))}async fetchNoOrMultipleSelected(){try{const Ri=document.querySelector("[data-pitch-review-no-multiple-pitches-url-value]").getAttribute("data-pitch-review-no-multiple-pitches-url-value"),ts=Array.from(this.getCheckedCheckboxes()).map(ss=>ss.value),rs=`${Ri}?selected_pitch_ids=${ts.join(",")}`;return await(await new FetchRequest("GET",rs).perform()).text}catch(ki){throw console.error("Error in fetchNoOrMultipleSelected:",ki),ki}}async fetchPitchDetails(){try{return await(await new FetchRequest("GET",this.detailsUrlValue).perform()).text}catch(ki){throw console.error("Error fetching pitch details:",ki),ki}}displayContentInRightPanel(ki){document.querySelectorAll("#pitch-offcanvas, #pitch-right-panel").forEach(Ri=>{Ri.innerHTML=ki})}async bulkAccept(ki){ki.preventDefault();const Ri=this.getSelectedPitchIds();try{const ts=this.element.dataset.bulkActionUrlApprove;(await this._submitBulkAccept(ts,Ri)).ok&&(window.location.href=window.location.pathname)}catch(ts){console.error("Bulk approve failed:",ts)}}async _submitBulkAccept(ki,Ri){const ts=document.querySelector('meta[name="csrf-token"]').content;return await new FetchRequest("POST",ki,{body:JSON.stringify({resource_ids:Ri}),headers:{"Content-Type":"application/json","X-CSRF-Token":ts}}).perform()}async bulkDecline(ki){ki.preventDefault();const Ri=this.getSelectedPitchIds();try{await(os=>new Promise(ls=>{const cs=document.querySelector(os);if(cs){ls(cs);return}new MutationObserver((us,As)=>{const bs=document.querySelector(os);bs&&(As.disconnect(),ls(bs))}).observe(document.body,{childList:!0,subtree:!0})}))("#pitchDetailPanel");const rs=this.element.dataset.bulkActionFormUrlDecline,is=document.querySelector('meta[name="csrf-token"]').content;if((await new FetchRequest("PUT",rs,{body:JSON.stringify({resource_ids:Ri}),headers:{"Content-Type":"application/json","X-CSRF-Token":is},responseKind:"text"}).perform()).ok){new Offcanvas(document.getElementById("pitchDetailPanel")).show();const ls=document.querySelector("#pitchDetailPanel .offcanvas-body");ls&&(ls.innerHTML='<div id="viewing_pitch" class="h-100"></div>',setTimeout(()=>{const cs=document.getElementById("bulk-decline-buttons");cs&&(cs.classList.remove("d-none","d-lg-flex"),cs.classList.add("d-flex"))},0))}}catch(ts){console.error("Bulk decline form fetch failed:",ts)}}disconnect(){document.querySelectorAll(".offcanvas-backdrop").forEach(ki=>{ki.remove()}),this.selectedCheckboxes.clear()}}Ho(PitchReviewController,"targets",["checkbox","selectAllButton","bulkActionsUI","searchFilterUI","dropdown"]),Ho(PitchReviewController,"values",{noMultiplePitchesUrl:String,id:String,castingCallId:String,detailsUrl:String});class PitchDeclineReasonController extends Controller{connect(){this.enableSubmitButton()}declineReasonChanged(ki){ki.target.dataset.declineMessage==="custom"?this.declineMessageTarget.value="":this.declineMessageTarget.value=ki.target.dataset.declineMessage,this.application.getControllerForElementAndIdentifier(this.declineMessageTarget.parentElement,"auto-grow-textarea").resize(),this.enableSubmitButton()}declineMessageChanged(){this.declineMessageTarget.value===""?this.disableSubmitButton():this.enableSubmitButton()}enableSubmitButton(){if(this.declineMessageTarget.value===""){this.disableSubmitButton();return}this.submitButton.disabled=!1}disableSubmitButton(){this.submitButton.disabled=!0}get submitButton(){return document.getElementById("pitch-decline-submit")}}Ho(PitchDeclineReasonController,"targets",["declineMessage"]);class PitchTableRowController extends Controller{click(ki){["A","INPUT","svg","path","a","input"].includes(ki.currentTarget.tagName)||this.rowActionTarget.click()}}Ho(PitchTableRowController,"targets",["rowAction"]);class PitchVideoController extends Controller{constructor(){super(...arguments);Ho(this,"isHovering",!1);Ho(this,"isClicked",!1);Ho(this,"hoveringTimeoutRef",null);Ho(this,"currentHoverImageIndex",0)}connect(){if(this.isVideoMode()){let Ri=this.videoHolderElTarget.innerHTML;this.videoHolderElTarget.innerHTML=Ri,this.videoElTarget.addEventListener("loadeddata",()=>{this.videoHolderElTarget.classList.remove("d-none")})}}disconnect(){this.unscheduleNextShowHoverImage()}isVideoMode(){return this.hasVideoHolderElTarget}onMouseClick(){this.isClicked=!0,this.onVideoClick()}onMouseOver(){this.isHovering||(this.isHovering=!0,this.isVideoMode()?this.onVideoClick():(this.showHoverImage(!1),this.scheduleNextShowHoverImage()))}onMouseLeave(){this.isHovering&&(this.isHovering=!1,this.isVideoMode()?this.onVideoHoverOff():(this.unscheduleNextShowHoverImage(),this.showHoverImage(!1)))}onVideoClick(){this.videoElTarget.style.opacity=1,this.posterOverlayTarget.remove(),console.log(this.playButtonTarget),this.playButtonTarget.remove(),this.videoElTarget.currentTime=0,this.videoElTarget.play()}scheduleNextShowHoverImage(){this.hoveringTimeoutRef=setTimeout(()=>{this.showHoverImage(!0),this.scheduleNextShowHoverImage()},5e3)}unscheduleNextShowHoverImage(){clearTimeout(this.hoveringTimeoutRef),this.hoveringTimeoutRef=null}showHoverImage(Ri){if(this.hoverImageTargets.length<2)return;Ri?this.currentHoverImageIndex=(this.currentHoverImageIndex+1)%this.hoverImageTargets.length:this.currentHoverImageIndex=0;let ts=(this.currentHoverImageIndex+1)%this.hoverImageTargets.length,rs=(this.currentHoverImageIndex+this.hoverImageTargets.length-1)%this.hoverImageTargets.length;for(let is=0;is<this.hoverImageTargets.length;is++){let ns=this.hoverImageTargets[is];is===this.currentHoverImageIndex&&!this.isHovering?(ns.classList.add("cover"),ns.classList.remove("current"),this.loadImageForHoverImageEl(ns)):is===this.currentHoverImageIndex?(ns.classList.add("current"),ns.classList.remove("cover"),this.loadImageForHoverImageEl(ns)):(ns.classList.remove("current"),ns.classList.remove("cover")),is===ts&&this.isHovering?(ns.classList.add("next"),this.loadImageForHoverImageEl(ns)):ns.classList.remove("next"),is===rs&&this.isHovering&&Ri?ns.classList.add("previous"):ns.classList.remove("previous")}}loadImageForHoverImageEl(Ri){var rs;let ts=Ri.querySelector("img");(rs=ts.attributes.srcset)!=null&&rs.value||(ts.src=ts.attributes["data-src"].value,ts.srcset=ts.attributes["data-srcset"].value)}}Ho(PitchVideoController,"targets",["hoverImage","videoThumbnail","videoHolderEl","videoEl","posterOverlay","playButton"]);class PlanUpdateController extends Controller{constructor(){super(...arguments);Ho(this,"currentOption","");Ho(this,"selectedClass","");Ho(this,"unSelectedClass","")}connect(){this.yearlyOptionTarget.getAttribute("class").includes("active")?(this.currentOption="yearly",this.selectedClass=this.yearlyOptionTarget.getAttribute("class"),this.unSelectedClass=this.monthlyOptionTarget.getAttribute("class"),this.hideMonthlyPlans()):(this.currentOption="monthly",this.selectedClass=this.monthlyOptionTarget.getAttribute("class"),this.unSelectedClass=this.yearlyOptionTarget.getAttribute("class"),this.hideYearlyPlans())}toggle(){this.currentOption==="yearly"?(this.yearlyOptionTarget.setAttribute("class",this.unSelectedClass),this.monthlyOptionTarget.setAttribute("class",this.selectedClass),this.showMonthlyPlans(),this.hideYearlyPlans(),this.currentOption="monthly"):(this.yearlyOptionTarget.setAttribute("class",this.selectedClass),this.monthlyOptionTarget.setAttribute("class",this.unSelectedClass),this.showYearlyPlans(),this.hideMonthlyPlans(),this.currentOption="yearly")}hideMonthlyPlans(){this.monthlyPlanTargets.forEach(Ri=>Ri.setAttribute("hidden",!0))}showMonthlyPlans(){this.monthlyPlanTargets.forEach(Ri=>Ri.removeAttribute("hidden"))}hideYearlyPlans(){this.yearlyPlanTargets.forEach(Ri=>Ri.setAttribute("hidden",!0))}showYearlyPlans(){this.yearlyPlanTargets.forEach(Ri=>Ri.removeAttribute("hidden"))}}Ho(PlanUpdateController,"targets",["toggler","yearlyOption","monthlyOption","monthlyPlan","yearlyPlan"]);var progressbar={exports:{}};(function(es,ki){(function(Ri){es.exports=Ri()})(function(){return function(){function Ri(ts,rs,is){function ns(ls,cs){if(!rs[ls]){if(!ts[ls]){var hs=typeof commonjsRequire=="function"&&commonjsRequire;if(!cs&&hs)return hs(ls,!0);if(ss)return ss(ls,!0);var us=new Error("Cannot find module '"+ls+"'");throw us.code="MODULE_NOT_FOUND",us}var As=rs[ls]={exports:{}};ts[ls][0].call(As.exports,function(bs){var ys=ts[ls][1][bs];return ns(ys||bs)},As,As.exports,Ri,ts,rs,is)}return rs[ls].exports}for(var ss=typeof commonjsRequire=="function"&&commonjsRequire,os=0;os<is.length;os++)ns(is[os]);return ns}return Ri}()({1:[function(Ri,ts,rs){(function(is){(function(){var ns=200,ss="__lodash_hash_undefined__",os=800,ls=16,cs=9007199254740991,hs="[object Arguments]",us="[object Array]",As="[object AsyncFunction]",bs="[object Boolean]",ys="[object Date]",Cs="[object Error]",ps="[object Function]",ms="[object GeneratorFunction]",fs="[object Map]",gs="[object Number]",ws="[object Null]",Ts="[object Object]",$s="[object Proxy]",Rs="[object RegExp]",Ps="[object Set]",Qs="[object String]",Fs="[object Undefined]",Is="[object WeakMap]",Ms="[object ArrayBuffer]",Ws="[object DataView]",Ds="[object Float32Array]",_s="[object Float64Array]",Ns="[object Int8Array]",Ss="[object Int16Array]",Us="[object Int32Array]",Zs="[object Uint8Array]",ao="[object Uint8ClampedArray]",js="[object Uint16Array]",Bs="[object Uint32Array]",zs=/[\\^$.*+?()[\]{}|]/g,so=/^\[object .+?Constructor\]$/,oo=/^(?:0|[1-9]\d*)$/,Ao={};Ao[Ds]=Ao[_s]=Ao[Ns]=Ao[Ss]=Ao[Us]=Ao[Zs]=Ao[ao]=Ao[js]=Ao[Bs]=!0,Ao[hs]=Ao[us]=Ao[Ms]=Ao[bs]=Ao[Ws]=Ao[ys]=Ao[Cs]=Ao[ps]=Ao[fs]=Ao[gs]=Ao[Ts]=Ao[Rs]=Ao[Ps]=Ao[Qs]=Ao[Is]=!1;var Xs=typeof is=="object"&&is&&is.Object===Object&&is,lo=typeof self=="object"&&self&&self.Object===Object&&self,co=Xs||lo||Function("return this")(),So=typeof rs=="object"&&rs&&!rs.nodeType&&rs,ro=So&&typeof ts=="object"&&ts&&!ts.nodeType&&ts,vo=ro&&ro.exports===So,Eo=vo&&Xs.process,mo=function(){try{var sa=ro&&ro.require&&ro.require("util").types;return sa||Eo&&Eo.binding&&Eo.binding("util")}catch{}}(),yo=mo&&mo.isTypedArray;function Jo(sa,Aa,Ra){switch(Ra.length){case 0:return sa.call(Aa);case 1:return sa.call(Aa,Ra[0]);case 2:return sa.call(Aa,Ra[0],Ra[1]);case 3:return sa.call(Aa,Ra[0],Ra[1],Ra[2])}return sa.apply(Aa,Ra)}function Yo(sa,Aa){for(var Ra=-1,ll=Array(sa);++Ra<sa;)ll[Ra]=Aa(Ra);return ll}function Wo(sa){return function(Aa){return sa(Aa)}}function ko(sa,Aa){return sa==null?void 0:sa[Aa]}function Qo(sa,Aa){return function(Ra){return sa(Aa(Ra))}}var jo=Array.prototype,Bo=Function.prototype,go=Object.prototype,_o=co["__core-js_shared__"],To=Bo.toString,uo=go.hasOwnProperty,Co=function(){var sa=/[^.]+$/.exec(_o&&_o.keys&&_o.keys.IE_PROTO||"");return sa?"Symbol(src)_1."+sa:""}(),Oo=go.toString,Fo=To.call(Object),Po=RegExp("^"+To.call(uo).replace(zs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zo=vo?co.Buffer:void 0,na=co.Symbol,ma=co.Uint8Array;Zo&&Zo.allocUnsafe;var ua=Qo(Object.getPrototypeOf,Object),ka=Object.create,Ba=go.propertyIsEnumerable,Va=jo.splice,Ea=na?na.toStringTag:void 0,il=function(){try{var sa=Pl(Object,"defineProperty");return sa({},"",{}),sa}catch{}}(),kl=Zo?Zo.isBuffer:void 0,Ja=Math.max,Ua=Date.now,Na=Pl(co,"Map"),nl=Pl(Object,"create"),Wl=function(){function sa(){}return function(Aa){if(!xd(Aa))return{};if(ka)return ka(Aa);sa.prototype=Aa;var Ra=new sa;return sa.prototype=void 0,Ra}}();function El(sa){var Aa=-1,Ra=sa==null?0:sa.length;for(this.clear();++Aa<Ra;){var ll=sa[Aa];this.set(ll[0],ll[1])}}function $c(){this.__data__=nl?nl(null):{},this.size=0}function ou(sa){var Aa=this.has(sa)&&delete this.__data__[sa];return this.size-=Aa?1:0,Aa}function wl(sa){var Aa=this.__data__;if(nl){var Ra=Aa[sa];return Ra===ss?void 0:Ra}return uo.call(Aa,sa)?Aa[sa]:void 0}function dc(sa){var Aa=this.__data__;return nl?Aa[sa]!==void 0:uo.call(Aa,sa)}function _u(sa,Aa){var Ra=this.__data__;return this.size+=this.has(sa)?0:1,Ra[sa]=nl&&Aa===void 0?ss:Aa,this}El.prototype.clear=$c,El.prototype.delete=ou,El.prototype.get=wl,El.prototype.has=dc,El.prototype.set=_u;function kc(sa){var Aa=-1,Ra=sa==null?0:sa.length;for(this.clear();++Aa<Ra;){var ll=sa[Aa];this.set(ll[0],ll[1])}}function Dl(){this.__data__=[],this.size=0}function Yc(sa){var Aa=this.__data__,Ra=Nc(Aa,sa);if(Ra<0)return!1;var ll=Aa.length-1;return Ra==ll?Aa.pop():Va.call(Aa,Ra,1),--this.size,!0}function Pu(sa){var Aa=this.__data__,Ra=Nc(Aa,sa);return Ra<0?void 0:Aa[Ra][1]}function au(sa){return Nc(this.__data__,sa)>-1}function dh(sa,Aa){var Ra=this.__data__,ll=Nc(Ra,sa);return ll<0?(++this.size,Ra.push([sa,Aa])):Ra[ll][1]=Aa,this}kc.prototype.clear=Dl,kc.prototype.delete=Yc,kc.prototype.get=Pu,kc.prototype.has=au,kc.prototype.set=dh;function Mu(sa){var Aa=-1,Ra=sa==null?0:sa.length;for(this.clear();++Aa<Ra;){var ll=sa[Aa];this.set(ll[0],ll[1])}}function Ah(){this.size=0,this.__data__={hash:new El,map:new(Na||kc),string:new El}}function Wu(sa){var Aa=Ml(this,sa).delete(sa);return this.size-=Aa?1:0,Aa}function Th(sa){return Ml(this,sa).get(sa)}function ca(sa){return Ml(this,sa).has(sa)}function gl(sa,Aa){var Ra=Ml(this,sa),ll=Ra.size;return Ra.set(sa,Aa),this.size+=Ra.size==ll?0:1,this}Mu.prototype.clear=Ah,Mu.prototype.delete=Wu,Mu.prototype.get=Th,Mu.prototype.has=ca,Mu.prototype.set=gl;function cl(sa){var Aa=this.__data__=new kc(sa);this.size=Aa.size}function Zl(){this.__data__=new kc,this.size=0}function oc(sa){var Aa=this.__data__,Ra=Aa.delete(sa);return this.size=Aa.size,Ra}function Yl(sa){return this.__data__.get(sa)}function Sc(sa){return this.__data__.has(sa)}function Bh(sa,Aa){var Ra=this.__data__;if(Ra instanceof kc){var ll=Ra.__data__;if(!Na||ll.length<ns-1)return ll.push([sa,Aa]),this.size=++Ra.size,this;Ra=this.__data__=new Mu(ll)}return Ra.set(sa,Aa),this.size=Ra.size,this}cl.prototype.clear=Zl,cl.prototype.delete=oc,cl.prototype.get=Yl,cl.prototype.has=Sc,cl.prototype.set=Bh;function Eu(sa,Aa){var Ra=gh(sa),ll=!Ra&&Ih(sa),tc=!Ra&&!ll&&FA(sa),fc=!Ra&&!ll&&!tc&&zc(sa),Jc=Ra||ll||tc||fc,pc=Jc?Yo(sa.length,String):[],$l=pc.length;for(var qu in sa)Jc&&(qu=="length"||tc&&(qu=="offset"||qu=="parent")||fc&&(qu=="buffer"||qu=="byteLength"||qu=="byteOffset")||Qc(qu,$l))||pc.push(qu);return pc}function xu(sa,Aa,Ra){(Ra!==void 0&&!xl(sa[Aa],Ra)||Ra===void 0&&!(Aa in sa))&&Cl(sa,Aa,Ra)}function _h(sa,Aa,Ra){var ll=sa[Aa];(!(uo.call(sa,Aa)&&xl(ll,Ra))||Ra===void 0&&!(Aa in sa))&&Cl(sa,Aa,Ra)}function Nc(sa,Aa){for(var Ra=sa.length;Ra--;)if(xl(sa[Ra][0],Aa))return Ra;return-1}function Cl(sa,Aa,Ra){Aa=="__proto__"&&il?il(sa,Aa,{configurable:!0,enumerable:!0,value:Ra,writable:!0}):sa[Aa]=Ra}var Lh=sl();function Qh(sa){return sa==null?sa===void 0?Fs:ws:Ea&&Ea in Object(sa)?Ac(sa):ph(sa)}function Fh(sa){return rA(sa)&&Qh(sa)==hs}function nc(sa){if(!xd(sa)||cu(sa))return!1;var Aa=pA(sa)?Po:so;return Aa.test(Ju(sa))}function ih(sa){return rA(sa)&&Vh(sa.length)&&!!Ao[Qh(sa)]}function dd(sa){if(!xd(sa))return fh(sa);var Aa=zu(sa),Ra=[];for(var ll in sa)ll=="constructor"&&(Aa||!uo.call(sa,ll))||Ra.push(ll);return Ra}function Xc(sa,Aa,Ra,ll,tc){sa!==Aa&&Lh(Aa,function(fc,Jc){if(tc||(tc=new cl),xd(fc))Xa(sa,Aa,Jc,Ra,Xc,ll,tc);else{var pc=ll?ll(Cc(sa,Jc),fc,Jc+"",sa,Aa,tc):void 0;pc===void 0&&(pc=fc),xu(sa,Jc,pc)}},Sd)}function Xa(sa,Aa,Ra,ll,tc,fc,Jc){var pc=Cc(sa,Ra),$l=Cc(Aa,Ra),qu=Jc.get($l);if(qu){xu(sa,Ra,qu);return}var Zc=fc?fc(pc,$l,Ra+"",sa,Aa,Jc):void 0,Pd=Zc===void 0;if(Pd){var mh=gh($l),Zh=!mh&&FA($l),iA=!mh&&!Zh&&zc($l);Zc=$l,mh||Zh||iA?gh(pc)?Zc=pc:LA(pc)?Zc=ba(pc):Zh?(Pd=!1,Zc=Nu($l)):iA?(Pd=!1,Zc=Go($l)):Zc=[]:Of($l)||Ih($l)?(Zc=pc,Ih(pc)?Zc=Rc(pc):(!xd(pc)||pA(pc))&&(Zc=Tc($l))):Pd=!1}Pd&&(Jc.set($l,Zc),tc(Zc,$l,ll,fc,Jc),Jc.delete($l)),xu(sa,Ra,Zc)}function zl(sa,Aa){return Iu(nh(sa,Aa,gA),sa+"")}var Ou=il?function(sa,Aa){return il(sa,"toString",{configurable:!0,enumerable:!1,value:Vd(Aa),writable:!0})}:gA;function Nu(sa,Aa){return sa.slice()}function Ad(sa){var Aa=new sa.constructor(sa.byteLength);return new ma(Aa).set(new ma(sa)),Aa}function Go(sa,Aa){var Ra=Ad(sa.buffer);return new sa.constructor(Ra,sa.byteOffset,sa.length)}function ba(sa,Aa){var Ra=-1,ll=sa.length;for(Aa||(Aa=Array(ll));++Ra<ll;)Aa[Ra]=sa[Ra];return Aa}function Ta(sa,Aa,Ra,ll){var tc=!Ra;Ra||(Ra={});for(var fc=-1,Jc=Aa.length;++fc<Jc;){var pc=Aa[fc],$l=void 0;$l===void 0&&($l=sa[pc]),tc?Cl(Ra,pc,$l):_h(Ra,pc,$l)}return Ra}function Oa(sa){return zl(function(Aa,Ra){var ll=-1,tc=Ra.length,fc=tc>1?Ra[tc-1]:void 0,Jc=tc>2?Ra[2]:void 0;for(fc=sa.length>3&&typeof fc=="function"?(tc--,fc):void 0,Jc&&vc(Ra[0],Ra[1],Jc)&&(fc=tc<3?void 0:fc,tc=1),Aa=Object(Aa);++ll<tc;){var pc=Ra[ll];pc&&sa(Aa,pc,ll,fc)}return Aa})}function sl(sa){return function(Aa,Ra,ll){for(var tc=-1,fc=Object(Aa),Jc=ll(Aa),pc=Jc.length;pc--;){var $l=Jc[++tc];if(Ra(fc[$l],$l,fc)===!1)break}return Aa}}function Ml(sa,Aa){var Ra=sa.__data__;return lu(Aa)?Ra[typeof Aa=="string"?"string":"hash"]:Ra.map}function Pl(sa,Aa){var Ra=ko(sa,Aa);return nc(Ra)?Ra:void 0}function Ac(sa){var Aa=uo.call(sa,Ea),Ra=sa[Ea];try{sa[Ea]=void 0;var ll=!0}catch{}var tc=Oo.call(sa);return ll&&(Aa?sa[Ea]=Ra:delete sa[Ea]),tc}function Tc(sa){return typeof sa.constructor=="function"&&!zu(sa)?Wl(ua(sa)):{}}function Qc(sa,Aa){var Ra=typeof sa;return Aa=Aa??cs,!!Aa&&(Ra=="number"||Ra!="symbol"&&oo.test(sa))&&sa>-1&&sa%1==0&&sa<Aa}function vc(sa,Aa,Ra){if(!xd(Ra))return!1;var ll=typeof Aa;return(ll=="number"?Lu(Ra)&&Qc(Aa,Ra.length):ll=="string"&&Aa in Ra)?xl(Ra[Aa],sa):!1}function lu(sa){var Aa=typeof sa;return Aa=="string"||Aa=="number"||Aa=="symbol"||Aa=="boolean"?sa!=="__proto__":sa===null}function cu(sa){return!!Co&&Co in sa}function zu(sa){var Aa=sa&&sa.constructor,Ra=typeof Aa=="function"&&Aa.prototype||go;return sa===Ra}function fh(sa){var Aa=[];if(sa!=null)for(var Ra in Object(sa))Aa.push(Ra);return Aa}function ph(sa){return Oo.call(sa)}function nh(sa,Aa,Ra){return Aa=Ja(Aa===void 0?sa.length-1:Aa,0),function(){for(var ll=arguments,tc=-1,fc=Ja(ll.length-Aa,0),Jc=Array(fc);++tc<fc;)Jc[tc]=ll[Aa+tc];tc=-1;for(var pc=Array(Aa+1);++tc<Aa;)pc[tc]=ll[tc];return pc[Aa]=Ra(Jc),Jo(sa,this,pc)}}function Cc(sa,Aa){if(!(Aa==="constructor"&&typeof sa[Aa]=="function")&&Aa!="__proto__")return sa[Aa]}var Iu=pd(Ou);function pd(sa){var Aa=0,Ra=0;return function(){var ll=Ua(),tc=ls-(ll-Ra);if(Ra=ll,tc>0){if(++Aa>=os)return arguments[0]}else Aa=0;return sa.apply(void 0,arguments)}}function Ju(sa){if(sa!=null){try{return To.call(sa)}catch{}try{return sa+""}catch{}}return""}function xl(sa,Aa){return sa===Aa||sa!==sa&&Aa!==Aa}var Ih=Fh(function(){return arguments}())?Fh:function(sa){return rA(sa)&&uo.call(sa,"callee")&&!Ba.call(sa,"callee")},gh=Array.isArray;function Lu(sa){return sa!=null&&Vh(sa.length)&&!pA(sa)}function LA(sa){return rA(sa)&&Lu(sa)}var FA=kl||kA;function pA(sa){if(!xd(sa))return!1;var Aa=Qh(sa);return Aa==ps||Aa==ms||Aa==As||Aa==$s}function Vh(sa){return typeof sa=="number"&&sa>-1&&sa%1==0&&sa<=cs}function xd(sa){var Aa=typeof sa;return sa!=null&&(Aa=="object"||Aa=="function")}function rA(sa){return sa!=null&&typeof sa=="object"}function Of(sa){if(!rA(sa)||Qh(sa)!=Ts)return!1;var Aa=ua(sa);if(Aa===null)return!0;var Ra=uo.call(Aa,"constructor")&&Aa.constructor;return typeof Ra=="function"&&Ra instanceof Ra&&To.call(Ra)==Fo}var zc=yo?Wo(yo):ih;function Rc(sa){return Ta(sa,Sd(sa))}function Sd(sa){return Lu(sa)?Eu(sa):dd(sa)}var IA=Oa(function(sa,Aa,Ra){Xc(sa,Aa,Ra)});function Vd(sa){return function(){return sa}}function gA(sa){return sa}function kA(){return!1}ts.exports=IA}).call(this)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(Ri,ts,rs){/*! For license information please see shifty.js.LICENSE.txt */(function(is,ns){typeof rs=="object"&&typeof ts=="object"?ts.exports=ns():typeof rs=="object"?rs.shifty=ns():is.shifty=ns()})(self,function(){return function(){var is={720:function(os,ls,cs){cs.r(ls),cs.d(ls,{Scene:function(){return Ad},Tweenable:function(){return dc},interpolate:function(){return dd},processTweens:function(){return Ua},setBezierFunction:function(){return mo},shouldScheduleUpdate:function(){return Wl},tween:function(){return _u},unsetBezierFunction:function(){return yo}});var hs={};cs.r(hs),cs.d(hs,{bounce:function(){return Ao},bouncePast:function(){return Xs},easeFrom:function(){return co},easeFromTo:function(){return lo},easeInBack:function(){return Zs},easeInCirc:function(){return _s},easeInCubic:function(){return ps},easeInExpo:function(){return Ms},easeInOutBack:function(){return js},easeInOutCirc:function(){return Ss},easeInOutCubic:function(){return fs},easeInOutExpo:function(){return Ds},easeInOutQuad:function(){return Cs},easeInOutQuart:function(){return Ts},easeInOutQuint:function(){return Ps},easeInOutSine:function(){return Is},easeInQuad:function(){return bs},easeInQuart:function(){return gs},easeInQuint:function(){return $s},easeInSine:function(){return Qs},easeOutBack:function(){return ao},easeOutBounce:function(){return Us},easeOutCirc:function(){return Ns},easeOutCubic:function(){return ms},easeOutExpo:function(){return Ws},easeOutQuad:function(){return ys},easeOutQuart:function(){return ws},easeOutQuint:function(){return Rs},easeOutSine:function(){return Fs},easeTo:function(){return So},elastic:function(){return Bs},linear:function(){return As},swingFrom:function(){return so},swingFromTo:function(){return zs},swingTo:function(){return oo}});var us={};cs.r(us),cs.d(us,{afterTween:function(){return Cl},beforeTween:function(){return Nc},doesApply:function(){return xu},tweenCreated:function(){return _h}});var As=function(Go){return Go},bs=function(Go){return Math.pow(Go,2)},ys=function(Go){return-(Math.pow(Go-1,2)-1)},Cs=function(Go){return(Go/=.5)<1?.5*Math.pow(Go,2):-.5*((Go-=2)*Go-2)},ps=function(Go){return Math.pow(Go,3)},ms=function(Go){return Math.pow(Go-1,3)+1},fs=function(Go){return(Go/=.5)<1?.5*Math.pow(Go,3):.5*(Math.pow(Go-2,3)+2)},gs=function(Go){return Math.pow(Go,4)},ws=function(Go){return-(Math.pow(Go-1,4)-1)},Ts=function(Go){return(Go/=.5)<1?.5*Math.pow(Go,4):-.5*((Go-=2)*Math.pow(Go,3)-2)},$s=function(Go){return Math.pow(Go,5)},Rs=function(Go){return Math.pow(Go-1,5)+1},Ps=function(Go){return(Go/=.5)<1?.5*Math.pow(Go,5):.5*(Math.pow(Go-2,5)+2)},Qs=function(Go){return 1-Math.cos(Go*(Math.PI/2))},Fs=function(Go){return Math.sin(Go*(Math.PI/2))},Is=function(Go){return-.5*(Math.cos(Math.PI*Go)-1)},Ms=function(Go){return Go===0?0:Math.pow(2,10*(Go-1))},Ws=function(Go){return Go===1?1:1-Math.pow(2,-10*Go)},Ds=function(Go){return Go===0?0:Go===1?1:(Go/=.5)<1?.5*Math.pow(2,10*(Go-1)):.5*(2-Math.pow(2,-10*--Go))},_s=function(Go){return-(Math.sqrt(1-Go*Go)-1)},Ns=function(Go){return Math.sqrt(1-Math.pow(Go-1,2))},Ss=function(Go){return(Go/=.5)<1?-.5*(Math.sqrt(1-Go*Go)-1):.5*(Math.sqrt(1-(Go-=2)*Go)+1)},Us=function(Go){return Go<1/2.75?7.5625*Go*Go:Go<2/2.75?7.5625*(Go-=1.5/2.75)*Go+.75:Go<2.5/2.75?7.5625*(Go-=2.25/2.75)*Go+.9375:7.5625*(Go-=2.625/2.75)*Go+.984375},Zs=function(Go){var ba=1.70158;return Go*Go*((ba+1)*Go-ba)},ao=function(Go){var ba=1.70158;return(Go-=1)*Go*((ba+1)*Go+ba)+1},js=function(Go){var ba=1.70158;return(Go/=.5)<1?Go*Go*((1+(ba*=1.525))*Go-ba)*.5:.5*((Go-=2)*Go*((1+(ba*=1.525))*Go+ba)+2)},Bs=function(Go){return-1*Math.pow(4,-8*Go)*Math.sin((6*Go-1)*(2*Math.PI)/2)+1},zs=function(Go){var ba=1.70158;return(Go/=.5)<1?Go*Go*((1+(ba*=1.525))*Go-ba)*.5:.5*((Go-=2)*Go*((1+(ba*=1.525))*Go+ba)+2)},so=function(Go){var ba=1.70158;return Go*Go*((ba+1)*Go-ba)},oo=function(Go){var ba=1.70158;return(Go-=1)*Go*((ba+1)*Go+ba)+1},Ao=function(Go){return Go<1/2.75?7.5625*Go*Go:Go<2/2.75?7.5625*(Go-=1.5/2.75)*Go+.75:Go<2.5/2.75?7.5625*(Go-=2.25/2.75)*Go+.9375:7.5625*(Go-=2.625/2.75)*Go+.984375},Xs=function(Go){return Go<1/2.75?7.5625*Go*Go:Go<2/2.75?2-(7.5625*(Go-=1.5/2.75)*Go+.75):Go<2.5/2.75?2-(7.5625*(Go-=2.25/2.75)*Go+.9375):2-(7.5625*(Go-=2.625/2.75)*Go+.984375)},lo=function(Go){return(Go/=.5)<1?.5*Math.pow(Go,4):-.5*((Go-=2)*Math.pow(Go,3)-2)},co=function(Go){return Math.pow(Go,4)},So=function(Go){return Math.pow(Go,.25)};function ro(Go,ba,Ta,Oa,sl,Ml){var Pl,Ac,Tc,Qc,vc,lu=0,cu=0,zu=0,fh=function(Cc){return((lu*Cc+cu)*Cc+zu)*Cc},ph=function(Cc){return(3*lu*Cc+2*cu)*Cc+zu},nh=function(Cc){return Cc>=0?Cc:0-Cc};return lu=1-(zu=3*ba)-(cu=3*(Oa-ba)-zu),Tc=1-(vc=3*Ta)-(Qc=3*(sl-Ta)-vc),Pl=Go,Ac=function(Cc){return 1/(200*Cc)}(Ml),function(Cc){return((Tc*Cc+Qc)*Cc+vc)*Cc}(function(Cc,Iu){var pd,Ju,xl,Ih,gh,Lu;for(xl=Cc,Lu=0;Lu<8;Lu++){if(Ih=fh(xl)-Cc,nh(Ih)<Iu)return xl;if(gh=ph(xl),nh(gh)<1e-6)break;xl-=Ih/gh}if((xl=Cc)<(pd=0))return pd;if(xl>(Ju=1))return Ju;for(;pd<Ju;){if(Ih=fh(xl),nh(Ih-Cc)<Iu)return xl;Cc>Ih?pd=xl:Ju=xl,xl=.5*(Ju-pd)+pd}return xl}(Pl,Ac))}var vo,Eo=function(){var Go=arguments.length>0&&arguments[0]!==void 0?arguments[0]:.25,ba=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.25,Ta=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.75,Oa=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.75;return function(sl){return ro(sl,Go,ba,Ta,Oa,1)}},mo=function(Go,ba,Ta,Oa,sl){var Ml=Eo(ba,Ta,Oa,sl);return Ml.displayName=Go,Ml.x1=ba,Ml.y1=Ta,Ml.x2=Oa,Ml.y2=sl,dc.formulas[Go]=Ml},yo=function(Go){return delete dc.formulas[Go]};function Jo(Go,ba){if(!(Go instanceof ba))throw new TypeError("Cannot call a class as a function")}function Yo(Go,ba){for(var Ta=0;Ta<ba.length;Ta++){var Oa=ba[Ta];Oa.enumerable=Oa.enumerable||!1,Oa.configurable=!0,"value"in Oa&&(Oa.writable=!0),Object.defineProperty(Go,Oa.key,Oa)}}function Wo(Go){return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ba){return typeof ba}:function(ba){return ba&&typeof Symbol=="function"&&ba.constructor===Symbol&&ba!==Symbol.prototype?"symbol":typeof ba},Wo(Go)}function ko(Go){return function(ba){if(Array.isArray(ba))return Qo(ba)}(Go)||function(ba){if(typeof Symbol<"u"&&Symbol.iterator in Object(ba))return Array.from(ba)}(Go)||function(ba,Ta){if(ba){if(typeof ba=="string")return Qo(ba,Ta);var Oa=Object.prototype.toString.call(ba).slice(8,-1);return Oa==="Object"&&ba.constructor&&(Oa=ba.constructor.name),Oa==="Map"||Oa==="Set"?Array.from(ba):Oa==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Oa)?Qo(ba,Ta):void 0}}(Go)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qo(Go,ba){(ba==null||ba>Go.length)&&(ba=Go.length);for(var Ta=0,Oa=new Array(ba);Ta<ba;Ta++)Oa[Ta]=Go[Ta];return Oa}function jo(Go,ba){var Ta=Object.keys(Go);if(Object.getOwnPropertySymbols){var Oa=Object.getOwnPropertySymbols(Go);ba&&(Oa=Oa.filter(function(sl){return Object.getOwnPropertyDescriptor(Go,sl).enumerable})),Ta.push.apply(Ta,Oa)}return Ta}function Bo(Go){for(var ba=1;ba<arguments.length;ba++){var Ta=arguments[ba]!=null?arguments[ba]:{};ba%2?jo(Object(Ta),!0).forEach(function(Oa){go(Go,Oa,Ta[Oa])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Go,Object.getOwnPropertyDescriptors(Ta)):jo(Object(Ta)).forEach(function(Oa){Object.defineProperty(Go,Oa,Object.getOwnPropertyDescriptor(Ta,Oa))})}return Go}function go(Go,ba,Ta){return ba in Go?Object.defineProperty(Go,ba,{value:Ta,enumerable:!0,configurable:!0,writable:!0}):Go[ba]=Ta,Go}var _o,To,uo,Co="linear",Oo=typeof window<"u"?window:cs.g,Fo="afterTween",Po="afterTweenEnd",Zo="beforeTween",na="tweenCreated",ma="function",ua="string",ka=Oo.requestAnimationFrame||Oo.webkitRequestAnimationFrame||Oo.oRequestAnimationFrame||Oo.msRequestAnimationFrame||Oo.mozCancelRequestAnimationFrame&&Oo.mozRequestAnimationFrame||setTimeout,Ba=function(){},Va=null,Ea=null,il=Bo({},hs),kl=function(Go,ba,Ta,Oa,sl,Ml,Pl){var Ac,Tc,Qc,vc=Go<Ml?0:(Go-Ml)/sl,lu=!1;for(var cu in Pl&&Pl.call&&(lu=!0,Ac=Pl(vc)),ba)lu||(Ac=((Tc=Pl[cu]).call?Tc:il[Tc])(vc)),Qc=Ta[cu],ba[cu]=Qc+(Oa[cu]-Qc)*Ac;return ba},Ja=function(Go,ba){var Ta=Go._timestamp,Oa=Go._currentState,sl=Go._delay;if(!(ba<Ta+sl)){var Ml=Go._duration,Pl=Go._targetState,Ac=Ta+sl+Ml,Tc=ba>Ac?Ac:ba;Go._hasEnded=Tc>=Ac;var Qc=Ml-(Ac-Tc),vc=Go._filters.length>0;if(Go._hasEnded)return Go._render(Pl,Go._data,Qc),Go.stop(!0);vc&&Go._applyFilter(Zo),Tc<Ta+sl?Ta=Ml=Tc=1:Ta+=sl,kl(Tc,Oa,Go._originalState,Pl,Ml,Ta,Go._easing),vc&&Go._applyFilter(Fo),Go._render(Oa,Go._data,Qc)}},Ua=function(){for(var Go,ba=dc.now(),Ta=Va;Ta;)Go=Ta._next,Ja(Ta,ba),Ta=Go},Na=Date.now||function(){return+new Date},nl=!1,Wl=function(Go){Go&&nl||(nl=Go,Go&&El())},El=function Go(){_o=Na(),nl&&ka.call(Oo,Go,16.666666666666668),Ua()},$c=function(Go){var ba=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Co,Ta=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Array.isArray(ba)){var Oa=Eo.apply(void 0,ko(ba));return Oa}var sl=Wo(ba);if(il[ba])return il[ba];if(sl===ua||sl===ma)for(var Ml in Go)Ta[Ml]=ba;else for(var Pl in Go)Ta[Pl]=ba[Pl]||Co;return Ta},ou=function(Go){Go===Va?(Va=Go._next)?Va._previous=null:Ea=null:Go===Ea?(Ea=Go._previous)?Ea._next=null:Va=null:(To=Go._previous,uo=Go._next,To._next=uo,uo._previous=To),Go._previous=Go._next=null},wl=typeof Promise=="function"?Promise:null;vo=Symbol.toStringTag;var dc=function(){function Go(){var Oa=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},sl=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;Jo(this,Go),go(this,vo,"Promise"),this._config={},this._data={},this._delay=0,this._filters=[],this._next=null,this._previous=null,this._timestamp=null,this._hasEnded=!1,this._resolve=null,this._reject=null,this._currentState=Oa||{},this._originalState={},this._targetState={},this._start=Ba,this._render=Ba,this._promiseCtor=wl,sl&&this.setConfig(sl)}var ba,Ta;return ba=Go,Ta=[{key:"_applyFilter",value:function(Oa){for(var sl=this._filters.length;sl>0;sl--){var Ml=this._filters[sl-sl][Oa];Ml&&Ml(this)}}},{key:"tween",value:function(){var Oa=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return this._isPlaying&&this.stop(),!Oa&&this._config||this.setConfig(Oa),this._pausedAtTime=null,this._timestamp=Go.now(),this._start(this.get(),this._data),this._delay&&this._render(this._currentState,this._data,0),this._resume(this._timestamp)}},{key:"setConfig",value:function(){var Oa=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},sl=this._config;for(var Ml in Oa)sl[Ml]=Oa[Ml];var Pl=sl.promise,Ac=Pl===void 0?this._promiseCtor:Pl,Tc=sl.start,Qc=Tc===void 0?Ba:Tc,vc=sl.finish,lu=sl.render,cu=lu===void 0?this._config.step||Ba:lu,zu=sl.step,fh=zu===void 0?Ba:zu;this._data=sl.data||sl.attachment||this._data,this._isPlaying=!1,this._pausedAtTime=null,this._scheduleId=null,this._delay=Oa.delay||0,this._start=Qc,this._render=cu||fh,this._duration=sl.duration||500,this._promiseCtor=Ac,vc&&(this._resolve=vc);var ph=Oa.from,nh=Oa.to,Cc=nh===void 0?{}:nh,Iu=this._currentState,pd=this._originalState,Ju=this._targetState;for(var xl in ph)Iu[xl]=ph[xl];var Ih=!1;for(var gh in Iu){var Lu=Iu[gh];Ih||Wo(Lu)!==ua||(Ih=!0),pd[gh]=Lu,Ju[gh]=Cc.hasOwnProperty(gh)?Cc[gh]:Lu}if(this._easing=$c(this._currentState,sl.easing,this._easing),this._filters.length=0,Ih){for(var LA in Go.filters)Go.filters[LA].doesApply(this)&&this._filters.push(Go.filters[LA]);this._applyFilter(na)}return this}},{key:"then",value:function(Oa,sl){var Ml=this;return this._promise=new this._promiseCtor(function(Pl,Ac){Ml._resolve=Pl,Ml._reject=Ac}),this._promise.then(Oa,sl)}},{key:"catch",value:function(Oa){return this.then().catch(Oa)}},{key:"finally",value:function(Oa){return this.then().finally(Oa)}},{key:"get",value:function(){return Bo({},this._currentState)}},{key:"set",value:function(Oa){this._currentState=Oa}},{key:"pause",value:function(){if(this._isPlaying)return this._pausedAtTime=Go.now(),this._isPlaying=!1,ou(this),this}},{key:"resume",value:function(){return this._resume()}},{key:"_resume",value:function(){var Oa=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Go.now();return this._timestamp===null?this.tween():this._isPlaying?this._promise:(this._pausedAtTime&&(this._timestamp+=Oa-this._pausedAtTime,this._pausedAtTime=null),this._isPlaying=!0,Va===null?(Va=this,Ea=this):(this._previous=Ea,Ea._next=this,Ea=this),this)}},{key:"seek",value:function(Oa){Oa=Math.max(Oa,0);var sl=Go.now();return this._timestamp+Oa===0||(this._timestamp=sl-Oa,Ja(this,sl)),this}},{key:"stop",value:function(){var Oa=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!this._isPlaying)return this;this._isPlaying=!1,ou(this);var sl=this._filters.length>0;return Oa&&(sl&&this._applyFilter(Zo),kl(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),sl&&(this._applyFilter(Fo),this._applyFilter(Po))),this._resolve&&this._resolve({data:this._data,state:this._currentState,tweenable:this}),this._resolve=null,this._reject=null,this}},{key:"cancel",value:function(){var Oa=arguments.length>0&&arguments[0]!==void 0&&arguments[0],sl=this._currentState,Ml=this._data,Pl=this._isPlaying;return Pl?(this._reject&&this._reject({data:Ml,state:sl,tweenable:this}),this._resolve=null,this._reject=null,this.stop(Oa)):this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"hasEnded",value:function(){return this._hasEnded}},{key:"setScheduleFunction",value:function(Oa){Go.setScheduleFunction(Oa)}},{key:"data",value:function(){var Oa=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return Oa&&(this._data=Bo({},Oa)),this._data}},{key:"dispose",value:function(){for(var Oa in this)delete this[Oa]}}],Ta&&Yo(ba.prototype,Ta),Go}();function _u(){var Go=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ba=new dc;return ba.tween(Go),ba.tweenable=ba,ba}go(dc,"now",function(){return _o}),go(dc,"setScheduleFunction",function(Go){return ka=Go}),go(dc,"filters",{}),go(dc,"formulas",il),Wl(!0);var kc,Dl,Yc=/(\d|-|\.)/,Pu=/([^\-0-9.]+)/g,au=/[0-9.-]+/g,dh=(kc=au.source,Dl=/,\s*/.source,new RegExp("rgba?\\(".concat(kc).concat(Dl).concat(kc).concat(Dl).concat(kc,"(").concat(Dl).concat(kc,")?\\)"),"g")),Mu=/^.*\(/,Ah=/#([0-9]|[a-f]){3,6}/gi,Wu="VAL",Th=function(Go,ba){return Go.map(function(Ta,Oa){return"_".concat(ba,"_").concat(Oa)})};function ca(Go){return parseInt(Go,16)}var gl=function(Go){return"rgb(".concat((ba=Go,(ba=ba.replace(/#/,"")).length===3&&(ba=(ba=ba.split(""))[0]+ba[0]+ba[1]+ba[1]+ba[2]+ba[2]),[ca(ba.substr(0,2)),ca(ba.substr(2,2)),ca(ba.substr(4,2))]).join(","),")");var ba},cl=function(Go,ba,Ta){var Oa=ba.match(Go),sl=ba.replace(Go,Wu);return Oa&&Oa.forEach(function(Ml){return sl=sl.replace(Wu,Ta(Ml))}),sl},Zl=function(Go){for(var ba in Go){var Ta=Go[ba];typeof Ta=="string"&&Ta.match(Ah)&&(Go[ba]=cl(Ah,Ta,gl))}},oc=function(Go){var ba=Go.match(au),Ta=ba.slice(0,3).map(Math.floor),Oa=Go.match(Mu)[0];if(ba.length===3)return"".concat(Oa).concat(Ta.join(","),")");if(ba.length===4)return"".concat(Oa).concat(Ta.join(","),",").concat(ba[3],")");throw new Error("Invalid rgbChunk: ".concat(Go))},Yl=function(Go){return Go.match(au)},Sc=function(Go,ba){var Ta={};return ba.forEach(function(Oa){Ta[Oa]=Go[Oa],delete Go[Oa]}),Ta},Bh=function(Go,ba){return ba.map(function(Ta){return Go[Ta]})},Eu=function(Go,ba){return ba.forEach(function(Ta){return Go=Go.replace(Wu,+Ta.toFixed(4))}),Go},xu=function(Go){for(var ba in Go._currentState)if(typeof Go._currentState[ba]=="string")return!0;return!1};function _h(Go){var ba=Go._currentState;[ba,Go._originalState,Go._targetState].forEach(Zl),Go._tokenData=function(Ta){var Oa,sl,Ml={};for(var Pl in Ta){var Ac=Ta[Pl];typeof Ac=="string"&&(Ml[Pl]={formatString:(Oa=Ac,sl=void 0,sl=Oa.match(Pu),sl?(sl.length===1||Oa.charAt(0).match(Yc))&&sl.unshift(""):sl=["",""],sl.join(Wu)),chunkNames:Th(Yl(Ac),Pl)})}return Ml}(ba)}function Nc(Go){var ba=Go._currentState,Ta=Go._originalState,Oa=Go._targetState,sl=Go._easing,Ml=Go._tokenData;(function(Pl,Ac){var Tc=function(vc){var lu=Ac[vc].chunkNames,cu=Pl[vc];if(typeof cu=="string"){var zu=cu.split(" "),fh=zu[zu.length-1];lu.forEach(function(ph,nh){return Pl[ph]=zu[nh]||fh})}else lu.forEach(function(ph){return Pl[ph]=cu});delete Pl[vc]};for(var Qc in Ac)Tc(Qc)})(sl,Ml),[ba,Ta,Oa].forEach(function(Pl){return function(Ac,Tc){var Qc=function(lu){Yl(Ac[lu]).forEach(function(cu,zu){return Ac[Tc[lu].chunkNames[zu]]=+cu}),delete Ac[lu]};for(var vc in Tc)Qc(vc)}(Pl,Ml)})}function Cl(Go){var ba=Go._currentState,Ta=Go._originalState,Oa=Go._targetState,sl=Go._easing,Ml=Go._tokenData;[ba,Ta,Oa].forEach(function(Pl){return function(Ac,Tc){for(var Qc in Tc){var vc=Tc[Qc],lu=vc.chunkNames,cu=vc.formatString,zu=Eu(cu,Bh(Sc(Ac,lu),lu));Ac[Qc]=cl(dh,zu,oc)}}(Pl,Ml)}),function(Pl,Ac){for(var Tc in Ac){var Qc=Ac[Tc].chunkNames,vc=Pl[Qc[0]];Pl[Tc]=typeof vc=="string"?Qc.map(function(lu){var cu=Pl[lu];return delete Pl[lu],cu}).join(" "):vc}}(sl,Ml)}function Lh(Go,ba){var Ta=Object.keys(Go);if(Object.getOwnPropertySymbols){var Oa=Object.getOwnPropertySymbols(Go);ba&&(Oa=Oa.filter(function(sl){return Object.getOwnPropertyDescriptor(Go,sl).enumerable})),Ta.push.apply(Ta,Oa)}return Ta}function Qh(Go){for(var ba=1;ba<arguments.length;ba++){var Ta=arguments[ba]!=null?arguments[ba]:{};ba%2?Lh(Object(Ta),!0).forEach(function(Oa){Fh(Go,Oa,Ta[Oa])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Go,Object.getOwnPropertyDescriptors(Ta)):Lh(Object(Ta)).forEach(function(Oa){Object.defineProperty(Go,Oa,Object.getOwnPropertyDescriptor(Ta,Oa))})}return Go}function Fh(Go,ba,Ta){return ba in Go?Object.defineProperty(Go,ba,{value:Ta,enumerable:!0,configurable:!0,writable:!0}):Go[ba]=Ta,Go}var nc=new dc,ih=dc.filters,dd=function(Go,ba,Ta,Oa){var sl=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,Ml=Qh({},Go),Pl=$c(Go,Oa);for(var Ac in nc._filters.length=0,nc.set({}),nc._currentState=Ml,nc._originalState=Go,nc._targetState=ba,nc._easing=Pl,ih)ih[Ac].doesApply(nc)&&nc._filters.push(ih[Ac]);nc._applyFilter("tweenCreated"),nc._applyFilter("beforeTween");var Tc=kl(Ta,Ml,Go,ba,1,sl,Pl);return nc._applyFilter("afterTween"),Tc};function Xc(Go,ba){(ba==null||ba>Go.length)&&(ba=Go.length);for(var Ta=0,Oa=new Array(ba);Ta<ba;Ta++)Oa[Ta]=Go[Ta];return Oa}function Xa(Go,ba){if(!(Go instanceof ba))throw new TypeError("Cannot call a class as a function")}function zl(Go,ba){for(var Ta=0;Ta<ba.length;Ta++){var Oa=ba[Ta];Oa.enumerable=Oa.enumerable||!1,Oa.configurable=!0,"value"in Oa&&(Oa.writable=!0),Object.defineProperty(Go,Oa.key,Oa)}}function Ou(Go,ba){var Ta=ba.get(Go);if(!Ta)throw new TypeError("attempted to get private field on non-instance");return Ta.get?Ta.get.call(Go):Ta.value}var Nu=new WeakMap,Ad=function(){function Go(){Xa(this,Go),Nu.set(this,{writable:!0,value:[]});for(var Oa=arguments.length,sl=new Array(Oa),Ml=0;Ml<Oa;Ml++)sl[Ml]=arguments[Ml];sl.forEach(this.add.bind(this))}var ba,Ta;return ba=Go,(Ta=[{key:"add",value:function(Oa){return Ou(this,Nu).push(Oa),Oa}},{key:"remove",value:function(Oa){var sl=Ou(this,Nu).indexOf(Oa);return~sl&&Ou(this,Nu).splice(sl,1),Oa}},{key:"empty",value:function(){return this.tweenables.map(this.remove.bind(this))}},{key:"isPlaying",value:function(){return Ou(this,Nu).some(function(Oa){return Oa.isPlaying()})}},{key:"play",value:function(){return Ou(this,Nu).forEach(function(Oa){return Oa.tween()}),this}},{key:"pause",value:function(){return Ou(this,Nu).forEach(function(Oa){return Oa.pause()}),this}},{key:"resume",value:function(){return this.playingTweenables.forEach(function(Oa){return Oa.resume()}),this}},{key:"stop",value:function(Oa){return Ou(this,Nu).forEach(function(sl){return sl.stop(Oa)}),this}},{key:"tweenables",get:function(){return function(sl){if(Array.isArray(sl))return Xc(sl)}(Oa=Ou(this,Nu))||function(sl){if(typeof Symbol<"u"&&Symbol.iterator in Object(sl))return Array.from(sl)}(Oa)||function(sl,Ml){if(sl){if(typeof sl=="string")return Xc(sl,Ml);var Pl=Object.prototype.toString.call(sl).slice(8,-1);return Pl==="Object"&&sl.constructor&&(Pl=sl.constructor.name),Pl==="Map"||Pl==="Set"?Array.from(sl):Pl==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pl)?Xc(sl,Ml):void 0}}(Oa)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}();var Oa}},{key:"playingTweenables",get:function(){return Ou(this,Nu).filter(function(Oa){return!Oa.hasEnded()})}},{key:"promises",get:function(){return Ou(this,Nu).map(function(Oa){return Oa.then()})}}])&&zl(ba.prototype,Ta),Go}();dc.filters.token=us}},ns={};function ss(os){if(ns[os])return ns[os].exports;var ls=ns[os]={exports:{}};return is[os](ls,ls.exports,ss),ls.exports}return ss.d=function(os,ls){for(var cs in ls)ss.o(ls,cs)&&!ss.o(os,cs)&&Object.defineProperty(os,cs,{enumerable:!0,get:ls[cs]})},ss.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),ss.o=function(os,ls){return Object.prototype.hasOwnProperty.call(os,ls)},ss.r=function(os){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(os,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(os,"__esModule",{value:!0})},ss(720)}()})},{}],3:[function(Ri,ts,rs){var is=Ri("./shape"),ns=Ri("./utils"),ss=function(ls,cs){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,is.apply(this,arguments)};ss.prototype=new is,ss.prototype.constructor=ss,ss.prototype._pathString=function(ls){var cs=ls.strokeWidth;ls.trailWidth&&ls.trailWidth>ls.strokeWidth&&(cs=ls.trailWidth);var hs=50-cs/2;return ns.render(this._pathTemplate,{radius:hs,"2radius":hs*2})},ss.prototype._trailString=function(ls){return this._pathString(ls)},ts.exports=ss},{"./shape":8,"./utils":10}],4:[function(Ri,ts,rs){var is=Ri("./shape"),ns=Ri("./utils"),ss=function(ls,cs){this._pathTemplate=cs.vertical?"M {center},100 L {center},0":"M 0,{center} L 100,{center}",is.apply(this,arguments)};ss.prototype=new is,ss.prototype.constructor=ss,ss.prototype._initializeSvg=function(ls,cs){var hs=cs.vertical?"0 0 "+cs.strokeWidth+" 100":"0 0 100 "+cs.strokeWidth;ls.setAttribute("viewBox",hs),ls.setAttribute("preserveAspectRatio","none")},ss.prototype._pathString=function(ls){return ns.render(this._pathTemplate,{center:ls.strokeWidth/2})},ss.prototype._trailString=function(ls){return this._pathString(ls)},ts.exports=ss},{"./shape":8,"./utils":10}],5:[function(Ri,ts,rs){ts.exports={Line:Ri("./line"),Circle:Ri("./circle"),SemiCircle:Ri("./semicircle"),Square:Ri("./square"),Path:Ri("./path"),Shape:Ri("./shape"),utils:Ri("./utils")}},{"./circle":3,"./line":4,"./path":6,"./semicircle":7,"./shape":8,"./square":9,"./utils":10}],6:[function(Ri,ts,rs){var is=Ri("shifty"),ns=Ri("./utils"),ss=is.Tweenable,os={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},ls=function cs(hs,us){if(!(this instanceof cs))throw new Error("Constructor was called without new keyword");us=ns.extend({delay:0,duration:800,easing:"linear",from:{},to:{},step:function(){}},us);var As;ns.isString(hs)?As=document.querySelector(hs):As=hs,this.path=As,this._opts=us,this._tweenable=null;var bs=this.path.getTotalLength();this.path.style.strokeDasharray=bs+" "+bs,this.set(0)};ls.prototype.value=function(){var hs=this._getComputedDashOffset(),us=this.path.getTotalLength(),As=1-hs/us;return parseFloat(As.toFixed(6),10)},ls.prototype.set=function(hs){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(hs);var us=this._opts.step;if(ns.isFunction(us)){var As=this._easing(this._opts.easing),bs=this._calculateTo(hs,As),ys=this._opts.shape||this;us(bs,ys,this._opts.attachment)}},ls.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},ls.prototype.animate=function(hs,us,As){us=us||{},ns.isFunction(us)&&(As=us,us={});var bs=ns.extend({},us),ys=ns.extend({},this._opts);us=ns.extend(ys,us);var Cs=this._easing(us.easing),ps=this._resolveFromAndTo(hs,Cs,bs);this.stop(),this.path.getBoundingClientRect();var ms=this._getComputedDashOffset(),fs=this._progressToOffset(hs),gs=this;this._tweenable=new ss,this._tweenable.tween({from:ns.extend({offset:ms},ps.from),to:ns.extend({offset:fs},ps.to),duration:us.duration,delay:us.delay,easing:Cs,step:function(ws){gs.path.style.strokeDashoffset=ws.offset;var Ts=us.shape||gs;us.step(ws,Ts,us.attachment)}}).then(function(ws){ns.isFunction(As)&&As()}).catch(function(ws){throw console.error("Error in tweening:",ws),ws})},ls.prototype._getComputedDashOffset=function(){var hs=window.getComputedStyle(this.path,null);return parseFloat(hs.getPropertyValue("stroke-dashoffset"),10)},ls.prototype._progressToOffset=function(hs){var us=this.path.getTotalLength();return us-hs*us},ls.prototype._resolveFromAndTo=function(hs,us,As){return As.from&&As.to?{from:As.from,to:As.to}:{from:this._calculateFrom(us),to:this._calculateTo(hs,us)}},ls.prototype._calculateFrom=function(hs){return is.interpolate(this._opts.from,this._opts.to,this.value(),hs)},ls.prototype._calculateTo=function(hs,us){return is.interpolate(this._opts.from,this._opts.to,hs,us)},ls.prototype._stopTween=function(){this._tweenable!==null&&(this._tweenable.stop(!0),this._tweenable=null)},ls.prototype._easing=function(hs){return os.hasOwnProperty(hs)?os[hs]:hs},ts.exports=ls},{"./utils":10,shifty:2}],7:[function(Ri,ts,rs){var is=Ri("./shape"),ns=Ri("./circle"),ss=Ri("./utils"),os=function(cs,hs){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,is.apply(this,arguments)};os.prototype=new is,os.prototype.constructor=os,os.prototype._initializeSvg=function(cs,hs){cs.setAttribute("viewBox","0 0 100 50")},os.prototype._initializeTextContainer=function(cs,hs,us){cs.text.style&&(us.style.top="auto",us.style.bottom="0",cs.text.alignToBottom?ss.setStyle(us,"transform","translate(-50%, 0)"):ss.setStyle(us,"transform","translate(-50%, 50%)"))},os.prototype._pathString=ns.prototype._pathString,os.prototype._trailString=ns.prototype._trailString,ts.exports=os},{"./circle":3,"./shape":8,"./utils":10}],8:[function(Ri,ts,rs){var is=Ri("./path"),ns=Ri("./utils"),ss="Object is destroyed",os=function ls(cs,hs){if(!(this instanceof ls))throw new Error("Constructor was called without new keyword");if(arguments.length!==0){this._opts=ns.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},hs,!0),ns.isObject(hs)&&hs.svgStyle!==void 0&&(this._opts.svgStyle=hs.svgStyle),ns.isObject(hs)&&ns.isObject(hs.text)&&hs.text.style!==void 0&&(this._opts.text.style=hs.text.style);var us=this._createSvgView(this._opts),As;if(ns.isString(cs)?As=document.querySelector(cs):As=cs,!As)throw new Error("Container does not exist: "+cs);this._container=As,this._container.appendChild(us.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&ns.setStyles(us.svg,this._opts.svgStyle),this.svg=us.svg,this.path=us.path,this.trail=us.trail,this.text=null;var bs=ns.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new is(us.path,bs),ns.isObject(this._opts.text)&&this._opts.text.value!==null&&this.setText(this._opts.text.value)}};os.prototype.animate=function(cs,hs,us){if(this._progressPath===null)throw new Error(ss);this._progressPath.animate(cs,hs,us)},os.prototype.stop=function(){if(this._progressPath===null)throw new Error(ss);this._progressPath!==void 0&&this._progressPath.stop()},os.prototype.pause=function(){if(this._progressPath===null)throw new Error(ss);this._progressPath!==void 0&&this._progressPath._tweenable&&this._progressPath._tweenable.pause()},os.prototype.resume=function(){if(this._progressPath===null)throw new Error(ss);this._progressPath!==void 0&&this._progressPath._tweenable&&this._progressPath._tweenable.resume()},os.prototype.destroy=function(){if(this._progressPath===null)throw new Error(ss);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,this.text!==null&&(this.text.parentNode.removeChild(this.text),this.text=null)},os.prototype.set=function(cs){if(this._progressPath===null)throw new Error(ss);this._progressPath.set(cs)},os.prototype.value=function(){if(this._progressPath===null)throw new Error(ss);return this._progressPath===void 0?0:this._progressPath.value()},os.prototype.setText=function(cs){if(this._progressPath===null)throw new Error(ss);this.text===null&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),ns.isObject(cs)?(ns.removeChildren(this.text),this.text.appendChild(cs)):this.text.innerHTML=cs},os.prototype._createSvgView=function(cs){var hs=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(hs,cs);var us=null;(cs.trailColor||cs.trailWidth)&&(us=this._createTrail(cs),hs.appendChild(us));var As=this._createPath(cs);return hs.appendChild(As),{svg:hs,path:As,trail:us}},os.prototype._initializeSvg=function(cs,hs){cs.setAttribute("viewBox","0 0 100 100")},os.prototype._createPath=function(cs){var hs=this._pathString(cs);return this._createPathElement(hs,cs)},os.prototype._createTrail=function(cs){var hs=this._trailString(cs),us=ns.extend({},cs);return us.trailColor||(us.trailColor="#eee"),us.trailWidth||(us.trailWidth=us.strokeWidth),us.color=us.trailColor,us.strokeWidth=us.trailWidth,us.fill=null,this._createPathElement(hs,us)},os.prototype._createPathElement=function(cs,hs){var us=document.createElementNS("http://www.w3.org/2000/svg","path");return us.setAttribute("d",cs),us.setAttribute("stroke",hs.color),us.setAttribute("stroke-width",hs.strokeWidth),hs.fill?us.setAttribute("fill",hs.fill):us.setAttribute("fill-opacity","0"),us},os.prototype._createTextContainer=function(cs,hs){var us=document.createElement("div");us.className=cs.text.className;var As=cs.text.style;return As&&(cs.text.autoStyleContainer&&(hs.style.position="relative"),ns.setStyles(us,As),As.color||(us.style.color=cs.color)),this._initializeTextContainer(cs,hs,us),us},os.prototype._initializeTextContainer=function(ls,cs,hs){},os.prototype._pathString=function(cs){throw new Error("Override this function for each progress bar")},os.prototype._trailString=function(cs){throw new Error("Override this function for each progress bar")},os.prototype._warnContainerAspectRatio=function(cs){if(this.containerAspectRatio){var hs=window.getComputedStyle(cs,null),us=parseFloat(hs.getPropertyValue("width"),10),As=parseFloat(hs.getPropertyValue("height"),10);ns.floatEquals(this.containerAspectRatio,us/As)||(console.warn("Incorrect aspect ratio of container","#"+cs.id,"detected:",hs.getPropertyValue("width")+"(width)","/",hs.getPropertyValue("height")+"(height)","=",us/As),console.warn("Aspect ratio of should be",this.containerAspectRatio))}},ts.exports=os},{"./path":6,"./utils":10}],9:[function(Ri,ts,rs){var is=Ri("./shape"),ns=Ri("./utils"),ss=function(ls,cs){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",is.apply(this,arguments)};ss.prototype=new is,ss.prototype.constructor=ss,ss.prototype._pathString=function(ls){var cs=100-ls.strokeWidth/2;return ns.render(this._pathTemplate,{width:cs,strokeWidth:ls.strokeWidth,halfOfStrokeWidth:ls.strokeWidth/2})},ss.prototype._trailString=function(ls){var cs=100-ls.strokeWidth/2;return ns.render(this._trailTemplate,{width:cs,strokeWidth:ls.strokeWidth,halfOfStrokeWidth:ls.strokeWidth/2,startMargin:ls.strokeWidth/2-ls.trailWidth/2})},ts.exports=ss},{"./shape":8,"./utils":10}],10:[function(Ri,ts,rs){var is=Ri("lodash.merge"),ns="Webkit Moz O ms".split(" "),ss=.001;function os(fs,gs){var ws=fs;for(var Ts in gs)if(gs.hasOwnProperty(Ts)){var $s=gs[Ts],Rs="\\{"+Ts+"\\}",Ps=new RegExp(Rs,"g");ws=ws.replace(Ps,$s)}return ws}function ls(fs,gs,ws){for(var Ts=fs.style,$s=0;$s<ns.length;++$s){var Rs=ns[$s];Ts[Rs+hs(gs)]=ws}Ts[gs]=ws}function cs(fs,gs){Cs(gs,function(ws,Ts){ws!=null&&(ys(ws)&&ws.prefix===!0?ls(fs,Ts,ws.value):fs.style[Ts]=ws)})}function hs(fs){return fs.charAt(0).toUpperCase()+fs.slice(1)}function us(fs){return typeof fs=="string"||fs instanceof String}function As(fs){return typeof fs=="function"}function bs(fs){return Object.prototype.toString.call(fs)==="[object Array]"}function ys(fs){if(bs(fs))return!1;var gs=typeof fs;return gs==="object"&&!!fs}function Cs(fs,gs){for(var ws in fs)if(fs.hasOwnProperty(ws)){var Ts=fs[ws];gs(Ts,ws)}}function ps(fs,gs){return Math.abs(fs-gs)<ss}function ms(fs){for(;fs.firstChild;)fs.removeChild(fs.firstChild)}ts.exports={extend:is,render:os,setStyle:ls,setStyles:cs,capitalize:hs,isString:us,isFunction:As,isObject:ys,forEachObject:Cs,floatEquals:ps,removeChildren:ms}},{"lodash.merge":1}]},{},[5])(5)})})(progressbar);var progressbarExports=progressbar.exports;class ProgressBarController extends Controller{constructor(){super(...arguments);Ho(this,"SHAPE_TO_CLASS",{line:progressbarExports.Line,circle:progressbarExports.Circle,semiCircle:progressbarExports.SemiCircle});Ho(this,"progressBar",null)}connect(){if(this.shapeValue!=="custom")this.progressBar=new this.SHAPE_TO_CLASS[this.shapeValue](this.element,{strokeWidth:this.strokeWidthValue,color:"#FFEA82",trailColor:this.trailColorValue,trailWidth:this.trailWidthValue,svgStyle:{width:"100%",height:this.heightValue},step:(Ri,ts)=>{ts.path.setAttribute("stroke",this.getColor(100-Ri.offset))}});else if(this.hasSvgTarget){let Ri=this.svgTarget.querySelector("path"),ts=Ri.getAttribute("fill"),rs=`gradient-${this.percentageValue}`,is=this.svgTarget.querySelector("defs"),ns=this.getColor(this.percentageValue),ss=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");ss.setAttribute("id",rs),ss.setAttribute("x1","0%"),ss.setAttribute("y1","0%"),ss.setAttribute("x2","0%"),ss.setAttribute("y2","100%");let os=document.createElementNS("http://www.w3.org/2000/svg","stop");os.setAttribute("offset","0%"),os.setAttribute("stop-color",ts);let ls=document.createElementNS("http://www.w3.org/2000/svg","stop");ls.setAttribute("offset",`${this.percentageValue}%`),ls.setAttribute("stop-color",ts);let cs=document.createElementNS("http://www.w3.org/2000/svg","stop");cs.setAttribute("offset",`${this.percentageValue}%`),cs.setAttribute("stop-color",ns);let hs=document.createElementNS("http://www.w3.org/2000/svg","stop");hs.setAttribute("offset","100%"),hs.setAttribute("stop-color",ns),ss.appendChild(ls),ss.appendChild(cs),ss.appendChild(hs),is.appendChild(ss),Ri.setAttribute("fill",`url(#${rs})`)}this.progressBar&&this.progressBar.animate(this.percentageValue/100)}getColor(Ri){Ri=Math.max(0,Math.min(100,Ri));const ts={r:189,g:8,b:28},rs={r:252,g:213,b:113},is={r:52,g:130,b:103};let ns,ss,os;return Ri<=50?(ns=Math.round(ts.r+(rs.r-ts.r)*(Ri/50)),ss=Math.round(ts.g+(rs.g-ts.g)*(Ri/50)),os=Math.round(ts.b+(rs.b-ts.b)*(Ri/50))):(ns=Math.round(rs.r+(is.r-rs.r)*((Ri-50)/50)),ss=Math.round(rs.g+(is.g-rs.g)*((Ri-50)/50)),os=Math.round(rs.b+(is.b-rs.b)*((Ri-50)/50))),`rgb(${ns}, ${ss}, ${os})`}}Ho(ProgressBarController,"targets",["percent","svg"]),Ho(ProgressBarController,"values",{percentage:Number,shape:String,height:String,strokeWidth:Number,trailColor:String,trailWidth:Number});class RangeCadenceController extends Controller{onChange(ki){if(this.hasSubmitPathValue){let Ri=ki.currentTarget.dataset.value,ts=document.querySelector('[name="service_provider_apple"]'),rs={cadence:Ri,date:this.flatpickrDates};ts&&(rs.service_provider_apple=ts.checked),put(this.submitPathValue,{body:rs,responseKind:"turbo-stream"})}}get flatpickrElem(){return document.querySelector('[data-flatpickr-target="main"]')}get flatpickrDates(){if(this.flatpickrElem&&this.flatpickrElem._flatpickr){let{selectedDates:ki}=this.flatpickrElem._flatpickr;return{to:Math.round(+ki[1]/1e3),since:Math.round(+ki[0]/1e3)}}return{}}}Ho(RangeCadenceController,"values",{submitPath:String});const LOCALE="en-US";function parseLocaleNumber(es,ki){ki=ki??LOCALE;let Ri=Intl.NumberFormat(ki).format(11111).replace(new RegExp("\\p{Number}","gu"),""),ts=Intl.NumberFormat(ki).format(1.1).replace(new RegExp("\\p{Number}","gu"),"");return parseFloat(es.replace(new RegExp("\\"+Ri,"g"),"").replace(new RegExp("\\"+ts),".").replace(new RegExp("\\+","g"),"").replace(new RegExp("=","g"),"").replace(new RegExp("<","g"),"").replace(new RegExp(">","g"),""))||0}function formatLocaleNumber(es){return new Intl.NumberFormat(LOCALE).format(es)}class RangeSliderController extends Controller{connect(){this.fromHiddenTarget.addEventListener("custom-change",()=>{this.restoreHiddenValues()}),this.restoreHiddenValues()}restoreHiddenValues(){let[ki,Ri]=this.getParsed(this.fromHiddenTarget,this.toHiddenTarget,!0,!0,!1);this.fromHiddenTarget.value===""&&(ki=this.minValue),this.toHiddenTarget.value===""&&(Ri=this.maxValue),this.setValues(Ri,ki)}controlFromInput(){let[ki,Ri]=this.getParsed(this.fromInputTarget,this.toInputTarget);this.setValues(Ri,ki)}controlToInput(){let[ki,Ri]=this.getParsed(this.fromInputTarget,this.toInputTarget);this.setToggleAccessible(this.toInputTarget),this.setValues(Ri,ki)}controlFromSlider(){let[ki,Ri]=this.getParsed(this.fromSliderTarget,this.toSliderTarget,!0,!0,!0);this.setValues(Ri,ki)}controlToSlider(){let[ki,Ri]=this.getParsed(this.fromSliderTarget,this.toSliderTarget,!0,!1,!0);this.setToggleAccessible(this.toSliderTarget),this.setValues(Ri,ki)}getParsed(ki,Ri,ts,rs,is){let ns=parseLocaleNumber(ki.value),ss=parseLocaleNumber(Ri.value);return ns=lodashExports.clamp(ns,0,this.maxValue),ss=lodashExports.clamp(ss,0,this.maxValue),ts&&(ns=lodashExports.clamp(ns,this.minValue,this.maxValue),ss=lodashExports.clamp(ss,this.minValue,this.maxValue),ns>ss&&(rs?ss=ns:ns=ss)),is&&(ns=Math.floor(ns/this.stepIntervalValue)*this.stepIntervalValue,ss=Math.floor(ss/this.stepIntervalValue)*this.stepIntervalValue),[ns,ss]}setValues(ki,Ri){this.fromInputTarget.value=formatLocaleNumber(Ri),this.toInputTarget.value=formatLocaleNumber(ki);let ts=Ri===this.minValue,rs=ki===this.maxValue,is="",ns="";if(this.specialCharacterTypeValue==="greater_than_and_less_than"?(is=">=",ns="<="):this.specialCharacterTypeValue=="greater_than_and_plus"?(is=">=",ns="+"):(is="<=",ns="+"),ts&&(this.fromInputTarget.value=`${is}${this.fromInputTarget.value}`),rs&&(this.toInputTarget.value=this.specialCharacterTypeValue==="greater_than_and_less_than"?`${ns}${this.toInputTarget.value}`:`${this.toInputTarget.value}${ns}`),this.fromInputTarget.classList.remove("is-invalid"),this.toInputTarget.classList.remove("is-invalid"),Ri>ki){this.toInputTarget.classList.add("is-invalid"),this.fromInputTarget.classList.add("is-invalid");return}if(Ri<this.minValue){this.fromInputTarget.classList.add("is-invalid");return}if(ki>this.maxValue){this.toInputTarget.classList.add("is-invalid");return}this.fromHiddenTarget.value=ts?"":Ri,this.toHiddenTarget.value=rs?"":ki,this.fromSliderTarget.value=Ri,this.toSliderTarget.value=ki,this.refreshFillSlider()}refreshFillSlider(){this.fillSlider(this.fromInputTarget,this.toInputTarget,"#ced4da","#55a6c4",this.toSliderTarget)}fillSlider(ki,Ri,ts,rs,is){const ns=this.maxValue-this.minValue,ss=this.fromSliderTarget.value-this.minValue,os=this.toSliderTarget.value-this.minValue;is.style.background=`linear-gradient(
      to right,
      ${ts} 0%,
      ${ts} ${ss/ns*100}%,
      ${rs} ${ss/ns*100}%,
      ${rs} ${os/ns*100}%,
      ${ts} ${os/ns*100}%,
      ${ts} 100%)`}setToggleAccessible(ki){Number(ki.value)<=0?this.toSliderTarget.style.zIndex=2:this.toSliderTarget.style.zIndex=0}}Ho(RangeSliderController,"targets",["fromSlider","toSlider","fromInput","toInput","fromHidden","toHidden"]),Ho(RangeSliderController,"values",{min:Number,max:Number,stepInterval:Number,specialCharacterType:String});class RedirectOnConnectController extends Controller{connect(){let ki=new URL(window.location);if(this.hasPathValue){let Ri=`${ki.origin}${this.pathValue}`;this.hasErrorValue&&(Ri+=`?e=${this.errorValue}`),window.location.replace(Ri)}}}Ho(RedirectOnConnectController,"values",{path:String,error:String});class RemoteModalController extends Controller{connect(){this.modal=new Modal(this.element);let ki=document.querySelectorAll(".modal-backdrop");ki&&ki.forEach(Ri=>Ri.remove()),this.modal.show()}close(){this.modal.hide()}}class RemoteOffcanvasController extends Controller{connect(){this.bsOffcanvas=new Offcanvas(this.element),this.bsOffcanvas.show(),this.element.addEventListener("turbo:click",ki=>{ki.target.id==="connection_disconnect_btn"&&this.bsOffcanvas.hide()})}disconnect(){this.bsOffcanvas.hide()}}function removeAll(es){es.forEach(function(ki){ki.remove()})}class RemoveConditionallyController extends Controller{connect(){isSafari()&&(removeAll(this.notSafariTargets),removeAll(this.notSafariNotMobileTargets),removeAll(this.notSafariNotDesktopTargets)),isMobileDevice()?(removeAll(this.notMobileTargets),removeAll(this.notSafariNotMobileTargets)):(removeAll(this.notDesktopTargets),removeAll(this.notSafariNotDesktopTargets))}}Ho(RemoveConditionallyController,"targets",["notMobile","notDesktop","notSafari","notSafariNotMobile","notSafariNotDesktop"]);class ReplaceHistoryLocationController extends Controller{connect(){!window.history||!this.pathValue||history.replaceState({},"",this.pathValue)}}Ho(ReplaceHistoryLocationController,"values",{path:String});class ResetInputmaskController extends Controller{connect(){HSCore.components.HSMask.init("[data-hs-mask-options]"),setTimeout(()=>this.element.removeAttribute("data-controller"),500)}}class ResetTomselectController extends Controller{constructor(){super(...arguments);Ho(this,"tomSelect",null)}connect(){if(!document.documentElement.classList.value.includes("device-ios")&&!this.element.tomselect){HSCore.components.HSTomSelect.init(`#${this.element.id}`,{onChange:Ri=>{if(Ri==="~clear~"){let ts=this.element.tomselect;ts.clear();let rs=ts.input.parentElement.querySelector(".ts-input");rs&&ts.settings.placeholder&&(rs.innerHTML=`<div class="ts-custom-placeholder">${ts.settings.placeholder}</div>`)}}}),this.dispatch("initialized");for(let Ri=0;Ri<this.element.options.length;Ri++){let ts=this.element.options[Ri];ts.getAttribute("selected")&&!ts.selected&&(ts.selected=!0)}setTimeout((function(){let Ri=this.element.getAttribute("data-controller");Ri=Ri.replace("reset-tomselect",""),this.element.setAttribute("data-controller",Ri)}).bind(this),500)}}}let TOOLBAR_CLASSES_MAPPING={bold:".trix-button--icon-bold",italic:".trix-button--icon-italic",strike:".trix-button--icon-strike",link:".trix-button--icon-link",heading1:".trix-button--icon-heading-1",quote:".trix-button--icon-quote",code:".trix-button--icon-code",bullet:".trix-button--icon-bullet-list",number:".trix-button--icon-number-list",descreaseNesting:".trix-button--icon-decrease-nesting-level",increaseNesting:".trix-button--icon-increase-nesting-level",attach:".trix-button--icon-attach",undo:".trix-button--icon-undo",redo:".trix-button--icon-redo"};class RichTextToolbarController extends Controller{connect(){let ki=this.iconsToHide;addEventListener("trix-initialize",function(Ri){Object.values(ki).forEach(ts=>{document.querySelector(ts).remove()})})}get iconsToHide(){return Object.entries(TOOLBAR_CLASSES_MAPPING).filter(([ki,Ri])=>!this.iconsValue.includes(ki)).reduce((ki,[Ri,ts])=>(ki[Ri]=ts,ki),{})}}Ho(RichTextToolbarController,"values",{icons:Array});class SearchController extends Controller{constructor(){super(...arguments);Ho(this,"searchformSubmitDebounceFunc",null);Ho(this,"clearDebounceFunc",null);Ho(this,"postFrameLoadDebounceFunc",null);Ho(this,"sorting",null);Ho(this,"keywords",null);Ho(this,"filterInputs",null)}connect(){this.init()}init(){this.filterInputs=this.element.querySelectorAll('input[name*="filters"]'),this.setAttributesFromSearchParams(window.location.search),this.postFrameLoadDebounceFunc=lodashExports.debounce(this.setAttributesFromSearchParams,300),this.element.addEventListener("turbo:frame-load",Ri=>{this.filterInputs.forEach(ts=>{ts.disabled=!1}),this.postFrameLoadDebounceFunc(new URL(Ri.target.src).search)}),this.searchformSubmitDebounceFunc=lodashExports.debounce(()=>{lodashExports.isEmpty(this.keywords)?this.keywordsHiddenInputTarget.disabled=!0:(this.keywordsHiddenInputTarget.disabled=!1,this.keywordsHiddenInputTarget.value=this.keywords),lodashExports.isEmpty(this.sorting)?this.sortHiddenInputTarget.disabled=!0:(this.sortHiddenInputTarget.disabled=!1,this.sortHiddenInputTarget.value=this.sorting),this.filterInputs.forEach(Ri=>{lodashExports.isEmpty(Ri.value)&&(Ri.disabled=!0)}),this.searchFormTarget.requestSubmit()},300),this.clearDebounceFunc=lodashExports.debounce(()=>{this.hasSearchClearTarget&&this.searchClearTarget.classList.add("d-none"),this.keywordInputTarget.value=""},400)}handleKeyup(){this.postFrameLoadDebounceFunc&&this.postFrameLoadDebounceFunc.cancel(),this.hasSearchClearTarget&&(lodashExports.isEmpty(this.keywordInputTarget.value)?this.searchClearTarget.classList.add("d-none"):this.searchClearTarget.classList.remove("d-none")),this.keywords=this.keywordInputTarget.value,this.searchformSubmitDebounceFunc()}clearSearchInput(){this.keywords="",this.searchformSubmitDebounceFunc(),this.clearDebounceFunc()}clearFilters(){document.querySelectorAll('[data-flatpickr-target="main"]').forEach(function(Ri){Ri._flatpickr&&Ri._flatpickr.clear()}),this.filterInputs.forEach(Ri=>{Ri.type==="checkbox"?Ri.checked=!1:lodashExports.isEmpty(Ri.value)||(Ri.value=null)}),this.applyFilters()}applyFilters(){this.filterInputs.forEach(Ri=>{lodashExports.isEmpty(Ri.value)&&(Ri.disabled=!0)}),this.searchformSubmitDebounceFunc()}sort(Ri){let ts=Ri.target,rs=ts.dataset.sortColumnName;ts.classList.value.match(/\bsorting\b/)?this.sorting=`${rs}:asc`:ts.classList.value.match(/\bsorting_asc\b/)?this.sorting=`${rs}:desc`:ts.classList.value.match(/\bsorting_desc\b/)&&(this.sorting=""),this.searchformSubmitDebounceFunc()}setAttributesFromSearchParams(Ri){let ts=new URLSearchParams(Ri);this.sorting=ts.get("sort"),this.keywords=ts.get("keywords");let is=Array.from(ts.keys()).filter(ns=>ns.includes("filters"));this.hasFilterCountTarget&&(is.length?this.filterCountTarget.innerText=`(${is.length})`:this.filterCountTarget.innerText=""),!lodashExports.isEmpty(this.keywords)&&this.keywords!=="*"&&(this.keywordInputTarget.value=this.keywords,this.hasSearchClearTarget&&this.searchClearTarget.classList.remove("d-none")),this.hasDatatableIdValue&&this._updateColumnSorting(),this.filterInputs&&ts.forEach((ns,ss)=>{this.filterInputs.forEach(os=>{os.value===ns&&os.name===ss&&(os.checked=!0)})})}_updateColumnSorting(){if(lodashExports.isEmpty(this.sorting))return;let Ri=this.sorting.split(":")[0],ts=this.sorting.split(":")[1],rs=findElement$1(this.element,`[data-sort-column-name="${Ri}"]`);if(rs){let is=`sorting_${ts}`;rs.classList.remove("sorting"),rs.classList.add(is)}}}Ho(SearchController,"values",{datatableId:String}),Ho(SearchController,"targets",["keywordInput","searchForm","keywordsHiddenInput","sortHiddenInput","searchClear","filterCount"]);class ShowHelpDocumentController extends Controller{showHelpDoc(){post("/help_documents/show_offcanvas",{query:{identifier:this.identifierValue},responseKind:"turbo-stream"})}}Ho(ShowHelpDocumentController,"values",{identifier:String});class ShowhideController extends Controller{connect(){this.change(null)}change(ki){if(ki&&ki.currentTarget.dataset.value)this.showIfValue.includes(ki.currentTarget.dataset.value)?this.outputTarget.classList.remove(this.hideClass):this.outputTarget.classList.add(this.hideClass);else if(this.hasFieldTarget){let Ri=this.fieldTarget.value||this.fieldTarget.dataset.value;this.showIfValue.includes(Ri)?this.outputTarget.classList.remove(this.hideClass):this.outputTarget.classList.add(this.hideClass)}}toggleTargets(){this.hideableTargets.forEach(ki=>{ki.hidden=!ki.hidden})}}Ho(ShowhideController,"targets",["field","output","hideable"]),Ho(ShowhideController,"classes",["hide"]),Ho(ShowhideController,"values",{showIf:Array});var simpleParallax_min={exports:{}};/*!
 * simpleParallax.min - simpleParallax is a simple JavaScript library that gives your website parallax animations on any images or videos, 
 * @date: 20-08-2020 14:0:14, 
 * @version: 5.6.2,
 * @link: https://simpleparallax.com/
 */(function(es,ki){(function(Ri,ts){es.exports=ts()})(window,function(){return function(Ri){var ts={};function rs(is){if(ts[is])return ts[is].exports;var ns=ts[is]={i:is,l:!1,exports:{}};return Ri[is].call(ns.exports,ns,ns.exports,rs),ns.l=!0,ns.exports}return rs.m=Ri,rs.c=ts,rs.d=function(is,ns,ss){rs.o(is,ns)||Object.defineProperty(is,ns,{enumerable:!0,get:ss})},rs.r=function(is){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(is,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(is,"__esModule",{value:!0})},rs.t=function(is,ns){if(1&ns&&(is=rs(is)),8&ns||4&ns&&typeof is=="object"&&is&&is.__esModule)return is;var ss=Object.create(null);if(rs.r(ss),Object.defineProperty(ss,"default",{enumerable:!0,value:is}),2&ns&&typeof is!="string")for(var os in is)rs.d(ss,os,(function(ls){return is[ls]}).bind(null,os));return ss},rs.n=function(is){var ns=is&&is.__esModule?function(){return is.default}:function(){return is};return rs.d(ns,"a",ns),ns},rs.o=function(is,ns){return Object.prototype.hasOwnProperty.call(is,ns)},rs.p="",rs(rs.s=0)}([function(Ri,ts,rs){rs.r(ts),rs.d(ts,"default",function(){return Rs});var is=function(){return Element.prototype.closest&&"IntersectionObserver"in window};function ns(Ps,Qs){for(var Fs=0;Fs<Qs.length;Fs++){var Is=Qs[Fs];Is.enumerable=Is.enumerable||!1,Is.configurable=!0,"value"in Is&&(Is.writable=!0),Object.defineProperty(Ps,Is.key,Is)}}var ss=new(function(){function Ps(){(function(Is,Ms){if(!(Is instanceof Ms))throw new TypeError("Cannot call a class as a function")})(this,Ps),this.positions={top:0,bottom:0,height:0}}var Qs,Fs;return Qs=Ps,(Fs=[{key:"setViewportTop",value:function(Is){return this.positions.top=Is?Is.scrollTop:window.pageYOffset,this.positions}},{key:"setViewportBottom",value:function(){return this.positions.bottom=this.positions.top+this.positions.height,this.positions}},{key:"setViewportAll",value:function(Is){return this.positions.top=Is?Is.scrollTop:window.pageYOffset,this.positions.height=Is?Is.clientHeight:document.documentElement.clientHeight,this.positions.bottom=this.positions.top+this.positions.height,this.positions}}])&&ns(Qs.prototype,Fs),Ps}()),os=function(Ps){return NodeList.prototype.isPrototypeOf(Ps)||HTMLCollection.prototype.isPrototypeOf(Ps)?Array.from(Ps):typeof Ps=="string"||Ps instanceof String?document.querySelectorAll(Ps):[Ps]},ls=function(){for(var Ps,Qs="transform webkitTransform mozTransform oTransform msTransform".split(" "),Fs=0;Ps===void 0;)Ps=document.createElement("div").style[Qs[Fs]]!==void 0?Qs[Fs]:void 0,Fs+=1;return Ps}(),cs=function(Ps){return Ps.tagName.toLowerCase()!=="img"&&Ps.tagName.toLowerCase()!=="picture"||!!Ps&&!!Ps.complete&&(Ps.naturalWidth===void 0||Ps.naturalWidth!==0)};function hs(Ps){return function(Qs){if(Array.isArray(Qs))return us(Qs)}(Ps)||function(Qs){if(typeof Symbol<"u"&&Symbol.iterator in Object(Qs))return Array.from(Qs)}(Ps)||function(Qs,Fs){if(Qs){if(typeof Qs=="string")return us(Qs,Fs);var Is=Object.prototype.toString.call(Qs).slice(8,-1);if(Is==="Object"&&Qs.constructor&&(Is=Qs.constructor.name),Is==="Map"||Is==="Set")return Array.from(Qs);if(Is==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Is))return us(Qs,Fs)}}(Ps)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function us(Ps,Qs){(Qs==null||Qs>Ps.length)&&(Qs=Ps.length);for(var Fs=0,Is=new Array(Qs);Fs<Qs;Fs++)Is[Fs]=Ps[Fs];return Is}function As(Ps,Qs){for(var Fs=0;Fs<Qs.length;Fs++){var Is=Qs[Fs];Is.enumerable=Is.enumerable||!1,Is.configurable=!0,"value"in Is&&(Is.writable=!0),Object.defineProperty(Ps,Is.key,Is)}}var bs=function(){function Ps(Is,Ms){var Ws=this;(function(Ds,_s){if(!(Ds instanceof _s))throw new TypeError("Cannot call a class as a function")})(this,Ps),this.element=Is,this.elementContainer=Is,this.settings=Ms,this.isVisible=!0,this.isInit=!1,this.oldTranslateValue=-1,this.init=this.init.bind(this),this.customWrapper=this.settings.customWrapper&&this.element.closest(this.settings.customWrapper)?this.element.closest(this.settings.customWrapper):null,cs(Is)?this.init():this.element.addEventListener("load",function(){setTimeout(function(){Ws.init(!0)},50)})}var Qs,Fs;return Qs=Ps,(Fs=[{key:"init",value:function(Is){var Ms=this;this.isInit||(Is&&(this.rangeMax=null),this.element.closest(".simpleParallax")||(this.settings.overflow===!1&&this.wrapElement(this.element),this.setTransformCSS(),this.getElementOffset(),this.intersectionObserver(),this.getTranslateValue(),this.animate(),this.settings.delay>0?setTimeout(function(){Ms.setTransitionCSS(),Ms.elementContainer.classList.add("simple-parallax-initialized")},10):this.elementContainer.classList.add("simple-parallax-initialized"),this.isInit=!0))}},{key:"wrapElement",value:function(){var Is=this.element.closest("picture")||this.element,Ms=this.customWrapper||document.createElement("div");Ms.classList.add("simpleParallax"),Ms.style.overflow="hidden",this.customWrapper||(Is.parentNode.insertBefore(Ms,Is),Ms.appendChild(Is)),this.elementContainer=Ms}},{key:"unWrapElement",value:function(){var Is=this.elementContainer;this.customWrapper?(Is.classList.remove("simpleParallax"),Is.style.overflow=""):Is.replaceWith.apply(Is,hs(Is.childNodes))}},{key:"setTransformCSS",value:function(){this.settings.overflow===!1&&(this.element.style[ls]="scale(".concat(this.settings.scale,")")),this.element.style.willChange="transform"}},{key:"setTransitionCSS",value:function(){this.element.style.transition="transform ".concat(this.settings.delay,"s ").concat(this.settings.transition)}},{key:"unSetStyle",value:function(){this.element.style.willChange="",this.element.style[ls]="",this.element.style.transition=""}},{key:"getElementOffset",value:function(){var Is=this.elementContainer.getBoundingClientRect();if(this.elementHeight=Is.height,this.elementTop=Is.top+ss.positions.top,this.settings.customContainer){var Ms=this.settings.customContainer.getBoundingClientRect();this.elementTop=Is.top-Ms.top+ss.positions.top}this.elementBottom=this.elementHeight+this.elementTop}},{key:"buildThresholdList",value:function(){for(var Is=[],Ms=1;Ms<=this.elementHeight;Ms++){var Ws=Ms/this.elementHeight;Is.push(Ws)}return Is}},{key:"intersectionObserver",value:function(){var Is={root:null,threshold:this.buildThresholdList()};this.observer=new IntersectionObserver(this.intersectionObserverCallback.bind(this),Is),this.observer.observe(this.element)}},{key:"intersectionObserverCallback",value:function(Is){var Ms=this;Is.forEach(function(Ws){Ws.isIntersecting?Ms.isVisible=!0:Ms.isVisible=!1})}},{key:"checkIfVisible",value:function(){return this.elementBottom>ss.positions.top&&this.elementTop<ss.positions.bottom}},{key:"getRangeMax",value:function(){var Is=this.element.clientHeight;this.rangeMax=Is*this.settings.scale-Is}},{key:"getTranslateValue",value:function(){var Is=((ss.positions.bottom-this.elementTop)/((ss.positions.height+this.elementHeight)/100)).toFixed(1);return Is=Math.min(100,Math.max(0,Is)),this.settings.maxTransition!==0&&Is>this.settings.maxTransition&&(Is=this.settings.maxTransition),this.oldPercentage!==Is&&(this.rangeMax||this.getRangeMax(),this.translateValue=(Is/100*this.rangeMax-this.rangeMax/2).toFixed(0),this.oldTranslateValue!==this.translateValue&&(this.oldPercentage=Is,this.oldTranslateValue=this.translateValue,!0))}},{key:"animate",value:function(){var Is,Ms=0,Ws=0;(this.settings.orientation.includes("left")||this.settings.orientation.includes("right"))&&(Ws="".concat(this.settings.orientation.includes("left")?-1*this.translateValue:this.translateValue,"px")),(this.settings.orientation.includes("up")||this.settings.orientation.includes("down"))&&(Ms="".concat(this.settings.orientation.includes("up")?-1*this.translateValue:this.translateValue,"px")),Is=this.settings.overflow===!1?"translate3d(".concat(Ws,", ").concat(Ms,", 0) scale(").concat(this.settings.scale,")"):"translate3d(".concat(Ws,", ").concat(Ms,", 0)"),this.element.style[ls]=Is}}])&&As(Qs.prototype,Fs),Ps}();function ys(Ps){return function(Qs){if(Array.isArray(Qs))return ms(Qs)}(Ps)||function(Qs){if(typeof Symbol<"u"&&Symbol.iterator in Object(Qs))return Array.from(Qs)}(Ps)||ps(Ps)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cs(Ps,Qs){return function(Fs){if(Array.isArray(Fs))return Fs}(Ps)||function(Fs,Is){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Fs)))){var Ms=[],Ws=!0,Ds=!1,_s=void 0;try{for(var Ns,Ss=Fs[Symbol.iterator]();!(Ws=(Ns=Ss.next()).done)&&(Ms.push(Ns.value),!Is||Ms.length!==Is);Ws=!0);}catch(Us){Ds=!0,_s=Us}finally{try{Ws||Ss.return==null||Ss.return()}finally{if(Ds)throw _s}}return Ms}}(Ps,Qs)||ps(Ps,Qs)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ps(Ps,Qs){if(Ps){if(typeof Ps=="string")return ms(Ps,Qs);var Fs=Object.prototype.toString.call(Ps).slice(8,-1);return Fs==="Object"&&Ps.constructor&&(Fs=Ps.constructor.name),Fs==="Map"||Fs==="Set"?Array.from(Ps):Fs==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Fs)?ms(Ps,Qs):void 0}}function ms(Ps,Qs){(Qs==null||Qs>Ps.length)&&(Qs=Ps.length);for(var Fs=0,Is=new Array(Qs);Fs<Qs;Fs++)Is[Fs]=Ps[Fs];return Is}function fs(Ps,Qs){for(var Fs=0;Fs<Qs.length;Fs++){var Is=Qs[Fs];Is.enumerable=Is.enumerable||!1,Is.configurable=!0,"value"in Is&&(Is.writable=!0),Object.defineProperty(Ps,Is.key,Is)}}var gs,ws,Ts=!1,$s=[],Rs=function(){function Ps(Is,Ms){if(function(Ds,_s){if(!(Ds instanceof _s))throw new TypeError("Cannot call a class as a function")}(this,Ps),Is&&is()){if(this.elements=os(Is),this.defaults={delay:0,orientation:"up",scale:1.3,overflow:!1,transition:"cubic-bezier(0,0,0,1)",customContainer:"",customWrapper:"",maxTransition:0},this.settings=Object.assign(this.defaults,Ms),this.settings.customContainer){var Ws=Cs(os(this.settings.customContainer),1);this.customContainer=Ws[0]}this.lastPosition=-1,this.resizeIsDone=this.resizeIsDone.bind(this),this.refresh=this.refresh.bind(this),this.proceedRequestAnimationFrame=this.proceedRequestAnimationFrame.bind(this),this.init()}}var Qs,Fs;return Qs=Ps,(Fs=[{key:"init",value:function(){var Is=this;ss.setViewportAll(this.customContainer),$s=[].concat(ys(this.elements.map(function(Ms){return new bs(Ms,Is.settings)})),ys($s)),Ts||(this.proceedRequestAnimationFrame(),window.addEventListener("resize",this.resizeIsDone),Ts=!0)}},{key:"resizeIsDone",value:function(){clearTimeout(ws),ws=setTimeout(this.refresh,200)}},{key:"proceedRequestAnimationFrame",value:function(){var Is=this;ss.setViewportTop(this.customContainer),this.lastPosition!==ss.positions.top?(ss.setViewportBottom(),$s.forEach(function(Ms){Is.proceedElement(Ms)}),gs=window.requestAnimationFrame(this.proceedRequestAnimationFrame),this.lastPosition=ss.positions.top):gs=window.requestAnimationFrame(this.proceedRequestAnimationFrame)}},{key:"proceedElement",value:function(Is){(this.customContainer?Is.checkIfVisible():Is.isVisible)&&Is.getTranslateValue()&&Is.animate()}},{key:"refresh",value:function(){ss.setViewportAll(this.customContainer),$s.forEach(function(Is){Is.getElementOffset(),Is.getRangeMax()}),this.lastPosition=-1}},{key:"destroy",value:function(){var Is=this,Ms=[];$s=$s.filter(function(Ws){return Is.elements.includes(Ws.element)?(Ms.push(Ws),!1):Ws}),Ms.forEach(function(Ws){Ws.unSetStyle(),Is.settings.overflow===!1&&Ws.unWrapElement()}),$s.length||(window.cancelAnimationFrame(gs),window.removeEventListener("resize",this.refresh),Ts=!1)}}])&&fs(Qs.prototype,Fs),Ps}()}]).default})})(simpleParallax_min);var simpleParallax_minExports=simpleParallax_min.exports;const simpleParallax=getDefaultExportFromCjs(simpleParallax_minExports);class SimpleParallaxController extends Controller{constructor(){super(...arguments);Ho(this,"instances",[])}connect(){this.instances=[],this.includeAllImgsValue&&this.instances.push(new simpleParallax(this.element.querySelector("img"),this.optionsValue)),this.elTargets.forEach(Ri=>{this.instances.push(new simpleParallax(Ri,this.optionsValue))})}disconnect(){this.instances.forEach(Ri=>{Ri.destroy()})}}Ho(SimpleParallaxController,"values",{options:Object,includeAllImgs:Boolean}),Ho(SimpleParallaxController,"targets",["el"]);class SingleRangeSliderController extends Controller{controlSlider(){this.inputTarget.value=this.sliderTarget.value,this.inputTarget.classList.remove("is-invalid")}controlInput(){let ki=this.getParsed(this.inputTarget.value);if(ki<this.minValue||ki>this.maxValue){this.inputTarget.classList.add("is-invalid");return}else this.inputTarget.classList.remove("is-invalid");this.sliderTarget.value=ki}getParsed(ki){let Ri=parseInt(ki);return isNaN(Ri)?0:Ri}}Ho(SingleRangeSliderController,"targets",["slider","input"]),Ho(SingleRangeSliderController,"values",{min:Number,max:Number,stepInterval:Number});class SpokeLanguageController extends Controller{connect(){this.maxCheck()}maxCheck(){let ki=0,Ri=[];this.spokenLanguageTargets.forEach(ts=>{const{checked:rs}=ts;rs?ki+=1:Ri.push(ts)}),ki>=5?Ri.forEach(ts=>{ts.setAttribute("disabled",!0)}):Ri.forEach(ts=>{ts.removeAttribute("disabled")})}}Ho(SpokeLanguageController,"targets",["spokenLanguage"]);class StickItController extends Controller{connect(){window.addEventListener("scroll",()=>{this.adjustHeader()})}adjustHeader(){let ki=window.scrollY,Ri=this.headerTarget.offsetHeight;ki>=Ri?this.addOutOfView():this.removeOutOfView(),ki>=Ri*2?this.addSticky():this.removeSticky()}addSticky(){this.headerTarget.classList.add("stick-it")}removeSticky(){this.headerTarget.classList.remove("stick-it")}addOutOfView(){this.headerTarget.classList.add("out-of-view"),this.navTarget.classList.add("theme-default"),this.navTarget.classList.remove("theme-transparent"),this.hasCreateTarget&&(this.createTarget.classList.add("btn-ghost-dark"),this.createTarget.classList.remove("btn-ghost-light")),this.hasSupportTarget&&(this.supportTarget.classList.add("btn-ghost-dark"),this.supportTarget.classList.remove("btn-ghost-light")),this.hasStartedTarget&&(this.startedTarget.classList.add("btn-primary"),this.startedTarget.classList.remove("btn-outline-light"))}removeOutOfView(){this.headerTarget.classList.remove("out-of-view"),this.navTarget.classList.add("theme-transparent"),this.navTarget.classList.remove("theme-default"),this.hasCreateTarget&&(this.createTarget.classList.add("btn-ghost-light"),this.createTarget.classList.remove("btn-ghost-dark")),this.hasSupportTarget&&(this.supportTarget.classList.add("btn-ghost-light"),this.supportTarget.classList.remove("btn-ghost-dark")),this.hasStartedTarget&&(this.startedTarget.classList.add("btn-outline-light"),this.startedTarget.classList.remove("btn-primary"))}}Ho(StickItController,"targets",["header","nav","create","started","support"]);let stripe=null;function initStripe(es){return stripe||(stripe=Stripe(es)),stripe}class StripePaymentMethodController extends Controller{connect(){initStripe(this.publishableKeyValue);const ki={customerSessionClientSecret:this.customerSessionClientSecretValue,mode:"setup",paymentMethodTypes:["card"],currency:"usd",paymentMethodCreation:"manual",setupFutureUsage:"off_session",appearance:{}},Ri=stripe.elements(ki);this.elements=Ri;const ts=Ri.create("card",{disableLink:!0});this.paymentElement=ts,ts.mount("#payment-element")}async addPaymentMethod(){this.addPaymentMethodButtonTarget.disabled=!0;const ki=await this.elements.submit();if(ki.error){console.log("Error submitting payment form",ki.error),this.addPaymentMethodButtonTarget.disabled=!1;return}let Ri=await stripe.confirmCardSetup(this.setupIntentClientSecretValue,{payment_method:{card:this.paymentElement}});Ri&&!Ri.error?window.location.reload():(this.addPaymentMethodButtonTarget.disabled=!1,console.log("Error submitting payment form confirmSetup",Ri.error))}}Ho(StripePaymentMethodController,"values",{publishableKey:String,customerSessionClientSecret:String,setupIntentClientSecret:String}),Ho(StripePaymentMethodController,"targets",["addPaymentMethodButton"]);const PUBLIC_VERSION="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(PUBLIC_VERSION);const TEMPLATE_FRAGMENT=1,TEMPLATE_USE_IMPORT_NODE=2,UNINITIALIZED=Symbol(),DEV=!1;var is_array=Array.isArray,array_from=Array.from,define_property=Object.defineProperty,get_descriptor=Object.getOwnPropertyDescriptor,object_prototype=Object.prototype,array_prototype=Array.prototype,get_prototype_of=Object.getPrototypeOf;const DERIVED=2,EFFECT=4,RENDER_EFFECT=8,BLOCK_EFFECT=16,BRANCH_EFFECT=32,ROOT_EFFECT=64,UNOWNED=128,DISCONNECTED=256,CLEAN=512,DIRTY=1024,MAYBE_DIRTY=2048,INERT=4096,DESTROYED=8192,EFFECT_RAN=16384,EFFECT_TRANSPARENT=32768,HEAD_EFFECT=1<<18,EFFECT_HAS_DERIVED=1<<19,STATE_SYMBOL=Symbol("$state");function equals(es){return es===this.v}function effect_in_teardown(es){throw new Error("effect_in_teardown")}function effect_in_unowned_derived(){throw new Error("effect_in_unowned_derived")}function effect_orphan(es){throw new Error("effect_orphan")}function effect_update_depth_exceeded(){throw new Error("effect_update_depth_exceeded")}function state_descriptors_fixed(){throw new Error("state_descriptors_fixed")}function state_prototype_fixed(){throw new Error("state_prototype_fixed")}function state_unsafe_local_read(){throw new Error("state_unsafe_local_read")}function state_unsafe_mutation(){throw new Error("state_unsafe_mutation")}let legacy_mode_flag=!1;function source(es){return{f:0,v:es,reactions:null,equals,version:0}}function state(es){return push_derived_source(source(es))}function push_derived_source(es){return active_reaction!==null&&active_reaction.f&DERIVED&&(derived_sources===null?set_derived_sources([es]):derived_sources.push(es)),es}function set(es,ki){return active_reaction!==null&&is_runes()&&active_reaction.f&(DERIVED|BLOCK_EFFECT)&&(derived_sources===null||!derived_sources.includes(es))&&state_unsafe_mutation(),internal_set(es,ki)}function internal_set(es,ki){return es.equals(ki)||(es.v=ki,es.version=increment_version(),mark_reactions(es,DIRTY),active_effect!==null&&active_effect.f&CLEAN&&!(active_effect.f&BRANCH_EFFECT)&&(new_deps!==null&&new_deps.includes(es)?(set_signal_status(active_effect,DIRTY),schedule_effect(active_effect)):untracked_writes===null?set_untracked_writes([es]):untracked_writes.push(es))),ki}function mark_reactions(es,ki){var Ri=es.reactions;if(Ri!==null)for(var ts=Ri.length,rs=0;rs<ts;rs++){var is=Ri[rs],ns=is.f;ns&DIRTY||(set_signal_status(is,ki),ns&(CLEAN|UNOWNED)&&(ns&DERIVED?mark_reactions(is,MAYBE_DIRTY):schedule_effect(is)))}}function derived(es){var ki=DERIVED|DIRTY;active_effect===null?ki|=UNOWNED:active_effect.f|=EFFECT_HAS_DERIVED;const Ri={children:null,ctx:component_context,deps:null,equals,f:ki,fn:es,reactions:null,v:null,version:0,parent:active_effect};if(active_reaction!==null&&active_reaction.f&DERIVED){var ts=active_reaction;(ts.children??(ts.children=[])).push(Ri)}return Ri}function destroy_derived_children(es){var ki=es.children;if(ki!==null){es.children=null;for(var Ri=0;Ri<ki.length;Ri+=1){var ts=ki[Ri];ts.f&DERIVED?destroy_derived(ts):destroy_effect(ts)}}}function execute_derived(es){var ki,Ri=active_effect;set_active_effect(es.parent);try{destroy_derived_children(es),ki=update_reaction(es)}finally{set_active_effect(Ri)}return ki}function update_derived(es){var ki=execute_derived(es),Ri=(skip_reaction||es.f&UNOWNED)&&es.deps!==null?MAYBE_DIRTY:CLEAN;set_signal_status(es,Ri),es.equals(ki)||(es.v=ki,es.version=increment_version())}function destroy_derived(es){destroy_derived_children(es),remove_reactions(es,0),set_signal_status(es,DESTROYED),es.v=es.children=es.deps=es.ctx=es.reactions=null}function validate_effect(es){active_effect===null&&active_reaction===null&&effect_orphan(),active_reaction!==null&&active_reaction.f&UNOWNED&&effect_in_unowned_derived(),is_destroying_effect&&effect_in_teardown()}function push_effect(es,ki){var Ri=ki.last;Ri===null?ki.last=ki.first=es:(Ri.next=es,es.prev=Ri,ki.last=es)}function create_effect(es,ki,Ri,ts=!0){var rs=(es&ROOT_EFFECT)!==0,is=active_effect,ns={ctx:component_context,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:es|DIRTY,first:null,fn:ki,last:null,next:null,parent:rs?null:is,prev:null,teardown:null,transitions:null,version:0};if(Ri){var ss=is_flushing_effect;try{set_is_flushing_effect(!0),update_effect(ns),ns.f|=EFFECT_RAN}catch(cs){throw destroy_effect(ns),cs}finally{set_is_flushing_effect(ss)}}else ki!==null&&schedule_effect(ns);var os=Ri&&ns.deps===null&&ns.first===null&&ns.nodes_start===null&&ns.teardown===null&&(ns.f&EFFECT_HAS_DERIVED)===0;if(!os&&!rs&&ts&&(is!==null&&push_effect(ns,is),active_reaction!==null&&active_reaction.f&DERIVED)){var ls=active_reaction;(ls.children??(ls.children=[])).push(ns)}return ns}function user_effect(es){validate_effect();var ki=active_effect!==null&&(active_effect.f&BRANCH_EFFECT)!==0&&component_context!==null&&!component_context.m;if(ki){var Ri=component_context;(Ri.e??(Ri.e=[])).push({fn:es,effect:active_effect,reaction:active_reaction})}else{var ts=effect(es);return ts}}function effect_root(es){const ki=create_effect(ROOT_EFFECT,es,!0);return()=>{destroy_effect(ki)}}function effect(es){return create_effect(EFFECT,es,!1)}function render_effect(es){return create_effect(RENDER_EFFECT,es,!0)}function template_effect(es){return block(es)}function block(es,ki=0){return create_effect(RENDER_EFFECT|BLOCK_EFFECT|ki,es,!0)}function branch(es,ki=!0){return create_effect(RENDER_EFFECT|BRANCH_EFFECT,es,!0,ki)}function execute_effect_teardown(es){var ki=es.teardown;if(ki!==null){const Ri=is_destroying_effect,ts=active_reaction;set_is_destroying_effect(!0),set_active_reaction(null);try{ki.call(null)}finally{set_is_destroying_effect(Ri),set_active_reaction(ts)}}}function destroy_effect_deriveds(es){var ki=es.deriveds;if(ki!==null){es.deriveds=null;for(var Ri=0;Ri<ki.length;Ri+=1)destroy_derived(ki[Ri])}}function destroy_effect_children(es,ki=!1){var Ri=es.first;for(es.first=es.last=null;Ri!==null;){var ts=Ri.next;destroy_effect(Ri,ki),Ri=ts}}function destroy_block_effect_children(es){for(var ki=es.first;ki!==null;){var Ri=ki.next;ki.f&BRANCH_EFFECT||destroy_effect(ki),ki=Ri}}function destroy_effect(es,ki=!0){var Ri=!1;if((ki||es.f&HEAD_EFFECT)&&es.nodes_start!==null){for(var ts=es.nodes_start,rs=es.nodes_end;ts!==null;){var is=ts===rs?null:get_next_sibling(ts);ts.remove(),ts=is}Ri=!0}destroy_effect_children(es,ki&&!Ri),destroy_effect_deriveds(es),remove_reactions(es,0),set_signal_status(es,DESTROYED);var ns=es.transitions;if(ns!==null)for(const os of ns)os.stop();execute_effect_teardown(es);var ss=es.parent;ss!==null&&ss.first!==null&&unlink_effect(es),es.next=es.prev=es.teardown=es.ctx=es.deps=es.parent=es.fn=es.nodes_start=es.nodes_end=null}function unlink_effect(es){var ki=es.parent,Ri=es.prev,ts=es.next;Ri!==null&&(Ri.next=ts),ts!==null&&(ts.prev=Ri),ki!==null&&(ki.first===es&&(ki.first=ts),ki.last===es&&(ki.last=Ri))}function pause_effect(es,ki){var Ri=[];pause_children(es,Ri,!0),run_out_transitions(Ri,()=>{destroy_effect(es),ki&&ki()})}function run_out_transitions(es,ki){var Ri=es.length;if(Ri>0){var ts=()=>--Ri||ki();for(var rs of es)rs.out(ts)}else ki()}function pause_children(es,ki,Ri){if(!(es.f&INERT)){if(es.f^=INERT,es.transitions!==null)for(const ns of es.transitions)(ns.is_global||Ri)&&ki.push(ns);for(var ts=es.first;ts!==null;){var rs=ts.next,is=(ts.f&EFFECT_TRANSPARENT)!==0||(ts.f&BRANCH_EFFECT)!==0;pause_children(ts,ki,is?Ri:!1),ts=rs}}}function resume_effect(es){resume_children(es,!0)}function resume_children(es,ki){if(es.f&INERT){check_dirtiness(es)&&update_effect(es),es.f^=INERT;for(var Ri=es.first;Ri!==null;){var ts=Ri.next,rs=(Ri.f&EFFECT_TRANSPARENT)!==0||(Ri.f&BRANCH_EFFECT)!==0;resume_children(Ri,rs?ki:!1),Ri=ts}if(es.transitions!==null)for(const is of es.transitions)(is.is_global||ki)&&is.in()}}let is_micro_task_queued=!1,is_flushing_effect=!1,is_destroying_effect=!1;function set_is_flushing_effect(es){is_flushing_effect=es}function set_is_destroying_effect(es){is_destroying_effect=es}let queued_root_effects=[],flush_count=0,dev_effect_stack=[],active_reaction=null;function set_active_reaction(es){active_reaction=es}let active_effect=null;function set_active_effect(es){active_effect=es}let derived_sources=null;function set_derived_sources(es){derived_sources=es}let new_deps=null,skipped_deps=0,untracked_writes=null;function set_untracked_writes(es){untracked_writes=es}let current_version=0,skip_reaction=!1,component_context=null;function increment_version(){return++current_version}function is_runes(){return!legacy_mode_flag}function check_dirtiness(es){var ns,ss;var ki=es.f;if(ki&DIRTY)return!0;if(ki&MAYBE_DIRTY){var Ri=es.deps,ts=(ki&UNOWNED)!==0;if(Ri!==null){var rs;if(ki&DISCONNECTED){for(rs=0;rs<Ri.length;rs++)((ns=Ri[rs]).reactions??(ns.reactions=[])).push(es);es.f^=DISCONNECTED}for(rs=0;rs<Ri.length;rs++){var is=Ri[rs];if(check_dirtiness(is)&&update_derived(is),ts&&active_effect!==null&&!skip_reaction&&!((ss=is==null?void 0:is.reactions)!=null&&ss.includes(es))&&(is.reactions??(is.reactions=[])).push(es),is.version>es.version)return!0}}ts||set_signal_status(es,CLEAN)}return!1}function handle_error(es,ki,Ri){throw es}function update_reaction(es){var us;var ki=new_deps,Ri=skipped_deps,ts=untracked_writes,rs=active_reaction,is=skip_reaction,ns=derived_sources,ss=component_context,os=es.f;new_deps=null,skipped_deps=0,untracked_writes=null,active_reaction=os&(BRANCH_EFFECT|ROOT_EFFECT)?null:es,skip_reaction=!is_flushing_effect&&(os&UNOWNED)!==0,derived_sources=null,component_context=es.ctx;try{var ls=(0,es.fn)(),cs=es.deps;if(new_deps!==null){var hs;if(remove_reactions(es,skipped_deps),cs!==null&&skipped_deps>0)for(cs.length=skipped_deps+new_deps.length,hs=0;hs<new_deps.length;hs++)cs[skipped_deps+hs]=new_deps[hs];else es.deps=cs=new_deps;if(!skip_reaction)for(hs=skipped_deps;hs<cs.length;hs++)((us=cs[hs]).reactions??(us.reactions=[])).push(es)}else cs!==null&&skipped_deps<cs.length&&(remove_reactions(es,skipped_deps),cs.length=skipped_deps);return ls}finally{new_deps=ki,skipped_deps=Ri,untracked_writes=ts,active_reaction=rs,skip_reaction=is,derived_sources=ns,component_context=ss}}function remove_reaction(es,ki){let Ri=ki.reactions;if(Ri!==null){var ts=Ri.indexOf(es);if(ts!==-1){var rs=Ri.length-1;rs===0?Ri=ki.reactions=null:(Ri[ts]=Ri[rs],Ri.pop())}}Ri===null&&ki.f&DERIVED&&(new_deps===null||!new_deps.includes(ki))&&(set_signal_status(ki,MAYBE_DIRTY),ki.f&(UNOWNED|DISCONNECTED)||(ki.f^=DISCONNECTED),remove_reactions(ki,0))}function remove_reactions(es,ki){var Ri=es.deps;if(Ri!==null)for(var ts=ki;ts<Ri.length;ts++)remove_reaction(es,Ri[ts])}function update_effect(es){var ki=es.f;if(!(ki&DESTROYED)){set_signal_status(es,CLEAN);var Ri=active_effect;active_effect=es;try{ki&BLOCK_EFFECT?destroy_block_effect_children(es):destroy_effect_children(es),destroy_effect_deriveds(es),execute_effect_teardown(es);var ts=update_reaction(es);es.teardown=typeof ts=="function"?ts:null,es.version=current_version}catch(rs){handle_error(rs)}finally{active_effect=Ri}}}function infinite_loop_guard(){flush_count>1e3&&(flush_count=0,effect_update_depth_exceeded()),flush_count++}function flush_queued_root_effects(es){var ki=es.length;if(ki!==0){infinite_loop_guard();var Ri=is_flushing_effect;is_flushing_effect=!0;try{for(var ts=0;ts<ki;ts++){var rs=es[ts];rs.f&CLEAN||(rs.f^=CLEAN);var is=[];process_effects(rs,is),flush_queued_effects(is)}}finally{is_flushing_effect=Ri}}}function flush_queued_effects(es){var ki=es.length;if(ki!==0)for(var Ri=0;Ri<ki;Ri++){var ts=es[Ri];!(ts.f&(DESTROYED|INERT))&&check_dirtiness(ts)&&(update_effect(ts),ts.deps===null&&ts.first===null&&ts.nodes_start===null&&(ts.teardown===null?unlink_effect(ts):ts.fn=null))}}function process_deferred(){if(is_micro_task_queued=!1,flush_count>1001)return;const es=queued_root_effects;queued_root_effects=[],flush_queued_root_effects(es),is_micro_task_queued||(flush_count=0)}function schedule_effect(es){is_micro_task_queued||(is_micro_task_queued=!0,queueMicrotask(process_deferred));for(var ki=es;ki.parent!==null;){ki=ki.parent;var Ri=ki.f;if(Ri&(ROOT_EFFECT|BRANCH_EFFECT)){if(!(Ri&CLEAN))return;ki.f^=CLEAN}}queued_root_effects.push(ki)}function process_effects(es,ki){var Ri=es.first,ts=[];e:for(;Ri!==null;){var rs=Ri.f,is=(rs&BRANCH_EFFECT)!==0,ns=is&&(rs&CLEAN)!==0;if(!ns&&!(rs&INERT))if(rs&RENDER_EFFECT){is?Ri.f^=CLEAN:check_dirtiness(Ri)&&update_effect(Ri);var ss=Ri.first;if(ss!==null){Ri=ss;continue}}else rs&EFFECT&&ts.push(Ri);var os=Ri.next;if(os===null){let hs=Ri.parent;for(;hs!==null;){if(es===hs)break e;var ls=hs.next;if(ls!==null){Ri=ls;continue e}hs=hs.parent}}Ri=os}for(var cs=0;cs<ts.length;cs++)ss=ts[cs],ki.push(ss),process_effects(ss,ki)}function get(es){var ss;var ki=es.f,Ri=(ki&DERIVED)!==0;if(Ri&&ki&DESTROYED){var ts=execute_derived(es);return destroy_derived(es),ts}if(active_reaction!==null){derived_sources!==null&&derived_sources.includes(es)&&state_unsafe_local_read();var rs=active_reaction.deps;new_deps===null&&rs!==null&&rs[skipped_deps]===es?skipped_deps++:new_deps===null?new_deps=[es]:new_deps.push(es),untracked_writes!==null&&active_effect!==null&&active_effect.f&CLEAN&&!(active_effect.f&BRANCH_EFFECT)&&untracked_writes.includes(es)&&(set_signal_status(active_effect,DIRTY),schedule_effect(active_effect))}else if(Ri&&es.deps===null){var is=es,ns=is.parent;ns!==null&&!((ss=ns.deriveds)!=null&&ss.includes(is))&&(ns.deriveds??(ns.deriveds=[])).push(is)}return Ri&&(is=es,check_dirtiness(is)&&update_derived(is)),es.v}const STATUS_MASK=~(DIRTY|MAYBE_DIRTY|CLEAN);function set_signal_status(es,ki){es.f=es.f&STATUS_MASK|ki}function update(es,ki=1){var Ri=+get(es);return set(es,Ri+ki),Ri}function push(es,ki=!1,Ri){component_context={p:component_context,c:null,e:null,m:!1,s:es,x:null,l:null}}function pop(es){const ki=component_context;if(ki!==null){const ns=ki.e;if(ns!==null){var Ri=active_effect,ts=active_reaction;ki.e=null;try{for(var rs=0;rs<ns.length;rs++){var is=ns[rs];set_active_effect(is.effect),set_active_reaction(is.reaction),effect(is.fn)}}finally{set_active_effect(Ri),set_active_reaction(ts)}}component_context=ki.p,ki.m=!0}return{}}function proxy(es,ki=null,Ri){if(typeof es!="object"||es===null||STATE_SYMBOL in es)return es;const ts=get_prototype_of(es);if(ts!==object_prototype&&ts!==array_prototype)return es;var rs=new Map,is=is_array(es),ns=source(0);is&&rs.set("length",source(es.length));var ss;return new Proxy(es,{defineProperty(os,ls,cs){(!("value"in cs)||cs.configurable===!1||cs.enumerable===!1||cs.writable===!1)&&state_descriptors_fixed();var hs=rs.get(ls);return hs===void 0?(hs=source(cs.value),rs.set(ls,hs)):set(hs,proxy(cs.value,ss)),!0},deleteProperty(os,ls){var cs=rs.get(ls);if(cs===void 0)ls in os&&rs.set(ls,source(UNINITIALIZED));else{if(is&&typeof ls=="string"){var hs=rs.get("length"),us=Number(ls);Number.isInteger(us)&&us<hs.v&&set(hs,us)}set(cs,UNINITIALIZED),update_version(ns)}return!0},get(os,ls,cs){var bs;if(ls===STATE_SYMBOL)return es;var hs=rs.get(ls),us=ls in os;if(hs===void 0&&(!us||(bs=get_descriptor(os,ls))!=null&&bs.writable)&&(hs=source(proxy(us?os[ls]:UNINITIALIZED,ss)),rs.set(ls,hs)),hs!==void 0){var As=get(hs);return As===UNINITIALIZED?void 0:As}return Reflect.get(os,ls,cs)},getOwnPropertyDescriptor(os,ls){var cs=Reflect.getOwnPropertyDescriptor(os,ls);if(cs&&"value"in cs){var hs=rs.get(ls);hs&&(cs.value=get(hs))}else if(cs===void 0){var us=rs.get(ls),As=us==null?void 0:us.v;if(us!==void 0&&As!==UNINITIALIZED)return{enumerable:!0,configurable:!0,value:As,writable:!0}}return cs},has(os,ls){var As;if(ls===STATE_SYMBOL)return!0;var cs=rs.get(ls),hs=cs!==void 0&&cs.v!==UNINITIALIZED||Reflect.has(os,ls);if(cs!==void 0||active_effect!==null&&(!hs||(As=get_descriptor(os,ls))!=null&&As.writable)){cs===void 0&&(cs=source(hs?proxy(os[ls],ss):UNINITIALIZED),rs.set(ls,cs));var us=get(cs);if(us===UNINITIALIZED)return!1}return hs},set(os,ls,cs,hs){var fs;var us=rs.get(ls),As=ls in os;if(is&&ls==="length")for(var bs=cs;bs<us.v;bs+=1){var ys=rs.get(bs+"");ys!==void 0?set(ys,UNINITIALIZED):bs in os&&(ys=source(UNINITIALIZED),rs.set(bs+"",ys))}us===void 0?(!As||(fs=get_descriptor(os,ls))!=null&&fs.writable)&&(us=source(void 0),set(us,proxy(cs,ss)),rs.set(ls,us)):(As=us.v!==UNINITIALIZED,set(us,proxy(cs,ss)));var Cs=Reflect.getOwnPropertyDescriptor(os,ls);if(Cs!=null&&Cs.set&&Cs.set.call(hs,cs),!As){if(is&&typeof ls=="string"){var ps=rs.get("length"),ms=Number(ls);Number.isInteger(ms)&&ms>=ps.v&&set(ps,ms+1)}update_version(ns)}return!0},ownKeys(os){get(ns);var ls=Reflect.ownKeys(os).filter(us=>{var As=rs.get(us);return As===void 0||As.v!==UNINITIALIZED});for(var[cs,hs]of rs)hs.v!==UNINITIALIZED&&!(cs in os)&&ls.push(cs);return ls},setPrototypeOf(){state_prototype_fixed()}})}function update_version(es,ki=1){set(es,es.v+ki)}var $window,first_child_getter,next_sibling_getter;function init_operations(){if($window===void 0){$window=window;var es=Element.prototype,ki=Node.prototype;first_child_getter=get_descriptor(ki,"firstChild").get,next_sibling_getter=get_descriptor(ki,"nextSibling").get,es.__click=void 0,es.__className="",es.__attributes=null,es.__styles=null,es.__e=void 0,Text.prototype.__t=void 0}}function create_text(es=""){return document.createTextNode(es)}function get_first_child(es){return first_child_getter.call(es)}function get_next_sibling(es){return next_sibling_getter.call(es)}function child(es,ki){return get_first_child(es)}function first_child(es,ki){{var Ri=get_first_child(es);return Ri instanceof Comment&&Ri.data===""?get_next_sibling(Ri):Ri}}function sibling(es,ki=1,Ri=!1){let ts=es;for(;ki--;)ts=get_next_sibling(ts);return ts}let listening_to_form_reset=!1;function add_form_reset_listener(){listening_to_form_reset||(listening_to_form_reset=!0,document.addEventListener("reset",es=>{Promise.resolve().then(()=>{var ki;if(!es.defaultPrevented)for(const Ri of es.target.elements)(ki=Ri.__on_r)==null||ki.call(Ri)})},{capture:!0}))}function without_reactive_context(es){var ki=active_reaction,Ri=active_effect;set_active_reaction(null),set_active_effect(null);try{return es()}finally{set_active_reaction(ki),set_active_effect(Ri)}}function listen_to_event_and_reset_event(es,ki,Ri,ts=Ri){es.addEventListener(ki,()=>without_reactive_context(Ri));const rs=es.__on_r;rs?es.__on_r=()=>{rs(),ts()}:es.__on_r=ts,add_form_reset_listener()}const all_registered_events=new Set,root_event_handles=new Set;function delegate(es){for(var ki=0;ki<es.length;ki++)all_registered_events.add(es[ki]);for(var Ri of root_event_handles)Ri(es)}function handle_event_propagation(es){var ms;var ki=this,Ri=ki.ownerDocument,ts=es.type,rs=((ms=es.composedPath)==null?void 0:ms.call(es))||[],is=rs[0]||es.target,ns=0,ss=es.__root;if(ss){var os=rs.indexOf(ss);if(os!==-1&&(ki===document||ki===window)){es.__root=ki;return}var ls=rs.indexOf(ki);if(ls===-1)return;os<=ls&&(ns=os)}if(is=rs[ns]||es.target,is!==ki){define_property(es,"currentTarget",{configurable:!0,get(){return is||Ri}});var cs=active_reaction,hs=active_effect;set_active_reaction(null),set_active_effect(null);try{for(var us,As=[];is!==null;){var bs=is.assignedSlot||is.parentNode||is.host||null;try{var ys=is["__"+ts];if(ys!==void 0&&!is.disabled)if(is_array(ys)){var[Cs,...ps]=ys;Cs.apply(is,[es,...ps])}else ys.call(is,es)}catch(fs){us?As.push(fs):us=fs}if(es.cancelBubble||bs===ki||bs===null)break;is=bs}if(us){for(let fs of As)queueMicrotask(()=>{throw fs});throw us}}finally{es.__root=ki,delete es.currentTarget,set_active_reaction(cs),set_active_effect(hs)}}}function create_fragment_from_html(es){var ki=document.createElement("template");return ki.innerHTML=es,ki.content}function assign_nodes(es,ki){var Ri=active_effect;Ri.nodes_start===null&&(Ri.nodes_start=es,Ri.nodes_end=ki)}function template(es,ki){var Ri=(ki&TEMPLATE_FRAGMENT)!==0,ts=(ki&TEMPLATE_USE_IMPORT_NODE)!==0,rs,is=!es.startsWith("<!>");return()=>{rs===void 0&&(rs=create_fragment_from_html(is?es:"<!>"+es),Ri||(rs=get_first_child(rs)));var ns=ts?document.importNode(rs,!0):rs.cloneNode(!0);if(Ri){var ss=get_first_child(ns),os=ns.lastChild;assign_nodes(ss,os)}else assign_nodes(ns,ns);return ns}}function text(es=""){{var ki=create_text(es+"");return assign_nodes(ki,ki),ki}}function comment(){var es=document.createDocumentFragment(),ki=document.createComment(""),Ri=create_text();return es.append(ki,Ri),assign_nodes(ki,Ri),es}function append(es,ki){es!==null&&es.before(ki)}const PASSIVE_EVENTS=["touchstart","touchmove"];function is_passive_event(es){return PASSIVE_EVENTS.includes(es)}function set_text(es,ki){var Ri=ki==null?"":typeof ki=="object"?ki+"":ki;Ri!==(es.__t??(es.__t=es.nodeValue))&&(es.__t=Ri,es.nodeValue=Ri==null?"":Ri+"")}function mount(es,ki){return _mount(es,ki)}const document_listeners=new Map;function _mount(es,{target:ki,anchor:Ri,props:ts={},events:rs,context:is,intro:ns=!0}){init_operations();var ss=new Set,os=hs=>{for(var us=0;us<hs.length;us++){var As=hs[us];if(!ss.has(As)){ss.add(As);var bs=is_passive_event(As);ki.addEventListener(As,handle_event_propagation,{passive:bs});var ys=document_listeners.get(As);ys===void 0?(document.addEventListener(As,handle_event_propagation,{passive:bs}),document_listeners.set(As,1)):document_listeners.set(As,ys+1)}}};os(array_from(all_registered_events)),root_event_handles.add(os);var ls=void 0,cs=effect_root(()=>{var hs=Ri??ki.appendChild(create_text());return branch(()=>{if(is){push({});var us=component_context;us.c=is}rs&&(ts.$$events=rs),ls=es(hs,ts)||{},is&&pop()}),()=>{var bs;for(var us of ss){ki.removeEventListener(us,handle_event_propagation);var As=document_listeners.get(us);--As===0?(document.removeEventListener(us,handle_event_propagation),document_listeners.delete(us)):document_listeners.set(us,As)}root_event_handles.delete(os),mounted_components.delete(ls),hs!==Ri&&((bs=hs.parentNode)==null||bs.removeChild(hs))}});return mounted_components.set(ls,cs),ls}let mounted_components=new WeakMap;function unmount(es){const ki=mounted_components.get(es);ki&&ki()}function if_block(es,ki,Ri,ts=null,rs=!1){var is=es,ns=null,ss=null,os=null,ls=rs?EFFECT_TRANSPARENT:0;block(()=>{os!==(os=!!ki())&&(os?(ns?resume_effect(ns):ns=branch(()=>Ri(is)),ss&&pause_effect(ss,()=>{ss=null})):(ss?resume_effect(ss):ts&&(ss=branch(()=>ts(is))),ns&&pause_effect(ns,()=>{ns=null})))},ls)}function bind_value(es,ki,Ri=ki){listen_to_event_and_reset_event(es,"input",()=>{var ts=is_numberlike_input(es)?to_number(es.value):es.value;Ri(ts),ts!==(ts=ki())&&(es.value=ts??"")}),render_effect(()=>{var ts=ki();is_numberlike_input(es)&&ts===to_number(es.value)||es.type==="date"&&!ts&&!es.value||ts!==es.value&&(es.value=ts??"")})}function is_numberlike_input(es){var ki=es.type;return ki==="number"||ki==="range"}function to_number(es){return es===""?null:+es}var Gm;class PageState{constructor(){_c(this,Gm,state(proxy({})));return new Proxy(this,{get(ki,Ri){return ki[Ri]?ki[Ri]:ki.state[Ri]},set(){throw new Error("Please avoid setting state directly on pageState. Use .addState() instead if you have to, or consider making another State holder.")}})}get state(){return get(jl(this,Gm))}set state(ki){set(jl(this,Gm),proxy(ki))}addState(ki){Object.assign(this.state,ki)}}Gm=new WeakMap;let pageState=new PageState;function addOne(es,ki){update(ki)}var root_1$1=template('<p class="mt-2 svelte-tg3hp9"> <b> </b> </p>'),root$2=template('<div class="button-holder border mb-5 svelte-tg3hp9"><div>Hello <b> </b> </div> <button class="svelte-tg3hp9"> </button> <!></div>');function ClickMeButton(es,ki){push(ki,!0);let Ri=state(proxy(ki.initialCount||0)),ts=derived(()=>pageState.server_time_now),rs=derived(()=>pageState.last_create_image_history);var is=root$2(),ns=child(is),ss=sibling(child(ns)),os=child(ss),ls=sibling(ss),cs=sibling(ns,2);cs.__click=[addOne,Ri];var hs=child(cs),us=sibling(cs,2);if_block(us,()=>get(rs),As=>{var bs=root_1$1(),ys=child(bs),Cs=sibling(ys),ps=child(Cs),ms=sibling(Cs);template_effect(()=>{set_text(ys,`Last AI Image History [${get(rs).id??""}] had prompt "${get(rs).ai_prompt??""}"
      and used model `),set_text(ps,get(rs).model),set_text(ms,` (Checked at: ${get(ts)??""})`)}),append(As,bs)}),template_effect(()=>{set_text(os,pageState.current_user.name),set_text(ls,`! You've clicked ${get(Ri)??""} times since page load...`),set_text(hs,`click me: ${get(Ri)??""}`)}),append(es,is),pop()}delegate(["click"]);var Km,Ym,Xm,mv,vv,yv,bv,Jm;class FetchQuery{constructor(ki){_c(this,Km,state(null));_c(this,Ym,state(null));_c(this,Xm,state("idle"));_c(this,mv,derived(()=>this.status==="idle"));_c(this,vv,derived(()=>this.status==="loading"));_c(this,yv,derived(()=>this.status==="error"));_c(this,bv,derived(()=>this.status==="success"));_c(this,Jm,state(proxy({queryFn:null,enabled:!0})));if(Object.assign(this.options,ki),!this.options.queryFn)throw new Error("queryFn option is required");this.options.enabled&&this.resolve()}get data(){return get(jl(this,Km))}set data(ki){set(jl(this,Km),proxy(ki))}get error(){return get(jl(this,Ym))}set error(ki){set(jl(this,Ym),proxy(ki))}get status(){return get(jl(this,Xm))}set status(ki){set(jl(this,Xm),proxy(ki))}get isIdle(){return get(jl(this,mv))}get isLoading(){return get(jl(this,vv))}get isError(){return get(jl(this,yv))}get isSuccess(){return get(jl(this,bv))}get options(){return get(jl(this,Jm))}set options(ki){set(jl(this,Jm),proxy(ki))}async resolve(){this.status="loading";try{this.data=await this.options.queryFn(),this.status="success"}catch(ki){console.error(ki),this.error=ki,this.status="error"}}refetch(){this.resolve()}}Km=new WeakMap,Ym=new WeakMap,Xm=new WeakMap,mv=new WeakMap,vv=new WeakMap,yv=new WeakMap,bv=new WeakMap,Jm=new WeakMap;function interceptDataResponse(es){let ki=es==null?void 0:es.page_state;return ki&&pageState.addState(ki),es==null?void 0:es.data}function railsGet(es,ki,Ri){let ts=async function(){let rs=await get$1(es,ki);return interceptDataResponse(await rs.json)};return new FetchQuery(Object.assign({queryFn:ts},Ri))}function railsPost(es,ki,Ri){let ts=async function(){let rs=await post(es,ki);return interceptDataResponse(await rs.json)};return new FetchQuery(Object.assign({queryFn:ts},Ri))}var root_1=template('<span class="text-xs text-gray-500">(Last server response from <i> </i> was <b> </b>)</span>'),root_2=template("<b> </b>, who was <i>viewing_as</i> <b> </b>, and has created <b> </b> AI images. Their plan: <b> </b>",1),root_4=template("<span>Loading...</span>"),root_6=template("<span> </span>"),on_click=(es,ki)=>ki.refetch(),root_7=template("<span>Loaded! Answer to life is: <b> </b></span> <div><button>Refresh</button></div>",1),root$1=template('<div class="my-5 border svelte-5d9roq"> <!> <div class="m-1"><div>Last User: <!></div> <div class="mt-1"><!></div></div></div>');function SlowEndpointExample(es,ki){push(ki,!0);let Ri=railsGet("/develop/svelte_playground/slow_endpoint_example"),ts=derived(()=>{var us;return new Date((us=Ri.data)==null?void 0:us.completed_at)});user_effect(()=>{Ri.isSuccess&&console.log("SlowEndpointExample: network call just succeeded!",get(ts))});var rs=root$1(),is=child(rs),ns=sibling(is);if_block(ns,()=>{var us;return(us=Ri.data)==null?void 0:us.completed_at},us=>{var As=root_1(),bs=sibling(child(As)),ys=child(bs),Cs=sibling(bs,2),ps=child(Cs);template_effect(()=>{set_text(ys,get(ts)),set_text(ps,Ri.data.answer_to_life)}),append(us,As)});var ss=sibling(ns,2),os=child(ss),ls=sibling(child(os));if_block(ls,()=>{var us;return(us=Ri.data)==null?void 0:us.last_user},us=>{var As=root_2(),bs=first_child(As),ys=child(bs),Cs=sibling(bs,4),ps=child(Cs),ms=sibling(Cs,2),fs=child(ms),gs=sibling(ms,2),ws=child(gs);template_effect(()=>{set_text(ys,Ri.data.last_user.name),set_text(ps,Ri.data.last_user.viewing_as),set_text(fs,Ri.data.last_user.ai_image_histories_count),set_text(ws,Ri.data.last_user.plan.name)}),append(us,As)},us=>{var As=text("...");append(us,As)});var cs=sibling(os,2),hs=child(cs);if_block(hs,()=>Ri.isLoading,us=>{var As=root_4();append(us,As)},us=>{var As=comment(),bs=first_child(As);if_block(bs,()=>Ri.isError,ys=>{var Cs=root_6(),ps=child(Cs);template_effect(()=>set_text(ps,`Error: ${Ri.error.message??""}`)),append(ys,Cs)},ys=>{var Cs=root_7(),ps=first_child(Cs),ms=sibling(child(ps)),fs=child(ms),gs=sibling(ps,2),ws=child(gs);ws.__click=[on_click,Ri],template_effect(()=>set_text(fs,Ri.data.answer_to_life)),append(ys,Cs)},!0),append(us,As)}),template_effect(()=>set_text(is,`Slow Endpoint Example: [${Ri.status??""}] `)),append(es,rs),pop()}delegate(["click"]);function submit(es,ki,Ri){set(ki,proxy(railsPost("/develop/svelte_playground/update_my_user",{body:Ri})))}var root_3=template("Updated name to: <b> </b>, and Rails says your Lucky Number is: <i> </i>",1),root=template('<div class="border svelte-5d9roq"><p> </p> <input type="text"> <button>Update</button> <span class="ml-2"><!></span></div>');function UserNameUpdateForm(es,ki){push(ki,!0);let Ri=proxy({name:""}),ts=state(proxy({}));user_effect(()=>{Ri.name=pageState.current_user.name}),user_effect(()=>{get(ts).isSuccess});var rs=root(),is=child(rs),ns=child(is),ss=sibling(is,2),os=sibling(ss,2);os.__click=[submit,ts,Ri];var ls=sibling(os,2),cs=child(ls);if_block(cs,()=>get(ts).isLoading,hs=>{var us=text("Sending...");append(hs,us)},hs=>{var us=comment(),As=first_child(us);if_block(As,()=>get(ts).isSuccess,bs=>{var ys=root_3(),Cs=sibling(first_child(ys)),ps=child(Cs),ms=sibling(Cs,2),fs=child(ms);template_effect(()=>{set_text(ps,get(ts).data.name),set_text(fs,get(ts).data.lucky_number)}),append(bs,ys)},null,!0),append(hs,us)}),template_effect(()=>set_text(ns,`Your email: ${ki.email??""}`)),bind_value(ss,()=>Ri.name,hs=>Ri.name=hs),append(es,rs),pop()}delegate(["click"]);const COMPONENT_DEFINITIONS=Object.assign({"/components/playground/ClickMeButton.svelte":ClickMeButton,"/components/playground/SlowEndpointExample.svelte":SlowEndpointExample,"/components/playground/UserNameUpdateForm.svelte":UserNameUpdateForm});let elToComponentMap=new Map;function addPageStateFromEl(){var ki;let es=document.querySelector("[data-js-page-state]");(ki=es==null?void 0:es.dataset)!=null&&ki.jsPageState&&(pageState.addState(JSON.parse(es.dataset.jsPageState)),delete es.dataset.jsPageState)}function mountSvelte(){addPageStateFromEl(),document.querySelectorAll('[data-controller="svelte-component"]').forEach(ki=>{mountComponent(ki)}),document.body.classList.remove("hide-until-csr-complete")}function mountComponent(es){if(elToComponentMap.has(es)||!es.dataset.component)return;let ki={};es.dataset.props&&(ki=JSON.parse(es.dataset.props));let Ri=es.dataset.component,ts=COMPONENT_DEFINITIONS[`/components/${Ri}.svelte`];if(!ts)throw new Error(`Component not found: ${Ri}`);let rs=mount(ts,{target:es,props:ki});elToComponentMap.set(es,rs)}mountSvelte();document.addEventListener("turbo:load",function(){mountSvelte()});class SvelteComponentController extends Controller{connect(){addPageStateFromEl(),mountComponent(this.element)}disconnect(){let ki=elToComponentMap.get(this.element);ki&&(unmount(ki),elToComponentMap.delete(this.element))}}class SwiperInitializerController extends Controller{constructor(){super(...arguments);Ho(this,"swiper",null)}connect(){this.swiper=new Swiper(this.element,this.swiperOptionsValue)}}Ho(SwiperInitializerController,"values",{swiperOptions:Object});class TabNavigationController extends Controller{constructor(){super(...arguments);Ho(this,"activeTab",null)}connect(){this.activeTab=this.tabContentTarget.querySelector(".show.active")}onInputChange(){this._disableButtonIfTabIsRequired(this.activeTab)}goBack(){this.currentIndexValue--,this.submitTarget.classList.add("d-none"),this.nextTarget.classList.remove("d-none"),this.currentIndexValue==1&&this.previousTarget.classList.add("d-none"),this.navUlTarget.querySelectorAll("li.nav-item > a").forEach(rs=>rs.classList.remove("active")),this.tabContentTarget.querySelectorAll(".tab-pane").forEach(rs=>{rs.classList.remove("show"),rs.classList.remove("active")});let[Ri,ts]=this._elementsToActivate();ts.classList.add("active"),Ri.classList.add("active"),Ri.classList.add("show"),this._disableButtonIfTabIsRequired(Ri),this.activeTab=Ri}goForward(){this.currentIndexValue++,this.currentIndexValue==this.maxIndexValue&&(this.submitTarget.classList.remove("d-none"),this.nextTarget.classList.add("d-none")),this.previousTarget.classList.remove("d-none"),this.navUlTarget.querySelectorAll("li.nav-item > a").forEach(rs=>rs.classList.remove("active")),this.tabContentTarget.querySelectorAll(".tab-pane").forEach(rs=>{rs.classList.remove("active"),rs.classList.remove("show")});let[Ri,ts]=this._elementsToActivate();ts.classList.add("active"),Ri.classList.add("active"),Ri.classList.add("show"),this._disableButtonIfTabIsRequired(Ri),this.activeTab=Ri}_elementsToActivate(){let Ri=`#${this.idPrefixValue}${this.currentIndexValue}`,ts=findElement$1(this.tabContentTarget,Ri),rs=findElement$1(this.navUlTarget,`.nav-item > a[data-bs-target="${Ri}"]`);return this.activeTab=ts,[ts,rs]}_disableButtonIfTabIsRequired(Ri){var is;let ts;if(Ri.dataset.answerType)switch(Ri.dataset.answerType){case"freeform":ts=!!((is=Ri.querySelector("textarea"))!=null&&is.value);break;case"multiple":ts=Array.from(Ri.querySelectorAll('input[type="checkbox"]')).some(ns=>ns.checked);break;case"single":ts=Array.from(Ri.querySelectorAll('input[type="radio"]')).some(ns=>ns.checked);break;case"upload":ts=!!Ri.querySelector("ul.dropzone-previews > li");break;default:ts=!1;break}let rs=Ri.dataset.required==="true";this.currentIndexValue==this.maxIndexValue?this.submitTarget.disabled=!ts&&rs:this.nextTarget.disabled=!ts&&rs}}Ho(TabNavigationController,"targets",["next","previous","submit","navUl","tabContent"]),Ho(TabNavigationController,"values",{currentIndex:Number,idPrefix:String,maxIndex:Number});class TabSetterController extends Controller{setTab(ki){this.labelTarget.innerText=ki.target.innerText,this.tabTargets.forEach(Ri=>{Ri.classList.contains(ki.params.item)?(Ri.classList.add("active"),localStorage.setItem("selectedTabItem",ki.params.item)):Ri.classList.remove("active")})}tabTargetConnected(ki){const Ri=localStorage.getItem("selectedTabItem");Ri&&(ki.classList.contains(Ri)?ki.classList.add("active"):ki.classList.remove("active"),Ri==="order-invoice-js"?this.labelTarget.innerText=this.orderInvoiceTextValue:Ri==="listing-details-js"?this.labelTarget.innerText=this.listingDetailsTextValue:this.labelTarget.innerText=this.orderStatusTextValue)}}Ho(TabSetterController,"targets",["tab","label","details_footer","details_header","details_dropdown"]),Ho(TabSetterController,"values",{orderInvoiceText:String,orderStatusText:String,listingDetailsText:String,listingStateBoolean:Boolean});class TiktokOauthModalController extends Controller{connect(){this.modelEl=document.getElementById("tiktok-oauth-modal"),this.modal=this.modelEl?new Modal(this.modelEl):null,this.modal&&this.shouldAutoShow()&&(this.showModal(),this.setHideUntilNextLogin())}shouldAutoShow(){if(!this.lastLoginValue||!this.userAuthWithTiktokNonBusinessValue)return!1;if(!window.localStorage)return!0;let ki=localStorage.getItem("hide-tiktok-oauth-modal");if(!ki)return!0;let[Ri,ts]=ki.split(":");if(Ri==="until-next-login")return parseInt(ts)<this.lastLoginValue;if(Ri==="always")return!1}showModal(){this.modal.show()}setHideUntilNextLogin(){localStorage.setItem("hide-tiktok-oauth-modal","until-next-login:"+(this.lastLoginValue+604800))}}Ho(TiktokOauthModalController,"values",{lastLogin:Number,userAuthWithTiktokNonBusiness:Boolean});const CSS_CLASSES="toast align-items-center text-white shadow border-0 rounded-1 mb-1 fade hide".split(" ");class ToastController extends Controller{connect(){var ki,Ri;for(let ts of CSS_CLASSES)(Ri=(ki=this.toastTarget)==null?void 0:ki.classList)==null||Ri.add(ts);this.fadeOut()}async fadeOut(){var Ri,ts,rs,is,ns,ss,os,ls,cs,hs,us,As,bs,ys,Cs;let ki=this.durationValue||3e3;(ts=(Ri=this.toastTarget)==null?void 0:Ri.classList)==null||ts.remove("hide"),(is=(rs=this.toastTarget)==null?void 0:rs.classList)==null||is.add("show"),(ss=(ns=this.toastTarget)==null?void 0:ns.classList)==null||ss.add("showing"),await sleep(150),(ls=(os=this.toastTarget)==null?void 0:os.classList)==null||ls.remove("showing"),await sleep(ki),(hs=(cs=this.toastTarget)==null?void 0:cs.classList)==null||hs.add("showing"),await sleep(150),(As=(us=this.toastTarget)==null?void 0:us.classList)==null||As.add("hide"),(ys=(bs=this.toastTarget)==null?void 0:bs.classList)==null||ys.remove("show"),(Cs=this.toastTarget)==null||Cs.remove()}}Ho(ToastController,"targets",["toast"]),Ho(ToastController,"values",{duration:Number});class TooltipInitController extends Controller{connect(){let ki=findElement$1(this.element,'[data-bs-toggle="tooltip"]');new Tooltip(ki,{container:this.element}),this.element.removeAttribute("data-controller")}}class TurboFrameLoaderController extends Controller{constructor(){super(...arguments);Ho(this,"bootstrapOffCanvas",null)}connect(){this.hasOffcanvasTarget&&(this.bootstrapOffCanvas=new Offcanvas(this.offcanvasTarget),this.offcanvasTarget.addEventListener("hidden.bs.offcanvas",this.resetLoader.bind(this)),this.element.addEventListener("turbo:submit-end",Ri=>{this.hideCanvasOnSuccessValue&&Ri.detail.fetchResponse.statusCode===200&&this.eventUrlValidForClose(Ri)&&this.bootstrapOffCanvas.hide()}))}resetLoader(){this.frameTarget.innerHTML=this.loaderTemplateTarget.innerHTML}setFrameSrcAndId(Ri){var ls,cs;let{target:ts}=Ri;if(ts.dataset.stopParentAction==="true"){this.bootstrapOffCanvas.hide();return}let rs=Ri.currentTarget.dataset.offcanvasTitle,is=(ls=Ri.currentTarget.dataset)==null?void 0:ls.offcanvasBodyPadding,ns=(cs=Ri.currentTarget.dataset)==null?void 0:cs.removeBodyPadding;rs&&this.hasOffcanvasTitleTarget&&(this.offcanvasTitleTarget.innerText=rs),is&&ns==="false"&&this.offcanvasBodyPaddingTarget.classList.add(is),is&&ns==="true"&&this.offcanvasBodyPaddingTarget.classList.remove(is);let ss=Ri.currentTarget.dataset.path,os=Ri.currentTarget.dataset.turboFrameIdentifier;this.hasFrameTarget&&ss&&os&&this.setFrameSrcAndIdDebounced(ss,os)}setFrameSrcAndIdDebounced(Ri,ts){lodashExports.debounce(()=>{this.frameTarget.id=ts,this.frameTarget.src=Ri,this.frameTarget.reload()},500)()}eventUrlValidForClose(Ri){if(this.hasCloseFormSubmitPathValue)return new URL(Ri.detail.fetchResponse.response.url).pathname===this.closeFormSubmitPathValue}}Ho(TurboFrameLoaderController,"targets",["frame","offcanvas","loaderTemplate","offcanvasTitle","offcanvasBodyPadding"]),Ho(TurboFrameLoaderController,"values",{hideCanvasOnSuccess:!1,closeFormSubmitPath:String});class UploadManager{constructor({uploadProgressCallback:ki}={}){this.uploadsByTemporaryId=new Map,this.uploadsCompleteCallback=null,this.uploadProgressCallback=ki}get countPreBlobUploads(){return Array.from(this.uploadsByTemporaryId.values()).filter(ki=>ki.isPreBlob).length}get countUploading(){return this.uploadsUploading.length}get uploadsUploading(){return Array.from(this.uploadsByTemporaryId.values()).filter(ki=>!ki.uploaded)}get totalPercentageUploaded(){let ki=this.uploadsUploading;return ki.length===0?this.uploadsByTemporaryId.size>0?100:0:ki.reduce((Ri,ts)=>Ri+ts.progress,0)/ki.length}startUpload(ki,Ri={}){this.uploadsCompleteCallback=Ri.uploadsCompleteCallback;const ts=new Upload(ki,Object.assign(Ri,{manager:this}));return this.uploadsByTemporaryId.set(ts.temporaryId,ts),ts.start(),ts}onLearnedKeyForTemporaryId(ki,Ri){let ts=this.uploadsByTemporaryId.get(ki);return ts.setKey(Ri),ts}onUploadComplete(ki){this.countUploading>0||this.onAllUploadsComplete(ki)}async onAllUploadsComplete(ki){if(!this.uploadsCompleteCallback)return;let Ri=Object.assign({},ki.context,{signed_id:ki.signedId});Ri.signed_ids=Array.from(this.uploadsByTemporaryId.values()).map(is=>is.signedId);let ts=this.uploadsCompleteCallback.mode==="json",rs=await post(this.uploadsCompleteCallback.url,{body:Ri,responseKind:ts?"json":"turbo-stream"});if(ts){let is=await rs.json;is.redirect_path&&(window.location.href=is.redirect_path)}}}class Upload{constructor(ki,Ri){if(this.status="initializing",this.temporaryId=`turbo-uploader-file-tmp-id-${crypto.randomUUID()}`,this.file=ki,this.options=Ri||{},this.context=this.options.context||{},this.manager=this.options.manager,this.key=null,this.signedId=null,this.progress=0,this.uploaded=!1,this.uploadCompleteCallback=this.options.uploadCompleteCallback??null,!this.directUploadUrl)throw new Error("options.directUploadUrl is required")}get isPreBlob(){return!this.key}get directUploadUrl(){return`${this.options.directUploadUrl}&temporary_id=${this.temporaryId}&context_type=${this.context.type}`}setKey(ki){this.key=ki}start(){this.status==="initializing"&&(this.directUploadController=new DirectUploadController$1(this),this.directUploadController.start())}onUploadingBegan(ki){ki.upload.addEventListener("progress",Ri=>this.onUploadProgress(Ri))}onUploadProgress(ki){this.progress=Math.floor(ki.loaded/ki.total*100),this.manager.uploadProgressCallback&&this.manager.uploadProgressCallback({upload:this,key:this.key,progress:this.progress,event:ki})}async onUploadComplete(ki){this.signedId=ki.signed_id,this.key=ki.key,this.uploaded=!0,await post(this.uploadCompleteCallback||`/turbo_upload/${this.signedId}/after_uploaded`,{body:{blob_signed_id:this.signedId,context:this.context},responseKind:"turbo-stream"}),this.manager.onUploadComplete(this)}}let DirectUploadController$1=class{constructor(ki){this.upload=ki,this.directUpload=new DirectUpload$1(ki.file,ki.directUploadUrl,this)}start(){this.directUpload.create((ki,Ri)=>{if(ki)throw new Error(ki);this.upload.onUploadComplete(Ri)})}directUploadWillStoreFileWithXHR(ki){this.upload.onUploadingBegan(ki)}};class TurboUploaderController extends Controller{constructor(){super(...arguments);Ho(this,"fileElementByKey",new Map)}getContext(){var Ri;return(Ri=this.configValue)==null?void 0:Ri.context}getContextType(){var Ri;return(Ri=this.getContext())==null?void 0:Ri.type}getHiddenInputFileName(){var Ri;return(Ri=this.configValue)==null?void 0:Ri.hidden_input_file_name}get acceptedFilesFeature(){var Ri;return((Ri=this.configValue)==null?void 0:Ri.accepted_files_feature)||this.getContextType()}get maxFiles(){var Ri;return(Ri=this.configValue)==null?void 0:Ri.max_files}get minFiles(){var Ri;return((Ri=this.configValue)==null?void 0:Ri.min_files)||0}get uploadsCompleteCallback(){var Ri;return(Ri=this.configValue)==null?void 0:Ri.uploads_complete_callback}get uploadCompleteCallback(){var Ri;return(Ri=this.configValue)==null?void 0:Ri.upload_complete_callback}get currentFilesCount(){return this.fileTargets.length+this.uploadManager.countPreBlobUploads}refreshUploadButtonsEnabled(){if(this.maxFiles>0)for(let Ri of this.uploadButtonTargets)Ri.disabled=this.currentFilesCount>=this.maxFiles}refreshIsUploadingUI(){let Ri=this.uploadManager.countUploading>0;for(let ts of this.showWhileUploadingTargets)ts.classList[Ri?"remove":"add"]("d-none");for(let ts of this.hideWhileUploadingTargets)ts.classList[Ri?"add":"remove"]("d-none")}refreshShowZeroFilesUI(){let Ri=this.currentFilesCount>0;for(let rs of this.showWhenZeroFilesTargets)rs.classList[Ri?"add":"remove"]("d-none");for(let rs of this.showWhenSomeFilesTargets)rs.classList[Ri?"remove":"add"]("d-none");let ts=this.element.querySelectorAll("[data-turbo-uploader-css-only-when-zero-files]");for(let rs of ts)rs.dataset.turboUploaderCssOnlyWhenZeroFiles.split(" ").forEach(ns=>rs.classList[Ri?"remove":"add"](ns))}refreshMinFilesValidation(){this.hasMinFilesEnforcerTarget&&(this.currentFilesCount>=this.minFiles?delete this.minFilesEnforcerTarget.dataset.required:this.minFilesEnforcerTarget.dataset.required="true")}initialize(){this.uploadManager=new UploadManager({uploadProgressCallback:this.onUploadProgress.bind(this)})}connect(){this.hideDropAreaVisualDebounced=lodashExports.debounce(this.hideDropAreaVisual.bind(this),100),this.hasInputUploadTarget&&(this.inputUploadTarget.accept=this.acceptedFiles),this.refreshUploadButtonsEnabled(),this.refreshShowZeroFilesUI(),this.refreshMinFilesValidation()}disconnect(){}inputUploadTargetConnected(){this.refreshAcceptedFileTypes()}inputParamNameTargetConnected(){this.hasInputParamNameTarget&&this.getHiddenInputFileName()&&(this.inputParamNameTarget.name=this.getHiddenInputFileName())}refreshAcceptedFileTypes(){this.hasInputUploadTarget&&(this.inputUploadTarget.accept=this.acceptedFiles)}get acceptedFiles(){return getAcceptedFilesFromFeature(this.acceptedFilesFeature)}fileTargetConnected(Ri){let{key:ts,temporaryId:rs}=Ri.dataset;this.fileElementByKey.set(ts,Ri),rs&&this.uploadManager.onLearnedKeyForTemporaryId(rs,ts),this.refreshUploadButtonsEnabled(),this.refreshShowZeroFilesUI(),this.refreshMinFilesValidation(),emit("turboUploader:filesCountChanged")}fileTargetDisconnected(){this.refreshUploadButtonsEnabled(),this.refreshShowZeroFilesUI(),this.refreshMinFilesValidation(),emit("turboUploader:filesCountChanged")}onUploadProgress(Ri){let{key:ts,progress:rs}=Ri;if(!ts)return;let is=this.fileElementByKey.get(ts);if(!is)return;let ns=is.querySelector("[data-progress]");ns&&(ns.innerText=`${rs}%`);let{totalPercentageUploaded:ss}=this.uploadManager;for(let os of this.totalPercentageTargets)os.innerText=`${ss}%`}showDropAreaVisual(){this.hideDropAreaVisualDebounced.cancel(),this.dropAreaVisualTarget.classList.remove("invisible")}hideDropAreaVisual(){this.dropAreaVisualTarget.classList.add("invisible")}pickFiles(){this.inputUploadTarget.click()}pickFilesIfBelowMax(){this.currentFilesCount>=this.maxFiles||this.pickFiles()}onFilesPicked(){[...this.inputUploadTarget.files].forEach(Ri=>{this.startUpload(Ri)})}onFilesDropped(Ri){Ri.preventDefault(),this.hideDropAreaVisual(),[...Ri.dataTransfer.files].forEach(ts=>{this.startUpload(ts)})}onFilesDragEnter(){this.showDropAreaVisual()}onFilesDragOver(Ri){Ri.preventDefault(),this.showDropAreaVisual()}onFilesDragLeave(){this.hideDropAreaVisualDebounced()}get directUploadUrl(){return this.element.getAttribute("data-direct-upload-url")}startUpload(Ri){if(this.acceptedFiles&&!this.acceptedFiles.includes(Ri.type)){showToast("danger",`You can't upload files of this type: ${Ri.name}`);return}if(this.currentFilesCount>=this.maxFiles){showToast("danger",`You have reached the max amount of attachable files: ${this.maxFiles}`);return}let ts=this.uploadManager.startUpload(Ri,{directUploadUrl:this.directUploadUrl,uploadCompleteCallback:this.uploadCompleteCallback,uploadsCompleteCallback:this.uploadsCompleteCallback,context:this.getContext()});this.refreshIsUploadingUI(),this.refreshShowZeroFilesUI();let rs=document.createElement("div");rs.id=ts.temporaryId,this.filesHolderTarget.appendChild(rs)}}Ho(TurboUploaderController,"targets",["dropAreaVisual","filesHolder","file","inputUpload","inputParamName","uploadButton","minFilesEnforcer","showWhileUploading","hideWhileUploading","showWhenZeroFiles","showWhenSomeFiles","totalPercentage"]),Ho(TurboUploaderController,"values",{config:Object});class UnreadMessagesCountController extends Controller{badgeTargetConnected(){setTimeout(this.fetchUnreadMessagesCount.bind(this),500)}fetchUnreadMessagesCount(){get$1(this.badgeTarget.dataset.url,{responseKind:"html"})}}Ho(UnreadMessagesCountController,"targets",["badge"]);class UserTypeController extends Controller{onChange(ki){if(this.hasSubmitPathValue){let ts={usertype:ki.currentTarget.dataset.value,date:this.flatpickrDates};put(this.submitPathValue,{body:ts,responseKind:"turbo-stream"})}}get flatpickrElem(){return document.querySelector('[data-flatpickr-target="main"]')}get flatpickrDates(){if(this.flatpickrElem&&this.flatpickrElem._flatpickr){let{selectedDates:ki}=this.flatpickrElem._flatpickr;return{to:Math.round(+ki[1]/1e3),since:Math.round(+ki[0]/1e3)}}return{}}}Ho(UserTypeController,"values",{submitPath:String});class VerifyPhoneNumberFormController extends Controller{connect(){this.buttonTarget.setAttribute("disabled",!0),this.validateForm()}validateForm(){let ki=!1;return this.validateVerificationCode()?(ki=!0,this.buttonTarget.removeAttribute("disabled")):this.buttonTarget.setAttribute("disabled",!0),ki}validateVerificationCode(){const ki=this.verificationCodeTarget.value;return ki&&ki.length>=4}}Ho(VerifyPhoneNumberFormController,"targets",["verificationCode","button"]);class UpdateButtonTextController extends Controller{call(){this.urlValue==""&&(this.copyButtonTarget.innerHTML=this.data.get("updatedText"))}}Ho(UpdateButtonTextController,"targets",["copyButton"]),Ho(UpdateButtonTextController,"values",{url:String});const FILE_NAME="recording.webm";class VideoRecordController extends Controller{connect(){this.existingFileNameValue||this.disableSubmitButtons(),this.waitVideoJSReady()}disconnect(){clearTimeout(this.waitVideoJSReadyPointer),this.player&&this.player.record().destroy()}waitVideoJSReady(){window.videojs?this.setupVideoJS():this.waitVideoJSReadyPointer=setTimeout(()=>{this.waitVideoJSReady()},50)}setupVideoJS(){let{videojs:ki}=window,Ri={controls:!0,bigPlayButton:!1,loop:!1,fluid:!1,width:320,height:240,plugins:{record:{image:!1,audio:!0,video:!0,maxLength:180,videoMimeType:"video/webm",audioMimeType:"audio/wav",debug:!0}}};this.player=ki(this.videoTarget,Ri,()=>{const ts="Using video.js "+ki.VERSION+" with videojs-record "+ki.getPluginVersion("record");ki.log(ts)}),this.player.one("deviceReady",()=>{this.player.record().enumerateDevices(),this.beforeGrantTarget.classList.add("d-none"),this.afterGrantTarget.classList.remove("d-none")}),this.player.on("enumerateReady",()=>{this.player.record().devices.forEach(rs=>{let is=document.createElement("option");is.value=rs.deviceId,is.text=rs.label||"unknown ",rs.kind==="audioinput"?this.dropdownMicTarget.appendChild(is):rs.kind==="videoinput"&&this.dropdownCamTarget.appendChild(is)}),this.dropdownCamTarget.removeAttribute("disabled"),this.dropdownMicTarget.removeAttribute("disabled")}),this.player.on("finishRecord",()=>{let ts=new File([this.player.recordedData],FILE_NAME);this.onRecordingFinished(ts)})}get url(){return this.directUploadPathValue}changeCam(ki){let Ri=ki.target.value;this.player.record().setVideoInput(Ri)}changeMic(ki){let Ri=ki.target.value;this.player.record().setAudioInput(Ri)}onRecordingFinished(ki){new DirectUploadControllerVideoRecorder(ki,this.url,this)}submitButtons(){return document.querySelectorAll('button[type="submit"].disabled-while-creating.saving')}disableSubmitButtons(){let ki=this.submitButtons();ki.length&&ki.forEach(Ri=>Ri.classList.add("disabled"))}enableSubmitButtons(){let ki=this.submitButtons();ki.length&&ki.forEach(Ri=>Ri.classList.remove("disabled"))}softDeletePreview(){this.disableSubmitButtons(),this.uploadInputTarget.value="",this.previewTarget.classList.add("d-none")}}Ho(VideoRecordController,"targets",["dropdownCam","dropdownMic","uploadInput","preview","fileName","fileSize","afterGrant","beforeGrant","fileType","hardDeleteButton","softDeleteButton","video"]),Ho(VideoRecordController,"values",{directUploadPath:String,existingFileName:String});class DirectUploadControllerVideoRecorder{constructor(ki,Ri,ts){this.file=ki,this.url=Ri,this.stimulusController=ts,this.directUpload=new DirectUpload$1(ki,this.url,this),this.start()}start(){this.stimulusController.disableSubmitButtons(),this.stimulusController.fileNameTarget.innerText=FILE_NAME,this.stimulusController.fileTypeTarget.src=`/mimetypes/${lodashExports.last(lodashExports.split(FILE_NAME,"."))}.png`,this.stimulusController.previewTarget.classList.remove("d-none"),this.stimulusController.hasHardDeleteButtonTarget||this.stimulusController.softDeleteButtonTarget.classList.remove("d-none"),this.directUpload.create((ki,Ri)=>{if(ki)throw new Error(ki);this.stimulusController.uploadInputTarget.value=Ri.signed_id})}directUploadWillStoreFileWithXHR(ki){ki.upload.addEventListener("progress",Ri=>this.directUploadDidProgress(Ri))}directUploadDidProgress(ki){const Ri=Math.floor(ki.loaded/ki.total*100);let ts=`Uploading ${Ri}%`;console.log("Uploading",Ri,ki),Ri===100&&(ts=formatBytes(this.file.size),this.stimulusController.enableSubmitButtons()),this.stimulusController.fileSizeTarget.innerText=ts}}class ViewingAsController extends Controller{submit(){this.element.submit()}disconnect(){this.element.remove()}}class ViewportClassTogglerController extends Controller{connect(){const ki={root:null,rootMargin:"0px",threshold:this.thresholdValue};this.intersectionObserver=new IntersectionObserver(ts=>{ts.forEach(rs=>{rs.isIntersecting?this.element.classList.add(this.cssValue):this.element.classList.remove(this.cssValue)})},ki);let Ri=this.element;Ri.classList.contains("hide-without-animation")&&(Ri=this.element.parentElement),this.intersectionObserver.observe(Ri)}}Ho(ViewportClassTogglerController,"values",{css:String,threshold:Number});class WizardController extends Controller{connect(){this.scrollBody=document.querySelector("main"),this.scrollHandler=this._scrollHandler.bind(this),this.scrollBody.addEventListener("scroll",this.scrollHandler)}disconnect(){this.scrollBody.removeEventListener("scroll",this.scrollHandler)}_scrollHandler(){const ki=this.scrollBody.scrollTop||this.scrollBody.pageYOffset,Ri=10,ts=20;ki>Ri?this.titleTarget.classList.add("opacity-0"):this.titleTarget.classList.remove("opacity-0"),ki>ts?this.avatarTarget.classList.add("org-avatar-shrink"):this.avatarTarget.classList.remove("org-avatar-shrink")}}Ho(WizardController,"targets",["avatar","title"]);application.register("accordion-helper",AccordionHelperController);application.register("admin-review-delivery",AdminReviewDeliveryController);application.register("advance-select",AdvanceSelectController);application.register("agency",AgencyController);application.register("ai-advanced-image-select",AiAdvancedImageSelectController);application.register("ai-aspect-ratio-slider",AiAspectRatioSliderController);application.register("ai-assistant",AiAssistantController);application.register("ai-audio",AiAudioController);application.register("ai-audio-recorder",AiAudioRecorderController);application.register("ai-auto-generate",AiAutoGenerateController);application.register("ai-blocked-query-modal",AiBlockedQueryModalController);application.register("ai-control-generate-button",AiControlGenerateButtonController);application.register("ai-grid",AiGridController);application.register("ai-hint",AiHintController);application.register("ai-histories",AiHistoriesController);application.register("ai-image-count-subscription-pop-up",AiImageCountSubscriptionPopUpController);application.register("ai-image-prompts",AiImagePromptsController);application.register("ai-image-variant",AiImageVariantController);application.register("ai-manage-show-toggler",AiManageShowTogglerController);application.register("ai-mixers",AiMixersController);application.register("ai-right-panel-options-toggler",AiRightPanelOptionsTogglerController);application.register("ai-saved-prompts",AiSavedPromptsController);application.register("ai-showcase-index",AiShowcaseIndexController);application.register("ai-step-context",AiStepContextController);application.register("animate-out-setter",AnimateOutSetterController);application.register("announcement-form-ai-modal",AnnouncementFormAiModalController);application.register("assistant-persona",AssistantPersonaController);application.register("audio-player",AudioPlayerController);application.register("auto-cycle-images",AutoCycleImagesController);application.register("auto-cycle-texts",AutoCycleTextsController);application.register("auto-decline-radio-disable",AutoDeclineRadioDisableController);application.register("auto-grow-textarea",AutoGrowTextareaController);application.register("autocomplete-search",AutocompleteSearchController);application.register("automatic-add-class-on-breakpoint",AutomaticAddClassOnBreakpointController);application.register("automplete-search-results",AutompleteSearchResultsController);application.register("autoscroll",AutoscrollController);application.register("brand-fetch",BrandFetchController);application.register("bugsnag-performance",BugsnagPerformanceController);application.register("bulk-actions",BulkActionsController);application.register("cancel-order",CancelOrderController);application.register("challenge-visibility",ChallengeVisibilityController);application.register("change-create-prompt",ChangeCreatePromptController);application.register("change-password-form",ChangePasswordFormController);application.register("change-phone-number-form",ChangePhoneNumberFormController);application.register("change-request-fields",ChangeRequestFieldsController);application.register("change-requests-turbo",ChangeRequestsTurboController);application.register("character-counter",CharacterCounterController);application.register("character-watcher",CharacterWatcherController);application.register("chat-form",ChatFormController);application.register("chat-scroll",ChatScrollController);application.register("class-adder",ClassAdderController);application.register("class-animation-toggler",ClassAnimationTogglerController);application.register("class-toggler",ClassTogglerController);application.register("click",ClickController);application.register("community-showcase-modal",CommunityShowcaseModalController);application.register("compensation-filter",CompensationFilterController);application.register("compensations",CompensationsController);application.register("composer",ComposerController);application.register("connection-fetching",ConnectionFetchingController);application.register("contract-form-validate",ContractFormValidateController);application.register("conversation",ConversationController);application.register("copy-to-clipboard",CopyToClipboardController);application.register("cover-image-step",CoverImageStepController);application.register("create-ai-video",CreateAiVideoController);application.register("create-select",CreateSelectController);application.register("creator-membership",CreatorMembershipController);application.register("creator-requests",CreatorRequestsController);application.register("datatable-columns",DatatableColumnsController);application.register("datatable-export",DatatableExportController);application.register("detect-ai-prompt-limit-exceeded",DetectAiPromptLimitExceededController);application.register("dismiss-offcanvas-on-turbo-render",DismissOffcanvasOnTurboRenderController);application.register("doc-export",DocExportController);application.register("download-file",DownloadFileController);application.register("dreamscale",DreamscaleController);application.register("dropdown",DropdownController);application.register("dropzone",DropzoneController);application.register("el-clicker",ElClickerController);application.register("enable-button-when-checkbox-checked",EnableButtonWhenCheckboxCheckedController);application.register("export-copy-to-clipboard",ExportCopyToClipboardController);application.register("flatpickr",FlatpickrController);application.register("flow-dashboard",FlowDashboardController);application.register("flow-status",FlowStatusController);application.register("focus",FocusController);application.register("forgot-password-form",ForgotPasswordFormController);application.register("forgot-password-verification-form",ForgotPasswordVerificationFormController);application.register("form-auto-submit-on-change",FormAutoSubmitOnChangeController);application.register("form-validate",FormValidateController);application.register("forms-helper",FormsHelperController);application.register("get-started",GetStartedController);application.register("glightbox",GlightboxController);application.register("gradient-animation",GradientAnimationController);application.register("highcharts",HighchartsController);application.register("hubspot-chat",HubspotChatController);application.register("image-upload",ImageUploadController);application.register("intro-tutorial",IntroTutorialController);application.register("label-animator",LabelAnimatorController);application.register("legal-disclaimer-init",LegalDisclaimerInitController);application.register("listing-category-change",ListingCategoryChangeController);application.register("listing",ListingController);application.register("listing-prefill-change",ListingPrefillChangeController);application.register("listing-tile",ListingTileController);application.register("location-filter",LocationFilterController);application.register("location-reloader",LocationReloaderController);application.register("locked-ai-assistant-membership-modal",LockedAiAssistantMembershipModalController);application.register("locked-ai-model-membership-modal",LockedAiModelMembershipModalController);application.register("log-in-form",LogInFormController);application.register("lottie",LottieController);application.register("message-actions",MessageActionsController);application.register("message",MessageController);application.register("missing-image-handler",MissingImageHandlerController);application.register("mobile-view-port-handler",MobileViewPortHandlerController);application.register("modal",ModalController);application.register("nested-form",NestedFormController);application.register("next-disabler",NextDisablerController);application.register("offset-parallax",OffsetParallaxController);application.register("opportunity-attachments",OpportunityAttachmentsController);application.register("opportunity-prefill-change",OpportunityPrefillChangeController);application.register("order-addendum",OrderAddendumController);application.register("order-summary-change",OrderSummaryChangeController);application.register("other-field",OtherFieldController);application.register("page-notification",PageNotificationController);application.register("password-complexity",PasswordComplexityController);application.register("pause-video-outside-viewport",PauseVideoOutsideViewportController);application.register("paypal-modal",PaypalModalController);application.register("phone-verification-modal",PhoneVerificationModalController);application.register("pitch-review",PitchReviewController);application.register("pitch-decline-reason",PitchDeclineReasonController);application.register("pitch-table-row",PitchTableRowController);application.register("pitch-video",PitchVideoController);application.register("plan-update",PlanUpdateController);application.register("progress-bar",ProgressBarController);application.register("range-cadence",RangeCadenceController);application.register("range-slider",RangeSliderController);application.register("redirect-on-connect",RedirectOnConnectController);application.register("remote-modal",RemoteModalController);application.register("remote-offcanvas",RemoteOffcanvasController);application.register("remove-conditionally",RemoveConditionallyController);application.register("replace-history-location",ReplaceHistoryLocationController);application.register("reset-inputmask",ResetInputmaskController);application.register("reset-tomselect",ResetTomselectController);application.register("rich-text-toolbar",RichTextToolbarController);application.register("search",SearchController);application.register("show-help-document",ShowHelpDocumentController);application.register("showhide",ShowhideController);application.register("simple-parallax",SimpleParallaxController);application.register("single-range-slider",SingleRangeSliderController);application.register("spoke-language",SpokeLanguageController);application.register("stick-it",StickItController);application.register("stripe-payment-method",StripePaymentMethodController);application.register("svelte-component",SvelteComponentController);application.register("swiper-initializer",SwiperInitializerController);application.register("tab-navigation",TabNavigationController);application.register("tab-setter",TabSetterController);application.register("tiktok-oauth-modal",TiktokOauthModalController);application.register("toast",ToastController);application.register("tooltip-init",TooltipInitController);application.register("turbo-frame-loader",TurboFrameLoaderController);application.register("turbo-uploader",TurboUploaderController);application.register("unread-messages-count",UnreadMessagesCountController);application.register("user-type",UserTypeController);application.register("verify-phone-number-form",VerifyPhoneNumberFormController);application.register("update-button-text",UpdateButtonTextController);application.register("video-record",VideoRecordController);application.register("viewing-as",ViewingAsController);application.register("viewport-class-toggler",ViewportClassTogglerController);application.register("wizard",WizardController);addEventListener("direct-upload:initialize",es=>{const{target:ki,detail:Ri}=es,{id:ts,file:rs}=Ri;ki.insertAdjacentHTML("beforebegin",`
    <div id="direct-upload-${ts}" class="direct-upload direct-upload--pending">
      <div id="direct-upload-progress-${ts}" class="direct-upload__progress" style="width: 0%"></div>
      <span class="direct-upload__filename"></span>
    </div>
  `),ki.previousElementSibling.querySelector(".direct-upload__filename").textContent=rs.name});addEventListener("direct-upload:start",es=>{const{id:ki}=es.detail;document.getElementById(`direct-upload-${ki}`).classList.remove("direct-upload--pending"),disableFormButtons()});addEventListener("direct-upload:progress",es=>{const{id:ki,progress:Ri}=es.detail,ts=document.getElementById(`direct-upload-progress-${ki}`);ts.style.width=`${Ri}%`});addEventListener("direct-upload:error",es=>{es.preventDefault();const{id:ki,error:Ri}=es.detail,ts=document.getElementById(`direct-upload-${ki}`);ts.classList.add("direct-upload--error"),ts.setAttribute("title",Ri),enableFormButtons()});addEventListener("direct-upload:end",es=>{const{id:ki}=es.detail;document.getElementById(`direct-upload-${ki}`).classList.add("direct-upload--complete"),enableFormButtons()});function disableFormButtons(){const es=document.getElementById("attachment-cancel-button"),ki=document.getElementById("attachment-submit-button");es&&es.setAttribute("disabled",""),ki&&ki.setAttribute("disabled","")}function enableFormButtons(){const es=document.getElementById("attachment-cancel-button"),ki=document.getElementById("attachment-submit-button");es&&es.removeAttribute("disabled",""),ki&&ki.removeAttribute("disabled","")}class TurboChannel extends Channel{constructor(ki,Ri,ts){super(ts),this.element=ki,this.channelId=Ri}set channelId(ki){this._channelId=ki}get channelId(){return this._channelId}}Ho(TurboChannel,"identifier","__turbo__");function walk(es){return!es||typeof es!="object"||es instanceof Date||es instanceof RegExp?es:Array.isArray(es)?es.map(walk):Object.keys(es).reduce((ki,Ri)=>{let ts=Ri[0].toLowerCase()+Ri.slice(1).replace(/([A-Z]+)/g,(rs,is)=>"_"+is.toLowerCase());return ki[ts]=walk(es[Ri]),ki},{})}function isPreview(){return document.documentElement.hasAttribute("data-turbo-preview")}class TurboStreamSourceElement extends HTMLElement{async connectedCallback(){if(connectStreamSource(this),isPreview())return;let ki=this.constructor.cable,Ri=this.constructor.channelClass,ts=this.getAttribute("channel"),rs=this.getAttribute("signed-stream-name"),is=walk({...this.dataset});this.listeners=[],this.channel=new Ri(this,ts,{signed_stream_name:rs,...is}),this.listeners.push(this.channel.on("connect",()=>this.setAttribute("connected",""))),this.listeners.push(this.channel.on("disconnect",()=>this.removeAttribute("connected"))),this.listeners.push(this.channel.on("message",this.dispatchMessageEvent.bind(this))),ki.subscribe(this.channel)}disconnectedCallback(){if(disconnectStreamSource(this),this.channel){for(let ts of this.listeners)ts();this.listeners.length=0;let ki=this.channel,Ri=this.constructor.delayedUnsubscribe;Ri?setTimeout(()=>ki.disconnect(),Ri):ki.disconnect()}}dispatchMessageEvent(ki){let Ri=new MessageEvent("message",{data:ki});return this.dispatchEvent(Ri)}}Ho(TurboStreamSourceElement,"cable"),Ho(TurboStreamSourceElement,"channelClass"),Ho(TurboStreamSourceElement,"delayedUnsubscribe");const DEFAULT_SOCKET_HEADER="X-Socket-ID";function start$1(es,ki={}){let Ri=ki.tagName||"turbo-cable-stream-source",ts=ki.channelClass||TurboChannel,rs=ki.delayedUnsubscribe||0;rs===!0&&(rs=300);let is=class extends TurboStreamSourceElement{};if(is.cable=es,is.channelClass=ts,is.delayedUnsubscribe=rs,customElements.get(Ri)===void 0&&customElements.define(Ri,is),ki.requestSocketIDHeader){let ns=ki.requestSocketIDHeader===!0?DEFAULT_SOCKET_HEADER:ki.requestSocketIDHeader;document.addEventListener("turbo:before-fetch-request",ss=>{es.sessionId&&!ss.detail.fetchOptions.headers[ns]&&(ss.detail.fetchOptions.headers[ns]=es.sessionId)})}}const cable=createCable();let resetFunc,timer=0,currentStatus="",lastSeenUpdatedAt;const ONLINE_STATUS="online",OFFLINE_STATUS="offline",AWAY_STATUS="away",DELAY_IN_SECONDS=120,AppearanceChannel=()=>{consumer.subscriptions.create({channel:"AppearanceChannel"},{initialized(){},connected(){resetFunc=()=>this.resetTimer(this.uninstall),this.install(),window.addEventListener("turbo:load",()=>this.resetTimer())},disconnected(){this.uninstall()},rejected(){this.uninstall()},online(){this.perform(ONLINE_STATUS)},away(){let es=document.getElementById("conversation-detail");if(es){let ki=es.dataset.conversationId;this.perform("update_participant_last_read_at",{conversation_id:ki})}this.perform(AWAY_STATUS),this.setCurrentStatus(AWAY_STATUS)},uninstall(){document.getElementById("appearance_channel")||(clearTimeout(timer),this.perform(OFFLINE_STATUS),this.setCurrentStatus(OFFLINE_STATUS))},setLastSeenAt(){lastSeenUpdatedAt||(lastSeenUpdatedAt=new Date,this.performLastSeenAt());let es=new Date;lastSeenUpdatedAt.getTime()+DELAY_IN_SECONDS*1e3<es.getTime()&&(lastSeenUpdatedAt=new Date,this.performLastSeenAt())},performLastSeenAt(){this.perform("last_seen_at",{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone})},isOnline(){return currentStatus===ONLINE_STATUS},isVisible(){return document.visibilityState==="visible"},install(){window.removeEventListener("load",resetFunc),window.removeEventListener("DOMContentLoaded",resetFunc),window.removeEventListener("visibilitychange",resetFunc),window.removeEventListener("click",resetFunc),window.removeEventListener("focus",resetFunc),window.addEventListener("load",resetFunc),window.addEventListener("DOMContentLoaded",resetFunc),window.addEventListener("visibilitychange",resetFunc),window.addEventListener("click",resetFunc),window.addEventListener("focus",resetFunc),this.resetTimer()},resetTimer(){this.uninstall(),this.isVisible()&&(this.isOnline()||this.online(),this.setLastSeenAt(),this.setCurrentStatus(ONLINE_STATUS),this.resetAwayTimer())},resetAwayTimer(){clearTimeout(timer);const es=DELAY_IN_SECONDS*1e3;timer=setTimeout(this.away.bind(this),es)},setCurrentStatus(es){currentStatus=es},received(es){Array.from(document.getElementsByClassName(`user_${es.user_id}_online_status`)).forEach(Ri=>{Ri.classList.remove(es.old_status_class),Ri.classList.add(es.new_status_class)})}})};let isLoggedIn=document.getElementById("appearance_channel");isLoggedIn&&(AppearanceChannel(),start$1(cable));async function setup(){navigator.serviceWorker&&unregisterServiceWorkers()}function unregisterServiceWorkers(){navigator.serviceWorker.getRegistrations().then(function(es){for(let ki of es)ki.unregister()})}setup();var t="2.1.10";const e="[data-trix-attachment]",i={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},n={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,htmlAttributes:["language"],text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(es){return r(es.parentNode)===n[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(es){return r(es.parentNode)===n[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},r=es=>{var ki;return es==null||(ki=es.tagName)===null||ki===void 0?void 0:ki.toLowerCase()},o=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),s=o&&parseInt(o[1]);var a={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:s&&s>12,samsungAndroid:s&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:typeof InputEvent<"u"&&["data","getTargetRanges","inputType"].every(es=>es in InputEvent.prototype)},l={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption…",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL…",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"};const c=[l.bytes,l.KB,l.MB,l.GB,l.TB,l.PB];var u={prefix:"IEC",precision:2,formatter(es){switch(es){case 0:return"0 ".concat(l.bytes);case 1:return"1 ".concat(l.byte);default:let ki;this.prefix==="SI"?ki=1e3:this.prefix==="IEC"&&(ki=1024);const Ri=Math.floor(Math.log(es)/Math.log(ki)),ts=(es/Math.pow(ki,Ri)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(ts," ").concat(c[Ri])}}};const h="\uFEFF",d=" ",g=function(es){for(const ki in es){const Ri=es[ki];this[ki]=Ri}return this},m=document.documentElement,p=m.matches,f=function(es){let{onElement:ki,matchingSelector:Ri,withCallback:ts,inPhase:rs,preventDefault:is,times:ns}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const ss=ki||m,os=Ri,ls=rs==="capturing",cs=function(hs){ns!=null&&--ns==0&&cs.destroy();const us=A(hs.target,{matchingSelector:os});us!=null&&(ts==null||ts.call(us,hs,us),is&&hs.preventDefault())};return cs.destroy=()=>ss.removeEventListener(es,cs,ls),ss.addEventListener(es,cs,ls),cs},b=function(es){let{onElement:ki,bubbles:Ri,cancelable:ts,attributes:rs}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const is=ki??m;Ri=Ri!==!1,ts=ts!==!1;const ns=document.createEvent("Events");return ns.initEvent(es,Ri,ts),rs!=null&&g.call(ns,rs),is.dispatchEvent(ns)},v=function(es,ki){if((es==null?void 0:es.nodeType)===1)return p.call(es,ki)},A=function(es){let{matchingSelector:ki,untilNode:Ri}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(;es&&es.nodeType!==Node.ELEMENT_NODE;)es=es.parentNode;if(es!=null){if(ki==null)return es;if(es.closest&&Ri==null)return es.closest(ki);for(;es&&es!==Ri;){if(v(es,ki))return es;es=es.parentNode}}},y=es=>document.activeElement!==es&&x(es,document.activeElement),x=function(es,ki){if(es&&ki)for(;ki;){if(ki===es)return!0;ki=ki.parentNode}},C=function(es){var ki;if((ki=es)===null||ki===void 0||!ki.parentNode)return;let Ri=0;for(es=es.previousSibling;es;)Ri++,es=es.previousSibling;return Ri},E=es=>{var ki;return es==null||(ki=es.parentNode)===null||ki===void 0?void 0:ki.removeChild(es)},S=function(es){let{onlyNodesOfType:ki,usingFilter:Ri,expandEntityReferences:ts}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const rs=(()=>{switch(ki){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(es,rs,Ri??null,ts===!0)},R=es=>{var ki;return es==null||(ki=es.tagName)===null||ki===void 0?void 0:ki.toLowerCase()},k=function(es){let ki,Ri,ts=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof es=="object"?(ts=es,es=ts.tagName):ts={attributes:ts};const rs=document.createElement(es);if(ts.editable!=null&&(ts.attributes==null&&(ts.attributes={}),ts.attributes.contenteditable=ts.editable),ts.attributes)for(ki in ts.attributes)Ri=ts.attributes[ki],rs.setAttribute(ki,Ri);if(ts.style)for(ki in ts.style)Ri=ts.style[ki],rs.style[ki]=Ri;if(ts.data)for(ki in ts.data)Ri=ts.data[ki],rs.dataset[ki]=Ri;return ts.className&&ts.className.split(" ").forEach(is=>{rs.classList.add(is)}),ts.textContent&&(rs.textContent=ts.textContent),ts.childNodes&&[].concat(ts.childNodes).forEach(is=>{rs.appendChild(is)}),rs};let T;const w=function(){if(T!=null)return T;T=[];for(const es in n){const ki=n[es];ki.tagName&&T.push(ki.tagName)}return T},L=es=>N(es==null?void 0:es.firstChild),D=function(es){let{strict:ki}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{strict:!0};return ki?N(es):N(es)||!N(es.firstChild)&&function(Ri){return w().includes(R(Ri))&&!w().includes(R(Ri.firstChild))}(es)},N=es=>I(es)&&(es==null?void 0:es.data)==="block",I=es=>(es==null?void 0:es.nodeType)===Node.COMMENT_NODE,O=function(es){let{name:ki}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(es)return M(es)?es.data===h?!ki||es.parentNode.dataset.trixCursorTarget===ki:void 0:O(es.firstChild)},P=es=>v(es,e),F=es=>M(es)&&(es==null?void 0:es.data)==="",M=es=>(es==null?void 0:es.nodeType)===Node.TEXT_NODE,B={level2Enabled:!0,getLevel(){return this.level2Enabled&&a.supportsInputEvents?2:0},pickFiles(es){const ki=k("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});ki.addEventListener("change",()=>{es(ki.files),E(ki)}),E(document.getElementById(this.fileInputId)),document.body.appendChild(ki),ki.click()}};var _={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:`
`},j={bold:{tagName:"strong",inheritable:!0,parser(es){const ki=window.getComputedStyle(es);return ki.fontWeight==="bold"||ki.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:es=>window.getComputedStyle(es).fontStyle==="italic"},href:{groupTagName:"a",parser(es){const ki="a:not(".concat(e,")"),Ri=es.closest(ki);if(Ri)return Ri.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},W={getDefaultHTML:()=>`<div class="trix-button-row">
      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`.concat(l.bold,'" tabindex="-1">').concat(l.bold,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`).concat(l.italic,'" tabindex="-1">').concat(l.italic,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`).concat(l.strike,'" tabindex="-1">').concat(l.strike,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`).concat(l.link,'" tabindex="-1">').concat(l.link,`</button>
      </span>

      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`).concat(l.heading1,'" tabindex="-1">').concat(l.heading1,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`).concat(l.quote,'" tabindex="-1">').concat(l.quote,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`).concat(l.code,'" tabindex="-1">').concat(l.code,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`).concat(l.bullets,'" tabindex="-1">').concat(l.bullets,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`).concat(l.numbers,'" tabindex="-1">').concat(l.numbers,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`).concat(l.outdent,'" tabindex="-1">').concat(l.outdent,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`).concat(l.indent,'" tabindex="-1">').concat(l.indent,`</button>
      </span>

      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`).concat(l.attachFiles,'" tabindex="-1">').concat(l.attachFiles,`</button>
      </span>

      <span class="trix-button-group-spacer"></span>

      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`).concat(l.undo,'" tabindex="-1">').concat(l.undo,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`).concat(l.redo,'" tabindex="-1">').concat(l.redo,`</button>
      </span>
    </div>

    <div class="trix-dialogs" data-trix-dialogs>
      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
        <div class="trix-dialog__link-fields">
          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`).concat(l.urlPlaceholder,'" aria-label="').concat(l.url,`" required data-trix-input>
          <div class="trix-button-group">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(l.link,`" data-trix-method="setAttribute">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(l.unlink,`" data-trix-method="removeAttribute">
          </div>
        </div>
      </div>
    </div>`)};const U={interval:5e3};var V=Object.freeze({__proto__:null,attachments:i,blockAttributes:n,browser:a,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},fileSize:u,input:B,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:l,parser:_,textAttributes:j,toolbar:W,undo:U});class z{static proxyMethod(ki){const{name:Ri,toMethod:ts,toProperty:rs,optional:is}=q(ki);this.prototype[Ri]=function(){let ns,ss;var os,ls;return ts?ss=is?(os=this[ts])===null||os===void 0?void 0:os.call(this):this[ts]():rs&&(ss=this[rs]),is?(ns=(ls=ss)===null||ls===void 0?void 0:ls[Ri],ns?H.call(ns,ss,arguments):void 0):(ns=ss[Ri],H.call(ns,ss,arguments))}}}const q=function(es){const ki=es.match(J);if(!ki)throw new Error("can't parse @proxyMethod expression: ".concat(es));const Ri={name:ki[4]};return ki[2]!=null?Ri.toMethod=ki[1]:Ri.toProperty=ki[1],ki[3]!=null&&(Ri.optional=!0),Ri},{apply:H}=Function.prototype,J=new RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$");var K,G,Y;let $$1=class extends z{static box(){let ki=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return ki instanceof this?ki:this.fromUCS2String(ki==null?void 0:ki.toString())}static fromUCS2String(ki){return new this(ki,tt(ki))}static fromCodepoints(ki){return new this(et(ki),ki)}constructor(ki,Ri){super(...arguments),this.ucs2String=ki,this.codepoints=Ri,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(ki){return et(this.codepoints.slice(0,Math.max(0,ki))).length}offsetFromUCS2Offset(ki){return tt(this.ucs2String.slice(0,Math.max(0,ki))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(ki){return this.slice(ki,ki+1)}isEqualTo(ki){return this.constructor.box(ki).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}};const X=((K=Array.from)===null||K===void 0?void 0:K.call(Array,"👼").length)===1,Z=((G=" ".codePointAt)===null||G===void 0?void 0:G.call(" ",0))!=null,Q=((Y=String.fromCodePoint)===null||Y===void 0?void 0:Y.call(String,32,128124))===" 👼";let tt,et;tt=X&&Z?es=>Array.from(es).map(ki=>ki.codePointAt(0)):function(es){const ki=[];let Ri=0;const{length:ts}=es;for(;Ri<ts;){let rs=es.charCodeAt(Ri++);if(55296<=rs&&rs<=56319&&Ri<ts){const is=es.charCodeAt(Ri++);(64512&is)==56320?rs=((1023&rs)<<10)+(1023&is)+65536:Ri--}ki.push(rs)}return ki},et=Q?es=>String.fromCodePoint(...Array.from(es||[])):function(es){return(()=>{const ki=[];return Array.from(es).forEach(Ri=>{let ts="";Ri>65535&&(Ri-=65536,ts+=String.fromCharCode(Ri>>>10&1023|55296),Ri=56320|1023&Ri),ki.push(ts+String.fromCharCode(Ri))}),ki})().join("")};let it=0;class nt extends z{static fromJSONString(ki){return this.fromJSON(JSON.parse(ki))}constructor(){super(...arguments),this.id=++it}hasSameConstructorAs(ki){return this.constructor===(ki==null?void 0:ki.constructor)}isEqualTo(ki){return this===ki}inspect(){const ki=[],Ri=this.contentsForInspection()||{};for(const ts in Ri){const rs=Ri[ts];ki.push("".concat(ts,"=").concat(rs))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(ki.length?" ".concat(ki.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return $$1.box(this)}getCacheKey(){return this.id.toString()}}const rt=function(){let es=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ki=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(es.length!==ki.length)return!1;for(let Ri=0;Ri<es.length;Ri++)if(es[Ri]!==ki[Ri])return!1;return!0},ot=function(es){const ki=es.slice(0);for(var Ri=arguments.length,ts=new Array(Ri>1?Ri-1:0),rs=1;rs<Ri;rs++)ts[rs-1]=arguments[rs];return ki.splice(...ts),ki},st=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,at=function(){const es=k("input",{dir:"auto",name:"x",dirName:"x.dir"}),ki=k("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),Ri=k("form");Ri.appendChild(es),Ri.appendChild(ki);const ts=function(){try{return new FormData(Ri).has(ki.dirName)}catch{return!1}}(),rs=function(){try{return es.matches(":dir(ltr),:dir(rtl)")}catch{return!1}}();return ts?function(is){return ki.value=is,new FormData(Ri).get(ki.dirName)}:rs?function(is){return es.value=is,es.matches(":dir(rtl)")?"rtl":"ltr"}:function(is){const ns=is.trim().charAt(0);return st.test(ns)?"rtl":"ltr"}}();let lt=null,ct=null,ut=null,ht=null;const dt=()=>(lt||(lt=ft().concat(mt())),lt),gt=es=>n[es],mt=()=>(ct||(ct=Object.keys(n)),ct),pt=es=>j[es],ft=()=>(ut||(ut=Object.keys(j)),ut),bt=function(es,ki){vt(es).textContent=ki.replace(/%t/g,es)},vt=function(es){const ki=document.createElement("style");ki.setAttribute("type","text/css"),ki.setAttribute("data-tag-name",es.toLowerCase());const Ri=At();return Ri&&ki.setAttribute("nonce",Ri),document.head.insertBefore(ki,document.head.firstChild),ki},At=function(){const es=yt("trix-csp-nonce")||yt("csp-nonce");if(es){const{nonce:ki,content:Ri}=es;return ki==""?Ri:ki}},yt=es=>document.head.querySelector("meta[name=".concat(es,"]")),xt={"application/x-trix-feature-detection":"test"},Ct=function(es){const ki=es.getData("text/plain"),Ri=es.getData("text/html");if(!ki||!Ri)return ki==null?void 0:ki.length;{const{body:ts}=new DOMParser().parseFromString(Ri,"text/html");if(ts.textContent===ki)return!ts.querySelector("*")}},Et=/Mac|^iP/.test(navigator.platform)?es=>es.metaKey:es=>es.ctrlKey,St=es=>setTimeout(es,1),Rt=function(){let es=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ki={};for(const Ri in es){const ts=es[Ri];ki[Ri]=ts}return ki},kt=function(){let es=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ki=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object.keys(es).length!==Object.keys(ki).length)return!1;for(const Ri in es)if(es[Ri]!==ki[Ri])return!1;return!0},Tt=function(es){if(es!=null)return Array.isArray(es)||(es=[es,es]),[Dt(es[0]),Dt(es[1]!=null?es[1]:es[0])]},wt=function(es){if(es==null)return;const[ki,Ri]=Tt(es);return Nt(ki,Ri)},Lt=function(es,ki){if(es==null||ki==null)return;const[Ri,ts]=Tt(es),[rs,is]=Tt(ki);return Nt(Ri,rs)&&Nt(ts,is)},Dt=function(es){return typeof es=="number"?es:Rt(es)},Nt=function(es,ki){return typeof es=="number"?es===ki:kt(es,ki)};class It extends z{constructor(){super(...arguments),this.update=this.update.bind(this),this.selectionManagers=[]}start(){this.started||(this.started=!0,document.addEventListener("selectionchange",this.update,!0))}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(ki){if(!this.selectionManagers.includes(ki))return this.selectionManagers.push(ki),this.start()}unregisterSelectionManager(ki){if(this.selectionManagers=this.selectionManagers.filter(Ri=>Ri!==ki),this.selectionManagers.length===0)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map(ki=>ki.selectionDidChange())}update(){this.notifySelectionManagersOfSelectionChange()}reset(){this.update()}}const Ot=new It,Pt=function(){const es=window.getSelection();if(es.rangeCount>0)return es},Ft=function(){var es;const ki=(es=Pt())===null||es===void 0?void 0:es.getRangeAt(0);if(ki&&!Bt(ki))return ki},Mt=function(es){const ki=window.getSelection();return ki.removeAllRanges(),ki.addRange(es),Ot.update()},Bt=es=>_t(es.startContainer)||_t(es.endContainer),_t=es=>!Object.getPrototypeOf(es),jt=es=>es.replace(new RegExp("".concat(h),"g"),"").replace(new RegExp("".concat(d),"g")," "),Wt=new RegExp("[^\\S".concat(d,"]")),Ut=es=>es.replace(new RegExp("".concat(Wt.source),"g")," ").replace(/\ {2,}/g," "),Vt=function(es,ki){if(es.isEqualTo(ki))return["",""];const Ri=zt(es,ki),{length:ts}=Ri.utf16String;let rs;if(ts){const{offset:is}=Ri,ns=es.codepoints.slice(0,is).concat(es.codepoints.slice(is+ts));rs=zt(ki,$$1.fromCodepoints(ns))}else rs=zt(ki,es);return[Ri.utf16String.toString(),rs.utf16String.toString()]},zt=function(es,ki){let Ri=0,ts=es.length,rs=ki.length;for(;Ri<ts&&es.charAt(Ri).isEqualTo(ki.charAt(Ri));)Ri++;for(;ts>Ri+1&&es.charAt(ts-1).isEqualTo(ki.charAt(rs-1));)ts--,rs--;return{utf16String:es.slice(Ri,ts),offset:Ri}};class qt extends nt{static fromCommonAttributesOfObjects(){let ki=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!ki.length)return new this;let Ri=Gt(ki[0]),ts=Ri.getKeys();return ki.slice(1).forEach(rs=>{ts=Ri.getKeysCommonToHash(Gt(rs)),Ri=Ri.slice(ts)}),Ri}static box(ki){return Gt(ki)}constructor(){let ki=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(...arguments),this.values=Kt(ki)}add(ki,Ri){return this.merge(Ht(ki,Ri))}remove(ki){return new qt(Kt(this.values,ki))}get(ki){return this.values[ki]}has(ki){return ki in this.values}merge(ki){return new qt(Jt(this.values,Yt(ki)))}slice(ki){const Ri={};return Array.from(ki).forEach(ts=>{this.has(ts)&&(Ri[ts]=this.values[ts])}),new qt(Ri)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(ki){return ki=Gt(ki),this.getKeys().filter(Ri=>this.values[Ri]===ki.values[Ri])}isEqualTo(ki){return rt(this.toArray(),Gt(ki).toArray())}isEmpty(){return this.getKeys().length===0}toArray(){if(!this.array){const ki=[];for(const Ri in this.values){const ts=this.values[Ri];ki.push(ki.push(Ri,ts))}this.array=ki.slice(0)}return this.array}toObject(){return Kt(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}}const Ht=function(es,ki){const Ri={};return Ri[es]=ki,Ri},Jt=function(es,ki){const Ri=Kt(es);for(const ts in ki){const rs=ki[ts];Ri[ts]=rs}return Ri},Kt=function(es,ki){const Ri={};return Object.keys(es).sort().forEach(ts=>{ts!==ki&&(Ri[ts]=es[ts])}),Ri},Gt=function(es){return es instanceof qt?es:new qt(es)},Yt=function(es){return es instanceof qt?es.values:es};class $t{static groupObjects(){let ki,Ri=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:ts,asTree:rs}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};rs&&ts==null&&(ts=0);const is=[];return Array.from(Ri).forEach(ns=>{var ss;if(ki){var os,ls,cs;if((os=ns.canBeGrouped)!==null&&os!==void 0&&os.call(ns,ts)&&(ls=(cs=ki[ki.length-1]).canBeGroupedWith)!==null&&ls!==void 0&&ls.call(cs,ns,ts))return void ki.push(ns);is.push(new this(ki,{depth:ts,asTree:rs})),ki=null}(ss=ns.canBeGrouped)!==null&&ss!==void 0&&ss.call(ns,ts)?ki=[ns]:is.push(ns)}),ki&&is.push(new this(ki,{depth:ts,asTree:rs})),is}constructor(){let ki=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:Ri,asTree:ts}=arguments.length>1?arguments[1]:void 0;this.objects=ki,ts&&(this.depth=Ri,this.objects=this.constructor.groupObjects(this.objects,{asTree:ts,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){const ki=["objectGroup"];return Array.from(this.getObjects()).forEach(Ri=>{ki.push(Ri.getCacheKey())}),ki.join("/")}}class Xt extends z{constructor(){let ki=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects={},Array.from(ki).forEach(Ri=>{const ts=JSON.stringify(Ri);this.objects[ts]==null&&(this.objects[ts]=Ri)})}find(ki){const Ri=JSON.stringify(ki);return this.objects[Ri]}}class Zt{constructor(ki){this.reset(ki)}add(ki){const Ri=Qt(ki);this.elements[Ri]=ki}remove(ki){const Ri=Qt(ki),ts=this.elements[Ri];if(ts)return delete this.elements[Ri],ts}reset(){let ki=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.elements={},Array.from(ki).forEach(Ri=>{this.add(Ri)}),ki}}const Qt=es=>es.dataset.trixStoreKey;class te extends z{isPerforming(){return this.performing===!0}hasPerformed(){return this.performed===!0}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise((ki,Ri)=>(this.performing=!0,this.perform((ts,rs)=>{this.succeeded=ts,this.performing=!1,this.performed=!0,this.succeeded?ki(rs):Ri(rs)})))),this.promise}perform(ki){return ki(!1)}release(){var ki,Ri;(ki=this.promise)===null||ki===void 0||(Ri=ki.cancel)===null||Ri===void 0||Ri.call(ki),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}}te.proxyMethod("getPromise().then"),te.proxyMethod("getPromise().catch");class ee extends z{constructor(ki){let Ri=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.object=ki,this.options=Ri,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map(ki=>ki.cloneNode(!0))}invalidate(){var ki;return this.nodes=null,this.childViews=[],(ki=this.parentView)===null||ki===void 0?void 0:ki.invalidate()}invalidateViewForObject(ki){var Ri;return(Ri=this.findViewForObject(ki))===null||Ri===void 0?void 0:Ri.invalidate()}findOrCreateCachedChildView(ki,Ri,ts){let rs=this.getCachedViewForObject(Ri);return rs?this.recordChildView(rs):(rs=this.createChildView(...arguments),this.cacheViewForObject(rs,Ri)),rs}createChildView(ki,Ri){let ts=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Ri instanceof $t&&(ts.viewClass=ki,ki=ie);const rs=new ki(Ri,ts);return this.recordChildView(rs)}recordChildView(ki){return ki.parentView=this,ki.rootView=this.rootView,this.childViews.push(ki),ki}getAllChildViews(){let ki=[];return this.childViews.forEach(Ri=>{ki.push(Ri),ki=ki.concat(Ri.getAllChildViews())}),ki}findElement(){return this.findElementForObject(this.object)}findElementForObject(ki){const Ri=ki==null?void 0:ki.id;if(Ri)return this.rootView.element.querySelector("[data-trix-id='".concat(Ri,"']"))}findViewForObject(ki){for(const Ri of this.getAllChildViews())if(Ri.object===ki)return Ri}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return this.shouldCacheViews!==!1}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(ki){var Ri;return(Ri=this.getViewCache())===null||Ri===void 0?void 0:Ri[ki.getCacheKey()]}cacheViewForObject(ki,Ri){const ts=this.getViewCache();ts&&(ts[Ri.getCacheKey()]=ki)}garbageCollectCachedViews(){const ki=this.getViewCache();if(ki){const Ri=this.getAllChildViews().concat(this).map(ts=>ts.object.getCacheKey());for(const ts in ki)Ri.includes(ts)||delete ki[ts]}}}class ie extends ee{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach(ki=>{this.findOrCreateCachedChildView(this.viewClass,ki,this.options)}),this.childViews}createNodes(){const ki=this.createContainerElement();return this.getChildViews().forEach(Ri=>{Array.from(Ri.getNodes()).forEach(ts=>{ki.appendChild(ts)})}),[ki]}createContainerElement(){let ki=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(ki)}}/*! @license DOMPurify 3.2.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.3/LICENSE */const{entries:ne,setPrototypeOf:re,isFrozen:oe,getPrototypeOf:se,getOwnPropertyDescriptor:ae}=Object;let{freeze:le,seal:ce,create:ue}=Object,{apply:he,construct:de}=typeof Reflect<"u"&&Reflect;le||(le=function(es){return es}),ce||(ce=function(es){return es}),he||(he=function(es,ki,Ri){return es.apply(ki,Ri)}),de||(de=function(es,ki){return new es(...ki)});const ge=ke(Array.prototype.forEach),me=ke(Array.prototype.pop),pe=ke(Array.prototype.push),fe=ke(String.prototype.toLowerCase),be=ke(String.prototype.toString),ve=ke(String.prototype.match),Ae=ke(String.prototype.replace),ye=ke(String.prototype.indexOf),xe=ke(String.prototype.trim),Ce=ke(Object.prototype.hasOwnProperty),Ee=ke(RegExp.prototype.test),Se=(Re=TypeError,function(){for(var es=arguments.length,ki=new Array(es),Ri=0;Ri<es;Ri++)ki[Ri]=arguments[Ri];return de(Re,ki)});var Re;function ke(es){return function(ki){for(var Ri=arguments.length,ts=new Array(Ri>1?Ri-1:0),rs=1;rs<Ri;rs++)ts[rs-1]=arguments[rs];return he(es,ki,ts)}}function Te(es,ki){let Ri=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fe;re&&re(es,null);let ts=ki.length;for(;ts--;){let rs=ki[ts];if(typeof rs=="string"){const is=Ri(rs);is!==rs&&(oe(ki)||(ki[ts]=is),rs=is)}es[rs]=!0}return es}function we(es){for(let ki=0;ki<es.length;ki++)Ce(es,ki)||(es[ki]=null);return es}function Le(es){const ki=ue(null);for(const[Ri,ts]of ne(es))Ce(es,Ri)&&(Array.isArray(ts)?ki[Ri]=we(ts):ts&&typeof ts=="object"&&ts.constructor===Object?ki[Ri]=Le(ts):ki[Ri]=ts);return ki}function De(es,ki){for(;es!==null;){const Ri=ae(es,ki);if(Ri){if(Ri.get)return ke(Ri.get);if(typeof Ri.value=="function")return ke(Ri.value)}es=se(es)}return function(){return null}}const Ne=le(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ie=le(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Oe=le(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Pe=le(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Fe=le(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Me=le(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Be=le(["#text"]),_e=le(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),je=le(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),We=le(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ue=le(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ve=ce(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ze=ce(/<%[\w\W]*|[\w\W]*%>/gm),qe=ce(/\$\{[\w\W]*}/gm),He=ce(/^data-[\-\w.\u00B7-\uFFFF]+$/),Je=ce(/^aria-[\-\w]+$/),Ke=ce(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ge=ce(/^(?:\w+script|data):/i),Ye=ce(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$e=ce(/^html$/i),Xe=ce(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ze=Object.freeze({__proto__:null,ARIA_ATTR:Je,ATTR_WHITESPACE:Ye,CUSTOM_ELEMENT:Xe,DATA_ATTR:He,DOCTYPE_NAME:$e,ERB_EXPR:ze,IS_ALLOWED_URI:Ke,IS_SCRIPT_OR_DATA:Ge,MUSTACHE_EXPR:Ve,TMPLIT_EXPR:qe});const Qe=1,ti=3,ei=7,ii=8,ni=9,ri=function(){return typeof window>"u"?null:window};var oi=function es(){let ki=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ri();const Ri=ca=>es(ca);if(Ri.version="3.2.3",Ri.removed=[],!ki||!ki.document||ki.document.nodeType!==ni)return Ri.isSupported=!1,Ri;let{document:ts}=ki;const rs=ts,is=rs.currentScript,{DocumentFragment:ns,HTMLTemplateElement:ss,Node:os,Element:ls,NodeFilter:cs,NamedNodeMap:hs=ki.NamedNodeMap||ki.MozNamedAttrMap,HTMLFormElement:us,DOMParser:As,trustedTypes:bs}=ki,ys=ls.prototype,Cs=De(ys,"cloneNode"),ps=De(ys,"remove"),ms=De(ys,"nextSibling"),fs=De(ys,"childNodes"),gs=De(ys,"parentNode");if(typeof ss=="function"){const ca=ts.createElement("template");ca.content&&ca.content.ownerDocument&&(ts=ca.content.ownerDocument)}let ws,Ts="";const{implementation:$s,createNodeIterator:Rs,createDocumentFragment:Ps,getElementsByTagName:Qs}=ts,{importNode:Fs}=rs;let Is={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};Ri.isSupported=typeof ne=="function"&&typeof gs=="function"&&$s&&$s.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ms,ERB_EXPR:Ws,TMPLIT_EXPR:Ds,DATA_ATTR:_s,ARIA_ATTR:Ns,IS_SCRIPT_OR_DATA:Ss,ATTR_WHITESPACE:Us,CUSTOM_ELEMENT:Zs}=Ze;let{IS_ALLOWED_URI:ao}=Ze,js=null;const Bs=Te({},[...Ne,...Ie,...Oe,...Fe,...Be]);let zs=null;const so=Te({},[..._e,...je,...We,...Ue]);let oo=Object.seal(ue(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ao=null,Xs=null,lo=!0,co=!0,So=!1,ro=!0,vo=!1,Eo=!0,mo=!1,yo=!1,Jo=!1,Yo=!1,Wo=!1,ko=!1,Qo=!0,jo=!1,Bo=!0,go=!1,_o={},To=null;const uo=Te({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Co=null;const Oo=Te({},["audio","video","img","source","image","track"]);let Fo=null;const Po=Te({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Zo="http://www.w3.org/1998/Math/MathML",na="http://www.w3.org/2000/svg",ma="http://www.w3.org/1999/xhtml";let ua=ma,ka=!1,Ba=null;const Va=Te({},[Zo,na,ma],be);let Ea=Te({},["mi","mo","mn","ms","mtext"]),il=Te({},["annotation-xml"]);const kl=Te({},["title","style","font","a","script"]);let Ja=null;const Ua=["application/xhtml+xml","text/html"];let Na=null,nl=null;const Wl=ts.createElement("form"),El=function(ca){return ca instanceof RegExp||ca instanceof Function},$c=function(){let ca=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!nl||nl!==ca){if(ca&&typeof ca=="object"||(ca={}),ca=Le(ca),Ja=Ua.indexOf(ca.PARSER_MEDIA_TYPE)===-1?"text/html":ca.PARSER_MEDIA_TYPE,Na=Ja==="application/xhtml+xml"?be:fe,js=Ce(ca,"ALLOWED_TAGS")?Te({},ca.ALLOWED_TAGS,Na):Bs,zs=Ce(ca,"ALLOWED_ATTR")?Te({},ca.ALLOWED_ATTR,Na):so,Ba=Ce(ca,"ALLOWED_NAMESPACES")?Te({},ca.ALLOWED_NAMESPACES,be):Va,Fo=Ce(ca,"ADD_URI_SAFE_ATTR")?Te(Le(Po),ca.ADD_URI_SAFE_ATTR,Na):Po,Co=Ce(ca,"ADD_DATA_URI_TAGS")?Te(Le(Oo),ca.ADD_DATA_URI_TAGS,Na):Oo,To=Ce(ca,"FORBID_CONTENTS")?Te({},ca.FORBID_CONTENTS,Na):uo,Ao=Ce(ca,"FORBID_TAGS")?Te({},ca.FORBID_TAGS,Na):{},Xs=Ce(ca,"FORBID_ATTR")?Te({},ca.FORBID_ATTR,Na):{},_o=!!Ce(ca,"USE_PROFILES")&&ca.USE_PROFILES,lo=ca.ALLOW_ARIA_ATTR!==!1,co=ca.ALLOW_DATA_ATTR!==!1,So=ca.ALLOW_UNKNOWN_PROTOCOLS||!1,ro=ca.ALLOW_SELF_CLOSE_IN_ATTR!==!1,vo=ca.SAFE_FOR_TEMPLATES||!1,Eo=ca.SAFE_FOR_XML!==!1,mo=ca.WHOLE_DOCUMENT||!1,Yo=ca.RETURN_DOM||!1,Wo=ca.RETURN_DOM_FRAGMENT||!1,ko=ca.RETURN_TRUSTED_TYPE||!1,Jo=ca.FORCE_BODY||!1,Qo=ca.SANITIZE_DOM!==!1,jo=ca.SANITIZE_NAMED_PROPS||!1,Bo=ca.KEEP_CONTENT!==!1,go=ca.IN_PLACE||!1,ao=ca.ALLOWED_URI_REGEXP||Ke,ua=ca.NAMESPACE||ma,Ea=ca.MATHML_TEXT_INTEGRATION_POINTS||Ea,il=ca.HTML_INTEGRATION_POINTS||il,oo=ca.CUSTOM_ELEMENT_HANDLING||{},ca.CUSTOM_ELEMENT_HANDLING&&El(ca.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(oo.tagNameCheck=ca.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ca.CUSTOM_ELEMENT_HANDLING&&El(ca.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(oo.attributeNameCheck=ca.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ca.CUSTOM_ELEMENT_HANDLING&&typeof ca.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(oo.allowCustomizedBuiltInElements=ca.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),vo&&(co=!1),Wo&&(Yo=!0),_o&&(js=Te({},Be),zs=[],_o.html===!0&&(Te(js,Ne),Te(zs,_e)),_o.svg===!0&&(Te(js,Ie),Te(zs,je),Te(zs,Ue)),_o.svgFilters===!0&&(Te(js,Oe),Te(zs,je),Te(zs,Ue)),_o.mathMl===!0&&(Te(js,Fe),Te(zs,We),Te(zs,Ue))),ca.ADD_TAGS&&(js===Bs&&(js=Le(js)),Te(js,ca.ADD_TAGS,Na)),ca.ADD_ATTR&&(zs===so&&(zs=Le(zs)),Te(zs,ca.ADD_ATTR,Na)),ca.ADD_URI_SAFE_ATTR&&Te(Fo,ca.ADD_URI_SAFE_ATTR,Na),ca.FORBID_CONTENTS&&(To===uo&&(To=Le(To)),Te(To,ca.FORBID_CONTENTS,Na)),Bo&&(js["#text"]=!0),mo&&Te(js,["html","head","body"]),js.table&&(Te(js,["tbody"]),delete Ao.tbody),ca.TRUSTED_TYPES_POLICY){if(typeof ca.TRUSTED_TYPES_POLICY.createHTML!="function")throw Se('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ca.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Se('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ws=ca.TRUSTED_TYPES_POLICY,Ts=ws.createHTML("")}else ws===void 0&&(ws=function(gl,cl){if(typeof gl!="object"||typeof gl.createPolicy!="function")return null;let Zl=null;const oc="data-tt-policy-suffix";cl&&cl.hasAttribute(oc)&&(Zl=cl.getAttribute(oc));const Yl="dompurify"+(Zl?"#"+Zl:"");try{return gl.createPolicy(Yl,{createHTML:Sc=>Sc,createScriptURL:Sc=>Sc})}catch{return console.warn("TrustedTypes policy "+Yl+" could not be created."),null}}(bs,is)),ws!==null&&typeof Ts=="string"&&(Ts=ws.createHTML(""));le&&le(ca),nl=ca}},ou=Te({},[...Ie,...Oe,...Pe]),wl=Te({},[...Fe,...Me]),dc=function(ca){pe(Ri.removed,{element:ca});try{gs(ca).removeChild(ca)}catch{ps(ca)}},_u=function(ca,gl){try{pe(Ri.removed,{attribute:gl.getAttributeNode(ca),from:gl})}catch{pe(Ri.removed,{attribute:null,from:gl})}if(gl.removeAttribute(ca),ca==="is")if(Yo||Wo)try{dc(gl)}catch{}else try{gl.setAttribute(ca,"")}catch{}},kc=function(ca){let gl=null,cl=null;if(Jo)ca="<remove></remove>"+ca;else{const Yl=ve(ca,/^[\r\n\t ]+/);cl=Yl&&Yl[0]}Ja==="application/xhtml+xml"&&ua===ma&&(ca='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ca+"</body></html>");const Zl=ws?ws.createHTML(ca):ca;if(ua===ma)try{gl=new As().parseFromString(Zl,Ja)}catch{}if(!gl||!gl.documentElement){gl=$s.createDocument(ua,"template",null);try{gl.documentElement.innerHTML=ka?Ts:Zl}catch{}}const oc=gl.body||gl.documentElement;return ca&&cl&&oc.insertBefore(ts.createTextNode(cl),oc.childNodes[0]||null),ua===ma?Qs.call(gl,mo?"html":"body")[0]:mo?gl.documentElement:oc},Dl=function(ca){return Rs.call(ca.ownerDocument||ca,ca,cs.SHOW_ELEMENT|cs.SHOW_COMMENT|cs.SHOW_TEXT|cs.SHOW_PROCESSING_INSTRUCTION|cs.SHOW_CDATA_SECTION,null)},Yc=function(ca){return ca instanceof us&&(typeof ca.nodeName!="string"||typeof ca.textContent!="string"||typeof ca.removeChild!="function"||!(ca.attributes instanceof hs)||typeof ca.removeAttribute!="function"||typeof ca.setAttribute!="function"||typeof ca.namespaceURI!="string"||typeof ca.insertBefore!="function"||typeof ca.hasChildNodes!="function")},Pu=function(ca){return typeof os=="function"&&ca instanceof os};function au(ca,gl,cl){ge(ca,Zl=>{Zl.call(Ri,gl,cl,nl)})}const dh=function(ca){let gl=null;if(au(Is.beforeSanitizeElements,ca,null),Yc(ca))return dc(ca),!0;const cl=Na(ca.nodeName);if(au(Is.uponSanitizeElement,ca,{tagName:cl,allowedTags:js}),ca.hasChildNodes()&&!Pu(ca.firstElementChild)&&Ee(/<[/\w]/g,ca.innerHTML)&&Ee(/<[/\w]/g,ca.textContent)||ca.nodeType===ei||Eo&&ca.nodeType===ii&&Ee(/<[/\w]/g,ca.data))return dc(ca),!0;if(!js[cl]||Ao[cl]){if(!Ao[cl]&&Ah(cl)&&(oo.tagNameCheck instanceof RegExp&&Ee(oo.tagNameCheck,cl)||oo.tagNameCheck instanceof Function&&oo.tagNameCheck(cl)))return!1;if(Bo&&!To[cl]){const Zl=gs(ca)||ca.parentNode,oc=fs(ca)||ca.childNodes;if(oc&&Zl)for(let Yl=oc.length-1;Yl>=0;--Yl){const Sc=Cs(oc[Yl],!0);Sc.__removalCount=(ca.__removalCount||0)+1,Zl.insertBefore(Sc,ms(ca))}}return dc(ca),!0}return ca instanceof ls&&!function(Zl){let oc=gs(Zl);oc&&oc.tagName||(oc={namespaceURI:ua,tagName:"template"});const Yl=fe(Zl.tagName),Sc=fe(oc.tagName);return!!Ba[Zl.namespaceURI]&&(Zl.namespaceURI===na?oc.namespaceURI===ma?Yl==="svg":oc.namespaceURI===Zo?Yl==="svg"&&(Sc==="annotation-xml"||Ea[Sc]):!!ou[Yl]:Zl.namespaceURI===Zo?oc.namespaceURI===ma?Yl==="math":oc.namespaceURI===na?Yl==="math"&&il[Sc]:!!wl[Yl]:Zl.namespaceURI===ma?!(oc.namespaceURI===na&&!il[Sc])&&!(oc.namespaceURI===Zo&&!Ea[Sc])&&!wl[Yl]&&(kl[Yl]||!ou[Yl]):!(Ja!=="application/xhtml+xml"||!Ba[Zl.namespaceURI]))}(ca)?(dc(ca),!0):cl!=="noscript"&&cl!=="noembed"&&cl!=="noframes"||!Ee(/<\/no(script|embed|frames)/i,ca.innerHTML)?(vo&&ca.nodeType===ti&&(gl=ca.textContent,ge([Ms,Ws,Ds],Zl=>{gl=Ae(gl,Zl," ")}),ca.textContent!==gl&&(pe(Ri.removed,{element:ca.cloneNode()}),ca.textContent=gl)),au(Is.afterSanitizeElements,ca,null),!1):(dc(ca),!0)},Mu=function(ca,gl,cl){if(Qo&&(gl==="id"||gl==="name")&&(cl in ts||cl in Wl))return!1;if(!(co&&!Xs[gl]&&Ee(_s,gl))){if(!(lo&&Ee(Ns,gl))){if(!zs[gl]||Xs[gl]){if(!(Ah(ca)&&(oo.tagNameCheck instanceof RegExp&&Ee(oo.tagNameCheck,ca)||oo.tagNameCheck instanceof Function&&oo.tagNameCheck(ca))&&(oo.attributeNameCheck instanceof RegExp&&Ee(oo.attributeNameCheck,gl)||oo.attributeNameCheck instanceof Function&&oo.attributeNameCheck(gl))||gl==="is"&&oo.allowCustomizedBuiltInElements&&(oo.tagNameCheck instanceof RegExp&&Ee(oo.tagNameCheck,cl)||oo.tagNameCheck instanceof Function&&oo.tagNameCheck(cl))))return!1}else if(!Fo[gl]){if(!Ee(ao,Ae(cl,Us,""))){if((gl!=="src"&&gl!=="xlink:href"&&gl!=="href"||ca==="script"||ye(cl,"data:")!==0||!Co[ca])&&!(So&&!Ee(Ss,Ae(cl,Us,"")))){if(cl)return!1}}}}}return!0},Ah=function(ca){return ca!=="annotation-xml"&&ve(ca,Zs)},Wu=function(ca){au(Is.beforeSanitizeAttributes,ca,null);const{attributes:gl}=ca;if(!gl||Yc(ca))return;const cl={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:zs,forceKeepAttr:void 0};let Zl=gl.length;for(;Zl--;){const oc=gl[Zl],{name:Yl,namespaceURI:Sc,value:Bh}=oc,Eu=Na(Yl);let xu=Yl==="value"?Bh:xe(Bh);if(cl.attrName=Eu,cl.attrValue=xu,cl.keepAttr=!0,cl.forceKeepAttr=void 0,au(Is.uponSanitizeAttribute,ca,cl),xu=cl.attrValue,!jo||Eu!=="id"&&Eu!=="name"||(_u(Yl,ca),xu="user-content-"+xu),Eo&&Ee(/((--!?|])>)|<\/(style|title)/i,xu)){_u(Yl,ca);continue}if(cl.forceKeepAttr||(_u(Yl,ca),!cl.keepAttr))continue;if(!ro&&Ee(/\/>/i,xu)){_u(Yl,ca);continue}vo&&ge([Ms,Ws,Ds],Nc=>{xu=Ae(xu,Nc," ")});const _h=Na(ca.nodeName);if(Mu(_h,Eu,xu)){if(ws&&typeof bs=="object"&&typeof bs.getAttributeType=="function"&&!Sc)switch(bs.getAttributeType(_h,Eu)){case"TrustedHTML":xu=ws.createHTML(xu);break;case"TrustedScriptURL":xu=ws.createScriptURL(xu)}try{Sc?ca.setAttributeNS(Sc,Yl,xu):ca.setAttribute(Yl,xu),Yc(ca)?dc(ca):me(Ri.removed)}catch{}}}au(Is.afterSanitizeAttributes,ca,null)},Th=function ca(gl){let cl=null;const Zl=Dl(gl);for(au(Is.beforeSanitizeShadowDOM,gl,null);cl=Zl.nextNode();)au(Is.uponSanitizeShadowNode,cl,null),dh(cl),Wu(cl),cl.content instanceof ns&&ca(cl.content);au(Is.afterSanitizeShadowDOM,gl,null)};return Ri.sanitize=function(ca){let gl=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},cl=null,Zl=null,oc=null,Yl=null;if(ka=!ca,ka&&(ca="<!-->"),typeof ca!="string"&&!Pu(ca)){if(typeof ca.toString!="function")throw Se("toString is not a function");if(typeof(ca=ca.toString())!="string")throw Se("dirty is not a string, aborting")}if(!Ri.isSupported)return ca;if(yo||$c(gl),Ri.removed=[],typeof ca=="string"&&(go=!1),go){if(ca.nodeName){const Eu=Na(ca.nodeName);if(!js[Eu]||Ao[Eu])throw Se("root node is forbidden and cannot be sanitized in-place")}}else if(ca instanceof os)cl=kc("<!---->"),Zl=cl.ownerDocument.importNode(ca,!0),Zl.nodeType===Qe&&Zl.nodeName==="BODY"||Zl.nodeName==="HTML"?cl=Zl:cl.appendChild(Zl);else{if(!Yo&&!vo&&!mo&&ca.indexOf("<")===-1)return ws&&ko?ws.createHTML(ca):ca;if(cl=kc(ca),!cl)return Yo?null:ko?Ts:""}cl&&Jo&&dc(cl.firstChild);const Sc=Dl(go?ca:cl);for(;oc=Sc.nextNode();)dh(oc),Wu(oc),oc.content instanceof ns&&Th(oc.content);if(go)return ca;if(Yo){if(Wo)for(Yl=Ps.call(cl.ownerDocument);cl.firstChild;)Yl.appendChild(cl.firstChild);else Yl=cl;return(zs.shadowroot||zs.shadowrootmode)&&(Yl=Fs.call(rs,Yl,!0)),Yl}let Bh=mo?cl.outerHTML:cl.innerHTML;return mo&&js["!doctype"]&&cl.ownerDocument&&cl.ownerDocument.doctype&&cl.ownerDocument.doctype.name&&Ee($e,cl.ownerDocument.doctype.name)&&(Bh="<!DOCTYPE "+cl.ownerDocument.doctype.name+`>
`+Bh),vo&&ge([Ms,Ws,Ds],Eu=>{Bh=Ae(Bh,Eu," ")}),ws&&ko?ws.createHTML(Bh):Bh},Ri.setConfig=function(){$c(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),yo=!0},Ri.clearConfig=function(){nl=null,yo=!1},Ri.isValidAttribute=function(ca,gl,cl){nl||$c({});const Zl=Na(ca),oc=Na(gl);return Mu(Zl,oc,cl)},Ri.addHook=function(ca,gl){typeof gl=="function"&&pe(Is[ca],gl)},Ri.removeHook=function(ca){return me(Is[ca])},Ri.removeHooks=function(ca){Is[ca]=[]},Ri.removeAllHooks=function(){Is={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},Ri}();const si="style href src width height language class".split(" "),ai="javascript:".split(" "),li="script iframe form noscript".split(" ");class ci extends z{static setHTML(ki,Ri){const ts=new this(Ri).sanitize(),rs=ts.getHTML?ts.getHTML():ts.outerHTML;ki.innerHTML=rs}static sanitize(ki,Ri){const ts=new this(ki,Ri);return ts.sanitize(),ts}constructor(ki){let{allowedAttributes:Ri,forbiddenProtocols:ts,forbiddenElements:rs}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.allowedAttributes=Ri||si,this.forbiddenProtocols=ts||ai,this.forbiddenElements=rs||li,this.body=ui(ki)}sanitize(){return this.sanitizeElements(),this.normalizeListElementNesting(),oi.sanitize(this.body,{ADD_ATTR:["language"],RETURN_DOM:!0})}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){const ki=S(this.body),Ri=[];for(;ki.nextNode();){const ts=ki.currentNode;switch(ts.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(ts)?Ri.push(ts):this.sanitizeElement(ts);break;case Node.COMMENT_NODE:Ri.push(ts)}}return Ri.forEach(ts=>E(ts)),this.body}sanitizeElement(ki){return ki.hasAttribute("href")&&this.forbiddenProtocols.includes(ki.protocol)&&ki.removeAttribute("href"),Array.from(ki.attributes).forEach(Ri=>{let{name:ts}=Ri;this.allowedAttributes.includes(ts)||ts.indexOf("data-trix")===0||ki.removeAttribute(ts)}),ki}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach(ki=>{const Ri=ki.previousElementSibling;Ri&&R(Ri)==="li"&&Ri.appendChild(ki)}),this.body}elementIsRemovable(ki){if((ki==null?void 0:ki.nodeType)===Node.ELEMENT_NODE)return this.elementIsForbidden(ki)||this.elementIsntSerializable(ki)}elementIsForbidden(ki){return this.forbiddenElements.includes(R(ki))}elementIsntSerializable(ki){return ki.getAttribute("data-trix-serialize")==="false"&&!P(ki)}}const ui=function(){let es=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";es=es.replace(/<\/html[^>]*>[^]*$/i,"</html>");const ki=document.implementation.createHTMLDocument("");return ki.documentElement.innerHTML=es,Array.from(ki.head.querySelectorAll("style")).forEach(Ri=>{ki.body.appendChild(Ri)}),ki.body},{css:hi}=V;class di extends ee{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let ki;const Ri=ki=k({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),ts=this.getHref();return ts&&(ki=k({tagName:"a",editable:!1,attributes:{href:ts,tabindex:-1}}),Ri.appendChild(ki)),this.attachment.hasContent()?ci.setHTML(ki,this.attachment.getContent()):this.createContentNodes().forEach(rs=>{ki.appendChild(rs)}),ki.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=k({tagName:"progress",attributes:{class:hi.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),Ri.appendChild(this.progressElement)),[gi("left"),Ri,gi("right")]}createCaptionElement(){const ki=k({tagName:"figcaption",className:hi.attachmentCaption}),Ri=this.attachmentPiece.getCaption();if(Ri)ki.classList.add("".concat(hi.attachmentCaption,"--edited")),ki.textContent=Ri;else{let ts,rs;const is=this.getCaptionConfig();if(is.name&&(ts=this.attachment.getFilename()),is.size&&(rs=this.attachment.getFormattedFilesize()),ts){const ns=k({tagName:"span",className:hi.attachmentName,textContent:ts});ki.appendChild(ns)}if(rs){ts&&ki.appendChild(document.createTextNode(" "));const ns=k({tagName:"span",className:hi.attachmentSize,textContent:rs});ki.appendChild(ns)}}return ki}getClassName(){const ki=[hi.attachment,"".concat(hi.attachment,"--").concat(this.attachment.getType())],Ri=this.attachment.getExtension();return Ri&&ki.push("".concat(hi.attachment,"--").concat(Ri)),ki.join(" ")}getData(){const ki={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:Ri}=this.attachmentPiece;return Ri.isEmpty()||(ki.trixAttributes=JSON.stringify(Ri)),this.attachment.isPending()&&(ki.trixSerialize=!1),ki}getHref(){if(!mi(this.attachment.getContent(),"a"))return this.attachment.getHref()}getCaptionConfig(){var ki;const Ri=this.attachment.getType(),ts=Rt((ki=i[Ri])===null||ki===void 0?void 0:ki.caption);return Ri==="file"&&(ts.name=!0),ts}findProgressElement(){var ki;return(ki=this.findElement())===null||ki===void 0?void 0:ki.querySelector("progress")}attachmentDidChangeUploadProgress(){const ki=this.attachment.getUploadProgress(),Ri=this.findProgressElement();Ri&&(Ri.value=ki)}}const gi=es=>k({tagName:"span",textContent:h,data:{trixCursorTarget:es,trixSerialize:!1}}),mi=function(es,ki){const Ri=k("div");return ci.setHTML(Ri,es||""),Ri.querySelector(ki)};class pi extends di{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=k({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){const ki=super.createCaptionElement(...arguments);return ki.textContent||ki.setAttribute("data-trix-placeholder",l.captionPlaceholder),ki}refresh(ki){var Ri;if(ki||(ki=(Ri=this.findElement())===null||Ri===void 0?void 0:Ri.querySelector("img")),ki)return this.updateAttributesForImage(ki)}updateAttributesForImage(ki){const Ri=this.attachment.getURL(),ts=this.attachment.getPreviewURL();if(ki.src=ts||Ri,ts===Ri)ki.removeAttribute("data-trix-serialized-attributes");else{const ss=JSON.stringify({src:Ri});ki.setAttribute("data-trix-serialized-attributes",ss)}const rs=this.attachment.getWidth(),is=this.attachment.getHeight();rs!=null&&(ki.width=rs),is!=null&&(ki.height=is);const ns=["imageElement",this.attachment.id,ki.src,ki.width,ki.height].join("/");ki.dataset.trixStoreKey=ns}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}}class fi extends ee{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let ki=this.attachment?this.createAttachmentNodes():this.createStringNodes();const Ri=this.createElement();if(Ri){const ts=function(rs){for(;(is=rs)!==null&&is!==void 0&&is.firstElementChild;){var is;rs=rs.firstElementChild}return rs}(Ri);Array.from(ki).forEach(rs=>{ts.appendChild(rs)}),ki=[Ri]}return ki}createAttachmentNodes(){const ki=this.attachment.isPreviewable()?pi:di;return this.createChildView(ki,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var ki;if((ki=this.textConfig)!==null&&ki!==void 0&&ki.plaintext)return[document.createTextNode(this.string)];{const Ri=[],ts=this.string.split(`
`);for(let rs=0;rs<ts.length;rs++){const is=ts[rs];if(rs>0){const ns=k("br");Ri.push(ns)}if(is.length){const ns=document.createTextNode(this.preserveSpaces(is));Ri.push(ns)}}return Ri}}createElement(){let ki,Ri,ts;const rs={};for(Ri in this.attributes){ts=this.attributes[Ri];const ns=pt(Ri);if(ns){if(ns.tagName){var is;const ss=k(ns.tagName);is?(is.appendChild(ss),is=ss):ki=is=ss}if(ns.styleProperty&&(rs[ns.styleProperty]=ts),ns.style)for(Ri in ns.style)ts=ns.style[Ri],rs[Ri]=ts}}if(Object.keys(rs).length)for(Ri in ki||(ki=k("span")),rs)ts=rs[Ri],ki.style[Ri]=ts;return ki}createContainerElement(){for(const ki in this.attributes){const Ri=this.attributes[ki],ts=pt(ki);if(ts&&ts.groupTagName){const rs={};return rs[ki]=Ri,k(ts.groupTagName,rs)}}}preserveSpaces(ki){return this.context.isLast&&(ki=ki.replace(/\ $/,d)),ki=ki.replace(/(\S)\ {3}(\S)/g,"$1 ".concat(d," $2")).replace(/\ {2}/g,"".concat(d," ")).replace(/\ {2}/g," ".concat(d)),(this.context.isFirst||this.context.followsWhitespace)&&(ki=ki.replace(/^\ /,d)),ki}}class bi extends ee{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){const ki=[],Ri=$t.groupObjects(this.getPieces()),ts=Ri.length-1;for(let is=0;is<Ri.length;is++){const ns=Ri[is],ss={};is===0&&(ss.isFirst=!0),is===ts&&(ss.isLast=!0),vi(rs)&&(ss.followsWhitespace=!0);const os=this.findOrCreateCachedChildView(fi,ns,{textConfig:this.textConfig,context:ss});ki.push(...Array.from(os.getNodes()||[]));var rs=ns}return ki}getPieces(){return Array.from(this.text.getPieces()).filter(ki=>!ki.hasAttribute("blockBreak"))}}const vi=es=>/\s$/.test(es==null?void 0:es.toString()),{css:Ai}=V;class yi extends ee{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){const ki=[document.createComment("block")];if(this.block.isEmpty())ki.push(k("br"));else{var Ri;const ts=(Ri=gt(this.block.getLastAttribute()))===null||Ri===void 0?void 0:Ri.text,rs=this.findOrCreateCachedChildView(bi,this.block.text,{textConfig:ts});ki.push(...Array.from(rs.getNodes()||[])),this.shouldAddExtraNewlineElement()&&ki.push(k("br"))}if(this.attributes.length)return ki;{let ts;const{tagName:rs}=n.default;this.block.isRTL()&&(ts={dir:"rtl"});const is=k({tagName:rs,attributes:ts});return ki.forEach(ns=>is.appendChild(ns)),[is]}}createContainerElement(ki){const Ri={};let ts;const rs=this.attributes[ki],{tagName:is,htmlAttributes:ns=[]}=gt(rs);if(ki===0&&this.block.isRTL()&&Object.assign(Ri,{dir:"rtl"}),rs==="attachmentGallery"){const ss=this.block.getBlockBreakPosition();ts="".concat(Ai.attachmentGallery," ").concat(Ai.attachmentGallery,"--").concat(ss)}return Object.entries(this.block.htmlAttributes).forEach(ss=>{let[os,ls]=ss;ns.includes(os)&&(Ri[os]=ls)}),k({tagName:is,className:ts,attributes:Ri})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}}class xi extends ee{static render(ki){const Ri=k("div"),ts=new this(ki,{element:Ri});return ts.render(),ts.sync(),Ri}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new Zt,this.setDocument(this.object)}setDocument(ki){ki.isEqualTo(this.document)||(this.document=this.object=ki)}render(){if(this.childViews=[],this.shadowElement=k("div"),!this.document.isEmpty()){const ki=$t.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(ki).forEach(Ri=>{const ts=this.findOrCreateCachedChildView(yi,Ri);Array.from(ts.getNodes()).map(rs=>this.shadowElement.appendChild(rs))})}}isSynced(){return Ei(this.shadowElement,this.element)}sync(){const ki=this.createDocumentFragmentForSync();for(;this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(ki),this.didSync()}didSync(){return this.elementStore.reset(Ci(this.element)),St(()=>this.garbageCollectCachedViews())}createDocumentFragmentForSync(){const ki=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach(Ri=>{ki.appendChild(Ri.cloneNode(!0))}),Array.from(Ci(ki)).forEach(Ri=>{const ts=this.elementStore.remove(Ri);ts&&Ri.parentNode.replaceChild(ts,Ri)}),ki}}const Ci=es=>es.querySelectorAll("[data-trix-store-key]"),Ei=(es,ki)=>Si(es.innerHTML)===Si(ki.innerHTML),Si=es=>es.replace(/&nbsp;/g," ");function Ti(es,ki,Ri){return(ki=wi(ki))in es?Object.defineProperty(es,ki,{value:Ri,enumerable:!0,configurable:!0,writable:!0}):es[ki]=Ri,es}function wi(es){var ki=function(Ri,ts){if(typeof Ri!="object"||Ri===null)return Ri;var rs=Ri[Symbol.toPrimitive];if(rs!==void 0){var is=rs.call(Ri,ts||"default");if(typeof is!="object")return is;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ts==="string"?String:Number)(Ri)}(es,"string");return typeof ki=="symbol"?ki:String(ki)}function Li(es,ki){return Ii(es,Ni(es,ki,"get"))}function Di(es,ki,Ri){return Oi(es,Ni(es,ki,"set"),Ri),Ri}function Ni(es,ki,Ri){if(!ki.has(es))throw new TypeError("attempted to "+Ri+" private field on non-instance");return ki.get(es)}function Ii(es,ki){return ki.get?ki.get.call(es):ki.value}function Oi(es,ki,Ri){if(ki.set)ki.set.call(es,Ri);else{if(!ki.writable)throw new TypeError("attempted to set read only private field");ki.value=Ri}}function Pi(es,ki,Ri){if(!ki.has(es))throw new TypeError("attempted to get private field on non-instance");return Ri}function Fi(es,ki){if(ki.has(es))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Mi(es,ki,Ri){Fi(es,ki),ki.set(es,Ri)}class Bi extends nt{static registerType(ki,Ri){Ri.type=ki,this.types[ki]=Ri}static fromJSON(ki){const Ri=this.types[ki.type];if(Ri)return Ri.fromJSON(ki)}constructor(ki){let Ri=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.attributes=qt.box(Ri)}copyWithAttributes(ki){return new this.constructor(this.getValue(),ki)}copyWithAdditionalAttributes(ki){return this.copyWithAttributes(this.attributes.merge(ki))}copyWithoutAttribute(ki){return this.copyWithAttributes(this.attributes.remove(ki))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(ki){return this.attributes.get(ki)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(ki){return this.attributes.has(ki)}hasSameStringValueAsPiece(ki){return ki&&this.toString()===ki.toString()}hasSameAttributesAsPiece(ki){return ki&&(this.attributes===ki.attributes||this.attributes.isEqualTo(ki.attributes))}isBlockBreak(){return!1}isEqualTo(ki){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(ki)&&this.hasSameStringValueAsPiece(ki)&&this.hasSameAttributesAsPiece(ki)}isEmpty(){return this.length===0}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(ki){return this.getAttribute("href")===ki.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(ki){return!1}}Ti(Bi,"types",{});class _i extends te{constructor(ki){super(...arguments),this.url=ki}perform(ki){const Ri=new Image;Ri.onload=()=>(Ri.width=this.width=Ri.naturalWidth,Ri.height=this.height=Ri.naturalHeight,ki(!0,Ri)),Ri.onerror=()=>ki(!1),Ri.src=this.url}}class ji extends nt{static attachmentForFile(ki){const Ri=new this(this.attributesForFile(ki));return Ri.setFile(ki),Ri}static attributesForFile(ki){return new qt({filename:ki.name,filesize:ki.size,contentType:ki.type})}static fromJSON(ki){return new this(ki)}constructor(){let ki=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(ki),this.releaseFile=this.releaseFile.bind(this),this.attributes=qt.box(ki),this.didChangeAttributes()}getAttribute(ki){return this.attributes.get(ki)}hasAttribute(ki){return this.attributes.has(ki)}getAttributes(){return this.attributes.toObject()}setAttributes(){let ki=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Ri=this.attributes.merge(ki);var ts,rs,is,ns;if(!this.attributes.isEqualTo(Ri))return this.attributes=Ri,this.didChangeAttributes(),(ts=this.previewDelegate)===null||ts===void 0||(rs=ts.attachmentDidChangeAttributes)===null||rs===void 0||rs.call(ts,this),(is=this.delegate)===null||is===void 0||(ns=is.attachmentDidChangeAttributes)===null||ns===void 0?void 0:ns.call(is,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return this.file!=null&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):ji.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){const ki=this.attributes.get("filesize");return typeof ki=="number"?u.formatter(ki):""}getExtension(){var ki;return(ki=this.getFilename().match(/\.(\w+)$/))===null||ki===void 0?void 0:ki[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(ki){if(this.file=ki,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return this.uploadProgress!=null?this.uploadProgress:0}setUploadProgress(ki){var Ri,ts;if(this.uploadProgress!==ki)return this.uploadProgress=ki,(Ri=this.uploadProgressDelegate)===null||Ri===void 0||(ts=Ri.attachmentDidChangeUploadProgress)===null||ts===void 0?void 0:ts.call(Ri,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(ki){var Ri,ts,rs,is;if(ki!==this.getPreviewURL())return this.previewURL=ki,(Ri=this.previewDelegate)===null||Ri===void 0||(ts=Ri.attachmentDidChangeAttributes)===null||ts===void 0||ts.call(Ri,this),(rs=this.delegate)===null||rs===void 0||(is=rs.attachmentDidChangePreviewURL)===null||is===void 0?void 0:is.call(rs,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(ki,Ri){if(ki&&ki!==this.getPreviewURL())return this.preloadingURL=ki,new _i(ki).then(ts=>{let{width:rs,height:is}=ts;return this.getWidth()&&this.getHeight()||this.setAttributes({width:rs,height:is}),this.preloadingURL=null,this.setPreviewURL(ki),Ri==null?void 0:Ri()}).catch(()=>(this.preloadingURL=null,Ri==null?void 0:Ri()))}}Ti(ji,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);class Wi extends Bi{static fromJSON(ki){return new this(ji.fromJSON(ki.attachment),ki.attributes)}constructor(ki){super(...arguments),this.attachment=ki,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(ki){this.hasAttribute(ki)&&(this.attachment.hasAttribute(ki)||this.attachment.setAttributes(this.attributes.slice([ki])),this.attributes=this.attributes.remove(ki))}removeProhibitedAttributes(){const ki=this.attributes.slice(Wi.permittedAttributes);ki.isEqualTo(this.attributes)||(this.attributes=ki)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(ki){var Ri;return super.isEqualTo(ki)&&this.attachment.id===(ki==null||(Ri=ki.attachment)===null||Ri===void 0?void 0:Ri.id)}toString(){return"￼"}toJSON(){const ki=super.toJSON(...arguments);return ki.attachment=this.attachment,ki}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}}Ti(Wi,"permittedAttributes",["caption","presentation"]),Bi.registerType("attachment",Wi);class Ui extends Bi{static fromJSON(ki){return new this(ki.string,ki.attributes)}constructor(ki){super(...arguments),this.string=(Ri=>Ri.replace(/\r\n?/g,`
`))(ki),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0}toJSON(){const ki=super.toJSON(...arguments);return ki.string=this.string,ki}canBeConsolidatedWith(ki){return ki&&this.hasSameConstructorAs(ki)&&this.hasSameAttributesAsPiece(ki)}consolidateWith(ki){return new this.constructor(this.toString()+ki.toString(),this.attributes)}splitAtOffset(ki){let Ri,ts;return ki===0?(Ri=null,ts=this):ki===this.length?(Ri=this,ts=null):(Ri=new this.constructor(this.string.slice(0,ki),this.attributes),ts=new this.constructor(this.string.slice(ki),this.attributes)),[Ri,ts]}toConsole(){let{string:ki}=this;return ki.length>15&&(ki=ki.slice(0,14)+"…"),JSON.stringify(ki.toString())}}Bi.registerType("string",Ui);class Vi extends nt{static box(ki){return ki instanceof this?ki:new this(ki)}constructor(){let ki=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects=ki.slice(0),this.length=this.objects.length}indexOf(ki){return this.objects.indexOf(ki)}splice(){for(var ki=arguments.length,Ri=new Array(ki),ts=0;ts<ki;ts++)Ri[ts]=arguments[ts];return new this.constructor(ot(this.objects,...Ri))}eachObject(ki){return this.objects.map((Ri,ts)=>ki(Ri,ts))}insertObjectAtIndex(ki,Ri){return this.splice(Ri,0,ki)}insertSplittableListAtIndex(ki,Ri){return this.splice(Ri,0,...ki.objects)}insertSplittableListAtPosition(ki,Ri){const[ts,rs]=this.splitObjectAtPosition(Ri);return new this.constructor(ts).insertSplittableListAtIndex(ki,rs)}editObjectAtIndex(ki,Ri){return this.replaceObjectAtIndex(Ri(this.objects[ki]),ki)}replaceObjectAtIndex(ki,Ri){return this.splice(Ri,1,ki)}removeObjectAtIndex(ki){return this.splice(ki,1)}getObjectAtIndex(ki){return this.objects[ki]}getSplittableListInRange(ki){const[Ri,ts,rs]=this.splitObjectsAtRange(ki);return new this.constructor(Ri.slice(ts,rs+1))}selectSplittableList(ki){const Ri=this.objects.filter(ts=>ki(ts));return new this.constructor(Ri)}removeObjectsInRange(ki){const[Ri,ts,rs]=this.splitObjectsAtRange(ki);return new this.constructor(Ri).splice(ts,rs-ts+1)}transformObjectsInRange(ki,Ri){const[ts,rs,is]=this.splitObjectsAtRange(ki),ns=ts.map((ss,os)=>rs<=os&&os<=is?Ri(ss):ss);return new this.constructor(ns)}splitObjectsAtRange(ki){let Ri,[ts,rs,is]=this.splitObjectAtPosition(qi(ki));return[ts,Ri]=new this.constructor(ts).splitObjectAtPosition(Hi(ki)+is),[ts,rs,Ri-1]}getObjectAtPosition(ki){const{index:Ri}=this.findIndexAndOffsetAtPosition(ki);return this.objects[Ri]}splitObjectAtPosition(ki){let Ri,ts;const{index:rs,offset:is}=this.findIndexAndOffsetAtPosition(ki),ns=this.objects.slice(0);if(rs!=null)if(is===0)Ri=rs,ts=0;else{const ss=this.getObjectAtIndex(rs),[os,ls]=ss.splitAtOffset(is);ns.splice(rs,1,os,ls),Ri=rs+1,ts=os.getLength()-is}else Ri=ns.length,ts=0;return[ns,Ri,ts]}consolidate(){const ki=[];let Ri=this.objects[0];return this.objects.slice(1).forEach(ts=>{var rs,is;(rs=(is=Ri).canBeConsolidatedWith)!==null&&rs!==void 0&&rs.call(is,ts)?Ri=Ri.consolidateWith(ts):(ki.push(Ri),Ri=ts)}),Ri&&ki.push(Ri),new this.constructor(ki)}consolidateFromIndexToIndex(ki,Ri){const ts=this.objects.slice(0).slice(ki,Ri+1),rs=new this.constructor(ts).consolidate().toArray();return this.splice(ki,ts.length,...rs)}findIndexAndOffsetAtPosition(ki){let Ri,ts=0;for(Ri=0;Ri<this.objects.length;Ri++){const rs=ts+this.objects[Ri].getLength();if(ts<=ki&&ki<rs)return{index:Ri,offset:ki-ts};ts=rs}return{index:null,offset:null}}findPositionAtIndexAndOffset(ki,Ri){let ts=0;for(let rs=0;rs<this.objects.length;rs++){const is=this.objects[rs];if(rs<ki)ts+=is.getLength();else if(rs===ki){ts+=Ri;break}}return ts}getEndPosition(){return this.endPosition==null&&(this.endPosition=0,this.objects.forEach(ki=>this.endPosition+=ki.getLength())),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(ki){return super.isEqualTo(...arguments)||zi(this.objects,ki==null?void 0:ki.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map(ki=>ki.inspect()).join(", "),"]")}}}const zi=function(es){let ki=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(es.length!==ki.length)return!1;let Ri=!0;for(let ts=0;ts<es.length;ts++){const rs=es[ts];Ri&&!rs.isEqualTo(ki[ts])&&(Ri=!1)}return Ri},qi=es=>es[0],Hi=es=>es[1];class Ji extends nt{static textForAttachmentWithAttributes(ki,Ri){return new this([new Wi(ki,Ri)])}static textForStringWithAttributes(ki,Ri){return new this([new Ui(ki,Ri)])}static fromJSON(ki){return new this(Array.from(ki).map(Ri=>Bi.fromJSON(Ri)))}constructor(){let ki=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments);const Ri=ki.filter(ts=>!ts.isEmpty());this.pieceList=new Vi(Ri)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(ki){return new this.constructor(ki.consolidate().toArray())}copyUsingObjectMap(ki){const Ri=this.getPieces().map(ts=>ki.find(ts)||ts);return new this.constructor(Ri)}appendText(ki){return this.insertTextAtPosition(ki,this.getLength())}insertTextAtPosition(ki,Ri){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(ki.pieceList,Ri))}removeTextAtRange(ki){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(ki))}replaceTextAtRange(ki,Ri){return this.removeTextAtRange(Ri).insertTextAtPosition(ki,Ri[0])}moveTextFromRangeToPosition(ki,Ri){if(ki[0]<=Ri&&Ri<=ki[1])return;const ts=this.getTextAtRange(ki),rs=ts.getLength();return ki[0]<Ri&&(Ri-=rs),this.removeTextAtRange(ki).insertTextAtPosition(ts,Ri)}addAttributeAtRange(ki,Ri,ts){const rs={};return rs[ki]=Ri,this.addAttributesAtRange(rs,ts)}addAttributesAtRange(ki,Ri){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(Ri,ts=>ts.copyWithAdditionalAttributes(ki)))}removeAttributeAtRange(ki,Ri){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(Ri,ts=>ts.copyWithoutAttribute(ki)))}setAttributesAtRange(ki,Ri){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(Ri,ts=>ts.copyWithAttributes(ki)))}getAttributesAtPosition(ki){var Ri;return((Ri=this.pieceList.getObjectAtPosition(ki))===null||Ri===void 0?void 0:Ri.getAttributes())||{}}getCommonAttributes(){const ki=Array.from(this.pieceList.toArray()).map(Ri=>Ri.getAttributes());return qt.fromCommonAttributesOfObjects(ki).toObject()}getCommonAttributesAtRange(ki){return this.getTextAtRange(ki).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(ki,Ri){let ts,rs=ts=Ri;const is=this.getLength();for(;rs>0&&this.getCommonAttributesAtRange([rs-1,ts])[ki];)rs--;for(;ts<is&&this.getCommonAttributesAtRange([Ri,ts+1])[ki];)ts++;return[rs,ts]}getTextAtRange(ki){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(ki))}getStringAtRange(ki){return this.pieceList.getSplittableListInRange(ki).toString()}getStringAtPosition(ki){return this.getStringAtRange([ki,ki+1])}startsWithString(ki){return this.getStringAtRange([0,ki.length])===ki}endsWithString(ki){const Ri=this.getLength();return this.getStringAtRange([Ri-ki.length,Ri])===ki}getAttachmentPieces(){return this.pieceList.toArray().filter(ki=>!!ki.attachment)}getAttachments(){return this.getAttachmentPieces().map(ki=>ki.attachment)}getAttachmentAndPositionById(ki){let Ri=0;for(const rs of this.pieceList.toArray()){var ts;if(((ts=rs.attachment)===null||ts===void 0?void 0:ts.id)===ki)return{attachment:rs.attachment,position:Ri};Ri+=rs.length}return{attachment:null,position:null}}getAttachmentById(ki){const{attachment:Ri}=this.getAttachmentAndPositionById(ki);return Ri}getRangeOfAttachment(ki){const Ri=this.getAttachmentAndPositionById(ki.id),ts=Ri.position;if(ki=Ri.attachment)return[ts,ts+1]}updateAttributesForAttachment(ki,Ri){const ts=this.getRangeOfAttachment(Ri);return ts?this.addAttributesAtRange(ki,ts):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return this.getLength()===0}isEqualTo(ki){var Ri;return super.isEqualTo(ki)||(ki==null||(Ri=ki.pieceList)===null||Ri===void 0?void 0:Ri.isEqualTo(this.pieceList))}isBlockBreak(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(ki){return this.pieceList.eachObject(ki)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(ki){return this.pieceList.getObjectAtPosition(ki)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){const ki=this.pieceList.selectSplittableList(Ri=>Ri.isSerializable());return this.copyWithPieceList(ki)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map(ki=>JSON.parse(ki.toConsole())))}getDirection(){return at(this.toString())}isRTL(){return this.getDirection()==="rtl"}}class Ki extends nt{static fromJSON(ki){return new this(Ji.fromJSON(ki.text),ki.attributes,ki.htmlAttributes)}constructor(ki,Ri,ts){super(...arguments),this.text=Gi(ki||new Ji),this.attributes=Ri||[],this.htmlAttributes=ts||{}}isEmpty(){return this.text.isBlockBreak()}isEqualTo(ki){return!!super.isEqualTo(ki)||this.text.isEqualTo(ki==null?void 0:ki.text)&&rt(this.attributes,ki==null?void 0:ki.attributes)&&kt(this.htmlAttributes,ki==null?void 0:ki.htmlAttributes)}copyWithText(ki){return new Ki(ki,this.attributes,this.htmlAttributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(ki){return new Ki(this.text,ki,this.htmlAttributes)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(ki){const Ri=ki.find(this.text);return Ri?this.copyWithText(Ri):this.copyWithText(this.text.copyUsingObjectMap(ki))}addAttribute(ki){const Ri=this.attributes.concat(tn(ki));return this.copyWithAttributes(Ri)}addHTMLAttribute(ki,Ri){const ts=Object.assign({},this.htmlAttributes,{[ki]:Ri});return new Ki(this.text,this.attributes,ts)}removeAttribute(ki){const{listAttribute:Ri}=gt(ki),ts=nn(nn(this.attributes,ki),Ri);return this.copyWithAttributes(ts)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return en(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(ki){return this.attributes[ki-1]}hasAttribute(ki){return this.attributes.includes(ki)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return en(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter(ki=>gt(ki).nestable)}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){const ki=this.getLastNestableAttribute();return ki?this.removeAttribute(ki):this}increaseNestingLevel(){const ki=this.getLastNestableAttribute();if(ki){const Ri=this.attributes.lastIndexOf(ki),ts=ot(this.attributes,Ri+1,0,...tn(ki));return this.copyWithAttributes(ts)}return this}getListItemAttributes(){return this.attributes.filter(ki=>gt(ki).listAttribute)}isListItem(){var ki;return(ki=gt(this.getLastAttribute()))===null||ki===void 0?void 0:ki.listAttribute}isTerminalBlock(){var ki;return(ki=gt(this.getLastAttribute()))===null||ki===void 0?void 0:ki.terminal}breaksOnReturn(){var ki;return(ki=gt(this.getLastAttribute()))===null||ki===void 0?void 0:ki.breakOnReturn}findLineBreakInDirectionFromPosition(ki,Ri){const ts=this.toString();let rs;switch(ki){case"forward":rs=ts.indexOf(`
`,Ri);break;case"backward":rs=ts.slice(0,Ri).lastIndexOf(`
`)}if(rs!==-1)return rs}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes,htmlAttributes:this.htmlAttributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(ki){return!this.hasAttributes()&&!ki.hasAttributes()&&this.getDirection()===ki.getDirection()}consolidateWith(ki){const Ri=Ji.textForStringWithAttributes(`
`),ts=this.getTextWithoutBlockBreak().appendText(Ri);return this.copyWithText(ts.appendText(ki.text))}splitAtOffset(ki){let Ri,ts;return ki===0?(Ri=null,ts=this):ki===this.getLength()?(Ri=this,ts=null):(Ri=this.copyWithText(this.text.getTextAtRange([0,ki])),ts=this.copyWithText(this.text.getTextAtRange([ki,this.getLength()]))),[Ri,ts]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return Zi(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(ki){return this.attributes[ki]}canBeGroupedWith(ki,Ri){const ts=ki.getAttributes(),rs=ts[Ri],is=this.attributes[Ri];return is===rs&&!(gt(is).group===!1&&!(()=>{if(!ht){ht=[];for(const ns in n){const{listAttribute:ss}=n[ns];ss!=null&&ht.push(ss)}}return ht})().includes(ts[Ri+1]))&&(this.getDirection()===ki.getDirection()||ki.isEmpty())}}const Gi=function(es){return es=Yi(es),es=Xi(es)},Yi=function(es){let ki=!1;const Ri=es.getPieces();let ts=Ri.slice(0,Ri.length-1);const rs=Ri[Ri.length-1];return rs?(ts=ts.map(is=>is.isBlockBreak()?(ki=!0,Qi(is)):is),ki?new Ji([...ts,rs]):es):es},$i=Ji.textForStringWithAttributes(`
`,{blockBreak:!0}),Xi=function(es){return Zi(es)?es:es.appendText($i)},Zi=function(es){const ki=es.getLength();return ki===0?!1:es.getTextAtRange([ki-1,ki]).isBlockBreak()},Qi=es=>es.copyWithoutAttribute("blockBreak"),tn=function(es){const{listAttribute:ki}=gt(es);return ki?[ki,es]:[es]},en=es=>es.slice(-1)[0],nn=function(es,ki){const Ri=es.lastIndexOf(ki);return Ri===-1?es:ot(es,Ri,1)};class rn extends nt{static fromJSON(ki){return new this(Array.from(ki).map(Ri=>Ki.fromJSON(Ri)))}static fromString(ki,Ri){const ts=Ji.textForStringWithAttributes(ki,Ri);return new this([new Ki(ts)])}constructor(){let ki=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),ki.length===0&&(ki=[new Ki]),this.blockList=Vi.box(ki)}isEmpty(){const ki=this.getBlockAtIndex(0);return this.blockList.length===1&&ki.isEmpty()&&!ki.hasAttributes()}copy(){const ki=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(ki)}copyUsingObjectsFromDocument(ki){const Ri=new Xt(ki.getObjects());return this.copyUsingObjectMap(Ri)}copyUsingObjectMap(ki){const Ri=this.getBlocks().map(ts=>ki.find(ts)||ts.copyUsingObjectMap(ki));return new this.constructor(Ri)}copyWithBaseBlockAttributes(){let ki=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const Ri=this.getBlocks().map(ts=>{const rs=ki.concat(ts.getAttributes());return ts.copyWithAttributes(rs)});return new this.constructor(Ri)}replaceBlock(ki,Ri){const ts=this.blockList.indexOf(ki);return ts===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(Ri,ts))}insertDocumentAtRange(ki,Ri){const{blockList:ts}=ki;Ri=Tt(Ri);let[rs]=Ri;const{index:is,offset:ns}=this.locationFromPosition(rs);let ss=this;const os=this.getBlockAtPosition(rs);return wt(Ri)&&os.isEmpty()&&!os.hasAttributes()?ss=new this.constructor(ss.blockList.removeObjectAtIndex(is)):os.getBlockBreakPosition()===ns&&rs++,ss=ss.removeTextAtRange(Ri),new this.constructor(ss.blockList.insertSplittableListAtPosition(ts,rs))}mergeDocumentAtRange(ki,Ri){let ts,rs;Ri=Tt(Ri);const[is]=Ri,ns=this.locationFromPosition(is),ss=this.getBlockAtIndex(ns.index).getAttributes(),os=ki.getBaseBlockAttributes(),ls=ss.slice(-os.length);if(rt(os,ls)){const us=ss.slice(0,-os.length);ts=ki.copyWithBaseBlockAttributes(us)}else ts=ki.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(ss);const cs=ts.getBlockCount(),hs=ts.getBlockAtIndex(0);if(rt(ss,hs.getAttributes())){const us=hs.getTextWithoutBlockBreak();if(rs=this.insertTextAtRange(us,Ri),cs>1){ts=new this.constructor(ts.getBlocks().slice(1));const As=is+us.getLength();rs=rs.insertDocumentAtRange(ts,As)}}else rs=this.insertDocumentAtRange(ts,Ri);return rs}insertTextAtRange(ki,Ri){Ri=Tt(Ri);const[ts]=Ri,{index:rs,offset:is}=this.locationFromPosition(ts),ns=this.removeTextAtRange(Ri);return new this.constructor(ns.blockList.editObjectAtIndex(rs,ss=>ss.copyWithText(ss.text.insertTextAtPosition(ki,is))))}removeTextAtRange(ki){let Ri;ki=Tt(ki);const[ts,rs]=ki;if(wt(ki))return this;const[is,ns]=Array.from(this.locationRangeFromRange(ki)),ss=is.index,os=is.offset,ls=this.getBlockAtIndex(ss),cs=ns.index,hs=ns.offset,us=this.getBlockAtIndex(cs);if(rs-ts==1&&ls.getBlockBreakPosition()===os&&us.getBlockBreakPosition()!==hs&&us.text.getStringAtPosition(hs)===`
`)Ri=this.blockList.editObjectAtIndex(cs,As=>As.copyWithText(As.text.removeTextAtRange([hs,hs+1])));else{let As;const bs=ls.text.getTextAtRange([0,os]),ys=us.text.getTextAtRange([hs,us.getLength()]),Cs=bs.appendText(ys);As=ss!==cs&&os===0&&ls.getAttributeLevel()>=us.getAttributeLevel()?us.copyWithText(Cs):ls.copyWithText(Cs);const ps=cs+1-ss;Ri=this.blockList.splice(ss,ps,As)}return new this.constructor(Ri)}moveTextFromRangeToPosition(ki,Ri){let ts;ki=Tt(ki);const[rs,is]=ki;if(rs<=Ri&&Ri<=is)return this;let ns=this.getDocumentAtRange(ki),ss=this.removeTextAtRange(ki);const os=rs<Ri;os&&(Ri-=ns.getLength());const[ls,...cs]=ns.getBlocks();return cs.length===0?(ts=ls.getTextWithoutBlockBreak(),os&&(Ri+=1)):ts=ls.text,ss=ss.insertTextAtRange(ts,Ri),cs.length===0?ss:(ns=new this.constructor(cs),Ri+=ts.getLength(),ss.insertDocumentAtRange(ns,Ri))}addAttributeAtRange(ki,Ri,ts){let{blockList:rs}=this;return this.eachBlockAtRange(ts,(is,ns,ss)=>rs=rs.editObjectAtIndex(ss,function(){return gt(ki)?is.addAttribute(ki,Ri):ns[0]===ns[1]?is:is.copyWithText(is.text.addAttributeAtRange(ki,Ri,ns))})),new this.constructor(rs)}addAttribute(ki,Ri){let{blockList:ts}=this;return this.eachBlock((rs,is)=>ts=ts.editObjectAtIndex(is,()=>rs.addAttribute(ki,Ri))),new this.constructor(ts)}removeAttributeAtRange(ki,Ri){let{blockList:ts}=this;return this.eachBlockAtRange(Ri,function(rs,is,ns){gt(ki)?ts=ts.editObjectAtIndex(ns,()=>rs.removeAttribute(ki)):is[0]!==is[1]&&(ts=ts.editObjectAtIndex(ns,()=>rs.copyWithText(rs.text.removeAttributeAtRange(ki,is))))}),new this.constructor(ts)}updateAttributesForAttachment(ki,Ri){const ts=this.getRangeOfAttachment(Ri),[rs]=Array.from(ts),{index:is}=this.locationFromPosition(rs),ns=this.getTextAtIndex(is);return new this.constructor(this.blockList.editObjectAtIndex(is,ss=>ss.copyWithText(ns.updateAttributesForAttachment(ki,Ri))))}removeAttributeForAttachment(ki,Ri){const ts=this.getRangeOfAttachment(Ri);return this.removeAttributeAtRange(ki,ts)}setHTMLAttributeAtPosition(ki,Ri,ts){const rs=this.getBlockAtPosition(ki),is=rs.addHTMLAttribute(Ri,ts);return this.replaceBlock(rs,is)}insertBlockBreakAtRange(ki){let Ri;ki=Tt(ki);const[ts]=ki,{offset:rs}=this.locationFromPosition(ts),is=this.removeTextAtRange(ki);return rs===0&&(Ri=[new Ki]),new this.constructor(is.blockList.insertSplittableListAtPosition(new Vi(Ri),ts))}applyBlockAttributeAtRange(ki,Ri,ts){const rs=this.expandRangeToLineBreaksAndSplitBlocks(ts);let is=rs.document;ts=rs.range;const ns=gt(ki);if(ns.listAttribute){is=is.removeLastListAttributeAtRange(ts,{exceptAttributeName:ki});const ss=is.convertLineBreaksToBlockBreaksInRange(ts);is=ss.document,ts=ss.range}else is=ns.exclusive?is.removeBlockAttributesAtRange(ts):ns.terminal?is.removeLastTerminalAttributeAtRange(ts):is.consolidateBlocksAtRange(ts);return is.addAttributeAtRange(ki,Ri,ts)}removeLastListAttributeAtRange(ki){let Ri=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{blockList:ts}=this;return this.eachBlockAtRange(ki,function(rs,is,ns){const ss=rs.getLastAttribute();ss&&gt(ss).listAttribute&&ss!==Ri.exceptAttributeName&&(ts=ts.editObjectAtIndex(ns,()=>rs.removeAttribute(ss)))}),new this.constructor(ts)}removeLastTerminalAttributeAtRange(ki){let{blockList:Ri}=this;return this.eachBlockAtRange(ki,function(ts,rs,is){const ns=ts.getLastAttribute();ns&&gt(ns).terminal&&(Ri=Ri.editObjectAtIndex(is,()=>ts.removeAttribute(ns)))}),new this.constructor(Ri)}removeBlockAttributesAtRange(ki){let{blockList:Ri}=this;return this.eachBlockAtRange(ki,function(ts,rs,is){ts.hasAttributes()&&(Ri=Ri.editObjectAtIndex(is,()=>ts.copyWithoutAttributes()))}),new this.constructor(Ri)}expandRangeToLineBreaksAndSplitBlocks(ki){let Ri;ki=Tt(ki);let[ts,rs]=ki;const is=this.locationFromPosition(ts),ns=this.locationFromPosition(rs);let ss=this;const os=ss.getBlockAtIndex(is.index);if(is.offset=os.findLineBreakInDirectionFromPosition("backward",is.offset),is.offset!=null&&(Ri=ss.positionFromLocation(is),ss=ss.insertBlockBreakAtRange([Ri,Ri+1]),ns.index+=1,ns.offset-=ss.getBlockAtIndex(is.index).getLength(),is.index+=1),is.offset=0,ns.offset===0&&ns.index>is.index)ns.index-=1,ns.offset=ss.getBlockAtIndex(ns.index).getBlockBreakPosition();else{const ls=ss.getBlockAtIndex(ns.index);ls.text.getStringAtRange([ns.offset-1,ns.offset])===`
`?ns.offset-=1:ns.offset=ls.findLineBreakInDirectionFromPosition("forward",ns.offset),ns.offset!==ls.getBlockBreakPosition()&&(Ri=ss.positionFromLocation(ns),ss=ss.insertBlockBreakAtRange([Ri,Ri+1]))}return ts=ss.positionFromLocation(is),rs=ss.positionFromLocation(ns),{document:ss,range:ki=Tt([ts,rs])}}convertLineBreaksToBlockBreaksInRange(ki){ki=Tt(ki);let[Ri]=ki;const ts=this.getStringAtRange(ki).slice(0,-1);let rs=this;return ts.replace(/.*?\n/g,function(is){Ri+=is.length,rs=rs.insertBlockBreakAtRange([Ri-1,Ri])}),{document:rs,range:ki}}consolidateBlocksAtRange(ki){ki=Tt(ki);const[Ri,ts]=ki,rs=this.locationFromPosition(Ri).index,is=this.locationFromPosition(ts).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(rs,is))}getDocumentAtRange(ki){ki=Tt(ki);const Ri=this.blockList.getSplittableListInRange(ki).toArray();return new this.constructor(Ri)}getStringAtRange(ki){let Ri;const ts=ki=Tt(ki);return ts[ts.length-1]!==this.getLength()&&(Ri=-1),this.getDocumentAtRange(ki).toString().slice(0,Ri)}getBlockAtIndex(ki){return this.blockList.getObjectAtIndex(ki)}getBlockAtPosition(ki){const{index:Ri}=this.locationFromPosition(ki);return this.getBlockAtIndex(Ri)}getTextAtIndex(ki){var Ri;return(Ri=this.getBlockAtIndex(ki))===null||Ri===void 0?void 0:Ri.text}getTextAtPosition(ki){const{index:Ri}=this.locationFromPosition(ki);return this.getTextAtIndex(Ri)}getPieceAtPosition(ki){const{index:Ri,offset:ts}=this.locationFromPosition(ki);return this.getTextAtIndex(Ri).getPieceAtPosition(ts)}getCharacterAtPosition(ki){const{index:Ri,offset:ts}=this.locationFromPosition(ki);return this.getTextAtIndex(Ri).getStringAtRange([ts,ts+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(ki){return this.blockList.eachObject(ki)}eachBlockAtRange(ki,Ri){let ts,rs;ki=Tt(ki);const[is,ns]=ki,ss=this.locationFromPosition(is),os=this.locationFromPosition(ns);if(ss.index===os.index)return ts=this.getBlockAtIndex(ss.index),rs=[ss.offset,os.offset],Ri(ts,rs,ss.index);for(let ls=ss.index;ls<=os.index;ls++)if(ts=this.getBlockAtIndex(ls),ts){switch(ls){case ss.index:rs=[ss.offset,ts.text.getLength()];break;case os.index:rs=[0,os.offset];break;default:rs=[0,ts.text.getLength()]}Ri(ts,rs,ls)}}getCommonAttributesAtRange(ki){ki=Tt(ki);const[Ri]=ki;if(wt(ki))return this.getCommonAttributesAtPosition(Ri);{const ts=[],rs=[];return this.eachBlockAtRange(ki,function(is,ns){if(ns[0]!==ns[1])return ts.push(is.text.getCommonAttributesAtRange(ns)),rs.push(on(is))}),qt.fromCommonAttributesOfObjects(ts).merge(qt.fromCommonAttributesOfObjects(rs)).toObject()}}getCommonAttributesAtPosition(ki){let Ri,ts;const{index:rs,offset:is}=this.locationFromPosition(ki),ns=this.getBlockAtIndex(rs);if(!ns)return{};const ss=on(ns),os=ns.text.getAttributesAtPosition(is),ls=ns.text.getAttributesAtPosition(is-1),cs=Object.keys(j).filter(hs=>j[hs].inheritable);for(Ri in ls)ts=ls[Ri],(ts===os[Ri]||cs.includes(Ri))&&(ss[Ri]=ts);return ss}getRangeOfCommonAttributeAtPosition(ki,Ri){const{index:ts,offset:rs}=this.locationFromPosition(Ri),is=this.getTextAtIndex(ts),[ns,ss]=Array.from(is.getExpandedRangeForAttributeAtOffset(ki,rs)),os=this.positionFromLocation({index:ts,offset:ns}),ls=this.positionFromLocation({index:ts,offset:ss});return Tt([os,ls])}getBaseBlockAttributes(){let ki=this.getBlockAtIndex(0).getAttributes();for(let Ri=1;Ri<this.getBlockCount();Ri++){const ts=this.getBlockAtIndex(Ri).getAttributes(),rs=Math.min(ki.length,ts.length);ki=(()=>{const is=[];for(let ns=0;ns<rs&&ts[ns]===ki[ns];ns++)is.push(ts[ns]);return is})()}return ki}getAttachmentById(ki){for(const Ri of this.getAttachments())if(Ri.id===ki)return Ri}getAttachmentPieces(){let ki=[];return this.blockList.eachObject(Ri=>{let{text:ts}=Ri;return ki=ki.concat(ts.getAttachmentPieces())}),ki}getAttachments(){return this.getAttachmentPieces().map(ki=>ki.attachment)}getRangeOfAttachment(ki){let Ri=0;const ts=this.blockList.toArray();for(let rs=0;rs<ts.length;rs++){const{text:is}=ts[rs],ns=is.getRangeOfAttachment(ki);if(ns)return Tt([Ri+ns[0],Ri+ns[1]]);Ri+=is.getLength()}}getLocationRangeOfAttachment(ki){const Ri=this.getRangeOfAttachment(ki);return this.locationRangeFromRange(Ri)}getAttachmentPieceForAttachment(ki){for(const Ri of this.getAttachmentPieces())if(Ri.attachment===ki)return Ri}findRangesForBlockAttribute(ki){let Ri=0;const ts=[];return this.getBlocks().forEach(rs=>{const is=rs.getLength();rs.hasAttribute(ki)&&ts.push([Ri,Ri+is]),Ri+=is}),ts}findRangesForTextAttribute(ki){let{withValue:Ri}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ts=0,rs=[];const is=[];return this.getPieces().forEach(ns=>{const ss=ns.getLength();(function(os){return Ri?os.getAttribute(ki)===Ri:os.hasAttribute(ki)})(ns)&&(rs[1]===ts?rs[1]=ts+ss:is.push(rs=[ts,ts+ss])),ts+=ss}),is}locationFromPosition(ki){const Ri=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,ki));if(Ri.index!=null)return Ri;{const ts=this.getBlocks();return{index:ts.length-1,offset:ts[ts.length-1].getLength()}}}positionFromLocation(ki){return this.blockList.findPositionAtIndexAndOffset(ki.index,ki.offset)}locationRangeFromPosition(ki){return Tt(this.locationFromPosition(ki))}locationRangeFromRange(ki){if(!(ki=Tt(ki)))return;const[Ri,ts]=Array.from(ki),rs=this.locationFromPosition(Ri),is=this.locationFromPosition(ts);return Tt([rs,is])}rangeFromLocationRange(ki){let Ri;ki=Tt(ki);const ts=this.positionFromLocation(ki[0]);return wt(ki)||(Ri=this.positionFromLocation(ki[1])),Tt([ts,Ri])}isEqualTo(ki){return this.blockList.isEqualTo(ki==null?void 0:ki.blockList)}getTexts(){return this.getBlocks().map(ki=>ki.text)}getPieces(){const ki=[];return Array.from(this.getTexts()).forEach(Ri=>{ki.push(...Array.from(Ri.getPieces()||[]))}),ki}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){const ki=[];return this.blockList.eachObject(Ri=>ki.push(Ri.copyWithText(Ri.text.toSerializableText()))),new this.constructor(ki)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray().map(ki=>JSON.parse(ki.text.toConsole())))}}const on=function(es){const ki={},Ri=es.getLastAttribute();return Ri&&(ki[Ri]=!0),ki},sn=function(es){let ki=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{string:es=jt(es),attributes:ki,type:"string"}},an=(es,ki)=>{try{return JSON.parse(es.getAttribute("data-trix-".concat(ki)))}catch{return{}}};class ln extends z{static parse(ki,Ri){const ts=new this(ki,Ri);return ts.parse(),ts}constructor(ki){let{referenceElement:Ri}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.html=ki,this.referenceElement=Ri,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return rn.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer(),ci.setHTML(this.containerElement,this.html);const ki=S(this.containerElement,{usingFilter:dn});for(;ki.nextNode();)this.processNode(ki.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=k({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return E(this.containerElement)}processNode(ki){switch(ki.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(ki))return this.appendBlockForTextNode(ki),this.processTextNode(ki);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(ki),this.processElement(ki)}}appendBlockForTextNode(ki){const Ri=ki.parentNode;if(Ri===this.currentBlockElement&&this.isBlockElement(ki.previousSibling))return this.appendStringWithAttributes(`
`);if(Ri===this.containerElement||this.isBlockElement(Ri)){var ts;const rs=this.getBlockAttributes(Ri),is=this.getBlockHTMLAttributes(Ri);rt(rs,(ts=this.currentBlock)===null||ts===void 0?void 0:ts.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(rs,Ri,is),this.currentBlockElement=Ri)}}appendBlockForElement(ki){const Ri=this.isBlockElement(ki),ts=x(this.currentBlockElement,ki);if(Ri&&!this.isBlockElement(ki.firstChild)){if(!this.isInsignificantTextNode(ki.firstChild)||!this.isBlockElement(ki.firstElementChild)){const rs=this.getBlockAttributes(ki),is=this.getBlockHTMLAttributes(ki);if(ki.firstChild){if(ts&&rt(rs,this.currentBlock.attributes))return this.appendStringWithAttributes(`
`);this.currentBlock=this.appendBlockForAttributesWithElement(rs,ki,is),this.currentBlockElement=ki}}}else if(this.currentBlockElement&&!ts&&!Ri){const rs=this.findParentBlockElement(ki);if(rs)return this.appendBlockForElement(rs);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(ki){let{parentElement:Ri}=ki;for(;Ri&&Ri!==this.containerElement;){if(this.isBlockElement(Ri)&&this.blockElements.includes(Ri))return Ri;Ri=Ri.parentElement}return null}processTextNode(ki){let Ri=ki.data;var ts;return cn(ki.parentNode)||(Ri=Ut(Ri),pn((ts=ki.previousSibling)===null||ts===void 0?void 0:ts.textContent)&&(Ri=gn(Ri))),this.appendStringWithAttributes(Ri,this.getTextAttributes(ki.parentNode))}processElement(ki){let Ri;if(P(ki)){if(Ri=an(ki,"attachment"),Object.keys(Ri).length){const ts=this.getTextAttributes(ki);this.appendAttachmentWithAttributes(Ri,ts),ki.innerHTML=""}return this.processedElements.push(ki)}switch(R(ki)){case"br":return this.isExtraBR(ki)||this.isBlockElement(ki.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(ki)),this.processedElements.push(ki);case"img":Ri={url:ki.getAttribute("src"),contentType:"image"};const ts=(rs=>{const is=rs.getAttribute("width"),ns=rs.getAttribute("height"),ss={};return is&&(ss.width=parseInt(is,10)),ns&&(ss.height=parseInt(ns,10)),ss})(ki);for(const rs in ts){const is=ts[rs];Ri[rs]=is}return this.appendAttachmentWithAttributes(Ri,this.getTextAttributes(ki)),this.processedElements.push(ki);case"tr":if(this.needsTableSeparator(ki))return this.appendStringWithAttributes(_.tableRowSeparator);break;case"td":if(this.needsTableSeparator(ki))return this.appendStringWithAttributes(_.tableCellSeparator)}}appendBlockForAttributesWithElement(ki,Ri){let ts=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.blockElements.push(Ri);const rs=function(){return{text:[],attributes:arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},htmlAttributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}}}(ki,ts);return this.blocks.push(rs),rs}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(ki,Ri){return this.appendPiece(sn(ki,Ri))}appendAttachmentWithAttributes(ki,Ri){return this.appendPiece(function(ts){return{attachment:ts,attributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},type:"attachment"}}(ki,Ri))}appendPiece(ki){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(ki)}appendStringToTextAtIndex(ki,Ri){const{text:ts}=this.blocks[Ri],rs=ts[ts.length-1];if((rs==null?void 0:rs.type)!=="string")return ts.push(sn(ki));rs.string+=ki}prependStringToTextAtIndex(ki,Ri){const{text:ts}=this.blocks[Ri],rs=ts[0];if((rs==null?void 0:rs.type)!=="string")return ts.unshift(sn(ki));rs.string=ki+rs.string}getTextAttributes(ki){let Ri;const ts={};for(const rs in j){const is=j[rs];if(is.tagName&&A(ki,{matchingSelector:is.tagName,untilNode:this.containerElement}))ts[rs]=!0;else if(is.parser){if(Ri=is.parser(ki),Ri){let ns=!1;for(const ss of this.findBlockElementAncestors(ki))if(is.parser(ss)===Ri){ns=!0;break}ns||(ts[rs]=Ri)}}else is.styleProperty&&(Ri=ki.style[is.styleProperty],Ri&&(ts[rs]=Ri))}if(P(ki)){const rs=an(ki,"attributes");for(const is in rs)Ri=rs[is],ts[is]=Ri}return ts}getBlockAttributes(ki){const Ri=[];for(;ki&&ki!==this.containerElement;){for(const rs in n){const is=n[rs];var ts;is.parse!==!1&&R(ki)===is.tagName&&((ts=is.test)!==null&&ts!==void 0&&ts.call(is,ki)||!is.test)&&(Ri.push(rs),is.listAttribute&&Ri.push(is.listAttribute))}ki=ki.parentNode}return Ri.reverse()}getBlockHTMLAttributes(ki){const Ri={},ts=Object.values(n).find(rs=>rs.tagName===R(ki));return((ts==null?void 0:ts.htmlAttributes)||[]).forEach(rs=>{ki.hasAttribute(rs)&&(Ri[rs]=ki.getAttribute(rs))}),Ri}findBlockElementAncestors(ki){const Ri=[];for(;ki&&ki!==this.containerElement;){const ts=R(ki);w().includes(ts)&&Ri.push(ki),ki=ki.parentNode}return Ri}isBlockElement(ki){if((ki==null?void 0:ki.nodeType)===Node.ELEMENT_NODE&&!P(ki)&&!A(ki,{matchingSelector:"td",untilNode:this.containerElement}))return w().includes(R(ki))||window.getComputedStyle(ki).display==="block"}isInsignificantTextNode(ki){if((ki==null?void 0:ki.nodeType)!==Node.TEXT_NODE||!mn(ki.data))return;const{parentNode:Ri,previousSibling:ts,nextSibling:rs}=ki;return un(Ri.previousSibling)&&!this.isBlockElement(Ri.previousSibling)||cn(Ri)?void 0:!ts||this.isBlockElement(ts)||!rs||this.isBlockElement(rs)}isExtraBR(ki){return R(ki)==="br"&&this.isBlockElement(ki.parentNode)&&ki.parentNode.lastChild===ki}needsTableSeparator(ki){if(_.removeBlankTableCells){var Ri;const ts=(Ri=ki.previousSibling)===null||Ri===void 0?void 0:Ri.textContent;return ts&&/\S/.test(ts)}return ki.previousSibling}translateBlockElementMarginsToNewlines(){const ki=this.getMarginOfDefaultBlockElement();for(let Ri=0;Ri<this.blocks.length;Ri++){const ts=this.getMarginOfBlockElementAtIndex(Ri);ts&&(ts.top>2*ki.top&&this.prependStringToTextAtIndex(`
`,Ri),ts.bottom>2*ki.bottom&&this.appendStringToTextAtIndex(`
`,Ri))}}getMarginOfBlockElementAtIndex(ki){const Ri=this.blockElements[ki];if(Ri&&Ri.textContent&&!w().includes(R(Ri))&&!this.processedElements.includes(Ri))return hn(Ri)}getMarginOfDefaultBlockElement(){const ki=k(n.default.tagName);return this.containerElement.appendChild(ki),hn(ki)}}const cn=function(es){const{whiteSpace:ki}=window.getComputedStyle(es);return["pre","pre-wrap","pre-line"].includes(ki)},un=es=>es&&!pn(es.textContent),hn=function(es){const ki=window.getComputedStyle(es);if(ki.display==="block")return{top:parseInt(ki.marginTop),bottom:parseInt(ki.marginBottom)}},dn=function(es){return R(es)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},gn=es=>es.replace(new RegExp("^".concat(Wt.source,"+")),""),mn=es=>new RegExp("^".concat(Wt.source,"*$")).test(es),pn=es=>/\s$/.test(es),fn=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],bn="data-trix-serialized-attributes",vn="[".concat(bn,"]"),An=new RegExp("<!--block-->","g"),yn={"application/json":function(es){let ki;if(es instanceof rn)ki=es;else{if(!(es instanceof HTMLElement))throw new Error("unserializable object");ki=ln.parse(es.innerHTML).getDocument()}return ki.toSerializableDocument().toJSONString()},"text/html":function(es){let ki;if(es instanceof rn)ki=xi.render(es);else{if(!(es instanceof HTMLElement))throw new Error("unserializable object");ki=es.cloneNode(!0)}return Array.from(ki.querySelectorAll("[data-trix-serialize=false]")).forEach(Ri=>{E(Ri)}),fn.forEach(Ri=>{Array.from(ki.querySelectorAll("[".concat(Ri,"]"))).forEach(ts=>{ts.removeAttribute(Ri)})}),Array.from(ki.querySelectorAll(vn)).forEach(Ri=>{try{const ts=JSON.parse(Ri.getAttribute(bn));Ri.removeAttribute(bn);for(const rs in ts){const is=ts[rs];Ri.setAttribute(rs,is)}}catch{}}),ki.innerHTML.replace(An,"")}};var xn=Object.freeze({__proto__:null});class Cn extends z{constructor(ki,Ri){super(...arguments),this.attachmentManager=ki,this.attachment=Ri,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}}Cn.proxyMethod("attachment.getAttribute"),Cn.proxyMethod("attachment.hasAttribute"),Cn.proxyMethod("attachment.setAttribute"),Cn.proxyMethod("attachment.getAttributes"),Cn.proxyMethod("attachment.setAttributes"),Cn.proxyMethod("attachment.isPending"),Cn.proxyMethod("attachment.isPreviewable"),Cn.proxyMethod("attachment.getURL"),Cn.proxyMethod("attachment.getHref"),Cn.proxyMethod("attachment.getFilename"),Cn.proxyMethod("attachment.getFilesize"),Cn.proxyMethod("attachment.getFormattedFilesize"),Cn.proxyMethod("attachment.getExtension"),Cn.proxyMethod("attachment.getContentType"),Cn.proxyMethod("attachment.getFile"),Cn.proxyMethod("attachment.setFile"),Cn.proxyMethod("attachment.releaseFile"),Cn.proxyMethod("attachment.getUploadProgress"),Cn.proxyMethod("attachment.setUploadProgress");class En extends z{constructor(){let ki=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(ki).forEach(Ri=>{this.manageAttachment(Ri)})}getAttachments(){const ki=[];for(const Ri in this.managedAttachments){const ts=this.managedAttachments[Ri];ki.push(ts)}return ki}manageAttachment(ki){return this.managedAttachments[ki.id]||(this.managedAttachments[ki.id]=new Cn(this,ki)),this.managedAttachments[ki.id]}attachmentIsManaged(ki){return ki.id in this.managedAttachments}requestRemovalOfAttachment(ki){var Ri,ts;if(this.attachmentIsManaged(ki))return(Ri=this.delegate)===null||Ri===void 0||(ts=Ri.attachmentManagerDidRequestRemovalOfAttachment)===null||ts===void 0?void 0:ts.call(Ri,ki)}unmanageAttachment(ki){const Ri=this.managedAttachments[ki.id];return delete this.managedAttachments[ki.id],Ri}}class Sn{constructor(ki){this.composition=ki,this.document=this.composition.document;const Ri=this.composition.getSelectedRange();this.startPosition=Ri[0],this.endPosition=Ri[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}}class Rn extends z{constructor(){super(...arguments),this.document=new rn,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(ki){var Ri,ts;if(!ki.isEqualTo(this.document))return this.document=ki,this.refreshAttachments(),this.revision++,(Ri=this.delegate)===null||Ri===void 0||(ts=Ri.compositionDidChangeDocument)===null||ts===void 0?void 0:ts.call(Ri,ki)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(ki){var Ri,ts,rs,is;let{document:ns,selectedRange:ss}=ki;return(Ri=this.delegate)===null||Ri===void 0||(ts=Ri.compositionWillLoadSnapshot)===null||ts===void 0||ts.call(Ri),this.setDocument(ns??new rn),this.setSelection(ss??[0,0]),(rs=this.delegate)===null||rs===void 0||(is=rs.compositionDidLoadSnapshot)===null||is===void 0?void 0:is.call(rs)}insertText(ki){let{updatePosition:Ri}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{updatePosition:!0};const ts=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(ki,ts));const rs=ts[0],is=rs+ki.getLength();return Ri&&this.setSelection(is),this.notifyDelegateOfInsertionAtRange([rs,is])}insertBlock(){let ki=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Ki;const Ri=new rn([ki]);return this.insertDocument(Ri)}insertDocument(){let ki=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new rn;const Ri=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(ki,Ri));const ts=Ri[0],rs=ts+ki.getLength();return this.setSelection(rs),this.notifyDelegateOfInsertionAtRange([ts,rs])}insertString(ki,Ri){const ts=this.getCurrentTextAttributes(),rs=Ji.textForStringWithAttributes(ki,ts);return this.insertText(rs,Ri)}insertBlockBreak(){const ki=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(ki));const Ri=ki[0],ts=Ri+1;return this.setSelection(ts),this.notifyDelegateOfInsertionAtRange([Ri,ts])}insertLineBreak(){const ki=new Sn(this);if(ki.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(ki.startPosition);if(ki.shouldPrependListItem()){const Ri=new rn([ki.block.copyWithoutText()]);return this.insertDocument(Ri)}return ki.shouldInsertBlockBreak()?this.insertBlockBreak():ki.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():ki.shouldBreakFormattedBlock()?this.breakFormattedBlock(ki):this.insertString(`
`)}insertHTML(ki){const Ri=ln.parse(ki).getDocument(),ts=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(Ri,ts));const rs=ts[0],is=rs+Ri.getLength()-1;return this.setSelection(is),this.notifyDelegateOfInsertionAtRange([rs,is])}replaceHTML(ki){const Ri=ln.parse(ki).getDocument().copyUsingObjectsFromDocument(this.document),ts=this.getLocationRange({strict:!1}),rs=this.document.rangeFromLocationRange(ts);return this.setDocument(Ri),this.setSelection(rs)}insertFile(ki){return this.insertFiles([ki])}insertFiles(ki){const Ri=[];return Array.from(ki).forEach(ts=>{var rs;if((rs=this.delegate)!==null&&rs!==void 0&&rs.compositionShouldAcceptFile(ts)){const is=ji.attachmentForFile(ts);Ri.push(is)}}),this.insertAttachments(Ri)}insertAttachment(ki){return this.insertAttachments([ki])}insertAttachments(ki){let Ri=new Ji;return Array.from(ki).forEach(ts=>{var rs;const is=ts.getType(),ns=(rs=i[is])===null||rs===void 0?void 0:rs.presentation,ss=this.getCurrentTextAttributes();ns&&(ss.presentation=ns);const os=Ji.textForAttachmentWithAttributes(ts,ss);Ri=Ri.appendText(os)}),this.insertText(Ri)}shouldManageDeletingInDirection(ki){const Ri=this.getLocationRange();if(wt(Ri)){if(ki==="backward"&&Ri[0].offset===0||this.shouldManageMovingCursorInDirection(ki))return!0}else if(Ri[0].index!==Ri[1].index)return!0;return!1}deleteInDirection(ki){let Ri,ts,rs,{length:is}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const ns=this.getLocationRange();let ss=this.getSelectedRange();const os=wt(ss);if(os?ts=ki==="backward"&&ns[0].offset===0:rs=ns[0].index!==ns[1].index,ts&&this.canDecreaseBlockAttributeLevel()){const ls=this.getBlock();if(ls.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(ss[0]),ls.isEmpty())return!1}return os&&(ss=this.getExpandedRangeInDirection(ki,{length:is}),ki==="backward"&&(Ri=this.getAttachmentAtRange(ss))),Ri?(this.editAttachment(Ri),!1):(this.setDocument(this.document.removeTextAtRange(ss)),this.setSelection(ss[0]),!ts&&!rs&&void 0)}moveTextFromRange(ki){const[Ri]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(ki,Ri)),this.setSelection(Ri)}removeAttachment(ki){const Ri=this.document.getRangeOfAttachment(ki);if(Ri)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(Ri)),this.setSelection(Ri[0])}removeLastBlockAttribute(){const[ki,Ri]=Array.from(this.getSelectedRange()),ts=this.document.getBlockAtPosition(Ri);return this.removeCurrentAttribute(ts.getLastAttribute()),this.setSelection(ki)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")}selectPlaceholder(){if(this.placeholderPosition!=null)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(ki){const Ri=this.currentAttributes[ki];return Ri!=null&&Ri!==!1}toggleCurrentAttribute(ki){const Ri=!this.currentAttributes[ki];return Ri?this.setCurrentAttribute(ki,Ri):this.removeCurrentAttribute(ki)}canSetCurrentAttribute(ki){return gt(ki)?this.canSetCurrentBlockAttribute(ki):this.canSetCurrentTextAttribute(ki)}canSetCurrentTextAttribute(ki){const Ri=this.getSelectedDocument();if(Ri){for(const ts of Array.from(Ri.getAttachments()))if(!ts.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(ki){const Ri=this.getBlock();if(Ri)return!Ri.isTerminalBlock()}setCurrentAttribute(ki,Ri){return gt(ki)?this.setBlockAttribute(ki,Ri):(this.setTextAttribute(ki,Ri),this.currentAttributes[ki]=Ri,this.notifyDelegateOfCurrentAttributesChange())}setHTMLAtributeAtPosition(ki,Ri,ts){var rs;const is=this.document.getBlockAtPosition(ki),ns=(rs=gt(is.getLastAttribute()))===null||rs===void 0?void 0:rs.htmlAttributes;if(is&&ns!=null&&ns.includes(Ri)){const ss=this.document.setHTMLAttributeAtPosition(ki,Ri,ts);this.setDocument(ss)}}setTextAttribute(ki,Ri){const ts=this.getSelectedRange();if(!ts)return;const[rs,is]=Array.from(ts);if(rs!==is)return this.setDocument(this.document.addAttributeAtRange(ki,Ri,ts));if(ki==="href"){const ns=Ji.textForStringWithAttributes(Ri,{href:Ri});return this.insertText(ns)}}setBlockAttribute(ki,Ri){const ts=this.getSelectedRange();if(this.canSetCurrentAttribute(ki))return this.setDocument(this.document.applyBlockAttributeAtRange(ki,Ri,ts)),this.setSelection(ts)}removeCurrentAttribute(ki){return gt(ki)?(this.removeBlockAttribute(ki),this.updateCurrentAttributes()):(this.removeTextAttribute(ki),delete this.currentAttributes[ki],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(ki){const Ri=this.getSelectedRange();if(Ri)return this.setDocument(this.document.removeAttributeAtRange(ki,Ri))}removeBlockAttribute(ki){const Ri=this.getSelectedRange();if(Ri)return this.setDocument(this.document.removeAttributeAtRange(ki,Ri))}canDecreaseNestingLevel(){var ki;return((ki=this.getBlock())===null||ki===void 0?void 0:ki.getNestingLevel())>0}canIncreaseNestingLevel(){var ki;const Ri=this.getBlock();if(Ri){if((ki=gt(Ri.getLastNestableAttribute()))===null||ki===void 0||!ki.listAttribute)return Ri.getNestingLevel()>0;{const ts=this.getPreviousBlock();if(ts)return function(){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return rt((arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).slice(0,rs.length),rs)}(ts.getListItemAttributes(),Ri.getListItemAttributes())}}}decreaseNestingLevel(){const ki=this.getBlock();if(ki)return this.setDocument(this.document.replaceBlock(ki,ki.decreaseNestingLevel()))}increaseNestingLevel(){const ki=this.getBlock();if(ki)return this.setDocument(this.document.replaceBlock(ki,ki.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var ki;return((ki=this.getBlock())===null||ki===void 0?void 0:ki.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var ki;const Ri=(ki=this.getBlock())===null||ki===void 0?void 0:ki.getLastAttribute();if(Ri)return this.removeCurrentAttribute(Ri)}decreaseListLevel(){let[ki]=Array.from(this.getSelectedRange());const{index:Ri}=this.document.locationFromPosition(ki);let ts=Ri;const rs=this.getBlock().getAttributeLevel();let is=this.document.getBlockAtIndex(ts+1);for(;is&&is.isListItem()&&!(is.getAttributeLevel()<=rs);)ts++,is=this.document.getBlockAtIndex(ts+1);ki=this.document.positionFromLocation({index:Ri,offset:0});const ns=this.document.positionFromLocation({index:ts,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([ki,ns]))}updateCurrentAttributes(){const ki=this.getSelectedRange({ignoreLock:!0});if(ki){const Ri=this.document.getCommonAttributesAtRange(ki);if(Array.from(dt()).forEach(ts=>{Ri[ts]||this.canSetCurrentAttribute(ts)||(Ri[ts]=!1)}),!kt(Ri,this.currentAttributes))return this.currentAttributes=Ri,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return g.call({},this.currentAttributes)}getCurrentTextAttributes(){const ki={};for(const Ri in this.currentAttributes){const ts=this.currentAttributes[Ri];ts!==!1&&pt(Ri)&&(ki[Ri]=ts)}return ki}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(ki){var Ri;const ts=this.document.locationRangeFromRange(ki);return(Ri=this.delegate)===null||Ri===void 0?void 0:Ri.compositionDidRequestChangingSelectionToLocationRange(ts)}getSelectedRange(){const ki=this.getLocationRange();if(ki)return this.document.rangeFromLocationRange(ki)}setSelectedRange(ki){const Ri=this.document.locationRangeFromRange(ki);return this.getSelectionManager().setLocationRange(Ri)}getPosition(){const ki=this.getLocationRange();if(ki)return this.document.positionFromLocation(ki[0])}getLocationRange(ki){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(ki)||Tt({index:0,offset:0})}withTargetLocationRange(ki,Ri){let ts;this.targetLocationRange=ki;try{ts=Ri()}finally{this.targetLocationRange=null}return ts}withTargetRange(ki,Ri){const ts=this.document.locationRangeFromRange(ki);return this.withTargetLocationRange(ts,Ri)}withTargetDOMRange(ki,Ri){const ts=this.createLocationRangeFromDOMRange(ki,{strict:!1});return this.withTargetLocationRange(ts,Ri)}getExpandedRangeInDirection(ki){let{length:Ri}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[ts,rs]=Array.from(this.getSelectedRange());return ki==="backward"?Ri?ts-=Ri:ts=this.translateUTF16PositionFromOffset(ts,-1):Ri?rs+=Ri:rs=this.translateUTF16PositionFromOffset(rs,1),Tt([ts,rs])}shouldManageMovingCursorInDirection(ki){if(this.editingAttachment)return!0;const Ri=this.getExpandedRangeInDirection(ki);return this.getAttachmentAtRange(Ri)!=null}moveCursorInDirection(ki){let Ri,ts;if(this.editingAttachment)ts=this.document.getRangeOfAttachment(this.editingAttachment);else{const rs=this.getSelectedRange();ts=this.getExpandedRangeInDirection(ki),Ri=!Lt(rs,ts)}if(ki==="backward"?this.setSelectedRange(ts[0]):this.setSelectedRange(ts[1]),Ri){const rs=this.getAttachmentAtRange(ts);if(rs)return this.editAttachment(rs)}}expandSelectionInDirection(ki){let{length:Ri}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const ts=this.getExpandedRangeInDirection(ki,{length:Ri});return this.setSelectedRange(ts)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(ki){const Ri=this.getPosition(),ts=this.document.getRangeOfCommonAttributeAtPosition(ki,Ri);return this.setSelectedRange(ts)}selectionContainsAttachments(){var ki;return((ki=this.getSelectedAttachments())===null||ki===void 0?void 0:ki.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(ki){const Ri=this.document.locationFromPosition(ki);if(Ri)return this.locationIsCursorTarget(Ri)}positionIsBlockBreak(ki){var Ri;return(Ri=this.document.getPieceAtPosition(ki))===null||Ri===void 0?void 0:Ri.isBlockBreak()}getSelectedDocument(){const ki=this.getSelectedRange();if(ki)return this.document.getDocumentAtRange(ki)}getSelectedAttachments(){var ki;return(ki=this.getSelectedDocument())===null||ki===void 0?void 0:ki.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){const ki=this.document.getAttachments(),{added:Ri,removed:ts}=function(){let rs=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],is=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const ns=[],ss=[],os=new Set;rs.forEach(cs=>{os.add(cs)});const ls=new Set;return is.forEach(cs=>{ls.add(cs),os.has(cs)||ns.push(cs)}),rs.forEach(cs=>{ls.has(cs)||ss.push(cs)}),{added:ns,removed:ss}}(this.attachments,ki);return this.attachments=ki,Array.from(ts).forEach(rs=>{var is,ns;rs.delegate=null,(is=this.delegate)===null||is===void 0||(ns=is.compositionDidRemoveAttachment)===null||ns===void 0||ns.call(is,rs)}),(()=>{const rs=[];return Array.from(Ri).forEach(is=>{var ns,ss;is.delegate=this,rs.push((ns=this.delegate)===null||ns===void 0||(ss=ns.compositionDidAddAttachment)===null||ss===void 0?void 0:ss.call(ns,is))}),rs})()}attachmentDidChangeAttributes(ki){var Ri,ts;return this.revision++,(Ri=this.delegate)===null||Ri===void 0||(ts=Ri.compositionDidEditAttachment)===null||ts===void 0?void 0:ts.call(Ri,ki)}attachmentDidChangePreviewURL(ki){var Ri,ts;return this.revision++,(Ri=this.delegate)===null||Ri===void 0||(ts=Ri.compositionDidChangeAttachmentPreviewURL)===null||ts===void 0?void 0:ts.call(Ri,ki)}editAttachment(ki,Ri){var ts,rs;if(ki!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=ki,(ts=this.delegate)===null||ts===void 0||(rs=ts.compositionDidStartEditingAttachment)===null||rs===void 0?void 0:rs.call(ts,this.editingAttachment,Ri)}stopEditingAttachment(){var ki,Ri;this.editingAttachment&&((ki=this.delegate)===null||ki===void 0||(Ri=ki.compositionDidStopEditingAttachment)===null||Ri===void 0||Ri.call(ki,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(ki,Ri){return this.setDocument(this.document.updateAttributesForAttachment(ki,Ri))}removeAttributeForAttachment(ki,Ri){return this.setDocument(this.document.removeAttributeForAttachment(ki,Ri))}breakFormattedBlock(ki){let{document:Ri}=ki;const{block:ts}=ki;let rs=ki.startPosition,is=[rs-1,rs];ts.getBlockBreakPosition()===ki.startLocation.offset?(ts.breaksOnReturn()&&ki.nextCharacter===`
`?rs+=1:Ri=Ri.removeTextAtRange(is),is=[rs,rs]):ki.nextCharacter===`
`?ki.previousCharacter===`
`?is=[rs-1,rs+1]:(is=[rs,rs+1],rs+=1):ki.startLocation.offset-1!=0&&(rs+=1);const ns=new rn([ts.removeLastAttribute().copyWithoutText()]);return this.setDocument(Ri.insertDocumentAtRange(ns,is)),this.setSelection(rs)}getPreviousBlock(){const ki=this.getLocationRange();if(ki){const{index:Ri}=ki[0];if(Ri>0)return this.document.getBlockAtIndex(Ri-1)}}getBlock(){const ki=this.getLocationRange();if(ki)return this.document.getBlockAtIndex(ki[0].index)}getAttachmentAtRange(ki){const Ri=this.document.getDocumentAtRange(ki);if(Ri.toString()==="".concat("￼",`
`))return Ri.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var ki,Ri;return(ki=this.delegate)===null||ki===void 0||(Ri=ki.compositionDidChangeCurrentAttributes)===null||Ri===void 0?void 0:Ri.call(ki,this.currentAttributes)}notifyDelegateOfInsertionAtRange(ki){var Ri,ts;return(Ri=this.delegate)===null||Ri===void 0||(ts=Ri.compositionDidPerformInsertionAtRange)===null||ts===void 0?void 0:ts.call(Ri,ki)}translateUTF16PositionFromOffset(ki,Ri){const ts=this.document.toUTF16String(),rs=ts.offsetFromUCS2Offset(ki);return ts.offsetToUCS2Offset(rs+Ri)}}Rn.proxyMethod("getSelectionManager().getPointRange"),Rn.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),Rn.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),Rn.proxyMethod("getSelectionManager().locationIsCursorTarget"),Rn.proxyMethod("getSelectionManager().selectionIsExpanded"),Rn.proxyMethod("delegate?.getSelectionManager");class kn extends z{constructor(ki){super(...arguments),this.composition=ki,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(ki){let{context:Ri,consolidatable:ts}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const rs=this.undoEntries.slice(-1)[0];if(!ts||!Tn(rs,ki,Ri)){const is=this.createEntry({description:ki,context:Ri});this.undoEntries.push(is),this.redoEntries=[]}}undo(){const ki=this.undoEntries.pop();if(ki){const Ri=this.createEntry(ki);return this.redoEntries.push(Ri),this.composition.loadSnapshot(ki.snapshot)}}redo(){const ki=this.redoEntries.pop();if(ki){const Ri=this.createEntry(ki);return this.undoEntries.push(Ri),this.composition.loadSnapshot(ki.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:ki,context:Ri}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{description:ki==null?void 0:ki.toString(),context:JSON.stringify(Ri),snapshot:this.composition.getSnapshot()}}}const Tn=(es,ki,Ri)=>(es==null?void 0:es.description)===(ki==null?void 0:ki.toString())&&(es==null?void 0:es.context)===JSON.stringify(Ri),wn="attachmentGallery";class Ln{constructor(ki){this.document=ki.document,this.selectedRange=ki.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map(ki=>this.document=this.document.removeAttributeAtRange(wn,ki))}applyBlockAttribute(){let ki=0;this.findRangesOfPieces().forEach(Ri=>{Ri[1]-Ri[0]>1&&(Ri[0]+=ki,Ri[1]+=ki,this.document.getCharacterAtPosition(Ri[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(Ri[1]),Ri[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),Ri[1]++,ki++),Ri[0]!==0&&this.document.getCharacterAtPosition(Ri[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(Ri[0]),Ri[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),Ri[0]++,ki++),this.document=this.document.applyBlockAttributeAtRange(wn,!0,Ri))})}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute(wn)}findRangesOfPieces(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}}const Dn=function(es){const ki=new Ln(es);return ki.perform(),ki.getSnapshot()},Nn=[Dn];class In{constructor(ki,Ri,ts){this.insertFiles=this.insertFiles.bind(this),this.composition=ki,this.selectionManager=Ri,this.element=ts,this.undoManager=new kn(this.composition),this.filters=Nn.slice(0)}loadDocument(ki){return this.loadSnapshot({document:ki,selectedRange:[0,0]})}loadHTML(){let ki=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const Ri=ln.parse(ki,{referenceElement:this.element}).getDocument();return this.loadDocument(Ri)}loadJSON(ki){let{document:Ri,selectedRange:ts}=ki;return Ri=rn.fromJSON(Ri),this.loadSnapshot({document:Ri,selectedRange:ts})}loadSnapshot(ki){return this.undoManager=new kn(this.composition),this.composition.loadSnapshot(ki)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(ki){return this.composition.deleteInDirection(ki)}insertAttachment(ki){return this.composition.insertAttachment(ki)}insertAttachments(ki){return this.composition.insertAttachments(ki)}insertDocument(ki){return this.composition.insertDocument(ki)}insertFile(ki){return this.composition.insertFile(ki)}insertFiles(ki){return this.composition.insertFiles(ki)}insertHTML(ki){return this.composition.insertHTML(ki)}insertString(ki){return this.composition.insertString(ki)}insertText(ki){return this.composition.insertText(ki)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(ki){const Ri=this.getDocument().locationRangeFromRange([ki,ki+1]);return this.selectionManager.getClientRectAtLocationRange(Ri)}expandSelectionInDirection(ki){return this.composition.expandSelectionInDirection(ki)}moveCursorInDirection(ki){return this.composition.moveCursorInDirection(ki)}setSelectedRange(ki){return this.composition.setSelectedRange(ki)}activateAttribute(ki){let Ri=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.composition.setCurrentAttribute(ki,Ri)}attributeIsActive(ki){return this.composition.hasCurrentAttribute(ki)}canActivateAttribute(ki){return this.composition.canSetCurrentAttribute(ki)}deactivateAttribute(ki){return this.composition.removeCurrentAttribute(ki)}setHTMLAtributeAtPosition(ki,Ri,ts){this.composition.setHTMLAtributeAtPosition(ki,Ri,ts)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(ki){let{context:Ri,consolidatable:ts}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.undoManager.recordUndoEntry(ki,{context:Ri,consolidatable:ts})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}}class On{constructor(ki){this.element=ki}findLocationFromContainerAndOffset(ki,Ri){let{strict:ts}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{strict:!0},rs=0,is=!1;const ns={index:0,offset:0},ss=this.findAttachmentElementParentForNode(ki);ss&&(ki=ss.parentNode,Ri=C(ss));const os=S(this.element,{usingFilter:Bn});for(;os.nextNode();){const ls=os.currentNode;if(ls===ki&&M(ki)){O(ls)||(ns.offset+=Ri);break}if(ls.parentNode===ki){if(rs++===Ri)break}else if(!x(ki,ls)&&rs>0)break;D(ls,{strict:ts})?(is&&ns.index++,ns.offset=0,is=!0):ns.offset+=Pn(ls)}return ns}findContainerAndOffsetFromLocation(ki){let Ri,ts;if(ki.index===0&&ki.offset===0){for(Ri=this.element,ts=0;Ri.firstChild;)if(Ri=Ri.firstChild,L(Ri)){ts=1;break}return[Ri,ts]}let[rs,is]=this.findNodeAndOffsetFromLocation(ki);if(rs){if(M(rs))Pn(rs)===0?(Ri=rs.parentNode.parentNode,ts=C(rs.parentNode),O(rs,{name:"right"})&&ts++):(Ri=rs,ts=ki.offset-is);else{if(Ri=rs.parentNode,!D(rs.previousSibling)&&!L(Ri))for(;rs===Ri.lastChild&&(rs=Ri,Ri=Ri.parentNode,!L(Ri)););ts=C(rs),ki.offset!==0&&ts++}return[Ri,ts]}}findNodeAndOffsetFromLocation(ki){let Ri,ts,rs=0;for(const is of this.getSignificantNodesForIndex(ki.index)){const ns=Pn(is);if(ki.offset<=rs+ns)if(M(is)){if(Ri=is,ts=rs,ki.offset===ts&&O(Ri))break}else Ri||(Ri=is,ts=rs);if(rs+=ns,rs>ki.offset)break}return[Ri,ts]}findAttachmentElementParentForNode(ki){for(;ki&&ki!==this.element;){if(P(ki))return ki;ki=ki.parentNode}}getSignificantNodesForIndex(ki){const Ri=[],ts=S(this.element,{usingFilter:Fn});let rs=!1;for(;ts.nextNode();){const ns=ts.currentNode;var is;if(N(ns)){if(is!=null?is++:is=0,is===ki)rs=!0;else if(rs)break}else rs&&Ri.push(ns)}return Ri}}const Pn=function(es){return es.nodeType===Node.TEXT_NODE?O(es)?0:es.textContent.length:R(es)==="br"||P(es)?1:0},Fn=function(es){return Mn(es)===NodeFilter.FILTER_ACCEPT?Bn(es):NodeFilter.FILTER_REJECT},Mn=function(es){return F(es)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},Bn=function(es){return P(es.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT};class _n{createDOMRangeFromPoint(ki){let Ri,{x:ts,y:rs}=ki;if(document.caretPositionFromPoint){const{offsetNode:is,offset:ns}=document.caretPositionFromPoint(ts,rs);return Ri=document.createRange(),Ri.setStart(is,ns),Ri}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(ts,rs);if(document.body.createTextRange){const is=Ft();try{const ns=document.body.createTextRange();ns.moveToPoint(ts,rs),ns.select()}catch{}return Ri=Ft(),Mt(is),Ri}}getClientRectsForDOMRange(ki){const Ri=Array.from(ki.getClientRects());return[Ri[0],Ri[Ri.length-1]]}}class jn extends z{constructor(ki){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=ki,this.locationMapper=new On(this.element),this.pointMapper=new _n,this.lockCount=0,f("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let ki=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ki.strict===!1?this.createLocationRangeFromDOMRange(Ft()):ki.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(ki){if(this.lockedLocationRange)return;ki=Tt(ki);const Ri=this.createDOMRangeFromLocationRange(ki);Ri&&(Mt(Ri),this.updateCurrentLocationRange(ki))}setLocationRangeFromPointRange(ki){ki=Tt(ki);const Ri=this.getLocationAtPoint(ki[0]),ts=this.getLocationAtPoint(ki[1]);this.setLocationRange([Ri,ts])}getClientRectAtLocationRange(ki){const Ri=this.createDOMRangeFromLocationRange(ki);if(Ri)return this.getClientRectsForDOMRange(Ri)[1]}locationIsCursorTarget(ki){const Ri=Array.from(this.findNodeAndOffsetFromLocation(ki))[0];return O(Ri)}lock(){this.lockCount++==0&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(--this.lockCount==0){const{lockedLocationRange:ki}=this;if(this.lockedLocationRange=null,ki!=null)return this.setLocationRange(ki)}}clearSelection(){var ki;return(ki=Pt())===null||ki===void 0?void 0:ki.removeAllRanges()}selectionIsCollapsed(){var ki;return((ki=Ft())===null||ki===void 0?void 0:ki.collapsed)===!0}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(ki,Ri){if(ki==null||!this.domRangeWithinElement(ki))return;const ts=this.findLocationFromContainerAndOffset(ki.startContainer,ki.startOffset,Ri);if(!ts)return;const rs=ki.collapsed?void 0:this.findLocationFromContainerAndOffset(ki.endContainer,ki.endOffset,Ri);return Tt([ts,rs])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let ki;this.paused=!0;const Ri=()=>{if(this.paused=!1,clearTimeout(ts),Array.from(ki).forEach(rs=>{rs.destroy()}),x(document,this.element))return this.selectionDidChange()},ts=setTimeout(Ri,200);ki=["mousemove","keydown"].map(rs=>f(rs,{onElement:document,withCallback:Ri}))}selectionDidChange(){if(!this.paused&&!y(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(ki){var Ri,ts;if((ki??(ki=this.createLocationRangeFromDOMRange(Ft())))&&!Lt(ki,this.currentLocationRange))return this.currentLocationRange=ki,(Ri=this.delegate)===null||Ri===void 0||(ts=Ri.locationRangeDidChange)===null||ts===void 0?void 0:ts.call(Ri,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(ki){const Ri=this.findContainerAndOffsetFromLocation(ki[0]),ts=wt(ki)?Ri:this.findContainerAndOffsetFromLocation(ki[1])||Ri;if(Ri!=null&&ts!=null){const rs=document.createRange();return rs.setStart(...Array.from(Ri||[])),rs.setEnd(...Array.from(ts||[])),rs}}getLocationAtPoint(ki){const Ri=this.createDOMRangeFromPoint(ki);var ts;if(Ri)return(ts=this.createLocationRangeFromDOMRange(Ri))===null||ts===void 0?void 0:ts[0]}domRangeWithinElement(ki){return ki.collapsed?x(this.element,ki.startContainer):x(this.element,ki.startContainer)&&x(this.element,ki.endContainer)}}jn.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),jn.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),jn.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),jn.proxyMethod("pointMapper.createDOMRangeFromPoint"),jn.proxyMethod("pointMapper.getClientRectsForDOMRange");var Wn=Object.freeze({__proto__:null,Attachment:ji,AttachmentManager:En,AttachmentPiece:Wi,Block:Ki,Composition:Rn,Document:rn,Editor:In,HTMLParser:ln,HTMLSanitizer:ci,LineBreakInsertion:Sn,LocationMapper:On,ManagedAttachment:Cn,Piece:Bi,PointMapper:_n,SelectionManager:jn,SplittableList:Vi,StringPiece:Ui,Text:Ji,UndoManager:kn}),Un=Object.freeze({__proto__:null,ObjectView:ee,AttachmentView:di,BlockView:yi,DocumentView:xi,PieceView:fi,PreviewableAttachmentView:pi,TextView:bi});const{lang:Vn,css:zn,keyNames:qn}=V,Hn=function(es){return function(){const ki=es.apply(this,arguments);ki.do(),this.undos||(this.undos=[]),this.undos.push(ki.undo)}};class Jn extends z{constructor(ki,Ri,ts){let rs=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(...arguments),Ti(this,"makeElementMutable",Hn(()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable}))),Ti(this,"addToolbar",Hn(()=>{const is=k({tagName:"div",className:zn.attachmentToolbar,data:{trixMutable:!0},childNodes:k({tagName:"div",className:"trix-button-row",childNodes:k({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:k({tagName:"button",className:"trix-button trix-button--remove",textContent:Vn.remove,attributes:{title:Vn.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&is.appendChild(k({tagName:"div",className:zn.attachmentMetadataContainer,childNodes:k({tagName:"span",className:zn.attachmentMetadata,childNodes:[k({tagName:"span",className:zn.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),k({tagName:"span",className:zn.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),f("click",{onElement:is,withCallback:this.didClickToolbar}),f("click",{onElement:is,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),b("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:is,attachment:this.attachment}}),{do:()=>this.element.appendChild(is),undo:()=>E(is)}})),Ti(this,"installCaptionEditor",Hn(()=>{const is=k({tagName:"textarea",className:zn.attachmentCaptionEditor,attributes:{placeholder:Vn.captionPlaceholder},data:{trixMutable:!0}});is.value=this.attachmentPiece.getCaption();const ns=is.cloneNode();ns.classList.add("trix-autoresize-clone"),ns.tabIndex=-1;const ss=function(){ns.value=is.value,is.style.height=ns.scrollHeight+"px"};f("input",{onElement:is,withCallback:ss}),f("input",{onElement:is,withCallback:this.didInputCaption}),f("keydown",{onElement:is,withCallback:this.didKeyDownCaption}),f("change",{onElement:is,withCallback:this.didChangeCaption}),f("blur",{onElement:is,withCallback:this.didBlurCaption});const os=this.element.querySelector("figcaption"),ls=os.cloneNode();return{do:()=>{if(os.style.display="none",ls.appendChild(is),ls.appendChild(ns),ls.classList.add("".concat(zn.attachmentCaption,"--editing")),os.parentElement.insertBefore(ls,os),ss(),this.options.editCaption)return St(()=>is.focus())},undo(){E(ls),os.style.display=null}}})),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=ki,this.element=Ri,this.container=ts,this.options=rs,this.attachment=this.attachmentPiece.attachment,R(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var ki;let Ri=this.undos.pop();for(this.savePendingCaption();Ri;)Ri(),Ri=this.undos.pop();(ki=this.delegate)===null||ki===void 0||ki.didUninstallAttachmentEditor(this)}savePendingCaption(){if(this.pendingCaption!=null){const is=this.pendingCaption;var ki,Ri,ts,rs;this.pendingCaption=null,is?(ki=this.delegate)===null||ki===void 0||(Ri=ki.attachmentEditorDidRequestUpdatingAttributesForAttachment)===null||Ri===void 0||Ri.call(ki,{caption:is},this.attachment):(ts=this.delegate)===null||ts===void 0||(rs=ts.attachmentEditorDidRequestRemovingAttributeForAttachment)===null||rs===void 0||rs.call(ts,"caption",this.attachment)}}didClickToolbar(ki){return ki.preventDefault(),ki.stopPropagation()}didClickActionButton(ki){var Ri;if(ki.target.getAttribute("data-trix-action")==="remove")return(Ri=this.delegate)===null||Ri===void 0?void 0:Ri.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(ki){var Ri,ts;if(qn[ki.keyCode]==="return")return ki.preventDefault(),this.savePendingCaption(),(Ri=this.delegate)===null||Ri===void 0||(ts=Ri.attachmentEditorDidRequestDeselectingAttachment)===null||ts===void 0?void 0:ts.call(Ri,this.attachment)}didInputCaption(ki){this.pendingCaption=ki.target.value.replace(/\s/g," ").trim()}didChangeCaption(ki){return this.savePendingCaption()}didBlurCaption(ki){return this.savePendingCaption()}}class Kn extends z{constructor(ki,Ri){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=ki,this.composition=Ri,this.documentView=new xi(this.composition.document,{element:this.element}),f("focus",{onElement:this.element,withCallback:this.didFocus}),f("blur",{onElement:this.element,withCallback:this.didBlur}),f("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),f("mousedown",{onElement:this.element,matchingSelector:e,withCallback:this.didClickAttachment}),f("click",{onElement:this.element,matchingSelector:"a".concat(e),preventDefault:!0})}didFocus(ki){var Ri;const ts=()=>{var rs,is;if(!this.focused)return this.focused=!0,(rs=this.delegate)===null||rs===void 0||(is=rs.compositionControllerDidFocus)===null||is===void 0?void 0:is.call(rs)};return((Ri=this.blurPromise)===null||Ri===void 0?void 0:Ri.then(ts))||ts()}didBlur(ki){this.blurPromise=new Promise(Ri=>St(()=>{var ts,rs;return y(this.element)||(this.focused=null,(ts=this.delegate)===null||ts===void 0||(rs=ts.compositionControllerDidBlur)===null||rs===void 0||rs.call(ts)),this.blurPromise=null,Ri()}))}didClickAttachment(ki,Ri){var ts,rs;const is=this.findAttachmentForElement(Ri),ns=!!A(ki.target,{matchingSelector:"figcaption"});return(ts=this.delegate)===null||ts===void 0||(rs=ts.compositionControllerDidSelectAttachment)===null||rs===void 0?void 0:rs.call(ts,is,{editCaption:ns})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var ki,Ri,ts,rs,is,ns;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((ts=this.delegate)===null||ts===void 0||(rs=ts.compositionControllerWillSyncDocumentView)===null||rs===void 0||rs.call(ts),this.documentView.sync(),(is=this.delegate)===null||is===void 0||(ns=is.compositionControllerDidSyncDocumentView)===null||ns===void 0||ns.call(is)),(ki=this.delegate)===null||ki===void 0||(Ri=ki.compositionControllerDidRender)===null||Ri===void 0?void 0:Ri.call(ki)}rerenderViewForObject(ki){return this.invalidateViewForObject(ki),this.render()}invalidateViewForObject(ki){return this.documentView.invalidateViewForObject(ki)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(ki,Ri){var ts;if(((ts=this.attachmentEditor)===null||ts===void 0?void 0:ts.attachment)===ki)return;const rs=this.documentView.findElementForObject(ki);if(!rs)return;this.uninstallAttachmentEditor();const is=this.composition.document.getAttachmentPieceForAttachment(ki);this.attachmentEditor=new Jn(is,rs,this.element,Ri),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var ki;return(ki=this.attachmentEditor)===null||ki===void 0?void 0:ki.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(ki,Ri){var ts,rs;return(ts=this.delegate)===null||ts===void 0||(rs=ts.compositionControllerWillUpdateAttachment)===null||rs===void 0||rs.call(ts,Ri),this.composition.updateAttributesForAttachment(ki,Ri)}attachmentEditorDidRequestRemovingAttributeForAttachment(ki,Ri){var ts,rs;return(ts=this.delegate)===null||ts===void 0||(rs=ts.compositionControllerWillUpdateAttachment)===null||rs===void 0||rs.call(ts,Ri),this.composition.removeAttributeForAttachment(ki,Ri)}attachmentEditorDidRequestRemovalOfAttachment(ki){var Ri,ts;return(Ri=this.delegate)===null||Ri===void 0||(ts=Ri.compositionControllerDidRequestRemovalOfAttachment)===null||ts===void 0?void 0:ts.call(Ri,ki)}attachmentEditorDidRequestDeselectingAttachment(ki){var Ri,ts;return(Ri=this.delegate)===null||Ri===void 0||(ts=Ri.compositionControllerDidRequestDeselectingAttachment)===null||ts===void 0?void 0:ts.call(Ri,ki)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(ki){return this.composition.document.getAttachmentById(parseInt(ki.dataset.trixId,10))}}class Gn extends z{}const Yn="data-trix-mutable",$n="[".concat(Yn,"]"),Xn={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};class Zn extends z{constructor(ki){super(ki),this.didMutate=this.didMutate.bind(this),this.element=ki,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,Xn)}stop(){return this.observer.disconnect()}didMutate(ki){var Ri,ts;if(this.mutations.push(...Array.from(this.findSignificantMutations(ki)||[])),this.mutations.length)return(Ri=this.delegate)===null||Ri===void 0||(ts=Ri.elementDidMutate)===null||ts===void 0||ts.call(Ri,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(ki){return ki.filter(Ri=>this.mutationIsSignificant(Ri))}mutationIsSignificant(ki){if(this.nodeIsMutable(ki.target))return!1;for(const Ri of Array.from(this.nodesModifiedByMutation(ki)))if(this.nodeIsSignificant(Ri))return!0;return!1}nodeIsSignificant(ki){return ki!==this.element&&!this.nodeIsMutable(ki)&&!F(ki)}nodeIsMutable(ki){return A(ki,{matchingSelector:$n})}nodesModifiedByMutation(ki){const Ri=[];switch(ki.type){case"attributes":ki.attributeName!==Yn&&Ri.push(ki.target);break;case"characterData":Ri.push(ki.target.parentNode),Ri.push(ki.target);break;case"childList":Ri.push(...Array.from(ki.addedNodes||[])),Ri.push(...Array.from(ki.removedNodes||[]))}return Ri}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){const{additions:ki,deletions:Ri}=this.getTextChangesFromCharacterData(),ts=this.getTextChangesFromChildList();Array.from(ts.additions).forEach(ss=>{Array.from(ki).includes(ss)||ki.push(ss)}),Ri.push(...Array.from(ts.deletions||[]));const rs={},is=ki.join("");is&&(rs.textAdded=is);const ns=Ri.join("");return ns&&(rs.textDeleted=ns),rs}getMutationsByType(ki){return Array.from(this.mutations).filter(Ri=>Ri.type===ki)}getTextChangesFromChildList(){let ki,Ri;const ts=[],rs=[];Array.from(this.getMutationsByType("childList")).forEach(ss=>{ts.push(...Array.from(ss.addedNodes||[])),rs.push(...Array.from(ss.removedNodes||[]))}),ts.length===0&&rs.length===1&&N(rs[0])?(ki=[],Ri=[`
`]):(ki=Qn(ts),Ri=Qn(rs));const is=ki.filter((ss,os)=>ss!==Ri[os]).map(jt),ns=Ri.filter((ss,os)=>ss!==ki[os]).map(jt);return{additions:is,deletions:ns}}getTextChangesFromCharacterData(){let ki,Ri;const ts=this.getMutationsByType("characterData");if(ts.length){const rs=ts[0],is=ts[ts.length-1],ns=function(ss,os){let ls,cs;return ss=$$1.box(ss),(os=$$1.box(os)).length<ss.length?[cs,ls]=Vt(ss,os):[ls,cs]=Vt(os,ss),{added:ls,removed:cs}}(jt(rs.oldValue),jt(is.target.data));ki=ns.added,Ri=ns.removed}return{additions:ki?[ki]:[],deletions:Ri?[Ri]:[]}}}const Qn=function(){let es=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const ki=[];for(const Ri of Array.from(es))switch(Ri.nodeType){case Node.TEXT_NODE:ki.push(Ri.data);break;case Node.ELEMENT_NODE:R(Ri)==="br"?ki.push(`
`):ki.push(...Array.from(Qn(Ri.childNodes)||[]))}return ki};class tr extends te{constructor(ki){super(...arguments),this.file=ki}perform(ki){const Ri=new FileReader;return Ri.onerror=()=>ki(!1),Ri.onload=()=>{Ri.onerror=null;try{Ri.abort()}catch{}return ki(!0,this.file)},Ri.readAsArrayBuffer(this.file)}}class er{constructor(ki){this.element=ki}shouldIgnore(ki){return!!a.samsungAndroid&&(this.previousEvent=this.event,this.event=ki,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&ir(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&this.event.inputType!=="insertText"&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var ki;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&((ki=this.event.data)===null||ki===void 0?void 0:ki.length)>50}isBeforeInputInsertText(){return this.event.type==="beforeinput"&&this.event.inputType==="insertText"}previousEventWasUnidentifiedKeydown(){var ki,Ri;return((ki=this.previousEvent)===null||ki===void 0?void 0:ki.type)==="keydown"&&((Ri=this.previousEvent)===null||Ri===void 0?void 0:Ri.key)==="Unidentified"}}const ir=(es,ki)=>rr(es)===rr(ki),nr=new RegExp("(".concat("￼","|").concat(h,"|").concat(d,"|\\s)+"),"g"),rr=es=>es.replace(nr," ").trim();class or extends z{constructor(ki){super(...arguments),this.element=ki,this.mutationObserver=new Zn(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new er(this.element);for(const Ri in this.constructor.events)f(Ri,{onElement:this.element,withCallback:this.handlerFor(Ri)})}elementDidMutate(ki){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var ki,Ri;return(ki=this.delegate)===null||ki===void 0||(Ri=ki.inputControllerDidRequestRender)===null||Ri===void 0?void 0:Ri.call(ki)}requestReparse(){var ki,Ri;return(ki=this.delegate)===null||ki===void 0||(Ri=ki.inputControllerDidRequestReparse)===null||Ri===void 0||Ri.call(ki),this.requestRender()}attachFiles(ki){const Ri=Array.from(ki).map(ts=>new tr(ts));return Promise.all(Ri).then(ts=>{this.handleInput(function(){var rs,is;return(rs=this.delegate)===null||rs===void 0||rs.inputControllerWillAttachFiles(),(is=this.responder)===null||is===void 0||is.insertFiles(ts),this.requestRender()})})}handlerFor(ki){return Ri=>{Ri.defaultPrevented||this.handleInput(()=>{if(!y(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(Ri))return;this.eventName=ki,this.constructor.events[ki].call(this,Ri)}})}}handleInput(ki){try{var Ri;(Ri=this.delegate)===null||Ri===void 0||Ri.inputControllerWillHandleInput(),ki.call(this)}finally{var ts;(ts=this.delegate)===null||ts===void 0||ts.inputControllerDidHandleInput()}}createLinkHTML(ki,Ri){const ts=document.createElement("a");return ts.href=ki,ts.textContent=Ri||ki,ts.outerHTML}}var sr;Ti(or,"events",{});const{browser:ar,keyNames:lr}=V;let cr=0;class ur extends or{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let ki=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(const Ri in ki){const ts=ki[Ri];this.inputSummary[Ri]=ts}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),Ot.reset()}elementDidMutate(ki){var Ri,ts;return this.isComposing()?(Ri=this.delegate)===null||Ri===void 0||(ts=Ri.inputControllerDidAllowUnhandledInput)===null||ts===void 0?void 0:ts.call(Ri):this.handleInput(function(){return this.mutationIsSignificant(ki)&&(this.mutationIsExpected(ki)?this.requestRender():this.requestReparse()),this.reset()})}mutationIsExpected(ki){let{textAdded:Ri,textDeleted:ts}=ki;if(this.inputSummary.preferDocument)return!0;const rs=Ri!=null?Ri===this.inputSummary.textAdded:!this.inputSummary.textAdded,is=ts!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,ns=[`
`,` 
`].includes(Ri)&&!rs,ss=ts===`
`&&!is;if(ns&&!ss||ss&&!ns){const ls=this.getSelectedRange();if(ls){var os;const cs=ns?Ri.replace(/\n$/,"").length||-1:(Ri==null?void 0:Ri.length)||1;if((os=this.responder)!==null&&os!==void 0&&os.positionIsBlockBreak(ls[1]+cs))return!0}}return rs&&is}mutationIsSignificant(ki){var Ri;const ts=Object.keys(ki).length>0,rs=((Ri=this.compositionInput)===null||Ri===void 0?void 0:Ri.getEndData())==="";return ts||!rs}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new pr(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(ki,Ri){var ts;return((ts=this.responder)===null||ts===void 0?void 0:ts.deleteInDirection(ki))!==!1?this.setInputSummary({didDelete:!0}):Ri?(Ri.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(ki){var Ri;if(!function(rs){if(rs==null||!rs.setData)return!1;for(const is in xt){const ns=xt[is];try{if(rs.setData(is,ns),!rs.getData(is)===ns)return!1}catch{return!1}}return!0}(ki))return;const ts=(Ri=this.responder)===null||Ri===void 0?void 0:Ri.getSelectedDocument().toSerializableDocument();return ki.setData("application/x-trix-document",JSON.stringify(ts)),ki.setData("text/html",xi.render(ts).innerHTML),ki.setData("text/plain",ts.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(ki){const Ri={};return Array.from((ki==null?void 0:ki.types)||[]).forEach(ts=>{Ri[ts]=!0}),Ri.Files||Ri["application/x-trix-document"]||Ri["text/html"]||Ri["text/plain"]}getPastedHTMLUsingHiddenElement(ki){const Ri=this.getSelectedRange(),ts={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},rs=k({style:ts,tagName:"div",editable:!0});return document.body.appendChild(rs),rs.focus(),requestAnimationFrame(()=>{const is=rs.innerHTML;return E(rs),this.setSelectedRange(Ri),ki(is)})}}Ti(ur,"events",{keydown(es){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;const ki=lr[es.keyCode];if(ki){var Ri;let rs=this.keys;["ctrl","alt","shift","meta"].forEach(is=>{var ns;es["".concat(is,"Key")]&&(is==="ctrl"&&(is="control"),rs=(ns=rs)===null||ns===void 0?void 0:ns[is])}),((Ri=rs)===null||Ri===void 0?void 0:Ri[ki])!=null&&(this.setInputSummary({keyName:ki}),Ot.reset(),rs[ki].call(this,es))}if(Et(es)){const rs=String.fromCharCode(es.keyCode).toLowerCase();if(rs){var ts;const is=["alt","shift"].map(ns=>{if(es["".concat(ns,"Key")])return ns}).filter(ns=>ns);is.push(rs),(ts=this.delegate)!==null&&ts!==void 0&&ts.inputControllerDidReceiveKeyboardCommand(is)&&es.preventDefault()}}},keypress(es){if(this.inputSummary.eventName!=null||es.metaKey||es.ctrlKey&&!es.altKey)return;const ki=gr(es);var Ri,ts;return ki?((Ri=this.delegate)===null||Ri===void 0||Ri.inputControllerWillPerformTyping(),(ts=this.responder)===null||ts===void 0||ts.insertString(ki),this.setInputSummary({textAdded:ki,didDelete:this.selectionIsExpanded()})):void 0},textInput(es){const{data:ki}=es,{textAdded:Ri}=this.inputSummary;if(Ri&&Ri!==ki&&Ri.toUpperCase()===ki){var ts;const rs=this.getSelectedRange();return this.setSelectedRange([rs[0],rs[1]+Ri.length]),(ts=this.responder)===null||ts===void 0||ts.insertString(ki),this.setInputSummary({textAdded:ki}),this.setSelectedRange(rs)}},dragenter(es){es.preventDefault()},dragstart(es){var ki,Ri;return this.serializeSelectionToDataTransfer(es.dataTransfer),this.draggedRange=this.getSelectedRange(),(ki=this.delegate)===null||ki===void 0||(Ri=ki.inputControllerDidStartDrag)===null||Ri===void 0?void 0:Ri.call(ki)},dragover(es){if(this.draggedRange||this.canAcceptDataTransfer(es.dataTransfer)){es.preventDefault();const ts={x:es.clientX,y:es.clientY};var ki,Ri;if(!kt(ts,this.draggingPoint))return this.draggingPoint=ts,(ki=this.delegate)===null||ki===void 0||(Ri=ki.inputControllerDidReceiveDragOverPoint)===null||Ri===void 0?void 0:Ri.call(ki,this.draggingPoint)}},dragend(es){var ki,Ri;(ki=this.delegate)===null||ki===void 0||(Ri=ki.inputControllerDidCancelDrag)===null||Ri===void 0||Ri.call(ki),this.draggedRange=null,this.draggingPoint=null},drop(es){var ki,Ri;es.preventDefault();const ts=(ki=es.dataTransfer)===null||ki===void 0?void 0:ki.files,rs=es.dataTransfer.getData("application/x-trix-document"),is={x:es.clientX,y:es.clientY};if((Ri=this.responder)===null||Ri===void 0||Ri.setLocationRangeFromPointRange(is),ts!=null&&ts.length)this.attachFiles(ts);else if(this.draggedRange){var ns,ss;(ns=this.delegate)===null||ns===void 0||ns.inputControllerWillMoveText(),(ss=this.responder)===null||ss===void 0||ss.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(rs){var os;const ls=rn.fromJSONString(rs);(os=this.responder)===null||os===void 0||os.insertDocument(ls),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(es){var ki,Ri;if((ki=this.responder)!==null&&ki!==void 0&&ki.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(es.clipboardData)&&es.preventDefault(),(Ri=this.delegate)===null||Ri===void 0||Ri.inputControllerWillCutText(),this.deleteInDirection("backward"),es.defaultPrevented))return this.requestRender()},copy(es){var ki;(ki=this.responder)!==null&&ki!==void 0&&ki.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(es.clipboardData)&&es.preventDefault()},paste(es){const ki=es.clipboardData||es.testClipboardData,Ri={clipboard:ki};if(!ki||mr(es))return void this.getPastedHTMLUsingHiddenElement(gs=>{var ws,Ts,$s;return Ri.type="text/html",Ri.html=gs,(ws=this.delegate)===null||ws===void 0||ws.inputControllerWillPaste(Ri),(Ts=this.responder)===null||Ts===void 0||Ts.insertHTML(Ri.html),this.requestRender(),($s=this.delegate)===null||$s===void 0?void 0:$s.inputControllerDidPaste(Ri)});const ts=ki.getData("URL"),rs=ki.getData("text/html"),is=ki.getData("public.url-name");if(ts){var ns,ss,os;let gs;Ri.type="text/html",gs=is?Ut(is).trim():ts,Ri.html=this.createLinkHTML(ts,gs),(ns=this.delegate)===null||ns===void 0||ns.inputControllerWillPaste(Ri),this.setInputSummary({textAdded:gs,didDelete:this.selectionIsExpanded()}),(ss=this.responder)===null||ss===void 0||ss.insertHTML(Ri.html),this.requestRender(),(os=this.delegate)===null||os===void 0||os.inputControllerDidPaste(Ri)}else if(Ct(ki)){var ls,cs,hs;Ri.type="text/plain",Ri.string=ki.getData("text/plain"),(ls=this.delegate)===null||ls===void 0||ls.inputControllerWillPaste(Ri),this.setInputSummary({textAdded:Ri.string,didDelete:this.selectionIsExpanded()}),(cs=this.responder)===null||cs===void 0||cs.insertString(Ri.string),this.requestRender(),(hs=this.delegate)===null||hs===void 0||hs.inputControllerDidPaste(Ri)}else if(rs){var us,As,bs;Ri.type="text/html",Ri.html=rs,(us=this.delegate)===null||us===void 0||us.inputControllerWillPaste(Ri),(As=this.responder)===null||As===void 0||As.insertHTML(Ri.html),this.requestRender(),(bs=this.delegate)===null||bs===void 0||bs.inputControllerDidPaste(Ri)}else if(Array.from(ki.types).includes("Files")){var ys,Cs;const gs=(ys=ki.items)===null||ys===void 0||(ys=ys[0])===null||ys===void 0||(Cs=ys.getAsFile)===null||Cs===void 0?void 0:Cs.call(ys);if(gs){var ps,ms,fs;const ws=hr(gs);!gs.name&&ws&&(gs.name="pasted-file-".concat(++cr,".").concat(ws)),Ri.type="File",Ri.file=gs,(ps=this.delegate)===null||ps===void 0||ps.inputControllerWillAttachFiles(),(ms=this.responder)===null||ms===void 0||ms.insertFile(Ri.file),this.requestRender(),(fs=this.delegate)===null||fs===void 0||fs.inputControllerDidPaste(Ri)}}es.preventDefault()},compositionstart(es){return this.getCompositionInput().start(es.data)},compositionupdate(es){return this.getCompositionInput().update(es.data)},compositionend(es){return this.getCompositionInput().end(es.data)},beforeinput(es){this.inputSummary.didInput=!0},input(es){return this.inputSummary.didInput=!0,es.stopPropagation()}}),Ti(ur,"keys",{backspace(es){var ki;return(ki=this.delegate)===null||ki===void 0||ki.inputControllerWillPerformTyping(),this.deleteInDirection("backward",es)},delete(es){var ki;return(ki=this.delegate)===null||ki===void 0||ki.inputControllerWillPerformTyping(),this.deleteInDirection("forward",es)},return(es){var ki,Ri;return this.setInputSummary({preferDocument:!0}),(ki=this.delegate)===null||ki===void 0||ki.inputControllerWillPerformTyping(),(Ri=this.responder)===null||Ri===void 0?void 0:Ri.insertLineBreak()},tab(es){var ki,Ri;(ki=this.responder)!==null&&ki!==void 0&&ki.canIncreaseNestingLevel()&&((Ri=this.responder)===null||Ri===void 0||Ri.increaseNestingLevel(),this.requestRender(),es.preventDefault())},left(es){var ki;if(this.selectionIsInCursorTarget())return es.preventDefault(),(ki=this.responder)===null||ki===void 0?void 0:ki.moveCursorInDirection("backward")},right(es){var ki;if(this.selectionIsInCursorTarget())return es.preventDefault(),(ki=this.responder)===null||ki===void 0?void 0:ki.moveCursorInDirection("forward")},control:{d(es){var ki;return(ki=this.delegate)===null||ki===void 0||ki.inputControllerWillPerformTyping(),this.deleteInDirection("forward",es)},h(es){var ki;return(ki=this.delegate)===null||ki===void 0||ki.inputControllerWillPerformTyping(),this.deleteInDirection("backward",es)},o(es){var ki,Ri;return es.preventDefault(),(ki=this.delegate)===null||ki===void 0||ki.inputControllerWillPerformTyping(),(Ri=this.responder)===null||Ri===void 0||Ri.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return(es){var ki,Ri;(ki=this.delegate)===null||ki===void 0||ki.inputControllerWillPerformTyping(),(Ri=this.responder)===null||Ri===void 0||Ri.insertString(`
`),this.requestRender(),es.preventDefault()},tab(es){var ki,Ri;(ki=this.responder)!==null&&ki!==void 0&&ki.canDecreaseNestingLevel()&&((Ri=this.responder)===null||Ri===void 0||Ri.decreaseNestingLevel(),this.requestRender(),es.preventDefault())},left(es){if(this.selectionIsInCursorTarget())return es.preventDefault(),this.expandSelectionInDirection("backward")},right(es){if(this.selectionIsInCursorTarget())return es.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(es){var ki;return this.setInputSummary({preferDocument:!1}),(ki=this.delegate)===null||ki===void 0?void 0:ki.inputControllerWillPerformTyping()}},meta:{backspace(es){var ki;return this.setInputSummary({preferDocument:!1}),(ki=this.delegate)===null||ki===void 0?void 0:ki.inputControllerWillPerformTyping()}}}),ur.proxyMethod("responder?.getSelectedRange"),ur.proxyMethod("responder?.setSelectedRange"),ur.proxyMethod("responder?.expandSelectionInDirection"),ur.proxyMethod("responder?.selectionIsInCursorTarget"),ur.proxyMethod("responder?.selectionIsExpanded");const hr=es=>{var ki;return(ki=es.type)===null||ki===void 0||(ki=ki.match(/\/(\w+)$/))===null||ki===void 0?void 0:ki[1]},dr=!((sr=" ".codePointAt)===null||sr===void 0||!sr.call(" ",0)),gr=function(es){if(es.key&&dr&&es.key.codePointAt(0)===es.keyCode)return es.key;{let ki;if(es.which===null?ki=es.keyCode:es.which!==0&&es.charCode!==0&&(ki=es.charCode),ki!=null&&lr[ki]!=="escape")return $$1.fromCodepoints([ki]).toString()}},mr=function(es){const ki=es.clipboardData;if(ki){if(ki.types.includes("text/html")){for(const Ri of ki.types){const ts=/^CorePasteboardFlavorType/.test(Ri),rs=/^dyn\./.test(Ri)&&ki.getData(Ri);if(ts||rs)return!0}return!1}{const Ri=ki.types.includes("com.apple.webarchive"),ts=ki.types.includes("com.apple.flat-rtfd");return Ri||ts}}};class pr extends z{constructor(ki){super(...arguments),this.inputController=ki,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(ki){if(this.data.start=ki,this.isSignificant()){var Ri,ts;this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&((ts=this.responder)===null||ts===void 0||ts.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(Ri=this.responder)===null||Ri===void 0?void 0:Ri.getSelectedRange()}}update(ki){if(this.data.update=ki,this.isSignificant()){const Ri=this.selectPlaceholder();Ri&&(this.forgetPlaceholder(),this.range=Ri)}}end(ki){return this.data.end=ki,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(Ri=this.delegate)===null||Ri===void 0||Ri.inputControllerWillPerformTyping(),(ts=this.responder)===null||ts===void 0||ts.setSelectedRange(this.range),(rs=this.responder)===null||rs===void 0||rs.insertString(this.data.end),(is=this.responder)===null||is===void 0?void 0:is.setSelectedRange(this.range[0]+this.data.end.length)):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var Ri,ts,rs,is}getEndData(){return this.data.end}isEnded(){return this.getEndData()!=null}isSignificant(){return!ar.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var ki,Ri;return((ki=this.data.start)===null||ki===void 0?void 0:ki.length)===0&&((Ri=this.data.end)===null||Ri===void 0?void 0:Ri.length)>0&&this.range}}pr.proxyMethod("inputController.setInputSummary"),pr.proxyMethod("inputController.requestRender"),pr.proxyMethod("inputController.requestReparse"),pr.proxyMethod("responder?.selectionIsExpanded"),pr.proxyMethod("responder?.insertPlaceholder"),pr.proxyMethod("responder?.selectPlaceholder"),pr.proxyMethod("responder?.forgetPlaceholder");class fr extends or{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?(ki=this.delegate)===null||ki===void 0||(Ri=ki.inputControllerDidAllowUnhandledInput)===null||Ri===void 0?void 0:Ri.call(ki):void 0:this.reparse();var ki,Ri}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var ki,Ri;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(Ri=this.delegate)===null||Ri===void 0||Ri.render(),(ki=this.afterRender)===null||ki===void 0||ki.call(this),this.afterRender=null}reparse(){var ki;return(ki=this.delegate)===null||ki===void 0?void 0:ki.reparse()}insertString(){var ki;let Ri=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ts=arguments.length>1?arguments[1]:void 0;return(ki=this.delegate)===null||ki===void 0||ki.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var rs;return(rs=this.responder)===null||rs===void 0?void 0:rs.insertString(Ri,ts)})}toggleAttributeIfSupported(ki){var Ri;if(dt().includes(ki))return(Ri=this.delegate)===null||Ri===void 0||Ri.inputControllerWillPerformFormatting(ki),this.withTargetDOMRange(function(){var ts;return(ts=this.responder)===null||ts===void 0?void 0:ts.toggleCurrentAttribute(ki)})}activateAttributeIfSupported(ki,Ri){var ts;if(dt().includes(ki))return(ts=this.delegate)===null||ts===void 0||ts.inputControllerWillPerformFormatting(ki),this.withTargetDOMRange(function(){var rs;return(rs=this.responder)===null||rs===void 0?void 0:rs.setCurrentAttribute(ki,Ri)})}deleteInDirection(ki){let{recordUndoEntry:Ri}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordUndoEntry:!0};var ts;Ri&&((ts=this.delegate)===null||ts===void 0||ts.inputControllerWillPerformTyping());const rs=()=>{var ns;return(ns=this.responder)===null||ns===void 0?void 0:ns.deleteInDirection(ki)},is=this.getTargetDOMRange({minLength:this.composing?1:2});return is?this.withTargetDOMRange(is,rs):rs()}withTargetDOMRange(ki,Ri){var ts;return typeof ki=="function"&&(Ri=ki,ki=this.getTargetDOMRange()),ki?(ts=this.responder)===null||ts===void 0?void 0:ts.withTargetDOMRange(ki,Ri.bind(this)):(Ot.reset(),Ri.call(this))}getTargetDOMRange(){var ki,Ri;let{minLength:ts}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{minLength:0};const rs=(ki=(Ri=this.event).getTargetRanges)===null||ki===void 0?void 0:ki.call(Ri);if(rs&&rs.length){const is=br(rs[0]);if(ts===0||is.toString().length>=ts)return is}}withEvent(ki,Ri){let ts;this.event=ki;try{ts=Ri.call(this)}finally{this.event=null}return ts}}Ti(fr,"events",{keydown(es){if(Et(es)){var ki;const Ri=Cr(es);(ki=this.delegate)!==null&&ki!==void 0&&ki.inputControllerDidReceiveKeyboardCommand(Ri)&&es.preventDefault()}else{let Ri=es.key;es.altKey&&(Ri+="+Alt"),es.shiftKey&&(Ri+="+Shift");const ts=this.constructor.keys[Ri];if(ts)return this.withEvent(es,ts)}},paste(es){var ki;let Ri;const ts=(ki=es.clipboardData)===null||ki===void 0?void 0:ki.getData("URL");return yr(es)?(es.preventDefault(),this.attachFiles(es.clipboardData.files)):xr(es)?(es.preventDefault(),Ri={type:"text/plain",string:es.clipboardData.getData("text/plain")},(rs=this.delegate)===null||rs===void 0||rs.inputControllerWillPaste(Ri),(is=this.responder)===null||is===void 0||is.insertString(Ri.string),this.render(),(ns=this.delegate)===null||ns===void 0?void 0:ns.inputControllerDidPaste(Ri)):ts?(es.preventDefault(),Ri={type:"text/html",html:this.createLinkHTML(ts)},(ss=this.delegate)===null||ss===void 0||ss.inputControllerWillPaste(Ri),(os=this.responder)===null||os===void 0||os.insertHTML(Ri.html),this.render(),(ls=this.delegate)===null||ls===void 0?void 0:ls.inputControllerDidPaste(Ri)):void 0;var rs,is,ns,ss,os,ls},beforeinput(es){const ki=this.constructor.inputTypes[es.inputType],Ri=(ts=es,!(!/iPhone|iPad/.test(navigator.userAgent)||ts.inputType&&ts.inputType!=="insertParagraph"));var ts;ki&&(this.withEvent(es,ki),Ri||this.scheduleRender()),Ri&&this.render()},input(es){Ot.reset()},dragstart(es){var ki,Ri;(ki=this.responder)!==null&&ki!==void 0&&ki.selectionContainsAttachments()&&(es.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(Ri=this.responder)===null||Ri===void 0?void 0:Ri.getSelectedRange(),point:Er(es)})},dragenter(es){vr(es)&&es.preventDefault()},dragover(es){if(this.dragging){es.preventDefault();const Ri=Er(es);var ki;if(!kt(Ri,this.dragging.point))return this.dragging.point=Ri,(ki=this.responder)===null||ki===void 0?void 0:ki.setLocationRangeFromPointRange(Ri)}else vr(es)&&es.preventDefault()},drop(es){var ki,Ri;if(this.dragging)return es.preventDefault(),(ki=this.delegate)===null||ki===void 0||ki.inputControllerWillMoveText(),(Ri=this.responder)===null||Ri===void 0||Ri.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(vr(es)){var ts;es.preventDefault();const rs=Er(es);return(ts=this.responder)===null||ts===void 0||ts.setLocationRangeFromPointRange(rs),this.attachFiles(es.dataTransfer.files)}},dragend(){var es;this.dragging&&((es=this.responder)===null||es===void 0||es.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(es){this.composing&&(this.composing=!1,a.recentAndroid||this.scheduleRender())}}),Ti(fr,"keys",{ArrowLeft(){var es,ki;if((es=this.responder)!==null&&es!==void 0&&es.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),(ki=this.responder)===null||ki===void 0?void 0:ki.moveCursorInDirection("backward")},ArrowRight(){var es,ki;if((es=this.responder)!==null&&es!==void 0&&es.shouldManageMovingCursorInDirection("forward"))return this.event.preventDefault(),(ki=this.responder)===null||ki===void 0?void 0:ki.moveCursorInDirection("forward")},Backspace(){var es,ki,Ri;if((es=this.responder)!==null&&es!==void 0&&es.shouldManageDeletingInDirection("backward"))return this.event.preventDefault(),(ki=this.delegate)===null||ki===void 0||ki.inputControllerWillPerformTyping(),(Ri=this.responder)===null||Ri===void 0||Ri.deleteInDirection("backward"),this.render()},Tab(){var es,ki;if((es=this.responder)!==null&&es!==void 0&&es.canIncreaseNestingLevel())return this.event.preventDefault(),(ki=this.responder)===null||ki===void 0||ki.increaseNestingLevel(),this.render()},"Tab+Shift"(){var es,ki;if((es=this.responder)!==null&&es!==void 0&&es.canDecreaseNestingLevel())return this.event.preventDefault(),(ki=this.responder)===null||ki===void 0||ki.decreaseNestingLevel(),this.render()}}),Ti(fr,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var es;this.deleteByDragRange=(es=this.responder)===null||es===void 0?void 0:es.getSelectedRange()})},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var es;if((es=this.responder)!==null&&es!==void 0&&es.canIncreaseNestingLevel())return this.withTargetDOMRange(function(){var ki;return(ki=this.responder)===null||ki===void 0?void 0:ki.increaseNestingLevel()})},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var es;if((es=this.responder)!==null&&es!==void 0&&es.canDecreaseNestingLevel())return this.withTargetDOMRange(function(){var ki;return(ki=this.responder)===null||ki===void 0?void 0:ki.decreaseNestingLevel()})},formatRemove(){this.withTargetDOMRange(function(){for(const Ri in(es=this.responder)===null||es===void 0?void 0:es.getCurrentAttributes()){var es,ki;(ki=this.responder)===null||ki===void 0||ki.removeCurrentAttribute(Ri)}})},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var es;return(es=this.delegate)===null||es===void 0?void 0:es.inputControllerWillPerformRedo()},historyUndo(){var es;return(es=this.delegate)===null||es===void 0?void 0:es.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){const es=this.deleteByDragRange;var ki;if(es)return this.deleteByDragRange=null,(ki=this.delegate)===null||ki===void 0||ki.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var Ri;return(Ri=this.responder)===null||Ri===void 0?void 0:Ri.moveTextFromRange(es)})},insertFromPaste(){const{dataTransfer:es}=this.event,ki={dataTransfer:es},Ri=es.getData("URL"),ts=es.getData("text/html");if(Ri){var rs;let os;this.event.preventDefault(),ki.type="text/html";const ls=es.getData("public.url-name");os=ls?Ut(ls).trim():Ri,ki.html=this.createLinkHTML(Ri,os),(rs=this.delegate)===null||rs===void 0||rs.inputControllerWillPaste(ki),this.withTargetDOMRange(function(){var cs;return(cs=this.responder)===null||cs===void 0?void 0:cs.insertHTML(ki.html)}),this.afterRender=()=>{var cs;return(cs=this.delegate)===null||cs===void 0?void 0:cs.inputControllerDidPaste(ki)}}else if(Ct(es)){var is;ki.type="text/plain",ki.string=es.getData("text/plain"),(is=this.delegate)===null||is===void 0||is.inputControllerWillPaste(ki),this.withTargetDOMRange(function(){var os;return(os=this.responder)===null||os===void 0?void 0:os.insertString(ki.string)}),this.afterRender=()=>{var os;return(os=this.delegate)===null||os===void 0?void 0:os.inputControllerDidPaste(ki)}}else if(Ar(this.event)){var ns;ki.type="File",ki.file=es.files[0],(ns=this.delegate)===null||ns===void 0||ns.inputControllerWillPaste(ki),this.withTargetDOMRange(function(){var os;return(os=this.responder)===null||os===void 0?void 0:os.insertFile(ki.file)}),this.afterRender=()=>{var os;return(os=this.delegate)===null||os===void 0?void 0:os.inputControllerDidPaste(ki)}}else if(ts){var ss;this.event.preventDefault(),ki.type="text/html",ki.html=ts,(ss=this.delegate)===null||ss===void 0||ss.inputControllerWillPaste(ki),this.withTargetDOMRange(function(){var os;return(os=this.responder)===null||os===void 0?void 0:os.insertHTML(ki.html)}),this.afterRender=()=>{var os;return(os=this.delegate)===null||os===void 0?void 0:os.inputControllerDidPaste(ki)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(`
`)},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var es;return(es=this.delegate)===null||es===void 0||es.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var ki;return(ki=this.responder)===null||ki===void 0?void 0:ki.insertLineBreak()})},insertReplacementText(){const es=this.event.dataTransfer.getData("text/plain"),ki=this.event.getTargetRanges()[0];this.withTargetDOMRange(ki,()=>{this.insertString(es,{updatePosition:!1})})},insertText(){var es;return this.insertString(this.event.data||((es=this.event.dataTransfer)===null||es===void 0?void 0:es.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});const br=function(es){const ki=document.createRange();return ki.setStart(es.startContainer,es.startOffset),ki.setEnd(es.endContainer,es.endOffset),ki},vr=es=>{var ki;return Array.from(((ki=es.dataTransfer)===null||ki===void 0?void 0:ki.types)||[]).includes("Files")},Ar=es=>{var ki;return((ki=es.dataTransfer.files)===null||ki===void 0?void 0:ki[0])&&!yr(es)&&!(Ri=>{let{dataTransfer:ts}=Ri;return ts.types.includes("Files")&&ts.types.includes("text/html")&&ts.getData("text/html").includes("urn:schemas-microsoft-com:office:office")})(es)},yr=function(es){const ki=es.clipboardData;if(ki)return Array.from(ki.types).filter(Ri=>Ri.match(/file/i)).length===ki.types.length&&ki.files.length>=1},xr=function(es){const ki=es.clipboardData;if(ki)return ki.types.includes("text/plain")&&ki.types.length===1},Cr=function(es){const ki=[];return es.altKey&&ki.push("alt"),es.shiftKey&&ki.push("shift"),ki.push(es.key),ki},Er=es=>({x:es.clientX,y:es.clientY}),Sr="[data-trix-attribute]",Rr="[data-trix-action]",kr="".concat(Sr,", ").concat(Rr),Tr="[data-trix-dialog]",wr="".concat(Tr,"[data-trix-active]"),Lr="".concat(Tr," [data-trix-method]"),Dr="".concat(Tr," [data-trix-input]"),Nr=(es,ki)=>(ki||(ki=Or(es)),es.querySelector("[data-trix-input][name='".concat(ki,"']"))),Ir=es=>es.getAttribute("data-trix-action"),Or=es=>es.getAttribute("data-trix-attribute")||es.getAttribute("data-trix-dialog-attribute");class Pr extends z{constructor(ki){super(ki),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=ki,this.attributes={},this.actions={},this.resetDialogInputs(),f("mousedown",{onElement:this.element,matchingSelector:Rr,withCallback:this.didClickActionButton}),f("mousedown",{onElement:this.element,matchingSelector:Sr,withCallback:this.didClickAttributeButton}),f("click",{onElement:this.element,matchingSelector:kr,preventDefault:!0}),f("click",{onElement:this.element,matchingSelector:Lr,withCallback:this.didClickDialogButton}),f("keydown",{onElement:this.element,matchingSelector:Dr,withCallback:this.didKeyDownDialogInput})}didClickActionButton(ki,Ri){var ts;(ts=this.delegate)===null||ts===void 0||ts.toolbarDidClickButton(),ki.preventDefault();const rs=Ir(Ri);return this.getDialog(rs)?this.toggleDialog(rs):(is=this.delegate)===null||is===void 0?void 0:is.toolbarDidInvokeAction(rs,Ri);var is}didClickAttributeButton(ki,Ri){var ts;(ts=this.delegate)===null||ts===void 0||ts.toolbarDidClickButton(),ki.preventDefault();const rs=Or(Ri);var is;return this.getDialog(rs)?this.toggleDialog(rs):(is=this.delegate)===null||is===void 0||is.toolbarDidToggleAttribute(rs),this.refreshAttributeButtons()}didClickDialogButton(ki,Ri){const ts=A(Ri,{matchingSelector:Tr});return this[Ri.getAttribute("data-trix-method")].call(this,ts)}didKeyDownDialogInput(ki,Ri){if(ki.keyCode===13){ki.preventDefault();const ts=Ri.getAttribute("name"),rs=this.getDialog(ts);this.setAttribute(rs)}if(ki.keyCode===27)return ki.preventDefault(),this.hideDialog()}updateActions(ki){return this.actions=ki,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton((ki,Ri)=>{ki.disabled=this.actions[Ri]===!1})}eachActionButton(ki){return Array.from(this.element.querySelectorAll(Rr)).map(Ri=>ki(Ri,Ir(Ri)))}updateAttributes(ki){return this.attributes=ki,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton((ki,Ri)=>(ki.disabled=this.attributes[Ri]===!1,this.attributes[Ri]||this.dialogIsVisible(Ri)?(ki.setAttribute("data-trix-active",""),ki.classList.add("trix-active")):(ki.removeAttribute("data-trix-active"),ki.classList.remove("trix-active"))))}eachAttributeButton(ki){return Array.from(this.element.querySelectorAll(Sr)).map(Ri=>ki(Ri,Or(Ri)))}applyKeyboardCommand(ki){const Ri=JSON.stringify(ki.sort());for(const ts of Array.from(this.element.querySelectorAll("[data-trix-key]"))){const rs=ts.getAttribute("data-trix-key").split("+");if(JSON.stringify(rs.sort())===Ri)return b("mousedown",{onElement:ts}),!0}return!1}dialogIsVisible(ki){const Ri=this.getDialog(ki);if(Ri)return Ri.hasAttribute("data-trix-active")}toggleDialog(ki){return this.dialogIsVisible(ki)?this.hideDialog():this.showDialog(ki)}showDialog(ki){var Ri,ts;this.hideDialog(),(Ri=this.delegate)===null||Ri===void 0||Ri.toolbarWillShowDialog();const rs=this.getDialog(ki);rs.setAttribute("data-trix-active",""),rs.classList.add("trix-active"),Array.from(rs.querySelectorAll("input[disabled]")).forEach(ns=>{ns.removeAttribute("disabled")});const is=Or(rs);if(is){const ns=Nr(rs,ki);ns&&(ns.value=this.attributes[is]||"",ns.select())}return(ts=this.delegate)===null||ts===void 0?void 0:ts.toolbarDidShowDialog(ki)}setAttribute(ki){const Ri=Or(ki),ts=Nr(ki,Ri);return ts.willValidate&&!ts.checkValidity()?(ts.setAttribute("data-trix-validate",""),ts.classList.add("trix-validate"),ts.focus()):((rs=this.delegate)===null||rs===void 0||rs.toolbarDidUpdateAttribute(Ri,ts.value),this.hideDialog());var rs}removeAttribute(ki){var Ri;const ts=Or(ki);return(Ri=this.delegate)===null||Ri===void 0||Ri.toolbarDidRemoveAttribute(ts),this.hideDialog()}hideDialog(){const ki=this.element.querySelector(wr);var Ri;if(ki)return ki.removeAttribute("data-trix-active"),ki.classList.remove("trix-active"),this.resetDialogInputs(),(Ri=this.delegate)===null||Ri===void 0?void 0:Ri.toolbarDidHideDialog((ts=>ts.getAttribute("data-trix-dialog"))(ki))}resetDialogInputs(){Array.from(this.element.querySelectorAll(Dr)).forEach(ki=>{ki.setAttribute("disabled","disabled"),ki.removeAttribute("data-trix-validate"),ki.classList.remove("trix-validate")})}getDialog(ki){return this.element.querySelector("[data-trix-dialog=".concat(ki,"]"))}}class Fr extends Gn{constructor(ki){let{editorElement:Ri,document:ts,html:rs}=ki;super(...arguments),this.editorElement=Ri,this.selectionManager=new jn(this.editorElement),this.selectionManager.delegate=this,this.composition=new Rn,this.composition.delegate=this,this.attachmentManager=new En(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=B.getLevel()===2?new fr(this.editorElement):new ur(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new Kn(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new Pr(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new In(this.composition,this.selectionManager,this.editorElement),ts?this.editor.loadDocument(ts):this.editor.loadHTML(rs)}registerSelectionManager(){return Ot.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return Ot.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(ki){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(ki){return this.currentAttributes=ki,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(ki){this.pasting&&(this.pastedRange=ki)}compositionShouldAcceptFile(ki){return this.notifyEditorElement("file-accept",{file:ki})}compositionDidAddAttachment(ki){const Ri=this.attachmentManager.manageAttachment(ki);return this.notifyEditorElement("attachment-add",{attachment:Ri})}compositionDidEditAttachment(ki){this.compositionController.rerenderViewForObject(ki);const Ri=this.attachmentManager.manageAttachment(ki);return this.notifyEditorElement("attachment-edit",{attachment:Ri}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(ki){return this.compositionController.invalidateViewForObject(ki),this.notifyEditorElement("change")}compositionDidRemoveAttachment(ki){const Ri=this.attachmentManager.unmanageAttachment(ki);return this.notifyEditorElement("attachment-remove",{attachment:Ri})}compositionDidStartEditingAttachment(ki,Ri){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(ki),this.compositionController.installAttachmentEditorForAttachment(ki,Ri),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(ki){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(ki){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=ki,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(ki){return this.removeAttachment(ki)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(ki,Ri){return this.toolbarController.hideDialog(),this.composition.editAttachment(ki,Ri)}compositionControllerDidRequestDeselectingAttachment(ki){const Ri=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(ki);return this.selectionManager.setLocationRange(Ri[1])}compositionControllerWillUpdateAttachment(ki){return this.editor.recordUndoEntry("Edit Attachment",{context:ki.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(ki){return this.removeAttachment(ki)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(ki){return this.recordFormattingUndoEntry(ki)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(ki){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:ki})}inputControllerDidPaste(ki){return ki.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:ki})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(ki){return this.toolbarController.applyKeyboardCommand(ki)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(ki){return this.selectionManager.setLocationRangeFromPointRange(ki)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(ki){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!Lt(this.attachmentLocationRange,ki)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(ki,Ri){return this.invokeAction(ki,Ri)}toolbarDidToggleAttribute(ki){if(this.recordFormattingUndoEntry(ki),this.composition.toggleCurrentAttribute(ki),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(ki,Ri){if(this.recordFormattingUndoEntry(ki),this.composition.setCurrentAttribute(ki,Ri),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(ki){if(this.recordFormattingUndoEntry(ki),this.composition.removeCurrentAttribute(ki),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(ki){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(ki){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:ki})}toolbarDidHideDialog(ki){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:ki})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(ki){return!!this.actionIsExternal(ki)||!((Ri=this.actions[ki])===null||Ri===void 0||(Ri=Ri.test)===null||Ri===void 0||!Ri.call(this));var Ri}invokeAction(ki,Ri){return this.actionIsExternal(ki)?this.notifyEditorElement("action-invoke",{actionName:ki,invokingElement:Ri}):(ts=this.actions[ki])===null||ts===void 0||(ts=ts.perform)===null||ts===void 0?void 0:ts.call(this);var ts}actionIsExternal(ki){return/^x-./.test(ki)}getCurrentActions(){const ki={};for(const Ri in this.actions)ki[Ri]=this.canInvokeAction(Ri);return ki}updateCurrentActions(){const ki=this.getCurrentActions();if(!kt(ki,this.currentActions))return this.currentActions=ki,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let ki=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach(rs=>{const{document:is,selectedRange:ns}=ki;ki=rs.call(this.editor,ki)||{},ki.document||(ki.document=is),ki.selectedRange||(ki.selectedRange=ns)}),Ri=ki,ts=this.composition.getSnapshot(),!Lt(Ri.selectedRange,ts.selectedRange)||!Ri.document.isEqualTo(ts.document))return this.composition.loadSnapshot(ki);var Ri,ts}updateInputElement(){const ki=function(Ri,ts){const rs=yn[ts];if(rs)return rs(Ri);throw new Error("unknown content type: ".concat(ts))}(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setFormValue(ki)}notifyEditorElement(ki,Ri){switch(ki){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(ki,Ri)}removeAttachment(ki){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(ki),this.render()}recordFormattingUndoEntry(ki){const Ri=gt(ki),ts=this.selectionManager.getLocationRange();if(Ri||!wt(ts))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var ki=arguments.length,Ri=new Array(ki),ts=0;ts<ki;ts++)Ri[ts]=arguments[ts];return[this.getLocationContext(),this.getTimeContext(),...Array.from(Ri)]}getLocationContext(){const ki=this.selectionManager.getLocationRange();return wt(ki)?ki[0].index:ki}getTimeContext(){return U.interval>0?Math.floor(new Date().getTime()/U.interval):0}isFocused(){var ki;return this.editorElement===((ki=this.editorElement.ownerDocument)===null||ki===void 0?void 0:ki.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}}Ti(Fr,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return B.pickFiles(this.editor.insertFiles)}}}),Fr.proxyMethod("getSelectionManager().setLocationRange"),Fr.proxyMethod("getSelectionManager().getLocationRange");var Mr=Object.freeze({__proto__:null,AttachmentEditorController:Jn,CompositionController:Kn,Controller:Gn,EditorController:Fr,InputController:or,Level0InputController:ur,Level2InputController:fr,ToolbarController:Pr}),Br=Object.freeze({__proto__:null,MutationObserver:Zn,SelectionChangeObserver:It}),_r=Object.freeze({__proto__:null,FileVerificationOperation:tr,ImagePreloadOperation:_i});bt("trix-toolbar",`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`);class jr extends HTMLElement{connectedCallback(){this.innerHTML===""&&(this.innerHTML=W.getDefaultHTML())}}let Wr=0;const Ur=function(es){if(!es.hasAttribute("contenteditable"))return es.setAttribute("contenteditable",""),function(ki){let Ri=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ri.times=1,f(ki,Ri)}("focus",{onElement:es,withCallback:()=>Vr(es)})},Vr=function(es){return zr(es),qr()},zr=function(es){var ki,Ri;if((ki=(Ri=document).queryCommandSupported)!==null&&ki!==void 0&&ki.call(Ri,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),f("mscontrolselect",{onElement:es,preventDefault:!0})},qr=function(es){var ki,Ri;if((ki=(Ri=document).queryCommandSupported)!==null&&ki!==void 0&&ki.call(Ri,"DefaultParagraphSeparator")){const{tagName:ts}=n.default;if(["div","p"].includes(ts))return document.execCommand("DefaultParagraphSeparator",!1,ts)}},Hr=a.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};bt("trix-editor",`%t {
    display: block;
}

%t:empty::before {
    content: attr(placeholder);
    color: graytext;
    cursor: text;
    pointer-events: none;
    white-space: pre-line;
}

%t a[contenteditable=false] {
    cursor: text;
}

%t img {
    max-width: 100%;
    height: auto;
}

%t `.concat(e,` figcaption textarea {
    resize: none;
}

%t `).concat(e,` figcaption textarea.trix-autoresize-clone {
    position: absolute;
    left: -9999px;
    max-height: 0px;
}

%t `).concat(e,` figcaption[data-trix-placeholder]:empty::before {
    content: attr(data-trix-placeholder);
    color: graytext;
}

%t [data-trix-cursor-target] {
    display: `).concat(Hr.display,` !important;
    width: `).concat(Hr.width,` !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

%t [data-trix-cursor-target=left] {
    vertical-align: top !important;
    margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
    vertical-align: bottom !important;
    margin-right: -1px !important;
}`));var Jr=new WeakMap,Kr=new WeakSet;class Gr{constructor(ki){var Ri,ts;Fi(Ri=this,ts=Kr),ts.add(Ri),Mi(this,Jr,{writable:!0,value:void 0}),this.element=ki,Di(this,Jr,ki.attachInternals())}connectedCallback(){Pi(this,Kr,Yr).call(this)}disconnectedCallback(){}get labels(){return Li(this,Jr).labels}get disabled(){var ki;return(ki=this.element.inputElement)===null||ki===void 0?void 0:ki.disabled}set disabled(ki){this.element.toggleAttribute("disabled",ki)}get required(){return this.element.hasAttribute("required")}set required(ki){this.element.toggleAttribute("required",ki),Pi(this,Kr,Yr).call(this)}get validity(){return Li(this,Jr).validity}get validationMessage(){return Li(this,Jr).validationMessage}get willValidate(){return Li(this,Jr).willValidate}setFormValue(ki){Pi(this,Kr,Yr).call(this)}checkValidity(){return Li(this,Jr).checkValidity()}reportValidity(){return Li(this,Jr).reportValidity()}setCustomValidity(ki){Pi(this,Kr,Yr).call(this,ki)}}function Yr(){let es=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{required:ki,value:Ri}=this.element,ts=ki&&!Ri,rs=!!es,is=k("input",{required:ki}),ns=es||is.validationMessage;Li(this,Jr).setValidity({valueMissing:ts,customError:rs},ns)}var $r=new WeakMap,Xr=new WeakMap,Zr=new WeakMap;class Qr{constructor(ki){Mi(this,$r,{writable:!0,value:void 0}),Mi(this,Xr,{writable:!0,value:Ri=>{Ri.defaultPrevented||Ri.target===this.element.form&&this.element.reset()}}),Mi(this,Zr,{writable:!0,value:Ri=>{if(Ri.defaultPrevented||this.element.contains(Ri.target))return;const ts=A(Ri.target,{matchingSelector:"label"});ts&&Array.from(this.labels).includes(ts)&&this.element.focus()}}),this.element=ki}connectedCallback(){Di(this,$r,function(ki){if(ki.hasAttribute("aria-label")||ki.hasAttribute("aria-labelledby"))return;const Ri=function(){const ts=Array.from(ki.labels).map(is=>{if(!is.contains(ki))return is.textContent}).filter(is=>is),rs=ts.join(" ");return rs?ki.setAttribute("aria-label",rs):ki.removeAttribute("aria-label")};return Ri(),f("focus",{onElement:ki,withCallback:Ri})}(this.element)),window.addEventListener("reset",Li(this,Xr),!1),window.addEventListener("click",Li(this,Zr),!1)}disconnectedCallback(){var ki;(ki=Li(this,$r))===null||ki===void 0||ki.destroy(),window.removeEventListener("reset",Li(this,Xr),!1),window.removeEventListener("click",Li(this,Zr),!1)}get labels(){const ki=[];this.element.id&&this.element.ownerDocument&&ki.push(...Array.from(this.element.ownerDocument.querySelectorAll("label[for='".concat(this.element.id,"']"))||[]));const Ri=A(this.element,{matchingSelector:"label"});return Ri&&[this.element,null].includes(Ri.control)&&ki.push(Ri),ki}get disabled(){return console.warn("This browser does not support the [disabled] attribute for trix-editor elements."),!1}set disabled(ki){console.warn("This browser does not support the [disabled] attribute for trix-editor elements.")}get required(){return console.warn("This browser does not support the [required] attribute for trix-editor elements."),!1}set required(ki){console.warn("This browser does not support the [required] attribute for trix-editor elements.")}get validity(){return console.warn("This browser does not support the validity property for trix-editor elements."),null}get validationMessage(){return console.warn("This browser does not support the validationMessage property for trix-editor elements."),""}get willValidate(){return console.warn("This browser does not support the willValidate property for trix-editor elements."),!1}setFormValue(ki){}checkValidity(){return console.warn("This browser does not support checkValidity() for trix-editor elements."),!0}reportValidity(){return console.warn("This browser does not support reportValidity() for trix-editor elements."),!0}setCustomValidity(ki){console.warn("This browser does not support setCustomValidity(validationMessage) for trix-editor elements.")}}var to=new WeakMap;class eo extends HTMLElement{constructor(){super(),Mi(this,to,{writable:!0,value:void 0}),Di(this,to,this.constructor.formAssociated?new Gr(this):new Qr(this))}get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++Wr),this.trixId)}get labels(){return Li(this,to).labels}get disabled(){return Li(this,to).disabled}set disabled(ki){Li(this,to).disabled=ki}get required(){return Li(this,to).required}set required(ki){Li(this,to).required=ki}get validity(){return Li(this,to).validity}get validationMessage(){return Li(this,to).validationMessage}get willValidate(){return Li(this,to).willValidate}get type(){return this.localName}get toolbarElement(){var ki;if(this.hasAttribute("toolbar"))return(ki=this.ownerDocument)===null||ki===void 0?void 0:ki.getElementById(this.getAttribute("toolbar"));if(this.parentNode){const Ri="trix-toolbar-".concat(this.trixId);this.setAttribute("toolbar",Ri);const ts=k("trix-toolbar",{id:Ri});return this.parentNode.insertBefore(ts,this),ts}}get form(){var ki;return(ki=this.inputElement)===null||ki===void 0?void 0:ki.form}get inputElement(){var ki;if(this.hasAttribute("input"))return(ki=this.ownerDocument)===null||ki===void 0?void 0:ki.getElementById(this.getAttribute("input"));if(this.parentNode){const Ri="trix-input-".concat(this.trixId);this.setAttribute("input",Ri);const ts=k("input",{type:"hidden",id:Ri});return this.parentNode.insertBefore(ts,this.nextElementSibling),ts}}get editor(){var ki;return(ki=this.editorController)===null||ki===void 0?void 0:ki.editor}get name(){var ki;return(ki=this.inputElement)===null||ki===void 0?void 0:ki.name}get value(){var ki;return(ki=this.inputElement)===null||ki===void 0?void 0:ki.value}set value(ki){var Ri;this.defaultValue=ki,(Ri=this.editor)===null||Ri===void 0||Ri.loadHTML(this.defaultValue)}notify(ki,Ri){if(this.editorController)return b("trix-".concat(ki),{onElement:this,attributes:Ri})}setFormValue(ki){this.inputElement&&(this.inputElement.value=ki,Li(this,to).setFormValue(ki))}connectedCallback(){this.hasAttribute("data-trix-internal")||(Ur(this),function(ki){ki.hasAttribute("role")||ki.setAttribute("role","textbox")}(this),this.editorController||(b("trix-before-initialize",{onElement:this}),this.editorController=new Fr({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(()=>b("trix-initialize",{onElement:this}))),this.editorController.registerSelectionManager(),Li(this,to).connectedCallback(),function(ki){!document.querySelector(":focus")&&ki.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===ki&&ki.focus()}(this))}disconnectedCallback(){var ki;(ki=this.editorController)===null||ki===void 0||ki.unregisterSelectionManager(),Li(this,to).disconnectedCallback()}checkValidity(){return Li(this,to).checkValidity()}reportValidity(){return Li(this,to).reportValidity()}setCustomValidity(ki){Li(this,to).setCustomValidity(ki)}formDisabledCallback(ki){this.inputElement&&(this.inputElement.disabled=ki),this.toggleAttribute("contenteditable",!ki)}formResetCallback(){this.reset()}reset(){this.value=this.defaultValue}}Ti(eo,"formAssociated","ElementInternals"in window);const io={VERSION:t,config:V,core:xn,models:Wn,views:Un,controllers:Mr,observers:Br,operations:_r,elements:Object.freeze({__proto__:null,TrixEditorElement:eo,TrixToolbarElement:jr}),filters:Object.freeze({__proto__:null,Filter:Ln,attachmentGalleryFilter:Dn})};Object.assign(io,Wn),window.Trix=io,setTimeout(function(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",jr),customElements.get("trix-editor")||customElements.define("trix-editor",eo)},0);var sparkMd5={exports:{}};(function(es,ki){(function(Ri){es.exports=Ri()})(function(Ri){var ts=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function rs(ps,ms){var fs=ps[0],gs=ps[1],ws=ps[2],Ts=ps[3];fs+=(gs&ws|~gs&Ts)+ms[0]-680876936|0,fs=(fs<<7|fs>>>25)+gs|0,Ts+=(fs&gs|~fs&ws)+ms[1]-389564586|0,Ts=(Ts<<12|Ts>>>20)+fs|0,ws+=(Ts&fs|~Ts&gs)+ms[2]+606105819|0,ws=(ws<<17|ws>>>15)+Ts|0,gs+=(ws&Ts|~ws&fs)+ms[3]-1044525330|0,gs=(gs<<22|gs>>>10)+ws|0,fs+=(gs&ws|~gs&Ts)+ms[4]-176418897|0,fs=(fs<<7|fs>>>25)+gs|0,Ts+=(fs&gs|~fs&ws)+ms[5]+1200080426|0,Ts=(Ts<<12|Ts>>>20)+fs|0,ws+=(Ts&fs|~Ts&gs)+ms[6]-1473231341|0,ws=(ws<<17|ws>>>15)+Ts|0,gs+=(ws&Ts|~ws&fs)+ms[7]-45705983|0,gs=(gs<<22|gs>>>10)+ws|0,fs+=(gs&ws|~gs&Ts)+ms[8]+1770035416|0,fs=(fs<<7|fs>>>25)+gs|0,Ts+=(fs&gs|~fs&ws)+ms[9]-1958414417|0,Ts=(Ts<<12|Ts>>>20)+fs|0,ws+=(Ts&fs|~Ts&gs)+ms[10]-42063|0,ws=(ws<<17|ws>>>15)+Ts|0,gs+=(ws&Ts|~ws&fs)+ms[11]-1990404162|0,gs=(gs<<22|gs>>>10)+ws|0,fs+=(gs&ws|~gs&Ts)+ms[12]+1804603682|0,fs=(fs<<7|fs>>>25)+gs|0,Ts+=(fs&gs|~fs&ws)+ms[13]-40341101|0,Ts=(Ts<<12|Ts>>>20)+fs|0,ws+=(Ts&fs|~Ts&gs)+ms[14]-1502002290|0,ws=(ws<<17|ws>>>15)+Ts|0,gs+=(ws&Ts|~ws&fs)+ms[15]+1236535329|0,gs=(gs<<22|gs>>>10)+ws|0,fs+=(gs&Ts|ws&~Ts)+ms[1]-165796510|0,fs=(fs<<5|fs>>>27)+gs|0,Ts+=(fs&ws|gs&~ws)+ms[6]-1069501632|0,Ts=(Ts<<9|Ts>>>23)+fs|0,ws+=(Ts&gs|fs&~gs)+ms[11]+643717713|0,ws=(ws<<14|ws>>>18)+Ts|0,gs+=(ws&fs|Ts&~fs)+ms[0]-373897302|0,gs=(gs<<20|gs>>>12)+ws|0,fs+=(gs&Ts|ws&~Ts)+ms[5]-701558691|0,fs=(fs<<5|fs>>>27)+gs|0,Ts+=(fs&ws|gs&~ws)+ms[10]+38016083|0,Ts=(Ts<<9|Ts>>>23)+fs|0,ws+=(Ts&gs|fs&~gs)+ms[15]-660478335|0,ws=(ws<<14|ws>>>18)+Ts|0,gs+=(ws&fs|Ts&~fs)+ms[4]-405537848|0,gs=(gs<<20|gs>>>12)+ws|0,fs+=(gs&Ts|ws&~Ts)+ms[9]+568446438|0,fs=(fs<<5|fs>>>27)+gs|0,Ts+=(fs&ws|gs&~ws)+ms[14]-1019803690|0,Ts=(Ts<<9|Ts>>>23)+fs|0,ws+=(Ts&gs|fs&~gs)+ms[3]-187363961|0,ws=(ws<<14|ws>>>18)+Ts|0,gs+=(ws&fs|Ts&~fs)+ms[8]+1163531501|0,gs=(gs<<20|gs>>>12)+ws|0,fs+=(gs&Ts|ws&~Ts)+ms[13]-1444681467|0,fs=(fs<<5|fs>>>27)+gs|0,Ts+=(fs&ws|gs&~ws)+ms[2]-51403784|0,Ts=(Ts<<9|Ts>>>23)+fs|0,ws+=(Ts&gs|fs&~gs)+ms[7]+1735328473|0,ws=(ws<<14|ws>>>18)+Ts|0,gs+=(ws&fs|Ts&~fs)+ms[12]-1926607734|0,gs=(gs<<20|gs>>>12)+ws|0,fs+=(gs^ws^Ts)+ms[5]-378558|0,fs=(fs<<4|fs>>>28)+gs|0,Ts+=(fs^gs^ws)+ms[8]-2022574463|0,Ts=(Ts<<11|Ts>>>21)+fs|0,ws+=(Ts^fs^gs)+ms[11]+1839030562|0,ws=(ws<<16|ws>>>16)+Ts|0,gs+=(ws^Ts^fs)+ms[14]-35309556|0,gs=(gs<<23|gs>>>9)+ws|0,fs+=(gs^ws^Ts)+ms[1]-1530992060|0,fs=(fs<<4|fs>>>28)+gs|0,Ts+=(fs^gs^ws)+ms[4]+1272893353|0,Ts=(Ts<<11|Ts>>>21)+fs|0,ws+=(Ts^fs^gs)+ms[7]-155497632|0,ws=(ws<<16|ws>>>16)+Ts|0,gs+=(ws^Ts^fs)+ms[10]-1094730640|0,gs=(gs<<23|gs>>>9)+ws|0,fs+=(gs^ws^Ts)+ms[13]+681279174|0,fs=(fs<<4|fs>>>28)+gs|0,Ts+=(fs^gs^ws)+ms[0]-358537222|0,Ts=(Ts<<11|Ts>>>21)+fs|0,ws+=(Ts^fs^gs)+ms[3]-722521979|0,ws=(ws<<16|ws>>>16)+Ts|0,gs+=(ws^Ts^fs)+ms[6]+76029189|0,gs=(gs<<23|gs>>>9)+ws|0,fs+=(gs^ws^Ts)+ms[9]-640364487|0,fs=(fs<<4|fs>>>28)+gs|0,Ts+=(fs^gs^ws)+ms[12]-421815835|0,Ts=(Ts<<11|Ts>>>21)+fs|0,ws+=(Ts^fs^gs)+ms[15]+530742520|0,ws=(ws<<16|ws>>>16)+Ts|0,gs+=(ws^Ts^fs)+ms[2]-995338651|0,gs=(gs<<23|gs>>>9)+ws|0,fs+=(ws^(gs|~Ts))+ms[0]-198630844|0,fs=(fs<<6|fs>>>26)+gs|0,Ts+=(gs^(fs|~ws))+ms[7]+1126891415|0,Ts=(Ts<<10|Ts>>>22)+fs|0,ws+=(fs^(Ts|~gs))+ms[14]-1416354905|0,ws=(ws<<15|ws>>>17)+Ts|0,gs+=(Ts^(ws|~fs))+ms[5]-57434055|0,gs=(gs<<21|gs>>>11)+ws|0,fs+=(ws^(gs|~Ts))+ms[12]+1700485571|0,fs=(fs<<6|fs>>>26)+gs|0,Ts+=(gs^(fs|~ws))+ms[3]-1894986606|0,Ts=(Ts<<10|Ts>>>22)+fs|0,ws+=(fs^(Ts|~gs))+ms[10]-1051523|0,ws=(ws<<15|ws>>>17)+Ts|0,gs+=(Ts^(ws|~fs))+ms[1]-2054922799|0,gs=(gs<<21|gs>>>11)+ws|0,fs+=(ws^(gs|~Ts))+ms[8]+1873313359|0,fs=(fs<<6|fs>>>26)+gs|0,Ts+=(gs^(fs|~ws))+ms[15]-30611744|0,Ts=(Ts<<10|Ts>>>22)+fs|0,ws+=(fs^(Ts|~gs))+ms[6]-1560198380|0,ws=(ws<<15|ws>>>17)+Ts|0,gs+=(Ts^(ws|~fs))+ms[13]+1309151649|0,gs=(gs<<21|gs>>>11)+ws|0,fs+=(ws^(gs|~Ts))+ms[4]-145523070|0,fs=(fs<<6|fs>>>26)+gs|0,Ts+=(gs^(fs|~ws))+ms[11]-1120210379|0,Ts=(Ts<<10|Ts>>>22)+fs|0,ws+=(fs^(Ts|~gs))+ms[2]+718787259|0,ws=(ws<<15|ws>>>17)+Ts|0,gs+=(Ts^(ws|~fs))+ms[9]-343485551|0,gs=(gs<<21|gs>>>11)+ws|0,ps[0]=fs+ps[0]|0,ps[1]=gs+ps[1]|0,ps[2]=ws+ps[2]|0,ps[3]=Ts+ps[3]|0}function is(ps){var ms=[],fs;for(fs=0;fs<64;fs+=4)ms[fs>>2]=ps.charCodeAt(fs)+(ps.charCodeAt(fs+1)<<8)+(ps.charCodeAt(fs+2)<<16)+(ps.charCodeAt(fs+3)<<24);return ms}function ns(ps){var ms=[],fs;for(fs=0;fs<64;fs+=4)ms[fs>>2]=ps[fs]+(ps[fs+1]<<8)+(ps[fs+2]<<16)+(ps[fs+3]<<24);return ms}function ss(ps){var ms=ps.length,fs=[1732584193,-271733879,-1732584194,271733878],gs,ws,Ts,$s,Rs,Ps;for(gs=64;gs<=ms;gs+=64)rs(fs,is(ps.substring(gs-64,gs)));for(ps=ps.substring(gs-64),ws=ps.length,Ts=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],gs=0;gs<ws;gs+=1)Ts[gs>>2]|=ps.charCodeAt(gs)<<(gs%4<<3);if(Ts[gs>>2]|=128<<(gs%4<<3),gs>55)for(rs(fs,Ts),gs=0;gs<16;gs+=1)Ts[gs]=0;return $s=ms*8,$s=$s.toString(16).match(/(.*?)(.{0,8})$/),Rs=parseInt($s[2],16),Ps=parseInt($s[1],16)||0,Ts[14]=Rs,Ts[15]=Ps,rs(fs,Ts),fs}function os(ps){var ms=ps.length,fs=[1732584193,-271733879,-1732584194,271733878],gs,ws,Ts,$s,Rs,Ps;for(gs=64;gs<=ms;gs+=64)rs(fs,ns(ps.subarray(gs-64,gs)));for(ps=gs-64<ms?ps.subarray(gs-64):new Uint8Array(0),ws=ps.length,Ts=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],gs=0;gs<ws;gs+=1)Ts[gs>>2]|=ps[gs]<<(gs%4<<3);if(Ts[gs>>2]|=128<<(gs%4<<3),gs>55)for(rs(fs,Ts),gs=0;gs<16;gs+=1)Ts[gs]=0;return $s=ms*8,$s=$s.toString(16).match(/(.*?)(.{0,8})$/),Rs=parseInt($s[2],16),Ps=parseInt($s[1],16)||0,Ts[14]=Rs,Ts[15]=Ps,rs(fs,Ts),fs}function ls(ps){var ms="",fs;for(fs=0;fs<4;fs+=1)ms+=ts[ps>>fs*8+4&15]+ts[ps>>fs*8&15];return ms}function cs(ps){var ms;for(ms=0;ms<ps.length;ms+=1)ps[ms]=ls(ps[ms]);return ps.join("")}cs(ss("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function ps(ms,fs){return ms=ms|0||0,ms<0?Math.max(ms+fs,0):Math.min(ms,fs)}ArrayBuffer.prototype.slice=function(ms,fs){var gs=this.byteLength,ws=ps(ms,gs),Ts=gs,$s,Rs,Ps,Qs;return fs!==Ri&&(Ts=ps(fs,gs)),ws>Ts?new ArrayBuffer(0):($s=Ts-ws,Rs=new ArrayBuffer($s),Ps=new Uint8Array(Rs),Qs=new Uint8Array(this,ws,$s),Ps.set(Qs),Rs)}}();function hs(ps){return/[\u0080-\uFFFF]/.test(ps)&&(ps=unescape(encodeURIComponent(ps))),ps}function us(ps,ms){var fs=ps.length,gs=new ArrayBuffer(fs),ws=new Uint8Array(gs),Ts;for(Ts=0;Ts<fs;Ts+=1)ws[Ts]=ps.charCodeAt(Ts);return ms?ws:gs}function As(ps){return String.fromCharCode.apply(null,new Uint8Array(ps))}function bs(ps,ms,fs){var gs=new Uint8Array(ps.byteLength+ms.byteLength);return gs.set(new Uint8Array(ps)),gs.set(new Uint8Array(ms),ps.byteLength),gs}function ys(ps){var ms=[],fs=ps.length,gs;for(gs=0;gs<fs-1;gs+=2)ms.push(parseInt(ps.substr(gs,2),16));return String.fromCharCode.apply(String,ms)}function Cs(){this.reset()}return Cs.prototype.append=function(ps){return this.appendBinary(hs(ps)),this},Cs.prototype.appendBinary=function(ps){this._buff+=ps,this._length+=ps.length;var ms=this._buff.length,fs;for(fs=64;fs<=ms;fs+=64)rs(this._hash,is(this._buff.substring(fs-64,fs)));return this._buff=this._buff.substring(fs-64),this},Cs.prototype.end=function(ps){var ms=this._buff,fs=ms.length,gs,ws=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ts;for(gs=0;gs<fs;gs+=1)ws[gs>>2]|=ms.charCodeAt(gs)<<(gs%4<<3);return this._finish(ws,fs),Ts=cs(this._hash),ps&&(Ts=ys(Ts)),this.reset(),Ts},Cs.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},Cs.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},Cs.prototype.setState=function(ps){return this._buff=ps.buff,this._length=ps.length,this._hash=ps.hash,this},Cs.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},Cs.prototype._finish=function(ps,ms){var fs=ms,gs,ws,Ts;if(ps[fs>>2]|=128<<(fs%4<<3),fs>55)for(rs(this._hash,ps),fs=0;fs<16;fs+=1)ps[fs]=0;gs=this._length*8,gs=gs.toString(16).match(/(.*?)(.{0,8})$/),ws=parseInt(gs[2],16),Ts=parseInt(gs[1],16)||0,ps[14]=ws,ps[15]=Ts,rs(this._hash,ps)},Cs.hash=function(ps,ms){return Cs.hashBinary(hs(ps),ms)},Cs.hashBinary=function(ps,ms){var fs=ss(ps),gs=cs(fs);return ms?ys(gs):gs},Cs.ArrayBuffer=function(){this.reset()},Cs.ArrayBuffer.prototype.append=function(ps){var ms=bs(this._buff.buffer,ps),fs=ms.length,gs;for(this._length+=ps.byteLength,gs=64;gs<=fs;gs+=64)rs(this._hash,ns(ms.subarray(gs-64,gs)));return this._buff=gs-64<fs?new Uint8Array(ms.buffer.slice(gs-64)):new Uint8Array(0),this},Cs.ArrayBuffer.prototype.end=function(ps){var ms=this._buff,fs=ms.length,gs=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ws,Ts;for(ws=0;ws<fs;ws+=1)gs[ws>>2]|=ms[ws]<<(ws%4<<3);return this._finish(gs,fs),Ts=cs(this._hash),ps&&(Ts=ys(Ts)),this.reset(),Ts},Cs.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},Cs.ArrayBuffer.prototype.getState=function(){var ps=Cs.prototype.getState.call(this);return ps.buff=As(ps.buff),ps},Cs.ArrayBuffer.prototype.setState=function(ps){return ps.buff=us(ps.buff,!0),Cs.prototype.setState.call(this,ps)},Cs.ArrayBuffer.prototype.destroy=Cs.prototype.destroy,Cs.ArrayBuffer.prototype._finish=Cs.prototype._finish,Cs.ArrayBuffer.hash=function(ps,ms){var fs=os(new Uint8Array(ps)),gs=cs(fs);return ms?ys(gs):gs},Cs})})(sparkMd5);var SparkMD5=sparkMd5.exports;const fileSlice=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice;class FileChecksum{static create(ki,Ri){new FileChecksum(ki).create(Ri)}constructor(ki){this.file=ki,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}create(ki){this.callback=ki,this.md5Buffer=new SparkMD5.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",Ri=>this.fileReaderDidLoad(Ri)),this.fileReader.addEventListener("error",Ri=>this.fileReaderDidError(Ri)),this.readNextChunk()}fileReaderDidLoad(ki){if(this.md5Buffer.append(ki.target.result),!this.readNextChunk()){const Ri=this.md5Buffer.end(!0),ts=btoa(Ri);this.callback(null,ts)}}fileReaderDidError(ki){this.callback(`Error reading ${this.file.name}`)}readNextChunk(){if(this.chunkIndex<this.chunkCount||this.chunkIndex==0&&this.chunkCount==0){const ki=this.chunkIndex*this.chunkSize,Ri=Math.min(ki+this.chunkSize,this.file.size),ts=fileSlice.call(this.file,ki,Ri);return this.fileReader.readAsArrayBuffer(ts),this.chunkIndex++,!0}else return!1}}function getMetaValue(es){const ki=findElement(document.head,`meta[name="${es}"]`);if(ki)return ki.getAttribute("content")}function findElements(es,ki){typeof es=="string"&&(ki=es,es=document);const Ri=es.querySelectorAll(ki);return toArray(Ri)}function findElement(es,ki){return typeof es=="string"&&(ki=es,es=document),es.querySelector(ki)}function dispatchEvent$1(es,ki,Ri={}){const{disabled:ts}=es,{bubbles:rs,cancelable:is,detail:ns}=Ri,ss=document.createEvent("Event");ss.initEvent(ki,rs||!0,is||!0),ss.detail=ns||{};try{es.disabled=!1,es.dispatchEvent(ss)}finally{es.disabled=ts}return ss}function toArray(es){return Array.isArray(es)?es:Array.from?Array.from(es):[].slice.call(es)}class BlobRecord{constructor(ki,Ri,ts,rs={}){this.file=ki,this.attributes={filename:ki.name,content_type:ki.type||"application/octet-stream",byte_size:ki.size,checksum:Ri},this.xhr=new XMLHttpRequest,this.xhr.open("POST",ts,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(rs).forEach(ns=>{this.xhr.setRequestHeader(ns,rs[ns])});const is=getMetaValue("csrf-token");is!=null&&this.xhr.setRequestHeader("X-CSRF-Token",is),this.xhr.addEventListener("load",ns=>this.requestDidLoad(ns)),this.xhr.addEventListener("error",ns=>this.requestDidError(ns))}get status(){return this.xhr.status}get response(){const{responseType:ki,response:Ri}=this.xhr;return ki=="json"?Ri:JSON.parse(Ri)}create(ki){this.callback=ki,this.xhr.send(JSON.stringify({blob:this.attributes}))}requestDidLoad(ki){if(this.status>=200&&this.status<300){const{response:Ri}=this,{direct_upload:ts}=Ri;delete Ri.direct_upload,this.attributes=Ri,this.directUploadData=ts,this.callback(null,this.toJSON())}else this.requestDidError(ki)}requestDidError(ki){this.callback(`Error creating Blob for "${this.file.name}". Status: ${this.status}`)}toJSON(){const ki={};for(const Ri in this.attributes)ki[Ri]=this.attributes[Ri];return ki}}class BlobUpload{constructor(ki){this.blob=ki,this.file=ki.file;const{url:Ri,headers:ts}=ki.directUploadData;this.xhr=new XMLHttpRequest,this.xhr.open("PUT",Ri,!0),this.xhr.responseType="text";for(const rs in ts)this.xhr.setRequestHeader(rs,ts[rs]);this.xhr.addEventListener("load",rs=>this.requestDidLoad(rs)),this.xhr.addEventListener("error",rs=>this.requestDidError(rs))}create(ki){this.callback=ki,this.xhr.send(this.file.slice())}requestDidLoad(ki){const{status:Ri,response:ts}=this.xhr;Ri>=200&&Ri<300?this.callback(null,ts):this.requestDidError(ki)}requestDidError(ki){this.callback(`Error storing "${this.file.name}". Status: ${this.xhr.status}`)}}let id=0;class DirectUpload{constructor(ki,Ri,ts,rs={}){this.id=++id,this.file=ki,this.url=Ri,this.delegate=ts,this.customHeaders=rs}create(ki){FileChecksum.create(this.file,(Ri,ts)=>{if(Ri){ki(Ri);return}const rs=new BlobRecord(this.file,ts,this.url,this.customHeaders);notify(this.delegate,"directUploadWillCreateBlobWithXHR",rs.xhr),rs.create(is=>{if(is)ki(is);else{const ns=new BlobUpload(rs);notify(this.delegate,"directUploadWillStoreFileWithXHR",ns.xhr),ns.create(ss=>{ss?ki(ss):ki(null,rs.toJSON())})}})})}}function notify(es,ki,...Ri){if(es&&typeof es[ki]=="function")return es[ki](...Ri)}class DirectUploadController{constructor(ki,Ri){this.input=ki,this.file=Ri,this.directUpload=new DirectUpload(this.file,this.url,this),this.dispatch("initialize")}start(ki){const Ri=document.createElement("input");Ri.type="hidden",Ri.name=this.input.name,this.input.insertAdjacentElement("beforebegin",Ri),this.dispatch("start"),this.directUpload.create((ts,rs)=>{ts?(Ri.parentNode.removeChild(Ri),this.dispatchError(ts)):Ri.value=rs.signed_id,this.dispatch("end"),ki(ts)})}uploadRequestDidProgress(ki){const Ri=ki.loaded/ki.total*100;Ri&&this.dispatch("progress",{progress:Ri})}get url(){return this.input.getAttribute("data-direct-upload-url")}dispatch(ki,Ri={}){return Ri.file=this.file,Ri.id=this.directUpload.id,dispatchEvent$1(this.input,`direct-upload:${ki}`,{detail:Ri})}dispatchError(ki){this.dispatch("error",{error:ki}).defaultPrevented||alert(ki)}directUploadWillCreateBlobWithXHR(ki){this.dispatch("before-blob-request",{xhr:ki})}directUploadWillStoreFileWithXHR(ki){this.dispatch("before-storage-request",{xhr:ki}),ki.upload.addEventListener("progress",Ri=>this.uploadRequestDidProgress(Ri))}}const inputSelector="input[type=file][data-direct-upload-url]:not([disabled])";class DirectUploadsController{constructor(ki){this.form=ki,this.inputs=findElements(ki,inputSelector).filter(Ri=>Ri.files.length)}start(ki){const Ri=this.createDirectUploadControllers(),ts=()=>{const rs=Ri.shift();rs?rs.start(is=>{is?(ki(is),this.dispatch("end")):ts()}):(ki(),this.dispatch("end"))};this.dispatch("start"),ts()}createDirectUploadControllers(){const ki=[];return this.inputs.forEach(Ri=>{toArray(Ri.files).forEach(ts=>{const rs=new DirectUploadController(Ri,ts);ki.push(rs)})}),ki}dispatch(ki,Ri={}){return dispatchEvent$1(this.form,`direct-uploads:${ki}`,{detail:Ri})}}const processingAttribute="data-direct-uploads-processing",submitButtonsByForm=new WeakMap;let started=!1;function start(){started||(started=!0,document.addEventListener("click",didClick,!0),document.addEventListener("submit",didSubmitForm,!0),document.addEventListener("ajax:before",didSubmitRemoteElement))}function didClick(es){const ki=es.target.closest("button, input");ki&&ki.type==="submit"&&ki.form&&submitButtonsByForm.set(ki.form,ki)}function didSubmitForm(es){handleFormSubmissionEvent(es)}function didSubmitRemoteElement(es){es.target.tagName=="FORM"&&handleFormSubmissionEvent(es)}function handleFormSubmissionEvent(es){const ki=es.target;if(ki.hasAttribute(processingAttribute)){es.preventDefault();return}const Ri=new DirectUploadsController(ki),{inputs:ts}=Ri;ts.length&&(es.preventDefault(),ki.setAttribute(processingAttribute,""),ts.forEach(disable),Ri.start(rs=>{ki.removeAttribute(processingAttribute),rs?ts.forEach(enable):submitForm(ki)}))}function submitForm(es){let ki=submitButtonsByForm.get(es)||findElement(es,"input[type=submit], button[type=submit]");if(ki){const{disabled:Ri}=ki;ki.disabled=!1,ki.focus(),ki.click(),ki.disabled=Ri}else ki=document.createElement("input"),ki.type="submit",ki.style.display="none",es.appendChild(ki),ki.click(),es.removeChild(ki);submitButtonsByForm.delete(es)}function disable(es){es.disabled=!0}function enable(es){es.disabled=!1}function autostart(){window.ActiveStorage&&start()}setTimeout(autostart,1);class AttachmentUpload{constructor(ki,Ri){this.attachment=ki,this.element=Ri,this.directUpload=new DirectUpload(ki.file,this.directUploadUrl,this)}start(){this.directUpload.create(this.directUploadDidComplete.bind(this))}directUploadWillStoreFileWithXHR(ki){ki.upload.addEventListener("progress",Ri=>{const ts=Ri.loaded/Ri.total*100;this.attachment.setUploadProgress(ts)})}directUploadDidComplete(ki,Ri){if(ki)throw new Error(`Direct upload failed: ${ki}`);this.attachment.setAttributes({sgid:Ri.attachable_sgid,url:this.createBlobUrl(Ri.signed_id,Ri.filename)})}createBlobUrl(ki,Ri){return this.blobUrlTemplate.replace(":signed_id",ki).replace(":filename",encodeURIComponent(Ri))}get directUploadUrl(){return this.element.dataset.directUploadUrl}get blobUrlTemplate(){return this.element.dataset.blobUrlTemplate}}addEventListener("trix-attachment-add",es=>{const{attachment:ki,target:Ri}=es;ki.file&&new AttachmentUpload(ki,Ri).start()});start$4();window.addEventListener("DOMContentLoaded",()=>{window.bootstrap=bootstrap});document.addEventListener("turbo:before-stream-render",es=>{let{action:ki}=es.target;if(["remove","replace"].includes(ki)){let Ri=document.getElementById(es.target.target);if(!Ri)return console.error("Could not find target element for TurboStream action",es.target.target);let ts=Ri.dataset.animateOut?Ri:Ri.querySelector("[data-animate-out]");ts&&(es.preventDefault(),ts.classList.add("animated"),ts.classList.add(ts.dataset.animateOut),ts.addEventListener("animationend",()=>{ki==="remove"?Ri.remove():ki==="replace"&&es.detail.render(es.detail.newStream)}))}});document.addEventListener("turbo:submit-end",es=>{var ki,Ri,ts;(ki=es.detail.fetchResponse)!=null&&ki.redirected&&((ts=(Ri=es.detail.fetchResponse)==null?void 0:Ri.response)!=null&&ts.url)&&window.location.replace(es.detail.fetchResponse.response.url)});export{_typeof as _,commonjsGlobal as c,getDefaultExportFromCjs as g,requireHtml2canvas as r};
//# sourceMappingURL=app-client-CGz9b0h8.js.map
