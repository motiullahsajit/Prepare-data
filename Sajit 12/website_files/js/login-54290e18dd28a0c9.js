(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{545:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(9697)}])},1690:function(e,t,r){"use strict";r.d(t,{h:function(){return s}});var n=r(5893);r(7294);let s=e=>{let{header:t,teaser:r,children:s}=e;return(0,n.jsx)("div",{className:"form-section",children:(0,n.jsx)("div",{className:"content-container",children:(0,n.jsxs)("div",{className:"form-wrapper w-form",children:[(0,n.jsx)("h1",{className:"form-header",children:t}),(0,n.jsx)("p",{className:"form-teaser",children:r}),(0,n.jsx)("div",{className:"form",children:s})]})})})}},9030:function(e,t,r){"use strict";r.d(t,{c:function(){return u}});var n=r(5893);r(7294);var s=r(9008),a=r.n(s);let u=e=>{let{title:t}=e;return(0,n.jsxs)(a(),{children:[(0,n.jsx)("title",{children:t}),(0,n.jsx)("meta",{content:t,property:"og:title"}),(0,n.jsx)("meta",{content:"Watch Investory instead of TV shows - "+t,name:"description"}),(0,n.jsx)("meta",{content:"Watch Investory instead of TV shows - "+t,property:"og:description"}),(0,n.jsx)("meta",{content:"/images/investory-opengraph.jpg",property:"og:image"}),(0,n.jsx)("meta",{content:"website",property:"og:type"})]})}},8523:function(e,t,r){"use strict";r.d(t,{U:function(){return u}});var n=r(5893),s=r(7294),a=r(3638);let u=e=>{let t=(0,s.useContext)(a.q),r=e=>{"Enter"===e.key&&t.onSubmit&&(e.preventDefault(),t.onSubmit())};return(0,n.jsx)("input",{className:"input w-input",type:"email",onKeyDown:r,...e})}},9603:function(e,t,r){"use strict";r.d(t,{l:function(){return o}});var n=r(5893),s=r(7294),a=r(5947),u=r(3638),i=r(5586);let o=e=>{let{children:t,checkHandler:r,submitHandler:o}=e,{handleServerError:l}=(0,i.n)(),[c,d]=(0,s.useState)(!1),[f,m]=(0,s.useState)(null),h=async()=>{if(c)return;m(null);let e=r&&r();if(e){m(e);return}d(!0);try{o&&await o(),d(!1)}catch(n){let{message:t}=l(n);m(t),d(!1)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.X,{errorMessage:f}),(0,n.jsx)(u.R,{onSubmit:h,submitted:c,children:t})]})}},5947:function(e,t,r){"use strict";r.d(t,{X:function(){return s}});var n=r(5893);r(7294);let s=e=>(0,n.jsx)(n.Fragment,{children:e.errorMessage&&(0,n.jsx)("div",{className:"w-form-fail",children:(0,n.jsx)("div",{children:e.errorMessage})})})},3638:function(e,t,r){"use strict";r.d(t,{R:function(){return u},q:function(){return a}});var n=r(5893),s=r(7294);let a=(0,s.createContext)({}),u=e=>{let{children:t,...r}=e;return(0,n.jsx)(a.Provider,{value:r,children:t})}},8605:function(e,t,r){"use strict";r.d(t,{_:function(){return s}});var n=r(5893);r(7294);let s=e=>(0,n.jsxs)("label",{className:"label",htmlFor:e.for,title:e.title,"aria-labelledby":e.for,"aria-label":e.title,children:[e.title,e.children]})},787:function(e,t,r){"use strict";r.d(t,{W:function(){return u}});var n=r(5893),s=r(7294),a=r(3638);let u=e=>{let t=(0,s.useContext)(a.q),r=e=>{"Enter"===e.key&&t.onSubmit&&(e.preventDefault(),t.onSubmit())};return(0,n.jsx)("input",{className:"input w-input",type:"password",onKeyDown:r,...e})}},2682:function(e,t,r){"use strict";r.d(t,{M:function(){return u}});var n=r(5893),s=r(7294),a=r(3638);let u=e=>{let t=(0,s.useContext)(a.q),r=async()=>{await t.onSubmit()};return(0,n.jsx)("input",{className:"form-button w-button"+(t.submitted?" disabled":""),type:"submit",onClick:r,...e})}},4941:function(e,t,r){"use strict";r.d(t,{FZ:function(){return n},Mh:function(){return a},oP:function(){return s},p6:function(){return u}});let n=()=>window.location.pathname+window.location.search,s=e=>/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e),a=e=>{let t=[];for(let[r,n]of Object.entries(e))""===n&&t.push(r);return t},u=(e,t)=>{if(!e)return"";let r=new Date(e),n=t("month_genitive_"+(r.getMonth()+1));return r.getDate()+" "+n+" "+r.getFullYear()}},5586:function(e,t,r){"use strict";r.d(t,{n:function(){return o}});var n=r(7294),s=r(6125),a=r(4941),u=r(2530),i=r(9332);let o=()=>{let e=(0,i.useRouter)(),t=(0,n.useContext)(u.V),{t:r}=(0,s.$G)(),o=e=>{switch(e){case"USER_EXISTS_ALREADY":return r("error_email_busy");case"USER_NOT_FOUND":return r("error_wrong_credentials");case"EMAIL_NOT_FOUND":return r("error_email_not_found");case"INVALID_TOKEN":return r("error_outdated_link");default:return r("error_unexpected")}},l=r=>{let{response:n}=r;if(!n)return console.error(r),{status:null,message:o("UNEXPECTED_ERROR")};switch(n.status){case 302:return e.replace(n.data.url),{status:n.status,message:null};case 401:return t.logout(),e.replace("/login?from="+(0,a.FZ)()),{status:n.status,message:null};case 404:return{status:n.status,message:null};default:return{status:null,message:o(n.data.code||"UNEXPECTED_ERROR")}}};return{handleServerError:l}}},9697:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var n=r(5893),s=r(7294),a=r(6125),u=r(1664),i=r.n(u),o=r(9332),l=r(1163),c=r(4470),d=r(2530),f=r(9030),m=r(1690),h=r(8523),x=r(787),p=r(2682),g=r(8605),j=r(9603),_=r(4941);function w(){let e=(0,o.useRouter)(),t=(0,l.useRouter)(),{t:r}=(0,a.$G)(),u=(0,s.useContext)(d.V),w=t.query.from||"/",[v,b]=(0,s.useState)(""),[N,y]=(0,s.useState)("");(0,s.useEffect)(()=>{u.user&&e.replace(w)},[u]);let E=()=>{e.push("/signup")},C=()=>{let e=(0,_.Mh)({email:v,password:N});return e.length>0?r("error_required_fields").replace("%s",e.map(e=>r(e+".field")).join(", ")):null},R=async()=>{let t=await c.Z.login({email:v,password:N});u.login(t),e.replace(w)};return u.user?(0,n.jsx)(n.Fragment,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.c,{title:r("sign.in")+" - "+r("investory")}),(0,n.jsx)(m.h,{header:r("welcome.back"),teaser:r("sign.in.teaser"),children:(0,n.jsxs)(j.l,{checkHandler:C,submitHandler:R,children:[(0,n.jsx)(g._,{for:"email",title:r("email.field")}),(0,n.jsx)(h.U,{id:"email",autoFocus:!0,maxLength:"256",required:"required",onChange:e=>b(e.target.value)}),(0,n.jsx)(g._,{for:"password",title:r("password.field")}),(0,n.jsx)(x.W,{id:"password",maxLength:"256",required:"required",onChange:e=>y(e.target.value)}),(0,n.jsx)(p.M,{value:r("sign.in.button")}),(0,n.jsxs)("div",{className:"form-subtext",children:[r("not.with.us"),"\xa0",(0,n.jsx)("a",{onClick:E,className:"form-subtext-link",children:r("subscribe.now")})]}),(0,n.jsxs)("div",{className:"form-subtext",children:[r("cant.sign.in"),"\xa0",(0,n.jsx)(i(),{href:"/password-reset",className:"form-subtext-link",children:r("reset.password")})]})]})})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=545)}),_N_E=e.O()}]);