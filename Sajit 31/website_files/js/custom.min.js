window.themeCustom={},theme.productFilters.on("changeFilters",function(){var e=theme.triggeredContent.instances;if(e&&!(e.length<=0))for(var t=0;t<e.length;++t)e[t].hide()}),window.themeCustom.universalSwipersPlugin={instances:[],init:function(){for(var e,t=document.querySelectorAll(".swiper[data-universal-swiper-settings]"),s=0;s<t.length;++s)t[s].dataset.universalSwiperSettings&&(e=this.instantiate(t[s]))&&this.instances.push(e)},instantiate:function(t){return{els:{root:null},swiper:null,init:function(){var e=t.dataset.universalSwiperSettings,e=JSON.parse(e.replace(/\\"/g,'"'));return this.els.root=t,this.swiper=new Swiper(t,e),this}}.init()}},document.querySelector(".player-swiper.swiper")&&new Swiper(".player-swiper.swiper",{slidesPerView:2,slidesPerGroup:2,spaceBetween:32,loop:!0,breakpoints:{768:{slidesPerView:4,slidesPerGroup:4},1200:{slidesPerView:6,slidesPerGroup:6,speed:900}},navigation:{prevEl:".player-swiper-prev",nextEl:".player-swiper-next"}}),function(){var s,r,e,i,n=document.querySelector(".perc-saved");!n||!(s=n.querySelector(".perc-saved-value"))||theme.orderForms.getFormsOfType("main").length<=0||(r=s.parentNode,e=theme.orderForms.getFormsOfType("main")[0],i=0,e.on("changeProdId",function(e){var t=parseFloat(e.totalPrice),e=parseFloat(e.rrp);i=!e||e<=0||e<=t?0:(e-t)/e*100,i=Math.round(i),s.dataset.value=i,r.removeChild(s),r.appendChild(s),i<4?n.classList.add("force-hide"):n.classList.remove("force-hide")}))}(),window.themeCustom.stringUpgradesPlugin={instances:[],settings:{freeStrings:!1,brandId:0,currencyString:"",stringsProdId:null,presetStringsProdId:null},init:function(e){this.settings=theme.utilities.extend(this.settings,e);for(var t=theme.orderForms.getFormsOfType("main"),s=0;s<t.length;++s){var r=this.instantiate(t[s]);r&&this.instances.push(r)}return this},instantiate:function(e){return{mainOrderFormInstance:null,els:{formEl:null,typeSelect:null,typeWrappers:null,stringUpgradeWrap:null,stringUpgradeSelects:null,stencilUpgradeWrap:null,stencilProdIdSelect:null,stencilOptionsWrap:null,stencilOptionSelects:null},hasFetchedStrings:!1,hasFetchedPresetStrings:!1,init:function(e){var t=this;if(t.mainOrderFormInstance=e,t.els.formEl=e.els.formEl,t.els.stringUpgradeWrap=t.els.formEl.querySelector(".string-upgrade-wrap"),t.els.stringUpgradeSelects=t.els.formEl.querySelectorAll('select[name="stringUpgradeProdId"]'),t.els.typeSelect=t.els.formEl.querySelector("select[name=stringUpgradeType]"),t.els.stencilUpgradeWrap=t.els.formEl.querySelector(".stencil-upgrade-wrap"),t.els.stencilProdIdSelect=t.els.formEl.querySelector("select[name=stencilUpgradeProdId]"),t.els.stencilOptionsWrap=t.els.formEl.querySelector(".stencil-product-options"),t.els.stencilOptionSelects=t.els.formEl.querySelectorAll("select[data-stencil-upgrade-option-id]"),t.els.typeSelect)return t.els.typeWrappers=t.els.formEl.querySelectorAll("[data-string-upgrade-type]"),t.initHandlers(),t;console.warn("No string upgrades found for form",formEl)},initHandlers:function(){var a=this;a.els.typeSelect.addEventListener("change",function(){a.handleChangeType()});for(var e=0;e<a.els.stringUpgradeSelects.length;++e)a.els.stringUpgradeSelects[e].addEventListener("change",function(){for(var e=!1,t=0;t<a.els.stringUpgradeSelects.length&&!(e=-1!==a.els.stringUpgradeSelects[t].options[a.els.stringUpgradeSelects[t].selectedIndex].innerHTML.toLowerCase().indexOf("- black"));++t);e?a.hideStencilUpgrades():a.showStencilUpgrades()});a.els.stencilProdIdSelect&&a.els.stencilProdIdSelect.addEventListener("change",function(){a.handleChangeStencilProdId()}),a.mainOrderFormInstance.on("beforeAddToBasket",function(e){a.mainOrderFormInstance.removeSubItemsByKey("stringUpgrades");var t=a.getSelectedType(),s=a.getTypeWrapper(t);if(t&&"none"!=t&&s){for(var r=s.querySelectorAll(".stringing-product-fields"),i=null,n=0;n<r.length;++n){for(var l=r[n].querySelector('select[name="stringUpgradeProdId"]'),o=r[n].querySelectorAll("select[data-string-upgrade-option-id]"),i={key:"stringUpgrades",prod_id:l.value,order_qty:parseInt(a.mainOrderFormInstance.els.qtyEl.value),user_text:"",options:[]},d=0;d<o.length;++d)i.options.push({shop_option_id:o[d].dataset.stringUpgradeOptionId,shop_option_value_id:o[d].value});a.mainOrderFormInstance.addSubItem(i)}if(a.mainOrderFormInstance.removeSubItemsByKey("stencilUpgrades"),i=null,a.els.stencilProdIdSelect&&a.els.stencilProdIdSelect.value){i={key:"stencilUpgrades",prod_id:a.els.stencilProdIdSelect.value,order_qty:parseInt(a.mainOrderFormInstance.els.qtyEl.value),user_text:"",options:[]};for(n=0;n<a.els.stencilOptionSelects.length;++n)i.options.push({shop_option_id:a.els.stencilOptionSelects[n].dataset.stencilUpgradeOptionId,shop_option_value_id:a.els.stencilOptionSelects[n].value});a.mainOrderFormInstance.addSubItem(i)}}})},fetchStrings:function(e,r){var t;e&&(-1===(t=["full","custom","preset"]).indexOf(e)?console.error("fetchStrings was called, but an invalid type was given. Valid types are "+t.join(", ")+"."):(t=0,-1!=["full","custom"].indexOf(e)?t=window.themeCustom.stringUpgradesPlugin.settings.stringsProdId:"preset"==e&&(t=window.themeCustom.stringUpgradesPlugin.settings.presetStringsProdId),fetch("/ajax/?action=get-product-data",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:new URLSearchParams({prod_id:t.toString()}).toString()}).then(function(e){return e.text()}).then(function(e){if((e=JSON.parse(e))&&e.full_product_data&&e.full_product_data.multis){for(var t=[],s=0;s<e.full_product_data.multis.length;++s)1!=e.full_product_data.multis[s].outofstock&&t.push({prod_id:e.full_product_data.multis[s].prod_id,name:e.full_product_data.multis[s].product_name.replace("Stringing Upgrade - ",""),price:e.full_product_data.multis[s].product_price,vat:e.full_product_data.multis[s].vat,rrp:e.full_product_data.multis[s].rrp,brand_id:e.full_product_data.multis[s].brand_id.toString()});window.themeCustom.stringUpgradesPlugin.settings.brandId&&0<window.themeCustom.stringUpgradesPlugin.settings.brandId.toString().length&&t.sort(function(e,t){var s=window.themeCustom.stringUpgradesPlugin.settings.brandId.toString();return e.brand_id||t.brand_id?e.brand_id?!t.brand_id||e.brand_id===s?-1:t.brand_id===s?1:0:1:0}),"function"==typeof r&&r({strings:t})}})))},fetchStringsAndUpdateProdIdSelects:function(d){var a=this;this.fetchStrings(d,function(e){if(e&&e.strings){-1!=["full","custom"].indexOf(d)?a.hasFetchedStrings=!0:-1!=["preset"].indexOf(d)&&(a.hasFetchedPresetStrings=!0);var t=[],s=null,r=null;if(-1!=["full","custom"].indexOf(d)){if((s=a.getTypeWrapper("full"))&&0<(r=s.querySelectorAll('select[name="stringUpgradeProdId"]')).length)for(var i=0;i<r.length;++i)t.push(r[i]);if((s=a.getTypeWrapper("custom"))&&0<(r=s.querySelectorAll('select[name="stringUpgradeProdId"]')).length)for(i=0;i<r.length;++i)t.push(r[i])}else if(-1!=["preset"].indexOf(d)&&(s=a.getTypeWrapper("preset"))&&0<(r=s.querySelectorAll('select[name="stringUpgradeProdId"]')).length)for(i=0;i<r.length;++i)t.push(r[i]);for(var n=null,i=0;i<t.length;++i)for(var l=t[i].querySelector('optgroup[data-type="all"]'),o=0;o<e.strings.length;++o)(n=document.createElement("option")).value=e.strings[o].prod_id,window.themeCustom.stringUpgradesPlugin.settings.freeStrings?n.innerHTML="[FREE] "+e.strings[o].name:n.innerHTML="[+"+(e.strings[o].price?window.themeCustom.stringUpgradesPlugin.settings.currencyString+e.strings[o].price:"FREE")+"] "+e.strings[o].name,theme.utilities.append(n,l||t[i])}})},handleChangeType:function(){this.mainOrderFormInstance.removeSubItemsByKey("stringUpgrades"),this.mainOrderFormInstance.removeSubItemsByKey("stencilUpgrades"),this.hideTypeWrappers(),this.showTypeWrapper(this.getSelectedType()),(-1!=["full","custom"].indexOf(this.getSelectedType())&&!this.hasFetchedStrings||-1!=["preset"].indexOf(this.getSelectedType())&&!this.hasFetchedPresetStrings)&&this.fetchStringsAndUpdateProdIdSelects(this.getSelectedType()),this.els.stencilUpgradeWrap&&("none"!=this.els.typeSelect.value&&""!=this.els.typeSelect.value?this.showStencilUpgrades():this.hideStencilUpgrades()),this.resetShimmerClasses()},getSelectedType:function(){return this.els.typeSelect.value},getTypeWrapper:function(e){for(var t=0;t<this.els.typeWrappers.length;++t)if(this.els.typeWrappers[t].dataset.stringUpgradeType==e)return this.els.typeWrappers[t]},hideTypeWrappers:function(){for(var e=null,t=0;t<this.els.typeWrappers.length;++t){for(var e=this.els.typeWrappers[t].querySelectorAll("select"),s=0;s<e.length;++s)e[s].required=!1;this.els.typeWrappers[t].classList.add("force-hide")}},showTypeWrapper:function(e){var e=this.getTypeWrapper(e),t=null;if(e){for(var t=e.querySelectorAll("select"),s=0;s<t.length;++s)t[s].required=!0;e.classList.remove("force-hide")}},resetShimmerClasses:function(){this.els.stringUpgradeWrap&&this.els.stringUpgradeWrap.classList.remove("shimmer"),this.els.stencilUpgradeWrap&&this.els.stencilUpgradeWrap.classList.remove("shimmer")},hideStencilUpgrades:function(){this.els.stencilUpgradeWrap.classList.add("force-hide"),this.resetStencilProdIdSelect(),this.resetStencilOptionSelects(),this.hideStencilOptions(),this.setStencilOptionSelectsRequired(!1)},showStencilUpgrades:function(){this.els.stencilUpgradeWrap.classList.remove("force-hide")},hideStencilOptions:function(){this.els.stencilOptionsWrap.classList.add("force-hide")},showStencilOptions:function(){this.els.stencilOptionsWrap.classList.remove("force-hide"),this.setStencilOptionSelectsRequired(!0)},resetStencilProdIdSelect:function(){this.els.stencilProdIdSelect.selectedIndex=0},resetStencilOptionSelects:function(){for(var e=0;e<this.els.stencilOptionSelects.length;++e)this.els.stencilOptionSelects[e].selectedIndex=0},setStencilOptionSelectsRequired:function(e){for(var t=0;t<this.els.stencilOptionSelects.length;++t)this.els.stencilOptionSelects[t].required=e},handleChangeStencilProdId:function(){this.els.stencilProdIdSelect.value?(this.showStencilOptions(),this.setStencilOptionSelectsRequired(!0)):(this.hideStencilOptions(),this.setStencilOptionSelectsRequired(!1))}}.init(e)}},document.querySelector(".top10-swiper.swiper")&&new Swiper(".top10-swiper.swiper",{slidesPerView:1.4,slidesPerGroup:1,spaceBetween:0,loop:!1,breakpoints:{650:{slidesPerView:2.4,slidesPerGroup:2},850:{slidesPerView:3.4,slidesPerGroup:3},1100:{slidesPerView:4.4,slidesPerGroup:4},1300:{slidesPerView:5.4,slidesPerGroup:5}}}),document.querySelector(".newer-products-swiper.swiper")&&new Swiper(".newer-products-swiper.swiper",{slidesPerView:1.1,slidesPerGroup:1,spaceBetween:8,loop:!1,centerInsufficientSlides:!0,breakpoints:{768:{slidesPerView:2.2,slidesPerGroup:2}}}),document.querySelector(".featured-collection-swiper.swiper")&&new Swiper(".featured-collection-swiper.swiper",{slidesPerView:1.15,slidesPerGroup:1,spaceBetween:8,loop:!1,breakpoints:{768:{slidesPerView:2.2,slidesPerGroup:2},980:{slidesPerView:4.15,slidesPerGroup:4},1200:{spaceBetween:32,slidesPerView:4.15,slidesPerGroup:4,centerInsufficientSlides:!0}}}),function(){for(var e=document.querySelectorAll('[class^="department-swiper-"]'),t=0;t<e.length;++t)new Swiper(".department-swiper-"+t+".swiper",{slidesPerView:3,slidesPerGroup:3,spaceBetween:8,loop:!1,breakpoints:{500:{slidesPerView:3,slidesPerGroup:3},980:{slidesPerView:4,slidesPerGroup:4},1200:{slidesPerView:4,slidesPerGroup:4}}})}(),function(){function e(e,t){e&&e.autoplay&&(e.params.slidesPerView>=t.length?e.autoplay.stop():e.autoplay.start(),e.slideToLoop(0,1),e.update())}var t,s,r=document.querySelector(".brands-swiper.swiper");r&&(t=r.querySelectorAll(".swiper-slide"),s=new Swiper(".brands-swiper.swiper",{slidesPerView:3,slidesPerGroup:1,spaceBetween:8,loop:5<t.length,centerInsufficientSlides:!0,autoplay:!(t.length<=3)&&{delay:3e3},breakpoints:{768:{slidesPerView:5,slidesPerGroup:1},980:{slidesPerView:7,slidesPerGroup:1},1200:{slidesPerView:7,slidesPerGroup:1}}}),e(s,t),s.on("breakpoint",function(){e(s,t)}))}(),document.querySelector(".stores-swiper.swiper")&&new Swiper(".stores-swiper.swiper",{slidesPerView:2,slidesPerGroup:2,centerInsufficientSlides:!0,spaceBetween:8,loop:!1,autoplay:{delay:3e3},breakpoints:{768:{slidesPerView:5,slidesPerGroup:5},980:{slidesPerView:7,slidesPerGroup:7},1200:{slidesPerView:7,slidesPerGroup:7}}}),document.querySelector(".guides-swiper.swiper")&&new Swiper(".guides-swiper.swiper",{slidesPerView:2.2,slidesPerGroup:2,spaceBetween:8,loop:!1,breakpoints:{768:{slidesPerView:4,slidesPerGroup:4},980:{slidesPerView:4,slidesPerGroup:4,spaceBetween:16},1200:{slidesPerView:4,slidesPerGroup:4,spaceBetween:32}}}),window.themeCustom.homepageDesktopFullScreenPromotionsPlugin={settings:{scrollYThreshold:100},els:{headerWrap:null},scrollTimeout:null,init:function(){var t=this;return t.els.headerWrap=document.querySelector("#main-header-desktop"),document.addEventListener("scroll",function(e){clearTimeout(t.scrollTimeout),t.scrollTimeout=setTimeout(function(){t.onScroll(window.scrollY)},100)}),t.els.headerWrap.addEventListener("mouseenter",function(){t.els.headerWrap.classList.add("hover")}),t.els.headerWrap.addEventListener("mouseleave",function(){t.els.headerWrap.classList.remove("hover")}),t.onScroll(window.scrollY),this},onScroll:function(e){(e=e&&!isNaN(e)?e:0)>=this.settings.scrollYThreshold?this.els.headerWrap.classList.add("scroll-threshold-met"):this.els.headerWrap.classList.remove("scroll-threshold-met")}},window.themeCustom.trustPilotLoader={intersectionObserver:null,scriptLoaded:!1,init:function(){var e=document.querySelectorAll(".trustpilot-widget");if(e&&!(e.length<=0)){this.intersectionObserver=new IntersectionObserver(this.observerCallback,{rootMargin:"0px",threshold:.1});for(var t=0;t<e.length;++t)this.intersectionObserver.observe(e[t])}},observerCallback:function(e,t){for(var s=0;s<e.length;++s)if(e[s].isIntersecting){if(this.scriptLoaded)return;theme.utilities.loadScript("https://widget.trustpilot.com/bootstrap/v5/tp.widget.bootstrap.min.js"),this.scriptLoaded=!0}}},window.themeCustom.headerDesktopAnimatedPadding={settings:{scrollYThreshold:100},els:{headerWrap:null},scrollTimeout:null,init:function(){var t=this;return t.els.headerWrap=document.querySelector("#main-header-desktop"),document.addEventListener("scroll",function(e){clearTimeout(t.scrollTimeout),t.scrollTimeout=setTimeout(function(){t.onScroll(window.scrollY)},100)}),t.onScroll(window.scrollY),this},onScroll:function(e){(e=e&&!isNaN(e)?e:0)>=this.settings.scrollYThreshold?this.els.headerWrap.classList.add("scroll-threshold-met"):this.els.headerWrap.classList.remove("scroll-threshold-met")}},function(){for(var e=document.querySelectorAll('[class^="right-swiper"]'),t=0;t<e.length;++t)new Swiper(".right-swiper",{slidesPerView:1,slidesPerGroup:1,spaceBetween:8,loop:!0,autoplay:{delay:6e3}})}(),function(){for(var e=document.querySelectorAll('[class^="secondary-department-swiper-"]'),t=0;t<e.length;++t)new Swiper(".secondary-department-swiper-"+t+".swiper",{slidesPerView:2,slidesPerGroup:2,spaceBetween:8,loop:!1})}(),window.themeCustom.demoProductPlugin={settings:{requireStringUpgrade:!0,demoProdId:0},els:{select:null,qtyEl:null,confirmationPopup:null,buttonDemo:null,buttonNew:null,stringUpgradeTypeEl:null},formInstance:null,popupInstance:null,stringUpgradeTypeCachedInitialOptionText:null,init:function(e){var t=this;if(e&&(this.settings=theme.utilities.extend(this.settings,e)),this.formInstance=theme.orderForms.getFormsOfType("main")[0],this.formInstance){if(this.popupInstance=theme.genericContentPopup.getInstanceByRootEl(document.querySelector(".demo-confirmation-popup.generic-content-popup")),this.popupInstance)return this.els.select=document.querySelector('select[name="newOrDemo"]'),this.els.qtyEl=this.formInstance.els.qtyEl,this.els.confirmationPopup=this.popupInstance.els.rootEl,this.els.buttonDemo=this.els.confirmationPopup.querySelector("button#demo"),this.els.buttonNew=this.els.confirmationPopup.querySelector("button#new"),this.els.stringUpgradeTypeEl=this.formInstance.els.formEl.querySelector('select[name="stringUpgradeType"]'),this.els.stringUpgradeTypeEl&&(this.stringUpgradeTypeCachedInitialOptionText=this.els.stringUpgradeTypeEl.options[0].innerHTML),this.els.select.addEventListener("change",function(){t.handleChangeSelect()}),this.els.buttonDemo.addEventListener("click",function(){t.handleClickDemo()}),this.els.buttonNew.addEventListener("click",function(){t.handleSelectNew()}),this;console.warn("could not complete initialisation of demoProductPopup because no generic content popup instance could be found.")}else console.warn("could not complete initialisation of demoProductPopup because no form instance could be found.")},handleChangeSelect:function(){"demo"==this.els.select.value?this.handleSelectDemo():this.handleSelectNew()},handleSelectDemo:function(){this.els.qtyEl.value=1,this.els.qtyEl.readOnly=!0,this.showPopup(),this.addDemoSubItem(),this.settings.requireStringUpgrade&&this.els.stringUpgradeTypeEl&&(this.els.stringUpgradeTypeEl.required=!0,this.els.stringUpgradeTypeEl.options[0].innerHTML="Please select")},handleSelectNew:function(){this.els.qtyEl.readOnly=!1,this.els.select.selectedIndex=0,this.els.stringUpgradeTypeEl&&(this.stringUpgradeTypeCachedInitialOptionText,this.els.stringUpgradeTypeEl.required=!1),this.removeDemoSubItem(),this.hidePopup()},handleClickDemo:function(){this.hidePopup()},showPopup:function(){this.popupInstance.show()},hidePopup:function(){this.popupInstance.hide()},addDemoSubItem:function(){this.formInstance.addSubItem({key:"demoProduct",prod_id:this.settings.demoProdId,order_qty:1,user_text:"",options:[],sub_items:[]})},removeDemoSubItem:function(){this.formInstance.removeSubItemsByKey("demoProduct")}},window.themeCustom.countdownTimerPlugin={settings:{timestampNow:0,timestampHandling:0,showSecondsWhenHoursRemaining:-1},els:{root:null,deliveryDate:null,days:null,hours:null,minutes:null,seconds:null},deliveryTimer:null,init:function(e){var t=this;if(e&&(t.settings=theme.utilities.extend(t.settings,e)),t.initFindEls(),t.els.root)return t.deliveryTimer=theme.countdownTimers.createTimer(t.settings.timestampNow,t.settings.timestampHandling),t.deliveryTimer.on("start",function(e){t.els.root.classList.remove("force-hide"),t.renderCountdownTimer(e.time)}),t.deliveryTimer.on("tick",function(e){t.renderCountdownTimer(e.time)}),t.deliveryTimer.on("expire",function(e){}),t.deliveryTimer.start(),t},initFindEls:function(){this.els.root=document.querySelector(".delivery-timer"),this.els.root?(this.els.deliveryDate=this.els.root.querySelector(".delivery-timer-delivery-date"),this.els.days=this.els.root.querySelector(".delivery-timer-days"),this.els.hours=this.els.root.querySelector(".delivery-timer-hours"),this.els.minutes=this.els.root.querySelector(".delivery-timer-minutes"),this.els.seconds=this.els.root.querySelector(".delivery-timer-seconds")):console.warn("no root element with class .delivery-timer was found.")},renderCountdownTimer:function(e){e.total<=0?this.els.root.classList.add("force-hide"):this.els.root.classList.remove("force-hide"),this.els.days&&this.els.hours&&this.els.minutes&&this.els.seconds&&(this.els.days.innerHTML=e.days+" day"+(1!=e.days?"s":""),this.els.hours.innerHTML=e.hours+" hour"+(1!=e.hours?"s":""),this.els.minutes.innerHTML=e.minutes+" minute"+(1!=e.minutes?"s":""),this.els.seconds.innerHTML=e.seconds+" second"+(1!=e.seconds?"s":""),e.days<=0?this.els.days.classList.add("force-hide"):this.els.days.classList.remove("force-hide"),e.hours<=0?this.els.hours.classList.add("force-hide"):this.els.hours.classList.remove("force-hide"),e.minutes<=0?this.els.minutes.classList.add("force-hide"):this.els.minutes.classList.remove("force-hide"),this.settings.showSecondsWhenHoursRemaining<=-1||0<e.days||e.hours>=this.settings.showSecondsWhenHoursRemaining?this.els.seconds.classList.add("force-hide"):this.els.seconds.classList.remove("force-hide"))}};